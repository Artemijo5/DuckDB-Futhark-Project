// Generated by Futhark 0.26.0 (prerelease - include info below when reporting bugs).
// git: 1de4f0c (Fri Jan 24 11:10:52 2025 +0100)
// Compiled with GHC 9.4.8.

// We need to define _GNU_SOURCE before
// _any_ headers files are imported to get
// the usage statistics of a thread (i.e. have RUSAGE_THREAD) on GNU/Linux
// https://manpages.courier-mta.org/htmlman2/getrusage.2.html
#ifndef _GNU_SOURCE // Avoid possible double-definition warning.
#define _GNU_SOURCE
#endif

#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wunused-const-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#pragma clang diagnostic ignored "-Wunused-but-set-variable"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wunused-const-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif

// Headers
#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation
struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg, const char *param_name, size_t new_value);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
void futhark_context_free(struct futhark_context *cfg);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag);
int futhark_get_tuning_param_count(void);
const char *futhark_get_tuning_param_name(int);
const char *futhark_get_tuning_param_class(int);

// Arrays
struct futhark_f32_1d;
struct futhark_f32_1d *futhark_new_f32_1d(struct futhark_context *ctx, const float *data, int64_t dim0);
struct futhark_f32_1d *futhark_new_raw_f32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
int futhark_values_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr, float *data);
int futhark_index_f32_1d(struct futhark_context *ctx, float *out, struct futhark_f32_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
const int64_t *futhark_shape_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
struct futhark_f64_1d;
struct futhark_f64_1d *futhark_new_f64_1d(struct futhark_context *ctx, const double *data, int64_t dim0);
struct futhark_f64_1d *futhark_new_raw_f64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
int futhark_values_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr, double *data);
int futhark_index_f64_1d(struct futhark_context *ctx, double *out, struct futhark_f64_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
const int64_t *futhark_shape_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
struct futhark_i16_1d;
struct futhark_i16_1d *futhark_new_i16_1d(struct futhark_context *ctx, const int16_t *data, int64_t dim0);
struct futhark_i16_1d *futhark_new_raw_i16_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr);
int futhark_values_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr, int16_t *data);
int futhark_index_i16_1d(struct futhark_context *ctx, int16_t *out, struct futhark_i16_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr);
const int64_t *futhark_shape_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr);
struct futhark_i32_1d;
struct futhark_i32_1d *futhark_new_i32_1d(struct futhark_context *ctx, const int32_t *data, int64_t dim0);
struct futhark_i32_1d *futhark_new_raw_i32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr);
int futhark_values_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr, int32_t *data);
int futhark_index_i32_1d(struct futhark_context *ctx, int32_t *out, struct futhark_i32_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr);
const int64_t *futhark_shape_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr);
struct futhark_i64_1d;
struct futhark_i64_1d *futhark_new_i64_1d(struct futhark_context *ctx, const int64_t *data, int64_t dim0);
struct futhark_i64_1d *futhark_new_raw_i64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
int futhark_values_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr, int64_t *data);
int futhark_index_i64_1d(struct futhark_context *ctx, int64_t *out, struct futhark_i64_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
const int64_t *futhark_shape_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
struct futhark_i8_1d;
struct futhark_i8_1d *futhark_new_i8_1d(struct futhark_context *ctx, const int8_t *data, int64_t dim0);
struct futhark_i8_1d *futhark_new_raw_i8_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr);
int futhark_values_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr, int8_t *data);
int futhark_index_i8_1d(struct futhark_context *ctx, int8_t *out, struct futhark_i8_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr);
const int64_t *futhark_shape_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr);

// Opaque values
struct futhark_opaque_mergeInfo_double;
struct futhark_opaque_mergeInfo_float;
struct futhark_opaque_mergeInfo_int;
struct futhark_opaque_mergeInfo_long;
struct futhark_opaque_mergeInfo_short;
struct futhark_opaque_mergeTup_double;
struct futhark_opaque_mergeTup_float;
struct futhark_opaque_mergeTup_int;
struct futhark_opaque_mergeTup_long;
struct futhark_opaque_mergeTup_short;
struct futhark_opaque_sortInfo_double;
struct futhark_opaque_sortInfo_float;
struct futhark_opaque_sortInfo_int;
struct futhark_opaque_sortInfo_long;
struct futhark_opaque_sortInfo_short;
int futhark_free_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double *obj);
int futhark_store_opaque_mergeInfo_double(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_double *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_double *futhark_restore_opaque_mergeInfo_double(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_double *obj);
int futhark_project_opaque_mergeInfo_double_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_double *obj);
int futhark_project_opaque_mergeInfo_double_vs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_mergeInfo_double *obj);
int futhark_new_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f64_1d *f_vs);
int futhark_free_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float *obj);
int futhark_store_opaque_mergeInfo_float(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_float *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_float *futhark_restore_opaque_mergeInfo_float(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_float *obj);
int futhark_project_opaque_mergeInfo_float_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_float *obj);
int futhark_project_opaque_mergeInfo_float_vs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_mergeInfo_float *obj);
int futhark_new_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f32_1d *f_vs);
int futhark_free_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int *obj);
int futhark_store_opaque_mergeInfo_int(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_int *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_int *futhark_restore_opaque_mergeInfo_int(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_int *obj);
int futhark_project_opaque_mergeInfo_int_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_int *obj);
int futhark_project_opaque_mergeInfo_int_vs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_mergeInfo_int *obj);
int futhark_new_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i32_1d *f_vs);
int futhark_free_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long *obj);
int futhark_store_opaque_mergeInfo_long(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_long *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_long *futhark_restore_opaque_mergeInfo_long(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj);
int futhark_project_opaque_mergeInfo_long_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_long *obj);
int futhark_project_opaque_mergeInfo_long_vs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj);
int futhark_new_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i64_1d *f_vs);
int futhark_free_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short *obj);
int futhark_store_opaque_mergeInfo_short(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_short *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_short *futhark_restore_opaque_mergeInfo_short(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_short *obj);
int futhark_project_opaque_mergeInfo_short_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_short *obj);
int futhark_project_opaque_mergeInfo_short_vs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_mergeInfo_short *obj);
int futhark_new_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i16_1d *f_vs);
int futhark_free_opaque_mergeTup_double(struct futhark_context *ctx, struct futhark_opaque_mergeTup_double *obj);
int futhark_store_opaque_mergeTup_double(struct futhark_context *ctx, const struct futhark_opaque_mergeTup_double *obj, void **p, size_t *n);
struct futhark_opaque_mergeTup_double *futhark_restore_opaque_mergeTup_double(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeTup_double_cs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_double *obj);
int futhark_project_opaque_mergeTup_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_double *obj);
int futhark_project_opaque_mergeTup_double_xs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_mergeTup_double *obj);
int futhark_new_opaque_mergeTup_double(struct futhark_context *ctx, struct futhark_opaque_mergeTup_double **out, const struct futhark_i64_1d *f_cs, const struct futhark_i64_1d *f_is, const struct futhark_f64_1d *f_xs);
int futhark_free_opaque_mergeTup_float(struct futhark_context *ctx, struct futhark_opaque_mergeTup_float *obj);
int futhark_store_opaque_mergeTup_float(struct futhark_context *ctx, const struct futhark_opaque_mergeTup_float *obj, void **p, size_t *n);
struct futhark_opaque_mergeTup_float *futhark_restore_opaque_mergeTup_float(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeTup_float_cs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_float *obj);
int futhark_project_opaque_mergeTup_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_float *obj);
int futhark_project_opaque_mergeTup_float_xs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_mergeTup_float *obj);
int futhark_new_opaque_mergeTup_float(struct futhark_context *ctx, struct futhark_opaque_mergeTup_float **out, const struct futhark_i64_1d *f_cs, const struct futhark_i64_1d *f_is, const struct futhark_f32_1d *f_xs);
int futhark_free_opaque_mergeTup_int(struct futhark_context *ctx, struct futhark_opaque_mergeTup_int *obj);
int futhark_store_opaque_mergeTup_int(struct futhark_context *ctx, const struct futhark_opaque_mergeTup_int *obj, void **p, size_t *n);
struct futhark_opaque_mergeTup_int *futhark_restore_opaque_mergeTup_int(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeTup_int_cs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_int *obj);
int futhark_project_opaque_mergeTup_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_int *obj);
int futhark_project_opaque_mergeTup_int_xs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_mergeTup_int *obj);
int futhark_new_opaque_mergeTup_int(struct futhark_context *ctx, struct futhark_opaque_mergeTup_int **out, const struct futhark_i64_1d *f_cs, const struct futhark_i64_1d *f_is, const struct futhark_i32_1d *f_xs);
int futhark_free_opaque_mergeTup_long(struct futhark_context *ctx, struct futhark_opaque_mergeTup_long *obj);
int futhark_store_opaque_mergeTup_long(struct futhark_context *ctx, const struct futhark_opaque_mergeTup_long *obj, void **p, size_t *n);
struct futhark_opaque_mergeTup_long *futhark_restore_opaque_mergeTup_long(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeTup_long_cs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_long *obj);
int futhark_project_opaque_mergeTup_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_long *obj);
int futhark_project_opaque_mergeTup_long_xs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_long *obj);
int futhark_new_opaque_mergeTup_long(struct futhark_context *ctx, struct futhark_opaque_mergeTup_long **out, const struct futhark_i64_1d *f_cs, const struct futhark_i64_1d *f_is, const struct futhark_i64_1d *f_xs);
int futhark_free_opaque_mergeTup_short(struct futhark_context *ctx, struct futhark_opaque_mergeTup_short *obj);
int futhark_store_opaque_mergeTup_short(struct futhark_context *ctx, const struct futhark_opaque_mergeTup_short *obj, void **p, size_t *n);
struct futhark_opaque_mergeTup_short *futhark_restore_opaque_mergeTup_short(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeTup_short_cs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_short *obj);
int futhark_project_opaque_mergeTup_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_short *obj);
int futhark_project_opaque_mergeTup_short_xs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_mergeTup_short *obj);
int futhark_new_opaque_mergeTup_short(struct futhark_context *ctx, struct futhark_opaque_mergeTup_short **out, const struct futhark_i64_1d *f_cs, const struct futhark_i64_1d *f_is, const struct futhark_i16_1d *f_xs);
int futhark_free_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double *obj);
int futhark_store_opaque_sortInfo_double(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_double *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_double *futhark_restore_opaque_sortInfo_double(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_double *obj);
int futhark_project_opaque_sortInfo_double_xs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_sortInfo_double *obj);
int futhark_new_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_f64_1d *f_xs);
int futhark_free_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float *obj);
int futhark_store_opaque_sortInfo_float(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_float *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_float *futhark_restore_opaque_sortInfo_float(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_float *obj);
int futhark_project_opaque_sortInfo_float_xs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_sortInfo_float *obj);
int futhark_new_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_f32_1d *f_xs);
int futhark_free_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int *obj);
int futhark_store_opaque_sortInfo_int(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_int *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_int *futhark_restore_opaque_sortInfo_int(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_int *obj);
int futhark_project_opaque_sortInfo_int_xs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_sortInfo_int *obj);
int futhark_new_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i32_1d *f_xs);
int futhark_free_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long *obj);
int futhark_store_opaque_sortInfo_long(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_long *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_long *futhark_restore_opaque_sortInfo_long(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj);
int futhark_project_opaque_sortInfo_long_xs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj);
int futhark_new_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i64_1d *f_xs);
int futhark_free_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short *obj);
int futhark_store_opaque_sortInfo_short(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_short *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_short *futhark_restore_opaque_sortInfo_short(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_short *obj);
int futhark_project_opaque_sortInfo_short_xs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_sortInfo_short *obj);
int futhark_new_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i16_1d *f_xs);

// Entry points
int futhark_entry_argmin_double(struct futhark_context *ctx, int64_t *out0, const struct futhark_f64_1d *in0);
int futhark_entry_argmin_float(struct futhark_context *ctx, int64_t *out0, const struct futhark_f32_1d *in0);
int futhark_entry_argmin_int(struct futhark_context *ctx, int64_t *out0, const struct futhark_i32_1d *in0);
int futhark_entry_argmin_long(struct futhark_context *ctx, int64_t *out0, const struct futhark_i64_1d *in0);
int futhark_entry_argmin_short(struct futhark_context *ctx, int64_t *out0, const struct futhark_i16_1d *in0);
int futhark_entry_mergeSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const struct futhark_f64_1d *in1);
int futhark_entry_mergeSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const struct futhark_f32_1d *in1);
int futhark_entry_mergeSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const struct futhark_i32_1d *in1);
int futhark_entry_mergeSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const struct futhark_i64_1d *in1);
int futhark_entry_mergeSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const struct futhark_i16_1d *in1);
int futhark_entry_mergeSorted_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out0, const int64_t in0, const int64_t in1, const struct futhark_f64_1d *in2, const struct futhark_f64_1d *in3, const bool in4);
int futhark_entry_mergeSorted_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out0, const int64_t in0, const int64_t in1, const struct futhark_f32_1d *in2, const struct futhark_f32_1d *in3, const bool in4);
int futhark_entry_mergeSorted_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out0, const int64_t in0, const int64_t in1, const struct futhark_i32_1d *in2, const struct futhark_i32_1d *in3, const bool in4);
int futhark_entry_mergeSorted_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3, const bool in4);
int futhark_entry_mergeSorted_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out0, const int64_t in0, const int64_t in1, const struct futhark_i16_1d *in2, const struct futhark_i16_1d *in3, const bool in4);
int futhark_entry_mergeTups_double(struct futhark_context *ctx, struct futhark_opaque_mergeTup_double **out0, const struct futhark_f64_1d *in0, const struct futhark_f64_1d *in1);
int futhark_entry_mergeTups_float(struct futhark_context *ctx, struct futhark_opaque_mergeTup_float **out0, const struct futhark_f32_1d *in0, const struct futhark_f32_1d *in1);
int futhark_entry_mergeTups_int(struct futhark_context *ctx, struct futhark_opaque_mergeTup_int **out0, const struct futhark_i32_1d *in0, const struct futhark_i32_1d *in1);
int futhark_entry_mergeTups_long(struct futhark_context *ctx, struct futhark_opaque_mergeTup_long **out0, const struct futhark_i64_1d *in0, const struct futhark_i64_1d *in1);
int futhark_entry_mergeTups_short(struct futhark_context *ctx, struct futhark_opaque_mergeTup_short **out0, const struct futhark_i16_1d *in0, const struct futhark_i16_1d *in1);
int futhark_entry_orderByIndices_double(struct futhark_context *ctx, struct futhark_f64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f64_1d *in3);
int futhark_entry_orderByIndices_float(struct futhark_context *ctx, struct futhark_f32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f32_1d *in3);
int futhark_entry_orderByIndices_int(struct futhark_context *ctx, struct futhark_i32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i32_1d *in3);
int futhark_entry_orderByIndices_long(struct futhark_context *ctx, struct futhark_i64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3);
int futhark_entry_orderByIndices_short(struct futhark_context *ctx, struct futhark_i16_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i16_1d *in3);
int futhark_entry_radixSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const int16_t in1, const struct futhark_f64_1d *in2);
int futhark_entry_radixSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const int16_t in1, const struct futhark_f32_1d *in2);
int futhark_entry_radixSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const int16_t in1, const struct futhark_i32_1d *in2);
int futhark_entry_radixSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const int16_t in1, const struct futhark_i64_1d *in2);
int futhark_entry_radixSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const int16_t in1, const struct futhark_i16_1d *in2);

// Miscellaneous
int futhark_context_sync(struct futhark_context *ctx);
void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
char *futhark_context_report(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_c
#define FUTHARK_SUCCESS 0
#define FUTHARK_PROGRAM_ERROR 2
#define FUTHARK_OUT_OF_MEMORY 3

#ifdef __cplusplus
}
#endif

#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
// If NDEBUG is set, the assert() macro will do nothing. Since Futhark
// (unfortunately) makes use of assert() for error detection (and even some
// side effects), we want to avoid that.
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
#define SCALAR_FUN_ATTR static inline
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) __attribute__((noreturn));
static char* msgprintf(const char *s, ...);
static void* slurp_file(const char *filename, size_t *size);
static int dump_file(const char *file, const void *buf, size_t n);
struct str_builder;
static void str_builder_init(struct str_builder *b);
static void str_builder(struct str_builder *b, const char *s, ...);
static char *strclone(const char *str);

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}

static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                             const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, ...) check_err(err, 0, __func__, __LINE__, __VA_ARGS__)
#define CHECK_ERRNO(err, ...) check_err(err, 1, __func__, __LINE__, __VA_ARGS__)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  long start = ftell(f);
  fseek(f, 0, SEEK_END);
  long src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc((size_t)src_size + 1);
  if (fread(s, 1, (size_t)src_size, f) != (size_t)src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = (size_t)src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}

static void str_builder_str(struct str_builder *b, const char *s) {
  size_t needed = strlen(s);
  if (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }
  strcpy(b->str+b->used, s);
  b->used += needed;
}

static void str_builder_char(struct str_builder *b, char c) {
  size_t needed = 1;
  if (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }
  b->str[b->used] = c;
  b->str[b->used+1] = 0;
  b->used += needed;
}

static void str_builder_json_str(struct str_builder* sb, const char* s) {
  str_builder_char(sb, '"');
  for (int j = 0; s[j]; j++) {
    char c = s[j];
    switch (c) {
    case '\n':
      str_builder_str(sb, "\\n");
      break;
    case '"':
      str_builder_str(sb, "\\\"");
      break;
    default:
      str_builder_char(sb, c);
    }
  }
  str_builder_char(sb, '"');
}

static char *strclone(const char *str) {
  size_t size = strlen(str) + 1;
  char *copy = (char*) malloc(size);
  if (copy == NULL) {
    return NULL;
  }

  memcpy(copy, str, size);
  return copy;
}

// Assumes NULL-terminated.
static char *strconcat(const char *src_fragments[]) {
  size_t src_len = 0;
  const char **p;

  for (p = src_fragments; *p; p++) {
    src_len += strlen(*p);
  }

  char *src = (char*) malloc(src_len + 1);
  size_t n = 0;
  for (p = src_fragments; *p; p++) {
    strcpy(src + n, *p);
    n += strlen(*p);
  }

  return src;
}

// End of util.h.
// Start of cache.h

#define CACHE_HASH_SIZE 8 // In 32-bit words.

struct cache_hash {
  uint32_t hash[CACHE_HASH_SIZE];
};

// Initialise a blank cache.
static void cache_hash_init(struct cache_hash *c);

// Hash some bytes and add them to the accumulated hash.
static void cache_hash(struct cache_hash *out, const char *in, size_t n);

// Try to restore cache contents from a file with the given name.
// Assumes the cache is invalid if it contains the given hash.
// Allocates memory and reads the cache conents, which is returned in
// *buf with size *buflen.  If the cache is successfully loaded, this
// function returns 0.  Otherwise it returns nonzero.  Errno is set if
// the failure to load the cache is due to anything except invalid
// cache conents.  Note that failing to restore the cache is not
// necessarily a problem: it might just be invalid or not created yet.
static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen);

// Store cache contents in the given file, with the given hash.
static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen);

// Now for the implementation.

static void cache_hash_init(struct cache_hash *c) {
  memset(c->hash, 0, CACHE_HASH_SIZE * sizeof(uint32_t));
}

static void cache_hash(struct cache_hash *out, const char *in, size_t n) {
  // Adaptation of djb2 for larger output size by storing intermediate
  // states.
  uint32_t hash = 5381;
  for (size_t i = 0; i < n; i++) {
    hash = ((hash << 5) + hash) + in[i];
    out->hash[i % CACHE_HASH_SIZE] ^= hash;
  }
}

#define CACHE_HEADER_SIZE 8
static const char cache_header[CACHE_HEADER_SIZE] = "FUTHARK\0";

static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen) {
  FILE *f = fopen(fname, "rb");

  if (f == NULL) {
    return 1;
  }

  char f_header[CACHE_HEADER_SIZE];

  if (fread(f_header, sizeof(char), CACHE_HEADER_SIZE, f) != CACHE_HEADER_SIZE) {
    goto error;
  }

  if (memcmp(f_header, cache_header, CACHE_HEADER_SIZE) != 0) {
    goto error;
  }

  if (fseek(f, 0, SEEK_END) != 0) {
    goto error;
  }
  int64_t f_size = (int64_t)ftell(f);
  if (fseek(f, CACHE_HEADER_SIZE, SEEK_SET) != 0) {
    goto error;
  }

  int64_t expected_size;

  if (fread(&expected_size, sizeof(int64_t), 1, f) != 1) {
    goto error;
  }

  if (f_size != expected_size) {
    errno = 0;
    goto error;
  }

  int32_t f_hash[CACHE_HASH_SIZE];

  if (fread(f_hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (memcmp(f_hash, hash->hash, CACHE_HASH_SIZE) != 0) {
    errno = 0;
    goto error;
  }

  *buflen = f_size - CACHE_HEADER_SIZE - sizeof(int64_t) - CACHE_HASH_SIZE*sizeof(int32_t);
  *buf = malloc(*buflen);
  if (fread(*buf, sizeof(char), *buflen, f) != *buflen) {
    free(*buf);
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen) {
  FILE *f = fopen(fname, "wb");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(cache_header, CACHE_HEADER_SIZE, 1, f) != 1) {
    goto error;
  }

  int64_t size = CACHE_HEADER_SIZE + sizeof(int64_t) + CACHE_HASH_SIZE*sizeof(int32_t) + buflen;

  if (fwrite(&size, sizeof(size), 1, f) != 1) {
    goto error;
  }

  if (fwrite(hash->hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (fwrite(buf, sizeof(unsigned char), buflen, f) != buflen) {
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

// End of cache.h
// Start of half.h.

// Conversion functions are from http://half.sourceforge.net/, but
// translated to C.
//
// Copyright (c) 2012-2021 Christian Rau
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

#ifndef __OPENCL_VERSION__
#define __constant
#endif

__constant static const uint16_t base_table[512] = {
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,
  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,
  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,
  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,
  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };

__constant static const unsigned char shift_table[512] = {
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };

__constant static const uint32_t mantissa_table[2048] = {
  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,
  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,
  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,
  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,
  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,
  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,
  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,
  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,
  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,
  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,
  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,
  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,
  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,
  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,
  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,
  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,
  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,
  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,
  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,
  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,
  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,
  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,
  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,
  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,
  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,
  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,
  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,
  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,
  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,
  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,
  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,
  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,
  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,
  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,
  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,
  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,
  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,
  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,
  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,
  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,
  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,
  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,
  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,
  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,
  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,
  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,
  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,
  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,
  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,
  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,
  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,
  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,
  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,
  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,
  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,
  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,
  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,
  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,
  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,
  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,
  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,
  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,
  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,
  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,
  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,
  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,
  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,
  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,
  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,
  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,
  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,
  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,
  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,
  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,
  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,
  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,
  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,
  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,
  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,
  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,
  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,
  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,
  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,
  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,
  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,
  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,
  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,
  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,
  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,
  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,
  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,
  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,
  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,
  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,
  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,
  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,
  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,
  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,
  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,
  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,
  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,
  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,
  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,
  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,
  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,
  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,
  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,
  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,
  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,
  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,
  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,
  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,
  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,
  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,
  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,
  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,
  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,
  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,
  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,
  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,
  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,
  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,
  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,
  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,
  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,
  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,
  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,
  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };
__constant static const uint32_t exponent_table[64] = {
  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,
  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,
  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,
  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };
__constant static const unsigned short offset_table[64] = {
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };

SCALAR_FUN_ATTR uint16_t float2halfbits(float value) {
  union { float x; uint32_t y; } u;
  u.x = value;
  uint32_t bits = u.y;

  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;

  return hbits;
}

SCALAR_FUN_ATTR float halfbits2float(uint16_t value) {
  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];

  union { uint32_t x; float y; } u;
  u.x = bits;
  return u.y;
}

SCALAR_FUN_ATTR uint16_t halfbitsnextafter(uint16_t from, uint16_t to) {
  int fabs = from & 0x7FFF, tabs = to & 0x7FFF;
  if(fabs > 0x7C00 || tabs > 0x7C00) {
    return ((from&0x7FFF)>0x7C00) ? (from|0x200) : (to|0x200);
  }
  if(from == to || !(fabs|tabs)) {
    return to;
  }
  if(!fabs) {
    return (to&0x8000)+1;
  }
  unsigned int out =
    from +
    (((from>>15)^(unsigned int)((from^(0x8000|(0x8000-(from>>15))))<(to^(0x8000|(0x8000-(to>>15))))))<<1)
    - 1;
  return out;
}

// End of half.h.
// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

static int64_t get_wall_time_ns(void) {
  return get_wall_time() * 1000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.
// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.
// Start of free_list.h.

typedef uintptr_t fl_mem;

// An entry in the free list.  May be invalid, to avoid having to
// deallocate entries as soon as they are removed.  There is also a
// tag, to help with memory reuse.
struct free_list_entry {
  size_t size;
  fl_mem mem;
  const char *tag;
  unsigned char valid;
};

struct free_list {
  struct free_list_entry *entries; // Pointer to entries.
  int capacity;                    // Number of entries.
  int used;                        // Number of valid entries.
  lock_t lock;                     // Thread safety.
};

static void free_list_init(struct free_list *l) {
  l->capacity = 30; // Picked arbitrarily.
  l->used = 0;
  l->entries = (struct free_list_entry*) malloc(sizeof(struct free_list_entry) * l->capacity);
  for (int i = 0; i < l->capacity; i++) {
    l->entries[i].valid = 0;
  }
  create_lock(&l->lock);
}

// Remove invalid entries from the free list.
static void free_list_pack(struct free_list *l) {
  lock_lock(&l->lock);
  int p = 0;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[p] = l->entries[i];
      if (i > p) {
        l->entries[i].valid = 0;
      }
      p++;
    }
  }

  // Now p is the number of used elements.  We don't want it to go
  // less than the default capacity (although in practice it's OK as
  // long as it doesn't become 1).
  if (p < 30) {
    p = 30;
  }
  l->entries = realloc(l->entries, p * sizeof(struct free_list_entry));
  l->capacity = p;
  lock_unlock(&l->lock);
}

static void free_list_destroy(struct free_list *l) {
  assert(l->used == 0);
  free(l->entries);
  free_lock(&l->lock);
}

// Not part of the interface, so no locking.
static int free_list_find_invalid(struct free_list *l) {
  int i;
  for (i = 0; i < l->capacity; i++) {
    if (!l->entries[i].valid) {
      break;
    }
  }
  return i;
}

static void free_list_insert(struct free_list *l, size_t size, fl_mem mem, const char *tag) {
  lock_lock(&l->lock);
  int i = free_list_find_invalid(l);

  if (i == l->capacity) {
    // List is full; so we have to grow it.
    int new_capacity = l->capacity * 2 * sizeof(struct free_list_entry);
    l->entries = realloc(l->entries, new_capacity);
    for (int j = 0; j < l->capacity; j++) {
      l->entries[j+l->capacity].valid = 0;
    }
    l->capacity *= 2;
  }

  // Now 'i' points to the first invalid entry.
  l->entries[i].valid = 1;
  l->entries[i].size = size;
  l->entries[i].mem = mem;
  l->entries[i].tag = tag;

  l->used++;
  lock_unlock(&l->lock);
}

// Determine whether this entry in the free list is acceptable for
// satisfying the request.  Not public, so no locking.
static bool free_list_acceptable(size_t size, const char* tag, struct free_list_entry *entry) {
  // We check not just the hard requirement (is the entry acceptable
  // and big enough?) but also put a cap on how much wasted space
  // (internal fragmentation) we allow.  This is necessarily a
  // heuristic, and a crude one.

  if (!entry->valid) {
    return false;
  }

  if (size > entry->size) {
    return false;
  }

  // We know the block fits.  Now the question is whether it is too
  // big.  Our policy is as follows:
  //
  // 1) We don't care about wasted space below 4096 bytes (to avoid
  // churn in tiny allocations).
  //
  // 2) If the tag matches, we allow _any_ amount of wasted space.
  //
  // 3) Otherwise we allow up to 50% wasted space.

  if (entry->size < 4096) {
    return true;
  }

  if (entry->tag == tag) {
    return true;
  }

  if (entry->size < size * 2) {
    return true;
  }

  return false;
}

// Find and remove a memory block of the indicated tag, or if that
// does not exist, another memory block with exactly the desired size.
// Returns 0 on success.
static int free_list_find(struct free_list *l, size_t size, const char *tag,
                          size_t *size_out, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int size_match = -1;
  int i;
  int ret = 1;
  for (i = 0; i < l->capacity; i++) {
    if (free_list_acceptable(size, tag, &l->entries[i]) &&
        (size_match < 0 || l->entries[i].size < l->entries[size_match].size)) {
      // If this entry is valid, has sufficient size, and is smaller than the
      // best entry found so far, use this entry.
      size_match = i;
    }
  }

  if (size_match >= 0) {
    l->entries[size_match].valid = 0;
    *size_out = l->entries[size_match].size;
    *mem_out = l->entries[size_match].mem;
    l->used--;
    ret = 0;
  }
  lock_unlock(&l->lock);
  return ret;
}

// Remove the first block in the free list.  Returns 0 if a block was
// removed, and nonzero if the free list was already empty.
static int free_list_first(struct free_list *l, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int ret = 1;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[i].valid = 0;
      *mem_out = l->entries[i].mem;
      l->used--;
      ret = 0;
      break;
    }
  }
  lock_unlock(&l->lock);
  return ret;
}

// End of free_list.h.
// Start of event_list.h

typedef int (*event_report_fn)(struct str_builder*, void*);

struct event {
  void* data;
  event_report_fn f;
  const char* name;
  char *description;
};

struct event_list {
  struct event *events;
  int num_events;
  int capacity;
};

static void event_list_init(struct event_list *l) {
  l->capacity = 100;
  l->num_events = 0;
  l->events = calloc(l->capacity, sizeof(struct event));
}

static void event_list_free(struct event_list *l) {
  free(l->events);
}

static void add_event_to_list(struct event_list *l,
                              const char* name,
                              char* description,
                              void* data,
                              event_report_fn f) {
  if (l->num_events == l->capacity) {
    l->capacity *= 2;
    l->events = realloc(l->events, l->capacity * sizeof(struct event));
  }
  l->events[l->num_events].name = name;
  l->events[l->num_events].description = description;
  l->events[l->num_events].data = data;
  l->events[l->num_events].f = f;
  l->num_events++;
}

static int report_events_in_list(struct event_list *l,
                                 struct str_builder* sb) {
  int ret = 0;
  for (int i = 0; i < l->num_events; i++) {
    if (i != 0) {
      str_builder_str(sb, ",");
    }
    str_builder_str(sb, "{\"name\":");
    str_builder_json_str(sb, l->events[i].name);
    str_builder_str(sb, ",\"description\":");
    str_builder_json_str(sb, l->events[i].description);
    free(l->events[i].description);
    if (l->events[i].f(sb, l->events[i].data) != 0) {
      ret = 1;
      break;
    }
    str_builder(sb, "}");
  }
  event_list_free(l);
  event_list_init(l);
  return ret;
}

// End of event_list.h

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>



#define FUTHARK_F64_ENABLED

// Start of scalar.h.

// Implementation of the primitive scalar operations.  Very
// repetitive.  This code is inserted directly into both CUDA and
// OpenCL programs, as well as the CPU code, so it has some #ifdefs to
// work everywhere.  Some operations are defined as macros because
// this allows us to use them as constant expressions in things like
// array sizes and static initialisers.

// Some of the #ifdefs are because OpenCL uses type-generic functions
// for some operations (e.g. sqrt), while C and CUDA sensibly use
// distinct functions for different precisions (e.g. sqrtf() and
// sqrt()).  This is quite annoying.  Due to C's unfortunate casting
// rules, it is also really easy to accidentally implement
// floating-point functions in the wrong precision, so be careful.

// Double-precision definitions are only included if the preprocessor
// macro FUTHARK_F64_ENABLED is set.

SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x);
SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x);

SCALAR_FUN_ATTR uint8_t add8(uint8_t x, uint8_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint16_t add16(uint16_t x, uint16_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint32_t add32(uint32_t x, uint32_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint64_t add64(uint64_t x, uint64_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint8_t sub8(uint8_t x, uint8_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint16_t sub16(uint16_t x, uint16_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint32_t sub32(uint32_t x, uint32_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint64_t sub64(uint64_t x, uint64_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint8_t mul8(uint8_t x, uint8_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint16_t mul16(uint16_t x, uint16_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint32_t mul32(uint32_t x, uint32_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint64_t mul64(uint64_t x, uint64_t y) {
  return x * y;
}

#if ISPC

SCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {
  // This strange pattern is used to prevent the ISPC compiler from
  // causing SIGFPEs and bogus results on divisions where inactive lanes
  // have 0-valued divisors. It ensures that any inactive lane instead
  // has a divisor of 1. https://github.com/ispc/ispc/issues/2292
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x / ys;
}

SCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x / ys;
}

SCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x % ys;
}

SCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int8_t q = x / ys;
  int8_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int16_t q = x / ys;
  int16_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  int32_t q = x / ys;
  int32_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int64_t q = x / ys;
  int64_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int8_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int16_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int32_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int64_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

SCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

SCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

SCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

SCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

SCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

SCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

SCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

SCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

#else

SCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {
  int8_t q = x / y;
  int8_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {
  int16_t q = x / y;
  int16_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {
  int32_t q = x / y;
  int32_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {
  int64_t q = x / y;
  int64_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {
  int8_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {
  int16_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {
  int32_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {
  int64_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

SCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

SCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

SCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

SCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

SCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

SCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

SCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

SCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x % y;
}

#endif

SCALAR_FUN_ATTR int8_t smin8(int8_t x, int8_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int16_t smin16(int16_t x, int16_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int32_t smin32(int32_t x, int32_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int64_t smin64(int64_t x, int64_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint8_t umin8(uint8_t x, uint8_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint16_t umin16(uint16_t x, uint16_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint32_t umin32(uint32_t x, uint32_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint64_t umin64(uint64_t x, uint64_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int8_t smax8(int8_t x, int8_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int16_t smax16(int16_t x, int16_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int32_t smax32(int32_t x, int32_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int64_t smax64(int64_t x, int64_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint8_t umax8(uint8_t x, uint8_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint16_t umax16(uint16_t x, uint16_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint32_t umax32(uint32_t x, uint32_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint64_t umax64(uint64_t x, uint64_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint8_t shl8(uint8_t x, uint8_t y) {
  return (uint8_t)(x << y);
}

SCALAR_FUN_ATTR uint16_t shl16(uint16_t x, uint16_t y) {
  return (uint16_t)(x << y);
}

SCALAR_FUN_ATTR uint32_t shl32(uint32_t x, uint32_t y) {
  return x << y;
}

SCALAR_FUN_ATTR uint64_t shl64(uint64_t x, uint64_t y) {
  return x << y;
}

SCALAR_FUN_ATTR uint8_t lshr8(uint8_t x, uint8_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint16_t lshr16(uint16_t x, uint16_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint32_t lshr32(uint32_t x, uint32_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint64_t lshr64(uint64_t x, uint64_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int8_t ashr8(int8_t x, int8_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int16_t ashr16(int16_t x, int16_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int32_t ashr32(int32_t x, int32_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int64_t ashr64(int64_t x, int64_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint8_t and8(uint8_t x, uint8_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint16_t and16(uint16_t x, uint16_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint32_t and32(uint32_t x, uint32_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint64_t and64(uint64_t x, uint64_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint8_t or8(uint8_t x, uint8_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint16_t or16(uint16_t x, uint16_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint32_t or32(uint32_t x, uint32_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint64_t or64(uint64_t x, uint64_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint8_t xor8(uint8_t x, uint8_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint16_t xor16(uint16_t x, uint16_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint32_t xor32(uint32_t x, uint32_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint64_t xor64(uint64_t x, uint64_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR bool ult8(uint8_t x, uint8_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult16(uint16_t x, uint16_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult32(uint32_t x, uint32_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult64(uint64_t x, uint64_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ule8(uint8_t x, uint8_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule16(uint16_t x, uint16_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule32(uint32_t x, uint32_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule64(uint64_t x, uint64_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool slt8(int8_t x, int8_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt16(int16_t x, int16_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt32(int32_t x, int32_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt64(int64_t x, int64_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool sle8(int8_t x, int8_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle16(int16_t x, int16_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle32(int32_t x, int32_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle64(int64_t x, int64_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR uint8_t pow8(uint8_t x, uint8_t y) {
  uint8_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint16_t pow16(uint16_t x, uint16_t y) {
  uint16_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint32_t pow32(uint32_t x, uint32_t y) {
  uint32_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint64_t pow64(uint64_t x, uint64_t y) {
  uint64_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR bool itob_i8_bool(int8_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i16_bool(int16_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i32_bool(int32_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i64_bool(int64_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR int8_t btoi_bool_i8(bool x) {
  return x;
}

SCALAR_FUN_ATTR int16_t btoi_bool_i16(bool x) {
  return x;
}

SCALAR_FUN_ATTR int32_t btoi_bool_i32(bool x) {
  return x;
}

SCALAR_FUN_ATTR int64_t btoi_bool_i64(bool x) {
  return x;
}

#define sext_i8_i8(x) ((int8_t) (int8_t) (x))
#define sext_i8_i16(x) ((int16_t) (int8_t) (x))
#define sext_i8_i32(x) ((int32_t) (int8_t) (x))
#define sext_i8_i64(x) ((int64_t) (int8_t) (x))
#define sext_i16_i8(x) ((int8_t) (int16_t) (x))
#define sext_i16_i16(x) ((int16_t) (int16_t) (x))
#define sext_i16_i32(x) ((int32_t) (int16_t) (x))
#define sext_i16_i64(x) ((int64_t) (int16_t) (x))
#define sext_i32_i8(x) ((int8_t) (int32_t) (x))
#define sext_i32_i16(x) ((int16_t) (int32_t) (x))
#define sext_i32_i32(x) ((int32_t) (int32_t) (x))
#define sext_i32_i64(x) ((int64_t) (int32_t) (x))
#define sext_i64_i8(x) ((int8_t) (int64_t) (x))
#define sext_i64_i16(x) ((int16_t) (int64_t) (x))
#define sext_i64_i32(x) ((int32_t) (int64_t) (x))
#define sext_i64_i64(x) ((int64_t) (int64_t) (x))
#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))
#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))
#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))
#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))
#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))
#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))
#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))
#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))
#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))
#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))
#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))
#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))
#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))
#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))
#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))
#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))

SCALAR_FUN_ATTR int8_t abs8(int8_t x) {
  return (int8_t)abs(x);
}

SCALAR_FUN_ATTR int16_t abs16(int16_t x) {
  return (int16_t)abs(x);
}

SCALAR_FUN_ATTR int32_t abs32(int32_t x) {
  return abs(x);
}

SCALAR_FUN_ATTR int64_t abs64(int64_t x) {
#if defined(__OPENCL_VERSION__) || defined(ISPC)
  return abs(x);
#else
  return llabs(x);
#endif
}

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {
  return popcount(x);
}
#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {
  return __popc(zext_i8_i32(x));
}

SCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {
  return __popc(zext_i16_i32(x));
}

SCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {
  return __popc(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {
  return __popcll(x);
}

#else // Not OpenCL or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_popc8(uint8_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc16(uint16_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc32(uint32_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc64(uint64_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR uint8_t  futrts_umul_hi8 ( uint8_t a,  uint8_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint8_t  futrts_smul_hi8 ( int8_t a,  int8_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return mul_hi(a, b); }
#elif defined(__CUDA_ARCH__)
SCALAR_FUN_ATTR  uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return __umulhi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return __umul64hi(a, b); }
SCALAR_FUN_ATTR  uint8_t futrts_smul_hi8 ( int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return __mulhi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return __mul64hi(a, b); }
#elif ISPC
SCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 = al * bl;
  uint64_t p2 = al * bh;
  uint64_t p3 = ah * bl;
  uint64_t p4 = ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}
SCALAR_FUN_ATTR  int8_t futrts_smul_hi8 ( int8_t a,  int8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 =  al * bl;
  int64_t  p2 = al * bh;
  int64_t  p3 = ah * bl;
  uint64_t p4 =  ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}

#else // Not OpenCL, ISPC, or CUDA, but plain C.
SCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return ((__uint128_t)a) * ((__uint128_t)b) >> 64; }
SCALAR_FUN_ATTR int8_t futrts_smul_hi8(int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
SCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
SCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((int64_t)a) * ((int64_t)b) >> 32; }
SCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) { return ((__int128_t)a) * ((__int128_t)b) >> 64; }
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR  uint8_t futrts_umad_hi8 ( uint8_t a,  uint8_t b,  uint8_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR  uint8_t futrts_smad_hi8( int8_t a,  int8_t b,   int8_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return mad_hi(a, b, c); }
#else // Not OpenCL

SCALAR_FUN_ATTR  uint8_t futrts_umad_hi8( uint8_t a,  uint8_t b,  uint8_t c) { return futrts_umul_hi8(a, b) + c; }
SCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return futrts_umul_hi16(a, b) + c; }
SCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return futrts_umul_hi32(a, b) + c; }
SCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return futrts_umul_hi64(a, b) + c; }
SCALAR_FUN_ATTR  uint8_t futrts_smad_hi8 ( int8_t a,  int8_t b,  int8_t c) { return futrts_smul_hi8(a, b) + c; }
SCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return futrts_smul_hi16(a, b) + c; }
SCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return futrts_smul_hi32(a, b) + c; }
SCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return futrts_smul_hi64(a, b) + c; }
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return clz(x);
}

#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return __clz(zext_i8_i32(x)) - 24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return __clz(zext_i16_i32(x)) - 16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return __clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return __clzll(x);
}

#elif ISPC

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return count_leading_zeros((int32_t)(uint8_t)x)-24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return count_leading_zeros((int32_t)(uint16_t)x)-16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return count_leading_zeros(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return count_leading_zeros(x);
}

#else // Not OpenCL, ISPC or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_clz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);
}
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  int i = 0;
  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  int i = 0;
  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  int i = 0;
  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  int i = 0;
  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  int y = __ffs(x);
  return y == 0 ? 8 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  int y = __ffs(x);
  return y == 0 ? 16 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  int y = __ffs(x);
  return y == 0 ? 32 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  int y = __ffsll(x);
  return y == 0 ? 64 : y - 1;
}

#elif ISPC

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : count_trailing_zeros((int32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : count_trailing_zeros((int32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  return count_trailing_zeros(x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  return count_trailing_zeros(x);
}

#else // Not OpenCL or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);
}
#endif

SCALAR_FUN_ATTR float fdiv32(float x, float y) {
  return x / y;
}

SCALAR_FUN_ATTR float fadd32(float x, float y) {
  return x + y;
}

SCALAR_FUN_ATTR float fsub32(float x, float y) {
  return x - y;
}

SCALAR_FUN_ATTR float fmul32(float x, float y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt32(float x, float y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple32(float x, float y) {
  return x <= y;
}

SCALAR_FUN_ATTR float sitofp_i8_f32(int8_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i16_f32(int16_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i32_f32(int32_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i64_f32(int64_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i8_f32(uint8_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i16_f32(uint16_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i32_f32(uint32_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i64_f32(uint64_t x) {
  return (float) x;
}

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR float fabs32(float x) {
  return fabs(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR float fpow32(float x, float y) {
  return pow(x, y);
}

#elif ISPC

SCALAR_FUN_ATTR float fabs32(float x) {
  return abs(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR float fpow32(float a, float b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

#else // Not OpenCL, but CUDA or plain C.

SCALAR_FUN_ATTR float fabs32(float x) {
  return fabsf(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return fmaxf(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return fminf(x, y);
}

SCALAR_FUN_ATTR float fpow32(float x, float y) {
  return powf(x, y);
}
#endif

SCALAR_FUN_ATTR bool futrts_isnan32(float x) {
  return isnan(x);
}

#if ISPC

SCALAR_FUN_ATTR bool futrts_isinf32(float x) {
  return !isnan(x) && isnan(x - x);
}

SCALAR_FUN_ATTR bool futrts_isfinite32(float x) {
  return !isnan(x) && !futrts_isinf32(x);
}

#else

SCALAR_FUN_ATTR bool futrts_isinf32(float x) {
  return isinf(x);
}

#endif

SCALAR_FUN_ATTR int8_t fptosi_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int64_t) x;
  };
}

SCALAR_FUN_ATTR uint8_t fptoui_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f32_bool(float x) {
  return x != 0;
}

SCALAR_FUN_ATTR float btof_bool_f32(bool x) {
  return x ? 1 : 0;
}

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR float futrts_log32(float x) {
  return log(x);
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return log2(x);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return log10(x);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  return log1p(x);
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return exp(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cos(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sin(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tan(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acos(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asin(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atan(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return cosh(x);
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return sinh(x);
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return tanh(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  return acosh(x);
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  return asinh(x);
}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  return atanh(x);
}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR float futrts_erf32(float x) {
  return erf(x);
}

SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  return erfc(x);
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return rint(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floor(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceil(x);
}

SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return mix(v0, v1, t);
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return mad(a, b, c);
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return fma(a, b, c);
}

#elif ISPC

SCALAR_FUN_ATTR float futrts_log32(float x) {
  return futrts_isfinite32(x) || (futrts_isinf32(x) && x < 0)? log(x) : x;
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return futrts_log32(x) / log(2.0f);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return futrts_log32(x) / log(10.0f);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  if(x == -1.0f || (futrts_isinf32(x) && x > 0.0f)) return x / 0.0f;
  float y = 1.0f + x;
  float z = y - 1.0f;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrt(x);
}

extern "C" unmasked uniform float cbrtf(uniform float);
SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return exp(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cos(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sin(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tan(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acos(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asin(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atan(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return (exp(x)+exp(-x)) / 2.0f;
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return (exp(x)-exp(-x)) / 2.0f;
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return futrts_sinh32(x)/futrts_cosh32(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  float f = x+sqrt(x*x-1);
  if(futrts_isfinite32(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  float f = x+sqrt(x*x+1);
  if(futrts_isfinite32(f)) return log(f);
  return f;

}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  float f = (1+x)/(1-x);
  if(futrts_isfinite32(f)) return log(f)/2.0f;
  return f;

}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return (x == 0.0f && y == 0.0f) ? 0.0f : atan2(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  if (futrts_isfinite32(x) && futrts_isfinite32(y)) {
    x = abs(x);
    y = abs(y);
    float a;
    float b;
    if (x >= y){
        a = x;
        b = y;
    } else {
        a = y;
        b = x;
    }
    if(b == 0){
      return a;
    }

    int e;
    float an;
    float bn;
    an = frexp (a, &e);
    bn = ldexp (b, - e);
    float cn;
    cn = sqrt (an * an + bn * bn);
    return ldexp (cn, e);
  } else {
    if (futrts_isinf32(x) || futrts_isinf32(y)) return INFINITY;
    else return x + y;
  }

}

extern "C" unmasked uniform float tgammaf(uniform float x);
SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = tgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = lgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erff(uniform float x);
SCALAR_FUN_ATTR float futrts_erf32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erff(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erfcf(uniform float x);
SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erfcf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return x - y * trunc(x/y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return round(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floor(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceil(x);
}

extern "C" unmasked uniform float nextafterf(uniform float x, uniform float y);
SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  float res;
  foreach_active (i) {
    uniform float r = nextafterf(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return x * pow((double)2.0, (double)y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  int32_t xb = futrts_to_bits32(x);
  int32_t yb = futrts_to_bits32(y);
  return futrts_from_bits32((xb & ~(1<<31)) | (yb & (1<<31)));
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return a * b + c;
}

#else // Not OpenCL or ISPC, but CUDA or plain C.

SCALAR_FUN_ATTR float futrts_log32(float x) {
  return logf(x);
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return log2f(x);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return log10f(x);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  return log1pf(x);
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrtf(x);
}

SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  return cbrtf(x);
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return expf(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cosf(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sinf(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tanf(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acosf(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asinf(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atanf(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return coshf(x);
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return sinhf(x);
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return tanhf(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  return acoshf(x);
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  return asinhf(x);
}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  return atanhf(x);
}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return atan2f(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  return hypotf(x, y);
}

SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  return tgammaf(x);
}

SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  return lgammaf(x);
}

SCALAR_FUN_ATTR float futrts_erf32(float x) {
  return erff(x);
}

SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  return erfcf(x);
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return fmodf(x, y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return rintf(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floorf(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceilf(x);
}

SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  return nextafterf(x, y);
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return ldexpf(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  return copysignf(x, y);
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return fmaf(a, b, c);
}
#endif

#if ISPC
SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {
  return intbits(x);
}

SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {
  return floatbits(x);
}
#else
SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {
  union {
    float f;
    int32_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {
  union {
    int32_t f;
    float t;
  } p;

  p.f = x;
  return p.t;
}
#endif

SCALAR_FUN_ATTR float fsignum32(float x) {
  return futrts_isnan32(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#ifdef FUTHARK_F64_ENABLED

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x);
SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x);

#if ISPC
SCALAR_FUN_ATTR bool futrts_isinf64(float x) {
  return !isnan(x) && isnan(x - x);
}

SCALAR_FUN_ATTR bool futrts_isfinite64(float x) {
  return !isnan(x) && !futrts_isinf64(x);
}

SCALAR_FUN_ATTR double fdiv64(double x, double y) {
  return x / y;
}

SCALAR_FUN_ATTR double fadd64(double x, double y) {
  return x + y;
}

SCALAR_FUN_ATTR double fsub64(double x, double y) {
  return x - y;
}

SCALAR_FUN_ATTR double fmul64(double x, double y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt64(double x, double y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple64(double x, double y) {
  return x <= y;
}

SCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double fabs64(double x) {
  return abs(x);
}

SCALAR_FUN_ATTR double fmax64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR double fmin64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR double fpow64(double a, double b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

SCALAR_FUN_ATTR double futrts_log64(double x) {
  return futrts_isfinite64(x) || (futrts_isinf64(x) && x < 0)? log(x) : x;
}

SCALAR_FUN_ATTR double futrts_log2_64(double x) {
  return futrts_log64(x)/log(2.0d);
}

SCALAR_FUN_ATTR double futrts_log10_64(double x) {
  return futrts_log64(x)/log(10.0d);
}

SCALAR_FUN_ATTR double futrts_log1p_64(double x) {
  if(x == -1.0d || (futrts_isinf64(x) && x > 0.0d)) return x / 0.0d;
  double y = 1.0d + x;
  double z = y - 1.0d;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR double futrts_sqrt64(double x) {
  return sqrt(x);
}

extern "C" unmasked uniform double cbrt(uniform double);
SCALAR_FUN_ATTR double futrts_cbrt64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_exp64(double x) {
  return exp(x);
}

SCALAR_FUN_ATTR double futrts_cos64(double x) {
  return cos(x);
}

SCALAR_FUN_ATTR double futrts_sin64(double x) {
  return sin(x);
}

SCALAR_FUN_ATTR double futrts_tan64(double x) {
  return tan(x);
}

SCALAR_FUN_ATTR double futrts_acos64(double x) {
  return acos(x);
}

SCALAR_FUN_ATTR double futrts_asin64(double x) {
  return asin(x);
}

SCALAR_FUN_ATTR double futrts_atan64(double x) {
  return atan(x);
}

SCALAR_FUN_ATTR double futrts_cosh64(double x) {
  return (exp(x)+exp(-x)) / 2.0d;
}

SCALAR_FUN_ATTR double futrts_sinh64(double x) {
  return (exp(x)-exp(-x)) / 2.0d;
}

SCALAR_FUN_ATTR double futrts_tanh64(double x) {
  return futrts_sinh64(x)/futrts_cosh64(x);
}

SCALAR_FUN_ATTR double futrts_acosh64(double x) {
  double f = x+sqrt(x*x-1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR double futrts_asinh64(double x) {
  double f = x+sqrt(x*x+1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR double futrts_atanh64(double x) {
  double f = (1.0d+x)/(1.0d-x);
  if(futrts_isfinite64(f)) return log(f)/2.0d;
  return f;

}

SCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

extern "C" unmasked uniform double hypot(uniform double x, uniform double y);
SCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = hypot(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double tgamma(uniform double x);
SCALAR_FUN_ATTR double futrts_gamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = tgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double lgamma(uniform double x);
SCALAR_FUN_ATTR double futrts_lgamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = lgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erf(uniform double x);
SCALAR_FUN_ATTR double futrts_erf64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erfc(uniform double x);
SCALAR_FUN_ATTR double futrts_erfc64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erfc(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {
  return a * b + c;
}

SCALAR_FUN_ATTR double futrts_round64(double x) {
  return round(x);
}

SCALAR_FUN_ATTR double futrts_ceil64(double x) {
  return ceil(x);
}

extern "C" unmasked uniform double nextafter(uniform float x, uniform double y);
SCALAR_FUN_ATTR float futrts_nextafter64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = nextafter(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_floor64(double x) {
  return floor(x);
}

SCALAR_FUN_ATTR bool futrts_isnan64(double x) {
  return isnan(x);
}

SCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

SCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f64_bool(double x) {
  return x != 0.0;
}

SCALAR_FUN_ATTR double btof_bool_f64(bool x) {
  return x ? 1.0 : 0.0;
}

SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {
  int64_t res;
  foreach_active (i) {
    uniform double tmp = extract(x, i);
    uniform int64_t r = *((uniform int64_t* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {
  double res;
  foreach_active (i) {
    uniform int64_t tmp = extract(x, i);
    uniform double r = *((uniform double* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double fmod64(double x, double y) {
  return x - y * trunc(x/y);
}

SCALAR_FUN_ATTR double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0 ? 1.0d : 0.0d) - (x < 0 ? 1.0d : 0.0d);
}

SCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {
  return x * pow((double)2.0, (double)y);
}

SCALAR_FUN_ATTR double futrts_copysign64(double x, double y) {
  int64_t xb = futrts_to_bits64(x);
  int64_t yb = futrts_to_bits64(y);
  return futrts_from_bits64((xb & ~(((int64_t)1)<<63)) | (yb & (((int64_t)1)<<63)));
}

SCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float fpconv_f32_f32(float x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f32_f64(float x) {
  return (double) x;
}

SCALAR_FUN_ATTR float fpconv_f64_f32(double x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f64_f64(double x) {
  return (double) x;
}

#else

SCALAR_FUN_ATTR double fdiv64(double x, double y) {
  return x / y;
}

SCALAR_FUN_ATTR double fadd64(double x, double y) {
  return x + y;
}

SCALAR_FUN_ATTR double fsub64(double x, double y) {
  return x - y;
}

SCALAR_FUN_ATTR double fmul64(double x, double y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt64(double x, double y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple64(double x, double y) {
  return x <= y;
}

SCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double fabs64(double x) {
  return fabs(x);
}

SCALAR_FUN_ATTR double fmax64(double x, double y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR double fmin64(double x, double y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR double fpow64(double x, double y) {
  return pow(x, y);
}

SCALAR_FUN_ATTR double futrts_log64(double x) {
  return log(x);
}

SCALAR_FUN_ATTR double futrts_log2_64(double x) {
  return log2(x);
}

SCALAR_FUN_ATTR double futrts_log10_64(double x) {
  return log10(x);
}

SCALAR_FUN_ATTR double futrts_log1p_64(double x) {
  return log1p(x);
}

SCALAR_FUN_ATTR double futrts_sqrt64(double x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR double futrts_cbrt64(double x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR double futrts_exp64(double x) {
  return exp(x);
}

SCALAR_FUN_ATTR double futrts_cos64(double x) {
  return cos(x);
}

SCALAR_FUN_ATTR double futrts_sin64(double x) {
  return sin(x);
}

SCALAR_FUN_ATTR double futrts_tan64(double x) {
  return tan(x);
}

SCALAR_FUN_ATTR double futrts_acos64(double x) {
  return acos(x);
}

SCALAR_FUN_ATTR double futrts_asin64(double x) {
  return asin(x);
}

SCALAR_FUN_ATTR double futrts_atan64(double x) {
  return atan(x);
}

SCALAR_FUN_ATTR double futrts_cosh64(double x) {
  return cosh(x);
}

SCALAR_FUN_ATTR double futrts_sinh64(double x) {
  return sinh(x);
}

SCALAR_FUN_ATTR double futrts_tanh64(double x) {
  return tanh(x);
}

SCALAR_FUN_ATTR double futrts_acosh64(double x) {
  return acosh(x);
}

SCALAR_FUN_ATTR double futrts_asinh64(double x) {
  return asinh(x);
}

SCALAR_FUN_ATTR double futrts_atanh64(double x) {
  return atanh(x);
}

SCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR double futrts_gamma64(double x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR double futrts_lgamma64(double x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR double futrts_erf64(double x) {
  return erf(x);
}

SCALAR_FUN_ATTR double futrts_erfc64(double x) {
  return erfc(x);
}

SCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {
  return fma(a, b, c);
}

SCALAR_FUN_ATTR double futrts_round64(double x) {
  return rint(x);
}

SCALAR_FUN_ATTR double futrts_ceil64(double x) {
  return ceil(x);
}

SCALAR_FUN_ATTR float futrts_nextafter64(float x, float y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR double futrts_floor64(double x) {
  return floor(x);
}

SCALAR_FUN_ATTR bool futrts_isnan64(double x) {
  return isnan(x);
}

SCALAR_FUN_ATTR bool futrts_isinf64(double x) {
  return isinf(x);
}

SCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

SCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f64_bool(double x) {
  return x != 0;
}

SCALAR_FUN_ATTR double btof_bool_f64(bool x) {
  return x ? 1 : 0;
}

SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {
  union {
    double f;
    int64_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {
  union {
    int64_t f;
    double t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR double fmod64(double x, double y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}

SCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {
#ifdef __OPENCL_VERSION__
  return mix(v0, v1, t);
#else
  return v0 + (v1 - v0) * t;
#endif
}

SCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign64(double x, double y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {
#ifdef __OPENCL_VERSION__
  return mad(a, b, c);
#else
  return a * b + c;
#endif
}

SCALAR_FUN_ATTR float fpconv_f32_f32(float x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f32_f64(float x) {
  return (double) x;
}

SCALAR_FUN_ATTR float fpconv_f64_f32(double x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f64_f64(double x) {
  return (double) x;
}

#endif

#endif

// End of scalar.h.
// Start of scalar_f16.h.

// Half-precision is emulated if needed (e.g. in straight C) with the
// native type used if possible.  The emulation works by typedef'ing
// 'float' to 'f16', and then implementing all operations on single
// precision.  To cut down on duplication, we use the same code for
// those Futhark functions that require just operators or casts.  The
// in-memory representation for arrays will still be 16 bits even
// under emulation, so the compiler will have to be careful when
// generating reads or writes.

#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600) && !(defined(ISPC))
#define EMULATE_F16
#endif

#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)
#pragma OPENCL EXTENSION cl_khr_fp16 : enable
#endif

#ifdef EMULATE_F16

// Note that the half-precision storage format is still 16 bits - the
// compiler will have to be real careful!
typedef float f16;

#elif ISPC
typedef float16 f16;

#else

#ifdef __CUDA_ARCH__
#include <cuda_fp16.h>
#endif

typedef half f16;

#endif

// Some of these functions convert to single precision because half
// precision versions are not available.

SCALAR_FUN_ATTR f16 fadd16(f16 x, f16 y) {
  return x + y;
}

SCALAR_FUN_ATTR f16 fsub16(f16 x, f16 y) {
  return x - y;
}

SCALAR_FUN_ATTR f16 fmul16(f16 x, f16 y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt16(f16 x, f16 y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple16(f16 x, f16 y) {
  return x <= y;
}

SCALAR_FUN_ATTR f16 sitofp_i8_f16(int8_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i16_f16(int16_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i32_f16(int32_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i64_f16(int64_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i8_f16(uint8_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i16_f16(uint16_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i32_f16(uint32_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i64_f16(uint64_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR int8_t fptosi_f16_i8(f16 x) {
  return (int8_t) (float) x;
}

SCALAR_FUN_ATTR int16_t fptosi_f16_i16(f16 x) {
  return (int16_t) x;
}

SCALAR_FUN_ATTR int32_t fptosi_f16_i32(f16 x) {
  return (int32_t) x;
}

SCALAR_FUN_ATTR int64_t fptosi_f16_i64(f16 x) {
  return (int64_t) x;
}

SCALAR_FUN_ATTR uint8_t fptoui_f16_i8(f16 x) {
  return (uint8_t) (float) x;
}

SCALAR_FUN_ATTR uint16_t fptoui_f16_i16(f16 x) {
  return (uint16_t) x;
}

SCALAR_FUN_ATTR uint32_t fptoui_f16_i32(f16 x) {
  return (uint32_t) x;
}

SCALAR_FUN_ATTR uint64_t fptoui_f16_i64(f16 x) {
  return (uint64_t) x;
}

SCALAR_FUN_ATTR bool ftob_f16_bool(f16 x) {
  return x != (f16)0;
}

SCALAR_FUN_ATTR f16 btof_bool_f16(bool x) {
  return x ? 1 : 0;
}

#ifndef EMULATE_F16
SCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {
  return isnan((float)x);
}

#ifdef __OPENCL_VERSION__

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabs(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#elif ISPC
SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return abs(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#else // Assuming CUDA.

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabsf(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmaxf(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fminf(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return powf(x, y);
}
#endif

#if ISPC
SCALAR_FUN_ATTR bool futrts_isinf16(float x) {
  return !futrts_isnan16(x) && futrts_isnan16(x - x);
}
SCALAR_FUN_ATTR bool futrts_isfinite16(float x) {
  return !futrts_isnan16(x) && !futrts_isinf16(x);
}

#else

SCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {
  return isinf((float)x);
}
#endif

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return log(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return log2(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return log10(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return log1p(x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return exp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return cos(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return sin(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return tan(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return acos(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return asin(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return atan(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return cosh(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return sinh(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return tanh(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return acosh(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return asinh(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return atanh(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return erf(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return erfc(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return rint(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return floor(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return ceil(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return mix(v0, v1, t);
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return mad(a, b, c);
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fma(a, b, c);
}
#elif ISPC

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return futrts_isfinite16(x) || (futrts_isinf16(x) && x < 0) ? log(x) : x;
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return futrts_log16(x) / log(2.0f16);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return futrts_log16(x) / log(10.0f16);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  if(x == -1.0f16 || (futrts_isinf16(x) && x > 0.0f16)) return x / 0.0f16;
  f16 y = 1.0f16 + x;
  f16 z = y - 1.0f16;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return (float16)sqrt((float)x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return exp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return (float16)cos((float)x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return (float16)sin((float)x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return (float16)tan((float)x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return (float16)acos((float)x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return (float16)asin((float)x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return (float16)atan((float)x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return (exp(x)+exp(-x)) / 2.0f16;
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return (exp(x)-exp(-x)) / 2.0f16;
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return futrts_sinh16(x)/futrts_cosh16(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x-1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x+1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  float16 f = (1+x)/(1-x);
  if(futrts_isfinite16(f)) return log(f)/2.0f16;
  return f;
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return (float16)atan2((float)x, (float)y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return (float16)futrts_hypot32((float)x, (float)y);
}

extern "C" unmasked uniform float tgammaf(uniform float x);
SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)tgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)lgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  f16 res = (f16)futrts_cbrt32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  f16 res = (f16)futrts_erf32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  f16 res = (f16)futrts_erfc32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return x - y * (float16)trunc((float) (x/y));
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return (float16)round((float)x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return (float16)floor((float)x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return (float16)ceil((float)x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return (float16)futrts_nextafter32((float)x, (float) y);
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

#else // Assume CUDA.

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return hlog(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return hlog2(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return hlog10(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return (f16)log1pf((float)x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return hsqrt(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return cbrtf(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return hexp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return hcos(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return hsin(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return tanf(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return acosf(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return asinf(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return atanf(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return coshf(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return sinhf(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return tanhf(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return acoshf(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return asinhf(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return atanhf(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2f(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return hypotf(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return tgammaf(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return lgammaf(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return erff(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return erfcf(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmodf(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return rintf(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return hfloor(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return hceil(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return __ushort_as_half(halfbitsnextafter(__half_as_ushort(x), __half_as_ushort(y)));
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fmaf(a, b, c);
}

#endif

// The CUDA __half type cannot be put in unions for some reason, so we
// use bespoke conversion functions instead.
#ifdef __CUDA_ARCH__
SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  return __half_as_ushort(x);
}
SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return __ushort_as_half(x);
}
#elif ISPC

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  varying int16_t y = *((varying int16_t * uniform)&x);
  return y;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  varying f16 y = *((varying f16 * uniform)&x);
  return y;
}
#else
SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  union {
    f16 f;
    int16_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  union {
    int16_t f;
    f16 t;
  } p;

  p.f = x;
  return p.t;
}
#endif

#else // No native f16 - emulate.

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabs32(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmax32(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fmin32(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return fpow32(x, y);
}

SCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {
  return futrts_isnan32(x);
}

SCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {
  return futrts_isinf32(x);
}

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return futrts_log32(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return futrts_log2_32(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return futrts_log10_32(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return futrts_log1p_32(x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return futrts_sqrt32(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return futrts_cbrt32(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return futrts_exp32(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return futrts_cos32(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return futrts_sin32(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return futrts_tan32(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return futrts_acos32(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return futrts_asin32(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return futrts_atan32(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return futrts_cosh32(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return futrts_sinh32(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return futrts_tanh32(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return futrts_acosh32(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return futrts_asinh32(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return futrts_atanh32(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return futrts_atan2_32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return futrts_hypot32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return futrts_gamma32(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return futrts_lgamma32(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return futrts_erf32(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return futrts_erfc32(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmod32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return futrts_round32(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return futrts_floor32(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return futrts_ceil32(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return halfbits2float(halfbitsnextafter(float2halfbits(x), float2halfbits(y)));
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return futrts_lerp32(v0, v1, t);
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return futrts_mad32(a, b, c);
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return futrts_fma32(a, b, c);
}

// Even when we are using an OpenCL that does not support cl_khr_fp16,
// it must still support vload_half for actually creating a
// half-precision number, which can then be efficiently converted to a
// float.  Similarly for vstore_half.
#ifdef __OPENCL_VERSION__

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  int16_t y;
  // Violating strict aliasing here.
  vstore_half((float)x, 0, (half*)&y);
  return y;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return (f16)vload_half(0, (half*)&x);
}

#else

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  return (int16_t)float2halfbits(x);
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return halfbits2float((uint16_t)x);
}

SCALAR_FUN_ATTR f16 fsignum16(f16 x) {
  return futrts_isnan16(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#endif

#endif

SCALAR_FUN_ATTR float fpconv_f16_f16(f16 x) {
  return x;
}

SCALAR_FUN_ATTR float fpconv_f16_f32(f16 x) {
  return x;
}

SCALAR_FUN_ATTR f16 fpconv_f32_f16(float x) {
  return (f16) x;
}

#ifdef FUTHARK_F64_ENABLED

SCALAR_FUN_ATTR double fpconv_f16_f64(f16 x) {
  return (double) x;
}

#if ISPC
SCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {
  return (f16) ((float)x);
}
#else
SCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {
  return (f16) x;
}
#endif
#endif


// End of scalar_f16.h.

// Start of context_prototypes.h
//
// Prototypes for the functions in context.h, or that will be called
// from those functions, that need to be available very early.

struct futhark_context_config;
struct futhark_context;

static void set_error(struct futhark_context* ctx, char *error);

// These are called in context/config new/free functions and contain
// shared setup.  They are generated by the compiler itself.
static int init_constants(struct futhark_context*);
static int free_constants(struct futhark_context*);
static void setup_program(struct futhark_context* ctx);
static void teardown_program(struct futhark_context *ctx);

// Allocate host memory.  Must be freed with host_free().
static void host_alloc(struct futhark_context* ctx, size_t size, const char* tag, size_t* size_out, void** mem_out);
// Allocate memory allocated with host_alloc().
static void host_free(struct futhark_context* ctx, size_t size, const char* tag, void* mem);

// Log that a copy has occurred.
static void log_copy(struct futhark_context* ctx,
                     const char *kind, int r,
                     int64_t dst_offset, int64_t dst_strides[r],
                     int64_t src_offset, int64_t src_strides[r],
                     int64_t shape[r]);

static void log_transpose(struct futhark_context* ctx,
                          int64_t k, int64_t m, int64_t n);

static bool lmad_map_tr(int64_t *num_arrays_out, int64_t *n_out, int64_t *m_out,
                        int r,
                        const int64_t dst_strides[r],
                        const int64_t src_strides[r],
                        const int64_t shape[r]);

static bool lmad_contiguous(int r, int64_t strides[r], int64_t shape[r]);

static bool lmad_memcpyable(int r,
                            int64_t dst_strides[r], int64_t src_strides[r], int64_t shape[r]);

static void add_event(struct futhark_context* ctx,
                      const char* name,
                      char* description,
                      void* data,
                      event_report_fn f);

// Functions that must be defined by the backend.
static void backend_context_config_setup(struct futhark_context_config* cfg);
static void backend_context_config_teardown(struct futhark_context_config* cfg);
static int backend_context_setup(struct futhark_context *ctx);
static void backend_context_teardown(struct futhark_context *ctx);

// End of of context_prototypes.h

struct memblock {
    int *references;
    unsigned char *mem;
    int64_t size;
    const char *desc;
};
struct constants {
    int dummy;
};
struct tuning_params {
    int dummy;
};
static const int num_tuning_params = 0;
static const char *tuning_param_names[] = {NULL};
static const char *tuning_param_vars[] = {NULL};
static const char *tuning_param_classes[] = {NULL};
static int64_t tuning_param_defaults[] = {0};
// Start of backends/c.h

struct futhark_context_config {
  int in_use;
  int debugging;
  int profiling;
  int logging;
  char *cache_fname;
  int num_tuning_params;
  int64_t *tuning_params;
  const char** tuning_param_names;
  const char** tuning_param_vars;
  const char** tuning_param_classes;
};

static void backend_context_config_setup(struct futhark_context_config* cfg) {
  (void)cfg;
}

static void backend_context_config_teardown(struct futhark_context_config* cfg) {
  (void)cfg;
}

int futhark_context_config_set_tuning_param(struct futhark_context_config* cfg, const char *param_name, size_t param_value) {
  (void)cfg; (void)param_name; (void)param_value;
  return 1;
}

struct futhark_context {
  struct futhark_context_config* cfg;
  int detail_memory;
  int debugging;
  int profiling;
  int profiling_paused;
  int logging;
  lock_t lock;
  char *error;
  lock_t error_lock;
  FILE *log;
  struct constants *constants;
  struct free_list free_list;
  struct event_list event_list;
  int64_t peak_mem_usage_default;
  int64_t cur_mem_usage_default;
  struct program* program;
  bool program_initialised;
};

int backend_context_setup(struct futhark_context* ctx) {
  (void)ctx;
  return 0;
}

void backend_context_teardown(struct futhark_context* ctx) {
  (void)ctx;
}

int futhark_context_sync(struct futhark_context* ctx) {
  (void)ctx;
  return 0;
}

// End of backends/c.h

struct program {
    int dummy;
};
static void setup_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    ctx->program = malloc(sizeof(struct program));
}
static void teardown_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    free(ctx->program);
}
static void set_tuning_params(struct futhark_context *ctx)
{
    (void) ctx;
}
int memblock_unref(struct futhark_context *ctx, struct memblock *block, const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log, "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n", desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            host_free(ctx, (size_t) block->size, desc, (void *) block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log, "%lld bytes freed (now allocated: %lld bytes)\n", (long long) block->size, (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
int memblock_alloc(struct futhark_context *ctx, struct memblock *block, int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1, "Negative allocation of %lld bytes attempted for %s in %s.\n", (long long) size, desc, "default space", ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    if (ret != FUTHARK_SUCCESS)
        return ret;
    if (ctx->detail_memory)
        fprintf(ctx->log, "Allocating %lld bytes for %s in %s (currently allocated: %lld bytes).\n", (long long) size, desc, "default space", (long long) ctx->cur_mem_usage_default);
    host_alloc(ctx, (size_t) size, desc, (size_t *) &size, (void *) &block->mem);
    if (ctx->error == NULL) {
        block->references = (int *) malloc(sizeof(int));
        *block->references = 1;
        block->size = size;
        block->desc = desc;
        
        long long new_usage = ctx->cur_mem_usage_default + size;
        
        if (ctx->detail_memory)
            fprintf(ctx->log, "Received block of %lld bytes; now allocated: %lld bytes", (long long) block->size, new_usage);
        ctx->cur_mem_usage_default = new_usage;
        if (new_usage > ctx->peak_mem_usage_default) {
            ctx->peak_mem_usage_default = new_usage;
            if (ctx->detail_memory)
                fprintf(ctx->log, " (new peak).\n");
        } else if (ctx->detail_memory)
            fprintf(ctx->log, ".\n");
        return FUTHARK_SUCCESS;
    } else {
        // We are naively assuming that any memory allocation error is due to OOM.
        lock_lock(&ctx->error_lock);
        
        char *old_error = ctx->error;
        
        ctx->error = msgprintf("Failed to allocate memory in %s.\nAttempted allocation: %12lld bytes\nCurrently allocated:  %12lld bytes\n%s", "default space", (long long) size, (long long) ctx->cur_mem_usage_default, old_error);
        free(old_error);
        lock_unlock(&ctx->error_lock);
        return FUTHARK_OUT_OF_MEMORY;
    }
}
int memblock_set(struct futhark_context *ctx, struct memblock *lhs, struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    str_builder_char(&builder, '{');
    str_builder_str(&builder, "\"memory\":{");
    str_builder(&builder, "\"default space\": %lld", (long long) ctx->peak_mem_usage_default);
    str_builder_str(&builder, "},\"events\":[");
    if (report_events_in_list(&ctx->event_list, &builder) != 0) {
        free(builder.str);
        return NULL;
    } else {
        str_builder_str(&builder, "]}");
        return builder.str;
    }
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    ctx->peak_mem_usage_default = 0;
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}

// Start of context.h

// Internal functions.

static void set_error(struct futhark_context* ctx, char *error) {
  lock_lock(&ctx->error_lock);
  if (ctx->error == NULL) {
    ctx->error = error;
  } else {
    free(error);
  }
  lock_unlock(&ctx->error_lock);
}

// XXX: should be static, but used in ispc_util.h
void lexical_realloc_error(struct futhark_context* ctx, size_t new_size) {
  set_error(ctx,
            msgprintf("Failed to allocate memory.\nAttempted allocation: %12lld bytes\n",
                      (long long) new_size));
}

static int lexical_realloc(struct futhark_context *ctx,
                           unsigned char **ptr,
                           int64_t *old_size,
                           int64_t new_size) {
  unsigned char *new = realloc(*ptr, (size_t)new_size);
  if (new == NULL) {
    lexical_realloc_error(ctx, new_size);
    return FUTHARK_OUT_OF_MEMORY;
  } else {
    *ptr = new;
    *old_size = new_size;
    return FUTHARK_SUCCESS;
  }
}

static void free_all_in_free_list(struct futhark_context* ctx) {
  fl_mem mem;
  free_list_pack(&ctx->free_list);
  while (free_list_first(&ctx->free_list, (fl_mem*)&mem) == 0) {
    free((void*)mem);
  }
}

static int is_small_alloc(size_t size) {
  return size < 1024*1024;
}

static void host_alloc(struct futhark_context* ctx,
                       size_t size, const char* tag, size_t* size_out, void** mem_out) {
  if (is_small_alloc(size) || free_list_find(&ctx->free_list, size, tag, size_out, (fl_mem*)mem_out) != 0) {
    *size_out = size;
    *mem_out = malloc(size);
  }
}

static void host_free(struct futhark_context* ctx,
                      size_t size, const char* tag, void* mem) {
  // Small allocations are handled by malloc()s own free list.  The
  // threshold here is kind of arbitrary, but seems to work OK.
  // Larger allocations are mmap()ed/munmapped() every time, which is
  // very slow, and Futhark programs tend to use a few very large
  // allocations.
  if (is_small_alloc(size)) {
    free(mem);
  } else {
    free_list_insert(&ctx->free_list, size, (fl_mem)mem, tag);
  }
}

static void add_event(struct futhark_context* ctx,
                      const char* name,
                      char* description,
                      void* data,
                      event_report_fn f) {
  if (ctx->logging) {
    fprintf(ctx->log, "Event: %s\n%s\n", name, description);
  }
  add_event_to_list(&ctx->event_list, name, description, data, f);
}

char *futhark_context_get_error(struct futhark_context *ctx) {
  char *error = ctx->error;
  ctx->error = NULL;
  return error;
}

void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag) {
    cfg->profiling = cfg->logging = cfg->debugging = flag;
}

void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag) {
    cfg->profiling = flag;
}

void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag) {
    cfg->logging = flag;
}

void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f) {
  cfg->cache_fname = strdup(f);
}

int futhark_get_tuning_param_count(void) {
  return num_tuning_params;
}

const char *futhark_get_tuning_param_name(int i) {
  return tuning_param_names[i];
}

const char *futhark_get_tuning_param_class(int i) {
    return tuning_param_classes[i];
}

void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f){
  ctx->log = f;
}

void futhark_context_pause_profiling(struct futhark_context *ctx) {
  ctx->profiling_paused = 1;
}

void futhark_context_unpause_profiling(struct futhark_context *ctx) {
  ctx->profiling_paused = 0;
}

struct futhark_context_config* futhark_context_config_new(void) {
  struct futhark_context_config* cfg = malloc(sizeof(struct futhark_context_config));
  if (cfg == NULL) {
    return NULL;
  }
  cfg->in_use = 0;
  cfg->debugging = 0;
  cfg->profiling = 0;
  cfg->logging = 0;
  cfg->cache_fname = NULL;
  cfg->num_tuning_params = num_tuning_params;
  cfg->tuning_params = malloc(cfg->num_tuning_params * sizeof(int64_t));
  memcpy(cfg->tuning_params, tuning_param_defaults,
         cfg->num_tuning_params * sizeof(int64_t));
  cfg->tuning_param_names = tuning_param_names;
  cfg->tuning_param_vars = tuning_param_vars;
  cfg->tuning_param_classes = tuning_param_classes;
  backend_context_config_setup(cfg);
  return cfg;
}

void futhark_context_config_free(struct futhark_context_config* cfg) {
  assert(!cfg->in_use);
  backend_context_config_teardown(cfg);
  free(cfg->cache_fname);
  free(cfg->tuning_params);
  free(cfg);
}

struct futhark_context* futhark_context_new(struct futhark_context_config* cfg) {
  struct futhark_context* ctx = malloc(sizeof(struct futhark_context));
  if (ctx == NULL) {
    return NULL;
  }
  assert(!cfg->in_use);
  ctx->cfg = cfg;
  ctx->cfg->in_use = 1;
  ctx->program_initialised = false;
  create_lock(&ctx->error_lock);
  create_lock(&ctx->lock);
  free_list_init(&ctx->free_list);
  event_list_init(&ctx->event_list);
  ctx->peak_mem_usage_default = 0;
  ctx->cur_mem_usage_default = 0;
  ctx->constants = malloc(sizeof(struct constants));
  ctx->debugging = cfg->debugging;
  ctx->logging = cfg->logging;
  ctx->detail_memory = cfg->logging;
  ctx->profiling = cfg->profiling;
  ctx->profiling_paused = 0;
  ctx->error = NULL;
  ctx->log = stderr;
  set_tuning_params(ctx);
  if (backend_context_setup(ctx) == 0) {
    setup_program(ctx);
    init_constants(ctx);
    ctx->program_initialised = true;
    (void)futhark_context_clear_caches(ctx);
    (void)futhark_context_sync(ctx);
  }
  return ctx;
}

void futhark_context_free(struct futhark_context* ctx) {
  if (ctx->program_initialised) {
    free_constants(ctx);
    teardown_program(ctx);
  }
  backend_context_teardown(ctx);
  free_all_in_free_list(ctx);
  free_list_destroy(&ctx->free_list);
  event_list_free(&ctx->event_list);
  free(ctx->constants);
  free(ctx->error);
  free_lock(&ctx->lock);
  free_lock(&ctx->error_lock);
  ctx->cfg->in_use = 0;
  free(ctx);
}

// End of context.h

// Start of copy.h

// Cache-oblivious map-transpose function.
#define GEN_MAP_TRANSPOSE(NAME, ELEM_TYPE)                              \
  static void map_transpose_##NAME                                      \
  (ELEM_TYPE* dst, ELEM_TYPE* src,                                      \
   int64_t k, int64_t m, int64_t n,                                     \
   int64_t cb, int64_t ce, int64_t rb, int64_t re)                      \
  {                                                                     \
  int32_t r = re - rb;                                                  \
  int32_t c = ce - cb;                                                  \
  if (k == 1) {                                                         \
    if (r <= 64 && c <= 64) {                                           \
      for (int64_t j = 0; j < c; j++) {                                 \
        for (int64_t i = 0; i < r; i++) {                               \
          dst[(j + cb) * n + (i + rb)] = src[(i + rb) * m + (j + cb)];  \
        }                                                               \
      }                                                                 \
    } else if (c <= r) {                                                \
      map_transpose_##NAME(dst, src, k, m, n, cb, ce, rb, rb + r/2);    \
      map_transpose_##NAME(dst, src, k, m, n, cb, ce, rb + r/2, re);    \
    } else {                                                            \
      map_transpose_##NAME(dst, src, k, m, n, cb, cb + c/2, rb, re);    \
      map_transpose_##NAME(dst, src, k, m, n, cb + c/2, ce, rb, re);    \
    }                                                                   \
  } else {                                                              \
  for (int64_t i = 0; i < k; i++) {                                     \
    map_transpose_##NAME(dst + i * m * n, src + i * m * n, 1, m, n, cb, ce, rb, re); \
  }\
} \
}

// Straightforward LMAD copy function.
#define GEN_LMAD_COPY_ELEMENTS(NAME, ELEM_TYPE)                         \
  static void lmad_copy_elements_##NAME(int r,                          \
                                        ELEM_TYPE* dst, int64_t dst_strides[r], \
                                        ELEM_TYPE *src, int64_t src_strides[r], \
                                        int64_t shape[r]) {             \
    if (r == 1) {                                                       \
      for (int i = 0; i < shape[0]; i++) {                              \
        dst[i*dst_strides[0]] = src[i*src_strides[0]];                  \
      }                                                                 \
    } else if (r > 1) {                                                 \
      for (int i = 0; i < shape[0]; i++) {                              \
        lmad_copy_elements_##NAME(r-1,                                  \
                                  dst+i*dst_strides[0], dst_strides+1,  \
                                  src+i*src_strides[0], src_strides+1,  \
                                  shape+1);                             \
      }                                                                 \
    }                                                                   \
  }                                                                     \

// Check whether this LMAD can be seen as a transposed 2D array.  This
// is done by checking every possible splitting point.
static bool lmad_is_tr(int64_t *n_out, int64_t *m_out,
                       int r,
                       const int64_t strides[r],
                       const int64_t shape[r]) {
  for (int i = 1; i < r; i++) {
    int n = 1, m = 1;
    bool ok = true;
    int64_t expected = 1;
    // Check strides before 'i'.
    for (int j = i-1; j >= 0; j--) {
      ok = ok && strides[j] == expected;
      expected *= shape[j];
      n *= shape[j];
    }
    // Check strides after 'i'.
    for (int j = r-1; j >= i; j--) {
      ok = ok && strides[j] == expected;
      expected *= shape[j];
      m *= shape[j];
    }
    if (ok) {
      *n_out = n;
      *m_out = m;
      return true;
    }
  }
  return false;
}

// This function determines whether the a 'dst' LMAD is row-major and
// 'src' LMAD is column-major.  Both LMADs are for arrays of the same
// shape.  Both LMADs are allowed to have additional dimensions "on
// top".  Essentially, this function determines whether a copy from
// 'src' to 'dst' is a "map(transpose)" that we know how to implement
// efficiently.  The LMADs can have arbitrary rank, and the main
// challenge here is checking whether the src LMAD actually
// corresponds to a 2D column-major layout by morally collapsing
// dimensions.  There is a lot of looping here, but the actual trip
// count is going to be very low in practice.
//
// Returns true if this is indeed a map(transpose), and writes the
// number of arrays, and moral array size to appropriate output
// parameters.
static bool lmad_map_tr(int64_t *num_arrays_out, int64_t *n_out, int64_t *m_out,
                        int r,
                        const int64_t dst_strides[r],
                        const int64_t src_strides[r],
                        const int64_t shape[r]) {
  int64_t rowmajor_strides[r];
  rowmajor_strides[r-1] = 1;

  for (int i = r-2; i >= 0; i--) {
    rowmajor_strides[i] = rowmajor_strides[i+1] * shape[i+1];
  }

  // map_r will be the number of mapped dimensions on top.
  int map_r = 0;
  int64_t num_arrays = 1;
  for (int i = 0; i < r; i++) {
    if (dst_strides[i] != rowmajor_strides[i] ||
        src_strides[i] != rowmajor_strides[i]) {
      break;
    } else {
      num_arrays *= shape[i];
      map_r++;
    }
  }

  *num_arrays_out = num_arrays;

  if (r==map_r) {
    return false;
  }

  if (memcmp(&rowmajor_strides[map_r],
             &dst_strides[map_r],
             sizeof(int64_t)*(r-map_r)) == 0) {
    return lmad_is_tr(n_out, m_out, r-map_r, src_strides+map_r, shape+map_r);
  } else if (memcmp(&rowmajor_strides[map_r],
                    &src_strides[map_r],
                    sizeof(int64_t)*(r-map_r)) == 0) {
    return lmad_is_tr(m_out, n_out, r-map_r, dst_strides+map_r, shape+map_r);
  }
  return false;
}

// Check if the strides correspond to row-major strides of *any*
// permutation of the shape.  This is done by recursive search with
// backtracking.  This is worst-case exponential, but hopefully the
// arrays we encounter do not have that many dimensions.
static bool lmad_contiguous_search(int checked, int64_t expected,
                                   int r,
                                   int64_t strides[r], int64_t shape[r], bool used[r]) {
  for (int i = 0; i < r; i++) {
    for (int j = 0; j < r; j++) {
      if (!used[j] && strides[j] == expected && strides[j] >= 0) {
        used[j] = true;
        if (checked+1 == r ||
            lmad_contiguous_search(checked+1, expected * shape[j], r, strides, shape, used)) {
          return true;
        }
        used[j] = false;
      }
    }
  }
  return false;
}

// Does this LMAD correspond to an array with positive strides and no
// holes?
static bool lmad_contiguous(int r, int64_t strides[r], int64_t shape[r]) {
  bool used[r];
  for (int i = 0; i < r; i++) {
    used[i] = false;
  }
  return lmad_contiguous_search(0, 1, r, strides, shape, used);
}

// Does this copy correspond to something that could be done with a
// memcpy()-like operation?  I.e. do the LMADs actually represent the
// same in-memory layout and are they contiguous?
static bool lmad_memcpyable(int r,
                            int64_t dst_strides[r], int64_t src_strides[r], int64_t shape[r]) {
  if (!lmad_contiguous(r, dst_strides, shape)) {
    return false;
  }
  for (int i = 0; i < r; i++) {
    if (dst_strides[i] != src_strides[i] && shape[i] != 1) {
      return false;
    }
  }
  return true;
}


static void log_copy(struct futhark_context* ctx,
                     const char *kind, int r,
                     int64_t dst_offset, int64_t dst_strides[r],
                     int64_t src_offset, int64_t src_strides[r],
                     int64_t shape[r]) {
  if (ctx->logging) {
    fprintf(ctx->log, "\n# Copy %s\n", kind);
    fprintf(ctx->log, "Shape: ");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, "[%ld]", (long int)shape[i]); }
    fprintf(ctx->log, "\n");
    fprintf(ctx->log, "Dst offset: %ld\n", (long int)dst_offset);
    fprintf(ctx->log, "Dst strides:");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, " %ld", (long int)dst_strides[i]); }
    fprintf(ctx->log, "\n");
    fprintf(ctx->log, "Src offset: %ld\n", (long int)src_offset);
    fprintf(ctx->log, "Src strides:");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, " %ld", (long int)src_strides[i]); }
    fprintf(ctx->log, "\n");
  }
}

static void log_transpose(struct futhark_context* ctx,
                          int64_t k, int64_t n, int64_t m) {
  if (ctx->logging) {
    fprintf(ctx->log, "## Transpose\n");
    fprintf(ctx->log, "Arrays     : %ld\n", (long int)k);
    fprintf(ctx->log, "X elements : %ld\n", (long int)m);
    fprintf(ctx->log, "Y elements : %ld\n", (long int)n);
    fprintf(ctx->log, "\n");
  }
}

#define GEN_LMAD_COPY(NAME, ELEM_TYPE)                                  \
  static void lmad_copy_##NAME                                          \
  (struct futhark_context *ctx, int r,                                  \
   ELEM_TYPE* dst, int64_t dst_offset, int64_t dst_strides[r],          \
   ELEM_TYPE *src, int64_t src_offset, int64_t src_strides[r],          \
   int64_t shape[r]) {                                                  \
    log_copy(ctx, "CPU to CPU", r, dst_offset, dst_strides,             \
             src_offset, src_strides, shape);                           \
    int64_t size = 1;                                                   \
    for (int i = 0; i < r; i++) { size *= shape[i]; }                   \
    if (size == 0) { return; }                                          \
    int64_t k, n, m;                                                    \
    if (lmad_map_tr(&k, &n, &m,                                         \
                    r, dst_strides, src_strides, shape)) {              \
      log_transpose(ctx, k, n, m);                                      \
      map_transpose_##NAME                                              \
        (dst+dst_offset, src+src_offset, k, n, m, 0, n, 0, m);          \
    } else if (lmad_memcpyable(r, dst_strides, src_strides, shape)) {   \
      if (ctx->logging) {fprintf(ctx->log, "## Flat copy\n\n");}          \
      memcpy(dst+dst_offset, src+src_offset, size*sizeof(*dst));        \
    } else {                                                            \
      if (ctx->logging) {fprintf(ctx->log, "## General copy\n\n");}       \
      lmad_copy_elements_##NAME                                         \
        (r,                                                             \
         dst+dst_offset, dst_strides,                                   \
         src+src_offset, src_strides, shape);                           \
    }                                                                   \
  }

GEN_MAP_TRANSPOSE(1b, uint8_t)
GEN_MAP_TRANSPOSE(2b, uint16_t)
GEN_MAP_TRANSPOSE(4b, uint32_t)
GEN_MAP_TRANSPOSE(8b, uint64_t)

GEN_LMAD_COPY_ELEMENTS(1b, uint8_t)
GEN_LMAD_COPY_ELEMENTS(2b, uint16_t)
GEN_LMAD_COPY_ELEMENTS(4b, uint32_t)
GEN_LMAD_COPY_ELEMENTS(8b, uint64_t)

GEN_LMAD_COPY(1b, uint8_t)
GEN_LMAD_COPY(2b, uint16_t)
GEN_LMAD_COPY(4b, uint32_t)
GEN_LMAD_COPY(8b, uint64_t)

// End of copy.h

#define FUTHARK_FUN_ATTR static

FUTHARK_FUN_ATTR int futrts_entry_argmin_double(struct futhark_context *ctx, int64_t *out_prim_out_185978, struct memblock ks_mem_184305, int64_t n_111709);
FUTHARK_FUN_ATTR int futrts_entry_argmin_float(struct futhark_context *ctx, int64_t *out_prim_out_185979, struct memblock ks_mem_184305, int64_t n_111540);
FUTHARK_FUN_ATTR int futrts_entry_argmin_int(struct futhark_context *ctx, int64_t *out_prim_out_185980, struct memblock ks_mem_184305, int64_t n_111205);
FUTHARK_FUN_ATTR int futrts_entry_argmin_long(struct futhark_context *ctx, int64_t *out_prim_out_185981, struct memblock ks_mem_184305, int64_t n_111371);
FUTHARK_FUN_ATTR int futrts_entry_argmin_short(struct futhark_context *ctx, int64_t *out_prim_out_185982, struct memblock ks_mem_184305, int64_t n_111039);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_185983, struct memblock *mem_out_p_185984, struct memblock xs_mem_184305, int64_t n_109787, int64_t incr_109788);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_185995, struct memblock *mem_out_p_185996, struct memblock xs_mem_184305, int64_t n_107443, int64_t incr_107444);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_186007, struct memblock *mem_out_p_186008, struct memblock xs_mem_184305, int64_t n_102756, int64_t incr_102757);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_186019, struct memblock *mem_out_p_186020, struct memblock xs_mem_184305, int64_t n_105099, int64_t incr_105100);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_186031, struct memblock *mem_out_p_186032, struct memblock xs_mem_184305, int64_t n_100412, int64_t incr_100413);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_double(struct futhark_context *ctx, struct memblock *mem_out_p_186043, struct memblock *mem_out_p_186044, struct memblock *mem_out_p_186045, int64_t *out_prim_out_186046, struct memblock a_list_mem_184305, struct memblock b_list_mem_184306, int64_t na_164063, int64_t nb_164064, int64_t window_sizze_164065, int64_t threads_164066, bool inParallel_164069);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_float(struct futhark_context *ctx, struct memblock *mem_out_p_186097, struct memblock *mem_out_p_186098, struct memblock *mem_out_p_186099, int64_t *out_prim_out_186100, struct memblock a_list_mem_184305, struct memblock b_list_mem_184306, int64_t na_153597, int64_t nb_153598, int64_t window_sizze_153599, int64_t threads_153600, bool inParallel_153603);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_int(struct futhark_context *ctx, struct memblock *mem_out_p_186151, struct memblock *mem_out_p_186152, struct memblock *mem_out_p_186153, int64_t *out_prim_out_186154, struct memblock a_list_mem_184305, struct memblock b_list_mem_184306, int64_t na_132665, int64_t nb_132666, int64_t window_sizze_132667, int64_t threads_132668, bool inParallel_132671);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_long(struct futhark_context *ctx, struct memblock *mem_out_p_186205, struct memblock *mem_out_p_186206, struct memblock *mem_out_p_186207, int64_t *out_prim_out_186208, struct memblock a_list_mem_184305, struct memblock b_list_mem_184306, int64_t na_143131, int64_t nb_143132, int64_t window_sizze_143133, int64_t threads_143134, bool inParallel_143137);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_short(struct futhark_context *ctx, struct memblock *mem_out_p_186259, struct memblock *mem_out_p_186260, struct memblock *mem_out_p_186261, int64_t *out_prim_out_186262, struct memblock a_list_mem_184305, struct memblock b_list_mem_184306, int64_t na_122199, int64_t nb_122200, int64_t window_sizze_122201, int64_t threads_122202, bool inParallel_122205);
FUTHARK_FUN_ATTR int futrts_entry_mergeTups_double(struct futhark_context *ctx, struct memblock *mem_out_p_186313, struct memblock *mem_out_p_186314, struct memblock *mem_out_p_186315, struct memblock xs_mem_184305, struct memblock ys_mem_184306, int64_t w1_166588, int64_t w2_166589);
FUTHARK_FUN_ATTR int futrts_entry_mergeTups_float(struct futhark_context *ctx, struct memblock *mem_out_p_186316, struct memblock *mem_out_p_186317, struct memblock *mem_out_p_186318, struct memblock xs_mem_184305, struct memblock ys_mem_184306, int64_t w1_166089, int64_t w2_166090);
FUTHARK_FUN_ATTR int futrts_entry_mergeTups_int(struct futhark_context *ctx, struct memblock *mem_out_p_186319, struct memblock *mem_out_p_186320, struct memblock *mem_out_p_186321, struct memblock xs_mem_184305, struct memblock ys_mem_184306, int64_t w1_165111, int64_t w2_165112);
FUTHARK_FUN_ATTR int futrts_entry_mergeTups_long(struct futhark_context *ctx, struct memblock *mem_out_p_186322, struct memblock *mem_out_p_186323, struct memblock *mem_out_p_186324, struct memblock xs_mem_184305, struct memblock ys_mem_184306, int64_t w1_165590, int64_t w2_165591);
FUTHARK_FUN_ATTR int futrts_entry_mergeTups_short(struct futhark_context *ctx, struct memblock *mem_out_p_186325, struct memblock *mem_out_p_186326, struct memblock *mem_out_p_186327, struct memblock xs_mem_184305, struct memblock ys_mem_184306, int64_t w1_164612, int64_t w2_164613);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_double(struct futhark_context *ctx, struct memblock *mem_out_p_186328, struct memblock is_mem_184305, struct memblock ys_mem_184306, int64_t n_110870, int64_t incr_110871, int64_t block_sizze_110872);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_float(struct futhark_context *ctx, struct memblock *mem_out_p_186329, struct memblock is_mem_184305, struct memblock ys_mem_184306, int64_t n_110653, int64_t incr_110654, int64_t block_sizze_110655);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_int(struct futhark_context *ctx, struct memblock *mem_out_p_186330, struct memblock is_mem_184305, struct memblock ys_mem_184306, int64_t n_110232, int64_t incr_110233, int64_t block_sizze_110234);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_long(struct futhark_context *ctx, struct memblock *mem_out_p_186331, struct memblock is_mem_184305, struct memblock ys_mem_184306, int64_t n_110436, int64_t incr_110437, int64_t block_sizze_110438);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_short(struct futhark_context *ctx, struct memblock *mem_out_p_186332, struct memblock is_mem_184305, struct memblock ys_mem_184306, int64_t n_110015, int64_t incr_110016, int64_t block_sizze_110017);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_186333, struct memblock *mem_out_p_186334, struct memblock xs_mem_184305, int64_t n_97956, int64_t incr_97957, int16_t block_sizze_97958);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_186360, struct memblock *mem_out_p_186361, struct memblock xs_mem_184305, int64_t n_95201, int64_t incr_95202, int16_t block_sizze_95203);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_186387, struct memblock *mem_out_p_186388, struct memblock xs_mem_184305, int64_t n_89850, int64_t incr_89851, int16_t block_sizze_89852);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_186414, struct memblock *mem_out_p_186415, struct memblock xs_mem_184305, int64_t n_92450, int64_t incr_92451, int16_t block_sizze_92452);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_186441, struct memblock *mem_out_p_186442, struct memblock xs_mem_184305, int64_t n_87233, int64_t incr_87234, int16_t block_sizze_87235);
FUTHARK_FUN_ATTR int futrts_get_bit_1844(struct futhark_context *ctx, int32_t *out_prim_out_186468, int32_t bit_85081, int16_t x_85082);
FUTHARK_FUN_ATTR int futrts_get_bit_2253(struct futhark_context *ctx, int32_t *out_prim_out_186469, int32_t bit_90298, int64_t x_90299);
FUTHARK_FUN_ATTR int futrts_greatest_divisor_leq_than_4833(struct futhark_context *ctx, int64_t *out_prim_out_186470, int64_t upper_bound_97980, int64_t n_97981);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9161(struct futhark_context *ctx, struct memblock *mem_out_p_186471, struct memblock xs_mem_184305, int64_t n_84378, int64_t incr_84379);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9316(struct futhark_context *ctx, struct memblock *mem_out_p_186472, struct memblock xs_mem_184305, int64_t n_87258, int64_t incr_87259);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9426(struct futhark_context *ctx, struct memblock *mem_out_p_186473, struct memblock xs_mem_184305, int64_t n_89875, int64_t incr_89876);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9526(struct futhark_context *ctx, struct memblock *mem_out_p_186474, struct memblock xs_mem_184305, int64_t n_92475, int64_t incr_92476);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9635(struct futhark_context *ctx, struct memblock *mem_out_p_186475, struct memblock xs_mem_184305, int64_t n_95226, int64_t incr_95227);
FUTHARK_FUN_ATTR int futrts_lifted_f_9124(struct futhark_context *ctx, int64_t *out_prim_out_186476, int16_t na_84605, int16_t nb_84606, int16_t nc_84607, int16_t bin_84608, int16_t a_84609, int16_t b_84610, int16_t c_84611, int16_t d_84612);
FUTHARK_FUN_ATTR int futrts_lifted_lambda_9123(struct futhark_context *ctx, int16_t *out_prim_out_186477, int16_t *out_prim_out_186478, int16_t *out_prim_out_186479, int16_t *out_prim_out_186480, int16_t x_84548);
FUTHARK_FUN_ATTR int futrts_lifted_normalizze_9100(struct futhark_context *ctx, int64_t *out_prim_out_186481, int64_t *out_prim_out_186482, int64_t *out_prim_out_186483, int64_t *out_prim_out_186484, int64_t *out_prim_out_186485, int64_t slo_98199, int64_t shi_98200, int64_t tlo_98201, int64_t thi_98202, int64_t count_98203);

static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
struct futhark_i8_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i8_1d *futhark_new_i8_1d(struct futhark_context *ctx, const int8_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i8_1d *bad = NULL;
    struct futhark_i8_1d *arr = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 1, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 1 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 1);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i8_1d *futhark_new_raw_i8_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i8_1d *bad = NULL;
    struct futhark_i8_1d *arr = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr, int8_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 1 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 1);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i8_1d(struct futhark_context *ctx, int8_t *out, struct futhark_i8_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (1 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 1 * (i0 * 1), 1);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i16_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i16_1d *futhark_new_i16_1d(struct futhark_context *ctx, const int16_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i16_1d *bad = NULL;
    struct futhark_i16_1d *arr = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 2, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 2 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 2);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i16_1d *futhark_new_raw_i16_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i16_1d *bad = NULL;
    struct futhark_i16_1d *arr = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr, int16_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 2 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 2);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i16_1d(struct futhark_context *ctx, int16_t *out, struct futhark_i16_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (2 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 2 * (i0 * 1), 2);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i32_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i32_1d *futhark_new_i32_1d(struct futhark_context *ctx, const int32_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i32_1d *bad = NULL;
    struct futhark_i32_1d *arr = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 4, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 4 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 4);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i32_1d *futhark_new_raw_i32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i32_1d *bad = NULL;
    struct futhark_i32_1d *arr = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr, int32_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 4 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 4);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i32_1d(struct futhark_context *ctx, int32_t *out, struct futhark_i32_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (4 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 4 * (i0 * 1), 4);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i64_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i64_1d *futhark_new_i64_1d(struct futhark_context *ctx, const int64_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i64_1d *bad = NULL;
    struct futhark_i64_1d *arr = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 8 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 8);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i64_1d *futhark_new_raw_i64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i64_1d *bad = NULL;
    struct futhark_i64_1d *arr = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr, int64_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 8 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 8);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i64_1d(struct futhark_context *ctx, int64_t *out, struct futhark_i64_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (8 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 8 * (i0 * 1), 8);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f32_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_f32_1d *futhark_new_f32_1d(struct futhark_context *ctx, const float *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f32_1d *bad = NULL;
    struct futhark_f32_1d *arr = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 4, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 4 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 4);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_f32_1d *futhark_new_raw_f32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f32_1d *bad = NULL;
    struct futhark_f32_1d *arr = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr, float *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 4 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 4);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_f32_1d(struct futhark_context *ctx, float *out, struct futhark_f32_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (4 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 4 * (i0 * 1), 4);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f64_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_f64_1d *futhark_new_f64_1d(struct futhark_context *ctx, const double *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f64_1d *bad = NULL;
    struct futhark_f64_1d *arr = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 8 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 8);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_f64_1d *futhark_new_raw_f64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f64_1d *bad = NULL;
    struct futhark_f64_1d *arr = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr, double *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 8 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 8);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_f64_1d(struct futhark_context *ctx, double *out, struct futhark_f64_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (8 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 8 * (i0 * 1), 8);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_opaque_sortInfo_short {
    struct futhark_i64_1d *v0;
    struct futhark_i16_1d *v1;
};
int futhark_project_opaque_sortInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_short_xs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_sortInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i16_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i16_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i16_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i16_1d *f_xs)
{
    struct futhark_opaque_sortInfo_short *v = malloc(sizeof(struct futhark_opaque_sortInfo_short));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i16_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_short(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_short *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i16_1d(ctx, obj->v1)[0] * sizeof(int16_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i16", 4);
        out += 4;
        memcpy(out, futhark_shape_i16_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i16_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i16_1d(ctx, obj->v1)[0] * sizeof(int16_t);
    }
    return ret;
}
struct futhark_opaque_sortInfo_short *futhark_restore_opaque_sortInfo_short(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_short *obj = malloc(sizeof(struct futhark_opaque_sortInfo_short));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i16", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int16_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i16_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_int {
    struct futhark_i64_1d *v0;
    struct futhark_i32_1d *v1;
};
int futhark_project_opaque_sortInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_int_xs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_sortInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i32_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i32_1d *f_xs)
{
    struct futhark_opaque_sortInfo_int *v = malloc(sizeof(struct futhark_opaque_sortInfo_int));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i32_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_int(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_int *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i32_1d(ctx, obj->v1)[0] * sizeof(int32_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i32", 4);
        out += 4;
        memcpy(out, futhark_shape_i32_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i32_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i32_1d(ctx, obj->v1)[0] * sizeof(int32_t);
    }
    return ret;
}
struct futhark_opaque_sortInfo_int *futhark_restore_opaque_sortInfo_int(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_int *obj = malloc(sizeof(struct futhark_opaque_sortInfo_int));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int32_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i32_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_long {
    struct futhark_i64_1d *v0;
    struct futhark_i64_1d *v1;
};
int futhark_project_opaque_sortInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_long_xs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i64_1d *f_xs)
{
    struct futhark_opaque_sortInfo_long *v = malloc(sizeof(struct futhark_opaque_sortInfo_long));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i64_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_long(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_long *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    }
    return ret;
}
struct futhark_opaque_sortInfo_long *futhark_restore_opaque_sortInfo_long(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_long *obj = malloc(sizeof(struct futhark_opaque_sortInfo_long));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int64_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_float {
    struct futhark_i64_1d *v0;
    struct futhark_f32_1d *v1;
};
int futhark_project_opaque_sortInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_float_xs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_sortInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_f32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f32_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_f32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_f32_1d *f_xs)
{
    struct futhark_opaque_sortInfo_float *v = malloc(sizeof(struct futhark_opaque_sortInfo_float));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_f32_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_float(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_float *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v1)[0] * sizeof(float);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v1)[0] * sizeof(float);
    }
    return ret;
}
struct futhark_opaque_sortInfo_float *futhark_restore_opaque_sortInfo_float(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_float *obj = malloc(sizeof(struct futhark_opaque_sortInfo_float));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(float);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_f32_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_double {
    struct futhark_i64_1d *v0;
    struct futhark_f64_1d *v1;
};
int futhark_project_opaque_sortInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_double_xs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_sortInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_f64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_f64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_f64_1d *f_xs)
{
    struct futhark_opaque_sortInfo_double *v = malloc(sizeof(struct futhark_opaque_sortInfo_double));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_f64_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_double(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_double *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_f64_1d(ctx, obj->v1)[0] * sizeof(double);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_f64_1d(ctx, obj->v1)[0] * sizeof(double);
    }
    return ret;
}
struct futhark_opaque_sortInfo_double *futhark_restore_opaque_sortInfo_double(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_double *obj = malloc(sizeof(struct futhark_opaque_sortInfo_double));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(double);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_f64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_short {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_i16_1d *v2;
};
int futhark_project_opaque_mergeInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_short_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_short_vs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i16_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i16_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i16_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i16_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_short *v = malloc(sizeof(struct futhark_opaque_mergeInfo_short));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i16_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_short(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_short *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i16_1d(ctx, obj->v2)[0] * sizeof(int16_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i16", 4);
        out += 4;
        memcpy(out, futhark_shape_i16_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i16_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i16_1d(ctx, obj->v2)[0] * sizeof(int16_t);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_short *futhark_restore_opaque_mergeInfo_short(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_short *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_short));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i16", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int16_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i16_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_int {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_i32_1d *v2;
};
int futhark_project_opaque_mergeInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_int_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_int_vs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i32_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i32_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_int *v = malloc(sizeof(struct futhark_opaque_mergeInfo_int));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i32_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_int(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_int *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i32_1d(ctx, obj->v2)[0] * sizeof(int32_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i32", 4);
        out += 4;
        memcpy(out, futhark_shape_i32_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i32_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i32_1d(ctx, obj->v2)[0] * sizeof(int32_t);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_int *futhark_restore_opaque_mergeInfo_int(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_int *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_int));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int32_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i32_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_long {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_i64_1d *v2;
};
int futhark_project_opaque_mergeInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_long_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_long_vs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i64_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_long *v = malloc(sizeof(struct futhark_opaque_mergeInfo_long));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i64_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_long(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_long *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_long *futhark_restore_opaque_mergeInfo_long(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_long *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_long));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int64_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i64_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_float {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_f32_1d *v2;
};
int futhark_project_opaque_mergeInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_float_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_float_vs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_f32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f32_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_f32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f32_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_float *v = malloc(sizeof(struct futhark_opaque_mergeInfo_float));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_f32_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_float(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_float *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v2)[0] * sizeof(float);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v2)[0] * sizeof(float);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_float *futhark_restore_opaque_mergeInfo_float(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_float *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_float));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(float);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f32_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_double {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_f64_1d *v2;
};
int futhark_project_opaque_mergeInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_double_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_double_vs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_f64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f64_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_f64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f64_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_double *v = malloc(sizeof(struct futhark_opaque_mergeInfo_double));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_f64_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_double(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_double *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_f64_1d(ctx, obj->v2)[0] * sizeof(double);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f64_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f64_1d(ctx, obj->v2)[0] * sizeof(double);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_double *futhark_restore_opaque_mergeInfo_double(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_double *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_double));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(double);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f64_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeTup_short {
    struct futhark_i64_1d *v0;
    struct futhark_i64_1d *v1;
    struct futhark_i16_1d *v2;
};
int futhark_project_opaque_mergeTup_short_cs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_short *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeTup_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_short *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeTup_short_xs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_mergeTup_short *obj)
{
    (void) ctx;
    
    struct futhark_i16_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i16_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i16_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeTup_short(struct futhark_context *ctx, struct futhark_opaque_mergeTup_short **out, const struct futhark_i64_1d *f_cs, const struct futhark_i64_1d *f_is, const struct futhark_i16_1d *f_xs)
{
    struct futhark_opaque_mergeTup_short *v = malloc(sizeof(struct futhark_opaque_mergeTup_short));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_cs;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i64_1d));
        *v->v1 = *f_is;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i16_1d));
        *v->v2 = *f_xs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeTup_short(struct futhark_context *ctx, struct futhark_opaque_mergeTup_short *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeTup_short(struct futhark_context *ctx, const struct futhark_opaque_mergeTup_short *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i16_1d(ctx, obj->v2)[0] * sizeof(int16_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i16", 4);
        out += 4;
        memcpy(out, futhark_shape_i16_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i16_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i16_1d(ctx, obj->v2)[0] * sizeof(int16_t);
    }
    return ret;
}
struct futhark_opaque_mergeTup_short *futhark_restore_opaque_mergeTup_short(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeTup_short *obj = malloc(sizeof(struct futhark_opaque_mergeTup_short));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int64_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i16", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int16_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i16_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeTup_int {
    struct futhark_i64_1d *v0;
    struct futhark_i64_1d *v1;
    struct futhark_i32_1d *v2;
};
int futhark_project_opaque_mergeTup_int_cs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_int *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeTup_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_int *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeTup_int_xs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_mergeTup_int *obj)
{
    (void) ctx;
    
    struct futhark_i32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i32_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeTup_int(struct futhark_context *ctx, struct futhark_opaque_mergeTup_int **out, const struct futhark_i64_1d *f_cs, const struct futhark_i64_1d *f_is, const struct futhark_i32_1d *f_xs)
{
    struct futhark_opaque_mergeTup_int *v = malloc(sizeof(struct futhark_opaque_mergeTup_int));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_cs;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i64_1d));
        *v->v1 = *f_is;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i32_1d));
        *v->v2 = *f_xs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeTup_int(struct futhark_context *ctx, struct futhark_opaque_mergeTup_int *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeTup_int(struct futhark_context *ctx, const struct futhark_opaque_mergeTup_int *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i32_1d(ctx, obj->v2)[0] * sizeof(int32_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i32", 4);
        out += 4;
        memcpy(out, futhark_shape_i32_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i32_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i32_1d(ctx, obj->v2)[0] * sizeof(int32_t);
    }
    return ret;
}
struct futhark_opaque_mergeTup_int *futhark_restore_opaque_mergeTup_int(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeTup_int *obj = malloc(sizeof(struct futhark_opaque_mergeTup_int));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int64_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int32_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i32_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeTup_long {
    struct futhark_i64_1d *v0;
    struct futhark_i64_1d *v1;
    struct futhark_i64_1d *v2;
};
int futhark_project_opaque_mergeTup_long_cs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeTup_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeTup_long_xs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeTup_long(struct futhark_context *ctx, struct futhark_opaque_mergeTup_long **out, const struct futhark_i64_1d *f_cs, const struct futhark_i64_1d *f_is, const struct futhark_i64_1d *f_xs)
{
    struct futhark_opaque_mergeTup_long *v = malloc(sizeof(struct futhark_opaque_mergeTup_long));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_cs;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i64_1d));
        *v->v1 = *f_is;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i64_1d));
        *v->v2 = *f_xs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeTup_long(struct futhark_context *ctx, struct futhark_opaque_mergeTup_long *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeTup_long(struct futhark_context *ctx, const struct futhark_opaque_mergeTup_long *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
    }
    return ret;
}
struct futhark_opaque_mergeTup_long *futhark_restore_opaque_mergeTup_long(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeTup_long *obj = malloc(sizeof(struct futhark_opaque_mergeTup_long));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int64_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int64_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i64_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeTup_float {
    struct futhark_i64_1d *v0;
    struct futhark_i64_1d *v1;
    struct futhark_f32_1d *v2;
};
int futhark_project_opaque_mergeTup_float_cs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_float *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeTup_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_float *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeTup_float_xs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_mergeTup_float *obj)
{
    (void) ctx;
    
    struct futhark_f32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f32_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_f32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeTup_float(struct futhark_context *ctx, struct futhark_opaque_mergeTup_float **out, const struct futhark_i64_1d *f_cs, const struct futhark_i64_1d *f_is, const struct futhark_f32_1d *f_xs)
{
    struct futhark_opaque_mergeTup_float *v = malloc(sizeof(struct futhark_opaque_mergeTup_float));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_cs;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i64_1d));
        *v->v1 = *f_is;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_f32_1d));
        *v->v2 = *f_xs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeTup_float(struct futhark_context *ctx, struct futhark_opaque_mergeTup_float *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeTup_float(struct futhark_context *ctx, const struct futhark_opaque_mergeTup_float *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v2)[0] * sizeof(float);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v2)[0] * sizeof(float);
    }
    return ret;
}
struct futhark_opaque_mergeTup_float *futhark_restore_opaque_mergeTup_float(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeTup_float *obj = malloc(sizeof(struct futhark_opaque_mergeTup_float));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int64_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(float);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f32_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeTup_double {
    struct futhark_i64_1d *v0;
    struct futhark_i64_1d *v1;
    struct futhark_f64_1d *v2;
};
int futhark_project_opaque_mergeTup_double_cs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeTup_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeTup_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeTup_double_xs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_mergeTup_double *obj)
{
    (void) ctx;
    
    struct futhark_f64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f64_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_f64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeTup_double(struct futhark_context *ctx, struct futhark_opaque_mergeTup_double **out, const struct futhark_i64_1d *f_cs, const struct futhark_i64_1d *f_is, const struct futhark_f64_1d *f_xs)
{
    struct futhark_opaque_mergeTup_double *v = malloc(sizeof(struct futhark_opaque_mergeTup_double));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_cs;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i64_1d));
        *v->v1 = *f_is;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_f64_1d));
        *v->v2 = *f_xs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeTup_double(struct futhark_context *ctx, struct futhark_opaque_mergeTup_double *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeTup_double(struct futhark_context *ctx, const struct futhark_opaque_mergeTup_double *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_f64_1d(ctx, obj->v2)[0] * sizeof(double);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f64_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f64_1d(ctx, obj->v2)[0] * sizeof(double);
    }
    return ret;
}
struct futhark_opaque_mergeTup_double *futhark_restore_opaque_mergeTup_double(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeTup_double *obj = malloc(sizeof(struct futhark_opaque_mergeTup_double));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int64_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(double);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f64_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}

FUTHARK_FUN_ATTR int futrts_entry_argmin_double(struct futhark_context *ctx, int64_t *out_prim_out_185978, struct memblock ks_mem_184305, int64_t n_111709)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_185719;
    int64_t defunc_0_reduce_comm_res_181817;
    double defunc_0_reduce_comm_res_181818;
    int64_t redout_183965;
    double redout_183966;
    
    redout_183965 = n_111709;
    redout_183966 = INFINITY;
    for (int64_t i_183967 = 0; i_183967 < n_111709; i_183967++) {
        double x_167839 = ((double *) ks_mem_184305.mem)[i_183967];
        bool defunc_0_lt_res_167844 = redout_183966 < x_167839;
        bool defunc_0_eq_res_167846 = redout_183966 == x_167839;
        bool cond_f_res_t_res_167847 = slt64(redout_183965, i_183967);
        bool x_167848 = defunc_0_eq_res_167846 && cond_f_res_t_res_167847;
        bool x_181550 = !defunc_0_lt_res_167844;
        bool y_181551 = x_167848 && x_181550;
        bool cond_167845 = defunc_0_lt_res_167844 || y_181551;
        int64_t defunc_0_op_res_167849;
        
        if (cond_167845) {
            defunc_0_op_res_167849 = redout_183965;
        } else {
            defunc_0_op_res_167849 = i_183967;
        }
        
        double defunc_0_op_res_167850;
        
        if (cond_167845) {
            defunc_0_op_res_167850 = redout_183966;
        } else {
            defunc_0_op_res_167850 = x_167839;
        }
        
        int64_t redout_tmp_185720 = defunc_0_op_res_167849;
        double redout_tmp_185721 = defunc_0_op_res_167850;
        
        redout_183965 = redout_tmp_185720;
        redout_183966 = redout_tmp_185721;
    }
    defunc_0_reduce_comm_res_181817 = redout_183965;
    defunc_0_reduce_comm_res_181818 = redout_183966;
    prim_out_185719 = defunc_0_reduce_comm_res_181817;
    *out_prim_out_185978 = prim_out_185719;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_float(struct futhark_context *ctx, int64_t *out_prim_out_185979, struct memblock ks_mem_184305, int64_t n_111540)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_185719;
    int64_t defunc_0_reduce_comm_res_181817;
    float defunc_0_reduce_comm_res_181818;
    int64_t redout_183965;
    float redout_183966;
    
    redout_183965 = n_111540;
    redout_183966 = INFINITY;
    for (int64_t i_183967 = 0; i_183967 < n_111540; i_183967++) {
        float x_167839 = ((float *) ks_mem_184305.mem)[i_183967];
        bool defunc_0_lt_res_167844 = redout_183966 < x_167839;
        bool defunc_0_eq_res_167846 = redout_183966 == x_167839;
        bool cond_f_res_t_res_167847 = slt64(redout_183965, i_183967);
        bool x_167848 = defunc_0_eq_res_167846 && cond_f_res_t_res_167847;
        bool x_181550 = !defunc_0_lt_res_167844;
        bool y_181551 = x_167848 && x_181550;
        bool cond_167845 = defunc_0_lt_res_167844 || y_181551;
        int64_t defunc_0_op_res_167849;
        
        if (cond_167845) {
            defunc_0_op_res_167849 = redout_183965;
        } else {
            defunc_0_op_res_167849 = i_183967;
        }
        
        float defunc_0_op_res_167850;
        
        if (cond_167845) {
            defunc_0_op_res_167850 = redout_183966;
        } else {
            defunc_0_op_res_167850 = x_167839;
        }
        
        int64_t redout_tmp_185720 = defunc_0_op_res_167849;
        float redout_tmp_185721 = defunc_0_op_res_167850;
        
        redout_183965 = redout_tmp_185720;
        redout_183966 = redout_tmp_185721;
    }
    defunc_0_reduce_comm_res_181817 = redout_183965;
    defunc_0_reduce_comm_res_181818 = redout_183966;
    prim_out_185719 = defunc_0_reduce_comm_res_181817;
    *out_prim_out_185979 = prim_out_185719;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_int(struct futhark_context *ctx, int64_t *out_prim_out_185980, struct memblock ks_mem_184305, int64_t n_111205)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_185719;
    int64_t defunc_0_reduce_comm_res_181817;
    int32_t defunc_0_reduce_comm_res_181818;
    int64_t redout_183965;
    int32_t redout_183966;
    
    redout_183965 = n_111205;
    redout_183966 = 2147483647;
    for (int64_t i_183967 = 0; i_183967 < n_111205; i_183967++) {
        int32_t x_167839 = ((int32_t *) ks_mem_184305.mem)[i_183967];
        bool defunc_0_lt_res_167844 = slt32(redout_183966, x_167839);
        bool defunc_0_eq_res_167846 = redout_183966 == x_167839;
        bool cond_f_res_t_res_167847 = slt64(redout_183965, i_183967);
        bool x_167848 = defunc_0_eq_res_167846 && cond_f_res_t_res_167847;
        bool x_181550 = !defunc_0_lt_res_167844;
        bool y_181551 = x_167848 && x_181550;
        bool cond_167845 = defunc_0_lt_res_167844 || y_181551;
        int64_t defunc_0_op_res_167849;
        
        if (cond_167845) {
            defunc_0_op_res_167849 = redout_183965;
        } else {
            defunc_0_op_res_167849 = i_183967;
        }
        
        int32_t defunc_0_op_res_167850;
        
        if (cond_167845) {
            defunc_0_op_res_167850 = redout_183966;
        } else {
            defunc_0_op_res_167850 = x_167839;
        }
        
        int64_t redout_tmp_185720 = defunc_0_op_res_167849;
        int32_t redout_tmp_185721 = defunc_0_op_res_167850;
        
        redout_183965 = redout_tmp_185720;
        redout_183966 = redout_tmp_185721;
    }
    defunc_0_reduce_comm_res_181817 = redout_183965;
    defunc_0_reduce_comm_res_181818 = redout_183966;
    prim_out_185719 = defunc_0_reduce_comm_res_181817;
    *out_prim_out_185980 = prim_out_185719;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_long(struct futhark_context *ctx, int64_t *out_prim_out_185981, struct memblock ks_mem_184305, int64_t n_111371)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_185719;
    int64_t defunc_0_reduce_comm_res_181817;
    int64_t defunc_0_reduce_comm_res_181818;
    int64_t redout_183965;
    int64_t redout_183966;
    
    redout_183965 = n_111371;
    redout_183966 = (int64_t) 9223372036854775807;
    for (int64_t i_183967 = 0; i_183967 < n_111371; i_183967++) {
        int64_t x_167839 = ((int64_t *) ks_mem_184305.mem)[i_183967];
        bool defunc_0_lt_res_167844 = slt64(redout_183966, x_167839);
        bool defunc_0_eq_res_167846 = redout_183966 == x_167839;
        bool cond_f_res_t_res_167847 = slt64(redout_183965, i_183967);
        bool x_167848 = defunc_0_eq_res_167846 && cond_f_res_t_res_167847;
        bool x_181550 = !defunc_0_lt_res_167844;
        bool y_181551 = x_167848 && x_181550;
        bool cond_167845 = defunc_0_lt_res_167844 || y_181551;
        int64_t defunc_0_op_res_167849;
        
        if (cond_167845) {
            defunc_0_op_res_167849 = redout_183965;
        } else {
            defunc_0_op_res_167849 = i_183967;
        }
        
        int64_t defunc_0_op_res_167850;
        
        if (cond_167845) {
            defunc_0_op_res_167850 = redout_183966;
        } else {
            defunc_0_op_res_167850 = x_167839;
        }
        
        int64_t redout_tmp_185720 = defunc_0_op_res_167849;
        int64_t redout_tmp_185721 = defunc_0_op_res_167850;
        
        redout_183965 = redout_tmp_185720;
        redout_183966 = redout_tmp_185721;
    }
    defunc_0_reduce_comm_res_181817 = redout_183965;
    defunc_0_reduce_comm_res_181818 = redout_183966;
    prim_out_185719 = defunc_0_reduce_comm_res_181817;
    *out_prim_out_185981 = prim_out_185719;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_short(struct futhark_context *ctx, int64_t *out_prim_out_185982, struct memblock ks_mem_184305, int64_t n_111039)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_185719;
    int64_t defunc_0_reduce_comm_res_181817;
    int16_t defunc_0_reduce_comm_res_181818;
    int64_t redout_183965;
    int16_t redout_183966;
    
    redout_183965 = n_111039;
    redout_183966 = (int16_t) 32767;
    for (int64_t i_183967 = 0; i_183967 < n_111039; i_183967++) {
        int16_t x_167839 = ((int16_t *) ks_mem_184305.mem)[i_183967];
        bool defunc_0_lt_res_167844 = slt16(redout_183966, x_167839);
        bool defunc_0_eq_res_167846 = redout_183966 == x_167839;
        bool cond_f_res_t_res_167847 = slt64(redout_183965, i_183967);
        bool x_167848 = defunc_0_eq_res_167846 && cond_f_res_t_res_167847;
        bool x_181550 = !defunc_0_lt_res_167844;
        bool y_181551 = x_167848 && x_181550;
        bool cond_167845 = defunc_0_lt_res_167844 || y_181551;
        int64_t defunc_0_op_res_167849;
        
        if (cond_167845) {
            defunc_0_op_res_167849 = redout_183965;
        } else {
            defunc_0_op_res_167849 = i_183967;
        }
        
        int16_t defunc_0_op_res_167850;
        
        if (cond_167845) {
            defunc_0_op_res_167850 = redout_183966;
        } else {
            defunc_0_op_res_167850 = x_167839;
        }
        
        int64_t redout_tmp_185720 = defunc_0_op_res_167849;
        int16_t redout_tmp_185721 = defunc_0_op_res_167850;
        
        redout_183965 = redout_tmp_185720;
        redout_183966 = redout_tmp_185721;
    }
    defunc_0_reduce_comm_res_181817 = redout_183965;
    defunc_0_reduce_comm_res_181818 = redout_183966;
    prim_out_185719 = defunc_0_reduce_comm_res_181817;
    *out_prim_out_185982 = prim_out_185719;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_185983, struct memblock *mem_out_p_185984, struct memblock xs_mem_184305, int64_t n_109787, int64_t incr_109788)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_184311_cached_sizze_185985 = 0;
    unsigned char *mem_184311 = NULL;
    int64_t mem_184314_cached_sizze_185986 = 0;
    unsigned char *mem_184314 = NULL;
    int64_t mem_184324_cached_sizze_185987 = 0;
    unsigned char *mem_184324 = NULL;
    int64_t mem_184326_cached_sizze_185988 = 0;
    unsigned char *mem_184326 = NULL;
    int64_t mem_184393_cached_sizze_185989 = 0;
    unsigned char *mem_184393 = NULL;
    int64_t mem_184396_cached_sizze_185990 = 0;
    unsigned char *mem_184396 = NULL;
    int64_t mem_184406_cached_sizze_185991 = 0;
    unsigned char *mem_184406 = NULL;
    int64_t mem_184408_cached_sizze_185992 = 0;
    unsigned char *mem_184408 = NULL;
    int64_t mem_184423_cached_sizze_185993 = 0;
    unsigned char *mem_184423 = NULL;
    int64_t mem_184426_cached_sizze_185994 = 0;
    unsigned char *mem_184426 = NULL;
    struct memblock mem_184517;
    
    mem_184517.references = NULL;
    
    struct memblock mem_184515;
    
    mem_184515.references = NULL;
    
    struct memblock mem_param_tmp_185738;
    
    mem_param_tmp_185738.references = NULL;
    
    struct memblock mem_param_tmp_185737;
    
    mem_param_tmp_185737.references = NULL;
    
    struct memblock mem_184503;
    
    mem_184503.references = NULL;
    
    struct memblock mem_184499;
    
    mem_184499.references = NULL;
    
    struct memblock mem_184465;
    
    mem_184465.references = NULL;
    
    struct memblock mem_184461;
    
    mem_184461.references = NULL;
    
    struct memblock mem_184470;
    
    mem_184470.references = NULL;
    
    struct memblock mem_184468;
    
    mem_184468.references = NULL;
    
    struct memblock ext_mem_184485;
    
    ext_mem_184485.references = NULL;
    
    struct memblock ext_mem_184488;
    
    ext_mem_184488.references = NULL;
    
    struct memblock mem_param_184390;
    
    mem_param_184390.references = NULL;
    
    struct memblock mem_param_184387;
    
    mem_param_184387.references = NULL;
    
    struct memblock ext_mem_184509;
    
    ext_mem_184509.references = NULL;
    
    struct memblock ext_mem_184510;
    
    ext_mem_184510.references = NULL;
    
    struct memblock mem_184383;
    
    mem_184383.references = NULL;
    
    struct memblock mem_184379;
    
    mem_184379.references = NULL;
    
    struct memblock ext_mem_184513;
    
    ext_mem_184513.references = NULL;
    
    struct memblock mem_184308;
    
    mem_184308.references = NULL;
    
    struct memblock ext_mem_184306;
    
    ext_mem_184306.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t bytes_184307 = (int64_t) 8 * n_109787;
    bool cond_175057 = sle64(n_109787, (int64_t) 1);
    int64_t zs_lhs_175058 = sub64(n_109787, (int64_t) 1);
    int64_t zp_rhs_175059 = sdiv_safe64(zs_lhs_175058, (int64_t) 20);
    int64_t min_num_blocks_175060 = add64((int64_t) 1, zp_rhs_175059);
    bool loop_cond_175061 = slt64((int64_t) 1, min_num_blocks_175060);
    bool smallest_pow_2_geq_than_res_175062;
    int64_t smallest_pow_2_geq_than_res_175063;
    bool loop_while_175064;
    int64_t x_175065;
    
    loop_while_175064 = loop_cond_175061;
    x_175065 = (int64_t) 1;
    while (loop_while_175064) {
        int64_t loopres_175066 = mul64((int64_t) 2, x_175065);
        bool loop_cond_175067 = slt64(loopres_175066, min_num_blocks_175060);
        bool loop_while_tmp_185721 = loop_cond_175067;
        int64_t x_tmp_185722 = loopres_175066;
        
        loop_while_175064 = loop_while_tmp_185721;
        x_175065 = x_tmp_185722;
    }
    smallest_pow_2_geq_than_res_175062 = loop_while_175064;
    smallest_pow_2_geq_than_res_175063 = x_175065;
    
    bool zzero_175068 = smallest_pow_2_geq_than_res_175063 == (int64_t) 0;
    bool nonzzero_175069 = !zzero_175068;
    bool protect_assert_disj_175070 = cond_175057 || nonzzero_175069;
    bool nonzzero_cert_175071;
    
    if (!protect_assert_disj_175070) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:193:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175072 = sdiv_safe64(zs_lhs_175058, smallest_pow_2_geq_than_res_175063);
    int64_t block_sizze_175073 = add64((int64_t) 1, zp_rhs_175072);
    bool y_175078 = slt64((int64_t) 0, n_109787);
    bool protect_assert_disj_185418 = cond_175057 || y_175078;
    bool index_certs_175079;
    
    if (!protect_assert_disj_185418) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_109787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:193:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_175092 = slt64(smallest_pow_2_geq_than_res_175063, (int64_t) 0);
    bool valid_175093 = !bounds_invalid_upwards_175092;
    bool protect_assert_disj_185426 = cond_175057 || valid_175093;
    bool range_valid_c_175094;
    
    if (!protect_assert_disj_185426) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_175063, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:193:54-57\n   #6  ftsort.fut:44:3-28\n   #7  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_175096 = slt64(block_sizze_175073, (int64_t) 0);
    bool valid_175097 = !bounds_invalid_upwards_175096;
    bool protect_assert_disj_185428 = cond_175057 || valid_175097;
    bool range_valid_c_175098;
    
    if (!protect_assert_disj_185428) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_175073, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:193:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_175100 = sle64(block_sizze_175073, (int64_t) 1);
    int64_t tmp_175101 = sub64(block_sizze_175073, (int64_t) 2);
    bool bounds_invalid_upwards_175102 = slt64(tmp_175101, (int64_t) 0);
    bool valid_175104 = !bounds_invalid_upwards_175102;
    bool protect_assert_disj_175105 = cond_175100 || valid_175104;
    bool protect_assert_disj_185430 = cond_175057 || protect_assert_disj_175105;
    bool range_valid_c_175106;
    
    if (!protect_assert_disj_185430) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_175101, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (futrts_indicesWithIncrement_9635(ctx, &ext_mem_184306, xs_mem_184305, n_109787, incr_109788) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184308, bytes_184307, "mem_184308")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_185723 = 0; i_185723 < n_109787; i_185723++) {
        int64_t x_185724 = (int64_t) 0 + i_185723 * (int64_t) 1;
        
        ((int64_t *) mem_184308.mem)[i_185723] = x_185724;
    }
    
    int64_t flat_dim_175074 = smallest_pow_2_geq_than_res_175063 * block_sizze_175073;
    bool x_185413 = !cond_175057;
    int64_t greatest_divisor_leq_than_arg1_175076 = mul64((int64_t) 2, block_sizze_175073);
    int64_t merge_block_sizze_175077;
    
    if (x_185413) {
        int64_t x_185415;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_185415, (int64_t) 8, greatest_divisor_leq_than_arg1_175076) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_175077 = x_185415;
    } else {
        merge_block_sizze_175077 = (int64_t) 0;
    }
    
    double reduce_arg1_175080;
    
    if (x_185413) {
        double x_185419 = ((double *) xs_mem_184305.mem)[(int64_t) 0];
        
        reduce_arg1_175080 = x_185419;
    } else {
        reduce_arg1_175080 = 0.0;
    }
    
    double defunc_0_reduce_res_181964;
    int64_t defunc_0_reduce_res_181965;
    
    if (x_185413) {
        double x_185421;
        int64_t x_185422;
        double redout_183965;
        int64_t redout_183966;
        
        redout_183965 = reduce_arg1_175080;
        redout_183966 = (int64_t) 0;
        for (int64_t i_183967 = 0; i_183967 < n_109787; i_183967++) {
            double x_175083 = ((double *) xs_mem_184305.mem)[i_183967];
            bool zlze_res_175089 = redout_183965 <= x_175083;
            double defunc_0_op_res_175090;
            
            if (zlze_res_175089) {
                defunc_0_op_res_175090 = x_175083;
            } else {
                defunc_0_op_res_175090 = redout_183965;
            }
            
            int64_t defunc_0_op_res_175091;
            
            if (zlze_res_175089) {
                defunc_0_op_res_175091 = i_183967;
            } else {
                defunc_0_op_res_175091 = redout_183966;
            }
            
            double redout_tmp_185725 = defunc_0_op_res_175090;
            int64_t redout_tmp_185726 = defunc_0_op_res_175091;
            
            redout_183965 = redout_tmp_185725;
            redout_183966 = redout_tmp_185726;
        }
        x_185421 = redout_183965;
        x_185422 = redout_183966;
        defunc_0_reduce_res_181964 = x_185421;
        defunc_0_reduce_res_181965 = x_185422;
    } else {
        defunc_0_reduce_res_181964 = 0.0;
        defunc_0_reduce_res_181965 = (int64_t) 0;
    }
    
    int64_t distance_175103 = add64((int64_t) 1, tmp_175101);
    int64_t binop_x_184309 = (int64_t) 8 * smallest_pow_2_geq_than_res_175063;
    int64_t bytes_184310 = block_sizze_175073 * binop_x_184309;
    int64_t bytes_184323 = (int64_t) 8 * block_sizze_175073;
    bool loop_cond_175177 = slt64(block_sizze_175073, flat_dim_175074);
    bool zzero_175178 = merge_block_sizze_175077 == (int64_t) 0;
    bool nonzzero_175179 = !zzero_175178;
    
    if (cond_175057) {
        if (memblock_set(ctx, &ext_mem_184513, &mem_184308, "mem_184308") != 0)
            return 1;
    } else {
        if (mem_184311_cached_sizze_185985 < bytes_184310) {
            err = lexical_realloc(ctx, &mem_184311, &mem_184311_cached_sizze_185985, bytes_184310);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_184314_cached_sizze_185986 < bytes_184310) {
            err = lexical_realloc(ctx, &mem_184314, &mem_184314_cached_sizze_185986, bytes_184310);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_184324_cached_sizze_185987 < bytes_184323) {
            err = lexical_realloc(ctx, &mem_184324, &mem_184324_cached_sizze_185987, bytes_184323);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_184326_cached_sizze_185988 < bytes_184323) {
            err = lexical_realloc(ctx, &mem_184326, &mem_184326_cached_sizze_185988, bytes_184323);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_183979 = 0; i_183979 < smallest_pow_2_geq_than_res_175063; i_183979++) {
            int64_t zp_lhs_175110 = mul64(block_sizze_175073, i_183979);
            
            for (int64_t i_183972 = 0; i_183972 < block_sizze_175073; i_183972++) {
                int64_t k_175114 = add64(zp_lhs_175110, i_183972);
                bool cond_175115 = slt64(k_175114, n_109787);
                double lifted_lambda_res_175116;
                int64_t lifted_lambda_res_175117;
                
                if (cond_175115) {
                    bool x_181817 = sle64((int64_t) 0, k_175114);
                    bool bounds_check_181818 = cond_175115 && x_181817;
                    bool index_certs_181819;
                    
                    if (!bounds_check_181818) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_175114, "] out of bounds for array of shape [", (long long) n_109787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:193:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    double lifted_lambda_res_t_res_181820 = ((double *) xs_mem_184305.mem)[k_175114];
                    
                    lifted_lambda_res_175116 = lifted_lambda_res_t_res_181820;
                    lifted_lambda_res_175117 = k_175114;
                } else {
                    lifted_lambda_res_175116 = defunc_0_reduce_res_181964;
                    lifted_lambda_res_175117 = defunc_0_reduce_res_181965;
                }
                ((double *) mem_184324)[i_183972] = lifted_lambda_res_175116;
                ((int64_t *) mem_184326)[i_183972] = lifted_lambda_res_175117;
            }
            if (!cond_175100) {
                for (int64_t i_175126 = 0; i_175126 < distance_175103; i_175126++) {
                    int64_t gt_arg1_175129 = add64((int64_t) 1, i_175126);
                    bool x_175130 = sle64((int64_t) 0, gt_arg1_175129);
                    bool y_175131 = slt64(gt_arg1_175129, block_sizze_175073);
                    bool bounds_check_175132 = x_175130 && y_175131;
                    bool index_certs_175133;
                    
                    if (!bounds_check_175132) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_175129, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_175135 = slt64(i_175126, block_sizze_175073);
                    bool index_certs_175136;
                    
                    if (!y_175135) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_175126, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    double gt_arg1_175134 = ((double *) mem_184324)[gt_arg1_175129];
                    double gt_arg0_175137 = ((double *) mem_184324)[i_175126];
                    bool zlze_res_175138 = gt_arg0_175137 <= gt_arg1_175134;
                    bool defunc_0_lifted_gt_res_175139 = !zlze_res_175138;
                    bool s_175140;
                    int64_t s_175143;
                    bool loop_while_175144;
                    int64_t j_175147;
                    
                    loop_while_175144 = defunc_0_lifted_gt_res_175139;
                    j_175147 = i_175126;
                    while (loop_while_175144) {
                        bool x_175148 = sle64((int64_t) 0, j_175147);
                        bool y_175149 = slt64(j_175147, block_sizze_175073);
                        bool bounds_check_175150 = x_175148 && y_175149;
                        bool index_certs_175151;
                        
                        if (!bounds_check_175150) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_175147, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_175154 = add64((int64_t) 1, j_175147);
                        bool x_175155 = sle64((int64_t) 0, copy_arg0_175154);
                        bool y_175156 = slt64(copy_arg0_175154, block_sizze_175073);
                        bool bounds_check_175157 = x_175155 && y_175156;
                        bool index_certs_175158;
                        
                        if (!bounds_check_175157) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_175154, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        double copy_arg0_175152 = ((double *) mem_184324)[j_175147];
                        int64_t copy_arg0_175153 = ((int64_t *) mem_184326)[j_175147];
                        double copy_arg0_175159 = ((double *) mem_184324)[copy_arg0_175154];
                        int64_t copy_arg0_175160 = ((int64_t *) mem_184326)[copy_arg0_175154];
                        
                        ((double *) mem_184324)[j_175147] = copy_arg0_175159;
                        ((int64_t *) mem_184326)[j_175147] = copy_arg0_175160;
                        ((double *) mem_184324)[copy_arg0_175154] = copy_arg0_175152;
                        ((int64_t *) mem_184326)[copy_arg0_175154] = copy_arg0_175153;
                        
                        int64_t tmp_175165 = sub64(j_175147, (int64_t) 1);
                        bool cond_175166 = sle64((int64_t) 0, tmp_175165);
                        bool loop_cond_175167;
                        
                        if (cond_175166) {
                            bool y_181822 = slt64(tmp_175165, block_sizze_175073);
                            bool bounds_check_181823 = cond_175166 && y_181822;
                            bool index_certs_181824;
                            
                            if (!bounds_check_181823) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_175165, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            double gt_arg1_181821 = ((double *) mem_184324)[j_175147];
                            double gt_arg0_181825 = ((double *) mem_184324)[tmp_175165];
                            bool zlze_res_181826 = gt_arg0_181825 <= gt_arg1_181821;
                            bool defunc_0_lifted_gt_res_181827 = !zlze_res_181826;
                            
                            loop_cond_175167 = defunc_0_lifted_gt_res_181827;
                        } else {
                            loop_cond_175167 = 0;
                        }
                        
                        bool loop_while_tmp_185733 = loop_cond_175167;
                        int64_t j_tmp_185736 = tmp_175165;
                        
                        loop_while_175144 = loop_while_tmp_185733;
                        j_175147 = j_tmp_185736;
                    }
                    s_175140 = loop_while_175144;
                    s_175143 = j_175147;
                }
            }
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184311, i_183979 * block_sizze_175073, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184324, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175073});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184314, i_183979 * block_sizze_175073, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184326, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175073});
        }
        if (memblock_alloc(ctx, &mem_184379, bytes_184310, "mem_184379")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_184379.mem, (int64_t) 0, (int64_t []) {block_sizze_175073, (int64_t) 1}, (uint64_t *) mem_184311, (int64_t) 0, (int64_t []) {block_sizze_175073, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175063, block_sizze_175073});
        if (memblock_alloc(ctx, &mem_184383, bytes_184310, "mem_184383")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_184383.mem, (int64_t) 0, (int64_t []) {block_sizze_175073, (int64_t) 1}, (uint64_t *) mem_184314, (int64_t) 0, (int64_t []) {block_sizze_175073, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175063, block_sizze_175073});
        
        int64_t data_175180;
        bool data_175181;
        int64_t data_175184;
        int64_t loop_dz2084Uz2082U_175185;
        bool loop_while_175186;
        int64_t stride_175189;
        
        if (memblock_set(ctx, &mem_param_184387, &mem_184379, "mem_184379") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_184390, &mem_184383, "mem_184383") != 0)
            return 1;
        loop_dz2084Uz2082U_175185 = flat_dim_175074;
        loop_while_175186 = loop_cond_175177;
        stride_175189 = block_sizze_175073;
        while (loop_while_175186) {
            int64_t next_stride_175190 = mul64((int64_t) 2, stride_175189);
            bool zzero_175191 = next_stride_175190 == (int64_t) 0;
            bool nonzzero_175192 = !zzero_175191;
            bool nonzzero_cert_175193;
            
            if (!nonzzero_175192) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:193:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_175194 = sdiv64(flat_dim_175074, next_stride_175190);
            bool bounds_invalid_upwards_175195 = slt64(num_merges_175194, (int64_t) 0);
            bool valid_175196 = !bounds_invalid_upwards_175195;
            bool range_valid_c_175197;
            
            if (!valid_175196) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_175194, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:193:54-57\n   #6  ftsort.fut:44:3-28\n   #7  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_175199 = sub64(next_stride_175190, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_175200 = sle64((int64_t) 0, m_175199);
            bool cond_175202 = slt64(next_stride_175190, (int64_t) 10);
            bool protect_assert_disj_175203 = nonzzero_175179 || cond_175202;
            bool nonzzero_cert_175204;
            
            if (!protect_assert_disj_175203) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_175205 = smod_safe64(next_stride_175190, merge_block_sizze_175077);
            bool num_blocks_175206 = zeze_lhs_175205 == (int64_t) 0;
            bool protect_assert_disj_175207 = cond_175202 || num_blocks_175206;
            bool assert_c_175208;
            
            if (!protect_assert_disj_175207) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_175210 = sdiv_safe64(next_stride_175190, merge_block_sizze_175077);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211 = add64((int64_t) 1, num_blocks_175210);
            int64_t j_m_i_175212 = sub64(next_stride_175190, stride_175189);
            int64_t flat_dim_175213 = merge_block_sizze_175077 * num_blocks_175210;
            bool bounds_invalid_upwards_175214 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211, (int64_t) 0);
            bool zzero_lte_i_175215 = sle64((int64_t) 0, stride_175189);
            bool i_lte_j_175216 = sle64(stride_175189, next_stride_175190);
            bool empty_slice_175217 = stride_175189 == (int64_t) 0;
            int64_t m_175218 = sub64(stride_175189, (int64_t) 1);
            bool bounds_invalid_upwards_175219 = slt64(num_blocks_175210, (int64_t) 0);
            bool empty_slice_175220 = j_m_i_175212 == (int64_t) 0;
            int64_t m_175221 = sub64(j_m_i_175212, (int64_t) 1);
            bool cond_175222 = slt64((int64_t) 0, stride_175189);
            bool valid_175223 = !bounds_invalid_upwards_175214;
            bool zzero_leq_i_p_m_t_s_175224 = sle64((int64_t) 0, m_175218);
            bool i_p_m_t_s_leq_w_175225 = slt64(m_175218, next_stride_175190);
            bool valid_175226 = !bounds_invalid_upwards_175219;
            bool i_p_m_t_s_leq_w_175227 = slt64(m_175199, flat_dim_175213);
            int64_t i_p_m_t_s_175228 = add64(stride_175189, m_175221);
            bool y_175229 = slt64((int64_t) 0, j_m_i_175212);
            bool protect_assert_disj_175230 = cond_175202 || valid_175223;
            bool range_valid_c_175231;
            
            if (!protect_assert_disj_175230) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:193:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_175232 = zzero_leq_i_p_m_t_s_175224 && i_p_m_t_s_leq_w_175225;
            bool protect_assert_disj_175233 = cond_175202 || valid_175226;
            bool range_valid_c_175234;
            
            if (!protect_assert_disj_175233) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_175210, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:193:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_175235 = zzero_leq_i_p_m_t_s_175200 && i_p_m_t_s_leq_w_175227;
            bool zzero_leq_i_p_m_t_s_175236 = sle64((int64_t) 0, i_p_m_t_s_175228);
            bool i_p_m_t_s_leq_w_175237 = slt64(i_p_m_t_s_175228, next_stride_175190);
            bool forwards_ok_175238 = zzero_lte_i_175215 && y_175232;
            bool ok_or_empty_175239 = zzero_175191 || y_175235;
            bool y_175240 = zzero_lte_i_175215 && i_p_m_t_s_leq_w_175237;
            bool protect_assert_disj_175241 = cond_175222 || y_175229;
            bool ok_or_empty_175242 = empty_slice_175217 || forwards_ok_175238;
            bool protect_assert_disj_175243 = cond_175202 || ok_or_empty_175239;
            bool index_certs_175244;
            
            if (!protect_assert_disj_175243) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_175190, "] out of bounds for array of shape [", (long long) flat_dim_175213, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:193:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_175245 = zzero_leq_i_p_m_t_s_175236 && y_175240;
            bool loop_not_taken_175246 = !cond_175202;
            bool protect_assert_disj_175247 = protect_assert_disj_175241 || loop_not_taken_175246;
            bool index_certs_175248;
            
            if (!protect_assert_disj_175247) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:193:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_175249 = cond_175202 || ok_or_empty_175242;
            bool index_certs_175250;
            
            if (!protect_assert_disj_175249) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_175189, "] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:193:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_175251 = i_lte_j_175216 && y_175245;
            bool protect_assert_disj_175252 = ok_or_empty_175242 || loop_not_taken_175246;
            bool index_certs_175253;
            
            if (!protect_assert_disj_175252) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_175189, "] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_175254 = empty_slice_175220 || forwards_ok_175251;
            bool protect_assert_disj_175255 = loop_not_taken_175246 || ok_or_empty_175254;
            bool index_certs_175256;
            
            if (!protect_assert_disj_175255) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_175189, ":] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_175257 = cond_175202 || ok_or_empty_175254;
            bool index_certs_175258;
            
            if (!protect_assert_disj_175257) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_175189, ":] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:193:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_184391 = (int64_t) 8 * num_merges_175194;
            int64_t bytes_184392 = next_stride_175190 * binop_x_184391;
            bool i_lte_j_175201 = sle64((int64_t) 0, next_stride_175190);
            
            if (mem_184393_cached_sizze_185989 < bytes_184392) {
                err = lexical_realloc(ctx, &mem_184393, &mem_184393_cached_sizze_185989, bytes_184392);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184396_cached_sizze_185990 < bytes_184392) {
                err = lexical_realloc(ctx, &mem_184396, &mem_184396_cached_sizze_185990, bytes_184392);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_184405 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211;
            int64_t binop_x_184421 = (int64_t) 8 * num_blocks_175210;
            int64_t bytes_184422 = merge_block_sizze_175077 * binop_x_184421;
            int64_t bytes_184467 = (int64_t) 16 * stride_175189;
            
            for (int64_t i_184000 = 0; i_184000 < num_merges_175194; i_184000++) {
                int64_t start_175262 = mul64(next_stride_175190, i_184000);
                int64_t j_m_i_175263 = sub64(loop_dz2084Uz2082U_175185, start_175262);
                bool empty_slice_175264 = j_m_i_175263 == (int64_t) 0;
                int64_t m_175265 = sub64(j_m_i_175263, (int64_t) 1);
                int64_t i_p_m_t_s_175266 = add64(start_175262, m_175265);
                bool zzero_leq_i_p_m_t_s_175267 = sle64((int64_t) 0, i_p_m_t_s_175266);
                bool i_p_m_t_s_leq_w_175268 = slt64(i_p_m_t_s_175266, loop_dz2084Uz2082U_175185);
                bool zzero_lte_i_175269 = sle64((int64_t) 0, start_175262);
                bool i_lte_j_175270 = sle64(start_175262, loop_dz2084Uz2082U_175185);
                bool y_175271 = i_p_m_t_s_leq_w_175268 && zzero_lte_i_175269;
                bool y_175272 = zzero_leq_i_p_m_t_s_175267 && y_175271;
                bool forwards_ok_175273 = i_lte_j_175270 && y_175272;
                bool ok_or_empty_175274 = empty_slice_175264 || forwards_ok_175273;
                bool index_certs_175275;
                
                if (!ok_or_empty_175274) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_175262, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_175185, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_175276 = slt64(m_175199, j_m_i_175263);
                bool y_175277 = zzero_leq_i_p_m_t_s_175200 && i_p_m_t_s_leq_w_175276;
                bool forwards_ok_175278 = i_lte_j_175201 && y_175277;
                bool ok_or_empty_175279 = zzero_175191 || forwards_ok_175278;
                bool index_certs_175280;
                
                if (!ok_or_empty_175279) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_175190, "] out of bounds for array of shape [", (long long) j_m_i_175263, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_175202) {
                    double dummy_181853;
                    int64_t dummy_181854;
                    
                    if (cond_175222) {
                        double head_res_181855 = ((double *) mem_param_184387.mem)[start_175262];
                        int64_t head_res_181856 = ((int64_t *) mem_param_184390.mem)[start_175262];
                        
                        dummy_181853 = head_res_181855;
                        dummy_181854 = head_res_181856;
                    } else {
                        int64_t slice_181857 = stride_175189 + start_175262;
                        double head_res_181858 = ((double *) mem_param_184387.mem)[slice_181857];
                        int64_t head_res_181859 = ((int64_t *) mem_param_184390.mem)[slice_181857];
                        
                        dummy_181853 = head_res_181858;
                        dummy_181854 = head_res_181859;
                    }
                    if (memblock_alloc(ctx, &mem_184468, bytes_184467, "mem_184468")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185746 = 0; nest_i_185746 < next_stride_175190; nest_i_185746++) {
                        ((double *) mem_184468.mem)[nest_i_185746] = dummy_181853;
                    }
                    if (memblock_alloc(ctx, &mem_184470, bytes_184467, "mem_184470")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185747 = 0; nest_i_185747 < next_stride_175190; nest_i_185747++) {
                        ((int64_t *) mem_184470.mem)[nest_i_185747] = dummy_181854;
                    }
                    
                    int64_t data_181862;
                    int64_t i_181866 = (int64_t) 0;
                    
                    for (int64_t k_181865 = 0; k_181865 < next_stride_175190; k_181865++) {
                        int64_t j_181869 = sub64(k_181865, i_181866);
                        bool cond_181870 = j_181869 == j_m_i_175212;
                        bool cond_181871;
                        
                        if (cond_181870) {
                            cond_181871 = 1;
                        } else {
                            bool cond_181872 = slt64(i_181866, stride_175189);
                            bool cond_f_res_181873;
                            
                            if (cond_181872) {
                                bool x_181874 = sle64((int64_t) 0, j_181869);
                                bool y_181875 = slt64(j_181869, j_m_i_175212);
                                bool bounds_check_181876 = x_181874 && y_181875;
                                bool index_certs_181877;
                                
                                if (!bounds_check_181876) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181869, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:193:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_181881 = sle64((int64_t) 0, i_181866);
                                bool bounds_check_181882 = cond_181872 && x_181881;
                                bool index_certs_181883;
                                
                                if (!bounds_check_181882) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_181866, "] out of bounds for array of shape [", (long long) stride_175189, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:193:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_181878 = stride_175189 + j_181869;
                                int64_t slice_181879 = start_175262 + slice_181878;
                                double leq_arg1_181880 = ((double *) mem_param_184387.mem)[slice_181879];
                                int64_t slice_181884 = start_175262 + i_181866;
                                double leq_arg0_181885 = ((double *) mem_param_184387.mem)[slice_181884];
                                bool zlze_res_181886 = leq_arg0_181885 <= leq_arg1_181880;
                                
                                cond_f_res_181873 = zlze_res_181886;
                            } else {
                                cond_f_res_181873 = 0;
                            }
                            cond_181871 = cond_f_res_181873;
                        }
                        
                        int64_t loopres_181887;
                        double loopres_181888;
                        int64_t loopres_181889;
                        
                        if (cond_181871) {
                            bool x_181891 = sle64((int64_t) 0, i_181866);
                            bool y_181892 = slt64(i_181866, stride_175189);
                            bool bounds_check_181893 = x_181891 && y_181892;
                            bool index_certs_181894;
                            
                            if (!bounds_check_181893) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_181866, "] out of bounds for array of shape [", (long long) stride_175189, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:193:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_181890 = add64((int64_t) 1, i_181866);
                            int64_t slice_181895 = start_175262 + i_181866;
                            double tmp_181896 = ((double *) mem_param_184387.mem)[slice_181895];
                            int64_t tmp_181897 = ((int64_t *) mem_param_184390.mem)[slice_181895];
                            
                            loopres_181887 = tmp_181890;
                            loopres_181888 = tmp_181896;
                            loopres_181889 = tmp_181897;
                        } else {
                            bool x_181898 = sle64((int64_t) 0, j_181869);
                            bool y_181899 = slt64(j_181869, j_m_i_175212);
                            bool bounds_check_181900 = x_181898 && y_181899;
                            bool index_certs_181901;
                            
                            if (!bounds_check_181900) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181869, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:193:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_181902 = stride_175189 + j_181869;
                            int64_t slice_181903 = start_175262 + slice_181902;
                            double tmp_181904 = ((double *) mem_param_184387.mem)[slice_181903];
                            int64_t tmp_181905 = ((int64_t *) mem_param_184390.mem)[slice_181903];
                            
                            loopres_181887 = i_181866;
                            loopres_181888 = tmp_181904;
                            loopres_181889 = tmp_181905;
                        }
                        ((double *) mem_184468.mem)[k_181865] = loopres_181888;
                        ((int64_t *) mem_184470.mem)[k_181865] = loopres_181889;
                        
                        int64_t i_tmp_185748 = loopres_181887;
                        
                        i_181866 = i_tmp_185748;
                    }
                    data_181862 = i_181866;
                    if (memblock_set(ctx, &ext_mem_184488, &mem_184468, "mem_184468") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184485, &mem_184470, "mem_184470") != 0)
                        return 1;
                } else {
                    if (mem_184406_cached_sizze_185991 < bytes_184405) {
                        err = lexical_realloc(ctx, &mem_184406, &mem_184406_cached_sizze_185991, bytes_184405);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184408_cached_sizze_185992 < bytes_184405) {
                        err = lexical_realloc(ctx, &mem_184408, &mem_184408_cached_sizze_185992, bytes_184405);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_183986 = 0; i_183986 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211; i_183986++) {
                        int64_t split_count_arg3_175342 = mul64(merge_block_sizze_175077, i_183986);
                        int64_t defunc_0_split_count_res_175343;
                        int64_t defunc_0_split_count_res_175344;
                        int64_t defunc_0_split_count_res_175345;
                        int64_t defunc_0_split_count_res_175346;
                        int64_t defunc_0_split_count_res_175347;
                        
                        if (futrts_lifted_normalizze_9100(ctx, &defunc_0_split_count_res_175343, &defunc_0_split_count_res_175344, &defunc_0_split_count_res_175345, &defunc_0_split_count_res_175346, &defunc_0_split_count_res_175347, (int64_t) 0, stride_175189, (int64_t) 0, j_m_i_175212, split_count_arg3_175342) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_175348 = slt64((int64_t) 0, defunc_0_split_count_res_175347);
                        bool defunc_0_split_count_res_175349;
                        int64_t defunc_0_split_count_res_175350;
                        int64_t defunc_0_split_count_res_175351;
                        int64_t defunc_0_split_count_res_175352;
                        int64_t defunc_0_split_count_res_175353;
                        int64_t defunc_0_split_count_res_175354;
                        bool loop_while_175355;
                        int64_t ss_175356;
                        int64_t ss_175357;
                        int64_t tt_175358;
                        int64_t tt_175359;
                        int64_t count_175360;
                        
                        loop_while_175355 = loop_cond_175348;
                        ss_175356 = defunc_0_split_count_res_175343;
                        ss_175357 = defunc_0_split_count_res_175344;
                        tt_175358 = defunc_0_split_count_res_175345;
                        tt_175359 = defunc_0_split_count_res_175346;
                        count_175360 = defunc_0_split_count_res_175347;
                        while (loop_while_175355) {
                            int64_t zlze_lhs_175361 = sub64(ss_175357, ss_175356);
                            bool cond_175362 = sle64(zlze_lhs_175361, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_175363;
                            int64_t defunc_0_lifted_step_res_175364;
                            int64_t defunc_0_lifted_step_res_175365;
                            int64_t defunc_0_lifted_step_res_175366;
                            
                            if (cond_175362) {
                                int64_t tmp_181908 = add64(tt_175358, count_175360);
                                
                                defunc_0_lifted_step_res_175363 = ss_175356;
                                defunc_0_lifted_step_res_175364 = tmp_181908;
                                defunc_0_lifted_step_res_175365 = tt_175359;
                                defunc_0_lifted_step_res_175366 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_175368 = sub64(tt_175359, tt_175358);
                                bool cond_175369 = sle64(zlze_lhs_175368, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_175370;
                                int64_t defunc_0_lifted_step_res_f_res_175371;
                                int64_t defunc_0_lifted_step_res_f_res_175372;
                                int64_t defunc_0_lifted_step_res_f_res_175373;
                                
                                if (cond_175369) {
                                    int64_t tmp_181909 = add64(ss_175356, count_175360);
                                    
                                    defunc_0_lifted_step_res_f_res_175370 = tmp_181909;
                                    defunc_0_lifted_step_res_f_res_175371 = tt_175358;
                                    defunc_0_lifted_step_res_f_res_175372 = tt_175359;
                                    defunc_0_lifted_step_res_f_res_175373 = (int64_t) 0;
                                } else {
                                    bool cond_175375 = count_175360 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_175376;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_175377;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_175378;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_175379;
                                    
                                    if (cond_175375) {
                                        bool x_181911 = sle64((int64_t) 0, ss_175356);
                                        bool y_181912 = slt64(ss_175356, stride_175189);
                                        bool bounds_check_181913 = x_181911 && y_181912;
                                        bool index_certs_181914;
                                        
                                        if (!bounds_check_181913) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_175356, "] out of bounds for array of shape [", (long long) stride_175189, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:193:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_181917 = sle64((int64_t) 0, tt_175358);
                                        bool y_181918 = slt64(tt_175358, j_m_i_175212);
                                        bool bounds_check_181919 = x_181917 && y_181918;
                                        bool index_certs_181920;
                                        
                                        if (!bounds_check_181919) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_175358, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:193:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_181915 = start_175262 + ss_175356;
                                        double leq_arg1_181916 = ((double *) mem_param_184387.mem)[slice_181915];
                                        int64_t slice_181921 = stride_175189 + tt_175358;
                                        int64_t slice_181922 = start_175262 + slice_181921;
                                        double leq_arg0_181923 = ((double *) mem_param_184387.mem)[slice_181922];
                                        bool zlze_res_181924 = leq_arg0_181923 <= leq_arg1_181916;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_181925;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_181926;
                                        
                                        if (zlze_res_181924) {
                                            int64_t tmp_181927 = add64((int64_t) 1, tt_175358);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_181925 = ss_175356;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_181926 = tmp_181927;
                                        } else {
                                            int64_t tmp_181928 = add64((int64_t) 1, ss_175356);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_181925 = tmp_181928;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_181926 = tt_175358;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_175376 = defunc_0_lifted_step_res_f_res_f_res_t_res_181925;
                                        defunc_0_lifted_step_res_f_res_f_res_175377 = defunc_0_lifted_step_res_f_res_f_res_t_res_181926;
                                        defunc_0_lifted_step_res_f_res_f_res_175378 = tt_175359;
                                        defunc_0_lifted_step_res_f_res_f_res_175379 = (int64_t) 0;
                                    } else {
                                        int64_t m_175398 = sdiv64(count_175360, (int64_t) 2);
                                        int64_t n_175399 = sub64(count_175360, m_175398);
                                        bool cond_175400 = n_175399 == (int64_t) 0;
                                        int64_t zgze_lhs_175401 = add64(ss_175356, m_175398);
                                        bool cond_f_res_175402 = sle64(ss_175357, zgze_lhs_175401);
                                        bool x_175403 = !cond_175400;
                                        bool y_175404 = cond_f_res_175402 && x_175403;
                                        bool cond_175405 = cond_175400 || y_175404;
                                        bool leq_y_x_175406;
                                        
                                        if (cond_175405) {
                                            leq_y_x_175406 = 1;
                                        } else {
                                            bool x_175407 = sle64((int64_t) 0, zgze_lhs_175401);
                                            bool y_175408 = slt64(zgze_lhs_175401, stride_175189);
                                            bool bounds_check_175409 = x_175407 && y_175408;
                                            bool index_certs_175410;
                                            
                                            if (!bounds_check_175409) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_175401, "] out of bounds for array of shape [", (long long) stride_175189, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:193:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_175413 = add64(tt_175358, n_175399);
                                            int64_t leq_arg0_175414 = sub64(zm_lhs_175413, (int64_t) 1);
                                            bool x_175415 = sle64((int64_t) 0, leq_arg0_175414);
                                            bool y_175416 = slt64(leq_arg0_175414, j_m_i_175212);
                                            bool bounds_check_175417 = x_175415 && y_175416;
                                            bool index_certs_175418;
                                            
                                            if (!bounds_check_175417) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_175414, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:193:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_175411 = start_175262 + zgze_lhs_175401;
                                            double leq_arg1_175412 = ((double *) mem_param_184387.mem)[slice_175411];
                                            int64_t slice_175419 = stride_175189 + leq_arg0_175414;
                                            int64_t slice_175420 = start_175262 + slice_175419;
                                            double leq_arg0_175421 = ((double *) mem_param_184387.mem)[slice_175420];
                                            bool zlze_res_175422 = leq_arg0_175421 <= leq_arg1_175412;
                                            
                                            leq_y_x_175406 = zlze_res_175422;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_175423;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_175424;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_175425;
                                        
                                        if (leq_y_x_175406) {
                                            int64_t tmp_181929 = add64(tt_175358, n_175399);
                                            int64_t tmp_181930 = sub64(count_175360, n_175399);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175423 = tmp_181929;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175424 = tt_175359;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175425 = tmp_181930;
                                        } else {
                                            int64_t tmp_175428 = add64(tt_175358, n_175399);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175423 = tt_175358;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175424 = tmp_175428;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175425 = count_175360;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_175376 = ss_175356;
                                        defunc_0_lifted_step_res_f_res_f_res_175377 = defunc_0_lifted_step_res_f_res_f_res_f_res_175423;
                                        defunc_0_lifted_step_res_f_res_f_res_175378 = defunc_0_lifted_step_res_f_res_f_res_f_res_175424;
                                        defunc_0_lifted_step_res_f_res_f_res_175379 = defunc_0_lifted_step_res_f_res_f_res_f_res_175425;
                                    }
                                    defunc_0_lifted_step_res_f_res_175370 = defunc_0_lifted_step_res_f_res_f_res_175376;
                                    defunc_0_lifted_step_res_f_res_175371 = defunc_0_lifted_step_res_f_res_f_res_175377;
                                    defunc_0_lifted_step_res_f_res_175372 = defunc_0_lifted_step_res_f_res_f_res_175378;
                                    defunc_0_lifted_step_res_f_res_175373 = defunc_0_lifted_step_res_f_res_f_res_175379;
                                }
                                defunc_0_lifted_step_res_175363 = defunc_0_lifted_step_res_f_res_175370;
                                defunc_0_lifted_step_res_175364 = defunc_0_lifted_step_res_f_res_175371;
                                defunc_0_lifted_step_res_175365 = defunc_0_lifted_step_res_f_res_175372;
                                defunc_0_lifted_step_res_175366 = defunc_0_lifted_step_res_f_res_175373;
                            }
                            
                            int64_t loopres_175429;
                            int64_t loopres_175430;
                            int64_t loopres_175431;
                            int64_t loopres_175432;
                            int64_t loopres_175433;
                            
                            if (futrts_lifted_normalizze_9100(ctx, &loopres_175429, &loopres_175430, &loopres_175431, &loopres_175432, &loopres_175433, defunc_0_lifted_step_res_175363, ss_175357, defunc_0_lifted_step_res_175364, defunc_0_lifted_step_res_175365, defunc_0_lifted_step_res_175366) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_175434 = slt64((int64_t) 0, loopres_175433);
                            bool loop_while_tmp_185753 = loop_cond_175434;
                            int64_t ss_tmp_185754 = loopres_175429;
                            int64_t ss_tmp_185755 = loopres_175430;
                            int64_t tt_tmp_185756 = loopres_175431;
                            int64_t tt_tmp_185757 = loopres_175432;
                            int64_t count_tmp_185758 = loopres_175433;
                            
                            loop_while_175355 = loop_while_tmp_185753;
                            ss_175356 = ss_tmp_185754;
                            ss_175357 = ss_tmp_185755;
                            tt_175358 = tt_tmp_185756;
                            tt_175359 = tt_tmp_185757;
                            count_175360 = count_tmp_185758;
                        }
                        defunc_0_split_count_res_175349 = loop_while_175355;
                        defunc_0_split_count_res_175350 = ss_175356;
                        defunc_0_split_count_res_175351 = ss_175357;
                        defunc_0_split_count_res_175352 = tt_175358;
                        defunc_0_split_count_res_175353 = tt_175359;
                        defunc_0_split_count_res_175354 = count_175360;
                        ((int64_t *) mem_184406)[i_183986] = defunc_0_split_count_res_175350;
                        ((int64_t *) mem_184408)[i_183986] = defunc_0_split_count_res_175352;
                    }
                    if (mem_184423_cached_sizze_185993 < bytes_184422) {
                        err = lexical_realloc(ctx, &mem_184423, &mem_184423_cached_sizze_185993, bytes_184422);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184426_cached_sizze_185994 < bytes_184422) {
                        err = lexical_realloc(ctx, &mem_184426, &mem_184426_cached_sizze_185994, bytes_184422);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_183993 = 0; i_183993 < num_blocks_175210; i_183993++) {
                        bool y_175440 = slt64(i_183993, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211);
                        bool index_certs_175442;
                        
                        if (!y_175440) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183993, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:193:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_175443 = ((int64_t *) mem_184406)[i_183993];
                        int64_t defunc_0_f_res_175444 = ((int64_t *) mem_184408)[i_183993];
                        int64_t tmp_175445 = add64((int64_t) 1, i_183993);
                        bool x_175446 = sle64((int64_t) 0, tmp_175445);
                        bool y_175447 = slt64(tmp_175445, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211);
                        bool bounds_check_175448 = x_175446 && y_175447;
                        bool index_certs_175449;
                        
                        if (!bounds_check_175448) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_175445, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:193:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_175450 = ((int64_t *) mem_184406)[tmp_175445];
                        int64_t defunc_0_f_res_175451 = ((int64_t *) mem_184408)[tmp_175445];
                        int64_t merge_sequential_arg2_175452 = add64(stride_175189, defunc_0_f_res_175444);
                        int64_t merge_sequential_arg2_175453 = add64(stride_175189, defunc_0_f_res_175451);
                        int64_t j_m_i_175454 = sub64(merge_sequential_arg2_175453, merge_sequential_arg2_175452);
                        bool empty_slice_175455 = j_m_i_175454 == (int64_t) 0;
                        int64_t m_175456 = sub64(j_m_i_175454, (int64_t) 1);
                        int64_t i_p_m_t_s_175457 = add64(merge_sequential_arg2_175452, m_175456);
                        bool zzero_leq_i_p_m_t_s_175458 = sle64((int64_t) 0, i_p_m_t_s_175457);
                        bool i_p_m_t_s_leq_w_175459 = slt64(i_p_m_t_s_175457, next_stride_175190);
                        bool zzero_lte_i_175460 = sle64((int64_t) 0, merge_sequential_arg2_175452);
                        bool i_lte_j_175461 = sle64(merge_sequential_arg2_175452, merge_sequential_arg2_175453);
                        bool y_175462 = i_p_m_t_s_leq_w_175459 && zzero_lte_i_175460;
                        bool y_175463 = zzero_leq_i_p_m_t_s_175458 && y_175462;
                        bool forwards_ok_175464 = i_lte_j_175461 && y_175463;
                        bool ok_or_empty_175465 = empty_slice_175455 || forwards_ok_175464;
                        bool index_certs_175466;
                        
                        if (!ok_or_empty_175465) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_175452, ":", (long long) merge_sequential_arg2_175453, "] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:193:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_175467 = sub64(defunc_0_f_res_175450, defunc_0_f_res_175443);
                        bool empty_slice_175468 = j_m_i_175467 == (int64_t) 0;
                        int64_t m_175469 = sub64(j_m_i_175467, (int64_t) 1);
                        int64_t i_p_m_t_s_175470 = add64(defunc_0_f_res_175443, m_175469);
                        bool zzero_leq_i_p_m_t_s_175471 = sle64((int64_t) 0, i_p_m_t_s_175470);
                        bool i_p_m_t_s_leq_w_175472 = slt64(i_p_m_t_s_175470, next_stride_175190);
                        bool zzero_lte_i_175473 = sle64((int64_t) 0, defunc_0_f_res_175443);
                        bool i_lte_j_175474 = sle64(defunc_0_f_res_175443, defunc_0_f_res_175450);
                        bool y_175475 = i_p_m_t_s_leq_w_175472 && zzero_lte_i_175473;
                        bool y_175476 = zzero_leq_i_p_m_t_s_175471 && y_175475;
                        bool forwards_ok_175477 = i_lte_j_175474 && y_175476;
                        bool ok_or_empty_175478 = empty_slice_175468 || forwards_ok_175477;
                        bool index_certs_175479;
                        
                        if (!ok_or_empty_175478) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_175443, ":", (long long) defunc_0_f_res_175450, "] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:193:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_175480 = slt64((int64_t) 0, j_m_i_175467);
                        double dummy_175481;
                        int64_t dummy_175482;
                        
                        if (cond_175480) {
                            bool index_certs_181931;
                            
                            if (!cond_175480) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_175467, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:193:54-57\n   #12 ftsort.fut:44:3-28\n   #13 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_181932 = start_175262 + defunc_0_f_res_175443;
                            double head_res_181933 = ((double *) mem_param_184387.mem)[slice_181932];
                            int64_t head_res_181934 = ((int64_t *) mem_param_184390.mem)[slice_181932];
                            
                            dummy_175481 = head_res_181933;
                            dummy_175482 = head_res_181934;
                        } else {
                            bool y_175487 = slt64((int64_t) 0, j_m_i_175454);
                            bool index_certs_175488;
                            
                            if (!y_175487) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_175454, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:193:54-57\n   #12 ftsort.fut:44:3-28\n   #13 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_175489 = start_175262 + merge_sequential_arg2_175452;
                            double head_res_175490 = ((double *) mem_param_184387.mem)[slice_175489];
                            int64_t head_res_175491 = ((int64_t *) mem_param_184390.mem)[slice_175489];
                            
                            dummy_175481 = head_res_175490;
                            dummy_175482 = head_res_175491;
                        }
                        for (int64_t nest_i_185761 = 0; nest_i_185761 < merge_block_sizze_175077; nest_i_185761++) {
                            ((double *) mem_184423)[i_183993 * merge_block_sizze_175077 + nest_i_185761] = dummy_175481;
                        }
                        for (int64_t nest_i_185762 = 0; nest_i_185762 < merge_block_sizze_175077; nest_i_185762++) {
                            ((int64_t *) mem_184426)[i_183993 * merge_block_sizze_175077 + nest_i_185762] = dummy_175482;
                        }
                        
                        int64_t data_175494;
                        int64_t i_175498 = (int64_t) 0;
                        
                        for (int64_t k_175497 = 0; k_175497 < merge_block_sizze_175077; k_175497++) {
                            int64_t j_175501 = sub64(k_175497, i_175498);
                            bool cond_175502 = j_175501 == j_m_i_175454;
                            bool cond_175503;
                            
                            if (cond_175502) {
                                cond_175503 = 1;
                            } else {
                                bool cond_175504 = slt64(i_175498, j_m_i_175467);
                                bool cond_f_res_175505;
                                
                                if (cond_175504) {
                                    bool x_181935 = sle64((int64_t) 0, j_175501);
                                    bool y_181936 = slt64(j_175501, j_m_i_175454);
                                    bool bounds_check_181937 = x_181935 && y_181936;
                                    bool index_certs_181938;
                                    
                                    if (!bounds_check_181937) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_175501, "] out of bounds for array of shape [", (long long) j_m_i_175454, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:193:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_181942 = sle64((int64_t) 0, i_175498);
                                    bool bounds_check_181943 = cond_175504 && x_181942;
                                    bool index_certs_181944;
                                    
                                    if (!bounds_check_181943) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_175498, "] out of bounds for array of shape [", (long long) j_m_i_175467, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:193:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_181939 = merge_sequential_arg2_175452 + j_175501;
                                    int64_t slice_181940 = start_175262 + slice_181939;
                                    double leq_arg1_181941 = ((double *) mem_param_184387.mem)[slice_181940];
                                    int64_t slice_181945 = defunc_0_f_res_175443 + i_175498;
                                    int64_t slice_181946 = start_175262 + slice_181945;
                                    double leq_arg0_181947 = ((double *) mem_param_184387.mem)[slice_181946];
                                    bool zlze_res_181948 = leq_arg0_181947 <= leq_arg1_181941;
                                    
                                    cond_f_res_175505 = zlze_res_181948;
                                } else {
                                    cond_f_res_175505 = 0;
                                }
                                cond_175503 = cond_f_res_175505;
                            }
                            
                            int64_t loopres_175520;
                            double loopres_175521;
                            int64_t loopres_175522;
                            
                            if (cond_175503) {
                                bool x_181950 = sle64((int64_t) 0, i_175498);
                                bool y_181951 = slt64(i_175498, j_m_i_175467);
                                bool bounds_check_181952 = x_181950 && y_181951;
                                bool index_certs_181953;
                                
                                if (!bounds_check_181952) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_175498, "] out of bounds for array of shape [", (long long) j_m_i_175467, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:193:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_181949 = add64((int64_t) 1, i_175498);
                                int64_t slice_181954 = defunc_0_f_res_175443 + i_175498;
                                int64_t slice_181955 = start_175262 + slice_181954;
                                double tmp_181956 = ((double *) mem_param_184387.mem)[slice_181955];
                                int64_t tmp_181957 = ((int64_t *) mem_param_184390.mem)[slice_181955];
                                
                                loopres_175520 = tmp_181949;
                                loopres_175521 = tmp_181956;
                                loopres_175522 = tmp_181957;
                            } else {
                                bool x_175532 = sle64((int64_t) 0, j_175501);
                                bool y_175533 = slt64(j_175501, j_m_i_175454);
                                bool bounds_check_175534 = x_175532 && y_175533;
                                bool index_certs_175535;
                                
                                if (!bounds_check_175534) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_175501, "] out of bounds for array of shape [", (long long) j_m_i_175454, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:193:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_175536 = merge_sequential_arg2_175452 + j_175501;
                                int64_t slice_175537 = start_175262 + slice_175536;
                                double tmp_175538 = ((double *) mem_param_184387.mem)[slice_175537];
                                int64_t tmp_175539 = ((int64_t *) mem_param_184390.mem)[slice_175537];
                                
                                loopres_175520 = i_175498;
                                loopres_175521 = tmp_175538;
                                loopres_175522 = tmp_175539;
                            }
                            ((double *) mem_184423)[i_183993 * merge_block_sizze_175077 + k_175497] = loopres_175521;
                            ((int64_t *) mem_184426)[i_183993 * merge_block_sizze_175077 + k_175497] = loopres_175522;
                            
                            int64_t i_tmp_185763 = loopres_175520;
                            
                            i_175498 = i_tmp_185763;
                        }
                        data_175494 = i_175498;
                    }
                    if (memblock_alloc(ctx, &mem_184461, bytes_184422, "mem_184461")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_184461.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175077, (int64_t) 1}, (uint64_t *) mem_184423, (int64_t) 0, (int64_t []) {merge_block_sizze_175077, (int64_t) 1}, (int64_t []) {num_blocks_175210, merge_block_sizze_175077});
                    if (memblock_alloc(ctx, &mem_184465, bytes_184422, "mem_184465")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_184465.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175077, (int64_t) 1}, (uint64_t *) mem_184426, (int64_t) 0, (int64_t []) {merge_block_sizze_175077, (int64_t) 1}, (int64_t []) {num_blocks_175210, merge_block_sizze_175077});
                    if (memblock_set(ctx, &ext_mem_184488, &mem_184461, "mem_184461") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184485, &mem_184465, "mem_184465") != 0)
                        return 1;
                }
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184393, i_184000 * next_stride_175190, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184488.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_175190});
                if (memblock_unref(ctx, &ext_mem_184488, "ext_mem_184488") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184396, i_184000 * next_stride_175190, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184485.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_175190});
                if (memblock_unref(ctx, &ext_mem_184485, "ext_mem_184485") != 0)
                    return 1;
            }
            
            int64_t flat_dim_175546 = next_stride_175190 * num_merges_175194;
            
            if (memblock_alloc(ctx, &mem_184499, bytes_184392, "mem_184499")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_184499.mem, (int64_t) 0, (int64_t []) {next_stride_175190, (int64_t) 1}, (uint64_t *) mem_184393, (int64_t) 0, (int64_t []) {next_stride_175190, (int64_t) 1}, (int64_t []) {num_merges_175194, next_stride_175190});
            if (memblock_alloc(ctx, &mem_184503, bytes_184392, "mem_184503")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_184503.mem, (int64_t) 0, (int64_t []) {next_stride_175190, (int64_t) 1}, (uint64_t *) mem_184396, (int64_t) 0, (int64_t []) {next_stride_175190, (int64_t) 1}, (int64_t []) {num_merges_175194, next_stride_175190});
            
            bool loop_cond_175549 = slt64(next_stride_175190, flat_dim_175074);
            
            if (memblock_set(ctx, &mem_param_tmp_185737, &mem_184499, "mem_184499") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_185738, &mem_184503, "mem_184503") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_185739 = flat_dim_175546;
            bool loop_while_tmp_185740 = loop_cond_175549;
            int64_t stride_tmp_185743 = next_stride_175190;
            
            if (memblock_set(ctx, &mem_param_184387, &mem_param_tmp_185737, "mem_param_tmp_185737") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_184390, &mem_param_tmp_185738, "mem_param_tmp_185738") != 0)
                return 1;
            loop_dz2084Uz2082U_175185 = loop_dz2084Uz2082U_tmp_185739;
            loop_while_175186 = loop_while_tmp_185740;
            stride_175189 = stride_tmp_185743;
        }
        if (memblock_set(ctx, &ext_mem_184510, &mem_param_184387, "mem_param_184387") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_184509, &mem_param_184390, "mem_param_184390") != 0)
            return 1;
        data_175180 = loop_dz2084Uz2082U_175185;
        data_175181 = loop_while_175186;
        data_175184 = stride_175189;
        if (memblock_unref(ctx, &mem_184379, "mem_184379") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184383, "mem_184383") != 0)
            return 1;
        
        bool empty_slice_175550 = n_109787 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_175551 = sle64((int64_t) 0, zs_lhs_175058);
        bool i_p_m_t_s_leq_w_175552 = slt64(zs_lhs_175058, data_175180);
        bool y_175553 = zzero_leq_i_p_m_t_s_175551 && i_p_m_t_s_leq_w_175552;
        bool ok_or_empty_175554 = empty_slice_175550 || y_175553;
        bool index_certs_175555;
        
        if (!ok_or_empty_175554) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_109787, "] out of bounds for array of shape [", (long long) data_175180, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:193:54-57\n   #5  ftsort.fut:44:3-28\n   #6  ftsort.fut:43:1-44:28\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_184513, &ext_mem_184509, "ext_mem_184509") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_184515, bytes_184307, "mem_184515")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184517, bytes_184307, "mem_184517")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_184007 = 0; i_184007 < n_109787; i_184007++) {
        int64_t eta_p_175559 = ((int64_t *) ext_mem_184513.mem)[i_184007];
        bool x_175560 = sle64((int64_t) 0, eta_p_175559);
        bool y_175561 = slt64(eta_p_175559, n_109787);
        bool bounds_check_175562 = x_175560 && y_175561;
        bool index_certs_175563;
        
        if (!bounds_check_175562) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_175559, "] out of bounds for array of shape [", (long long) n_109787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:193:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_175564 = ((int64_t *) ext_mem_184306.mem)[eta_p_175559];
        double lifted_lambda_res_175565 = ((double *) xs_mem_184305.mem)[eta_p_175559];
        
        ((int64_t *) mem_184515.mem)[i_184007] = lifted_lambda_res_175564;
        ((double *) mem_184517.mem)[i_184007] = lifted_lambda_res_175565;
    }
    if (memblock_unref(ctx, &ext_mem_184306, "ext_mem_184306") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_184513, "ext_mem_184513") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185719, &mem_184515, "mem_184515") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185720, &mem_184517, "mem_184517") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_185983, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_185984, &mem_out_185720, "mem_out_185720") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_184311);
        free(mem_184314);
        free(mem_184324);
        free(mem_184326);
        free(mem_184393);
        free(mem_184396);
        free(mem_184406);
        free(mem_184408);
        free(mem_184423);
        free(mem_184426);
        if (memblock_unref(ctx, &mem_184517, "mem_184517") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184515, "mem_184515") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185738, "mem_param_tmp_185738") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185737, "mem_param_tmp_185737") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184503, "mem_184503") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184499, "mem_184499") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184465, "mem_184465") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184461, "mem_184461") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184470, "mem_184470") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184468, "mem_184468") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184485, "ext_mem_184485") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184488, "ext_mem_184488") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184390, "mem_param_184390") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184387, "mem_param_184387") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184509, "ext_mem_184509") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184510, "ext_mem_184510") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184383, "mem_184383") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184379, "mem_184379") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184513, "ext_mem_184513") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184306, "ext_mem_184306") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185720, "mem_out_185720") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_185995, struct memblock *mem_out_p_185996, struct memblock xs_mem_184305, int64_t n_107443, int64_t incr_107444)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_184311_cached_sizze_185997 = 0;
    unsigned char *mem_184311 = NULL;
    int64_t mem_184314_cached_sizze_185998 = 0;
    unsigned char *mem_184314 = NULL;
    int64_t mem_184324_cached_sizze_185999 = 0;
    unsigned char *mem_184324 = NULL;
    int64_t mem_184326_cached_sizze_186000 = 0;
    unsigned char *mem_184326 = NULL;
    int64_t mem_184393_cached_sizze_186001 = 0;
    unsigned char *mem_184393 = NULL;
    int64_t mem_184396_cached_sizze_186002 = 0;
    unsigned char *mem_184396 = NULL;
    int64_t mem_184406_cached_sizze_186003 = 0;
    unsigned char *mem_184406 = NULL;
    int64_t mem_184408_cached_sizze_186004 = 0;
    unsigned char *mem_184408 = NULL;
    int64_t mem_184423_cached_sizze_186005 = 0;
    unsigned char *mem_184423 = NULL;
    int64_t mem_184426_cached_sizze_186006 = 0;
    unsigned char *mem_184426 = NULL;
    struct memblock mem_184517;
    
    mem_184517.references = NULL;
    
    struct memblock mem_184515;
    
    mem_184515.references = NULL;
    
    struct memblock mem_param_tmp_185738;
    
    mem_param_tmp_185738.references = NULL;
    
    struct memblock mem_param_tmp_185737;
    
    mem_param_tmp_185737.references = NULL;
    
    struct memblock mem_184503;
    
    mem_184503.references = NULL;
    
    struct memblock mem_184499;
    
    mem_184499.references = NULL;
    
    struct memblock mem_184465;
    
    mem_184465.references = NULL;
    
    struct memblock mem_184461;
    
    mem_184461.references = NULL;
    
    struct memblock mem_184470;
    
    mem_184470.references = NULL;
    
    struct memblock mem_184468;
    
    mem_184468.references = NULL;
    
    struct memblock ext_mem_184485;
    
    ext_mem_184485.references = NULL;
    
    struct memblock ext_mem_184488;
    
    ext_mem_184488.references = NULL;
    
    struct memblock mem_param_184390;
    
    mem_param_184390.references = NULL;
    
    struct memblock mem_param_184387;
    
    mem_param_184387.references = NULL;
    
    struct memblock ext_mem_184509;
    
    ext_mem_184509.references = NULL;
    
    struct memblock ext_mem_184510;
    
    ext_mem_184510.references = NULL;
    
    struct memblock mem_184383;
    
    mem_184383.references = NULL;
    
    struct memblock mem_184379;
    
    mem_184379.references = NULL;
    
    struct memblock ext_mem_184513;
    
    ext_mem_184513.references = NULL;
    
    struct memblock mem_184308;
    
    mem_184308.references = NULL;
    
    struct memblock ext_mem_184306;
    
    ext_mem_184306.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t bytes_184307 = (int64_t) 8 * n_107443;
    bool cond_175057 = sle64(n_107443, (int64_t) 1);
    int64_t zs_lhs_175058 = sub64(n_107443, (int64_t) 1);
    int64_t zp_rhs_175059 = sdiv_safe64(zs_lhs_175058, (int64_t) 20);
    int64_t min_num_blocks_175060 = add64((int64_t) 1, zp_rhs_175059);
    bool loop_cond_175061 = slt64((int64_t) 1, min_num_blocks_175060);
    bool smallest_pow_2_geq_than_res_175062;
    int64_t smallest_pow_2_geq_than_res_175063;
    bool loop_while_175064;
    int64_t x_175065;
    
    loop_while_175064 = loop_cond_175061;
    x_175065 = (int64_t) 1;
    while (loop_while_175064) {
        int64_t loopres_175066 = mul64((int64_t) 2, x_175065);
        bool loop_cond_175067 = slt64(loopres_175066, min_num_blocks_175060);
        bool loop_while_tmp_185721 = loop_cond_175067;
        int64_t x_tmp_185722 = loopres_175066;
        
        loop_while_175064 = loop_while_tmp_185721;
        x_175065 = x_tmp_185722;
    }
    smallest_pow_2_geq_than_res_175062 = loop_while_175064;
    smallest_pow_2_geq_than_res_175063 = x_175065;
    
    bool zzero_175068 = smallest_pow_2_geq_than_res_175063 == (int64_t) 0;
    bool nonzzero_175069 = !zzero_175068;
    bool protect_assert_disj_175070 = cond_175057 || nonzzero_175069;
    bool nonzzero_cert_175071;
    
    if (!protect_assert_disj_175070) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:193:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175072 = sdiv_safe64(zs_lhs_175058, smallest_pow_2_geq_than_res_175063);
    int64_t block_sizze_175073 = add64((int64_t) 1, zp_rhs_175072);
    bool y_175078 = slt64((int64_t) 0, n_107443);
    bool protect_assert_disj_185418 = cond_175057 || y_175078;
    bool index_certs_175079;
    
    if (!protect_assert_disj_185418) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_107443, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:193:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_175092 = slt64(smallest_pow_2_geq_than_res_175063, (int64_t) 0);
    bool valid_175093 = !bounds_invalid_upwards_175092;
    bool protect_assert_disj_185426 = cond_175057 || valid_175093;
    bool range_valid_c_175094;
    
    if (!protect_assert_disj_185426) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_175063, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:193:54-57\n   #6  ftsort.fut:41:3-27\n   #7  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_175096 = slt64(block_sizze_175073, (int64_t) 0);
    bool valid_175097 = !bounds_invalid_upwards_175096;
    bool protect_assert_disj_185428 = cond_175057 || valid_175097;
    bool range_valid_c_175098;
    
    if (!protect_assert_disj_185428) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_175073, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:193:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_175100 = sle64(block_sizze_175073, (int64_t) 1);
    int64_t tmp_175101 = sub64(block_sizze_175073, (int64_t) 2);
    bool bounds_invalid_upwards_175102 = slt64(tmp_175101, (int64_t) 0);
    bool valid_175104 = !bounds_invalid_upwards_175102;
    bool protect_assert_disj_175105 = cond_175100 || valid_175104;
    bool protect_assert_disj_185430 = cond_175057 || protect_assert_disj_175105;
    bool range_valid_c_175106;
    
    if (!protect_assert_disj_185430) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_175101, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184516 = (int64_t) 4 * n_107443;
    
    if (futrts_indicesWithIncrement_9526(ctx, &ext_mem_184306, xs_mem_184305, n_107443, incr_107444) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184308, bytes_184307, "mem_184308")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_185723 = 0; i_185723 < n_107443; i_185723++) {
        int64_t x_185724 = (int64_t) 0 + i_185723 * (int64_t) 1;
        
        ((int64_t *) mem_184308.mem)[i_185723] = x_185724;
    }
    
    int64_t flat_dim_175074 = smallest_pow_2_geq_than_res_175063 * block_sizze_175073;
    bool x_185413 = !cond_175057;
    int64_t greatest_divisor_leq_than_arg1_175076 = mul64((int64_t) 2, block_sizze_175073);
    int64_t merge_block_sizze_175077;
    
    if (x_185413) {
        int64_t x_185415;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_185415, (int64_t) 8, greatest_divisor_leq_than_arg1_175076) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_175077 = x_185415;
    } else {
        merge_block_sizze_175077 = (int64_t) 0;
    }
    
    float reduce_arg1_175080;
    
    if (x_185413) {
        float x_185419 = ((float *) xs_mem_184305.mem)[(int64_t) 0];
        
        reduce_arg1_175080 = x_185419;
    } else {
        reduce_arg1_175080 = 0.0F;
    }
    
    float defunc_0_reduce_res_181964;
    int64_t defunc_0_reduce_res_181965;
    
    if (x_185413) {
        float x_185421;
        int64_t x_185422;
        float redout_183965;
        int64_t redout_183966;
        
        redout_183965 = reduce_arg1_175080;
        redout_183966 = (int64_t) 0;
        for (int64_t i_183967 = 0; i_183967 < n_107443; i_183967++) {
            float x_175083 = ((float *) xs_mem_184305.mem)[i_183967];
            bool zlze_res_175089 = redout_183965 <= x_175083;
            float defunc_0_op_res_175090;
            
            if (zlze_res_175089) {
                defunc_0_op_res_175090 = x_175083;
            } else {
                defunc_0_op_res_175090 = redout_183965;
            }
            
            int64_t defunc_0_op_res_175091;
            
            if (zlze_res_175089) {
                defunc_0_op_res_175091 = i_183967;
            } else {
                defunc_0_op_res_175091 = redout_183966;
            }
            
            float redout_tmp_185725 = defunc_0_op_res_175090;
            int64_t redout_tmp_185726 = defunc_0_op_res_175091;
            
            redout_183965 = redout_tmp_185725;
            redout_183966 = redout_tmp_185726;
        }
        x_185421 = redout_183965;
        x_185422 = redout_183966;
        defunc_0_reduce_res_181964 = x_185421;
        defunc_0_reduce_res_181965 = x_185422;
    } else {
        defunc_0_reduce_res_181964 = 0.0F;
        defunc_0_reduce_res_181965 = (int64_t) 0;
    }
    
    int64_t distance_175103 = add64((int64_t) 1, tmp_175101);
    int64_t binop_x_184309 = (int64_t) 4 * smallest_pow_2_geq_than_res_175063;
    int64_t bytes_184310 = block_sizze_175073 * binop_x_184309;
    int64_t binop_x_184312 = (int64_t) 8 * smallest_pow_2_geq_than_res_175063;
    int64_t bytes_184313 = block_sizze_175073 * binop_x_184312;
    int64_t bytes_184323 = (int64_t) 4 * block_sizze_175073;
    int64_t bytes_184325 = (int64_t) 8 * block_sizze_175073;
    bool loop_cond_175177 = slt64(block_sizze_175073, flat_dim_175074);
    bool zzero_175178 = merge_block_sizze_175077 == (int64_t) 0;
    bool nonzzero_175179 = !zzero_175178;
    
    if (cond_175057) {
        if (memblock_set(ctx, &ext_mem_184513, &mem_184308, "mem_184308") != 0)
            return 1;
    } else {
        if (mem_184311_cached_sizze_185997 < bytes_184310) {
            err = lexical_realloc(ctx, &mem_184311, &mem_184311_cached_sizze_185997, bytes_184310);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_184314_cached_sizze_185998 < bytes_184313) {
            err = lexical_realloc(ctx, &mem_184314, &mem_184314_cached_sizze_185998, bytes_184313);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_184324_cached_sizze_185999 < bytes_184323) {
            err = lexical_realloc(ctx, &mem_184324, &mem_184324_cached_sizze_185999, bytes_184323);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_184326_cached_sizze_186000 < bytes_184325) {
            err = lexical_realloc(ctx, &mem_184326, &mem_184326_cached_sizze_186000, bytes_184325);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_183979 = 0; i_183979 < smallest_pow_2_geq_than_res_175063; i_183979++) {
            int64_t zp_lhs_175110 = mul64(block_sizze_175073, i_183979);
            
            for (int64_t i_183972 = 0; i_183972 < block_sizze_175073; i_183972++) {
                int64_t k_175114 = add64(zp_lhs_175110, i_183972);
                bool cond_175115 = slt64(k_175114, n_107443);
                float lifted_lambda_res_175116;
                int64_t lifted_lambda_res_175117;
                
                if (cond_175115) {
                    bool x_181817 = sle64((int64_t) 0, k_175114);
                    bool bounds_check_181818 = cond_175115 && x_181817;
                    bool index_certs_181819;
                    
                    if (!bounds_check_181818) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_175114, "] out of bounds for array of shape [", (long long) n_107443, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:193:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    float lifted_lambda_res_t_res_181820 = ((float *) xs_mem_184305.mem)[k_175114];
                    
                    lifted_lambda_res_175116 = lifted_lambda_res_t_res_181820;
                    lifted_lambda_res_175117 = k_175114;
                } else {
                    lifted_lambda_res_175116 = defunc_0_reduce_res_181964;
                    lifted_lambda_res_175117 = defunc_0_reduce_res_181965;
                }
                ((float *) mem_184324)[i_183972] = lifted_lambda_res_175116;
                ((int64_t *) mem_184326)[i_183972] = lifted_lambda_res_175117;
            }
            if (!cond_175100) {
                for (int64_t i_175126 = 0; i_175126 < distance_175103; i_175126++) {
                    int64_t gt_arg1_175129 = add64((int64_t) 1, i_175126);
                    bool x_175130 = sle64((int64_t) 0, gt_arg1_175129);
                    bool y_175131 = slt64(gt_arg1_175129, block_sizze_175073);
                    bool bounds_check_175132 = x_175130 && y_175131;
                    bool index_certs_175133;
                    
                    if (!bounds_check_175132) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_175129, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_175135 = slt64(i_175126, block_sizze_175073);
                    bool index_certs_175136;
                    
                    if (!y_175135) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_175126, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    float gt_arg1_175134 = ((float *) mem_184324)[gt_arg1_175129];
                    float gt_arg0_175137 = ((float *) mem_184324)[i_175126];
                    bool zlze_res_175138 = gt_arg0_175137 <= gt_arg1_175134;
                    bool defunc_0_lifted_gt_res_175139 = !zlze_res_175138;
                    bool s_175140;
                    int64_t s_175143;
                    bool loop_while_175144;
                    int64_t j_175147;
                    
                    loop_while_175144 = defunc_0_lifted_gt_res_175139;
                    j_175147 = i_175126;
                    while (loop_while_175144) {
                        bool x_175148 = sle64((int64_t) 0, j_175147);
                        bool y_175149 = slt64(j_175147, block_sizze_175073);
                        bool bounds_check_175150 = x_175148 && y_175149;
                        bool index_certs_175151;
                        
                        if (!bounds_check_175150) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_175147, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_175154 = add64((int64_t) 1, j_175147);
                        bool x_175155 = sle64((int64_t) 0, copy_arg0_175154);
                        bool y_175156 = slt64(copy_arg0_175154, block_sizze_175073);
                        bool bounds_check_175157 = x_175155 && y_175156;
                        bool index_certs_175158;
                        
                        if (!bounds_check_175157) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_175154, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        float copy_arg0_175152 = ((float *) mem_184324)[j_175147];
                        int64_t copy_arg0_175153 = ((int64_t *) mem_184326)[j_175147];
                        float copy_arg0_175159 = ((float *) mem_184324)[copy_arg0_175154];
                        int64_t copy_arg0_175160 = ((int64_t *) mem_184326)[copy_arg0_175154];
                        
                        ((float *) mem_184324)[j_175147] = copy_arg0_175159;
                        ((int64_t *) mem_184326)[j_175147] = copy_arg0_175160;
                        ((float *) mem_184324)[copy_arg0_175154] = copy_arg0_175152;
                        ((int64_t *) mem_184326)[copy_arg0_175154] = copy_arg0_175153;
                        
                        int64_t tmp_175165 = sub64(j_175147, (int64_t) 1);
                        bool cond_175166 = sle64((int64_t) 0, tmp_175165);
                        bool loop_cond_175167;
                        
                        if (cond_175166) {
                            bool y_181822 = slt64(tmp_175165, block_sizze_175073);
                            bool bounds_check_181823 = cond_175166 && y_181822;
                            bool index_certs_181824;
                            
                            if (!bounds_check_181823) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_175165, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            float gt_arg1_181821 = ((float *) mem_184324)[j_175147];
                            float gt_arg0_181825 = ((float *) mem_184324)[tmp_175165];
                            bool zlze_res_181826 = gt_arg0_181825 <= gt_arg1_181821;
                            bool defunc_0_lifted_gt_res_181827 = !zlze_res_181826;
                            
                            loop_cond_175167 = defunc_0_lifted_gt_res_181827;
                        } else {
                            loop_cond_175167 = 0;
                        }
                        
                        bool loop_while_tmp_185733 = loop_cond_175167;
                        int64_t j_tmp_185736 = tmp_175165;
                        
                        loop_while_175144 = loop_while_tmp_185733;
                        j_175147 = j_tmp_185736;
                    }
                    s_175140 = loop_while_175144;
                    s_175143 = j_175147;
                }
            }
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_184311, i_183979 * block_sizze_175073, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_184324, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175073});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184314, i_183979 * block_sizze_175073, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184326, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175073});
        }
        if (memblock_alloc(ctx, &mem_184379, bytes_184310, "mem_184379")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_184379.mem, (int64_t) 0, (int64_t []) {block_sizze_175073, (int64_t) 1}, (uint32_t *) mem_184311, (int64_t) 0, (int64_t []) {block_sizze_175073, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175063, block_sizze_175073});
        if (memblock_alloc(ctx, &mem_184383, bytes_184313, "mem_184383")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_184383.mem, (int64_t) 0, (int64_t []) {block_sizze_175073, (int64_t) 1}, (uint64_t *) mem_184314, (int64_t) 0, (int64_t []) {block_sizze_175073, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175063, block_sizze_175073});
        
        int64_t data_175180;
        bool data_175181;
        int64_t data_175184;
        int64_t loop_dz2084Uz2082U_175185;
        bool loop_while_175186;
        int64_t stride_175189;
        
        if (memblock_set(ctx, &mem_param_184387, &mem_184379, "mem_184379") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_184390, &mem_184383, "mem_184383") != 0)
            return 1;
        loop_dz2084Uz2082U_175185 = flat_dim_175074;
        loop_while_175186 = loop_cond_175177;
        stride_175189 = block_sizze_175073;
        while (loop_while_175186) {
            int64_t next_stride_175190 = mul64((int64_t) 2, stride_175189);
            bool zzero_175191 = next_stride_175190 == (int64_t) 0;
            bool nonzzero_175192 = !zzero_175191;
            bool nonzzero_cert_175193;
            
            if (!nonzzero_175192) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:193:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_175194 = sdiv64(flat_dim_175074, next_stride_175190);
            bool bounds_invalid_upwards_175195 = slt64(num_merges_175194, (int64_t) 0);
            bool valid_175196 = !bounds_invalid_upwards_175195;
            bool range_valid_c_175197;
            
            if (!valid_175196) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_175194, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:193:54-57\n   #6  ftsort.fut:41:3-27\n   #7  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_175199 = sub64(next_stride_175190, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_175200 = sle64((int64_t) 0, m_175199);
            bool cond_175202 = slt64(next_stride_175190, (int64_t) 10);
            bool protect_assert_disj_175203 = nonzzero_175179 || cond_175202;
            bool nonzzero_cert_175204;
            
            if (!protect_assert_disj_175203) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_175205 = smod_safe64(next_stride_175190, merge_block_sizze_175077);
            bool num_blocks_175206 = zeze_lhs_175205 == (int64_t) 0;
            bool protect_assert_disj_175207 = cond_175202 || num_blocks_175206;
            bool assert_c_175208;
            
            if (!protect_assert_disj_175207) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_175210 = sdiv_safe64(next_stride_175190, merge_block_sizze_175077);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211 = add64((int64_t) 1, num_blocks_175210);
            int64_t j_m_i_175212 = sub64(next_stride_175190, stride_175189);
            int64_t flat_dim_175213 = merge_block_sizze_175077 * num_blocks_175210;
            bool bounds_invalid_upwards_175214 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211, (int64_t) 0);
            bool zzero_lte_i_175215 = sle64((int64_t) 0, stride_175189);
            bool i_lte_j_175216 = sle64(stride_175189, next_stride_175190);
            bool empty_slice_175217 = stride_175189 == (int64_t) 0;
            int64_t m_175218 = sub64(stride_175189, (int64_t) 1);
            bool bounds_invalid_upwards_175219 = slt64(num_blocks_175210, (int64_t) 0);
            bool empty_slice_175220 = j_m_i_175212 == (int64_t) 0;
            int64_t m_175221 = sub64(j_m_i_175212, (int64_t) 1);
            bool cond_175222 = slt64((int64_t) 0, stride_175189);
            bool valid_175223 = !bounds_invalid_upwards_175214;
            bool zzero_leq_i_p_m_t_s_175224 = sle64((int64_t) 0, m_175218);
            bool i_p_m_t_s_leq_w_175225 = slt64(m_175218, next_stride_175190);
            bool valid_175226 = !bounds_invalid_upwards_175219;
            bool i_p_m_t_s_leq_w_175227 = slt64(m_175199, flat_dim_175213);
            int64_t i_p_m_t_s_175228 = add64(stride_175189, m_175221);
            bool y_175229 = slt64((int64_t) 0, j_m_i_175212);
            bool protect_assert_disj_175230 = cond_175202 || valid_175223;
            bool range_valid_c_175231;
            
            if (!protect_assert_disj_175230) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:193:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_175232 = zzero_leq_i_p_m_t_s_175224 && i_p_m_t_s_leq_w_175225;
            bool protect_assert_disj_175233 = cond_175202 || valid_175226;
            bool range_valid_c_175234;
            
            if (!protect_assert_disj_175233) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_175210, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:193:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_175235 = zzero_leq_i_p_m_t_s_175200 && i_p_m_t_s_leq_w_175227;
            bool zzero_leq_i_p_m_t_s_175236 = sle64((int64_t) 0, i_p_m_t_s_175228);
            bool i_p_m_t_s_leq_w_175237 = slt64(i_p_m_t_s_175228, next_stride_175190);
            bool forwards_ok_175238 = zzero_lte_i_175215 && y_175232;
            bool ok_or_empty_175239 = zzero_175191 || y_175235;
            bool y_175240 = zzero_lte_i_175215 && i_p_m_t_s_leq_w_175237;
            bool protect_assert_disj_175241 = cond_175222 || y_175229;
            bool ok_or_empty_175242 = empty_slice_175217 || forwards_ok_175238;
            bool protect_assert_disj_175243 = cond_175202 || ok_or_empty_175239;
            bool index_certs_175244;
            
            if (!protect_assert_disj_175243) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_175190, "] out of bounds for array of shape [", (long long) flat_dim_175213, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:193:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_175245 = zzero_leq_i_p_m_t_s_175236 && y_175240;
            bool loop_not_taken_175246 = !cond_175202;
            bool protect_assert_disj_175247 = protect_assert_disj_175241 || loop_not_taken_175246;
            bool index_certs_175248;
            
            if (!protect_assert_disj_175247) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:193:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_175249 = cond_175202 || ok_or_empty_175242;
            bool index_certs_175250;
            
            if (!protect_assert_disj_175249) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_175189, "] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:193:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_175251 = i_lte_j_175216 && y_175245;
            bool protect_assert_disj_175252 = ok_or_empty_175242 || loop_not_taken_175246;
            bool index_certs_175253;
            
            if (!protect_assert_disj_175252) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_175189, "] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_175254 = empty_slice_175220 || forwards_ok_175251;
            bool protect_assert_disj_175255 = loop_not_taken_175246 || ok_or_empty_175254;
            bool index_certs_175256;
            
            if (!protect_assert_disj_175255) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_175189, ":] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_175257 = cond_175202 || ok_or_empty_175254;
            bool index_certs_175258;
            
            if (!protect_assert_disj_175257) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_175189, ":] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:193:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_184391 = (int64_t) 4 * num_merges_175194;
            int64_t bytes_184392 = next_stride_175190 * binop_x_184391;
            int64_t binop_x_184394 = (int64_t) 8 * num_merges_175194;
            int64_t bytes_184395 = next_stride_175190 * binop_x_184394;
            bool i_lte_j_175201 = sle64((int64_t) 0, next_stride_175190);
            
            if (mem_184393_cached_sizze_186001 < bytes_184392) {
                err = lexical_realloc(ctx, &mem_184393, &mem_184393_cached_sizze_186001, bytes_184392);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184396_cached_sizze_186002 < bytes_184395) {
                err = lexical_realloc(ctx, &mem_184396, &mem_184396_cached_sizze_186002, bytes_184395);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_184405 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211;
            int64_t binop_x_184421 = (int64_t) 4 * num_blocks_175210;
            int64_t bytes_184422 = merge_block_sizze_175077 * binop_x_184421;
            int64_t binop_x_184424 = (int64_t) 8 * num_blocks_175210;
            int64_t bytes_184425 = merge_block_sizze_175077 * binop_x_184424;
            int64_t bytes_184467 = (int64_t) 8 * stride_175189;
            int64_t bytes_184469 = (int64_t) 16 * stride_175189;
            
            for (int64_t i_184000 = 0; i_184000 < num_merges_175194; i_184000++) {
                int64_t start_175262 = mul64(next_stride_175190, i_184000);
                int64_t j_m_i_175263 = sub64(loop_dz2084Uz2082U_175185, start_175262);
                bool empty_slice_175264 = j_m_i_175263 == (int64_t) 0;
                int64_t m_175265 = sub64(j_m_i_175263, (int64_t) 1);
                int64_t i_p_m_t_s_175266 = add64(start_175262, m_175265);
                bool zzero_leq_i_p_m_t_s_175267 = sle64((int64_t) 0, i_p_m_t_s_175266);
                bool i_p_m_t_s_leq_w_175268 = slt64(i_p_m_t_s_175266, loop_dz2084Uz2082U_175185);
                bool zzero_lte_i_175269 = sle64((int64_t) 0, start_175262);
                bool i_lte_j_175270 = sle64(start_175262, loop_dz2084Uz2082U_175185);
                bool y_175271 = i_p_m_t_s_leq_w_175268 && zzero_lte_i_175269;
                bool y_175272 = zzero_leq_i_p_m_t_s_175267 && y_175271;
                bool forwards_ok_175273 = i_lte_j_175270 && y_175272;
                bool ok_or_empty_175274 = empty_slice_175264 || forwards_ok_175273;
                bool index_certs_175275;
                
                if (!ok_or_empty_175274) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_175262, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_175185, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_175276 = slt64(m_175199, j_m_i_175263);
                bool y_175277 = zzero_leq_i_p_m_t_s_175200 && i_p_m_t_s_leq_w_175276;
                bool forwards_ok_175278 = i_lte_j_175201 && y_175277;
                bool ok_or_empty_175279 = zzero_175191 || forwards_ok_175278;
                bool index_certs_175280;
                
                if (!ok_or_empty_175279) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_175190, "] out of bounds for array of shape [", (long long) j_m_i_175263, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:193:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_175202) {
                    float dummy_181853;
                    int64_t dummy_181854;
                    
                    if (cond_175222) {
                        float head_res_181855 = ((float *) mem_param_184387.mem)[start_175262];
                        int64_t head_res_181856 = ((int64_t *) mem_param_184390.mem)[start_175262];
                        
                        dummy_181853 = head_res_181855;
                        dummy_181854 = head_res_181856;
                    } else {
                        int64_t slice_181857 = stride_175189 + start_175262;
                        float head_res_181858 = ((float *) mem_param_184387.mem)[slice_181857];
                        int64_t head_res_181859 = ((int64_t *) mem_param_184390.mem)[slice_181857];
                        
                        dummy_181853 = head_res_181858;
                        dummy_181854 = head_res_181859;
                    }
                    if (memblock_alloc(ctx, &mem_184468, bytes_184467, "mem_184468")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185746 = 0; nest_i_185746 < next_stride_175190; nest_i_185746++) {
                        ((float *) mem_184468.mem)[nest_i_185746] = dummy_181853;
                    }
                    if (memblock_alloc(ctx, &mem_184470, bytes_184469, "mem_184470")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185747 = 0; nest_i_185747 < next_stride_175190; nest_i_185747++) {
                        ((int64_t *) mem_184470.mem)[nest_i_185747] = dummy_181854;
                    }
                    
                    int64_t data_181862;
                    int64_t i_181866 = (int64_t) 0;
                    
                    for (int64_t k_181865 = 0; k_181865 < next_stride_175190; k_181865++) {
                        int64_t j_181869 = sub64(k_181865, i_181866);
                        bool cond_181870 = j_181869 == j_m_i_175212;
                        bool cond_181871;
                        
                        if (cond_181870) {
                            cond_181871 = 1;
                        } else {
                            bool cond_181872 = slt64(i_181866, stride_175189);
                            bool cond_f_res_181873;
                            
                            if (cond_181872) {
                                bool x_181874 = sle64((int64_t) 0, j_181869);
                                bool y_181875 = slt64(j_181869, j_m_i_175212);
                                bool bounds_check_181876 = x_181874 && y_181875;
                                bool index_certs_181877;
                                
                                if (!bounds_check_181876) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181869, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:193:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_181881 = sle64((int64_t) 0, i_181866);
                                bool bounds_check_181882 = cond_181872 && x_181881;
                                bool index_certs_181883;
                                
                                if (!bounds_check_181882) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_181866, "] out of bounds for array of shape [", (long long) stride_175189, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:193:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_181878 = stride_175189 + j_181869;
                                int64_t slice_181879 = start_175262 + slice_181878;
                                float leq_arg1_181880 = ((float *) mem_param_184387.mem)[slice_181879];
                                int64_t slice_181884 = start_175262 + i_181866;
                                float leq_arg0_181885 = ((float *) mem_param_184387.mem)[slice_181884];
                                bool zlze_res_181886 = leq_arg0_181885 <= leq_arg1_181880;
                                
                                cond_f_res_181873 = zlze_res_181886;
                            } else {
                                cond_f_res_181873 = 0;
                            }
                            cond_181871 = cond_f_res_181873;
                        }
                        
                        int64_t loopres_181887;
                        float loopres_181888;
                        int64_t loopres_181889;
                        
                        if (cond_181871) {
                            bool x_181891 = sle64((int64_t) 0, i_181866);
                            bool y_181892 = slt64(i_181866, stride_175189);
                            bool bounds_check_181893 = x_181891 && y_181892;
                            bool index_certs_181894;
                            
                            if (!bounds_check_181893) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_181866, "] out of bounds for array of shape [", (long long) stride_175189, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:193:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_181890 = add64((int64_t) 1, i_181866);
                            int64_t slice_181895 = start_175262 + i_181866;
                            float tmp_181896 = ((float *) mem_param_184387.mem)[slice_181895];
                            int64_t tmp_181897 = ((int64_t *) mem_param_184390.mem)[slice_181895];
                            
                            loopres_181887 = tmp_181890;
                            loopres_181888 = tmp_181896;
                            loopres_181889 = tmp_181897;
                        } else {
                            bool x_181898 = sle64((int64_t) 0, j_181869);
                            bool y_181899 = slt64(j_181869, j_m_i_175212);
                            bool bounds_check_181900 = x_181898 && y_181899;
                            bool index_certs_181901;
                            
                            if (!bounds_check_181900) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181869, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:193:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_181902 = stride_175189 + j_181869;
                            int64_t slice_181903 = start_175262 + slice_181902;
                            float tmp_181904 = ((float *) mem_param_184387.mem)[slice_181903];
                            int64_t tmp_181905 = ((int64_t *) mem_param_184390.mem)[slice_181903];
                            
                            loopres_181887 = i_181866;
                            loopres_181888 = tmp_181904;
                            loopres_181889 = tmp_181905;
                        }
                        ((float *) mem_184468.mem)[k_181865] = loopres_181888;
                        ((int64_t *) mem_184470.mem)[k_181865] = loopres_181889;
                        
                        int64_t i_tmp_185748 = loopres_181887;
                        
                        i_181866 = i_tmp_185748;
                    }
                    data_181862 = i_181866;
                    if (memblock_set(ctx, &ext_mem_184488, &mem_184468, "mem_184468") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184485, &mem_184470, "mem_184470") != 0)
                        return 1;
                } else {
                    if (mem_184406_cached_sizze_186003 < bytes_184405) {
                        err = lexical_realloc(ctx, &mem_184406, &mem_184406_cached_sizze_186003, bytes_184405);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184408_cached_sizze_186004 < bytes_184405) {
                        err = lexical_realloc(ctx, &mem_184408, &mem_184408_cached_sizze_186004, bytes_184405);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_183986 = 0; i_183986 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211; i_183986++) {
                        int64_t split_count_arg3_175342 = mul64(merge_block_sizze_175077, i_183986);
                        int64_t defunc_0_split_count_res_175343;
                        int64_t defunc_0_split_count_res_175344;
                        int64_t defunc_0_split_count_res_175345;
                        int64_t defunc_0_split_count_res_175346;
                        int64_t defunc_0_split_count_res_175347;
                        
                        if (futrts_lifted_normalizze_9100(ctx, &defunc_0_split_count_res_175343, &defunc_0_split_count_res_175344, &defunc_0_split_count_res_175345, &defunc_0_split_count_res_175346, &defunc_0_split_count_res_175347, (int64_t) 0, stride_175189, (int64_t) 0, j_m_i_175212, split_count_arg3_175342) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_175348 = slt64((int64_t) 0, defunc_0_split_count_res_175347);
                        bool defunc_0_split_count_res_175349;
                        int64_t defunc_0_split_count_res_175350;
                        int64_t defunc_0_split_count_res_175351;
                        int64_t defunc_0_split_count_res_175352;
                        int64_t defunc_0_split_count_res_175353;
                        int64_t defunc_0_split_count_res_175354;
                        bool loop_while_175355;
                        int64_t ss_175356;
                        int64_t ss_175357;
                        int64_t tt_175358;
                        int64_t tt_175359;
                        int64_t count_175360;
                        
                        loop_while_175355 = loop_cond_175348;
                        ss_175356 = defunc_0_split_count_res_175343;
                        ss_175357 = defunc_0_split_count_res_175344;
                        tt_175358 = defunc_0_split_count_res_175345;
                        tt_175359 = defunc_0_split_count_res_175346;
                        count_175360 = defunc_0_split_count_res_175347;
                        while (loop_while_175355) {
                            int64_t zlze_lhs_175361 = sub64(ss_175357, ss_175356);
                            bool cond_175362 = sle64(zlze_lhs_175361, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_175363;
                            int64_t defunc_0_lifted_step_res_175364;
                            int64_t defunc_0_lifted_step_res_175365;
                            int64_t defunc_0_lifted_step_res_175366;
                            
                            if (cond_175362) {
                                int64_t tmp_181908 = add64(tt_175358, count_175360);
                                
                                defunc_0_lifted_step_res_175363 = ss_175356;
                                defunc_0_lifted_step_res_175364 = tmp_181908;
                                defunc_0_lifted_step_res_175365 = tt_175359;
                                defunc_0_lifted_step_res_175366 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_175368 = sub64(tt_175359, tt_175358);
                                bool cond_175369 = sle64(zlze_lhs_175368, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_175370;
                                int64_t defunc_0_lifted_step_res_f_res_175371;
                                int64_t defunc_0_lifted_step_res_f_res_175372;
                                int64_t defunc_0_lifted_step_res_f_res_175373;
                                
                                if (cond_175369) {
                                    int64_t tmp_181909 = add64(ss_175356, count_175360);
                                    
                                    defunc_0_lifted_step_res_f_res_175370 = tmp_181909;
                                    defunc_0_lifted_step_res_f_res_175371 = tt_175358;
                                    defunc_0_lifted_step_res_f_res_175372 = tt_175359;
                                    defunc_0_lifted_step_res_f_res_175373 = (int64_t) 0;
                                } else {
                                    bool cond_175375 = count_175360 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_175376;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_175377;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_175378;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_175379;
                                    
                                    if (cond_175375) {
                                        bool x_181911 = sle64((int64_t) 0, ss_175356);
                                        bool y_181912 = slt64(ss_175356, stride_175189);
                                        bool bounds_check_181913 = x_181911 && y_181912;
                                        bool index_certs_181914;
                                        
                                        if (!bounds_check_181913) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_175356, "] out of bounds for array of shape [", (long long) stride_175189, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:193:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_181917 = sle64((int64_t) 0, tt_175358);
                                        bool y_181918 = slt64(tt_175358, j_m_i_175212);
                                        bool bounds_check_181919 = x_181917 && y_181918;
                                        bool index_certs_181920;
                                        
                                        if (!bounds_check_181919) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_175358, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:193:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_181915 = start_175262 + ss_175356;
                                        float leq_arg1_181916 = ((float *) mem_param_184387.mem)[slice_181915];
                                        int64_t slice_181921 = stride_175189 + tt_175358;
                                        int64_t slice_181922 = start_175262 + slice_181921;
                                        float leq_arg0_181923 = ((float *) mem_param_184387.mem)[slice_181922];
                                        bool zlze_res_181924 = leq_arg0_181923 <= leq_arg1_181916;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_181925;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_181926;
                                        
                                        if (zlze_res_181924) {
                                            int64_t tmp_181927 = add64((int64_t) 1, tt_175358);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_181925 = ss_175356;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_181926 = tmp_181927;
                                        } else {
                                            int64_t tmp_181928 = add64((int64_t) 1, ss_175356);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_181925 = tmp_181928;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_181926 = tt_175358;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_175376 = defunc_0_lifted_step_res_f_res_f_res_t_res_181925;
                                        defunc_0_lifted_step_res_f_res_f_res_175377 = defunc_0_lifted_step_res_f_res_f_res_t_res_181926;
                                        defunc_0_lifted_step_res_f_res_f_res_175378 = tt_175359;
                                        defunc_0_lifted_step_res_f_res_f_res_175379 = (int64_t) 0;
                                    } else {
                                        int64_t m_175398 = sdiv64(count_175360, (int64_t) 2);
                                        int64_t n_175399 = sub64(count_175360, m_175398);
                                        bool cond_175400 = n_175399 == (int64_t) 0;
                                        int64_t zgze_lhs_175401 = add64(ss_175356, m_175398);
                                        bool cond_f_res_175402 = sle64(ss_175357, zgze_lhs_175401);
                                        bool x_175403 = !cond_175400;
                                        bool y_175404 = cond_f_res_175402 && x_175403;
                                        bool cond_175405 = cond_175400 || y_175404;
                                        bool leq_y_x_175406;
                                        
                                        if (cond_175405) {
                                            leq_y_x_175406 = 1;
                                        } else {
                                            bool x_175407 = sle64((int64_t) 0, zgze_lhs_175401);
                                            bool y_175408 = slt64(zgze_lhs_175401, stride_175189);
                                            bool bounds_check_175409 = x_175407 && y_175408;
                                            bool index_certs_175410;
                                            
                                            if (!bounds_check_175409) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_175401, "] out of bounds for array of shape [", (long long) stride_175189, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:193:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_175413 = add64(tt_175358, n_175399);
                                            int64_t leq_arg0_175414 = sub64(zm_lhs_175413, (int64_t) 1);
                                            bool x_175415 = sle64((int64_t) 0, leq_arg0_175414);
                                            bool y_175416 = slt64(leq_arg0_175414, j_m_i_175212);
                                            bool bounds_check_175417 = x_175415 && y_175416;
                                            bool index_certs_175418;
                                            
                                            if (!bounds_check_175417) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_175414, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:193:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_175411 = start_175262 + zgze_lhs_175401;
                                            float leq_arg1_175412 = ((float *) mem_param_184387.mem)[slice_175411];
                                            int64_t slice_175419 = stride_175189 + leq_arg0_175414;
                                            int64_t slice_175420 = start_175262 + slice_175419;
                                            float leq_arg0_175421 = ((float *) mem_param_184387.mem)[slice_175420];
                                            bool zlze_res_175422 = leq_arg0_175421 <= leq_arg1_175412;
                                            
                                            leq_y_x_175406 = zlze_res_175422;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_175423;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_175424;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_175425;
                                        
                                        if (leq_y_x_175406) {
                                            int64_t tmp_181929 = add64(tt_175358, n_175399);
                                            int64_t tmp_181930 = sub64(count_175360, n_175399);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175423 = tmp_181929;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175424 = tt_175359;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175425 = tmp_181930;
                                        } else {
                                            int64_t tmp_175428 = add64(tt_175358, n_175399);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175423 = tt_175358;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175424 = tmp_175428;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175425 = count_175360;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_175376 = ss_175356;
                                        defunc_0_lifted_step_res_f_res_f_res_175377 = defunc_0_lifted_step_res_f_res_f_res_f_res_175423;
                                        defunc_0_lifted_step_res_f_res_f_res_175378 = defunc_0_lifted_step_res_f_res_f_res_f_res_175424;
                                        defunc_0_lifted_step_res_f_res_f_res_175379 = defunc_0_lifted_step_res_f_res_f_res_f_res_175425;
                                    }
                                    defunc_0_lifted_step_res_f_res_175370 = defunc_0_lifted_step_res_f_res_f_res_175376;
                                    defunc_0_lifted_step_res_f_res_175371 = defunc_0_lifted_step_res_f_res_f_res_175377;
                                    defunc_0_lifted_step_res_f_res_175372 = defunc_0_lifted_step_res_f_res_f_res_175378;
                                    defunc_0_lifted_step_res_f_res_175373 = defunc_0_lifted_step_res_f_res_f_res_175379;
                                }
                                defunc_0_lifted_step_res_175363 = defunc_0_lifted_step_res_f_res_175370;
                                defunc_0_lifted_step_res_175364 = defunc_0_lifted_step_res_f_res_175371;
                                defunc_0_lifted_step_res_175365 = defunc_0_lifted_step_res_f_res_175372;
                                defunc_0_lifted_step_res_175366 = defunc_0_lifted_step_res_f_res_175373;
                            }
                            
                            int64_t loopres_175429;
                            int64_t loopres_175430;
                            int64_t loopres_175431;
                            int64_t loopres_175432;
                            int64_t loopres_175433;
                            
                            if (futrts_lifted_normalizze_9100(ctx, &loopres_175429, &loopres_175430, &loopres_175431, &loopres_175432, &loopres_175433, defunc_0_lifted_step_res_175363, ss_175357, defunc_0_lifted_step_res_175364, defunc_0_lifted_step_res_175365, defunc_0_lifted_step_res_175366) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_175434 = slt64((int64_t) 0, loopres_175433);
                            bool loop_while_tmp_185753 = loop_cond_175434;
                            int64_t ss_tmp_185754 = loopres_175429;
                            int64_t ss_tmp_185755 = loopres_175430;
                            int64_t tt_tmp_185756 = loopres_175431;
                            int64_t tt_tmp_185757 = loopres_175432;
                            int64_t count_tmp_185758 = loopres_175433;
                            
                            loop_while_175355 = loop_while_tmp_185753;
                            ss_175356 = ss_tmp_185754;
                            ss_175357 = ss_tmp_185755;
                            tt_175358 = tt_tmp_185756;
                            tt_175359 = tt_tmp_185757;
                            count_175360 = count_tmp_185758;
                        }
                        defunc_0_split_count_res_175349 = loop_while_175355;
                        defunc_0_split_count_res_175350 = ss_175356;
                        defunc_0_split_count_res_175351 = ss_175357;
                        defunc_0_split_count_res_175352 = tt_175358;
                        defunc_0_split_count_res_175353 = tt_175359;
                        defunc_0_split_count_res_175354 = count_175360;
                        ((int64_t *) mem_184406)[i_183986] = defunc_0_split_count_res_175350;
                        ((int64_t *) mem_184408)[i_183986] = defunc_0_split_count_res_175352;
                    }
                    if (mem_184423_cached_sizze_186005 < bytes_184422) {
                        err = lexical_realloc(ctx, &mem_184423, &mem_184423_cached_sizze_186005, bytes_184422);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184426_cached_sizze_186006 < bytes_184425) {
                        err = lexical_realloc(ctx, &mem_184426, &mem_184426_cached_sizze_186006, bytes_184425);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_183993 = 0; i_183993 < num_blocks_175210; i_183993++) {
                        bool y_175440 = slt64(i_183993, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211);
                        bool index_certs_175442;
                        
                        if (!y_175440) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183993, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:193:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_175443 = ((int64_t *) mem_184406)[i_183993];
                        int64_t defunc_0_f_res_175444 = ((int64_t *) mem_184408)[i_183993];
                        int64_t tmp_175445 = add64((int64_t) 1, i_183993);
                        bool x_175446 = sle64((int64_t) 0, tmp_175445);
                        bool y_175447 = slt64(tmp_175445, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211);
                        bool bounds_check_175448 = x_175446 && y_175447;
                        bool index_certs_175449;
                        
                        if (!bounds_check_175448) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_175445, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:193:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_175450 = ((int64_t *) mem_184406)[tmp_175445];
                        int64_t defunc_0_f_res_175451 = ((int64_t *) mem_184408)[tmp_175445];
                        int64_t merge_sequential_arg2_175452 = add64(stride_175189, defunc_0_f_res_175444);
                        int64_t merge_sequential_arg2_175453 = add64(stride_175189, defunc_0_f_res_175451);
                        int64_t j_m_i_175454 = sub64(merge_sequential_arg2_175453, merge_sequential_arg2_175452);
                        bool empty_slice_175455 = j_m_i_175454 == (int64_t) 0;
                        int64_t m_175456 = sub64(j_m_i_175454, (int64_t) 1);
                        int64_t i_p_m_t_s_175457 = add64(merge_sequential_arg2_175452, m_175456);
                        bool zzero_leq_i_p_m_t_s_175458 = sle64((int64_t) 0, i_p_m_t_s_175457);
                        bool i_p_m_t_s_leq_w_175459 = slt64(i_p_m_t_s_175457, next_stride_175190);
                        bool zzero_lte_i_175460 = sle64((int64_t) 0, merge_sequential_arg2_175452);
                        bool i_lte_j_175461 = sle64(merge_sequential_arg2_175452, merge_sequential_arg2_175453);
                        bool y_175462 = i_p_m_t_s_leq_w_175459 && zzero_lte_i_175460;
                        bool y_175463 = zzero_leq_i_p_m_t_s_175458 && y_175462;
                        bool forwards_ok_175464 = i_lte_j_175461 && y_175463;
                        bool ok_or_empty_175465 = empty_slice_175455 || forwards_ok_175464;
                        bool index_certs_175466;
                        
                        if (!ok_or_empty_175465) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_175452, ":", (long long) merge_sequential_arg2_175453, "] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:193:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_175467 = sub64(defunc_0_f_res_175450, defunc_0_f_res_175443);
                        bool empty_slice_175468 = j_m_i_175467 == (int64_t) 0;
                        int64_t m_175469 = sub64(j_m_i_175467, (int64_t) 1);
                        int64_t i_p_m_t_s_175470 = add64(defunc_0_f_res_175443, m_175469);
                        bool zzero_leq_i_p_m_t_s_175471 = sle64((int64_t) 0, i_p_m_t_s_175470);
                        bool i_p_m_t_s_leq_w_175472 = slt64(i_p_m_t_s_175470, next_stride_175190);
                        bool zzero_lte_i_175473 = sle64((int64_t) 0, defunc_0_f_res_175443);
                        bool i_lte_j_175474 = sle64(defunc_0_f_res_175443, defunc_0_f_res_175450);
                        bool y_175475 = i_p_m_t_s_leq_w_175472 && zzero_lte_i_175473;
                        bool y_175476 = zzero_leq_i_p_m_t_s_175471 && y_175475;
                        bool forwards_ok_175477 = i_lte_j_175474 && y_175476;
                        bool ok_or_empty_175478 = empty_slice_175468 || forwards_ok_175477;
                        bool index_certs_175479;
                        
                        if (!ok_or_empty_175478) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_175443, ":", (long long) defunc_0_f_res_175450, "] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:193:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_175480 = slt64((int64_t) 0, j_m_i_175467);
                        float dummy_175481;
                        int64_t dummy_175482;
                        
                        if (cond_175480) {
                            bool index_certs_181931;
                            
                            if (!cond_175480) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_175467, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:193:54-57\n   #12 ftsort.fut:41:3-27\n   #13 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_181932 = start_175262 + defunc_0_f_res_175443;
                            float head_res_181933 = ((float *) mem_param_184387.mem)[slice_181932];
                            int64_t head_res_181934 = ((int64_t *) mem_param_184390.mem)[slice_181932];
                            
                            dummy_175481 = head_res_181933;
                            dummy_175482 = head_res_181934;
                        } else {
                            bool y_175487 = slt64((int64_t) 0, j_m_i_175454);
                            bool index_certs_175488;
                            
                            if (!y_175487) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_175454, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:193:54-57\n   #12 ftsort.fut:41:3-27\n   #13 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_175489 = start_175262 + merge_sequential_arg2_175452;
                            float head_res_175490 = ((float *) mem_param_184387.mem)[slice_175489];
                            int64_t head_res_175491 = ((int64_t *) mem_param_184390.mem)[slice_175489];
                            
                            dummy_175481 = head_res_175490;
                            dummy_175482 = head_res_175491;
                        }
                        for (int64_t nest_i_185761 = 0; nest_i_185761 < merge_block_sizze_175077; nest_i_185761++) {
                            ((float *) mem_184423)[i_183993 * merge_block_sizze_175077 + nest_i_185761] = dummy_175481;
                        }
                        for (int64_t nest_i_185762 = 0; nest_i_185762 < merge_block_sizze_175077; nest_i_185762++) {
                            ((int64_t *) mem_184426)[i_183993 * merge_block_sizze_175077 + nest_i_185762] = dummy_175482;
                        }
                        
                        int64_t data_175494;
                        int64_t i_175498 = (int64_t) 0;
                        
                        for (int64_t k_175497 = 0; k_175497 < merge_block_sizze_175077; k_175497++) {
                            int64_t j_175501 = sub64(k_175497, i_175498);
                            bool cond_175502 = j_175501 == j_m_i_175454;
                            bool cond_175503;
                            
                            if (cond_175502) {
                                cond_175503 = 1;
                            } else {
                                bool cond_175504 = slt64(i_175498, j_m_i_175467);
                                bool cond_f_res_175505;
                                
                                if (cond_175504) {
                                    bool x_181935 = sle64((int64_t) 0, j_175501);
                                    bool y_181936 = slt64(j_175501, j_m_i_175454);
                                    bool bounds_check_181937 = x_181935 && y_181936;
                                    bool index_certs_181938;
                                    
                                    if (!bounds_check_181937) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_175501, "] out of bounds for array of shape [", (long long) j_m_i_175454, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:193:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_181942 = sle64((int64_t) 0, i_175498);
                                    bool bounds_check_181943 = cond_175504 && x_181942;
                                    bool index_certs_181944;
                                    
                                    if (!bounds_check_181943) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_175498, "] out of bounds for array of shape [", (long long) j_m_i_175467, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:193:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_181939 = merge_sequential_arg2_175452 + j_175501;
                                    int64_t slice_181940 = start_175262 + slice_181939;
                                    float leq_arg1_181941 = ((float *) mem_param_184387.mem)[slice_181940];
                                    int64_t slice_181945 = defunc_0_f_res_175443 + i_175498;
                                    int64_t slice_181946 = start_175262 + slice_181945;
                                    float leq_arg0_181947 = ((float *) mem_param_184387.mem)[slice_181946];
                                    bool zlze_res_181948 = leq_arg0_181947 <= leq_arg1_181941;
                                    
                                    cond_f_res_175505 = zlze_res_181948;
                                } else {
                                    cond_f_res_175505 = 0;
                                }
                                cond_175503 = cond_f_res_175505;
                            }
                            
                            int64_t loopres_175520;
                            float loopres_175521;
                            int64_t loopres_175522;
                            
                            if (cond_175503) {
                                bool x_181950 = sle64((int64_t) 0, i_175498);
                                bool y_181951 = slt64(i_175498, j_m_i_175467);
                                bool bounds_check_181952 = x_181950 && y_181951;
                                bool index_certs_181953;
                                
                                if (!bounds_check_181952) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_175498, "] out of bounds for array of shape [", (long long) j_m_i_175467, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:193:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_181949 = add64((int64_t) 1, i_175498);
                                int64_t slice_181954 = defunc_0_f_res_175443 + i_175498;
                                int64_t slice_181955 = start_175262 + slice_181954;
                                float tmp_181956 = ((float *) mem_param_184387.mem)[slice_181955];
                                int64_t tmp_181957 = ((int64_t *) mem_param_184390.mem)[slice_181955];
                                
                                loopres_175520 = tmp_181949;
                                loopres_175521 = tmp_181956;
                                loopres_175522 = tmp_181957;
                            } else {
                                bool x_175532 = sle64((int64_t) 0, j_175501);
                                bool y_175533 = slt64(j_175501, j_m_i_175454);
                                bool bounds_check_175534 = x_175532 && y_175533;
                                bool index_certs_175535;
                                
                                if (!bounds_check_175534) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_175501, "] out of bounds for array of shape [", (long long) j_m_i_175454, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:193:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_175536 = merge_sequential_arg2_175452 + j_175501;
                                int64_t slice_175537 = start_175262 + slice_175536;
                                float tmp_175538 = ((float *) mem_param_184387.mem)[slice_175537];
                                int64_t tmp_175539 = ((int64_t *) mem_param_184390.mem)[slice_175537];
                                
                                loopres_175520 = i_175498;
                                loopres_175521 = tmp_175538;
                                loopres_175522 = tmp_175539;
                            }
                            ((float *) mem_184423)[i_183993 * merge_block_sizze_175077 + k_175497] = loopres_175521;
                            ((int64_t *) mem_184426)[i_183993 * merge_block_sizze_175077 + k_175497] = loopres_175522;
                            
                            int64_t i_tmp_185763 = loopres_175520;
                            
                            i_175498 = i_tmp_185763;
                        }
                        data_175494 = i_175498;
                    }
                    if (memblock_alloc(ctx, &mem_184461, bytes_184422, "mem_184461")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_184461.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175077, (int64_t) 1}, (uint32_t *) mem_184423, (int64_t) 0, (int64_t []) {merge_block_sizze_175077, (int64_t) 1}, (int64_t []) {num_blocks_175210, merge_block_sizze_175077});
                    if (memblock_alloc(ctx, &mem_184465, bytes_184425, "mem_184465")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_184465.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175077, (int64_t) 1}, (uint64_t *) mem_184426, (int64_t) 0, (int64_t []) {merge_block_sizze_175077, (int64_t) 1}, (int64_t []) {num_blocks_175210, merge_block_sizze_175077});
                    if (memblock_set(ctx, &ext_mem_184488, &mem_184461, "mem_184461") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184485, &mem_184465, "mem_184465") != 0)
                        return 1;
                }
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_184393, i_184000 * next_stride_175190, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_184488.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_175190});
                if (memblock_unref(ctx, &ext_mem_184488, "ext_mem_184488") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184396, i_184000 * next_stride_175190, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184485.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_175190});
                if (memblock_unref(ctx, &ext_mem_184485, "ext_mem_184485") != 0)
                    return 1;
            }
            
            int64_t flat_dim_175546 = next_stride_175190 * num_merges_175194;
            
            if (memblock_alloc(ctx, &mem_184499, bytes_184392, "mem_184499")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_184499.mem, (int64_t) 0, (int64_t []) {next_stride_175190, (int64_t) 1}, (uint32_t *) mem_184393, (int64_t) 0, (int64_t []) {next_stride_175190, (int64_t) 1}, (int64_t []) {num_merges_175194, next_stride_175190});
            if (memblock_alloc(ctx, &mem_184503, bytes_184395, "mem_184503")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_184503.mem, (int64_t) 0, (int64_t []) {next_stride_175190, (int64_t) 1}, (uint64_t *) mem_184396, (int64_t) 0, (int64_t []) {next_stride_175190, (int64_t) 1}, (int64_t []) {num_merges_175194, next_stride_175190});
            
            bool loop_cond_175549 = slt64(next_stride_175190, flat_dim_175074);
            
            if (memblock_set(ctx, &mem_param_tmp_185737, &mem_184499, "mem_184499") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_185738, &mem_184503, "mem_184503") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_185739 = flat_dim_175546;
            bool loop_while_tmp_185740 = loop_cond_175549;
            int64_t stride_tmp_185743 = next_stride_175190;
            
            if (memblock_set(ctx, &mem_param_184387, &mem_param_tmp_185737, "mem_param_tmp_185737") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_184390, &mem_param_tmp_185738, "mem_param_tmp_185738") != 0)
                return 1;
            loop_dz2084Uz2082U_175185 = loop_dz2084Uz2082U_tmp_185739;
            loop_while_175186 = loop_while_tmp_185740;
            stride_175189 = stride_tmp_185743;
        }
        if (memblock_set(ctx, &ext_mem_184510, &mem_param_184387, "mem_param_184387") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_184509, &mem_param_184390, "mem_param_184390") != 0)
            return 1;
        data_175180 = loop_dz2084Uz2082U_175185;
        data_175181 = loop_while_175186;
        data_175184 = stride_175189;
        if (memblock_unref(ctx, &mem_184379, "mem_184379") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184383, "mem_184383") != 0)
            return 1;
        
        bool empty_slice_175550 = n_107443 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_175551 = sle64((int64_t) 0, zs_lhs_175058);
        bool i_p_m_t_s_leq_w_175552 = slt64(zs_lhs_175058, data_175180);
        bool y_175553 = zzero_leq_i_p_m_t_s_175551 && i_p_m_t_s_leq_w_175552;
        bool ok_or_empty_175554 = empty_slice_175550 || y_175553;
        bool index_certs_175555;
        
        if (!ok_or_empty_175554) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_107443, "] out of bounds for array of shape [", (long long) data_175180, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:193:54-57\n   #5  ftsort.fut:41:3-27\n   #6  ftsort.fut:40:1-41:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_184513, &ext_mem_184509, "ext_mem_184509") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_184515, bytes_184307, "mem_184515")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184517, bytes_184516, "mem_184517")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_184007 = 0; i_184007 < n_107443; i_184007++) {
        int64_t eta_p_175559 = ((int64_t *) ext_mem_184513.mem)[i_184007];
        bool x_175560 = sle64((int64_t) 0, eta_p_175559);
        bool y_175561 = slt64(eta_p_175559, n_107443);
        bool bounds_check_175562 = x_175560 && y_175561;
        bool index_certs_175563;
        
        if (!bounds_check_175562) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_175559, "] out of bounds for array of shape [", (long long) n_107443, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:193:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_175564 = ((int64_t *) ext_mem_184306.mem)[eta_p_175559];
        float lifted_lambda_res_175565 = ((float *) xs_mem_184305.mem)[eta_p_175559];
        
        ((int64_t *) mem_184515.mem)[i_184007] = lifted_lambda_res_175564;
        ((float *) mem_184517.mem)[i_184007] = lifted_lambda_res_175565;
    }
    if (memblock_unref(ctx, &ext_mem_184306, "ext_mem_184306") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_184513, "ext_mem_184513") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185719, &mem_184515, "mem_184515") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185720, &mem_184517, "mem_184517") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_185995, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_185996, &mem_out_185720, "mem_out_185720") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_184311);
        free(mem_184314);
        free(mem_184324);
        free(mem_184326);
        free(mem_184393);
        free(mem_184396);
        free(mem_184406);
        free(mem_184408);
        free(mem_184423);
        free(mem_184426);
        if (memblock_unref(ctx, &mem_184517, "mem_184517") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184515, "mem_184515") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185738, "mem_param_tmp_185738") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185737, "mem_param_tmp_185737") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184503, "mem_184503") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184499, "mem_184499") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184465, "mem_184465") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184461, "mem_184461") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184470, "mem_184470") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184468, "mem_184468") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184485, "ext_mem_184485") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184488, "ext_mem_184488") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184390, "mem_param_184390") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184387, "mem_param_184387") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184509, "ext_mem_184509") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184510, "ext_mem_184510") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184383, "mem_184383") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184379, "mem_184379") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184513, "ext_mem_184513") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184306, "ext_mem_184306") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185720, "mem_out_185720") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_186007, struct memblock *mem_out_p_186008, struct memblock xs_mem_184305, int64_t n_102756, int64_t incr_102757)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_184311_cached_sizze_186009 = 0;
    unsigned char *mem_184311 = NULL;
    int64_t mem_184314_cached_sizze_186010 = 0;
    unsigned char *mem_184314 = NULL;
    int64_t mem_184324_cached_sizze_186011 = 0;
    unsigned char *mem_184324 = NULL;
    int64_t mem_184326_cached_sizze_186012 = 0;
    unsigned char *mem_184326 = NULL;
    int64_t mem_184393_cached_sizze_186013 = 0;
    unsigned char *mem_184393 = NULL;
    int64_t mem_184396_cached_sizze_186014 = 0;
    unsigned char *mem_184396 = NULL;
    int64_t mem_184406_cached_sizze_186015 = 0;
    unsigned char *mem_184406 = NULL;
    int64_t mem_184408_cached_sizze_186016 = 0;
    unsigned char *mem_184408 = NULL;
    int64_t mem_184423_cached_sizze_186017 = 0;
    unsigned char *mem_184423 = NULL;
    int64_t mem_184426_cached_sizze_186018 = 0;
    unsigned char *mem_184426 = NULL;
    struct memblock mem_184517;
    
    mem_184517.references = NULL;
    
    struct memblock mem_184515;
    
    mem_184515.references = NULL;
    
    struct memblock mem_param_tmp_185738;
    
    mem_param_tmp_185738.references = NULL;
    
    struct memblock mem_param_tmp_185737;
    
    mem_param_tmp_185737.references = NULL;
    
    struct memblock mem_184503;
    
    mem_184503.references = NULL;
    
    struct memblock mem_184499;
    
    mem_184499.references = NULL;
    
    struct memblock mem_184465;
    
    mem_184465.references = NULL;
    
    struct memblock mem_184461;
    
    mem_184461.references = NULL;
    
    struct memblock mem_184470;
    
    mem_184470.references = NULL;
    
    struct memblock mem_184468;
    
    mem_184468.references = NULL;
    
    struct memblock ext_mem_184485;
    
    ext_mem_184485.references = NULL;
    
    struct memblock ext_mem_184488;
    
    ext_mem_184488.references = NULL;
    
    struct memblock mem_param_184390;
    
    mem_param_184390.references = NULL;
    
    struct memblock mem_param_184387;
    
    mem_param_184387.references = NULL;
    
    struct memblock ext_mem_184509;
    
    ext_mem_184509.references = NULL;
    
    struct memblock ext_mem_184510;
    
    ext_mem_184510.references = NULL;
    
    struct memblock mem_184383;
    
    mem_184383.references = NULL;
    
    struct memblock mem_184379;
    
    mem_184379.references = NULL;
    
    struct memblock ext_mem_184513;
    
    ext_mem_184513.references = NULL;
    
    struct memblock mem_184308;
    
    mem_184308.references = NULL;
    
    struct memblock ext_mem_184306;
    
    ext_mem_184306.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t bytes_184307 = (int64_t) 8 * n_102756;
    bool cond_175057 = sle64(n_102756, (int64_t) 1);
    int64_t zs_lhs_175058 = sub64(n_102756, (int64_t) 1);
    int64_t zp_rhs_175059 = sdiv_safe64(zs_lhs_175058, (int64_t) 20);
    int64_t min_num_blocks_175060 = add64((int64_t) 1, zp_rhs_175059);
    bool loop_cond_175061 = slt64((int64_t) 1, min_num_blocks_175060);
    bool smallest_pow_2_geq_than_res_175062;
    int64_t smallest_pow_2_geq_than_res_175063;
    bool loop_while_175064;
    int64_t x_175065;
    
    loop_while_175064 = loop_cond_175061;
    x_175065 = (int64_t) 1;
    while (loop_while_175064) {
        int64_t loopres_175066 = mul64((int64_t) 2, x_175065);
        bool loop_cond_175067 = slt64(loopres_175066, min_num_blocks_175060);
        bool loop_while_tmp_185721 = loop_cond_175067;
        int64_t x_tmp_185722 = loopres_175066;
        
        loop_while_175064 = loop_while_tmp_185721;
        x_175065 = x_tmp_185722;
    }
    smallest_pow_2_geq_than_res_175062 = loop_while_175064;
    smallest_pow_2_geq_than_res_175063 = x_175065;
    
    bool zzero_175068 = smallest_pow_2_geq_than_res_175063 == (int64_t) 0;
    bool nonzzero_175069 = !zzero_175068;
    bool protect_assert_disj_175070 = cond_175057 || nonzzero_175069;
    bool nonzzero_cert_175071;
    
    if (!protect_assert_disj_175070) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:140:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175072 = sdiv_safe64(zs_lhs_175058, smallest_pow_2_geq_than_res_175063);
    int64_t block_sizze_175073 = add64((int64_t) 1, zp_rhs_175072);
    bool y_175078 = slt64((int64_t) 0, n_102756);
    bool protect_assert_disj_185418 = cond_175057 || y_175078;
    bool index_certs_175079;
    
    if (!protect_assert_disj_185418) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_102756, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:140:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_175092 = slt64(smallest_pow_2_geq_than_res_175063, (int64_t) 0);
    bool valid_175093 = !bounds_invalid_upwards_175092;
    bool protect_assert_disj_185426 = cond_175057 || valid_175093;
    bool range_valid_c_175094;
    
    if (!protect_assert_disj_185426) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_175063, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:140:54-57\n   #6  ftsort.fut:35:3-25\n   #7  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_175096 = slt64(block_sizze_175073, (int64_t) 0);
    bool valid_175097 = !bounds_invalid_upwards_175096;
    bool protect_assert_disj_185428 = cond_175057 || valid_175097;
    bool range_valid_c_175098;
    
    if (!protect_assert_disj_185428) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_175073, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:140:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_175100 = sle64(block_sizze_175073, (int64_t) 1);
    int64_t tmp_175101 = sub64(block_sizze_175073, (int64_t) 2);
    bool bounds_invalid_upwards_175102 = slt64(tmp_175101, (int64_t) 0);
    bool valid_175104 = !bounds_invalid_upwards_175102;
    bool protect_assert_disj_175105 = cond_175100 || valid_175104;
    bool protect_assert_disj_185430 = cond_175057 || protect_assert_disj_175105;
    bool range_valid_c_175106;
    
    if (!protect_assert_disj_185430) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_175101, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184516 = (int64_t) 4 * n_102756;
    
    if (futrts_indicesWithIncrement_9316(ctx, &ext_mem_184306, xs_mem_184305, n_102756, incr_102757) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184308, bytes_184307, "mem_184308")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_185723 = 0; i_185723 < n_102756; i_185723++) {
        int64_t x_185724 = (int64_t) 0 + i_185723 * (int64_t) 1;
        
        ((int64_t *) mem_184308.mem)[i_185723] = x_185724;
    }
    
    int64_t flat_dim_175074 = smallest_pow_2_geq_than_res_175063 * block_sizze_175073;
    bool x_185413 = !cond_175057;
    int64_t greatest_divisor_leq_than_arg1_175076 = mul64((int64_t) 2, block_sizze_175073);
    int64_t merge_block_sizze_175077;
    
    if (x_185413) {
        int64_t x_185415;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_185415, (int64_t) 8, greatest_divisor_leq_than_arg1_175076) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_175077 = x_185415;
    } else {
        merge_block_sizze_175077 = (int64_t) 0;
    }
    
    int32_t reduce_arg1_175080;
    
    if (x_185413) {
        int32_t x_185419 = ((int32_t *) xs_mem_184305.mem)[(int64_t) 0];
        
        reduce_arg1_175080 = x_185419;
    } else {
        reduce_arg1_175080 = 0;
    }
    
    int32_t defunc_0_reduce_res_181964;
    int64_t defunc_0_reduce_res_181965;
    
    if (x_185413) {
        int32_t x_185421;
        int64_t x_185422;
        int32_t redout_183965;
        int64_t redout_183966;
        
        redout_183965 = reduce_arg1_175080;
        redout_183966 = (int64_t) 0;
        for (int64_t i_183967 = 0; i_183967 < n_102756; i_183967++) {
            int32_t x_175083 = ((int32_t *) xs_mem_184305.mem)[i_183967];
            bool zlze_res_175089 = sle32(redout_183965, x_175083);
            int32_t defunc_0_op_res_175090;
            
            if (zlze_res_175089) {
                defunc_0_op_res_175090 = x_175083;
            } else {
                defunc_0_op_res_175090 = redout_183965;
            }
            
            int64_t defunc_0_op_res_175091;
            
            if (zlze_res_175089) {
                defunc_0_op_res_175091 = i_183967;
            } else {
                defunc_0_op_res_175091 = redout_183966;
            }
            
            int32_t redout_tmp_185725 = defunc_0_op_res_175090;
            int64_t redout_tmp_185726 = defunc_0_op_res_175091;
            
            redout_183965 = redout_tmp_185725;
            redout_183966 = redout_tmp_185726;
        }
        x_185421 = redout_183965;
        x_185422 = redout_183966;
        defunc_0_reduce_res_181964 = x_185421;
        defunc_0_reduce_res_181965 = x_185422;
    } else {
        defunc_0_reduce_res_181964 = 0;
        defunc_0_reduce_res_181965 = (int64_t) 0;
    }
    
    int64_t distance_175103 = add64((int64_t) 1, tmp_175101);
    int64_t binop_x_184309 = (int64_t) 4 * smallest_pow_2_geq_than_res_175063;
    int64_t bytes_184310 = block_sizze_175073 * binop_x_184309;
    int64_t binop_x_184312 = (int64_t) 8 * smallest_pow_2_geq_than_res_175063;
    int64_t bytes_184313 = block_sizze_175073 * binop_x_184312;
    int64_t bytes_184323 = (int64_t) 4 * block_sizze_175073;
    int64_t bytes_184325 = (int64_t) 8 * block_sizze_175073;
    bool loop_cond_175177 = slt64(block_sizze_175073, flat_dim_175074);
    bool zzero_175178 = merge_block_sizze_175077 == (int64_t) 0;
    bool nonzzero_175179 = !zzero_175178;
    
    if (cond_175057) {
        if (memblock_set(ctx, &ext_mem_184513, &mem_184308, "mem_184308") != 0)
            return 1;
    } else {
        if (mem_184311_cached_sizze_186009 < bytes_184310) {
            err = lexical_realloc(ctx, &mem_184311, &mem_184311_cached_sizze_186009, bytes_184310);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_184314_cached_sizze_186010 < bytes_184313) {
            err = lexical_realloc(ctx, &mem_184314, &mem_184314_cached_sizze_186010, bytes_184313);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_184324_cached_sizze_186011 < bytes_184323) {
            err = lexical_realloc(ctx, &mem_184324, &mem_184324_cached_sizze_186011, bytes_184323);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_184326_cached_sizze_186012 < bytes_184325) {
            err = lexical_realloc(ctx, &mem_184326, &mem_184326_cached_sizze_186012, bytes_184325);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_183979 = 0; i_183979 < smallest_pow_2_geq_than_res_175063; i_183979++) {
            int64_t zp_lhs_175110 = mul64(block_sizze_175073, i_183979);
            
            for (int64_t i_183972 = 0; i_183972 < block_sizze_175073; i_183972++) {
                int64_t k_175114 = add64(zp_lhs_175110, i_183972);
                bool cond_175115 = slt64(k_175114, n_102756);
                int32_t lifted_lambda_res_175116;
                int64_t lifted_lambda_res_175117;
                
                if (cond_175115) {
                    bool x_181817 = sle64((int64_t) 0, k_175114);
                    bool bounds_check_181818 = cond_175115 && x_181817;
                    bool index_certs_181819;
                    
                    if (!bounds_check_181818) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_175114, "] out of bounds for array of shape [", (long long) n_102756, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:140:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int32_t lifted_lambda_res_t_res_181820 = ((int32_t *) xs_mem_184305.mem)[k_175114];
                    
                    lifted_lambda_res_175116 = lifted_lambda_res_t_res_181820;
                    lifted_lambda_res_175117 = k_175114;
                } else {
                    lifted_lambda_res_175116 = defunc_0_reduce_res_181964;
                    lifted_lambda_res_175117 = defunc_0_reduce_res_181965;
                }
                ((int32_t *) mem_184324)[i_183972] = lifted_lambda_res_175116;
                ((int64_t *) mem_184326)[i_183972] = lifted_lambda_res_175117;
            }
            if (!cond_175100) {
                for (int64_t i_175126 = 0; i_175126 < distance_175103; i_175126++) {
                    int64_t gt_arg1_175129 = add64((int64_t) 1, i_175126);
                    bool x_175130 = sle64((int64_t) 0, gt_arg1_175129);
                    bool y_175131 = slt64(gt_arg1_175129, block_sizze_175073);
                    bool bounds_check_175132 = x_175130 && y_175131;
                    bool index_certs_175133;
                    
                    if (!bounds_check_175132) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_175129, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_175135 = slt64(i_175126, block_sizze_175073);
                    bool index_certs_175136;
                    
                    if (!y_175135) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_175126, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int32_t gt_arg1_175134 = ((int32_t *) mem_184324)[gt_arg1_175129];
                    int32_t gt_arg0_175137 = ((int32_t *) mem_184324)[i_175126];
                    bool zlze_res_175138 = sle32(gt_arg0_175137, gt_arg1_175134);
                    bool defunc_0_lifted_gt_res_175139 = !zlze_res_175138;
                    bool s_175140;
                    int64_t s_175143;
                    bool loop_while_175144;
                    int64_t j_175147;
                    
                    loop_while_175144 = defunc_0_lifted_gt_res_175139;
                    j_175147 = i_175126;
                    while (loop_while_175144) {
                        bool x_175148 = sle64((int64_t) 0, j_175147);
                        bool y_175149 = slt64(j_175147, block_sizze_175073);
                        bool bounds_check_175150 = x_175148 && y_175149;
                        bool index_certs_175151;
                        
                        if (!bounds_check_175150) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_175147, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_175154 = add64((int64_t) 1, j_175147);
                        bool x_175155 = sle64((int64_t) 0, copy_arg0_175154);
                        bool y_175156 = slt64(copy_arg0_175154, block_sizze_175073);
                        bool bounds_check_175157 = x_175155 && y_175156;
                        bool index_certs_175158;
                        
                        if (!bounds_check_175157) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_175154, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int32_t copy_arg0_175152 = ((int32_t *) mem_184324)[j_175147];
                        int64_t copy_arg0_175153 = ((int64_t *) mem_184326)[j_175147];
                        int32_t copy_arg0_175159 = ((int32_t *) mem_184324)[copy_arg0_175154];
                        int64_t copy_arg0_175160 = ((int64_t *) mem_184326)[copy_arg0_175154];
                        
                        ((int32_t *) mem_184324)[j_175147] = copy_arg0_175159;
                        ((int64_t *) mem_184326)[j_175147] = copy_arg0_175160;
                        ((int32_t *) mem_184324)[copy_arg0_175154] = copy_arg0_175152;
                        ((int64_t *) mem_184326)[copy_arg0_175154] = copy_arg0_175153;
                        
                        int64_t tmp_175165 = sub64(j_175147, (int64_t) 1);
                        bool cond_175166 = sle64((int64_t) 0, tmp_175165);
                        bool loop_cond_175167;
                        
                        if (cond_175166) {
                            bool y_181822 = slt64(tmp_175165, block_sizze_175073);
                            bool bounds_check_181823 = cond_175166 && y_181822;
                            bool index_certs_181824;
                            
                            if (!bounds_check_181823) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_175165, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int32_t gt_arg1_181821 = ((int32_t *) mem_184324)[j_175147];
                            int32_t gt_arg0_181825 = ((int32_t *) mem_184324)[tmp_175165];
                            bool zlze_res_181826 = sle32(gt_arg0_181825, gt_arg1_181821);
                            bool defunc_0_lifted_gt_res_181827 = !zlze_res_181826;
                            
                            loop_cond_175167 = defunc_0_lifted_gt_res_181827;
                        } else {
                            loop_cond_175167 = 0;
                        }
                        
                        bool loop_while_tmp_185733 = loop_cond_175167;
                        int64_t j_tmp_185736 = tmp_175165;
                        
                        loop_while_175144 = loop_while_tmp_185733;
                        j_175147 = j_tmp_185736;
                    }
                    s_175140 = loop_while_175144;
                    s_175143 = j_175147;
                }
            }
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_184311, i_183979 * block_sizze_175073, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_184324, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175073});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184314, i_183979 * block_sizze_175073, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184326, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175073});
        }
        if (memblock_alloc(ctx, &mem_184379, bytes_184310, "mem_184379")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_184379.mem, (int64_t) 0, (int64_t []) {block_sizze_175073, (int64_t) 1}, (uint32_t *) mem_184311, (int64_t) 0, (int64_t []) {block_sizze_175073, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175063, block_sizze_175073});
        if (memblock_alloc(ctx, &mem_184383, bytes_184313, "mem_184383")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_184383.mem, (int64_t) 0, (int64_t []) {block_sizze_175073, (int64_t) 1}, (uint64_t *) mem_184314, (int64_t) 0, (int64_t []) {block_sizze_175073, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175063, block_sizze_175073});
        
        int64_t data_175180;
        bool data_175181;
        int64_t data_175184;
        int64_t loop_dz2084Uz2082U_175185;
        bool loop_while_175186;
        int64_t stride_175189;
        
        if (memblock_set(ctx, &mem_param_184387, &mem_184379, "mem_184379") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_184390, &mem_184383, "mem_184383") != 0)
            return 1;
        loop_dz2084Uz2082U_175185 = flat_dim_175074;
        loop_while_175186 = loop_cond_175177;
        stride_175189 = block_sizze_175073;
        while (loop_while_175186) {
            int64_t next_stride_175190 = mul64((int64_t) 2, stride_175189);
            bool zzero_175191 = next_stride_175190 == (int64_t) 0;
            bool nonzzero_175192 = !zzero_175191;
            bool nonzzero_cert_175193;
            
            if (!nonzzero_175192) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:140:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_175194 = sdiv64(flat_dim_175074, next_stride_175190);
            bool bounds_invalid_upwards_175195 = slt64(num_merges_175194, (int64_t) 0);
            bool valid_175196 = !bounds_invalid_upwards_175195;
            bool range_valid_c_175197;
            
            if (!valid_175196) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_175194, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:140:54-57\n   #6  ftsort.fut:35:3-25\n   #7  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_175199 = sub64(next_stride_175190, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_175200 = sle64((int64_t) 0, m_175199);
            bool cond_175202 = slt64(next_stride_175190, (int64_t) 10);
            bool protect_assert_disj_175203 = nonzzero_175179 || cond_175202;
            bool nonzzero_cert_175204;
            
            if (!protect_assert_disj_175203) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_175205 = smod_safe64(next_stride_175190, merge_block_sizze_175077);
            bool num_blocks_175206 = zeze_lhs_175205 == (int64_t) 0;
            bool protect_assert_disj_175207 = cond_175202 || num_blocks_175206;
            bool assert_c_175208;
            
            if (!protect_assert_disj_175207) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_175210 = sdiv_safe64(next_stride_175190, merge_block_sizze_175077);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211 = add64((int64_t) 1, num_blocks_175210);
            int64_t j_m_i_175212 = sub64(next_stride_175190, stride_175189);
            int64_t flat_dim_175213 = merge_block_sizze_175077 * num_blocks_175210;
            bool bounds_invalid_upwards_175214 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211, (int64_t) 0);
            bool zzero_lte_i_175215 = sle64((int64_t) 0, stride_175189);
            bool i_lte_j_175216 = sle64(stride_175189, next_stride_175190);
            bool empty_slice_175217 = stride_175189 == (int64_t) 0;
            int64_t m_175218 = sub64(stride_175189, (int64_t) 1);
            bool bounds_invalid_upwards_175219 = slt64(num_blocks_175210, (int64_t) 0);
            bool empty_slice_175220 = j_m_i_175212 == (int64_t) 0;
            int64_t m_175221 = sub64(j_m_i_175212, (int64_t) 1);
            bool cond_175222 = slt64((int64_t) 0, stride_175189);
            bool valid_175223 = !bounds_invalid_upwards_175214;
            bool zzero_leq_i_p_m_t_s_175224 = sle64((int64_t) 0, m_175218);
            bool i_p_m_t_s_leq_w_175225 = slt64(m_175218, next_stride_175190);
            bool valid_175226 = !bounds_invalid_upwards_175219;
            bool i_p_m_t_s_leq_w_175227 = slt64(m_175199, flat_dim_175213);
            int64_t i_p_m_t_s_175228 = add64(stride_175189, m_175221);
            bool y_175229 = slt64((int64_t) 0, j_m_i_175212);
            bool protect_assert_disj_175230 = cond_175202 || valid_175223;
            bool range_valid_c_175231;
            
            if (!protect_assert_disj_175230) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:140:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_175232 = zzero_leq_i_p_m_t_s_175224 && i_p_m_t_s_leq_w_175225;
            bool protect_assert_disj_175233 = cond_175202 || valid_175226;
            bool range_valid_c_175234;
            
            if (!protect_assert_disj_175233) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_175210, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:140:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_175235 = zzero_leq_i_p_m_t_s_175200 && i_p_m_t_s_leq_w_175227;
            bool zzero_leq_i_p_m_t_s_175236 = sle64((int64_t) 0, i_p_m_t_s_175228);
            bool i_p_m_t_s_leq_w_175237 = slt64(i_p_m_t_s_175228, next_stride_175190);
            bool forwards_ok_175238 = zzero_lte_i_175215 && y_175232;
            bool ok_or_empty_175239 = zzero_175191 || y_175235;
            bool y_175240 = zzero_lte_i_175215 && i_p_m_t_s_leq_w_175237;
            bool protect_assert_disj_175241 = cond_175222 || y_175229;
            bool ok_or_empty_175242 = empty_slice_175217 || forwards_ok_175238;
            bool protect_assert_disj_175243 = cond_175202 || ok_or_empty_175239;
            bool index_certs_175244;
            
            if (!protect_assert_disj_175243) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_175190, "] out of bounds for array of shape [", (long long) flat_dim_175213, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:140:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_175245 = zzero_leq_i_p_m_t_s_175236 && y_175240;
            bool loop_not_taken_175246 = !cond_175202;
            bool protect_assert_disj_175247 = protect_assert_disj_175241 || loop_not_taken_175246;
            bool index_certs_175248;
            
            if (!protect_assert_disj_175247) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:140:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_175249 = cond_175202 || ok_or_empty_175242;
            bool index_certs_175250;
            
            if (!protect_assert_disj_175249) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_175189, "] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:140:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_175251 = i_lte_j_175216 && y_175245;
            bool protect_assert_disj_175252 = ok_or_empty_175242 || loop_not_taken_175246;
            bool index_certs_175253;
            
            if (!protect_assert_disj_175252) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_175189, "] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_175254 = empty_slice_175220 || forwards_ok_175251;
            bool protect_assert_disj_175255 = loop_not_taken_175246 || ok_or_empty_175254;
            bool index_certs_175256;
            
            if (!protect_assert_disj_175255) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_175189, ":] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_175257 = cond_175202 || ok_or_empty_175254;
            bool index_certs_175258;
            
            if (!protect_assert_disj_175257) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_175189, ":] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:140:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_184391 = (int64_t) 4 * num_merges_175194;
            int64_t bytes_184392 = next_stride_175190 * binop_x_184391;
            int64_t binop_x_184394 = (int64_t) 8 * num_merges_175194;
            int64_t bytes_184395 = next_stride_175190 * binop_x_184394;
            bool i_lte_j_175201 = sle64((int64_t) 0, next_stride_175190);
            
            if (mem_184393_cached_sizze_186013 < bytes_184392) {
                err = lexical_realloc(ctx, &mem_184393, &mem_184393_cached_sizze_186013, bytes_184392);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184396_cached_sizze_186014 < bytes_184395) {
                err = lexical_realloc(ctx, &mem_184396, &mem_184396_cached_sizze_186014, bytes_184395);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_184405 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211;
            int64_t binop_x_184421 = (int64_t) 4 * num_blocks_175210;
            int64_t bytes_184422 = merge_block_sizze_175077 * binop_x_184421;
            int64_t binop_x_184424 = (int64_t) 8 * num_blocks_175210;
            int64_t bytes_184425 = merge_block_sizze_175077 * binop_x_184424;
            int64_t bytes_184467 = (int64_t) 8 * stride_175189;
            int64_t bytes_184469 = (int64_t) 16 * stride_175189;
            
            for (int64_t i_184000 = 0; i_184000 < num_merges_175194; i_184000++) {
                int64_t start_175262 = mul64(next_stride_175190, i_184000);
                int64_t j_m_i_175263 = sub64(loop_dz2084Uz2082U_175185, start_175262);
                bool empty_slice_175264 = j_m_i_175263 == (int64_t) 0;
                int64_t m_175265 = sub64(j_m_i_175263, (int64_t) 1);
                int64_t i_p_m_t_s_175266 = add64(start_175262, m_175265);
                bool zzero_leq_i_p_m_t_s_175267 = sle64((int64_t) 0, i_p_m_t_s_175266);
                bool i_p_m_t_s_leq_w_175268 = slt64(i_p_m_t_s_175266, loop_dz2084Uz2082U_175185);
                bool zzero_lte_i_175269 = sle64((int64_t) 0, start_175262);
                bool i_lte_j_175270 = sle64(start_175262, loop_dz2084Uz2082U_175185);
                bool y_175271 = i_p_m_t_s_leq_w_175268 && zzero_lte_i_175269;
                bool y_175272 = zzero_leq_i_p_m_t_s_175267 && y_175271;
                bool forwards_ok_175273 = i_lte_j_175270 && y_175272;
                bool ok_or_empty_175274 = empty_slice_175264 || forwards_ok_175273;
                bool index_certs_175275;
                
                if (!ok_or_empty_175274) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_175262, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_175185, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_175276 = slt64(m_175199, j_m_i_175263);
                bool y_175277 = zzero_leq_i_p_m_t_s_175200 && i_p_m_t_s_leq_w_175276;
                bool forwards_ok_175278 = i_lte_j_175201 && y_175277;
                bool ok_or_empty_175279 = zzero_175191 || forwards_ok_175278;
                bool index_certs_175280;
                
                if (!ok_or_empty_175279) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_175190, "] out of bounds for array of shape [", (long long) j_m_i_175263, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_175202) {
                    int32_t dummy_181853;
                    int64_t dummy_181854;
                    
                    if (cond_175222) {
                        int32_t head_res_181855 = ((int32_t *) mem_param_184387.mem)[start_175262];
                        int64_t head_res_181856 = ((int64_t *) mem_param_184390.mem)[start_175262];
                        
                        dummy_181853 = head_res_181855;
                        dummy_181854 = head_res_181856;
                    } else {
                        int64_t slice_181857 = stride_175189 + start_175262;
                        int32_t head_res_181858 = ((int32_t *) mem_param_184387.mem)[slice_181857];
                        int64_t head_res_181859 = ((int64_t *) mem_param_184390.mem)[slice_181857];
                        
                        dummy_181853 = head_res_181858;
                        dummy_181854 = head_res_181859;
                    }
                    if (memblock_alloc(ctx, &mem_184468, bytes_184467, "mem_184468")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185746 = 0; nest_i_185746 < next_stride_175190; nest_i_185746++) {
                        ((int32_t *) mem_184468.mem)[nest_i_185746] = dummy_181853;
                    }
                    if (memblock_alloc(ctx, &mem_184470, bytes_184469, "mem_184470")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185747 = 0; nest_i_185747 < next_stride_175190; nest_i_185747++) {
                        ((int64_t *) mem_184470.mem)[nest_i_185747] = dummy_181854;
                    }
                    
                    int64_t data_181862;
                    int64_t i_181866 = (int64_t) 0;
                    
                    for (int64_t k_181865 = 0; k_181865 < next_stride_175190; k_181865++) {
                        int64_t j_181869 = sub64(k_181865, i_181866);
                        bool cond_181870 = j_181869 == j_m_i_175212;
                        bool cond_181871;
                        
                        if (cond_181870) {
                            cond_181871 = 1;
                        } else {
                            bool cond_181872 = slt64(i_181866, stride_175189);
                            bool cond_f_res_181873;
                            
                            if (cond_181872) {
                                bool x_181874 = sle64((int64_t) 0, j_181869);
                                bool y_181875 = slt64(j_181869, j_m_i_175212);
                                bool bounds_check_181876 = x_181874 && y_181875;
                                bool index_certs_181877;
                                
                                if (!bounds_check_181876) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181869, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:140:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_181881 = sle64((int64_t) 0, i_181866);
                                bool bounds_check_181882 = cond_181872 && x_181881;
                                bool index_certs_181883;
                                
                                if (!bounds_check_181882) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_181866, "] out of bounds for array of shape [", (long long) stride_175189, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:140:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_181878 = stride_175189 + j_181869;
                                int64_t slice_181879 = start_175262 + slice_181878;
                                int32_t leq_arg1_181880 = ((int32_t *) mem_param_184387.mem)[slice_181879];
                                int64_t slice_181884 = start_175262 + i_181866;
                                int32_t leq_arg0_181885 = ((int32_t *) mem_param_184387.mem)[slice_181884];
                                bool zlze_res_181886 = sle32(leq_arg0_181885, leq_arg1_181880);
                                
                                cond_f_res_181873 = zlze_res_181886;
                            } else {
                                cond_f_res_181873 = 0;
                            }
                            cond_181871 = cond_f_res_181873;
                        }
                        
                        int64_t loopres_181887;
                        int32_t loopres_181888;
                        int64_t loopres_181889;
                        
                        if (cond_181871) {
                            bool x_181891 = sle64((int64_t) 0, i_181866);
                            bool y_181892 = slt64(i_181866, stride_175189);
                            bool bounds_check_181893 = x_181891 && y_181892;
                            bool index_certs_181894;
                            
                            if (!bounds_check_181893) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_181866, "] out of bounds for array of shape [", (long long) stride_175189, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:140:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_181890 = add64((int64_t) 1, i_181866);
                            int64_t slice_181895 = start_175262 + i_181866;
                            int32_t tmp_181896 = ((int32_t *) mem_param_184387.mem)[slice_181895];
                            int64_t tmp_181897 = ((int64_t *) mem_param_184390.mem)[slice_181895];
                            
                            loopres_181887 = tmp_181890;
                            loopres_181888 = tmp_181896;
                            loopres_181889 = tmp_181897;
                        } else {
                            bool x_181898 = sle64((int64_t) 0, j_181869);
                            bool y_181899 = slt64(j_181869, j_m_i_175212);
                            bool bounds_check_181900 = x_181898 && y_181899;
                            bool index_certs_181901;
                            
                            if (!bounds_check_181900) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181869, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:140:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_181902 = stride_175189 + j_181869;
                            int64_t slice_181903 = start_175262 + slice_181902;
                            int32_t tmp_181904 = ((int32_t *) mem_param_184387.mem)[slice_181903];
                            int64_t tmp_181905 = ((int64_t *) mem_param_184390.mem)[slice_181903];
                            
                            loopres_181887 = i_181866;
                            loopres_181888 = tmp_181904;
                            loopres_181889 = tmp_181905;
                        }
                        ((int32_t *) mem_184468.mem)[k_181865] = loopres_181888;
                        ((int64_t *) mem_184470.mem)[k_181865] = loopres_181889;
                        
                        int64_t i_tmp_185748 = loopres_181887;
                        
                        i_181866 = i_tmp_185748;
                    }
                    data_181862 = i_181866;
                    if (memblock_set(ctx, &ext_mem_184488, &mem_184468, "mem_184468") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184485, &mem_184470, "mem_184470") != 0)
                        return 1;
                } else {
                    if (mem_184406_cached_sizze_186015 < bytes_184405) {
                        err = lexical_realloc(ctx, &mem_184406, &mem_184406_cached_sizze_186015, bytes_184405);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184408_cached_sizze_186016 < bytes_184405) {
                        err = lexical_realloc(ctx, &mem_184408, &mem_184408_cached_sizze_186016, bytes_184405);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_183986 = 0; i_183986 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211; i_183986++) {
                        int64_t split_count_arg3_175342 = mul64(merge_block_sizze_175077, i_183986);
                        int64_t defunc_0_split_count_res_175343;
                        int64_t defunc_0_split_count_res_175344;
                        int64_t defunc_0_split_count_res_175345;
                        int64_t defunc_0_split_count_res_175346;
                        int64_t defunc_0_split_count_res_175347;
                        
                        if (futrts_lifted_normalizze_9100(ctx, &defunc_0_split_count_res_175343, &defunc_0_split_count_res_175344, &defunc_0_split_count_res_175345, &defunc_0_split_count_res_175346, &defunc_0_split_count_res_175347, (int64_t) 0, stride_175189, (int64_t) 0, j_m_i_175212, split_count_arg3_175342) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_175348 = slt64((int64_t) 0, defunc_0_split_count_res_175347);
                        bool defunc_0_split_count_res_175349;
                        int64_t defunc_0_split_count_res_175350;
                        int64_t defunc_0_split_count_res_175351;
                        int64_t defunc_0_split_count_res_175352;
                        int64_t defunc_0_split_count_res_175353;
                        int64_t defunc_0_split_count_res_175354;
                        bool loop_while_175355;
                        int64_t ss_175356;
                        int64_t ss_175357;
                        int64_t tt_175358;
                        int64_t tt_175359;
                        int64_t count_175360;
                        
                        loop_while_175355 = loop_cond_175348;
                        ss_175356 = defunc_0_split_count_res_175343;
                        ss_175357 = defunc_0_split_count_res_175344;
                        tt_175358 = defunc_0_split_count_res_175345;
                        tt_175359 = defunc_0_split_count_res_175346;
                        count_175360 = defunc_0_split_count_res_175347;
                        while (loop_while_175355) {
                            int64_t zlze_lhs_175361 = sub64(ss_175357, ss_175356);
                            bool cond_175362 = sle64(zlze_lhs_175361, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_175363;
                            int64_t defunc_0_lifted_step_res_175364;
                            int64_t defunc_0_lifted_step_res_175365;
                            int64_t defunc_0_lifted_step_res_175366;
                            
                            if (cond_175362) {
                                int64_t tmp_181908 = add64(tt_175358, count_175360);
                                
                                defunc_0_lifted_step_res_175363 = ss_175356;
                                defunc_0_lifted_step_res_175364 = tmp_181908;
                                defunc_0_lifted_step_res_175365 = tt_175359;
                                defunc_0_lifted_step_res_175366 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_175368 = sub64(tt_175359, tt_175358);
                                bool cond_175369 = sle64(zlze_lhs_175368, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_175370;
                                int64_t defunc_0_lifted_step_res_f_res_175371;
                                int64_t defunc_0_lifted_step_res_f_res_175372;
                                int64_t defunc_0_lifted_step_res_f_res_175373;
                                
                                if (cond_175369) {
                                    int64_t tmp_181909 = add64(ss_175356, count_175360);
                                    
                                    defunc_0_lifted_step_res_f_res_175370 = tmp_181909;
                                    defunc_0_lifted_step_res_f_res_175371 = tt_175358;
                                    defunc_0_lifted_step_res_f_res_175372 = tt_175359;
                                    defunc_0_lifted_step_res_f_res_175373 = (int64_t) 0;
                                } else {
                                    bool cond_175375 = count_175360 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_175376;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_175377;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_175378;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_175379;
                                    
                                    if (cond_175375) {
                                        bool x_181911 = sle64((int64_t) 0, ss_175356);
                                        bool y_181912 = slt64(ss_175356, stride_175189);
                                        bool bounds_check_181913 = x_181911 && y_181912;
                                        bool index_certs_181914;
                                        
                                        if (!bounds_check_181913) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_175356, "] out of bounds for array of shape [", (long long) stride_175189, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:140:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_181917 = sle64((int64_t) 0, tt_175358);
                                        bool y_181918 = slt64(tt_175358, j_m_i_175212);
                                        bool bounds_check_181919 = x_181917 && y_181918;
                                        bool index_certs_181920;
                                        
                                        if (!bounds_check_181919) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_175358, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:140:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_181915 = start_175262 + ss_175356;
                                        int32_t leq_arg1_181916 = ((int32_t *) mem_param_184387.mem)[slice_181915];
                                        int64_t slice_181921 = stride_175189 + tt_175358;
                                        int64_t slice_181922 = start_175262 + slice_181921;
                                        int32_t leq_arg0_181923 = ((int32_t *) mem_param_184387.mem)[slice_181922];
                                        bool zlze_res_181924 = sle32(leq_arg0_181923, leq_arg1_181916);
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_181925;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_181926;
                                        
                                        if (zlze_res_181924) {
                                            int64_t tmp_181927 = add64((int64_t) 1, tt_175358);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_181925 = ss_175356;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_181926 = tmp_181927;
                                        } else {
                                            int64_t tmp_181928 = add64((int64_t) 1, ss_175356);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_181925 = tmp_181928;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_181926 = tt_175358;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_175376 = defunc_0_lifted_step_res_f_res_f_res_t_res_181925;
                                        defunc_0_lifted_step_res_f_res_f_res_175377 = defunc_0_lifted_step_res_f_res_f_res_t_res_181926;
                                        defunc_0_lifted_step_res_f_res_f_res_175378 = tt_175359;
                                        defunc_0_lifted_step_res_f_res_f_res_175379 = (int64_t) 0;
                                    } else {
                                        int64_t m_175398 = sdiv64(count_175360, (int64_t) 2);
                                        int64_t n_175399 = sub64(count_175360, m_175398);
                                        bool cond_175400 = n_175399 == (int64_t) 0;
                                        int64_t zgze_lhs_175401 = add64(ss_175356, m_175398);
                                        bool cond_f_res_175402 = sle64(ss_175357, zgze_lhs_175401);
                                        bool x_175403 = !cond_175400;
                                        bool y_175404 = cond_f_res_175402 && x_175403;
                                        bool cond_175405 = cond_175400 || y_175404;
                                        bool leq_y_x_175406;
                                        
                                        if (cond_175405) {
                                            leq_y_x_175406 = 1;
                                        } else {
                                            bool x_175407 = sle64((int64_t) 0, zgze_lhs_175401);
                                            bool y_175408 = slt64(zgze_lhs_175401, stride_175189);
                                            bool bounds_check_175409 = x_175407 && y_175408;
                                            bool index_certs_175410;
                                            
                                            if (!bounds_check_175409) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_175401, "] out of bounds for array of shape [", (long long) stride_175189, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:140:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_175413 = add64(tt_175358, n_175399);
                                            int64_t leq_arg0_175414 = sub64(zm_lhs_175413, (int64_t) 1);
                                            bool x_175415 = sle64((int64_t) 0, leq_arg0_175414);
                                            bool y_175416 = slt64(leq_arg0_175414, j_m_i_175212);
                                            bool bounds_check_175417 = x_175415 && y_175416;
                                            bool index_certs_175418;
                                            
                                            if (!bounds_check_175417) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_175414, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:140:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_175411 = start_175262 + zgze_lhs_175401;
                                            int32_t leq_arg1_175412 = ((int32_t *) mem_param_184387.mem)[slice_175411];
                                            int64_t slice_175419 = stride_175189 + leq_arg0_175414;
                                            int64_t slice_175420 = start_175262 + slice_175419;
                                            int32_t leq_arg0_175421 = ((int32_t *) mem_param_184387.mem)[slice_175420];
                                            bool zlze_res_175422 = sle32(leq_arg0_175421, leq_arg1_175412);
                                            
                                            leq_y_x_175406 = zlze_res_175422;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_175423;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_175424;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_175425;
                                        
                                        if (leq_y_x_175406) {
                                            int64_t tmp_181929 = add64(tt_175358, n_175399);
                                            int64_t tmp_181930 = sub64(count_175360, n_175399);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175423 = tmp_181929;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175424 = tt_175359;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175425 = tmp_181930;
                                        } else {
                                            int64_t tmp_175428 = add64(tt_175358, n_175399);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175423 = tt_175358;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175424 = tmp_175428;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175425 = count_175360;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_175376 = ss_175356;
                                        defunc_0_lifted_step_res_f_res_f_res_175377 = defunc_0_lifted_step_res_f_res_f_res_f_res_175423;
                                        defunc_0_lifted_step_res_f_res_f_res_175378 = defunc_0_lifted_step_res_f_res_f_res_f_res_175424;
                                        defunc_0_lifted_step_res_f_res_f_res_175379 = defunc_0_lifted_step_res_f_res_f_res_f_res_175425;
                                    }
                                    defunc_0_lifted_step_res_f_res_175370 = defunc_0_lifted_step_res_f_res_f_res_175376;
                                    defunc_0_lifted_step_res_f_res_175371 = defunc_0_lifted_step_res_f_res_f_res_175377;
                                    defunc_0_lifted_step_res_f_res_175372 = defunc_0_lifted_step_res_f_res_f_res_175378;
                                    defunc_0_lifted_step_res_f_res_175373 = defunc_0_lifted_step_res_f_res_f_res_175379;
                                }
                                defunc_0_lifted_step_res_175363 = defunc_0_lifted_step_res_f_res_175370;
                                defunc_0_lifted_step_res_175364 = defunc_0_lifted_step_res_f_res_175371;
                                defunc_0_lifted_step_res_175365 = defunc_0_lifted_step_res_f_res_175372;
                                defunc_0_lifted_step_res_175366 = defunc_0_lifted_step_res_f_res_175373;
                            }
                            
                            int64_t loopres_175429;
                            int64_t loopres_175430;
                            int64_t loopres_175431;
                            int64_t loopres_175432;
                            int64_t loopres_175433;
                            
                            if (futrts_lifted_normalizze_9100(ctx, &loopres_175429, &loopres_175430, &loopres_175431, &loopres_175432, &loopres_175433, defunc_0_lifted_step_res_175363, ss_175357, defunc_0_lifted_step_res_175364, defunc_0_lifted_step_res_175365, defunc_0_lifted_step_res_175366) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_175434 = slt64((int64_t) 0, loopres_175433);
                            bool loop_while_tmp_185753 = loop_cond_175434;
                            int64_t ss_tmp_185754 = loopres_175429;
                            int64_t ss_tmp_185755 = loopres_175430;
                            int64_t tt_tmp_185756 = loopres_175431;
                            int64_t tt_tmp_185757 = loopres_175432;
                            int64_t count_tmp_185758 = loopres_175433;
                            
                            loop_while_175355 = loop_while_tmp_185753;
                            ss_175356 = ss_tmp_185754;
                            ss_175357 = ss_tmp_185755;
                            tt_175358 = tt_tmp_185756;
                            tt_175359 = tt_tmp_185757;
                            count_175360 = count_tmp_185758;
                        }
                        defunc_0_split_count_res_175349 = loop_while_175355;
                        defunc_0_split_count_res_175350 = ss_175356;
                        defunc_0_split_count_res_175351 = ss_175357;
                        defunc_0_split_count_res_175352 = tt_175358;
                        defunc_0_split_count_res_175353 = tt_175359;
                        defunc_0_split_count_res_175354 = count_175360;
                        ((int64_t *) mem_184406)[i_183986] = defunc_0_split_count_res_175350;
                        ((int64_t *) mem_184408)[i_183986] = defunc_0_split_count_res_175352;
                    }
                    if (mem_184423_cached_sizze_186017 < bytes_184422) {
                        err = lexical_realloc(ctx, &mem_184423, &mem_184423_cached_sizze_186017, bytes_184422);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184426_cached_sizze_186018 < bytes_184425) {
                        err = lexical_realloc(ctx, &mem_184426, &mem_184426_cached_sizze_186018, bytes_184425);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_183993 = 0; i_183993 < num_blocks_175210; i_183993++) {
                        bool y_175440 = slt64(i_183993, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211);
                        bool index_certs_175442;
                        
                        if (!y_175440) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183993, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:140:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_175443 = ((int64_t *) mem_184406)[i_183993];
                        int64_t defunc_0_f_res_175444 = ((int64_t *) mem_184408)[i_183993];
                        int64_t tmp_175445 = add64((int64_t) 1, i_183993);
                        bool x_175446 = sle64((int64_t) 0, tmp_175445);
                        bool y_175447 = slt64(tmp_175445, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211);
                        bool bounds_check_175448 = x_175446 && y_175447;
                        bool index_certs_175449;
                        
                        if (!bounds_check_175448) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_175445, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:140:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_175450 = ((int64_t *) mem_184406)[tmp_175445];
                        int64_t defunc_0_f_res_175451 = ((int64_t *) mem_184408)[tmp_175445];
                        int64_t merge_sequential_arg2_175452 = add64(stride_175189, defunc_0_f_res_175444);
                        int64_t merge_sequential_arg2_175453 = add64(stride_175189, defunc_0_f_res_175451);
                        int64_t j_m_i_175454 = sub64(merge_sequential_arg2_175453, merge_sequential_arg2_175452);
                        bool empty_slice_175455 = j_m_i_175454 == (int64_t) 0;
                        int64_t m_175456 = sub64(j_m_i_175454, (int64_t) 1);
                        int64_t i_p_m_t_s_175457 = add64(merge_sequential_arg2_175452, m_175456);
                        bool zzero_leq_i_p_m_t_s_175458 = sle64((int64_t) 0, i_p_m_t_s_175457);
                        bool i_p_m_t_s_leq_w_175459 = slt64(i_p_m_t_s_175457, next_stride_175190);
                        bool zzero_lte_i_175460 = sle64((int64_t) 0, merge_sequential_arg2_175452);
                        bool i_lte_j_175461 = sle64(merge_sequential_arg2_175452, merge_sequential_arg2_175453);
                        bool y_175462 = i_p_m_t_s_leq_w_175459 && zzero_lte_i_175460;
                        bool y_175463 = zzero_leq_i_p_m_t_s_175458 && y_175462;
                        bool forwards_ok_175464 = i_lte_j_175461 && y_175463;
                        bool ok_or_empty_175465 = empty_slice_175455 || forwards_ok_175464;
                        bool index_certs_175466;
                        
                        if (!ok_or_empty_175465) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_175452, ":", (long long) merge_sequential_arg2_175453, "] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:140:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_175467 = sub64(defunc_0_f_res_175450, defunc_0_f_res_175443);
                        bool empty_slice_175468 = j_m_i_175467 == (int64_t) 0;
                        int64_t m_175469 = sub64(j_m_i_175467, (int64_t) 1);
                        int64_t i_p_m_t_s_175470 = add64(defunc_0_f_res_175443, m_175469);
                        bool zzero_leq_i_p_m_t_s_175471 = sle64((int64_t) 0, i_p_m_t_s_175470);
                        bool i_p_m_t_s_leq_w_175472 = slt64(i_p_m_t_s_175470, next_stride_175190);
                        bool zzero_lte_i_175473 = sle64((int64_t) 0, defunc_0_f_res_175443);
                        bool i_lte_j_175474 = sle64(defunc_0_f_res_175443, defunc_0_f_res_175450);
                        bool y_175475 = i_p_m_t_s_leq_w_175472 && zzero_lte_i_175473;
                        bool y_175476 = zzero_leq_i_p_m_t_s_175471 && y_175475;
                        bool forwards_ok_175477 = i_lte_j_175474 && y_175476;
                        bool ok_or_empty_175478 = empty_slice_175468 || forwards_ok_175477;
                        bool index_certs_175479;
                        
                        if (!ok_or_empty_175478) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_175443, ":", (long long) defunc_0_f_res_175450, "] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:140:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_175480 = slt64((int64_t) 0, j_m_i_175467);
                        int32_t dummy_175481;
                        int64_t dummy_175482;
                        
                        if (cond_175480) {
                            bool index_certs_181931;
                            
                            if (!cond_175480) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_175467, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:140:54-57\n   #12 ftsort.fut:35:3-25\n   #13 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_181932 = start_175262 + defunc_0_f_res_175443;
                            int32_t head_res_181933 = ((int32_t *) mem_param_184387.mem)[slice_181932];
                            int64_t head_res_181934 = ((int64_t *) mem_param_184390.mem)[slice_181932];
                            
                            dummy_175481 = head_res_181933;
                            dummy_175482 = head_res_181934;
                        } else {
                            bool y_175487 = slt64((int64_t) 0, j_m_i_175454);
                            bool index_certs_175488;
                            
                            if (!y_175487) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_175454, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:140:54-57\n   #12 ftsort.fut:35:3-25\n   #13 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_175489 = start_175262 + merge_sequential_arg2_175452;
                            int32_t head_res_175490 = ((int32_t *) mem_param_184387.mem)[slice_175489];
                            int64_t head_res_175491 = ((int64_t *) mem_param_184390.mem)[slice_175489];
                            
                            dummy_175481 = head_res_175490;
                            dummy_175482 = head_res_175491;
                        }
                        for (int64_t nest_i_185761 = 0; nest_i_185761 < merge_block_sizze_175077; nest_i_185761++) {
                            ((int32_t *) mem_184423)[i_183993 * merge_block_sizze_175077 + nest_i_185761] = dummy_175481;
                        }
                        for (int64_t nest_i_185762 = 0; nest_i_185762 < merge_block_sizze_175077; nest_i_185762++) {
                            ((int64_t *) mem_184426)[i_183993 * merge_block_sizze_175077 + nest_i_185762] = dummy_175482;
                        }
                        
                        int64_t data_175494;
                        int64_t i_175498 = (int64_t) 0;
                        
                        for (int64_t k_175497 = 0; k_175497 < merge_block_sizze_175077; k_175497++) {
                            int64_t j_175501 = sub64(k_175497, i_175498);
                            bool cond_175502 = j_175501 == j_m_i_175454;
                            bool cond_175503;
                            
                            if (cond_175502) {
                                cond_175503 = 1;
                            } else {
                                bool cond_175504 = slt64(i_175498, j_m_i_175467);
                                bool cond_f_res_175505;
                                
                                if (cond_175504) {
                                    bool x_181935 = sle64((int64_t) 0, j_175501);
                                    bool y_181936 = slt64(j_175501, j_m_i_175454);
                                    bool bounds_check_181937 = x_181935 && y_181936;
                                    bool index_certs_181938;
                                    
                                    if (!bounds_check_181937) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_175501, "] out of bounds for array of shape [", (long long) j_m_i_175454, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:140:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_181942 = sle64((int64_t) 0, i_175498);
                                    bool bounds_check_181943 = cond_175504 && x_181942;
                                    bool index_certs_181944;
                                    
                                    if (!bounds_check_181943) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_175498, "] out of bounds for array of shape [", (long long) j_m_i_175467, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:140:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_181939 = merge_sequential_arg2_175452 + j_175501;
                                    int64_t slice_181940 = start_175262 + slice_181939;
                                    int32_t leq_arg1_181941 = ((int32_t *) mem_param_184387.mem)[slice_181940];
                                    int64_t slice_181945 = defunc_0_f_res_175443 + i_175498;
                                    int64_t slice_181946 = start_175262 + slice_181945;
                                    int32_t leq_arg0_181947 = ((int32_t *) mem_param_184387.mem)[slice_181946];
                                    bool zlze_res_181948 = sle32(leq_arg0_181947, leq_arg1_181941);
                                    
                                    cond_f_res_175505 = zlze_res_181948;
                                } else {
                                    cond_f_res_175505 = 0;
                                }
                                cond_175503 = cond_f_res_175505;
                            }
                            
                            int64_t loopres_175520;
                            int32_t loopres_175521;
                            int64_t loopres_175522;
                            
                            if (cond_175503) {
                                bool x_181950 = sle64((int64_t) 0, i_175498);
                                bool y_181951 = slt64(i_175498, j_m_i_175467);
                                bool bounds_check_181952 = x_181950 && y_181951;
                                bool index_certs_181953;
                                
                                if (!bounds_check_181952) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_175498, "] out of bounds for array of shape [", (long long) j_m_i_175467, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:140:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_181949 = add64((int64_t) 1, i_175498);
                                int64_t slice_181954 = defunc_0_f_res_175443 + i_175498;
                                int64_t slice_181955 = start_175262 + slice_181954;
                                int32_t tmp_181956 = ((int32_t *) mem_param_184387.mem)[slice_181955];
                                int64_t tmp_181957 = ((int64_t *) mem_param_184390.mem)[slice_181955];
                                
                                loopres_175520 = tmp_181949;
                                loopres_175521 = tmp_181956;
                                loopres_175522 = tmp_181957;
                            } else {
                                bool x_175532 = sle64((int64_t) 0, j_175501);
                                bool y_175533 = slt64(j_175501, j_m_i_175454);
                                bool bounds_check_175534 = x_175532 && y_175533;
                                bool index_certs_175535;
                                
                                if (!bounds_check_175534) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_175501, "] out of bounds for array of shape [", (long long) j_m_i_175454, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:140:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_175536 = merge_sequential_arg2_175452 + j_175501;
                                int64_t slice_175537 = start_175262 + slice_175536;
                                int32_t tmp_175538 = ((int32_t *) mem_param_184387.mem)[slice_175537];
                                int64_t tmp_175539 = ((int64_t *) mem_param_184390.mem)[slice_175537];
                                
                                loopres_175520 = i_175498;
                                loopres_175521 = tmp_175538;
                                loopres_175522 = tmp_175539;
                            }
                            ((int32_t *) mem_184423)[i_183993 * merge_block_sizze_175077 + k_175497] = loopres_175521;
                            ((int64_t *) mem_184426)[i_183993 * merge_block_sizze_175077 + k_175497] = loopres_175522;
                            
                            int64_t i_tmp_185763 = loopres_175520;
                            
                            i_175498 = i_tmp_185763;
                        }
                        data_175494 = i_175498;
                    }
                    if (memblock_alloc(ctx, &mem_184461, bytes_184422, "mem_184461")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_184461.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175077, (int64_t) 1}, (uint32_t *) mem_184423, (int64_t) 0, (int64_t []) {merge_block_sizze_175077, (int64_t) 1}, (int64_t []) {num_blocks_175210, merge_block_sizze_175077});
                    if (memblock_alloc(ctx, &mem_184465, bytes_184425, "mem_184465")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_184465.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175077, (int64_t) 1}, (uint64_t *) mem_184426, (int64_t) 0, (int64_t []) {merge_block_sizze_175077, (int64_t) 1}, (int64_t []) {num_blocks_175210, merge_block_sizze_175077});
                    if (memblock_set(ctx, &ext_mem_184488, &mem_184461, "mem_184461") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184485, &mem_184465, "mem_184465") != 0)
                        return 1;
                }
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_184393, i_184000 * next_stride_175190, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_184488.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_175190});
                if (memblock_unref(ctx, &ext_mem_184488, "ext_mem_184488") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184396, i_184000 * next_stride_175190, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184485.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_175190});
                if (memblock_unref(ctx, &ext_mem_184485, "ext_mem_184485") != 0)
                    return 1;
            }
            
            int64_t flat_dim_175546 = next_stride_175190 * num_merges_175194;
            
            if (memblock_alloc(ctx, &mem_184499, bytes_184392, "mem_184499")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_184499.mem, (int64_t) 0, (int64_t []) {next_stride_175190, (int64_t) 1}, (uint32_t *) mem_184393, (int64_t) 0, (int64_t []) {next_stride_175190, (int64_t) 1}, (int64_t []) {num_merges_175194, next_stride_175190});
            if (memblock_alloc(ctx, &mem_184503, bytes_184395, "mem_184503")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_184503.mem, (int64_t) 0, (int64_t []) {next_stride_175190, (int64_t) 1}, (uint64_t *) mem_184396, (int64_t) 0, (int64_t []) {next_stride_175190, (int64_t) 1}, (int64_t []) {num_merges_175194, next_stride_175190});
            
            bool loop_cond_175549 = slt64(next_stride_175190, flat_dim_175074);
            
            if (memblock_set(ctx, &mem_param_tmp_185737, &mem_184499, "mem_184499") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_185738, &mem_184503, "mem_184503") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_185739 = flat_dim_175546;
            bool loop_while_tmp_185740 = loop_cond_175549;
            int64_t stride_tmp_185743 = next_stride_175190;
            
            if (memblock_set(ctx, &mem_param_184387, &mem_param_tmp_185737, "mem_param_tmp_185737") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_184390, &mem_param_tmp_185738, "mem_param_tmp_185738") != 0)
                return 1;
            loop_dz2084Uz2082U_175185 = loop_dz2084Uz2082U_tmp_185739;
            loop_while_175186 = loop_while_tmp_185740;
            stride_175189 = stride_tmp_185743;
        }
        if (memblock_set(ctx, &ext_mem_184510, &mem_param_184387, "mem_param_184387") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_184509, &mem_param_184390, "mem_param_184390") != 0)
            return 1;
        data_175180 = loop_dz2084Uz2082U_175185;
        data_175181 = loop_while_175186;
        data_175184 = stride_175189;
        if (memblock_unref(ctx, &mem_184379, "mem_184379") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184383, "mem_184383") != 0)
            return 1;
        
        bool empty_slice_175550 = n_102756 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_175551 = sle64((int64_t) 0, zs_lhs_175058);
        bool i_p_m_t_s_leq_w_175552 = slt64(zs_lhs_175058, data_175180);
        bool y_175553 = zzero_leq_i_p_m_t_s_175551 && i_p_m_t_s_leq_w_175552;
        bool ok_or_empty_175554 = empty_slice_175550 || y_175553;
        bool index_certs_175555;
        
        if (!ok_or_empty_175554) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_102756, "] out of bounds for array of shape [", (long long) data_175180, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:140:54-57\n   #5  ftsort.fut:35:3-25\n   #6  ftsort.fut:34:1-35:25\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_184513, &ext_mem_184509, "ext_mem_184509") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_184515, bytes_184307, "mem_184515")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184517, bytes_184516, "mem_184517")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_184007 = 0; i_184007 < n_102756; i_184007++) {
        int64_t eta_p_175559 = ((int64_t *) ext_mem_184513.mem)[i_184007];
        bool x_175560 = sle64((int64_t) 0, eta_p_175559);
        bool y_175561 = slt64(eta_p_175559, n_102756);
        bool bounds_check_175562 = x_175560 && y_175561;
        bool index_certs_175563;
        
        if (!bounds_check_175562) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_175559, "] out of bounds for array of shape [", (long long) n_102756, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:140:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_175564 = ((int64_t *) ext_mem_184306.mem)[eta_p_175559];
        int32_t lifted_lambda_res_175565 = ((int32_t *) xs_mem_184305.mem)[eta_p_175559];
        
        ((int64_t *) mem_184515.mem)[i_184007] = lifted_lambda_res_175564;
        ((int32_t *) mem_184517.mem)[i_184007] = lifted_lambda_res_175565;
    }
    if (memblock_unref(ctx, &ext_mem_184306, "ext_mem_184306") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_184513, "ext_mem_184513") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185719, &mem_184515, "mem_184515") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185720, &mem_184517, "mem_184517") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186007, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186008, &mem_out_185720, "mem_out_185720") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_184311);
        free(mem_184314);
        free(mem_184324);
        free(mem_184326);
        free(mem_184393);
        free(mem_184396);
        free(mem_184406);
        free(mem_184408);
        free(mem_184423);
        free(mem_184426);
        if (memblock_unref(ctx, &mem_184517, "mem_184517") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184515, "mem_184515") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185738, "mem_param_tmp_185738") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185737, "mem_param_tmp_185737") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184503, "mem_184503") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184499, "mem_184499") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184465, "mem_184465") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184461, "mem_184461") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184470, "mem_184470") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184468, "mem_184468") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184485, "ext_mem_184485") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184488, "ext_mem_184488") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184390, "mem_param_184390") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184387, "mem_param_184387") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184509, "ext_mem_184509") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184510, "ext_mem_184510") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184383, "mem_184383") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184379, "mem_184379") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184513, "ext_mem_184513") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184306, "ext_mem_184306") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185720, "mem_out_185720") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_186019, struct memblock *mem_out_p_186020, struct memblock xs_mem_184305, int64_t n_105099, int64_t incr_105100)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_184311_cached_sizze_186021 = 0;
    unsigned char *mem_184311 = NULL;
    int64_t mem_184314_cached_sizze_186022 = 0;
    unsigned char *mem_184314 = NULL;
    int64_t mem_184324_cached_sizze_186023 = 0;
    unsigned char *mem_184324 = NULL;
    int64_t mem_184326_cached_sizze_186024 = 0;
    unsigned char *mem_184326 = NULL;
    int64_t mem_184393_cached_sizze_186025 = 0;
    unsigned char *mem_184393 = NULL;
    int64_t mem_184396_cached_sizze_186026 = 0;
    unsigned char *mem_184396 = NULL;
    int64_t mem_184406_cached_sizze_186027 = 0;
    unsigned char *mem_184406 = NULL;
    int64_t mem_184408_cached_sizze_186028 = 0;
    unsigned char *mem_184408 = NULL;
    int64_t mem_184423_cached_sizze_186029 = 0;
    unsigned char *mem_184423 = NULL;
    int64_t mem_184426_cached_sizze_186030 = 0;
    unsigned char *mem_184426 = NULL;
    struct memblock mem_184517;
    
    mem_184517.references = NULL;
    
    struct memblock mem_184515;
    
    mem_184515.references = NULL;
    
    struct memblock mem_param_tmp_185738;
    
    mem_param_tmp_185738.references = NULL;
    
    struct memblock mem_param_tmp_185737;
    
    mem_param_tmp_185737.references = NULL;
    
    struct memblock mem_184503;
    
    mem_184503.references = NULL;
    
    struct memblock mem_184499;
    
    mem_184499.references = NULL;
    
    struct memblock mem_184465;
    
    mem_184465.references = NULL;
    
    struct memblock mem_184461;
    
    mem_184461.references = NULL;
    
    struct memblock mem_184470;
    
    mem_184470.references = NULL;
    
    struct memblock mem_184468;
    
    mem_184468.references = NULL;
    
    struct memblock ext_mem_184485;
    
    ext_mem_184485.references = NULL;
    
    struct memblock ext_mem_184488;
    
    ext_mem_184488.references = NULL;
    
    struct memblock mem_param_184390;
    
    mem_param_184390.references = NULL;
    
    struct memblock mem_param_184387;
    
    mem_param_184387.references = NULL;
    
    struct memblock ext_mem_184509;
    
    ext_mem_184509.references = NULL;
    
    struct memblock ext_mem_184510;
    
    ext_mem_184510.references = NULL;
    
    struct memblock mem_184383;
    
    mem_184383.references = NULL;
    
    struct memblock mem_184379;
    
    mem_184379.references = NULL;
    
    struct memblock ext_mem_184513;
    
    ext_mem_184513.references = NULL;
    
    struct memblock mem_184308;
    
    mem_184308.references = NULL;
    
    struct memblock ext_mem_184306;
    
    ext_mem_184306.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t bytes_184307 = (int64_t) 8 * n_105099;
    bool cond_175057 = sle64(n_105099, (int64_t) 1);
    int64_t zs_lhs_175058 = sub64(n_105099, (int64_t) 1);
    int64_t zp_rhs_175059 = sdiv_safe64(zs_lhs_175058, (int64_t) 20);
    int64_t min_num_blocks_175060 = add64((int64_t) 1, zp_rhs_175059);
    bool loop_cond_175061 = slt64((int64_t) 1, min_num_blocks_175060);
    bool smallest_pow_2_geq_than_res_175062;
    int64_t smallest_pow_2_geq_than_res_175063;
    bool loop_while_175064;
    int64_t x_175065;
    
    loop_while_175064 = loop_cond_175061;
    x_175065 = (int64_t) 1;
    while (loop_while_175064) {
        int64_t loopres_175066 = mul64((int64_t) 2, x_175065);
        bool loop_cond_175067 = slt64(loopres_175066, min_num_blocks_175060);
        bool loop_while_tmp_185721 = loop_cond_175067;
        int64_t x_tmp_185722 = loopres_175066;
        
        loop_while_175064 = loop_while_tmp_185721;
        x_175065 = x_tmp_185722;
    }
    smallest_pow_2_geq_than_res_175062 = loop_while_175064;
    smallest_pow_2_geq_than_res_175063 = x_175065;
    
    bool zzero_175068 = smallest_pow_2_geq_than_res_175063 == (int64_t) 0;
    bool nonzzero_175069 = !zzero_175068;
    bool protect_assert_disj_175070 = cond_175057 || nonzzero_175069;
    bool nonzzero_cert_175071;
    
    if (!protect_assert_disj_175070) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:140:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175072 = sdiv_safe64(zs_lhs_175058, smallest_pow_2_geq_than_res_175063);
    int64_t block_sizze_175073 = add64((int64_t) 1, zp_rhs_175072);
    bool y_175078 = slt64((int64_t) 0, n_105099);
    bool protect_assert_disj_185418 = cond_175057 || y_175078;
    bool index_certs_175079;
    
    if (!protect_assert_disj_185418) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_105099, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:140:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_175092 = slt64(smallest_pow_2_geq_than_res_175063, (int64_t) 0);
    bool valid_175093 = !bounds_invalid_upwards_175092;
    bool protect_assert_disj_185426 = cond_175057 || valid_175093;
    bool range_valid_c_175094;
    
    if (!protect_assert_disj_185426) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_175063, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:140:54-57\n   #6  ftsort.fut:38:3-26\n   #7  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_175096 = slt64(block_sizze_175073, (int64_t) 0);
    bool valid_175097 = !bounds_invalid_upwards_175096;
    bool protect_assert_disj_185428 = cond_175057 || valid_175097;
    bool range_valid_c_175098;
    
    if (!protect_assert_disj_185428) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_175073, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:140:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_175100 = sle64(block_sizze_175073, (int64_t) 1);
    int64_t tmp_175101 = sub64(block_sizze_175073, (int64_t) 2);
    bool bounds_invalid_upwards_175102 = slt64(tmp_175101, (int64_t) 0);
    bool valid_175104 = !bounds_invalid_upwards_175102;
    bool protect_assert_disj_175105 = cond_175100 || valid_175104;
    bool protect_assert_disj_185430 = cond_175057 || protect_assert_disj_175105;
    bool range_valid_c_175106;
    
    if (!protect_assert_disj_185430) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_175101, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (futrts_indicesWithIncrement_9426(ctx, &ext_mem_184306, xs_mem_184305, n_105099, incr_105100) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184308, bytes_184307, "mem_184308")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_185723 = 0; i_185723 < n_105099; i_185723++) {
        int64_t x_185724 = (int64_t) 0 + i_185723 * (int64_t) 1;
        
        ((int64_t *) mem_184308.mem)[i_185723] = x_185724;
    }
    
    int64_t flat_dim_175074 = smallest_pow_2_geq_than_res_175063 * block_sizze_175073;
    bool x_185413 = !cond_175057;
    int64_t greatest_divisor_leq_than_arg1_175076 = mul64((int64_t) 2, block_sizze_175073);
    int64_t merge_block_sizze_175077;
    
    if (x_185413) {
        int64_t x_185415;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_185415, (int64_t) 8, greatest_divisor_leq_than_arg1_175076) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_175077 = x_185415;
    } else {
        merge_block_sizze_175077 = (int64_t) 0;
    }
    
    int64_t reduce_arg1_175080;
    
    if (x_185413) {
        int64_t x_185419 = ((int64_t *) xs_mem_184305.mem)[(int64_t) 0];
        
        reduce_arg1_175080 = x_185419;
    } else {
        reduce_arg1_175080 = (int64_t) 0;
    }
    
    int64_t defunc_0_reduce_res_181964;
    int64_t defunc_0_reduce_res_181965;
    
    if (x_185413) {
        int64_t x_185421;
        int64_t x_185422;
        int64_t redout_183965;
        int64_t redout_183966;
        
        redout_183965 = reduce_arg1_175080;
        redout_183966 = (int64_t) 0;
        for (int64_t i_183967 = 0; i_183967 < n_105099; i_183967++) {
            int64_t x_175083 = ((int64_t *) xs_mem_184305.mem)[i_183967];
            bool zlze_res_175089 = sle64(redout_183965, x_175083);
            int64_t defunc_0_op_res_175090;
            
            if (zlze_res_175089) {
                defunc_0_op_res_175090 = x_175083;
            } else {
                defunc_0_op_res_175090 = redout_183965;
            }
            
            int64_t defunc_0_op_res_175091;
            
            if (zlze_res_175089) {
                defunc_0_op_res_175091 = i_183967;
            } else {
                defunc_0_op_res_175091 = redout_183966;
            }
            
            int64_t redout_tmp_185725 = defunc_0_op_res_175090;
            int64_t redout_tmp_185726 = defunc_0_op_res_175091;
            
            redout_183965 = redout_tmp_185725;
            redout_183966 = redout_tmp_185726;
        }
        x_185421 = redout_183965;
        x_185422 = redout_183966;
        defunc_0_reduce_res_181964 = x_185421;
        defunc_0_reduce_res_181965 = x_185422;
    } else {
        defunc_0_reduce_res_181964 = (int64_t) 0;
        defunc_0_reduce_res_181965 = (int64_t) 0;
    }
    
    int64_t distance_175103 = add64((int64_t) 1, tmp_175101);
    int64_t binop_x_184309 = (int64_t) 8 * smallest_pow_2_geq_than_res_175063;
    int64_t bytes_184310 = block_sizze_175073 * binop_x_184309;
    int64_t bytes_184323 = (int64_t) 8 * block_sizze_175073;
    bool loop_cond_175177 = slt64(block_sizze_175073, flat_dim_175074);
    bool zzero_175178 = merge_block_sizze_175077 == (int64_t) 0;
    bool nonzzero_175179 = !zzero_175178;
    
    if (cond_175057) {
        if (memblock_set(ctx, &ext_mem_184513, &mem_184308, "mem_184308") != 0)
            return 1;
    } else {
        if (mem_184311_cached_sizze_186021 < bytes_184310) {
            err = lexical_realloc(ctx, &mem_184311, &mem_184311_cached_sizze_186021, bytes_184310);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_184314_cached_sizze_186022 < bytes_184310) {
            err = lexical_realloc(ctx, &mem_184314, &mem_184314_cached_sizze_186022, bytes_184310);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_184324_cached_sizze_186023 < bytes_184323) {
            err = lexical_realloc(ctx, &mem_184324, &mem_184324_cached_sizze_186023, bytes_184323);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_184326_cached_sizze_186024 < bytes_184323) {
            err = lexical_realloc(ctx, &mem_184326, &mem_184326_cached_sizze_186024, bytes_184323);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_183979 = 0; i_183979 < smallest_pow_2_geq_than_res_175063; i_183979++) {
            int64_t zp_lhs_175110 = mul64(block_sizze_175073, i_183979);
            
            for (int64_t i_183972 = 0; i_183972 < block_sizze_175073; i_183972++) {
                int64_t k_175114 = add64(zp_lhs_175110, i_183972);
                bool cond_175115 = slt64(k_175114, n_105099);
                int64_t lifted_lambda_res_175116;
                int64_t lifted_lambda_res_175117;
                
                if (cond_175115) {
                    bool x_181817 = sle64((int64_t) 0, k_175114);
                    bool bounds_check_181818 = cond_175115 && x_181817;
                    bool index_certs_181819;
                    
                    if (!bounds_check_181818) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_175114, "] out of bounds for array of shape [", (long long) n_105099, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:140:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int64_t lifted_lambda_res_t_res_181820 = ((int64_t *) xs_mem_184305.mem)[k_175114];
                    
                    lifted_lambda_res_175116 = lifted_lambda_res_t_res_181820;
                    lifted_lambda_res_175117 = k_175114;
                } else {
                    lifted_lambda_res_175116 = defunc_0_reduce_res_181964;
                    lifted_lambda_res_175117 = defunc_0_reduce_res_181965;
                }
                ((int64_t *) mem_184324)[i_183972] = lifted_lambda_res_175116;
                ((int64_t *) mem_184326)[i_183972] = lifted_lambda_res_175117;
            }
            if (!cond_175100) {
                for (int64_t i_175126 = 0; i_175126 < distance_175103; i_175126++) {
                    int64_t gt_arg1_175129 = add64((int64_t) 1, i_175126);
                    bool x_175130 = sle64((int64_t) 0, gt_arg1_175129);
                    bool y_175131 = slt64(gt_arg1_175129, block_sizze_175073);
                    bool bounds_check_175132 = x_175130 && y_175131;
                    bool index_certs_175133;
                    
                    if (!bounds_check_175132) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_175129, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_175135 = slt64(i_175126, block_sizze_175073);
                    bool index_certs_175136;
                    
                    if (!y_175135) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_175126, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int64_t gt_arg1_175134 = ((int64_t *) mem_184324)[gt_arg1_175129];
                    int64_t gt_arg0_175137 = ((int64_t *) mem_184324)[i_175126];
                    bool zlze_res_175138 = sle64(gt_arg0_175137, gt_arg1_175134);
                    bool defunc_0_lifted_gt_res_175139 = !zlze_res_175138;
                    bool s_175140;
                    int64_t s_175143;
                    bool loop_while_175144;
                    int64_t j_175147;
                    
                    loop_while_175144 = defunc_0_lifted_gt_res_175139;
                    j_175147 = i_175126;
                    while (loop_while_175144) {
                        bool x_175148 = sle64((int64_t) 0, j_175147);
                        bool y_175149 = slt64(j_175147, block_sizze_175073);
                        bool bounds_check_175150 = x_175148 && y_175149;
                        bool index_certs_175151;
                        
                        if (!bounds_check_175150) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_175147, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_175154 = add64((int64_t) 1, j_175147);
                        bool x_175155 = sle64((int64_t) 0, copy_arg0_175154);
                        bool y_175156 = slt64(copy_arg0_175154, block_sizze_175073);
                        bool bounds_check_175157 = x_175155 && y_175156;
                        bool index_certs_175158;
                        
                        if (!bounds_check_175157) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_175154, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_175152 = ((int64_t *) mem_184324)[j_175147];
                        int64_t copy_arg0_175153 = ((int64_t *) mem_184326)[j_175147];
                        int64_t copy_arg0_175159 = ((int64_t *) mem_184324)[copy_arg0_175154];
                        int64_t copy_arg0_175160 = ((int64_t *) mem_184326)[copy_arg0_175154];
                        
                        ((int64_t *) mem_184324)[j_175147] = copy_arg0_175159;
                        ((int64_t *) mem_184326)[j_175147] = copy_arg0_175160;
                        ((int64_t *) mem_184324)[copy_arg0_175154] = copy_arg0_175152;
                        ((int64_t *) mem_184326)[copy_arg0_175154] = copy_arg0_175153;
                        
                        int64_t tmp_175165 = sub64(j_175147, (int64_t) 1);
                        bool cond_175166 = sle64((int64_t) 0, tmp_175165);
                        bool loop_cond_175167;
                        
                        if (cond_175166) {
                            bool y_181822 = slt64(tmp_175165, block_sizze_175073);
                            bool bounds_check_181823 = cond_175166 && y_181822;
                            bool index_certs_181824;
                            
                            if (!bounds_check_181823) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_175165, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t gt_arg1_181821 = ((int64_t *) mem_184324)[j_175147];
                            int64_t gt_arg0_181825 = ((int64_t *) mem_184324)[tmp_175165];
                            bool zlze_res_181826 = sle64(gt_arg0_181825, gt_arg1_181821);
                            bool defunc_0_lifted_gt_res_181827 = !zlze_res_181826;
                            
                            loop_cond_175167 = defunc_0_lifted_gt_res_181827;
                        } else {
                            loop_cond_175167 = 0;
                        }
                        
                        bool loop_while_tmp_185733 = loop_cond_175167;
                        int64_t j_tmp_185736 = tmp_175165;
                        
                        loop_while_175144 = loop_while_tmp_185733;
                        j_175147 = j_tmp_185736;
                    }
                    s_175140 = loop_while_175144;
                    s_175143 = j_175147;
                }
            }
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184311, i_183979 * block_sizze_175073, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184324, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175073});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184314, i_183979 * block_sizze_175073, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184326, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175073});
        }
        if (memblock_alloc(ctx, &mem_184379, bytes_184310, "mem_184379")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_184379.mem, (int64_t) 0, (int64_t []) {block_sizze_175073, (int64_t) 1}, (uint64_t *) mem_184311, (int64_t) 0, (int64_t []) {block_sizze_175073, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175063, block_sizze_175073});
        if (memblock_alloc(ctx, &mem_184383, bytes_184310, "mem_184383")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_184383.mem, (int64_t) 0, (int64_t []) {block_sizze_175073, (int64_t) 1}, (uint64_t *) mem_184314, (int64_t) 0, (int64_t []) {block_sizze_175073, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175063, block_sizze_175073});
        
        int64_t data_175180;
        bool data_175181;
        int64_t data_175184;
        int64_t loop_dz2084Uz2082U_175185;
        bool loop_while_175186;
        int64_t stride_175189;
        
        if (memblock_set(ctx, &mem_param_184387, &mem_184379, "mem_184379") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_184390, &mem_184383, "mem_184383") != 0)
            return 1;
        loop_dz2084Uz2082U_175185 = flat_dim_175074;
        loop_while_175186 = loop_cond_175177;
        stride_175189 = block_sizze_175073;
        while (loop_while_175186) {
            int64_t next_stride_175190 = mul64((int64_t) 2, stride_175189);
            bool zzero_175191 = next_stride_175190 == (int64_t) 0;
            bool nonzzero_175192 = !zzero_175191;
            bool nonzzero_cert_175193;
            
            if (!nonzzero_175192) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:140:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_175194 = sdiv64(flat_dim_175074, next_stride_175190);
            bool bounds_invalid_upwards_175195 = slt64(num_merges_175194, (int64_t) 0);
            bool valid_175196 = !bounds_invalid_upwards_175195;
            bool range_valid_c_175197;
            
            if (!valid_175196) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_175194, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:140:54-57\n   #6  ftsort.fut:38:3-26\n   #7  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_175199 = sub64(next_stride_175190, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_175200 = sle64((int64_t) 0, m_175199);
            bool cond_175202 = slt64(next_stride_175190, (int64_t) 10);
            bool protect_assert_disj_175203 = nonzzero_175179 || cond_175202;
            bool nonzzero_cert_175204;
            
            if (!protect_assert_disj_175203) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_175205 = smod_safe64(next_stride_175190, merge_block_sizze_175077);
            bool num_blocks_175206 = zeze_lhs_175205 == (int64_t) 0;
            bool protect_assert_disj_175207 = cond_175202 || num_blocks_175206;
            bool assert_c_175208;
            
            if (!protect_assert_disj_175207) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_175210 = sdiv_safe64(next_stride_175190, merge_block_sizze_175077);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211 = add64((int64_t) 1, num_blocks_175210);
            int64_t j_m_i_175212 = sub64(next_stride_175190, stride_175189);
            int64_t flat_dim_175213 = merge_block_sizze_175077 * num_blocks_175210;
            bool bounds_invalid_upwards_175214 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211, (int64_t) 0);
            bool zzero_lte_i_175215 = sle64((int64_t) 0, stride_175189);
            bool i_lte_j_175216 = sle64(stride_175189, next_stride_175190);
            bool empty_slice_175217 = stride_175189 == (int64_t) 0;
            int64_t m_175218 = sub64(stride_175189, (int64_t) 1);
            bool bounds_invalid_upwards_175219 = slt64(num_blocks_175210, (int64_t) 0);
            bool empty_slice_175220 = j_m_i_175212 == (int64_t) 0;
            int64_t m_175221 = sub64(j_m_i_175212, (int64_t) 1);
            bool cond_175222 = slt64((int64_t) 0, stride_175189);
            bool valid_175223 = !bounds_invalid_upwards_175214;
            bool zzero_leq_i_p_m_t_s_175224 = sle64((int64_t) 0, m_175218);
            bool i_p_m_t_s_leq_w_175225 = slt64(m_175218, next_stride_175190);
            bool valid_175226 = !bounds_invalid_upwards_175219;
            bool i_p_m_t_s_leq_w_175227 = slt64(m_175199, flat_dim_175213);
            int64_t i_p_m_t_s_175228 = add64(stride_175189, m_175221);
            bool y_175229 = slt64((int64_t) 0, j_m_i_175212);
            bool protect_assert_disj_175230 = cond_175202 || valid_175223;
            bool range_valid_c_175231;
            
            if (!protect_assert_disj_175230) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:140:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_175232 = zzero_leq_i_p_m_t_s_175224 && i_p_m_t_s_leq_w_175225;
            bool protect_assert_disj_175233 = cond_175202 || valid_175226;
            bool range_valid_c_175234;
            
            if (!protect_assert_disj_175233) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_175210, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:140:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_175235 = zzero_leq_i_p_m_t_s_175200 && i_p_m_t_s_leq_w_175227;
            bool zzero_leq_i_p_m_t_s_175236 = sle64((int64_t) 0, i_p_m_t_s_175228);
            bool i_p_m_t_s_leq_w_175237 = slt64(i_p_m_t_s_175228, next_stride_175190);
            bool forwards_ok_175238 = zzero_lte_i_175215 && y_175232;
            bool ok_or_empty_175239 = zzero_175191 || y_175235;
            bool y_175240 = zzero_lte_i_175215 && i_p_m_t_s_leq_w_175237;
            bool protect_assert_disj_175241 = cond_175222 || y_175229;
            bool ok_or_empty_175242 = empty_slice_175217 || forwards_ok_175238;
            bool protect_assert_disj_175243 = cond_175202 || ok_or_empty_175239;
            bool index_certs_175244;
            
            if (!protect_assert_disj_175243) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_175190, "] out of bounds for array of shape [", (long long) flat_dim_175213, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:140:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_175245 = zzero_leq_i_p_m_t_s_175236 && y_175240;
            bool loop_not_taken_175246 = !cond_175202;
            bool protect_assert_disj_175247 = protect_assert_disj_175241 || loop_not_taken_175246;
            bool index_certs_175248;
            
            if (!protect_assert_disj_175247) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:140:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_175249 = cond_175202 || ok_or_empty_175242;
            bool index_certs_175250;
            
            if (!protect_assert_disj_175249) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_175189, "] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:140:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_175251 = i_lte_j_175216 && y_175245;
            bool protect_assert_disj_175252 = ok_or_empty_175242 || loop_not_taken_175246;
            bool index_certs_175253;
            
            if (!protect_assert_disj_175252) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_175189, "] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_175254 = empty_slice_175220 || forwards_ok_175251;
            bool protect_assert_disj_175255 = loop_not_taken_175246 || ok_or_empty_175254;
            bool index_certs_175256;
            
            if (!protect_assert_disj_175255) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_175189, ":] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_175257 = cond_175202 || ok_or_empty_175254;
            bool index_certs_175258;
            
            if (!protect_assert_disj_175257) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_175189, ":] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:140:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_184391 = (int64_t) 8 * num_merges_175194;
            int64_t bytes_184392 = next_stride_175190 * binop_x_184391;
            bool i_lte_j_175201 = sle64((int64_t) 0, next_stride_175190);
            
            if (mem_184393_cached_sizze_186025 < bytes_184392) {
                err = lexical_realloc(ctx, &mem_184393, &mem_184393_cached_sizze_186025, bytes_184392);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184396_cached_sizze_186026 < bytes_184392) {
                err = lexical_realloc(ctx, &mem_184396, &mem_184396_cached_sizze_186026, bytes_184392);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_184405 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211;
            int64_t binop_x_184421 = (int64_t) 8 * num_blocks_175210;
            int64_t bytes_184422 = merge_block_sizze_175077 * binop_x_184421;
            int64_t bytes_184467 = (int64_t) 16 * stride_175189;
            
            for (int64_t i_184000 = 0; i_184000 < num_merges_175194; i_184000++) {
                int64_t start_175262 = mul64(next_stride_175190, i_184000);
                int64_t j_m_i_175263 = sub64(loop_dz2084Uz2082U_175185, start_175262);
                bool empty_slice_175264 = j_m_i_175263 == (int64_t) 0;
                int64_t m_175265 = sub64(j_m_i_175263, (int64_t) 1);
                int64_t i_p_m_t_s_175266 = add64(start_175262, m_175265);
                bool zzero_leq_i_p_m_t_s_175267 = sle64((int64_t) 0, i_p_m_t_s_175266);
                bool i_p_m_t_s_leq_w_175268 = slt64(i_p_m_t_s_175266, loop_dz2084Uz2082U_175185);
                bool zzero_lte_i_175269 = sle64((int64_t) 0, start_175262);
                bool i_lte_j_175270 = sle64(start_175262, loop_dz2084Uz2082U_175185);
                bool y_175271 = i_p_m_t_s_leq_w_175268 && zzero_lte_i_175269;
                bool y_175272 = zzero_leq_i_p_m_t_s_175267 && y_175271;
                bool forwards_ok_175273 = i_lte_j_175270 && y_175272;
                bool ok_or_empty_175274 = empty_slice_175264 || forwards_ok_175273;
                bool index_certs_175275;
                
                if (!ok_or_empty_175274) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_175262, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_175185, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_175276 = slt64(m_175199, j_m_i_175263);
                bool y_175277 = zzero_leq_i_p_m_t_s_175200 && i_p_m_t_s_leq_w_175276;
                bool forwards_ok_175278 = i_lte_j_175201 && y_175277;
                bool ok_or_empty_175279 = zzero_175191 || forwards_ok_175278;
                bool index_certs_175280;
                
                if (!ok_or_empty_175279) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_175190, "] out of bounds for array of shape [", (long long) j_m_i_175263, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_175202) {
                    int64_t dummy_181853;
                    int64_t dummy_181854;
                    
                    if (cond_175222) {
                        int64_t head_res_181855 = ((int64_t *) mem_param_184387.mem)[start_175262];
                        int64_t head_res_181856 = ((int64_t *) mem_param_184390.mem)[start_175262];
                        
                        dummy_181853 = head_res_181855;
                        dummy_181854 = head_res_181856;
                    } else {
                        int64_t slice_181857 = stride_175189 + start_175262;
                        int64_t head_res_181858 = ((int64_t *) mem_param_184387.mem)[slice_181857];
                        int64_t head_res_181859 = ((int64_t *) mem_param_184390.mem)[slice_181857];
                        
                        dummy_181853 = head_res_181858;
                        dummy_181854 = head_res_181859;
                    }
                    if (memblock_alloc(ctx, &mem_184468, bytes_184467, "mem_184468")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185746 = 0; nest_i_185746 < next_stride_175190; nest_i_185746++) {
                        ((int64_t *) mem_184468.mem)[nest_i_185746] = dummy_181853;
                    }
                    if (memblock_alloc(ctx, &mem_184470, bytes_184467, "mem_184470")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185747 = 0; nest_i_185747 < next_stride_175190; nest_i_185747++) {
                        ((int64_t *) mem_184470.mem)[nest_i_185747] = dummy_181854;
                    }
                    
                    int64_t data_181862;
                    int64_t i_181866 = (int64_t) 0;
                    
                    for (int64_t k_181865 = 0; k_181865 < next_stride_175190; k_181865++) {
                        int64_t j_181869 = sub64(k_181865, i_181866);
                        bool cond_181870 = j_181869 == j_m_i_175212;
                        bool cond_181871;
                        
                        if (cond_181870) {
                            cond_181871 = 1;
                        } else {
                            bool cond_181872 = slt64(i_181866, stride_175189);
                            bool cond_f_res_181873;
                            
                            if (cond_181872) {
                                bool x_181874 = sle64((int64_t) 0, j_181869);
                                bool y_181875 = slt64(j_181869, j_m_i_175212);
                                bool bounds_check_181876 = x_181874 && y_181875;
                                bool index_certs_181877;
                                
                                if (!bounds_check_181876) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181869, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:140:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_181881 = sle64((int64_t) 0, i_181866);
                                bool bounds_check_181882 = cond_181872 && x_181881;
                                bool index_certs_181883;
                                
                                if (!bounds_check_181882) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_181866, "] out of bounds for array of shape [", (long long) stride_175189, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:140:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_181878 = stride_175189 + j_181869;
                                int64_t slice_181879 = start_175262 + slice_181878;
                                int64_t leq_arg1_181880 = ((int64_t *) mem_param_184387.mem)[slice_181879];
                                int64_t slice_181884 = start_175262 + i_181866;
                                int64_t leq_arg0_181885 = ((int64_t *) mem_param_184387.mem)[slice_181884];
                                bool zlze_res_181886 = sle64(leq_arg0_181885, leq_arg1_181880);
                                
                                cond_f_res_181873 = zlze_res_181886;
                            } else {
                                cond_f_res_181873 = 0;
                            }
                            cond_181871 = cond_f_res_181873;
                        }
                        
                        int64_t loopres_181887;
                        int64_t loopres_181888;
                        int64_t loopres_181889;
                        
                        if (cond_181871) {
                            bool x_181891 = sle64((int64_t) 0, i_181866);
                            bool y_181892 = slt64(i_181866, stride_175189);
                            bool bounds_check_181893 = x_181891 && y_181892;
                            bool index_certs_181894;
                            
                            if (!bounds_check_181893) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_181866, "] out of bounds for array of shape [", (long long) stride_175189, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:140:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_181890 = add64((int64_t) 1, i_181866);
                            int64_t slice_181895 = start_175262 + i_181866;
                            int64_t tmp_181896 = ((int64_t *) mem_param_184387.mem)[slice_181895];
                            int64_t tmp_181897 = ((int64_t *) mem_param_184390.mem)[slice_181895];
                            
                            loopres_181887 = tmp_181890;
                            loopres_181888 = tmp_181896;
                            loopres_181889 = tmp_181897;
                        } else {
                            bool x_181898 = sle64((int64_t) 0, j_181869);
                            bool y_181899 = slt64(j_181869, j_m_i_175212);
                            bool bounds_check_181900 = x_181898 && y_181899;
                            bool index_certs_181901;
                            
                            if (!bounds_check_181900) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181869, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:140:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_181902 = stride_175189 + j_181869;
                            int64_t slice_181903 = start_175262 + slice_181902;
                            int64_t tmp_181904 = ((int64_t *) mem_param_184387.mem)[slice_181903];
                            int64_t tmp_181905 = ((int64_t *) mem_param_184390.mem)[slice_181903];
                            
                            loopres_181887 = i_181866;
                            loopres_181888 = tmp_181904;
                            loopres_181889 = tmp_181905;
                        }
                        ((int64_t *) mem_184468.mem)[k_181865] = loopres_181888;
                        ((int64_t *) mem_184470.mem)[k_181865] = loopres_181889;
                        
                        int64_t i_tmp_185748 = loopres_181887;
                        
                        i_181866 = i_tmp_185748;
                    }
                    data_181862 = i_181866;
                    if (memblock_set(ctx, &ext_mem_184488, &mem_184468, "mem_184468") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184485, &mem_184470, "mem_184470") != 0)
                        return 1;
                } else {
                    if (mem_184406_cached_sizze_186027 < bytes_184405) {
                        err = lexical_realloc(ctx, &mem_184406, &mem_184406_cached_sizze_186027, bytes_184405);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184408_cached_sizze_186028 < bytes_184405) {
                        err = lexical_realloc(ctx, &mem_184408, &mem_184408_cached_sizze_186028, bytes_184405);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_183986 = 0; i_183986 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211; i_183986++) {
                        int64_t split_count_arg3_175342 = mul64(merge_block_sizze_175077, i_183986);
                        int64_t defunc_0_split_count_res_175343;
                        int64_t defunc_0_split_count_res_175344;
                        int64_t defunc_0_split_count_res_175345;
                        int64_t defunc_0_split_count_res_175346;
                        int64_t defunc_0_split_count_res_175347;
                        
                        if (futrts_lifted_normalizze_9100(ctx, &defunc_0_split_count_res_175343, &defunc_0_split_count_res_175344, &defunc_0_split_count_res_175345, &defunc_0_split_count_res_175346, &defunc_0_split_count_res_175347, (int64_t) 0, stride_175189, (int64_t) 0, j_m_i_175212, split_count_arg3_175342) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_175348 = slt64((int64_t) 0, defunc_0_split_count_res_175347);
                        bool defunc_0_split_count_res_175349;
                        int64_t defunc_0_split_count_res_175350;
                        int64_t defunc_0_split_count_res_175351;
                        int64_t defunc_0_split_count_res_175352;
                        int64_t defunc_0_split_count_res_175353;
                        int64_t defunc_0_split_count_res_175354;
                        bool loop_while_175355;
                        int64_t ss_175356;
                        int64_t ss_175357;
                        int64_t tt_175358;
                        int64_t tt_175359;
                        int64_t count_175360;
                        
                        loop_while_175355 = loop_cond_175348;
                        ss_175356 = defunc_0_split_count_res_175343;
                        ss_175357 = defunc_0_split_count_res_175344;
                        tt_175358 = defunc_0_split_count_res_175345;
                        tt_175359 = defunc_0_split_count_res_175346;
                        count_175360 = defunc_0_split_count_res_175347;
                        while (loop_while_175355) {
                            int64_t zlze_lhs_175361 = sub64(ss_175357, ss_175356);
                            bool cond_175362 = sle64(zlze_lhs_175361, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_175363;
                            int64_t defunc_0_lifted_step_res_175364;
                            int64_t defunc_0_lifted_step_res_175365;
                            int64_t defunc_0_lifted_step_res_175366;
                            
                            if (cond_175362) {
                                int64_t tmp_181908 = add64(tt_175358, count_175360);
                                
                                defunc_0_lifted_step_res_175363 = ss_175356;
                                defunc_0_lifted_step_res_175364 = tmp_181908;
                                defunc_0_lifted_step_res_175365 = tt_175359;
                                defunc_0_lifted_step_res_175366 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_175368 = sub64(tt_175359, tt_175358);
                                bool cond_175369 = sle64(zlze_lhs_175368, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_175370;
                                int64_t defunc_0_lifted_step_res_f_res_175371;
                                int64_t defunc_0_lifted_step_res_f_res_175372;
                                int64_t defunc_0_lifted_step_res_f_res_175373;
                                
                                if (cond_175369) {
                                    int64_t tmp_181909 = add64(ss_175356, count_175360);
                                    
                                    defunc_0_lifted_step_res_f_res_175370 = tmp_181909;
                                    defunc_0_lifted_step_res_f_res_175371 = tt_175358;
                                    defunc_0_lifted_step_res_f_res_175372 = tt_175359;
                                    defunc_0_lifted_step_res_f_res_175373 = (int64_t) 0;
                                } else {
                                    bool cond_175375 = count_175360 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_175376;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_175377;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_175378;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_175379;
                                    
                                    if (cond_175375) {
                                        bool x_181911 = sle64((int64_t) 0, ss_175356);
                                        bool y_181912 = slt64(ss_175356, stride_175189);
                                        bool bounds_check_181913 = x_181911 && y_181912;
                                        bool index_certs_181914;
                                        
                                        if (!bounds_check_181913) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_175356, "] out of bounds for array of shape [", (long long) stride_175189, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:140:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_181917 = sle64((int64_t) 0, tt_175358);
                                        bool y_181918 = slt64(tt_175358, j_m_i_175212);
                                        bool bounds_check_181919 = x_181917 && y_181918;
                                        bool index_certs_181920;
                                        
                                        if (!bounds_check_181919) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_175358, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:140:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_181915 = start_175262 + ss_175356;
                                        int64_t leq_arg1_181916 = ((int64_t *) mem_param_184387.mem)[slice_181915];
                                        int64_t slice_181921 = stride_175189 + tt_175358;
                                        int64_t slice_181922 = start_175262 + slice_181921;
                                        int64_t leq_arg0_181923 = ((int64_t *) mem_param_184387.mem)[slice_181922];
                                        bool zlze_res_181924 = sle64(leq_arg0_181923, leq_arg1_181916);
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_181925;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_181926;
                                        
                                        if (zlze_res_181924) {
                                            int64_t tmp_181927 = add64((int64_t) 1, tt_175358);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_181925 = ss_175356;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_181926 = tmp_181927;
                                        } else {
                                            int64_t tmp_181928 = add64((int64_t) 1, ss_175356);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_181925 = tmp_181928;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_181926 = tt_175358;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_175376 = defunc_0_lifted_step_res_f_res_f_res_t_res_181925;
                                        defunc_0_lifted_step_res_f_res_f_res_175377 = defunc_0_lifted_step_res_f_res_f_res_t_res_181926;
                                        defunc_0_lifted_step_res_f_res_f_res_175378 = tt_175359;
                                        defunc_0_lifted_step_res_f_res_f_res_175379 = (int64_t) 0;
                                    } else {
                                        int64_t m_175398 = sdiv64(count_175360, (int64_t) 2);
                                        int64_t n_175399 = sub64(count_175360, m_175398);
                                        bool cond_175400 = n_175399 == (int64_t) 0;
                                        int64_t zgze_lhs_175401 = add64(ss_175356, m_175398);
                                        bool cond_f_res_175402 = sle64(ss_175357, zgze_lhs_175401);
                                        bool x_175403 = !cond_175400;
                                        bool y_175404 = cond_f_res_175402 && x_175403;
                                        bool cond_175405 = cond_175400 || y_175404;
                                        bool leq_y_x_175406;
                                        
                                        if (cond_175405) {
                                            leq_y_x_175406 = 1;
                                        } else {
                                            bool x_175407 = sle64((int64_t) 0, zgze_lhs_175401);
                                            bool y_175408 = slt64(zgze_lhs_175401, stride_175189);
                                            bool bounds_check_175409 = x_175407 && y_175408;
                                            bool index_certs_175410;
                                            
                                            if (!bounds_check_175409) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_175401, "] out of bounds for array of shape [", (long long) stride_175189, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:140:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_175413 = add64(tt_175358, n_175399);
                                            int64_t leq_arg0_175414 = sub64(zm_lhs_175413, (int64_t) 1);
                                            bool x_175415 = sle64((int64_t) 0, leq_arg0_175414);
                                            bool y_175416 = slt64(leq_arg0_175414, j_m_i_175212);
                                            bool bounds_check_175417 = x_175415 && y_175416;
                                            bool index_certs_175418;
                                            
                                            if (!bounds_check_175417) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_175414, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:140:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_175411 = start_175262 + zgze_lhs_175401;
                                            int64_t leq_arg1_175412 = ((int64_t *) mem_param_184387.mem)[slice_175411];
                                            int64_t slice_175419 = stride_175189 + leq_arg0_175414;
                                            int64_t slice_175420 = start_175262 + slice_175419;
                                            int64_t leq_arg0_175421 = ((int64_t *) mem_param_184387.mem)[slice_175420];
                                            bool zlze_res_175422 = sle64(leq_arg0_175421, leq_arg1_175412);
                                            
                                            leq_y_x_175406 = zlze_res_175422;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_175423;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_175424;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_175425;
                                        
                                        if (leq_y_x_175406) {
                                            int64_t tmp_181929 = add64(tt_175358, n_175399);
                                            int64_t tmp_181930 = sub64(count_175360, n_175399);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175423 = tmp_181929;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175424 = tt_175359;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175425 = tmp_181930;
                                        } else {
                                            int64_t tmp_175428 = add64(tt_175358, n_175399);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175423 = tt_175358;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175424 = tmp_175428;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175425 = count_175360;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_175376 = ss_175356;
                                        defunc_0_lifted_step_res_f_res_f_res_175377 = defunc_0_lifted_step_res_f_res_f_res_f_res_175423;
                                        defunc_0_lifted_step_res_f_res_f_res_175378 = defunc_0_lifted_step_res_f_res_f_res_f_res_175424;
                                        defunc_0_lifted_step_res_f_res_f_res_175379 = defunc_0_lifted_step_res_f_res_f_res_f_res_175425;
                                    }
                                    defunc_0_lifted_step_res_f_res_175370 = defunc_0_lifted_step_res_f_res_f_res_175376;
                                    defunc_0_lifted_step_res_f_res_175371 = defunc_0_lifted_step_res_f_res_f_res_175377;
                                    defunc_0_lifted_step_res_f_res_175372 = defunc_0_lifted_step_res_f_res_f_res_175378;
                                    defunc_0_lifted_step_res_f_res_175373 = defunc_0_lifted_step_res_f_res_f_res_175379;
                                }
                                defunc_0_lifted_step_res_175363 = defunc_0_lifted_step_res_f_res_175370;
                                defunc_0_lifted_step_res_175364 = defunc_0_lifted_step_res_f_res_175371;
                                defunc_0_lifted_step_res_175365 = defunc_0_lifted_step_res_f_res_175372;
                                defunc_0_lifted_step_res_175366 = defunc_0_lifted_step_res_f_res_175373;
                            }
                            
                            int64_t loopres_175429;
                            int64_t loopres_175430;
                            int64_t loopres_175431;
                            int64_t loopres_175432;
                            int64_t loopres_175433;
                            
                            if (futrts_lifted_normalizze_9100(ctx, &loopres_175429, &loopres_175430, &loopres_175431, &loopres_175432, &loopres_175433, defunc_0_lifted_step_res_175363, ss_175357, defunc_0_lifted_step_res_175364, defunc_0_lifted_step_res_175365, defunc_0_lifted_step_res_175366) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_175434 = slt64((int64_t) 0, loopres_175433);
                            bool loop_while_tmp_185753 = loop_cond_175434;
                            int64_t ss_tmp_185754 = loopres_175429;
                            int64_t ss_tmp_185755 = loopres_175430;
                            int64_t tt_tmp_185756 = loopres_175431;
                            int64_t tt_tmp_185757 = loopres_175432;
                            int64_t count_tmp_185758 = loopres_175433;
                            
                            loop_while_175355 = loop_while_tmp_185753;
                            ss_175356 = ss_tmp_185754;
                            ss_175357 = ss_tmp_185755;
                            tt_175358 = tt_tmp_185756;
                            tt_175359 = tt_tmp_185757;
                            count_175360 = count_tmp_185758;
                        }
                        defunc_0_split_count_res_175349 = loop_while_175355;
                        defunc_0_split_count_res_175350 = ss_175356;
                        defunc_0_split_count_res_175351 = ss_175357;
                        defunc_0_split_count_res_175352 = tt_175358;
                        defunc_0_split_count_res_175353 = tt_175359;
                        defunc_0_split_count_res_175354 = count_175360;
                        ((int64_t *) mem_184406)[i_183986] = defunc_0_split_count_res_175350;
                        ((int64_t *) mem_184408)[i_183986] = defunc_0_split_count_res_175352;
                    }
                    if (mem_184423_cached_sizze_186029 < bytes_184422) {
                        err = lexical_realloc(ctx, &mem_184423, &mem_184423_cached_sizze_186029, bytes_184422);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184426_cached_sizze_186030 < bytes_184422) {
                        err = lexical_realloc(ctx, &mem_184426, &mem_184426_cached_sizze_186030, bytes_184422);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_183993 = 0; i_183993 < num_blocks_175210; i_183993++) {
                        bool y_175440 = slt64(i_183993, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211);
                        bool index_certs_175442;
                        
                        if (!y_175440) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183993, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:140:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_175443 = ((int64_t *) mem_184406)[i_183993];
                        int64_t defunc_0_f_res_175444 = ((int64_t *) mem_184408)[i_183993];
                        int64_t tmp_175445 = add64((int64_t) 1, i_183993);
                        bool x_175446 = sle64((int64_t) 0, tmp_175445);
                        bool y_175447 = slt64(tmp_175445, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211);
                        bool bounds_check_175448 = x_175446 && y_175447;
                        bool index_certs_175449;
                        
                        if (!bounds_check_175448) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_175445, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:140:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_175450 = ((int64_t *) mem_184406)[tmp_175445];
                        int64_t defunc_0_f_res_175451 = ((int64_t *) mem_184408)[tmp_175445];
                        int64_t merge_sequential_arg2_175452 = add64(stride_175189, defunc_0_f_res_175444);
                        int64_t merge_sequential_arg2_175453 = add64(stride_175189, defunc_0_f_res_175451);
                        int64_t j_m_i_175454 = sub64(merge_sequential_arg2_175453, merge_sequential_arg2_175452);
                        bool empty_slice_175455 = j_m_i_175454 == (int64_t) 0;
                        int64_t m_175456 = sub64(j_m_i_175454, (int64_t) 1);
                        int64_t i_p_m_t_s_175457 = add64(merge_sequential_arg2_175452, m_175456);
                        bool zzero_leq_i_p_m_t_s_175458 = sle64((int64_t) 0, i_p_m_t_s_175457);
                        bool i_p_m_t_s_leq_w_175459 = slt64(i_p_m_t_s_175457, next_stride_175190);
                        bool zzero_lte_i_175460 = sle64((int64_t) 0, merge_sequential_arg2_175452);
                        bool i_lte_j_175461 = sle64(merge_sequential_arg2_175452, merge_sequential_arg2_175453);
                        bool y_175462 = i_p_m_t_s_leq_w_175459 && zzero_lte_i_175460;
                        bool y_175463 = zzero_leq_i_p_m_t_s_175458 && y_175462;
                        bool forwards_ok_175464 = i_lte_j_175461 && y_175463;
                        bool ok_or_empty_175465 = empty_slice_175455 || forwards_ok_175464;
                        bool index_certs_175466;
                        
                        if (!ok_or_empty_175465) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_175452, ":", (long long) merge_sequential_arg2_175453, "] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:140:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_175467 = sub64(defunc_0_f_res_175450, defunc_0_f_res_175443);
                        bool empty_slice_175468 = j_m_i_175467 == (int64_t) 0;
                        int64_t m_175469 = sub64(j_m_i_175467, (int64_t) 1);
                        int64_t i_p_m_t_s_175470 = add64(defunc_0_f_res_175443, m_175469);
                        bool zzero_leq_i_p_m_t_s_175471 = sle64((int64_t) 0, i_p_m_t_s_175470);
                        bool i_p_m_t_s_leq_w_175472 = slt64(i_p_m_t_s_175470, next_stride_175190);
                        bool zzero_lte_i_175473 = sle64((int64_t) 0, defunc_0_f_res_175443);
                        bool i_lte_j_175474 = sle64(defunc_0_f_res_175443, defunc_0_f_res_175450);
                        bool y_175475 = i_p_m_t_s_leq_w_175472 && zzero_lte_i_175473;
                        bool y_175476 = zzero_leq_i_p_m_t_s_175471 && y_175475;
                        bool forwards_ok_175477 = i_lte_j_175474 && y_175476;
                        bool ok_or_empty_175478 = empty_slice_175468 || forwards_ok_175477;
                        bool index_certs_175479;
                        
                        if (!ok_or_empty_175478) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_175443, ":", (long long) defunc_0_f_res_175450, "] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:140:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_175480 = slt64((int64_t) 0, j_m_i_175467);
                        int64_t dummy_175481;
                        int64_t dummy_175482;
                        
                        if (cond_175480) {
                            bool index_certs_181931;
                            
                            if (!cond_175480) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_175467, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:140:54-57\n   #12 ftsort.fut:38:3-26\n   #13 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_181932 = start_175262 + defunc_0_f_res_175443;
                            int64_t head_res_181933 = ((int64_t *) mem_param_184387.mem)[slice_181932];
                            int64_t head_res_181934 = ((int64_t *) mem_param_184390.mem)[slice_181932];
                            
                            dummy_175481 = head_res_181933;
                            dummy_175482 = head_res_181934;
                        } else {
                            bool y_175487 = slt64((int64_t) 0, j_m_i_175454);
                            bool index_certs_175488;
                            
                            if (!y_175487) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_175454, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:140:54-57\n   #12 ftsort.fut:38:3-26\n   #13 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_175489 = start_175262 + merge_sequential_arg2_175452;
                            int64_t head_res_175490 = ((int64_t *) mem_param_184387.mem)[slice_175489];
                            int64_t head_res_175491 = ((int64_t *) mem_param_184390.mem)[slice_175489];
                            
                            dummy_175481 = head_res_175490;
                            dummy_175482 = head_res_175491;
                        }
                        for (int64_t nest_i_185761 = 0; nest_i_185761 < merge_block_sizze_175077; nest_i_185761++) {
                            ((int64_t *) mem_184423)[i_183993 * merge_block_sizze_175077 + nest_i_185761] = dummy_175481;
                        }
                        for (int64_t nest_i_185762 = 0; nest_i_185762 < merge_block_sizze_175077; nest_i_185762++) {
                            ((int64_t *) mem_184426)[i_183993 * merge_block_sizze_175077 + nest_i_185762] = dummy_175482;
                        }
                        
                        int64_t data_175494;
                        int64_t i_175498 = (int64_t) 0;
                        
                        for (int64_t k_175497 = 0; k_175497 < merge_block_sizze_175077; k_175497++) {
                            int64_t j_175501 = sub64(k_175497, i_175498);
                            bool cond_175502 = j_175501 == j_m_i_175454;
                            bool cond_175503;
                            
                            if (cond_175502) {
                                cond_175503 = 1;
                            } else {
                                bool cond_175504 = slt64(i_175498, j_m_i_175467);
                                bool cond_f_res_175505;
                                
                                if (cond_175504) {
                                    bool x_181935 = sle64((int64_t) 0, j_175501);
                                    bool y_181936 = slt64(j_175501, j_m_i_175454);
                                    bool bounds_check_181937 = x_181935 && y_181936;
                                    bool index_certs_181938;
                                    
                                    if (!bounds_check_181937) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_175501, "] out of bounds for array of shape [", (long long) j_m_i_175454, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:140:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_181942 = sle64((int64_t) 0, i_175498);
                                    bool bounds_check_181943 = cond_175504 && x_181942;
                                    bool index_certs_181944;
                                    
                                    if (!bounds_check_181943) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_175498, "] out of bounds for array of shape [", (long long) j_m_i_175467, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:140:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_181939 = merge_sequential_arg2_175452 + j_175501;
                                    int64_t slice_181940 = start_175262 + slice_181939;
                                    int64_t leq_arg1_181941 = ((int64_t *) mem_param_184387.mem)[slice_181940];
                                    int64_t slice_181945 = defunc_0_f_res_175443 + i_175498;
                                    int64_t slice_181946 = start_175262 + slice_181945;
                                    int64_t leq_arg0_181947 = ((int64_t *) mem_param_184387.mem)[slice_181946];
                                    bool zlze_res_181948 = sle64(leq_arg0_181947, leq_arg1_181941);
                                    
                                    cond_f_res_175505 = zlze_res_181948;
                                } else {
                                    cond_f_res_175505 = 0;
                                }
                                cond_175503 = cond_f_res_175505;
                            }
                            
                            int64_t loopres_175520;
                            int64_t loopres_175521;
                            int64_t loopres_175522;
                            
                            if (cond_175503) {
                                bool x_181950 = sle64((int64_t) 0, i_175498);
                                bool y_181951 = slt64(i_175498, j_m_i_175467);
                                bool bounds_check_181952 = x_181950 && y_181951;
                                bool index_certs_181953;
                                
                                if (!bounds_check_181952) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_175498, "] out of bounds for array of shape [", (long long) j_m_i_175467, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:140:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_181949 = add64((int64_t) 1, i_175498);
                                int64_t slice_181954 = defunc_0_f_res_175443 + i_175498;
                                int64_t slice_181955 = start_175262 + slice_181954;
                                int64_t tmp_181956 = ((int64_t *) mem_param_184387.mem)[slice_181955];
                                int64_t tmp_181957 = ((int64_t *) mem_param_184390.mem)[slice_181955];
                                
                                loopres_175520 = tmp_181949;
                                loopres_175521 = tmp_181956;
                                loopres_175522 = tmp_181957;
                            } else {
                                bool x_175532 = sle64((int64_t) 0, j_175501);
                                bool y_175533 = slt64(j_175501, j_m_i_175454);
                                bool bounds_check_175534 = x_175532 && y_175533;
                                bool index_certs_175535;
                                
                                if (!bounds_check_175534) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_175501, "] out of bounds for array of shape [", (long long) j_m_i_175454, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:140:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_175536 = merge_sequential_arg2_175452 + j_175501;
                                int64_t slice_175537 = start_175262 + slice_175536;
                                int64_t tmp_175538 = ((int64_t *) mem_param_184387.mem)[slice_175537];
                                int64_t tmp_175539 = ((int64_t *) mem_param_184390.mem)[slice_175537];
                                
                                loopres_175520 = i_175498;
                                loopres_175521 = tmp_175538;
                                loopres_175522 = tmp_175539;
                            }
                            ((int64_t *) mem_184423)[i_183993 * merge_block_sizze_175077 + k_175497] = loopres_175521;
                            ((int64_t *) mem_184426)[i_183993 * merge_block_sizze_175077 + k_175497] = loopres_175522;
                            
                            int64_t i_tmp_185763 = loopres_175520;
                            
                            i_175498 = i_tmp_185763;
                        }
                        data_175494 = i_175498;
                    }
                    if (memblock_alloc(ctx, &mem_184461, bytes_184422, "mem_184461")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_184461.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175077, (int64_t) 1}, (uint64_t *) mem_184423, (int64_t) 0, (int64_t []) {merge_block_sizze_175077, (int64_t) 1}, (int64_t []) {num_blocks_175210, merge_block_sizze_175077});
                    if (memblock_alloc(ctx, &mem_184465, bytes_184422, "mem_184465")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_184465.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175077, (int64_t) 1}, (uint64_t *) mem_184426, (int64_t) 0, (int64_t []) {merge_block_sizze_175077, (int64_t) 1}, (int64_t []) {num_blocks_175210, merge_block_sizze_175077});
                    if (memblock_set(ctx, &ext_mem_184488, &mem_184461, "mem_184461") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184485, &mem_184465, "mem_184465") != 0)
                        return 1;
                }
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184393, i_184000 * next_stride_175190, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184488.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_175190});
                if (memblock_unref(ctx, &ext_mem_184488, "ext_mem_184488") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184396, i_184000 * next_stride_175190, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184485.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_175190});
                if (memblock_unref(ctx, &ext_mem_184485, "ext_mem_184485") != 0)
                    return 1;
            }
            
            int64_t flat_dim_175546 = next_stride_175190 * num_merges_175194;
            
            if (memblock_alloc(ctx, &mem_184499, bytes_184392, "mem_184499")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_184499.mem, (int64_t) 0, (int64_t []) {next_stride_175190, (int64_t) 1}, (uint64_t *) mem_184393, (int64_t) 0, (int64_t []) {next_stride_175190, (int64_t) 1}, (int64_t []) {num_merges_175194, next_stride_175190});
            if (memblock_alloc(ctx, &mem_184503, bytes_184392, "mem_184503")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_184503.mem, (int64_t) 0, (int64_t []) {next_stride_175190, (int64_t) 1}, (uint64_t *) mem_184396, (int64_t) 0, (int64_t []) {next_stride_175190, (int64_t) 1}, (int64_t []) {num_merges_175194, next_stride_175190});
            
            bool loop_cond_175549 = slt64(next_stride_175190, flat_dim_175074);
            
            if (memblock_set(ctx, &mem_param_tmp_185737, &mem_184499, "mem_184499") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_185738, &mem_184503, "mem_184503") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_185739 = flat_dim_175546;
            bool loop_while_tmp_185740 = loop_cond_175549;
            int64_t stride_tmp_185743 = next_stride_175190;
            
            if (memblock_set(ctx, &mem_param_184387, &mem_param_tmp_185737, "mem_param_tmp_185737") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_184390, &mem_param_tmp_185738, "mem_param_tmp_185738") != 0)
                return 1;
            loop_dz2084Uz2082U_175185 = loop_dz2084Uz2082U_tmp_185739;
            loop_while_175186 = loop_while_tmp_185740;
            stride_175189 = stride_tmp_185743;
        }
        if (memblock_set(ctx, &ext_mem_184510, &mem_param_184387, "mem_param_184387") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_184509, &mem_param_184390, "mem_param_184390") != 0)
            return 1;
        data_175180 = loop_dz2084Uz2082U_175185;
        data_175181 = loop_while_175186;
        data_175184 = stride_175189;
        if (memblock_unref(ctx, &mem_184379, "mem_184379") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184383, "mem_184383") != 0)
            return 1;
        
        bool empty_slice_175550 = n_105099 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_175551 = sle64((int64_t) 0, zs_lhs_175058);
        bool i_p_m_t_s_leq_w_175552 = slt64(zs_lhs_175058, data_175180);
        bool y_175553 = zzero_leq_i_p_m_t_s_175551 && i_p_m_t_s_leq_w_175552;
        bool ok_or_empty_175554 = empty_slice_175550 || y_175553;
        bool index_certs_175555;
        
        if (!ok_or_empty_175554) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_105099, "] out of bounds for array of shape [", (long long) data_175180, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:140:54-57\n   #5  ftsort.fut:38:3-26\n   #6  ftsort.fut:37:1-38:26\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_184513, &ext_mem_184509, "ext_mem_184509") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_184515, bytes_184307, "mem_184515")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184517, bytes_184307, "mem_184517")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_184007 = 0; i_184007 < n_105099; i_184007++) {
        int64_t eta_p_175559 = ((int64_t *) ext_mem_184513.mem)[i_184007];
        bool x_175560 = sle64((int64_t) 0, eta_p_175559);
        bool y_175561 = slt64(eta_p_175559, n_105099);
        bool bounds_check_175562 = x_175560 && y_175561;
        bool index_certs_175563;
        
        if (!bounds_check_175562) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_175559, "] out of bounds for array of shape [", (long long) n_105099, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:140:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_175564 = ((int64_t *) ext_mem_184306.mem)[eta_p_175559];
        int64_t lifted_lambda_res_175565 = ((int64_t *) xs_mem_184305.mem)[eta_p_175559];
        
        ((int64_t *) mem_184515.mem)[i_184007] = lifted_lambda_res_175564;
        ((int64_t *) mem_184517.mem)[i_184007] = lifted_lambda_res_175565;
    }
    if (memblock_unref(ctx, &ext_mem_184306, "ext_mem_184306") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_184513, "ext_mem_184513") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185719, &mem_184515, "mem_184515") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185720, &mem_184517, "mem_184517") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186019, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186020, &mem_out_185720, "mem_out_185720") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_184311);
        free(mem_184314);
        free(mem_184324);
        free(mem_184326);
        free(mem_184393);
        free(mem_184396);
        free(mem_184406);
        free(mem_184408);
        free(mem_184423);
        free(mem_184426);
        if (memblock_unref(ctx, &mem_184517, "mem_184517") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184515, "mem_184515") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185738, "mem_param_tmp_185738") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185737, "mem_param_tmp_185737") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184503, "mem_184503") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184499, "mem_184499") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184465, "mem_184465") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184461, "mem_184461") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184470, "mem_184470") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184468, "mem_184468") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184485, "ext_mem_184485") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184488, "ext_mem_184488") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184390, "mem_param_184390") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184387, "mem_param_184387") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184509, "ext_mem_184509") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184510, "ext_mem_184510") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184383, "mem_184383") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184379, "mem_184379") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184513, "ext_mem_184513") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184306, "ext_mem_184306") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185720, "mem_out_185720") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_186031, struct memblock *mem_out_p_186032, struct memblock xs_mem_184305, int64_t n_100412, int64_t incr_100413)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_184311_cached_sizze_186033 = 0;
    unsigned char *mem_184311 = NULL;
    int64_t mem_184314_cached_sizze_186034 = 0;
    unsigned char *mem_184314 = NULL;
    int64_t mem_184324_cached_sizze_186035 = 0;
    unsigned char *mem_184324 = NULL;
    int64_t mem_184326_cached_sizze_186036 = 0;
    unsigned char *mem_184326 = NULL;
    int64_t mem_184393_cached_sizze_186037 = 0;
    unsigned char *mem_184393 = NULL;
    int64_t mem_184396_cached_sizze_186038 = 0;
    unsigned char *mem_184396 = NULL;
    int64_t mem_184406_cached_sizze_186039 = 0;
    unsigned char *mem_184406 = NULL;
    int64_t mem_184408_cached_sizze_186040 = 0;
    unsigned char *mem_184408 = NULL;
    int64_t mem_184423_cached_sizze_186041 = 0;
    unsigned char *mem_184423 = NULL;
    int64_t mem_184426_cached_sizze_186042 = 0;
    unsigned char *mem_184426 = NULL;
    struct memblock mem_184517;
    
    mem_184517.references = NULL;
    
    struct memblock mem_184515;
    
    mem_184515.references = NULL;
    
    struct memblock mem_param_tmp_185738;
    
    mem_param_tmp_185738.references = NULL;
    
    struct memblock mem_param_tmp_185737;
    
    mem_param_tmp_185737.references = NULL;
    
    struct memblock mem_184503;
    
    mem_184503.references = NULL;
    
    struct memblock mem_184499;
    
    mem_184499.references = NULL;
    
    struct memblock mem_184465;
    
    mem_184465.references = NULL;
    
    struct memblock mem_184461;
    
    mem_184461.references = NULL;
    
    struct memblock mem_184470;
    
    mem_184470.references = NULL;
    
    struct memblock mem_184468;
    
    mem_184468.references = NULL;
    
    struct memblock ext_mem_184485;
    
    ext_mem_184485.references = NULL;
    
    struct memblock ext_mem_184488;
    
    ext_mem_184488.references = NULL;
    
    struct memblock mem_param_184390;
    
    mem_param_184390.references = NULL;
    
    struct memblock mem_param_184387;
    
    mem_param_184387.references = NULL;
    
    struct memblock ext_mem_184509;
    
    ext_mem_184509.references = NULL;
    
    struct memblock ext_mem_184510;
    
    ext_mem_184510.references = NULL;
    
    struct memblock mem_184383;
    
    mem_184383.references = NULL;
    
    struct memblock mem_184379;
    
    mem_184379.references = NULL;
    
    struct memblock ext_mem_184513;
    
    ext_mem_184513.references = NULL;
    
    struct memblock mem_184308;
    
    mem_184308.references = NULL;
    
    struct memblock ext_mem_184306;
    
    ext_mem_184306.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t bytes_184307 = (int64_t) 8 * n_100412;
    bool cond_175057 = sle64(n_100412, (int64_t) 1);
    int64_t zs_lhs_175058 = sub64(n_100412, (int64_t) 1);
    int64_t zp_rhs_175059 = sdiv_safe64(zs_lhs_175058, (int64_t) 20);
    int64_t min_num_blocks_175060 = add64((int64_t) 1, zp_rhs_175059);
    bool loop_cond_175061 = slt64((int64_t) 1, min_num_blocks_175060);
    bool smallest_pow_2_geq_than_res_175062;
    int64_t smallest_pow_2_geq_than_res_175063;
    bool loop_while_175064;
    int64_t x_175065;
    
    loop_while_175064 = loop_cond_175061;
    x_175065 = (int64_t) 1;
    while (loop_while_175064) {
        int64_t loopres_175066 = mul64((int64_t) 2, x_175065);
        bool loop_cond_175067 = slt64(loopres_175066, min_num_blocks_175060);
        bool loop_while_tmp_185721 = loop_cond_175067;
        int64_t x_tmp_185722 = loopres_175066;
        
        loop_while_175064 = loop_while_tmp_185721;
        x_175065 = x_tmp_185722;
    }
    smallest_pow_2_geq_than_res_175062 = loop_while_175064;
    smallest_pow_2_geq_than_res_175063 = x_175065;
    
    bool zzero_175068 = smallest_pow_2_geq_than_res_175063 == (int64_t) 0;
    bool nonzzero_175069 = !zzero_175068;
    bool protect_assert_disj_175070 = cond_175057 || nonzzero_175069;
    bool nonzzero_cert_175071;
    
    if (!protect_assert_disj_175070) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:140:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175072 = sdiv_safe64(zs_lhs_175058, smallest_pow_2_geq_than_res_175063);
    int64_t block_sizze_175073 = add64((int64_t) 1, zp_rhs_175072);
    bool y_175078 = slt64((int64_t) 0, n_100412);
    bool protect_assert_disj_185418 = cond_175057 || y_175078;
    bool index_certs_175079;
    
    if (!protect_assert_disj_185418) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_100412, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:140:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_175092 = slt64(smallest_pow_2_geq_than_res_175063, (int64_t) 0);
    bool valid_175093 = !bounds_invalid_upwards_175092;
    bool protect_assert_disj_185426 = cond_175057 || valid_175093;
    bool range_valid_c_175094;
    
    if (!protect_assert_disj_185426) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_175063, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:140:54-57\n   #6  ftsort.fut:32:3-27\n   #7  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_175096 = slt64(block_sizze_175073, (int64_t) 0);
    bool valid_175097 = !bounds_invalid_upwards_175096;
    bool protect_assert_disj_185428 = cond_175057 || valid_175097;
    bool range_valid_c_175098;
    
    if (!protect_assert_disj_185428) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_175073, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:140:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_175100 = sle64(block_sizze_175073, (int64_t) 1);
    int64_t tmp_175101 = sub64(block_sizze_175073, (int64_t) 2);
    bool bounds_invalid_upwards_175102 = slt64(tmp_175101, (int64_t) 0);
    bool valid_175104 = !bounds_invalid_upwards_175102;
    bool protect_assert_disj_175105 = cond_175100 || valid_175104;
    bool protect_assert_disj_185430 = cond_175057 || protect_assert_disj_175105;
    bool range_valid_c_175106;
    
    if (!protect_assert_disj_185430) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_175101, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184516 = (int64_t) 2 * n_100412;
    
    if (futrts_indicesWithIncrement_9161(ctx, &ext_mem_184306, xs_mem_184305, n_100412, incr_100413) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184308, bytes_184307, "mem_184308")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_185723 = 0; i_185723 < n_100412; i_185723++) {
        int64_t x_185724 = (int64_t) 0 + i_185723 * (int64_t) 1;
        
        ((int64_t *) mem_184308.mem)[i_185723] = x_185724;
    }
    
    int64_t flat_dim_175074 = smallest_pow_2_geq_than_res_175063 * block_sizze_175073;
    bool x_185413 = !cond_175057;
    int64_t greatest_divisor_leq_than_arg1_175076 = mul64((int64_t) 2, block_sizze_175073);
    int64_t merge_block_sizze_175077;
    
    if (x_185413) {
        int64_t x_185415;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_185415, (int64_t) 8, greatest_divisor_leq_than_arg1_175076) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_175077 = x_185415;
    } else {
        merge_block_sizze_175077 = (int64_t) 0;
    }
    
    int16_t reduce_arg1_175080;
    
    if (x_185413) {
        int16_t x_185419 = ((int16_t *) xs_mem_184305.mem)[(int64_t) 0];
        
        reduce_arg1_175080 = x_185419;
    } else {
        reduce_arg1_175080 = (int16_t) 0;
    }
    
    int16_t defunc_0_reduce_res_181964;
    int64_t defunc_0_reduce_res_181965;
    
    if (x_185413) {
        int16_t x_185421;
        int64_t x_185422;
        int16_t redout_183965;
        int64_t redout_183966;
        
        redout_183965 = reduce_arg1_175080;
        redout_183966 = (int64_t) 0;
        for (int64_t i_183967 = 0; i_183967 < n_100412; i_183967++) {
            int16_t x_175083 = ((int16_t *) xs_mem_184305.mem)[i_183967];
            bool zlze_res_175089 = sle16(redout_183965, x_175083);
            int16_t defunc_0_op_res_175090;
            
            if (zlze_res_175089) {
                defunc_0_op_res_175090 = x_175083;
            } else {
                defunc_0_op_res_175090 = redout_183965;
            }
            
            int64_t defunc_0_op_res_175091;
            
            if (zlze_res_175089) {
                defunc_0_op_res_175091 = i_183967;
            } else {
                defunc_0_op_res_175091 = redout_183966;
            }
            
            int16_t redout_tmp_185725 = defunc_0_op_res_175090;
            int64_t redout_tmp_185726 = defunc_0_op_res_175091;
            
            redout_183965 = redout_tmp_185725;
            redout_183966 = redout_tmp_185726;
        }
        x_185421 = redout_183965;
        x_185422 = redout_183966;
        defunc_0_reduce_res_181964 = x_185421;
        defunc_0_reduce_res_181965 = x_185422;
    } else {
        defunc_0_reduce_res_181964 = (int16_t) 0;
        defunc_0_reduce_res_181965 = (int64_t) 0;
    }
    
    int64_t distance_175103 = add64((int64_t) 1, tmp_175101);
    int64_t binop_x_184309 = (int64_t) 2 * smallest_pow_2_geq_than_res_175063;
    int64_t bytes_184310 = block_sizze_175073 * binop_x_184309;
    int64_t binop_x_184312 = (int64_t) 8 * smallest_pow_2_geq_than_res_175063;
    int64_t bytes_184313 = block_sizze_175073 * binop_x_184312;
    int64_t bytes_184325 = (int64_t) 8 * block_sizze_175073;
    bool loop_cond_175177 = slt64(block_sizze_175073, flat_dim_175074);
    bool zzero_175178 = merge_block_sizze_175077 == (int64_t) 0;
    bool nonzzero_175179 = !zzero_175178;
    
    if (cond_175057) {
        if (memblock_set(ctx, &ext_mem_184513, &mem_184308, "mem_184308") != 0)
            return 1;
    } else {
        if (mem_184311_cached_sizze_186033 < bytes_184310) {
            err = lexical_realloc(ctx, &mem_184311, &mem_184311_cached_sizze_186033, bytes_184310);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_184314_cached_sizze_186034 < bytes_184313) {
            err = lexical_realloc(ctx, &mem_184314, &mem_184314_cached_sizze_186034, bytes_184313);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_184324_cached_sizze_186035 < greatest_divisor_leq_than_arg1_175076) {
            err = lexical_realloc(ctx, &mem_184324, &mem_184324_cached_sizze_186035, greatest_divisor_leq_than_arg1_175076);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_184326_cached_sizze_186036 < bytes_184325) {
            err = lexical_realloc(ctx, &mem_184326, &mem_184326_cached_sizze_186036, bytes_184325);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_183979 = 0; i_183979 < smallest_pow_2_geq_than_res_175063; i_183979++) {
            int64_t zp_lhs_175110 = mul64(block_sizze_175073, i_183979);
            
            for (int64_t i_183972 = 0; i_183972 < block_sizze_175073; i_183972++) {
                int64_t k_175114 = add64(zp_lhs_175110, i_183972);
                bool cond_175115 = slt64(k_175114, n_100412);
                int16_t lifted_lambda_res_175116;
                int64_t lifted_lambda_res_175117;
                
                if (cond_175115) {
                    bool x_181817 = sle64((int64_t) 0, k_175114);
                    bool bounds_check_181818 = cond_175115 && x_181817;
                    bool index_certs_181819;
                    
                    if (!bounds_check_181818) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_175114, "] out of bounds for array of shape [", (long long) n_100412, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:140:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int16_t lifted_lambda_res_t_res_181820 = ((int16_t *) xs_mem_184305.mem)[k_175114];
                    
                    lifted_lambda_res_175116 = lifted_lambda_res_t_res_181820;
                    lifted_lambda_res_175117 = k_175114;
                } else {
                    lifted_lambda_res_175116 = defunc_0_reduce_res_181964;
                    lifted_lambda_res_175117 = defunc_0_reduce_res_181965;
                }
                ((int16_t *) mem_184324)[i_183972] = lifted_lambda_res_175116;
                ((int64_t *) mem_184326)[i_183972] = lifted_lambda_res_175117;
            }
            if (!cond_175100) {
                for (int64_t i_175126 = 0; i_175126 < distance_175103; i_175126++) {
                    int64_t gt_arg1_175129 = add64((int64_t) 1, i_175126);
                    bool x_175130 = sle64((int64_t) 0, gt_arg1_175129);
                    bool y_175131 = slt64(gt_arg1_175129, block_sizze_175073);
                    bool bounds_check_175132 = x_175130 && y_175131;
                    bool index_certs_175133;
                    
                    if (!bounds_check_175132) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_175129, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_175135 = slt64(i_175126, block_sizze_175073);
                    bool index_certs_175136;
                    
                    if (!y_175135) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_175126, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int16_t gt_arg1_175134 = ((int16_t *) mem_184324)[gt_arg1_175129];
                    int16_t gt_arg0_175137 = ((int16_t *) mem_184324)[i_175126];
                    bool zlze_res_175138 = sle16(gt_arg0_175137, gt_arg1_175134);
                    bool defunc_0_lifted_gt_res_175139 = !zlze_res_175138;
                    bool s_175140;
                    int64_t s_175143;
                    bool loop_while_175144;
                    int64_t j_175147;
                    
                    loop_while_175144 = defunc_0_lifted_gt_res_175139;
                    j_175147 = i_175126;
                    while (loop_while_175144) {
                        bool x_175148 = sle64((int64_t) 0, j_175147);
                        bool y_175149 = slt64(j_175147, block_sizze_175073);
                        bool bounds_check_175150 = x_175148 && y_175149;
                        bool index_certs_175151;
                        
                        if (!bounds_check_175150) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_175147, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_175154 = add64((int64_t) 1, j_175147);
                        bool x_175155 = sle64((int64_t) 0, copy_arg0_175154);
                        bool y_175156 = slt64(copy_arg0_175154, block_sizze_175073);
                        bool bounds_check_175157 = x_175155 && y_175156;
                        bool index_certs_175158;
                        
                        if (!bounds_check_175157) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_175154, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int16_t copy_arg0_175152 = ((int16_t *) mem_184324)[j_175147];
                        int64_t copy_arg0_175153 = ((int64_t *) mem_184326)[j_175147];
                        int16_t copy_arg0_175159 = ((int16_t *) mem_184324)[copy_arg0_175154];
                        int64_t copy_arg0_175160 = ((int64_t *) mem_184326)[copy_arg0_175154];
                        
                        ((int16_t *) mem_184324)[j_175147] = copy_arg0_175159;
                        ((int64_t *) mem_184326)[j_175147] = copy_arg0_175160;
                        ((int16_t *) mem_184324)[copy_arg0_175154] = copy_arg0_175152;
                        ((int64_t *) mem_184326)[copy_arg0_175154] = copy_arg0_175153;
                        
                        int64_t tmp_175165 = sub64(j_175147, (int64_t) 1);
                        bool cond_175166 = sle64((int64_t) 0, tmp_175165);
                        bool loop_cond_175167;
                        
                        if (cond_175166) {
                            bool y_181822 = slt64(tmp_175165, block_sizze_175073);
                            bool bounds_check_181823 = cond_175166 && y_181822;
                            bool index_certs_181824;
                            
                            if (!bounds_check_181823) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_175165, "] out of bounds for array of shape [", (long long) block_sizze_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int16_t gt_arg1_181821 = ((int16_t *) mem_184324)[j_175147];
                            int16_t gt_arg0_181825 = ((int16_t *) mem_184324)[tmp_175165];
                            bool zlze_res_181826 = sle16(gt_arg0_181825, gt_arg1_181821);
                            bool defunc_0_lifted_gt_res_181827 = !zlze_res_181826;
                            
                            loop_cond_175167 = defunc_0_lifted_gt_res_181827;
                        } else {
                            loop_cond_175167 = 0;
                        }
                        
                        bool loop_while_tmp_185733 = loop_cond_175167;
                        int64_t j_tmp_185736 = tmp_175165;
                        
                        loop_while_175144 = loop_while_tmp_185733;
                        j_175147 = j_tmp_185736;
                    }
                    s_175140 = loop_while_175144;
                    s_175143 = j_175147;
                }
            }
            lmad_copy_2b(ctx, 1, (uint16_t *) mem_184311, i_183979 * block_sizze_175073, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_184324, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175073});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184314, i_183979 * block_sizze_175073, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184326, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175073});
        }
        if (memblock_alloc(ctx, &mem_184379, bytes_184310, "mem_184379")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_2b(ctx, 2, (uint16_t *) mem_184379.mem, (int64_t) 0, (int64_t []) {block_sizze_175073, (int64_t) 1}, (uint16_t *) mem_184311, (int64_t) 0, (int64_t []) {block_sizze_175073, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175063, block_sizze_175073});
        if (memblock_alloc(ctx, &mem_184383, bytes_184313, "mem_184383")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_184383.mem, (int64_t) 0, (int64_t []) {block_sizze_175073, (int64_t) 1}, (uint64_t *) mem_184314, (int64_t) 0, (int64_t []) {block_sizze_175073, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175063, block_sizze_175073});
        
        int64_t data_175180;
        bool data_175181;
        int64_t data_175184;
        int64_t loop_dz2084Uz2082U_175185;
        bool loop_while_175186;
        int64_t stride_175189;
        
        if (memblock_set(ctx, &mem_param_184387, &mem_184379, "mem_184379") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_184390, &mem_184383, "mem_184383") != 0)
            return 1;
        loop_dz2084Uz2082U_175185 = flat_dim_175074;
        loop_while_175186 = loop_cond_175177;
        stride_175189 = block_sizze_175073;
        while (loop_while_175186) {
            int64_t next_stride_175190 = mul64((int64_t) 2, stride_175189);
            bool zzero_175191 = next_stride_175190 == (int64_t) 0;
            bool nonzzero_175192 = !zzero_175191;
            bool nonzzero_cert_175193;
            
            if (!nonzzero_175192) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:140:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_175194 = sdiv64(flat_dim_175074, next_stride_175190);
            bool bounds_invalid_upwards_175195 = slt64(num_merges_175194, (int64_t) 0);
            bool valid_175196 = !bounds_invalid_upwards_175195;
            bool range_valid_c_175197;
            
            if (!valid_175196) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_175194, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:140:54-57\n   #6  ftsort.fut:32:3-27\n   #7  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_175199 = sub64(next_stride_175190, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_175200 = sle64((int64_t) 0, m_175199);
            bool cond_175202 = slt64(next_stride_175190, (int64_t) 10);
            bool protect_assert_disj_175203 = nonzzero_175179 || cond_175202;
            bool nonzzero_cert_175204;
            
            if (!protect_assert_disj_175203) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_175205 = smod_safe64(next_stride_175190, merge_block_sizze_175077);
            bool num_blocks_175206 = zeze_lhs_175205 == (int64_t) 0;
            bool protect_assert_disj_175207 = cond_175202 || num_blocks_175206;
            bool assert_c_175208;
            
            if (!protect_assert_disj_175207) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_175210 = sdiv_safe64(next_stride_175190, merge_block_sizze_175077);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211 = add64((int64_t) 1, num_blocks_175210);
            int64_t j_m_i_175212 = sub64(next_stride_175190, stride_175189);
            int64_t flat_dim_175213 = merge_block_sizze_175077 * num_blocks_175210;
            bool bounds_invalid_upwards_175214 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211, (int64_t) 0);
            bool zzero_lte_i_175215 = sle64((int64_t) 0, stride_175189);
            bool i_lte_j_175216 = sle64(stride_175189, next_stride_175190);
            bool empty_slice_175217 = stride_175189 == (int64_t) 0;
            int64_t m_175218 = sub64(stride_175189, (int64_t) 1);
            bool bounds_invalid_upwards_175219 = slt64(num_blocks_175210, (int64_t) 0);
            bool empty_slice_175220 = j_m_i_175212 == (int64_t) 0;
            int64_t m_175221 = sub64(j_m_i_175212, (int64_t) 1);
            bool cond_175222 = slt64((int64_t) 0, stride_175189);
            bool valid_175223 = !bounds_invalid_upwards_175214;
            bool zzero_leq_i_p_m_t_s_175224 = sle64((int64_t) 0, m_175218);
            bool i_p_m_t_s_leq_w_175225 = slt64(m_175218, next_stride_175190);
            bool valid_175226 = !bounds_invalid_upwards_175219;
            bool i_p_m_t_s_leq_w_175227 = slt64(m_175199, flat_dim_175213);
            int64_t i_p_m_t_s_175228 = add64(stride_175189, m_175221);
            bool y_175229 = slt64((int64_t) 0, j_m_i_175212);
            bool protect_assert_disj_175230 = cond_175202 || valid_175223;
            bool range_valid_c_175231;
            
            if (!protect_assert_disj_175230) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:140:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_175232 = zzero_leq_i_p_m_t_s_175224 && i_p_m_t_s_leq_w_175225;
            bool protect_assert_disj_175233 = cond_175202 || valid_175226;
            bool range_valid_c_175234;
            
            if (!protect_assert_disj_175233) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_175210, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:140:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_175235 = zzero_leq_i_p_m_t_s_175200 && i_p_m_t_s_leq_w_175227;
            bool zzero_leq_i_p_m_t_s_175236 = sle64((int64_t) 0, i_p_m_t_s_175228);
            bool i_p_m_t_s_leq_w_175237 = slt64(i_p_m_t_s_175228, next_stride_175190);
            bool forwards_ok_175238 = zzero_lte_i_175215 && y_175232;
            bool ok_or_empty_175239 = zzero_175191 || y_175235;
            bool y_175240 = zzero_lte_i_175215 && i_p_m_t_s_leq_w_175237;
            bool protect_assert_disj_175241 = cond_175222 || y_175229;
            bool ok_or_empty_175242 = empty_slice_175217 || forwards_ok_175238;
            bool protect_assert_disj_175243 = cond_175202 || ok_or_empty_175239;
            bool index_certs_175244;
            
            if (!protect_assert_disj_175243) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_175190, "] out of bounds for array of shape [", (long long) flat_dim_175213, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:140:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_175245 = zzero_leq_i_p_m_t_s_175236 && y_175240;
            bool loop_not_taken_175246 = !cond_175202;
            bool protect_assert_disj_175247 = protect_assert_disj_175241 || loop_not_taken_175246;
            bool index_certs_175248;
            
            if (!protect_assert_disj_175247) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:140:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_175249 = cond_175202 || ok_or_empty_175242;
            bool index_certs_175250;
            
            if (!protect_assert_disj_175249) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_175189, "] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:140:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_175251 = i_lte_j_175216 && y_175245;
            bool protect_assert_disj_175252 = ok_or_empty_175242 || loop_not_taken_175246;
            bool index_certs_175253;
            
            if (!protect_assert_disj_175252) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_175189, "] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_175254 = empty_slice_175220 || forwards_ok_175251;
            bool protect_assert_disj_175255 = loop_not_taken_175246 || ok_or_empty_175254;
            bool index_certs_175256;
            
            if (!protect_assert_disj_175255) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_175189, ":] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_175257 = cond_175202 || ok_or_empty_175254;
            bool index_certs_175258;
            
            if (!protect_assert_disj_175257) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_175189, ":] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:140:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_184391 = (int64_t) 2 * num_merges_175194;
            int64_t bytes_184392 = next_stride_175190 * binop_x_184391;
            int64_t binop_x_184394 = (int64_t) 8 * num_merges_175194;
            int64_t bytes_184395 = next_stride_175190 * binop_x_184394;
            bool i_lte_j_175201 = sle64((int64_t) 0, next_stride_175190);
            
            if (mem_184393_cached_sizze_186037 < bytes_184392) {
                err = lexical_realloc(ctx, &mem_184393, &mem_184393_cached_sizze_186037, bytes_184392);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184396_cached_sizze_186038 < bytes_184395) {
                err = lexical_realloc(ctx, &mem_184396, &mem_184396_cached_sizze_186038, bytes_184395);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_184405 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211;
            int64_t binop_x_184421 = (int64_t) 2 * num_blocks_175210;
            int64_t bytes_184422 = merge_block_sizze_175077 * binop_x_184421;
            int64_t binop_x_184424 = (int64_t) 8 * num_blocks_175210;
            int64_t bytes_184425 = merge_block_sizze_175077 * binop_x_184424;
            int64_t bytes_184467 = (int64_t) 4 * stride_175189;
            int64_t bytes_184469 = (int64_t) 16 * stride_175189;
            
            for (int64_t i_184000 = 0; i_184000 < num_merges_175194; i_184000++) {
                int64_t start_175262 = mul64(next_stride_175190, i_184000);
                int64_t j_m_i_175263 = sub64(loop_dz2084Uz2082U_175185, start_175262);
                bool empty_slice_175264 = j_m_i_175263 == (int64_t) 0;
                int64_t m_175265 = sub64(j_m_i_175263, (int64_t) 1);
                int64_t i_p_m_t_s_175266 = add64(start_175262, m_175265);
                bool zzero_leq_i_p_m_t_s_175267 = sle64((int64_t) 0, i_p_m_t_s_175266);
                bool i_p_m_t_s_leq_w_175268 = slt64(i_p_m_t_s_175266, loop_dz2084Uz2082U_175185);
                bool zzero_lte_i_175269 = sle64((int64_t) 0, start_175262);
                bool i_lte_j_175270 = sle64(start_175262, loop_dz2084Uz2082U_175185);
                bool y_175271 = i_p_m_t_s_leq_w_175268 && zzero_lte_i_175269;
                bool y_175272 = zzero_leq_i_p_m_t_s_175267 && y_175271;
                bool forwards_ok_175273 = i_lte_j_175270 && y_175272;
                bool ok_or_empty_175274 = empty_slice_175264 || forwards_ok_175273;
                bool index_certs_175275;
                
                if (!ok_or_empty_175274) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_175262, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_175185, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_175276 = slt64(m_175199, j_m_i_175263);
                bool y_175277 = zzero_leq_i_p_m_t_s_175200 && i_p_m_t_s_leq_w_175276;
                bool forwards_ok_175278 = i_lte_j_175201 && y_175277;
                bool ok_or_empty_175279 = zzero_175191 || forwards_ok_175278;
                bool index_certs_175280;
                
                if (!ok_or_empty_175279) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_175190, "] out of bounds for array of shape [", (long long) j_m_i_175263, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:140:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_175202) {
                    int16_t dummy_181853;
                    int64_t dummy_181854;
                    
                    if (cond_175222) {
                        int16_t head_res_181855 = ((int16_t *) mem_param_184387.mem)[start_175262];
                        int64_t head_res_181856 = ((int64_t *) mem_param_184390.mem)[start_175262];
                        
                        dummy_181853 = head_res_181855;
                        dummy_181854 = head_res_181856;
                    } else {
                        int64_t slice_181857 = stride_175189 + start_175262;
                        int16_t head_res_181858 = ((int16_t *) mem_param_184387.mem)[slice_181857];
                        int64_t head_res_181859 = ((int64_t *) mem_param_184390.mem)[slice_181857];
                        
                        dummy_181853 = head_res_181858;
                        dummy_181854 = head_res_181859;
                    }
                    if (memblock_alloc(ctx, &mem_184468, bytes_184467, "mem_184468")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185746 = 0; nest_i_185746 < next_stride_175190; nest_i_185746++) {
                        ((int16_t *) mem_184468.mem)[nest_i_185746] = dummy_181853;
                    }
                    if (memblock_alloc(ctx, &mem_184470, bytes_184469, "mem_184470")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185747 = 0; nest_i_185747 < next_stride_175190; nest_i_185747++) {
                        ((int64_t *) mem_184470.mem)[nest_i_185747] = dummy_181854;
                    }
                    
                    int64_t data_181862;
                    int64_t i_181866 = (int64_t) 0;
                    
                    for (int64_t k_181865 = 0; k_181865 < next_stride_175190; k_181865++) {
                        int64_t j_181869 = sub64(k_181865, i_181866);
                        bool cond_181870 = j_181869 == j_m_i_175212;
                        bool cond_181871;
                        
                        if (cond_181870) {
                            cond_181871 = 1;
                        } else {
                            bool cond_181872 = slt64(i_181866, stride_175189);
                            bool cond_f_res_181873;
                            
                            if (cond_181872) {
                                bool x_181874 = sle64((int64_t) 0, j_181869);
                                bool y_181875 = slt64(j_181869, j_m_i_175212);
                                bool bounds_check_181876 = x_181874 && y_181875;
                                bool index_certs_181877;
                                
                                if (!bounds_check_181876) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181869, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:140:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_181881 = sle64((int64_t) 0, i_181866);
                                bool bounds_check_181882 = cond_181872 && x_181881;
                                bool index_certs_181883;
                                
                                if (!bounds_check_181882) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_181866, "] out of bounds for array of shape [", (long long) stride_175189, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:140:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_181878 = stride_175189 + j_181869;
                                int64_t slice_181879 = start_175262 + slice_181878;
                                int16_t leq_arg1_181880 = ((int16_t *) mem_param_184387.mem)[slice_181879];
                                int64_t slice_181884 = start_175262 + i_181866;
                                int16_t leq_arg0_181885 = ((int16_t *) mem_param_184387.mem)[slice_181884];
                                bool zlze_res_181886 = sle16(leq_arg0_181885, leq_arg1_181880);
                                
                                cond_f_res_181873 = zlze_res_181886;
                            } else {
                                cond_f_res_181873 = 0;
                            }
                            cond_181871 = cond_f_res_181873;
                        }
                        
                        int64_t loopres_181887;
                        int16_t loopres_181888;
                        int64_t loopres_181889;
                        
                        if (cond_181871) {
                            bool x_181891 = sle64((int64_t) 0, i_181866);
                            bool y_181892 = slt64(i_181866, stride_175189);
                            bool bounds_check_181893 = x_181891 && y_181892;
                            bool index_certs_181894;
                            
                            if (!bounds_check_181893) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_181866, "] out of bounds for array of shape [", (long long) stride_175189, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:140:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_181890 = add64((int64_t) 1, i_181866);
                            int64_t slice_181895 = start_175262 + i_181866;
                            int16_t tmp_181896 = ((int16_t *) mem_param_184387.mem)[slice_181895];
                            int64_t tmp_181897 = ((int64_t *) mem_param_184390.mem)[slice_181895];
                            
                            loopres_181887 = tmp_181890;
                            loopres_181888 = tmp_181896;
                            loopres_181889 = tmp_181897;
                        } else {
                            bool x_181898 = sle64((int64_t) 0, j_181869);
                            bool y_181899 = slt64(j_181869, j_m_i_175212);
                            bool bounds_check_181900 = x_181898 && y_181899;
                            bool index_certs_181901;
                            
                            if (!bounds_check_181900) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181869, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:140:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_181902 = stride_175189 + j_181869;
                            int64_t slice_181903 = start_175262 + slice_181902;
                            int16_t tmp_181904 = ((int16_t *) mem_param_184387.mem)[slice_181903];
                            int64_t tmp_181905 = ((int64_t *) mem_param_184390.mem)[slice_181903];
                            
                            loopres_181887 = i_181866;
                            loopres_181888 = tmp_181904;
                            loopres_181889 = tmp_181905;
                        }
                        ((int16_t *) mem_184468.mem)[k_181865] = loopres_181888;
                        ((int64_t *) mem_184470.mem)[k_181865] = loopres_181889;
                        
                        int64_t i_tmp_185748 = loopres_181887;
                        
                        i_181866 = i_tmp_185748;
                    }
                    data_181862 = i_181866;
                    if (memblock_set(ctx, &ext_mem_184488, &mem_184468, "mem_184468") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184485, &mem_184470, "mem_184470") != 0)
                        return 1;
                } else {
                    if (mem_184406_cached_sizze_186039 < bytes_184405) {
                        err = lexical_realloc(ctx, &mem_184406, &mem_184406_cached_sizze_186039, bytes_184405);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184408_cached_sizze_186040 < bytes_184405) {
                        err = lexical_realloc(ctx, &mem_184408, &mem_184408_cached_sizze_186040, bytes_184405);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_183986 = 0; i_183986 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211; i_183986++) {
                        int64_t split_count_arg3_175342 = mul64(merge_block_sizze_175077, i_183986);
                        int64_t defunc_0_split_count_res_175343;
                        int64_t defunc_0_split_count_res_175344;
                        int64_t defunc_0_split_count_res_175345;
                        int64_t defunc_0_split_count_res_175346;
                        int64_t defunc_0_split_count_res_175347;
                        
                        if (futrts_lifted_normalizze_9100(ctx, &defunc_0_split_count_res_175343, &defunc_0_split_count_res_175344, &defunc_0_split_count_res_175345, &defunc_0_split_count_res_175346, &defunc_0_split_count_res_175347, (int64_t) 0, stride_175189, (int64_t) 0, j_m_i_175212, split_count_arg3_175342) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_175348 = slt64((int64_t) 0, defunc_0_split_count_res_175347);
                        bool defunc_0_split_count_res_175349;
                        int64_t defunc_0_split_count_res_175350;
                        int64_t defunc_0_split_count_res_175351;
                        int64_t defunc_0_split_count_res_175352;
                        int64_t defunc_0_split_count_res_175353;
                        int64_t defunc_0_split_count_res_175354;
                        bool loop_while_175355;
                        int64_t ss_175356;
                        int64_t ss_175357;
                        int64_t tt_175358;
                        int64_t tt_175359;
                        int64_t count_175360;
                        
                        loop_while_175355 = loop_cond_175348;
                        ss_175356 = defunc_0_split_count_res_175343;
                        ss_175357 = defunc_0_split_count_res_175344;
                        tt_175358 = defunc_0_split_count_res_175345;
                        tt_175359 = defunc_0_split_count_res_175346;
                        count_175360 = defunc_0_split_count_res_175347;
                        while (loop_while_175355) {
                            int64_t zlze_lhs_175361 = sub64(ss_175357, ss_175356);
                            bool cond_175362 = sle64(zlze_lhs_175361, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_175363;
                            int64_t defunc_0_lifted_step_res_175364;
                            int64_t defunc_0_lifted_step_res_175365;
                            int64_t defunc_0_lifted_step_res_175366;
                            
                            if (cond_175362) {
                                int64_t tmp_181908 = add64(tt_175358, count_175360);
                                
                                defunc_0_lifted_step_res_175363 = ss_175356;
                                defunc_0_lifted_step_res_175364 = tmp_181908;
                                defunc_0_lifted_step_res_175365 = tt_175359;
                                defunc_0_lifted_step_res_175366 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_175368 = sub64(tt_175359, tt_175358);
                                bool cond_175369 = sle64(zlze_lhs_175368, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_175370;
                                int64_t defunc_0_lifted_step_res_f_res_175371;
                                int64_t defunc_0_lifted_step_res_f_res_175372;
                                int64_t defunc_0_lifted_step_res_f_res_175373;
                                
                                if (cond_175369) {
                                    int64_t tmp_181909 = add64(ss_175356, count_175360);
                                    
                                    defunc_0_lifted_step_res_f_res_175370 = tmp_181909;
                                    defunc_0_lifted_step_res_f_res_175371 = tt_175358;
                                    defunc_0_lifted_step_res_f_res_175372 = tt_175359;
                                    defunc_0_lifted_step_res_f_res_175373 = (int64_t) 0;
                                } else {
                                    bool cond_175375 = count_175360 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_175376;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_175377;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_175378;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_175379;
                                    
                                    if (cond_175375) {
                                        bool x_181911 = sle64((int64_t) 0, ss_175356);
                                        bool y_181912 = slt64(ss_175356, stride_175189);
                                        bool bounds_check_181913 = x_181911 && y_181912;
                                        bool index_certs_181914;
                                        
                                        if (!bounds_check_181913) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_175356, "] out of bounds for array of shape [", (long long) stride_175189, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:140:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_181917 = sle64((int64_t) 0, tt_175358);
                                        bool y_181918 = slt64(tt_175358, j_m_i_175212);
                                        bool bounds_check_181919 = x_181917 && y_181918;
                                        bool index_certs_181920;
                                        
                                        if (!bounds_check_181919) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_175358, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:140:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_181915 = start_175262 + ss_175356;
                                        int16_t leq_arg1_181916 = ((int16_t *) mem_param_184387.mem)[slice_181915];
                                        int64_t slice_181921 = stride_175189 + tt_175358;
                                        int64_t slice_181922 = start_175262 + slice_181921;
                                        int16_t leq_arg0_181923 = ((int16_t *) mem_param_184387.mem)[slice_181922];
                                        bool zlze_res_181924 = sle16(leq_arg0_181923, leq_arg1_181916);
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_181925;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_181926;
                                        
                                        if (zlze_res_181924) {
                                            int64_t tmp_181927 = add64((int64_t) 1, tt_175358);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_181925 = ss_175356;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_181926 = tmp_181927;
                                        } else {
                                            int64_t tmp_181928 = add64((int64_t) 1, ss_175356);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_181925 = tmp_181928;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_181926 = tt_175358;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_175376 = defunc_0_lifted_step_res_f_res_f_res_t_res_181925;
                                        defunc_0_lifted_step_res_f_res_f_res_175377 = defunc_0_lifted_step_res_f_res_f_res_t_res_181926;
                                        defunc_0_lifted_step_res_f_res_f_res_175378 = tt_175359;
                                        defunc_0_lifted_step_res_f_res_f_res_175379 = (int64_t) 0;
                                    } else {
                                        int64_t m_175398 = sdiv64(count_175360, (int64_t) 2);
                                        int64_t n_175399 = sub64(count_175360, m_175398);
                                        bool cond_175400 = n_175399 == (int64_t) 0;
                                        int64_t zgze_lhs_175401 = add64(ss_175356, m_175398);
                                        bool cond_f_res_175402 = sle64(ss_175357, zgze_lhs_175401);
                                        bool x_175403 = !cond_175400;
                                        bool y_175404 = cond_f_res_175402 && x_175403;
                                        bool cond_175405 = cond_175400 || y_175404;
                                        bool leq_y_x_175406;
                                        
                                        if (cond_175405) {
                                            leq_y_x_175406 = 1;
                                        } else {
                                            bool x_175407 = sle64((int64_t) 0, zgze_lhs_175401);
                                            bool y_175408 = slt64(zgze_lhs_175401, stride_175189);
                                            bool bounds_check_175409 = x_175407 && y_175408;
                                            bool index_certs_175410;
                                            
                                            if (!bounds_check_175409) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_175401, "] out of bounds for array of shape [", (long long) stride_175189, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:140:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_175413 = add64(tt_175358, n_175399);
                                            int64_t leq_arg0_175414 = sub64(zm_lhs_175413, (int64_t) 1);
                                            bool x_175415 = sle64((int64_t) 0, leq_arg0_175414);
                                            bool y_175416 = slt64(leq_arg0_175414, j_m_i_175212);
                                            bool bounds_check_175417 = x_175415 && y_175416;
                                            bool index_certs_175418;
                                            
                                            if (!bounds_check_175417) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_175414, "] out of bounds for array of shape [", (long long) j_m_i_175212, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:140:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_175411 = start_175262 + zgze_lhs_175401;
                                            int16_t leq_arg1_175412 = ((int16_t *) mem_param_184387.mem)[slice_175411];
                                            int64_t slice_175419 = stride_175189 + leq_arg0_175414;
                                            int64_t slice_175420 = start_175262 + slice_175419;
                                            int16_t leq_arg0_175421 = ((int16_t *) mem_param_184387.mem)[slice_175420];
                                            bool zlze_res_175422 = sle16(leq_arg0_175421, leq_arg1_175412);
                                            
                                            leq_y_x_175406 = zlze_res_175422;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_175423;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_175424;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_175425;
                                        
                                        if (leq_y_x_175406) {
                                            int64_t tmp_181929 = add64(tt_175358, n_175399);
                                            int64_t tmp_181930 = sub64(count_175360, n_175399);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175423 = tmp_181929;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175424 = tt_175359;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175425 = tmp_181930;
                                        } else {
                                            int64_t tmp_175428 = add64(tt_175358, n_175399);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175423 = tt_175358;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175424 = tmp_175428;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_175425 = count_175360;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_175376 = ss_175356;
                                        defunc_0_lifted_step_res_f_res_f_res_175377 = defunc_0_lifted_step_res_f_res_f_res_f_res_175423;
                                        defunc_0_lifted_step_res_f_res_f_res_175378 = defunc_0_lifted_step_res_f_res_f_res_f_res_175424;
                                        defunc_0_lifted_step_res_f_res_f_res_175379 = defunc_0_lifted_step_res_f_res_f_res_f_res_175425;
                                    }
                                    defunc_0_lifted_step_res_f_res_175370 = defunc_0_lifted_step_res_f_res_f_res_175376;
                                    defunc_0_lifted_step_res_f_res_175371 = defunc_0_lifted_step_res_f_res_f_res_175377;
                                    defunc_0_lifted_step_res_f_res_175372 = defunc_0_lifted_step_res_f_res_f_res_175378;
                                    defunc_0_lifted_step_res_f_res_175373 = defunc_0_lifted_step_res_f_res_f_res_175379;
                                }
                                defunc_0_lifted_step_res_175363 = defunc_0_lifted_step_res_f_res_175370;
                                defunc_0_lifted_step_res_175364 = defunc_0_lifted_step_res_f_res_175371;
                                defunc_0_lifted_step_res_175365 = defunc_0_lifted_step_res_f_res_175372;
                                defunc_0_lifted_step_res_175366 = defunc_0_lifted_step_res_f_res_175373;
                            }
                            
                            int64_t loopres_175429;
                            int64_t loopres_175430;
                            int64_t loopres_175431;
                            int64_t loopres_175432;
                            int64_t loopres_175433;
                            
                            if (futrts_lifted_normalizze_9100(ctx, &loopres_175429, &loopres_175430, &loopres_175431, &loopres_175432, &loopres_175433, defunc_0_lifted_step_res_175363, ss_175357, defunc_0_lifted_step_res_175364, defunc_0_lifted_step_res_175365, defunc_0_lifted_step_res_175366) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_175434 = slt64((int64_t) 0, loopres_175433);
                            bool loop_while_tmp_185753 = loop_cond_175434;
                            int64_t ss_tmp_185754 = loopres_175429;
                            int64_t ss_tmp_185755 = loopres_175430;
                            int64_t tt_tmp_185756 = loopres_175431;
                            int64_t tt_tmp_185757 = loopres_175432;
                            int64_t count_tmp_185758 = loopres_175433;
                            
                            loop_while_175355 = loop_while_tmp_185753;
                            ss_175356 = ss_tmp_185754;
                            ss_175357 = ss_tmp_185755;
                            tt_175358 = tt_tmp_185756;
                            tt_175359 = tt_tmp_185757;
                            count_175360 = count_tmp_185758;
                        }
                        defunc_0_split_count_res_175349 = loop_while_175355;
                        defunc_0_split_count_res_175350 = ss_175356;
                        defunc_0_split_count_res_175351 = ss_175357;
                        defunc_0_split_count_res_175352 = tt_175358;
                        defunc_0_split_count_res_175353 = tt_175359;
                        defunc_0_split_count_res_175354 = count_175360;
                        ((int64_t *) mem_184406)[i_183986] = defunc_0_split_count_res_175350;
                        ((int64_t *) mem_184408)[i_183986] = defunc_0_split_count_res_175352;
                    }
                    if (mem_184423_cached_sizze_186041 < bytes_184422) {
                        err = lexical_realloc(ctx, &mem_184423, &mem_184423_cached_sizze_186041, bytes_184422);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184426_cached_sizze_186042 < bytes_184425) {
                        err = lexical_realloc(ctx, &mem_184426, &mem_184426_cached_sizze_186042, bytes_184425);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_183993 = 0; i_183993 < num_blocks_175210; i_183993++) {
                        bool y_175440 = slt64(i_183993, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211);
                        bool index_certs_175442;
                        
                        if (!y_175440) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183993, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:140:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_175443 = ((int64_t *) mem_184406)[i_183993];
                        int64_t defunc_0_f_res_175444 = ((int64_t *) mem_184408)[i_183993];
                        int64_t tmp_175445 = add64((int64_t) 1, i_183993);
                        bool x_175446 = sle64((int64_t) 0, tmp_175445);
                        bool y_175447 = slt64(tmp_175445, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211);
                        bool bounds_check_175448 = x_175446 && y_175447;
                        bool index_certs_175449;
                        
                        if (!bounds_check_175448) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_175445, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_175211, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:140:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_175450 = ((int64_t *) mem_184406)[tmp_175445];
                        int64_t defunc_0_f_res_175451 = ((int64_t *) mem_184408)[tmp_175445];
                        int64_t merge_sequential_arg2_175452 = add64(stride_175189, defunc_0_f_res_175444);
                        int64_t merge_sequential_arg2_175453 = add64(stride_175189, defunc_0_f_res_175451);
                        int64_t j_m_i_175454 = sub64(merge_sequential_arg2_175453, merge_sequential_arg2_175452);
                        bool empty_slice_175455 = j_m_i_175454 == (int64_t) 0;
                        int64_t m_175456 = sub64(j_m_i_175454, (int64_t) 1);
                        int64_t i_p_m_t_s_175457 = add64(merge_sequential_arg2_175452, m_175456);
                        bool zzero_leq_i_p_m_t_s_175458 = sle64((int64_t) 0, i_p_m_t_s_175457);
                        bool i_p_m_t_s_leq_w_175459 = slt64(i_p_m_t_s_175457, next_stride_175190);
                        bool zzero_lte_i_175460 = sle64((int64_t) 0, merge_sequential_arg2_175452);
                        bool i_lte_j_175461 = sle64(merge_sequential_arg2_175452, merge_sequential_arg2_175453);
                        bool y_175462 = i_p_m_t_s_leq_w_175459 && zzero_lte_i_175460;
                        bool y_175463 = zzero_leq_i_p_m_t_s_175458 && y_175462;
                        bool forwards_ok_175464 = i_lte_j_175461 && y_175463;
                        bool ok_or_empty_175465 = empty_slice_175455 || forwards_ok_175464;
                        bool index_certs_175466;
                        
                        if (!ok_or_empty_175465) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_175452, ":", (long long) merge_sequential_arg2_175453, "] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:140:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_175467 = sub64(defunc_0_f_res_175450, defunc_0_f_res_175443);
                        bool empty_slice_175468 = j_m_i_175467 == (int64_t) 0;
                        int64_t m_175469 = sub64(j_m_i_175467, (int64_t) 1);
                        int64_t i_p_m_t_s_175470 = add64(defunc_0_f_res_175443, m_175469);
                        bool zzero_leq_i_p_m_t_s_175471 = sle64((int64_t) 0, i_p_m_t_s_175470);
                        bool i_p_m_t_s_leq_w_175472 = slt64(i_p_m_t_s_175470, next_stride_175190);
                        bool zzero_lte_i_175473 = sle64((int64_t) 0, defunc_0_f_res_175443);
                        bool i_lte_j_175474 = sle64(defunc_0_f_res_175443, defunc_0_f_res_175450);
                        bool y_175475 = i_p_m_t_s_leq_w_175472 && zzero_lte_i_175473;
                        bool y_175476 = zzero_leq_i_p_m_t_s_175471 && y_175475;
                        bool forwards_ok_175477 = i_lte_j_175474 && y_175476;
                        bool ok_or_empty_175478 = empty_slice_175468 || forwards_ok_175477;
                        bool index_certs_175479;
                        
                        if (!ok_or_empty_175478) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_175443, ":", (long long) defunc_0_f_res_175450, "] out of bounds for array of shape [", (long long) next_stride_175190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:140:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_175480 = slt64((int64_t) 0, j_m_i_175467);
                        int16_t dummy_175481;
                        int64_t dummy_175482;
                        
                        if (cond_175480) {
                            bool index_certs_181931;
                            
                            if (!cond_175480) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_175467, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:140:54-57\n   #12 ftsort.fut:32:3-27\n   #13 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_181932 = start_175262 + defunc_0_f_res_175443;
                            int16_t head_res_181933 = ((int16_t *) mem_param_184387.mem)[slice_181932];
                            int64_t head_res_181934 = ((int64_t *) mem_param_184390.mem)[slice_181932];
                            
                            dummy_175481 = head_res_181933;
                            dummy_175482 = head_res_181934;
                        } else {
                            bool y_175487 = slt64((int64_t) 0, j_m_i_175454);
                            bool index_certs_175488;
                            
                            if (!y_175487) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_175454, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:140:54-57\n   #12 ftsort.fut:32:3-27\n   #13 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_175489 = start_175262 + merge_sequential_arg2_175452;
                            int16_t head_res_175490 = ((int16_t *) mem_param_184387.mem)[slice_175489];
                            int64_t head_res_175491 = ((int64_t *) mem_param_184390.mem)[slice_175489];
                            
                            dummy_175481 = head_res_175490;
                            dummy_175482 = head_res_175491;
                        }
                        for (int64_t nest_i_185761 = 0; nest_i_185761 < merge_block_sizze_175077; nest_i_185761++) {
                            ((int16_t *) mem_184423)[i_183993 * merge_block_sizze_175077 + nest_i_185761] = dummy_175481;
                        }
                        for (int64_t nest_i_185762 = 0; nest_i_185762 < merge_block_sizze_175077; nest_i_185762++) {
                            ((int64_t *) mem_184426)[i_183993 * merge_block_sizze_175077 + nest_i_185762] = dummy_175482;
                        }
                        
                        int64_t data_175494;
                        int64_t i_175498 = (int64_t) 0;
                        
                        for (int64_t k_175497 = 0; k_175497 < merge_block_sizze_175077; k_175497++) {
                            int64_t j_175501 = sub64(k_175497, i_175498);
                            bool cond_175502 = j_175501 == j_m_i_175454;
                            bool cond_175503;
                            
                            if (cond_175502) {
                                cond_175503 = 1;
                            } else {
                                bool cond_175504 = slt64(i_175498, j_m_i_175467);
                                bool cond_f_res_175505;
                                
                                if (cond_175504) {
                                    bool x_181935 = sle64((int64_t) 0, j_175501);
                                    bool y_181936 = slt64(j_175501, j_m_i_175454);
                                    bool bounds_check_181937 = x_181935 && y_181936;
                                    bool index_certs_181938;
                                    
                                    if (!bounds_check_181937) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_175501, "] out of bounds for array of shape [", (long long) j_m_i_175454, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:140:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_181942 = sle64((int64_t) 0, i_175498);
                                    bool bounds_check_181943 = cond_175504 && x_181942;
                                    bool index_certs_181944;
                                    
                                    if (!bounds_check_181943) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_175498, "] out of bounds for array of shape [", (long long) j_m_i_175467, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:140:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_181939 = merge_sequential_arg2_175452 + j_175501;
                                    int64_t slice_181940 = start_175262 + slice_181939;
                                    int16_t leq_arg1_181941 = ((int16_t *) mem_param_184387.mem)[slice_181940];
                                    int64_t slice_181945 = defunc_0_f_res_175443 + i_175498;
                                    int64_t slice_181946 = start_175262 + slice_181945;
                                    int16_t leq_arg0_181947 = ((int16_t *) mem_param_184387.mem)[slice_181946];
                                    bool zlze_res_181948 = sle16(leq_arg0_181947, leq_arg1_181941);
                                    
                                    cond_f_res_175505 = zlze_res_181948;
                                } else {
                                    cond_f_res_175505 = 0;
                                }
                                cond_175503 = cond_f_res_175505;
                            }
                            
                            int64_t loopres_175520;
                            int16_t loopres_175521;
                            int64_t loopres_175522;
                            
                            if (cond_175503) {
                                bool x_181950 = sle64((int64_t) 0, i_175498);
                                bool y_181951 = slt64(i_175498, j_m_i_175467);
                                bool bounds_check_181952 = x_181950 && y_181951;
                                bool index_certs_181953;
                                
                                if (!bounds_check_181952) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_175498, "] out of bounds for array of shape [", (long long) j_m_i_175467, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:140:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_181949 = add64((int64_t) 1, i_175498);
                                int64_t slice_181954 = defunc_0_f_res_175443 + i_175498;
                                int64_t slice_181955 = start_175262 + slice_181954;
                                int16_t tmp_181956 = ((int16_t *) mem_param_184387.mem)[slice_181955];
                                int64_t tmp_181957 = ((int64_t *) mem_param_184390.mem)[slice_181955];
                                
                                loopres_175520 = tmp_181949;
                                loopres_175521 = tmp_181956;
                                loopres_175522 = tmp_181957;
                            } else {
                                bool x_175532 = sle64((int64_t) 0, j_175501);
                                bool y_175533 = slt64(j_175501, j_m_i_175454);
                                bool bounds_check_175534 = x_175532 && y_175533;
                                bool index_certs_175535;
                                
                                if (!bounds_check_175534) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_175501, "] out of bounds for array of shape [", (long long) j_m_i_175454, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:140:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_175536 = merge_sequential_arg2_175452 + j_175501;
                                int64_t slice_175537 = start_175262 + slice_175536;
                                int16_t tmp_175538 = ((int16_t *) mem_param_184387.mem)[slice_175537];
                                int64_t tmp_175539 = ((int64_t *) mem_param_184390.mem)[slice_175537];
                                
                                loopres_175520 = i_175498;
                                loopres_175521 = tmp_175538;
                                loopres_175522 = tmp_175539;
                            }
                            ((int16_t *) mem_184423)[i_183993 * merge_block_sizze_175077 + k_175497] = loopres_175521;
                            ((int64_t *) mem_184426)[i_183993 * merge_block_sizze_175077 + k_175497] = loopres_175522;
                            
                            int64_t i_tmp_185763 = loopres_175520;
                            
                            i_175498 = i_tmp_185763;
                        }
                        data_175494 = i_175498;
                    }
                    if (memblock_alloc(ctx, &mem_184461, bytes_184422, "mem_184461")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_184461.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175077, (int64_t) 1}, (uint16_t *) mem_184423, (int64_t) 0, (int64_t []) {merge_block_sizze_175077, (int64_t) 1}, (int64_t []) {num_blocks_175210, merge_block_sizze_175077});
                    if (memblock_alloc(ctx, &mem_184465, bytes_184425, "mem_184465")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_184465.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175077, (int64_t) 1}, (uint64_t *) mem_184426, (int64_t) 0, (int64_t []) {merge_block_sizze_175077, (int64_t) 1}, (int64_t []) {num_blocks_175210, merge_block_sizze_175077});
                    if (memblock_set(ctx, &ext_mem_184488, &mem_184461, "mem_184461") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184485, &mem_184465, "mem_184465") != 0)
                        return 1;
                }
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_184393, i_184000 * next_stride_175190, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_184488.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_175190});
                if (memblock_unref(ctx, &ext_mem_184488, "ext_mem_184488") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184396, i_184000 * next_stride_175190, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184485.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_175190});
                if (memblock_unref(ctx, &ext_mem_184485, "ext_mem_184485") != 0)
                    return 1;
            }
            
            int64_t flat_dim_175546 = next_stride_175190 * num_merges_175194;
            
            if (memblock_alloc(ctx, &mem_184499, bytes_184392, "mem_184499")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_2b(ctx, 2, (uint16_t *) mem_184499.mem, (int64_t) 0, (int64_t []) {next_stride_175190, (int64_t) 1}, (uint16_t *) mem_184393, (int64_t) 0, (int64_t []) {next_stride_175190, (int64_t) 1}, (int64_t []) {num_merges_175194, next_stride_175190});
            if (memblock_alloc(ctx, &mem_184503, bytes_184395, "mem_184503")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_184503.mem, (int64_t) 0, (int64_t []) {next_stride_175190, (int64_t) 1}, (uint64_t *) mem_184396, (int64_t) 0, (int64_t []) {next_stride_175190, (int64_t) 1}, (int64_t []) {num_merges_175194, next_stride_175190});
            
            bool loop_cond_175549 = slt64(next_stride_175190, flat_dim_175074);
            
            if (memblock_set(ctx, &mem_param_tmp_185737, &mem_184499, "mem_184499") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_185738, &mem_184503, "mem_184503") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_185739 = flat_dim_175546;
            bool loop_while_tmp_185740 = loop_cond_175549;
            int64_t stride_tmp_185743 = next_stride_175190;
            
            if (memblock_set(ctx, &mem_param_184387, &mem_param_tmp_185737, "mem_param_tmp_185737") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_184390, &mem_param_tmp_185738, "mem_param_tmp_185738") != 0)
                return 1;
            loop_dz2084Uz2082U_175185 = loop_dz2084Uz2082U_tmp_185739;
            loop_while_175186 = loop_while_tmp_185740;
            stride_175189 = stride_tmp_185743;
        }
        if (memblock_set(ctx, &ext_mem_184510, &mem_param_184387, "mem_param_184387") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_184509, &mem_param_184390, "mem_param_184390") != 0)
            return 1;
        data_175180 = loop_dz2084Uz2082U_175185;
        data_175181 = loop_while_175186;
        data_175184 = stride_175189;
        if (memblock_unref(ctx, &mem_184379, "mem_184379") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184383, "mem_184383") != 0)
            return 1;
        
        bool empty_slice_175550 = n_100412 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_175551 = sle64((int64_t) 0, zs_lhs_175058);
        bool i_p_m_t_s_leq_w_175552 = slt64(zs_lhs_175058, data_175180);
        bool y_175553 = zzero_leq_i_p_m_t_s_175551 && i_p_m_t_s_leq_w_175552;
        bool ok_or_empty_175554 = empty_slice_175550 || y_175553;
        bool index_certs_175555;
        
        if (!ok_or_empty_175554) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_100412, "] out of bounds for array of shape [", (long long) data_175180, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:140:54-57\n   #5  ftsort.fut:32:3-27\n   #6  ftsort.fut:31:1-32:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_184513, &ext_mem_184509, "ext_mem_184509") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_184515, bytes_184307, "mem_184515")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184517, bytes_184516, "mem_184517")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_184007 = 0; i_184007 < n_100412; i_184007++) {
        int64_t eta_p_175559 = ((int64_t *) ext_mem_184513.mem)[i_184007];
        bool x_175560 = sle64((int64_t) 0, eta_p_175559);
        bool y_175561 = slt64(eta_p_175559, n_100412);
        bool bounds_check_175562 = x_175560 && y_175561;
        bool index_certs_175563;
        
        if (!bounds_check_175562) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_175559, "] out of bounds for array of shape [", (long long) n_100412, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:140:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_175564 = ((int64_t *) ext_mem_184306.mem)[eta_p_175559];
        int16_t lifted_lambda_res_175565 = ((int16_t *) xs_mem_184305.mem)[eta_p_175559];
        
        ((int64_t *) mem_184515.mem)[i_184007] = lifted_lambda_res_175564;
        ((int16_t *) mem_184517.mem)[i_184007] = lifted_lambda_res_175565;
    }
    if (memblock_unref(ctx, &ext_mem_184306, "ext_mem_184306") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_184513, "ext_mem_184513") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185719, &mem_184515, "mem_184515") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185720, &mem_184517, "mem_184517") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186031, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186032, &mem_out_185720, "mem_out_185720") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_184311);
        free(mem_184314);
        free(mem_184324);
        free(mem_184326);
        free(mem_184393);
        free(mem_184396);
        free(mem_184406);
        free(mem_184408);
        free(mem_184423);
        free(mem_184426);
        if (memblock_unref(ctx, &mem_184517, "mem_184517") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184515, "mem_184515") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185738, "mem_param_tmp_185738") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185737, "mem_param_tmp_185737") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184503, "mem_184503") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184499, "mem_184499") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184465, "mem_184465") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184461, "mem_184461") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184470, "mem_184470") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184468, "mem_184468") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184485, "ext_mem_184485") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184488, "ext_mem_184488") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184390, "mem_param_184390") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184387, "mem_param_184387") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184509, "ext_mem_184509") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184510, "ext_mem_184510") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184383, "mem_184383") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184379, "mem_184379") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184513, "ext_mem_184513") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184306, "ext_mem_184306") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185720, "mem_out_185720") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_double(struct futhark_context *ctx, struct memblock *mem_out_p_186043, struct memblock *mem_out_p_186044, struct memblock *mem_out_p_186045, int64_t *out_prim_out_186046, struct memblock a_list_mem_184305, struct memblock b_list_mem_184306, int64_t na_164063, int64_t nb_164064, int64_t window_sizze_164065, int64_t threads_164066, bool inParallel_164069)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_184322_cached_sizze_186047 = 0;
    unsigned char *mem_184322 = NULL;
    int64_t mem_184324_cached_sizze_186048 = 0;
    unsigned char *mem_184324 = NULL;
    int64_t mem_184363_cached_sizze_186049 = 0;
    unsigned char *mem_184363 = NULL;
    int64_t mem_184366_cached_sizze_186050 = 0;
    unsigned char *mem_184366 = NULL;
    int64_t mem_184369_cached_sizze_186051 = 0;
    unsigned char *mem_184369 = NULL;
    int64_t mem_184382_cached_sizze_186052 = 0;
    unsigned char *mem_184382 = NULL;
    int64_t mem_184384_cached_sizze_186053 = 0;
    unsigned char *mem_184384 = NULL;
    int64_t mem_184386_cached_sizze_186054 = 0;
    unsigned char *mem_184386 = NULL;
    int64_t mem_184483_cached_sizze_186055 = 0;
    unsigned char *mem_184483 = NULL;
    int64_t mem_184486_cached_sizze_186056 = 0;
    unsigned char *mem_184486 = NULL;
    int64_t mem_184489_cached_sizze_186057 = 0;
    unsigned char *mem_184489 = NULL;
    int64_t mem_184503_cached_sizze_186058 = 0;
    unsigned char *mem_184503 = NULL;
    int64_t mem_184505_cached_sizze_186059 = 0;
    unsigned char *mem_184505 = NULL;
    int64_t mem_184519_cached_sizze_186060 = 0;
    unsigned char *mem_184519 = NULL;
    int64_t mem_184522_cached_sizze_186061 = 0;
    unsigned char *mem_184522 = NULL;
    int64_t mem_184525_cached_sizze_186062 = 0;
    unsigned char *mem_184525 = NULL;
    int64_t mem_184667_cached_sizze_186063 = 0;
    unsigned char *mem_184667 = NULL;
    int64_t mem_184669_cached_sizze_186064 = 0;
    unsigned char *mem_184669 = NULL;
    int64_t mem_184684_cached_sizze_186065 = 0;
    unsigned char *mem_184684 = NULL;
    int64_t mem_184686_cached_sizze_186066 = 0;
    unsigned char *mem_184686 = NULL;
    int64_t mem_184689_cached_sizze_186067 = 0;
    unsigned char *mem_184689 = NULL;
    int64_t mem_184692_cached_sizze_186068 = 0;
    unsigned char *mem_184692 = NULL;
    int64_t mem_184726_cached_sizze_186069 = 0;
    unsigned char *mem_184726 = NULL;
    int64_t mem_184729_cached_sizze_186070 = 0;
    unsigned char *mem_184729 = NULL;
    int64_t mem_184732_cached_sizze_186071 = 0;
    unsigned char *mem_184732 = NULL;
    int64_t mem_184745_cached_sizze_186072 = 0;
    unsigned char *mem_184745 = NULL;
    int64_t mem_184747_cached_sizze_186073 = 0;
    unsigned char *mem_184747 = NULL;
    int64_t mem_184749_cached_sizze_186074 = 0;
    unsigned char *mem_184749 = NULL;
    int64_t mem_184846_cached_sizze_186075 = 0;
    unsigned char *mem_184846 = NULL;
    int64_t mem_184849_cached_sizze_186076 = 0;
    unsigned char *mem_184849 = NULL;
    int64_t mem_184852_cached_sizze_186077 = 0;
    unsigned char *mem_184852 = NULL;
    int64_t mem_184866_cached_sizze_186078 = 0;
    unsigned char *mem_184866 = NULL;
    int64_t mem_184868_cached_sizze_186079 = 0;
    unsigned char *mem_184868 = NULL;
    int64_t mem_184882_cached_sizze_186080 = 0;
    unsigned char *mem_184882 = NULL;
    int64_t mem_184885_cached_sizze_186081 = 0;
    unsigned char *mem_184885 = NULL;
    int64_t mem_184888_cached_sizze_186082 = 0;
    unsigned char *mem_184888 = NULL;
    int64_t mem_185105_cached_sizze_186083 = 0;
    unsigned char *mem_185105 = NULL;
    int64_t mem_185108_cached_sizze_186084 = 0;
    unsigned char *mem_185108 = NULL;
    int64_t mem_185111_cached_sizze_186085 = 0;
    unsigned char *mem_185111 = NULL;
    int64_t mem_185124_cached_sizze_186086 = 0;
    unsigned char *mem_185124 = NULL;
    int64_t mem_185126_cached_sizze_186087 = 0;
    unsigned char *mem_185126 = NULL;
    int64_t mem_185128_cached_sizze_186088 = 0;
    unsigned char *mem_185128 = NULL;
    int64_t mem_185225_cached_sizze_186089 = 0;
    unsigned char *mem_185225 = NULL;
    int64_t mem_185228_cached_sizze_186090 = 0;
    unsigned char *mem_185228 = NULL;
    int64_t mem_185231_cached_sizze_186091 = 0;
    unsigned char *mem_185231 = NULL;
    int64_t mem_185245_cached_sizze_186092 = 0;
    unsigned char *mem_185245 = NULL;
    int64_t mem_185247_cached_sizze_186093 = 0;
    unsigned char *mem_185247 = NULL;
    int64_t mem_185261_cached_sizze_186094 = 0;
    unsigned char *mem_185261 = NULL;
    int64_t mem_185264_cached_sizze_186095 = 0;
    unsigned char *mem_185264 = NULL;
    int64_t mem_185267_cached_sizze_186096 = 0;
    unsigned char *mem_185267 = NULL;
    struct memblock mem_param_tmp_185943;
    
    mem_param_tmp_185943.references = NULL;
    
    struct memblock mem_param_tmp_185942;
    
    mem_param_tmp_185942.references = NULL;
    
    struct memblock mem_param_tmp_185941;
    
    mem_param_tmp_185941.references = NULL;
    
    struct memblock mem_185379;
    
    mem_185379.references = NULL;
    
    struct memblock mem_185375;
    
    mem_185375.references = NULL;
    
    struct memblock mem_185371;
    
    mem_185371.references = NULL;
    
    struct memblock mem_185324;
    
    mem_185324.references = NULL;
    
    struct memblock mem_185320;
    
    mem_185320.references = NULL;
    
    struct memblock mem_185316;
    
    mem_185316.references = NULL;
    
    struct memblock mem_185330;
    
    mem_185330.references = NULL;
    
    struct memblock mem_185328;
    
    mem_185328.references = NULL;
    
    struct memblock mem_185326;
    
    mem_185326.references = NULL;
    
    struct memblock ext_mem_185351;
    
    ext_mem_185351.references = NULL;
    
    struct memblock ext_mem_185354;
    
    ext_mem_185354.references = NULL;
    
    struct memblock ext_mem_185357;
    
    ext_mem_185357.references = NULL;
    
    struct memblock mem_param_185223;
    
    mem_param_185223.references = NULL;
    
    struct memblock mem_param_185220;
    
    mem_param_185220.references = NULL;
    
    struct memblock mem_param_185217;
    
    mem_param_185217.references = NULL;
    
    struct memblock ext_mem_185387;
    
    ext_mem_185387.references = NULL;
    
    struct memblock ext_mem_185388;
    
    ext_mem_185388.references = NULL;
    
    struct memblock ext_mem_185389;
    
    ext_mem_185389.references = NULL;
    
    struct memblock mem_185213;
    
    mem_185213.references = NULL;
    
    struct memblock mem_185209;
    
    mem_185209.references = NULL;
    
    struct memblock mem_185205;
    
    mem_185205.references = NULL;
    
    struct memblock ext_mem_185392;
    
    ext_mem_185392.references = NULL;
    
    struct memblock ext_mem_185395;
    
    ext_mem_185395.references = NULL;
    
    struct memblock ext_mem_185398;
    
    ext_mem_185398.references = NULL;
    
    struct memblock mem_185103;
    
    mem_185103.references = NULL;
    
    struct memblock mem_185101;
    
    mem_185101.references = NULL;
    
    struct memblock mem_185099;
    
    mem_185099.references = NULL;
    
    struct memblock mem_param_tmp_185877;
    
    mem_param_tmp_185877.references = NULL;
    
    struct memblock mem_param_tmp_185876;
    
    mem_param_tmp_185876.references = NULL;
    
    struct memblock mem_param_tmp_185875;
    
    mem_param_tmp_185875.references = NULL;
    
    struct memblock mem_184637;
    
    mem_184637.references = NULL;
    
    struct memblock mem_184633;
    
    mem_184633.references = NULL;
    
    struct memblock mem_184629;
    
    mem_184629.references = NULL;
    
    struct memblock mem_184582;
    
    mem_184582.references = NULL;
    
    struct memblock mem_184578;
    
    mem_184578.references = NULL;
    
    struct memblock mem_184574;
    
    mem_184574.references = NULL;
    
    struct memblock mem_184588;
    
    mem_184588.references = NULL;
    
    struct memblock mem_184586;
    
    mem_184586.references = NULL;
    
    struct memblock mem_184584;
    
    mem_184584.references = NULL;
    
    struct memblock ext_mem_184609;
    
    ext_mem_184609.references = NULL;
    
    struct memblock ext_mem_184612;
    
    ext_mem_184612.references = NULL;
    
    struct memblock ext_mem_184615;
    
    ext_mem_184615.references = NULL;
    
    struct memblock mem_param_184481;
    
    mem_param_184481.references = NULL;
    
    struct memblock mem_param_184478;
    
    mem_param_184478.references = NULL;
    
    struct memblock mem_param_184475;
    
    mem_param_184475.references = NULL;
    
    struct memblock ext_mem_184645;
    
    ext_mem_184645.references = NULL;
    
    struct memblock ext_mem_184646;
    
    ext_mem_184646.references = NULL;
    
    struct memblock ext_mem_184647;
    
    ext_mem_184647.references = NULL;
    
    struct memblock mem_184471;
    
    mem_184471.references = NULL;
    
    struct memblock mem_184467;
    
    mem_184467.references = NULL;
    
    struct memblock mem_184463;
    
    mem_184463.references = NULL;
    
    struct memblock ext_mem_184650;
    
    ext_mem_184650.references = NULL;
    
    struct memblock ext_mem_184653;
    
    ext_mem_184653.references = NULL;
    
    struct memblock ext_mem_184656;
    
    ext_mem_184656.references = NULL;
    
    struct memblock mem_184361;
    
    mem_184361.references = NULL;
    
    struct memblock mem_184359;
    
    mem_184359.references = NULL;
    
    struct memblock mem_184357;
    
    mem_184357.references = NULL;
    
    struct memblock mem_184341;
    
    mem_184341.references = NULL;
    
    struct memblock mem_184339;
    
    mem_184339.references = NULL;
    
    struct memblock mem_184337;
    
    mem_184337.references = NULL;
    
    struct memblock mem_185048;
    
    mem_185048.references = NULL;
    
    struct memblock mem_185047;
    
    mem_185047.references = NULL;
    
    struct memblock mem_185045;
    
    mem_185045.references = NULL;
    
    struct memblock mem_param_tmp_185783;
    
    mem_param_tmp_185783.references = NULL;
    
    struct memblock mem_param_tmp_185782;
    
    mem_param_tmp_185782.references = NULL;
    
    struct memblock mem_param_tmp_185781;
    
    mem_param_tmp_185781.references = NULL;
    
    struct memblock mem_185000;
    
    mem_185000.references = NULL;
    
    struct memblock mem_184996;
    
    mem_184996.references = NULL;
    
    struct memblock mem_184992;
    
    mem_184992.references = NULL;
    
    struct memblock mem_184945;
    
    mem_184945.references = NULL;
    
    struct memblock mem_184941;
    
    mem_184941.references = NULL;
    
    struct memblock mem_184937;
    
    mem_184937.references = NULL;
    
    struct memblock mem_184951;
    
    mem_184951.references = NULL;
    
    struct memblock mem_184949;
    
    mem_184949.references = NULL;
    
    struct memblock mem_184947;
    
    mem_184947.references = NULL;
    
    struct memblock ext_mem_184972;
    
    ext_mem_184972.references = NULL;
    
    struct memblock ext_mem_184975;
    
    ext_mem_184975.references = NULL;
    
    struct memblock ext_mem_184978;
    
    ext_mem_184978.references = NULL;
    
    struct memblock mem_param_184844;
    
    mem_param_184844.references = NULL;
    
    struct memblock mem_param_184841;
    
    mem_param_184841.references = NULL;
    
    struct memblock mem_param_184838;
    
    mem_param_184838.references = NULL;
    
    struct memblock ext_mem_185008;
    
    ext_mem_185008.references = NULL;
    
    struct memblock ext_mem_185009;
    
    ext_mem_185009.references = NULL;
    
    struct memblock ext_mem_185010;
    
    ext_mem_185010.references = NULL;
    
    struct memblock mem_184834;
    
    mem_184834.references = NULL;
    
    struct memblock mem_184830;
    
    mem_184830.references = NULL;
    
    struct memblock mem_184826;
    
    mem_184826.references = NULL;
    
    struct memblock ext_mem_185013;
    
    ext_mem_185013.references = NULL;
    
    struct memblock ext_mem_185016;
    
    ext_mem_185016.references = NULL;
    
    struct memblock ext_mem_185019;
    
    ext_mem_185019.references = NULL;
    
    struct memblock mem_184724;
    
    mem_184724.references = NULL;
    
    struct memblock mem_184722;
    
    mem_184722.references = NULL;
    
    struct memblock mem_184720;
    
    mem_184720.references = NULL;
    
    struct memblock ext_mem_185069;
    
    ext_mem_185069.references = NULL;
    
    struct memblock ext_mem_185072;
    
    ext_mem_185072.references = NULL;
    
    struct memblock ext_mem_185075;
    
    ext_mem_185075.references = NULL;
    
    struct memblock mem_184311;
    
    mem_184311.references = NULL;
    
    struct memblock mem_184309;
    
    mem_184309.references = NULL;
    
    struct memblock mem_184307;
    
    mem_184307.references = NULL;
    
    struct memblock mem_out_185721;
    
    mem_out_185721.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t prim_out_185722;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803 = add64(na_164063, nb_164064);
    
    if (memblock_alloc(ctx, &mem_184307, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, "mem_184307")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_185723 = 0; nest_i_185723 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803; nest_i_185723++) {
        ((int8_t *) mem_184307.mem)[nest_i_185723] = (int8_t) -1;
    }
    
    int64_t bytes_184308 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803;
    
    if (memblock_alloc(ctx, &mem_184309, bytes_184308, "mem_184309")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_185724 = 0; nest_i_185724 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803; nest_i_185724++) {
        ((int64_t *) mem_184309.mem)[nest_i_185724] = (int64_t) -1;
    }
    if (memblock_alloc(ctx, &mem_184311, bytes_184308, "mem_184311")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_185725 = 0; nest_i_185725 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803; nest_i_185725++) {
        ((double *) mem_184311.mem)[nest_i_185725] = 0.0;
    }
    
    int64_t zl_rhs_178807 = sub64(na_164063, window_sizze_164065);
    bool cond_178808 = slt64((int64_t) 0, zl_rhs_178807);
    int64_t zl_rhs_178809 = sub64(nb_164064, window_sizze_164065);
    bool loop_cond_t_res_178810 = slt64((int64_t) 0, zl_rhs_178809);
    bool x_178811 = cond_178808 && loop_cond_t_res_178810;
    bool empty_slice_178812 = window_sizze_164065 == (int64_t) 0;
    int64_t m_178813 = sub64(window_sizze_164065, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838 = add64((int64_t) 1, threads_164066);
    int64_t partitionFunc_arg0_179839 = mul64((int64_t) 2, threads_164066);
    bool y_179841 = slt64((int64_t) 0, window_sizze_164065);
    bool loop_cond_180078 = slt64((int64_t) 0, threads_164066);
    bool zzero_178858 = threads_164066 == (int64_t) 0;
    bool nonzzero_178859 = !zzero_178858;
    bool loop_not_taken_181607 = !inParallel_164069;
    bool protect_assert_disj_181608 = nonzzero_178859 || loop_not_taken_181607;
    bool loop_not_taken_181697 = !x_178811;
    bool protect_assert_disj_181698 = protect_assert_disj_181608 || loop_not_taken_181697;
    bool nonzzero_cert_178860;
    
    if (!protect_assert_disj_181698) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:251:24-32\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_178861 = sdiv_safe64(window_sizze_164065, threads_164066);
    int64_t perThread_178862 = add64((int64_t) 1, zp_rhs_178861);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_178863 = mul64(threads_164066, perThread_178862);
    bool protect_assert_disj_181744 = inParallel_164069 || y_179841;
    bool protect_assert_disj_181748 = loop_not_taken_181697 || protect_assert_disj_181744;
    bool index_certs_179842;
    
    if (!protect_assert_disj_181748) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:143:20-25\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_179855 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, (int64_t) 1);
    bool y_180805 = slt64(threads_164066, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
    bool protect_assert_disj_181713 = y_179841 || loop_not_taken_181607;
    bool protect_assert_disj_181752 = loop_not_taken_181697 || protect_assert_disj_181713;
    bool index_certs_178866;
    
    if (!protect_assert_disj_181752) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:143:20-25\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_179857 = !bounds_invalid_upwards_179855;
    bool protect_assert_disj_181760 = inParallel_164069 || y_180805;
    bool protect_assert_disj_181762 = loop_not_taken_181697 || protect_assert_disj_181760;
    bool index_certs_180807;
    
    if (!protect_assert_disj_181762) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_164066, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:241:7-31\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_181756 = y_180805 || loop_not_taken_181607;
    bool protect_assert_disj_181764 = loop_not_taken_181697 || protect_assert_disj_181756;
    bool index_certs_179820;
    
    if (!protect_assert_disj_181764) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_164066, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:279:7-31\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_181772 = inParallel_164069 || valid_179857;
    bool protect_assert_disj_181774 = loop_not_taken_181697 || protect_assert_disj_181772;
    bool range_valid_c_179858;
    
    if (!protect_assert_disj_181774) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, " is invalid.", "-> #0  ftsort.fut:145:36-50\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_181616 = sle64((int64_t) 1, threads_164066);
    bool protect_assert_disj_181768 = valid_179857 || loop_not_taken_181607;
    bool protect_assert_disj_181776 = loop_not_taken_181697 || protect_assert_disj_181768;
    bool range_valid_c_178873;
    
    if (!protect_assert_disj_181776) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, " is invalid.", "-> #0  ftsort.fut:145:36-50\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_179860 = add64(window_sizze_164065, window_sizze_164065);
    bool zzero_179861 = partitionFunc_arg0_179839 == (int64_t) 0;
    int64_t index_concat_i_181617 = sub64(threads_164066, (int64_t) 1);
    bool nonzzero_179862 = !zzero_179861;
    bool protect_assert_disj_181784 = inParallel_164069 || nonzzero_179862;
    bool protect_assert_disj_181790 = loop_not_taken_181697 || protect_assert_disj_181784;
    bool nonzzero_cert_179863;
    
    if (!protect_assert_disj_181790) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:148:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_181780 = nonzzero_179862 || loop_not_taken_181607;
    bool protect_assert_disj_181796 = loop_not_taken_181697 || protect_assert_disj_181780;
    bool nonzzero_cert_178878;
    
    if (!protect_assert_disj_181796) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:148:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184321 = (int64_t) 8 * threads_164066;
    int64_t bytes_184338 = (int64_t) 8 * window_sizze_164065;
    int64_t bytes_184683 = perThread_178862 * bytes_184321;
    bool defunc_0_merge_pipeline_res_178814;
    int64_t defunc_0_merge_pipeline_res_178818;
    int64_t defunc_0_merge_pipeline_res_178819;
    bool loop_while_178820;
    int64_t p_178824;
    int64_t p_178825;
    
    loop_while_178820 = x_178811;
    p_178824 = (int64_t) 0;
    p_178825 = (int64_t) 0;
    while (loop_while_178820) {
        int64_t ubs_178826 = add64(window_sizze_164065, p_178824);
        int64_t ubs_178827 = add64(window_sizze_164065, p_178825);
        int64_t ind_bottom_178828 = add64(p_178824, p_178825);
        int64_t ind_top_178829 = add64(window_sizze_164065, ind_bottom_178828);
        int64_t i_p_m_t_s_178830 = add64(m_178813, p_178824);
        bool zzero_leq_i_p_m_t_s_178831 = sle64((int64_t) 0, i_p_m_t_s_178830);
        bool i_p_m_t_s_leq_w_178832 = slt64(i_p_m_t_s_178830, na_164063);
        bool zzero_lte_i_178833 = sle64((int64_t) 0, p_178824);
        bool i_lte_j_178834 = sle64(p_178824, ubs_178826);
        bool y_178835 = i_p_m_t_s_leq_w_178832 && zzero_lte_i_178833;
        bool y_178836 = zzero_leq_i_p_m_t_s_178831 && y_178835;
        bool forwards_ok_178837 = i_lte_j_178834 && y_178836;
        bool ok_or_empty_178838 = empty_slice_178812 || forwards_ok_178837;
        bool index_certs_178839;
        
        if (!ok_or_empty_178838) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_178824, ":", (long long) ubs_178826, "] out of bounds for array of shape [", (long long) na_164063, "].", "-> #0  ftsort.fut:312:14-35\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_178841 = add64(m_178813, p_178825);
        bool zzero_leq_i_p_m_t_s_178842 = sle64((int64_t) 0, i_p_m_t_s_178841);
        bool i_p_m_t_s_leq_w_178843 = slt64(i_p_m_t_s_178841, nb_164064);
        bool zzero_lte_i_178844 = sle64((int64_t) 0, p_178825);
        bool i_lte_j_178845 = sle64(p_178825, ubs_178827);
        bool y_178846 = i_p_m_t_s_leq_w_178843 && zzero_lte_i_178844;
        bool y_178847 = zzero_leq_i_p_m_t_s_178842 && y_178846;
        bool forwards_ok_178848 = i_lte_j_178845 && y_178847;
        bool ok_or_empty_178849 = empty_slice_178812 || forwards_ok_178848;
        bool index_certs_178850;
        
        if (!ok_or_empty_178849) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_178825, ":", (long long) ubs_178827, "] out of bounds for array of shape [", (long long) nb_164064, "].", "-> #0  ftsort.fut:313:14-35\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_180819 = add64(m_178813, ind_bottom_178828);
        bool zzero_leq_i_p_m_t_s_180820 = sle64((int64_t) 0, i_p_m_t_s_180819);
        bool i_p_m_t_s_leq_w_180821 = slt64(i_p_m_t_s_180819, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803);
        bool zzero_lte_i_180822 = sle64((int64_t) 0, ind_bottom_178828);
        bool i_lte_j_180823 = sle64(ind_bottom_178828, ind_top_178829);
        bool y_180824 = i_p_m_t_s_leq_w_180821 && zzero_lte_i_180822;
        bool y_180825 = zzero_leq_i_p_m_t_s_180820 && y_180824;
        bool forwards_ok_180826 = i_lte_j_180823 && y_180825;
        bool ok_or_empty_180827 = empty_slice_178812 || forwards_ok_180826;
        bool index_certs_180828;
        
        if (!ok_or_empty_180827) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_178828, ":", (long long) ind_top_178829, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, "].", "-> #0  ftsort.fut:322:21-79\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_178852;
        int64_t loopres_178853;
        
        if (inParallel_164069) {
            double leq_lhs_182277 = ((double *) a_list_mem_184305.mem)[p_178824];
            double leq_rhs_182278 = ((double *) b_list_mem_184306.mem)[p_178825];
            bool defunc_0_leq_res_182279 = leq_lhs_182277 <= leq_rhs_182278;
            double lowest_182280;
            
            if (defunc_0_leq_res_182279) {
                lowest_182280 = leq_lhs_182277;
            } else {
                lowest_182280 = leq_rhs_182278;
            }
            if (mem_184667_cached_sizze_186063 < bytes_184321) {
                err = lexical_realloc(ctx, &mem_184667, &mem_184667_cached_sizze_186063, bytes_184321);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184669_cached_sizze_186064 < bytes_184321) {
                err = lexical_realloc(ctx, &mem_184669, &mem_184669_cached_sizze_186064, bytes_184321);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_183969 = 0; i_183969 < threads_164066; i_183969++) {
                int64_t index_primexp_184241 = add64((int64_t) 1, i_183969);
                int64_t zs_lhs_182285 = mul64(zt_rhs_179860, index_primexp_184241);
                int64_t index_182286 = sdiv64(zs_lhs_182285, partitionFunc_arg0_179839);
                bool cond_182287 = slt64(window_sizze_164065, index_182286);
                int64_t loop_over_182288;
                
                if (cond_182287) {
                    loop_over_182288 = window_sizze_164065;
                } else {
                    loop_over_182288 = index_182286;
                }
                
                int64_t loop_over_182289;
                
                if (cond_182287) {
                    int64_t loop_over_t_res_182290 = sub64(index_182286, window_sizze_164065);
                    
                    loop_over_182289 = loop_over_t_res_182290;
                } else {
                    loop_over_182289 = (int64_t) 0;
                }
                
                int64_t loop_over_182291;
                
                if (cond_182287) {
                    int64_t zm_lhs_182292 = sub64(index_182286, window_sizze_164065);
                    int64_t loop_over_t_res_182293 = sub64(zm_lhs_182292, (int64_t) 1);
                    
                    loop_over_182291 = loop_over_t_res_182293;
                } else {
                    loop_over_182291 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_182294;
                int64_t defunc_0_f_res_182295;
                int64_t defunc_0_f_res_182296;
                int64_t defunc_0_f_res_182297;
                bool loop_while_182298;
                int64_t p_182299;
                int64_t p_182300;
                int64_t p_182301;
                
                loop_while_182298 = 1;
                p_182299 = loop_over_182291;
                p_182300 = loop_over_182288;
                p_182301 = loop_over_182289;
                while (loop_while_182298) {
                    int64_t zs_lhs_182302 = sub64(p_182300, p_182299);
                    int64_t offset_182303 = sdiv64(zs_lhs_182302, (int64_t) 2);
                    int64_t ai_182304 = sub64(p_182300, offset_182303);
                    int64_t max_arg1_182305 = add64(p_182301, offset_182303);
                    int64_t max_res_182306 = smax64((int64_t) 0, max_arg1_182305);
                    bool cond_182307 = slt64((int64_t) 0, max_res_182306);
                    double b_prev_182308;
                    
                    if (cond_182307) {
                        int64_t tmp_182309 = sub64(max_res_182306, (int64_t) 1);
                        bool x_182310 = sle64((int64_t) 0, tmp_182309);
                        bool y_182311 = slt64(tmp_182309, window_sizze_164065);
                        bool bounds_check_182312 = x_182310 && y_182311;
                        bool index_certs_182313;
                        
                        if (!bounds_check_182312) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_182309, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:160:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_182314 = p_178825 + tmp_182309;
                        double b_prev_t_res_182315 = ((double *) b_list_mem_184306.mem)[slice_182314];
                        
                        b_prev_182308 = b_prev_t_res_182315;
                    } else {
                        b_prev_182308 = lowest_182280;
                    }
                    
                    bool cond_182316 = sle64(ai_182304, (int64_t) 0);
                    int64_t loopres_182317;
                    int64_t loopres_182318;
                    int64_t loopres_182319;
                    bool loopres_182320;
                    
                    if (cond_182316) {
                        loopres_182317 = p_182299;
                        loopres_182318 = (int64_t) 0;
                        loopres_182319 = max_res_182306;
                        loopres_182320 = 0;
                    } else {
                        bool cond_182321 = sle64(window_sizze_164065, max_res_182306);
                        int64_t loopres_f_res_182322;
                        int64_t loopres_f_res_182323;
                        int64_t loopres_f_res_182324;
                        bool loopres_f_res_182325;
                        
                        if (cond_182321) {
                            int64_t min_res_182327 = smin64(m_178813, ai_182304);
                            bool x_182328 = sle64((int64_t) 0, m_178813);
                            bool y_182329 = slt64(m_178813, window_sizze_164065);
                            bool bounds_check_182330 = x_182328 && y_182329;
                            bool index_certs_182331;
                            
                            if (!bounds_check_182330) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_178813, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:171:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_182334 = sle64((int64_t) 0, min_res_182327);
                            bool y_182335 = slt64(min_res_182327, window_sizze_164065);
                            bool bounds_check_182336 = x_182334 && y_182335;
                            bool index_certs_182337;
                            
                            if (!bounds_check_182336) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_182327, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:171:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            double leq_lhs_182333 = ((double *) b_list_mem_184306.mem)[i_p_m_t_s_178841];
                            int64_t slice_182338 = p_178824 + min_res_182327;
                            double leq_rhs_182339 = ((double *) a_list_mem_184305.mem)[slice_182338];
                            bool defunc_0_leq_res_182340 = leq_lhs_182333 <= leq_rhs_182339;
                            int64_t loopres_f_res_t_res_182341;
                            
                            if (defunc_0_leq_res_182340) {
                                loopres_f_res_t_res_182341 = ai_182304;
                            } else {
                                loopres_f_res_t_res_182341 = p_182300;
                            }
                            
                            bool x_182342 = !defunc_0_leq_res_182340;
                            int64_t loopres_f_res_t_res_182343;
                            
                            if (defunc_0_leq_res_182340) {
                                loopres_f_res_t_res_182343 = window_sizze_164065;
                            } else {
                                int64_t tmp_182344 = sub64(m_178813, offset_182303);
                                
                                loopres_f_res_t_res_182343 = tmp_182344;
                            }
                            loopres_f_res_182322 = p_182299;
                            loopres_f_res_182323 = loopres_f_res_t_res_182341;
                            loopres_f_res_182324 = loopres_f_res_t_res_182343;
                            loopres_f_res_182325 = x_182342;
                        } else {
                            bool cond_182345 = sle64(window_sizze_164065, ai_182304);
                            int64_t loopres_f_res_f_res_182346;
                            int64_t loopres_f_res_f_res_182347;
                            int64_t loopres_f_res_f_res_182348;
                            bool loopres_f_res_f_res_182349;
                            
                            if (cond_182345) {
                                int64_t min_res_182351 = smin64(m_178813, max_res_182306);
                                bool x_182352 = sle64((int64_t) 0, m_178813);
                                bool y_182353 = slt64(m_178813, window_sizze_164065);
                                bool bounds_check_182354 = x_182352 && y_182353;
                                bool index_certs_182355;
                                
                                if (!bounds_check_182354) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_178813, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:178:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_182358 = sle64((int64_t) 0, min_res_182351);
                                bool y_182359 = slt64(min_res_182351, window_sizze_164065);
                                bool bounds_check_182360 = x_182358 && y_182359;
                                bool index_certs_182361;
                                
                                if (!bounds_check_182360) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_182351, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:178:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                double leq_lhs_182357 = ((double *) a_list_mem_184305.mem)[i_p_m_t_s_178830];
                                int64_t slice_182362 = p_178825 + min_res_182351;
                                double leq_rhs_182363 = ((double *) b_list_mem_184306.mem)[slice_182362];
                                bool defunc_0_leq_res_182364 = leq_lhs_182357 <= leq_rhs_182363;
                                int64_t loopres_f_res_f_res_t_res_182365;
                                
                                if (defunc_0_leq_res_182364) {
                                    loopres_f_res_f_res_t_res_182365 = max_res_182306;
                                } else {
                                    loopres_f_res_f_res_t_res_182365 = p_182301;
                                }
                                
                                bool x_182366 = !defunc_0_leq_res_182364;
                                int64_t loopres_f_res_f_res_t_res_182367;
                                
                                if (defunc_0_leq_res_182364) {
                                    loopres_f_res_f_res_t_res_182367 = window_sizze_164065;
                                } else {
                                    loopres_f_res_f_res_t_res_182367 = m_178813;
                                }
                                loopres_f_res_f_res_182346 = p_182299;
                                loopres_f_res_f_res_182347 = loopres_f_res_f_res_t_res_182367;
                                loopres_f_res_f_res_182348 = loopres_f_res_f_res_t_res_182365;
                                loopres_f_res_f_res_182349 = x_182366;
                            } else {
                                bool cond_182368 = sle64(p_182300, p_182299);
                                int64_t loopres_f_res_f_res_f_res_182369;
                                int64_t loopres_f_res_f_res_f_res_182370;
                                int64_t loopres_f_res_f_res_f_res_182371;
                                bool loopres_f_res_f_res_f_res_182372;
                                
                                if (cond_182368) {
                                    bool cond_182373 = slt64(ai_182304, window_sizze_164065);
                                    int64_t ai_182374;
                                    
                                    if (cond_182373) {
                                        ai_182374 = ai_182304;
                                    } else {
                                        ai_182374 = m_178813;
                                    }
                                    
                                    bool x_182387 = sle64((int64_t) 0, ai_182374);
                                    bool y_182388 = slt64(ai_182374, window_sizze_164065);
                                    bool bounds_check_182389 = x_182387 && y_182388;
                                    bool index_certs_182390;
                                    
                                    if (!bounds_check_182389) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_182374, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:114:8-14\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    double b_prev_182376;
                                    
                                    if (cond_182307) {
                                        int64_t tmp_182377 = sub64(max_res_182306, (int64_t) 1);
                                        bool x_182378 = sle64((int64_t) 0, tmp_182377);
                                        bool y_182379 = slt64(tmp_182377, window_sizze_164065);
                                        bool bounds_check_182380 = x_182378 && y_182379;
                                        bool index_certs_182381;
                                        
                                        if (!bounds_check_182380) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_182377, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:112:31-39\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_182382 = p_178825 + tmp_182377;
                                        double b_prev_t_res_182383 = ((double *) b_list_mem_184306.mem)[slice_182382];
                                        
                                        b_prev_182376 = b_prev_t_res_182383;
                                    } else {
                                        bool index_certs_182385;
                                        
                                        if (!y_179841) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:112:45-50\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_182376 = leq_rhs_182278;
                                    }
                                    
                                    int64_t slice_182391 = p_178824 + ai_182374;
                                    double gt_lhs_182392 = ((double *) a_list_mem_184305.mem)[slice_182391];
                                    bool defunc_0_gt_res_182393 = b_prev_182376 < gt_lhs_182392;
                                    int64_t defunc_0_partFunc_sequential_search_res_182394;
                                    int64_t defunc_0_partFunc_sequential_search_res_182395;
                                    
                                    if (defunc_0_gt_res_182393) {
                                        int64_t zl_rhs_182396 = sub64(window_sizze_164065, max_res_182306);
                                        bool loop_cond_182397 = slt64((int64_t) 0, zl_rhs_182396);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_182398;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_182399;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_182400;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_182401;
                                        bool loop_while_182402;
                                        int64_t p_182403;
                                        int64_t p_182404;
                                        int64_t p_182405;
                                        
                                        loop_while_182402 = loop_cond_182397;
                                        p_182403 = ai_182374;
                                        p_182404 = max_res_182306;
                                        p_182405 = (int64_t) 0;
                                        while (loop_while_182402) {
                                            int64_t i_a_182406 = sub64(ai_182374, p_182405);
                                            int64_t i_b_182407 = add64(max_res_182306, p_182405);
                                            int64_t leq_lhs_182408 = sub64(i_a_182406, (int64_t) 1);
                                            bool x_182409 = sle64((int64_t) 0, leq_lhs_182408);
                                            bool y_182410 = slt64(leq_lhs_182408, window_sizze_164065);
                                            bool bounds_check_182411 = x_182409 && y_182410;
                                            bool index_certs_182412;
                                            
                                            if (!bounds_check_182411) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_182408, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:120:15-24\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_182415 = sle64((int64_t) 0, i_b_182407);
                                            bool y_182416 = slt64(i_b_182407, window_sizze_164065);
                                            bool bounds_check_182417 = x_182415 && y_182416;
                                            bool index_certs_182418;
                                            
                                            if (!bounds_check_182417) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_182407, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:120:31-38\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_182413 = p_178824 + leq_lhs_182408;
                                            double leq_lhs_182414 = ((double *) a_list_mem_184305.mem)[slice_182413];
                                            int64_t slice_182419 = p_178825 + i_b_182407;
                                            double leq_rhs_182420 = ((double *) b_list_mem_184306.mem)[slice_182419];
                                            bool defunc_0_leq_res_182421 = leq_lhs_182414 <= leq_rhs_182420;
                                            int64_t loopres_182422;
                                            
                                            if (defunc_0_leq_res_182421) {
                                                loopres_182422 = i_a_182406;
                                            } else {
                                                loopres_182422 = ai_182374;
                                            }
                                            
                                            int64_t loopres_182423;
                                            
                                            if (defunc_0_leq_res_182421) {
                                                loopres_182423 = i_b_182407;
                                            } else {
                                                loopres_182423 = max_res_182306;
                                            }
                                            
                                            int64_t loopres_182424;
                                            
                                            if (defunc_0_leq_res_182421) {
                                                loopres_182424 = zl_rhs_182396;
                                            } else {
                                                int64_t tmp_182425 = add64((int64_t) 1, p_182405);
                                                
                                                loopres_182424 = tmp_182425;
                                            }
                                            
                                            bool loop_cond_182426 = slt64(loopres_182424, zl_rhs_182396);
                                            bool loop_while_tmp_185738 = loop_cond_182426;
                                            int64_t p_tmp_185739 = loopres_182422;
                                            int64_t p_tmp_185740 = loopres_182423;
                                            int64_t p_tmp_185741 = loopres_182424;
                                            
                                            loop_while_182402 = loop_while_tmp_185738;
                                            p_182403 = p_tmp_185739;
                                            p_182404 = p_tmp_185740;
                                            p_182405 = p_tmp_185741;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_182398 = loop_while_182402;
                                        defunc_0_partFunc_sequential_search_res_t_res_182399 = p_182403;
                                        defunc_0_partFunc_sequential_search_res_t_res_182400 = p_182404;
                                        defunc_0_partFunc_sequential_search_res_t_res_182401 = p_182405;
                                        defunc_0_partFunc_sequential_search_res_182394 = defunc_0_partFunc_sequential_search_res_t_res_182399;
                                        defunc_0_partFunc_sequential_search_res_182395 = defunc_0_partFunc_sequential_search_res_t_res_182400;
                                    } else {
                                        int64_t zl_rhs_182427 = sub64(max_res_182306, (int64_t) 1);
                                        bool loop_cond_182428 = slt64((int64_t) 0, zl_rhs_182427);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_182429;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_182430;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_182431;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_182432;
                                        bool loop_while_182433;
                                        int64_t p_182434;
                                        int64_t p_182435;
                                        int64_t p_182436;
                                        
                                        loop_while_182433 = loop_cond_182428;
                                        p_182434 = ai_182374;
                                        p_182435 = max_res_182306;
                                        p_182436 = (int64_t) 0;
                                        while (loop_while_182433) {
                                            int64_t zp_lhs_182437 = add64(ai_182374, p_182436);
                                            int64_t hi_a_182438 = add64((int64_t) 1, zp_lhs_182437);
                                            bool cond_182439 = slt64(hi_a_182438, window_sizze_164065);
                                            int64_t i_a_182440;
                                            
                                            if (cond_182439) {
                                                i_a_182440 = hi_a_182438;
                                            } else {
                                                i_a_182440 = m_178813;
                                            }
                                            
                                            int64_t zm_lhs_182442 = sub64(max_res_182306, p_182436);
                                            int64_t i_b_182443 = sub64(zm_lhs_182442, (int64_t) 1);
                                            bool x_182444 = sle64((int64_t) 0, i_a_182440);
                                            bool y_182445 = slt64(i_a_182440, window_sizze_164065);
                                            bool bounds_check_182446 = x_182444 && y_182445;
                                            bool index_certs_182447;
                                            
                                            if (!bounds_check_182446) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_182440, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:130:15-22\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_182450 = sle64((int64_t) 0, i_b_182443);
                                            bool y_182451 = slt64(i_b_182443, window_sizze_164065);
                                            bool bounds_check_182452 = x_182450 && y_182451;
                                            bool index_certs_182453;
                                            
                                            if (!bounds_check_182452) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_182443, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:130:28-35\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_182448 = p_178824 + i_a_182440;
                                            double gt_lhs_182449 = ((double *) a_list_mem_184305.mem)[slice_182448];
                                            int64_t slice_182454 = p_178825 + i_b_182443;
                                            double gt_rhs_182455 = ((double *) b_list_mem_184306.mem)[slice_182454];
                                            bool defunc_0_gt_res_182456 = gt_rhs_182455 < gt_lhs_182449;
                                            int64_t loopres_182457;
                                            
                                            if (defunc_0_gt_res_182456) {
                                                loopres_182457 = i_a_182440;
                                            } else {
                                                loopres_182457 = ai_182374;
                                            }
                                            
                                            int64_t loopres_182458;
                                            
                                            if (defunc_0_gt_res_182456) {
                                                loopres_182458 = zm_lhs_182442;
                                            } else {
                                                loopres_182458 = max_res_182306;
                                            }
                                            
                                            int64_t loopres_182459;
                                            
                                            if (defunc_0_gt_res_182456) {
                                                loopres_182459 = zl_rhs_182427;
                                            } else {
                                                int64_t tmp_182460 = add64((int64_t) 1, p_182436);
                                                
                                                loopres_182459 = tmp_182460;
                                            }
                                            
                                            bool loop_cond_182461 = slt64(loopres_182459, zl_rhs_182427);
                                            bool loop_while_tmp_185742 = loop_cond_182461;
                                            int64_t p_tmp_185743 = loopres_182457;
                                            int64_t p_tmp_185744 = loopres_182458;
                                            int64_t p_tmp_185745 = loopres_182459;
                                            
                                            loop_while_182433 = loop_while_tmp_185742;
                                            p_182434 = p_tmp_185743;
                                            p_182435 = p_tmp_185744;
                                            p_182436 = p_tmp_185745;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_182429 = loop_while_182433;
                                        defunc_0_partFunc_sequential_search_res_f_res_182430 = p_182434;
                                        defunc_0_partFunc_sequential_search_res_f_res_182431 = p_182435;
                                        defunc_0_partFunc_sequential_search_res_f_res_182432 = p_182436;
                                        defunc_0_partFunc_sequential_search_res_182394 = defunc_0_partFunc_sequential_search_res_f_res_182430;
                                        defunc_0_partFunc_sequential_search_res_182395 = defunc_0_partFunc_sequential_search_res_f_res_182431;
                                    }
                                    loopres_f_res_f_res_f_res_182369 = p_182299;
                                    loopres_f_res_f_res_f_res_182370 = defunc_0_partFunc_sequential_search_res_182394;
                                    loopres_f_res_f_res_f_res_182371 = defunc_0_partFunc_sequential_search_res_182395;
                                    loopres_f_res_f_res_f_res_182372 = 0;
                                } else {
                                    bool x_182462 = sle64((int64_t) 0, ai_182304);
                                    bool y_182463 = slt64(ai_182304, window_sizze_164065);
                                    bool bounds_check_182464 = x_182462 && y_182463;
                                    bool index_certs_182465;
                                    
                                    if (!bounds_check_182464) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_182304, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:186:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_182466 = p_178824 + ai_182304;
                                    double gt_lhs_182467 = ((double *) a_list_mem_184305.mem)[slice_182466];
                                    bool defunc_0_gt_res_182468 = b_prev_182308 < gt_lhs_182467;
                                    int64_t loopres_f_res_f_res_f_res_f_res_182469;
                                    int64_t loopres_f_res_f_res_f_res_f_res_182470;
                                    int64_t loopres_f_res_f_res_f_res_f_res_182471;
                                    bool loopres_f_res_f_res_f_res_f_res_182472;
                                    
                                    if (defunc_0_gt_res_182468) {
                                        int64_t leq_lhs_182473 = sub64(ai_182304, (int64_t) 1);
                                        bool x_182474 = sle64((int64_t) 0, leq_lhs_182473);
                                        bool y_182475 = slt64(leq_lhs_182473, window_sizze_164065);
                                        bool bounds_check_182476 = x_182474 && y_182475;
                                        bool index_certs_182477;
                                        
                                        if (!bounds_check_182476) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_182473, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:187:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_182480 = sle64((int64_t) 0, max_res_182306);
                                        bool y_182481 = slt64(max_res_182306, window_sizze_164065);
                                        bool bounds_check_182482 = x_182480 && y_182481;
                                        bool index_certs_182483;
                                        
                                        if (!bounds_check_182482) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_182306, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:187:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_182478 = p_178824 + leq_lhs_182473;
                                        double leq_lhs_182479 = ((double *) a_list_mem_184305.mem)[slice_182478];
                                        int64_t slice_182484 = p_178825 + max_res_182306;
                                        double leq_rhs_182485 = ((double *) b_list_mem_184306.mem)[slice_182484];
                                        bool defunc_0_leq_res_182486 = leq_lhs_182479 <= leq_rhs_182485;
                                        bool x_182487 = !defunc_0_leq_res_182486;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_182488;
                                        
                                        if (defunc_0_leq_res_182486) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_182488 = ai_182304;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_182488 = leq_lhs_182473;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_182489;
                                        
                                        if (defunc_0_leq_res_182486) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_182489 = max_res_182306;
                                        } else {
                                            int64_t tmp_182490 = add64((int64_t) 1, max_res_182306);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_182489 = tmp_182490;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_182469 = p_182299;
                                        loopres_f_res_f_res_f_res_f_res_182470 = loopres_f_res_f_res_f_res_f_res_t_res_182488;
                                        loopres_f_res_f_res_f_res_f_res_182471 = loopres_f_res_f_res_f_res_f_res_t_res_182489;
                                        loopres_f_res_f_res_f_res_f_res_182472 = x_182487;
                                    } else {
                                        int64_t tmp_182491 = add64((int64_t) 1, ai_182304);
                                        
                                        loopres_f_res_f_res_f_res_f_res_182469 = tmp_182491;
                                        loopres_f_res_f_res_f_res_f_res_182470 = p_182300;
                                        loopres_f_res_f_res_f_res_f_res_182471 = p_182301;
                                        loopres_f_res_f_res_f_res_f_res_182472 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_182369 = loopres_f_res_f_res_f_res_f_res_182469;
                                    loopres_f_res_f_res_f_res_182370 = loopres_f_res_f_res_f_res_f_res_182470;
                                    loopres_f_res_f_res_f_res_182371 = loopres_f_res_f_res_f_res_f_res_182471;
                                    loopres_f_res_f_res_f_res_182372 = loopres_f_res_f_res_f_res_f_res_182472;
                                }
                                loopres_f_res_f_res_182346 = loopres_f_res_f_res_f_res_182369;
                                loopres_f_res_f_res_182347 = loopres_f_res_f_res_f_res_182370;
                                loopres_f_res_f_res_182348 = loopres_f_res_f_res_f_res_182371;
                                loopres_f_res_f_res_182349 = loopres_f_res_f_res_f_res_182372;
                            }
                            loopres_f_res_182322 = loopres_f_res_f_res_182346;
                            loopres_f_res_182323 = loopres_f_res_f_res_182347;
                            loopres_f_res_182324 = loopres_f_res_f_res_182348;
                            loopres_f_res_182325 = loopres_f_res_f_res_182349;
                        }
                        loopres_182317 = loopres_f_res_182322;
                        loopres_182318 = loopres_f_res_182323;
                        loopres_182319 = loopres_f_res_182324;
                        loopres_182320 = loopres_f_res_182325;
                    }
                    
                    bool loop_while_tmp_185734 = loopres_182320;
                    int64_t p_tmp_185735 = loopres_182317;
                    int64_t p_tmp_185736 = loopres_182318;
                    int64_t p_tmp_185737 = loopres_182319;
                    
                    loop_while_182298 = loop_while_tmp_185734;
                    p_182299 = p_tmp_185735;
                    p_182300 = p_tmp_185736;
                    p_182301 = p_tmp_185737;
                }
                defunc_0_f_res_182294 = loop_while_182298;
                defunc_0_f_res_182295 = p_182299;
                defunc_0_f_res_182296 = p_182300;
                defunc_0_f_res_182297 = p_182301;
                ((int64_t *) mem_184667)[i_183969] = defunc_0_f_res_182296;
                ((int64_t *) mem_184669)[i_183969] = defunc_0_f_res_182297;
            }
            if (mem_184684_cached_sizze_186065 < bytes_184683) {
                err = lexical_realloc(ctx, &mem_184684, &mem_184684_cached_sizze_186065, bytes_184683);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184686_cached_sizze_186066 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_178863) {
                err = lexical_realloc(ctx, &mem_184686, &mem_184686_cached_sizze_186066, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_178863);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184689_cached_sizze_186067 < bytes_184683) {
                err = lexical_realloc(ctx, &mem_184689, &mem_184689_cached_sizze_186067, bytes_184683);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184692_cached_sizze_186068 < bytes_184683) {
                err = lexical_realloc(ctx, &mem_184692, &mem_184692_cached_sizze_186068, bytes_184683);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_184035 = 0; i_184035 < threads_164066; i_184035++) {
                bool y_182505 = slt64(i_184035, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
                bool index_certs_182507;
                
                if (!y_182505) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_184035, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:257:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:393:63-73\n   #3  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_182508 = sle64((int64_t) 1, i_184035);
                int64_t index_concat_i_182509 = sub64(i_184035, (int64_t) 1);
                int64_t index_concat_182510;
                
                if (index_concat_cmp_182508) {
                    int64_t x_182511 = ((int64_t *) mem_184667)[index_concat_i_182509];
                    
                    index_concat_182510 = x_182511;
                } else {
                    index_concat_182510 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_182512;
                
                if (index_concat_cmp_182508) {
                    index_concat_branch_182512 = index_concat_182510;
                } else {
                    index_concat_branch_182512 = (int64_t) 0;
                }
                
                int64_t index_concat_182513;
                
                if (index_concat_cmp_182508) {
                    int64_t x_182514 = ((int64_t *) mem_184669)[index_concat_i_182509];
                    
                    index_concat_182513 = x_182514;
                } else {
                    index_concat_182513 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_182515;
                
                if (index_concat_cmp_182508) {
                    index_concat_branch_182515 = index_concat_182513;
                } else {
                    index_concat_branch_182515 = (int64_t) 0;
                }
                
                int64_t ubs_182516 = add64((int64_t) 1, i_184035);
                bool x_182517 = sle64((int64_t) 0, ubs_182516);
                bool y_182518 = slt64(ubs_182516, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
                bool bounds_check_182519 = x_182517 && y_182518;
                bool index_certs_182520;
                
                if (!bounds_check_182519) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_182516, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:258:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:393:63-73\n   #3  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_182521 = sle64((int64_t) 1, ubs_182516);
                int64_t index_concat_182522;
                
                if (index_concat_cmp_182521) {
                    int64_t x_182523 = ((int64_t *) mem_184667)[i_184035];
                    
                    index_concat_182522 = x_182523;
                } else {
                    index_concat_182522 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_182524;
                
                if (index_concat_cmp_182521) {
                    index_concat_branch_182524 = index_concat_182522;
                } else {
                    index_concat_branch_182524 = (int64_t) 0;
                }
                
                int64_t index_concat_182525;
                
                if (index_concat_cmp_182521) {
                    int64_t x_182526 = ((int64_t *) mem_184669)[i_184035];
                    
                    index_concat_182525 = x_182526;
                } else {
                    index_concat_182525 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_182527;
                
                if (index_concat_cmp_182521) {
                    index_concat_branch_182527 = index_concat_182525;
                } else {
                    index_concat_branch_182527 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528 = sub64(index_concat_branch_182527, index_concat_branch_182515);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529 = sub64(index_concat_branch_182524, index_concat_branch_182512);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                int64_t zm_lhs_182531 = add64(index_concat_branch_182524, index_concat_branch_182527);
                int64_t zm_rhs_182532 = add64(index_concat_branch_182512, index_concat_branch_182515);
                int64_t card_182533 = sub64(zm_lhs_182531, zm_rhs_182532);
                bool empty_slice_182534 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529 == (int64_t) 0;
                int64_t m_182535 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, (int64_t) 1);
                int64_t i_p_m_t_s_182536 = add64(index_concat_branch_182512, m_182535);
                bool zzero_leq_i_p_m_t_s_182537 = sle64((int64_t) 0, i_p_m_t_s_182536);
                bool i_p_m_t_s_leq_w_182538 = slt64(i_p_m_t_s_182536, window_sizze_164065);
                bool zzero_lte_i_182539 = sle64((int64_t) 0, index_concat_branch_182512);
                bool i_lte_j_182540 = sle64(index_concat_branch_182512, index_concat_branch_182524);
                bool y_182541 = i_p_m_t_s_leq_w_182538 && zzero_lte_i_182539;
                bool y_182542 = zzero_leq_i_p_m_t_s_182537 && y_182541;
                bool forwards_ok_182543 = i_lte_j_182540 && y_182542;
                bool ok_or_empty_182544 = empty_slice_182534 || forwards_ok_182543;
                bool index_certs_182545;
                
                if (!ok_or_empty_182544) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_182512, ":", (long long) index_concat_branch_182524, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:260:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:393:63-73\n   #3  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_182546 = slt64(index_concat_branch_182524, index_concat_branch_182512);
                bool valid_182547 = !bounds_invalid_upwards_182546;
                bool range_valid_c_182548;
                
                if (!valid_182547) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_182512, "..<", (long long) index_concat_branch_182524, " is invalid.", "-> #0  ftsort.fut:260:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:393:63-73\n   #3  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_182553 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528 == (int64_t) 0;
                int64_t m_182554 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528, (int64_t) 1);
                int64_t i_p_m_t_s_182555 = add64(index_concat_branch_182515, m_182554);
                bool zzero_leq_i_p_m_t_s_182556 = sle64((int64_t) 0, i_p_m_t_s_182555);
                bool i_p_m_t_s_leq_w_182557 = slt64(i_p_m_t_s_182555, window_sizze_164065);
                bool zzero_lte_i_182558 = sle64((int64_t) 0, index_concat_branch_182515);
                bool i_lte_j_182559 = sle64(index_concat_branch_182515, index_concat_branch_182527);
                bool y_182560 = i_p_m_t_s_leq_w_182557 && zzero_lte_i_182558;
                bool y_182561 = zzero_leq_i_p_m_t_s_182556 && y_182560;
                bool forwards_ok_182562 = i_lte_j_182559 && y_182561;
                bool ok_or_empty_182563 = empty_slice_182553 || forwards_ok_182562;
                bool index_certs_182564;
                
                if (!ok_or_empty_182563) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_182515, ":", (long long) index_concat_branch_182527, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:261:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:393:63-73\n   #3  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_182565 = slt64(index_concat_branch_182527, index_concat_branch_182515);
                bool valid_182566 = !bounds_invalid_upwards_182565;
                bool range_valid_c_182567;
                
                if (!valid_182566) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_182515, "..<", (long long) index_concat_branch_182527, " is invalid.", "-> #0  ftsort.fut:261:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:393:63-73\n   #3  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_184721 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530;
                bool cond_182575 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, (int64_t) 1);
                int64_t zs_lhs_182576 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, (int64_t) 1);
                int64_t zp_rhs_182577 = sdiv_safe64(zs_lhs_182576, (int64_t) 20);
                int64_t min_num_blocks_182578 = add64((int64_t) 1, zp_rhs_182577);
                bool loop_cond_182579 = slt64((int64_t) 1, min_num_blocks_182578);
                bool smallest_pow_2_geq_than_res_182580;
                int64_t smallest_pow_2_geq_than_res_182581;
                bool loop_while_182582;
                int64_t x_182583;
                
                loop_while_182582 = loop_cond_182579;
                x_182583 = (int64_t) 1;
                while (loop_while_182582) {
                    int64_t loopres_182584 = mul64((int64_t) 2, x_182583);
                    bool loop_cond_182585 = slt64(loopres_182584, min_num_blocks_182578);
                    bool loop_while_tmp_185750 = loop_cond_182585;
                    int64_t x_tmp_185751 = loopres_182584;
                    
                    loop_while_182582 = loop_while_tmp_185750;
                    x_182583 = x_tmp_185751;
                }
                smallest_pow_2_geq_than_res_182580 = loop_while_182582;
                smallest_pow_2_geq_than_res_182581 = x_182583;
                
                bool zzero_182586 = smallest_pow_2_geq_than_res_182581 == (int64_t) 0;
                bool nonzzero_182587 = !zzero_182586;
                bool protect_assert_disj_182588 = cond_182575 || nonzzero_182587;
                bool nonzzero_cert_182589;
                
                if (!protect_assert_disj_182588) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_182590 = sdiv_safe64(zs_lhs_182576, smallest_pow_2_geq_than_res_182581);
                int64_t block_sizze_182591 = add64((int64_t) 1, zp_rhs_182590);
                bool y_182598 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530);
                bool protect_assert_disj_185467 = cond_182575 || y_182598;
                bool index_certs_182599;
                
                if (!protect_assert_disj_185467) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_182636 = slt64(smallest_pow_2_geq_than_res_182581, (int64_t) 0);
                bool valid_182637 = !bounds_invalid_upwards_182636;
                bool protect_assert_disj_185477 = cond_182575 || valid_182637;
                bool range_valid_c_182638;
                
                if (!protect_assert_disj_185477) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_182581, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:393:63-73\n   #6  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_182640 = slt64(block_sizze_182591, (int64_t) 0);
                bool valid_182641 = !bounds_invalid_upwards_182640;
                bool protect_assert_disj_185479 = cond_182575 || valid_182641;
                bool range_valid_c_182642;
                
                if (!protect_assert_disj_185479) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_182591, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_182644 = sle64(block_sizze_182591, (int64_t) 1);
                int64_t tmp_182645 = sub64(block_sizze_182591, (int64_t) 2);
                bool bounds_invalid_upwards_182646 = slt64(tmp_182645, (int64_t) 0);
                bool valid_182648 = !bounds_invalid_upwards_182646;
                bool protect_assert_disj_182649 = cond_182644 || valid_182648;
                bool protect_assert_disj_185481 = cond_182575 || protect_assert_disj_182649;
                bool range_valid_c_182650;
                
                if (!protect_assert_disj_185481) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_182645, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_183230 = card_182533 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530;
                bool empty_or_match_cert_183231;
                
                if (!dim_match_183230) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "] cannot match shape of type `[", (long long) card_182533, "](i8, i64, f64)`.", "-> #0  ftsort.fut:262:20-268:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:393:63-73\n   #3  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_183232 = card_182533 == (int64_t) 0;
                int64_t m_183233 = sub64(card_182533, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_183234 = sle64((int64_t) 0, m_183233);
                bool i_p_m_t_s_leq_w_183235 = slt64(m_183233, card_182533);
                bool y_183236 = zzero_leq_i_p_m_t_s_183234 && i_p_m_t_s_leq_w_183235;
                bool ok_or_empty_183237 = empty_slice_183232 || y_183236;
                bool index_certs_183238;
                
                if (!ok_or_empty_183237) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_182533, "] out of bounds for array of shape [", (long long) card_182533, "].", "-> #0  ftsort.fut:269:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:393:63-73\n   #3  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_183239 = slt64(m_183233, perThread_178862);
                bool y_183240 = zzero_leq_i_p_m_t_s_183234 && i_p_m_t_s_leq_w_183239;
                bool ok_or_empty_183241 = empty_slice_183232 || y_183240;
                bool index_certs_183242;
                
                if (!ok_or_empty_183241) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_182533, "] out of bounds for array of shape [", (long long) perThread_178862, "].", "-> #0  ftsort.fut:269:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:393:63-73\n   #3  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_185752 = 0; nest_i_185752 < perThread_178862; nest_i_185752++) {
                    ((int8_t *) mem_184686)[i_184035 * perThread_178862 + nest_i_185752] = (int8_t) -1;
                }
                for (int64_t nest_i_185753 = 0; nest_i_185753 < perThread_178862; nest_i_185753++) {
                    ((int64_t *) mem_184689)[i_184035 * perThread_178862 + nest_i_185753] = (int64_t) -1;
                }
                for (int64_t nest_i_185754 = 0; nest_i_185754 < perThread_178862; nest_i_185754++) {
                    ((double *) mem_184692)[i_184035 * perThread_178862 + nest_i_185754] = 0.0;
                }
                
                int64_t slice_182549 = p_178824 + index_concat_branch_182512;
                
                if (memblock_alloc(ctx, &mem_184720, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "mem_184720")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_185755 = 0; nest_i_185755 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529; nest_i_185755++) {
                    ((int8_t *) mem_184720.mem)[nest_i_185755] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_184722, bytes_184721, "mem_184722")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_185756 = 0; i_185756 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529; i_185756++) {
                    int64_t x_185757 = index_concat_branch_182512 + i_185756 * (int64_t) 1;
                    
                    ((int64_t *) mem_184722.mem)[i_185756] = x_185757;
                }
                
                int64_t slice_182568 = p_178825 + index_concat_branch_182515;
                
                for (int64_t nest_i_185758 = 0; nest_i_185758 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528; nest_i_185758++) {
                    ((int8_t *) mem_184720.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529 + nest_i_185758] = (int8_t) 1;
                }
                for (int64_t i_185759 = 0; i_185759 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528; i_185759++) {
                    int64_t x_185760 = index_concat_branch_182515 + i_185759 * (int64_t) 1;
                    
                    ((int64_t *) mem_184722.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529 + i_185759] = x_185760;
                }
                
                int64_t tmp_offs_185761 = (int64_t) 0;
                
                if (!(tmp_offs_185761 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184720.mem, tmp_offs_185761, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184720.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529});
                }
                tmp_offs_185761 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529;
                if (!(tmp_offs_185761 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184720.mem, tmp_offs_185761, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184720.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528});
                }
                tmp_offs_185761 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528;
                
                int64_t tmp_offs_185762 = (int64_t) 0;
                
                if (!(tmp_offs_185762 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184722.mem, tmp_offs_185762, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184722.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529});
                }
                tmp_offs_185762 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529;
                if (!(tmp_offs_185762 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184722.mem, tmp_offs_185762, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184722.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528});
                }
                tmp_offs_185762 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528;
                if (memblock_alloc(ctx, &mem_184724, bytes_184721, "mem_184724")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_185763 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184724.mem, tmp_offs_185763, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_184305.mem, slice_182549, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529});
                tmp_offs_185763 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184724.mem, tmp_offs_185763, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_184306.mem, slice_182568, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528});
                tmp_offs_185763 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528;
                
                int64_t flat_dim_182592 = smallest_pow_2_geq_than_res_182581 * block_sizze_182591;
                bool x_185462 = !cond_182575;
                int64_t greatest_divisor_leq_than_arg1_182596 = mul64((int64_t) 2, block_sizze_182591);
                int64_t merge_block_sizze_182597;
                
                if (x_185462) {
                    int64_t x_185464;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_185464, (int64_t) 8, greatest_divisor_leq_than_arg1_182596) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_182597 = x_185464;
                } else {
                    merge_block_sizze_182597 = (int64_t) 0;
                }
                
                bool index_concat_cmp_182600 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, (int64_t) 0);
                int8_t index_concat_branch_182601 = btoi_bool_i8(index_concat_cmp_182600);
                int64_t index_concat_i_182603 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                int64_t index_primexp_182604 = add64(index_concat_branch_182515, index_concat_i_182603);
                int64_t index_concat_branch_182602;
                
                if (index_concat_cmp_182600) {
                    index_concat_branch_182602 = index_primexp_182604;
                } else {
                    index_concat_branch_182602 = index_concat_branch_182512;
                }
                
                bool x_185458 = !index_concat_cmp_182600;
                bool protect_cond_conj_185468 = x_185458 && x_185462;
                double index_concat_182610;
                
                if (protect_cond_conj_185468) {
                    double x_185460 = ((double *) a_list_mem_184305.mem)[slice_182549];
                    
                    index_concat_182610 = x_185460;
                } else {
                    index_concat_182610 = 0.0;
                }
                
                int64_t slice_182608 = p_178825 + index_primexp_182604;
                bool protect_cond_conj_185469 = index_concat_cmp_182600 && x_185462;
                double index_concat_182609;
                
                if (protect_cond_conj_185469) {
                    double x_185456 = ((double *) b_list_mem_184306.mem)[slice_182608];
                    
                    index_concat_182609 = x_185456;
                } else {
                    index_concat_182609 = 0.0;
                }
                
                double index_concat_branch_182605;
                
                if (index_concat_cmp_182600) {
                    index_concat_branch_182605 = index_concat_182609;
                } else {
                    index_concat_branch_182605 = index_concat_182610;
                }
                
                int8_t defunc_0_reduce_res_182611;
                int64_t defunc_0_reduce_res_182612;
                double defunc_0_reduce_res_182613;
                
                if (x_185462) {
                    int8_t x_185470;
                    int64_t x_185471;
                    double x_185472;
                    int8_t redout_183972;
                    int64_t redout_183973;
                    double redout_183974;
                    
                    redout_183972 = index_concat_branch_182601;
                    redout_183973 = index_concat_branch_182602;
                    redout_183974 = index_concat_branch_182605;
                    for (int64_t i_183975 = 0; i_183975 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530; i_183975++) {
                        bool index_concat_cmp_184233 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, i_183975);
                        int8_t index_concat_branch_184237 = btoi_bool_i8(index_concat_cmp_184233);
                        int64_t index_concat_branch_184231;
                        
                        if (index_concat_cmp_184233) {
                            int64_t index_concat_i_184228 = sub64(i_183975, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                            int64_t index_primexp_184281 = add64(index_concat_branch_182515, index_concat_i_184228);
                            
                            index_concat_branch_184231 = index_primexp_184281;
                        } else {
                            int64_t index_primexp_184283 = add64(index_concat_branch_182512, i_183975);
                            
                            index_concat_branch_184231 = index_primexp_184283;
                        }
                        
                        double index_concat_branch_184225;
                        
                        if (index_concat_cmp_184233) {
                            int64_t index_concat_i_184222 = sub64(i_183975, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                            int64_t slice_184278 = slice_182568 + index_concat_i_184222;
                            double index_concat_184223 = ((double *) b_list_mem_184306.mem)[slice_184278];
                            
                            index_concat_branch_184225 = index_concat_184223;
                        } else {
                            int64_t slice_184279 = slice_182549 + i_183975;
                            double index_concat_184224 = ((double *) a_list_mem_184305.mem)[slice_184279];
                            
                            index_concat_branch_184225 = index_concat_184224;
                        }
                        
                        bool eq_x_y_184295 = redout_183972 == (int8_t) 1;
                        bool eq_x_zz_184296 = redout_183972 == (int8_t) 0;
                        bool p_and_eq_x_y_184297 = index_concat_cmp_184233 && eq_x_y_184295;
                        bool not_p_184298 = !index_concat_cmp_184233;
                        bool p_and_eq_x_y_184299 = eq_x_zz_184296 && not_p_184298;
                        bool cond_182623 = p_and_eq_x_y_184297 || p_and_eq_x_y_184299;
                        bool defunc_0_leq_res_t_res_182624 = sle64(redout_183973, index_concat_branch_184231);
                        bool defunc_0_leq_res_182625 = redout_183974 <= index_concat_branch_184225;
                        bool x_182626 = cond_182623 && defunc_0_leq_res_t_res_182624;
                        bool x_182627 = !cond_182623;
                        bool y_182628 = defunc_0_leq_res_182625 && x_182627;
                        bool defunc_0_leq_res_182629 = x_182626 || y_182628;
                        int8_t defunc_0_op_res_182630;
                        
                        if (defunc_0_leq_res_182629) {
                            defunc_0_op_res_182630 = index_concat_branch_184237;
                        } else {
                            defunc_0_op_res_182630 = redout_183972;
                        }
                        
                        int64_t defunc_0_op_res_182631;
                        
                        if (defunc_0_leq_res_182629) {
                            defunc_0_op_res_182631 = index_concat_branch_184231;
                        } else {
                            defunc_0_op_res_182631 = redout_183973;
                        }
                        
                        double defunc_0_op_res_182632;
                        
                        if (defunc_0_leq_res_182629) {
                            defunc_0_op_res_182632 = index_concat_branch_184225;
                        } else {
                            defunc_0_op_res_182632 = redout_183974;
                        }
                        
                        int8_t redout_tmp_185764 = defunc_0_op_res_182630;
                        int64_t redout_tmp_185765 = defunc_0_op_res_182631;
                        double redout_tmp_185766 = defunc_0_op_res_182632;
                        
                        redout_183972 = redout_tmp_185764;
                        redout_183973 = redout_tmp_185765;
                        redout_183974 = redout_tmp_185766;
                    }
                    x_185470 = redout_183972;
                    x_185471 = redout_183973;
                    x_185472 = redout_183974;
                    defunc_0_reduce_res_182611 = x_185470;
                    defunc_0_reduce_res_182612 = x_185471;
                    defunc_0_reduce_res_182613 = x_185472;
                } else {
                    defunc_0_reduce_res_182611 = (int8_t) 0;
                    defunc_0_reduce_res_182612 = (int64_t) 0;
                    defunc_0_reduce_res_182613 = 0.0;
                }
                
                int64_t distance_182647 = add64((int64_t) 1, tmp_182645);
                int64_t binop_x_184727 = (int64_t) 8 * smallest_pow_2_geq_than_res_182581;
                int64_t bytes_184728 = block_sizze_182591 * binop_x_184727;
                int64_t bytes_184746 = (int64_t) 8 * block_sizze_182591;
                bool loop_cond_182773 = slt64(block_sizze_182591, flat_dim_182592);
                bool zzero_182774 = merge_block_sizze_182597 == (int64_t) 0;
                bool nonzzero_182775 = !zzero_182774;
                
                if (cond_182575) {
                    if (memblock_set(ctx, &ext_mem_185019, &mem_184720, "mem_184720") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185016, &mem_184722, "mem_184722") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185013, &mem_184724, "mem_184724") != 0)
                        return 1;
                } else {
                    if (mem_184726_cached_sizze_186069 < flat_dim_182592) {
                        err = lexical_realloc(ctx, &mem_184726, &mem_184726_cached_sizze_186069, flat_dim_182592);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184729_cached_sizze_186070 < bytes_184728) {
                        err = lexical_realloc(ctx, &mem_184729, &mem_184729_cached_sizze_186070, bytes_184728);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184732_cached_sizze_186071 < bytes_184728) {
                        err = lexical_realloc(ctx, &mem_184732, &mem_184732_cached_sizze_186071, bytes_184728);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184745_cached_sizze_186072 < block_sizze_182591) {
                        err = lexical_realloc(ctx, &mem_184745, &mem_184745_cached_sizze_186072, block_sizze_182591);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184747_cached_sizze_186073 < bytes_184746) {
                        err = lexical_realloc(ctx, &mem_184747, &mem_184747_cached_sizze_186073, bytes_184746);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184749_cached_sizze_186074 < bytes_184746) {
                        err = lexical_realloc(ctx, &mem_184749, &mem_184749_cached_sizze_186074, bytes_184746);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_183992 = 0; i_183992 < smallest_pow_2_geq_than_res_182581; i_183992++) {
                        int64_t zp_lhs_182655 = mul64(block_sizze_182591, i_183992);
                        
                        for (int64_t i_183982 = 0; i_183982 < block_sizze_182591; i_183982++) {
                            int64_t k_182660 = add64(zp_lhs_182655, i_183982);
                            bool cond_182661 = slt64(k_182660, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530);
                            int8_t lifted_lambda_res_182662;
                            int64_t lifted_lambda_res_182663;
                            double lifted_lambda_res_182664;
                            
                            if (cond_182661) {
                                bool x_182665 = sle64((int64_t) 0, k_182660);
                                bool bounds_check_182666 = cond_182661 && x_182665;
                                bool index_certs_182667;
                                
                                if (!bounds_check_182666) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_182660, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:393:63-73\n   #9  ftsort.fut:386:1-393:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_182668 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, k_182660);
                                int8_t index_concat_branch_182669 = btoi_bool_i8(index_concat_cmp_182668);
                                int64_t index_concat_branch_182670;
                                
                                if (index_concat_cmp_182668) {
                                    int64_t index_concat_i_182671 = sub64(k_182660, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                                    int64_t index_primexp_182672 = add64(index_concat_branch_182515, index_concat_i_182671);
                                    
                                    index_concat_branch_182670 = index_primexp_182672;
                                } else {
                                    int64_t index_primexp_182673 = add64(index_concat_branch_182512, k_182660);
                                    
                                    index_concat_branch_182670 = index_primexp_182673;
                                }
                                
                                double index_concat_branch_182674;
                                
                                if (index_concat_cmp_182668) {
                                    int64_t index_concat_i_182675 = sub64(k_182660, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                                    int64_t slice_182676 = index_concat_branch_182515 + index_concat_i_182675;
                                    int64_t slice_182677 = p_178825 + slice_182676;
                                    double index_concat_182678 = ((double *) b_list_mem_184306.mem)[slice_182677];
                                    
                                    index_concat_branch_182674 = index_concat_182678;
                                } else {
                                    int64_t slice_182679 = index_concat_branch_182512 + k_182660;
                                    int64_t slice_182680 = p_178824 + slice_182679;
                                    double index_concat_182681 = ((double *) a_list_mem_184305.mem)[slice_182680];
                                    
                                    index_concat_branch_182674 = index_concat_182681;
                                }
                                lifted_lambda_res_182662 = index_concat_branch_182669;
                                lifted_lambda_res_182663 = index_concat_branch_182670;
                                lifted_lambda_res_182664 = index_concat_branch_182674;
                            } else {
                                lifted_lambda_res_182662 = defunc_0_reduce_res_182611;
                                lifted_lambda_res_182663 = defunc_0_reduce_res_182612;
                                lifted_lambda_res_182664 = defunc_0_reduce_res_182613;
                            }
                            ((int8_t *) mem_184745)[i_183982] = lifted_lambda_res_182662;
                            ((int64_t *) mem_184747)[i_183982] = lifted_lambda_res_182663;
                            ((double *) mem_184749)[i_183982] = lifted_lambda_res_182664;
                        }
                        if (!cond_182644) {
                            for (int64_t i_182691 = 0; i_182691 < distance_182647; i_182691++) {
                                int64_t gt_arg1_182695 = add64((int64_t) 1, i_182691);
                                bool x_182696 = sle64((int64_t) 0, gt_arg1_182695);
                                bool y_182697 = slt64(gt_arg1_182695, block_sizze_182591);
                                bool bounds_check_182698 = x_182696 && y_182697;
                                bool index_certs_182699;
                                
                                if (!bounds_check_182698) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_182695, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_182703 = slt64(i_182691, block_sizze_182591);
                                bool index_certs_182704;
                                
                                if (!y_182703) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_182691, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_182700 = ((int8_t *) mem_184745)[gt_arg1_182695];
                                int64_t gt_arg1_182701 = ((int64_t *) mem_184747)[gt_arg1_182695];
                                double gt_arg1_182702 = ((double *) mem_184749)[gt_arg1_182695];
                                int8_t gt_arg0_182705 = ((int8_t *) mem_184745)[i_182691];
                                int64_t gt_arg0_182706 = ((int64_t *) mem_184747)[i_182691];
                                double gt_arg0_182707 = ((double *) mem_184749)[i_182691];
                                bool cond_182708 = gt_arg0_182705 == gt_arg1_182700;
                                bool defunc_0_leq_res_t_res_182709 = sle64(gt_arg0_182706, gt_arg1_182701);
                                bool defunc_0_leq_res_182710 = gt_arg0_182707 <= gt_arg1_182702;
                                bool x_182711 = cond_182708 && defunc_0_leq_res_t_res_182709;
                                bool x_182712 = !cond_182708;
                                bool y_182713 = defunc_0_leq_res_182710 && x_182712;
                                bool defunc_0_leq_res_182714 = x_182711 || y_182713;
                                bool defunc_0_lifted_gt_res_182715 = !defunc_0_leq_res_182714;
                                bool s_182716;
                                int64_t s_182720;
                                bool loop_while_182721;
                                int64_t j_182725;
                                
                                loop_while_182721 = defunc_0_lifted_gt_res_182715;
                                j_182725 = i_182691;
                                while (loop_while_182721) {
                                    bool x_182726 = sle64((int64_t) 0, j_182725);
                                    bool y_182727 = slt64(j_182725, block_sizze_182591);
                                    bool bounds_check_182728 = x_182726 && y_182727;
                                    bool index_certs_182729;
                                    
                                    if (!bounds_check_182728) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_182725, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_182733 = add64((int64_t) 1, j_182725);
                                    bool x_182734 = sle64((int64_t) 0, copy_arg0_182733);
                                    bool y_182735 = slt64(copy_arg0_182733, block_sizze_182591);
                                    bool bounds_check_182736 = x_182734 && y_182735;
                                    bool index_certs_182737;
                                    
                                    if (!bounds_check_182736) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_182733, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_182730 = ((int8_t *) mem_184745)[j_182725];
                                    int64_t copy_arg0_182731 = ((int64_t *) mem_184747)[j_182725];
                                    double copy_arg0_182732 = ((double *) mem_184749)[j_182725];
                                    int8_t copy_arg0_182738 = ((int8_t *) mem_184745)[copy_arg0_182733];
                                    int64_t copy_arg0_182739 = ((int64_t *) mem_184747)[copy_arg0_182733];
                                    double copy_arg0_182740 = ((double *) mem_184749)[copy_arg0_182733];
                                    
                                    ((int8_t *) mem_184745)[j_182725] = copy_arg0_182738;
                                    ((int64_t *) mem_184747)[j_182725] = copy_arg0_182739;
                                    ((double *) mem_184749)[j_182725] = copy_arg0_182740;
                                    ((int8_t *) mem_184745)[copy_arg0_182733] = copy_arg0_182730;
                                    ((int64_t *) mem_184747)[copy_arg0_182733] = copy_arg0_182731;
                                    ((double *) mem_184749)[copy_arg0_182733] = copy_arg0_182732;
                                    
                                    int64_t tmp_182747 = sub64(j_182725, (int64_t) 1);
                                    bool cond_182748 = sle64((int64_t) 0, tmp_182747);
                                    bool loop_cond_182749;
                                    
                                    if (cond_182748) {
                                        bool y_182753 = slt64(tmp_182747, block_sizze_182591);
                                        bool bounds_check_182754 = cond_182748 && y_182753;
                                        bool index_certs_182755;
                                        
                                        if (!bounds_check_182754) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_182747, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_182750 = ((int8_t *) mem_184745)[j_182725];
                                        int64_t gt_arg1_182751 = ((int64_t *) mem_184747)[j_182725];
                                        double gt_arg1_182752 = ((double *) mem_184749)[j_182725];
                                        int8_t gt_arg0_182756 = ((int8_t *) mem_184745)[tmp_182747];
                                        int64_t gt_arg0_182757 = ((int64_t *) mem_184747)[tmp_182747];
                                        double gt_arg0_182758 = ((double *) mem_184749)[tmp_182747];
                                        bool cond_182759 = gt_arg0_182756 == gt_arg1_182750;
                                        bool defunc_0_leq_res_t_res_182760 = sle64(gt_arg0_182757, gt_arg1_182751);
                                        bool defunc_0_leq_res_182761 = gt_arg0_182758 <= gt_arg1_182752;
                                        bool x_182762 = cond_182759 && defunc_0_leq_res_t_res_182760;
                                        bool x_182763 = !cond_182759;
                                        bool y_182764 = defunc_0_leq_res_182761 && x_182763;
                                        bool defunc_0_leq_res_182765 = x_182762 || y_182764;
                                        bool defunc_0_lifted_gt_res_182766 = !defunc_0_leq_res_182765;
                                        
                                        loop_cond_182749 = defunc_0_lifted_gt_res_182766;
                                    } else {
                                        loop_cond_182749 = 0;
                                    }
                                    
                                    bool loop_while_tmp_185776 = loop_cond_182749;
                                    int64_t j_tmp_185780 = tmp_182747;
                                    
                                    loop_while_182721 = loop_while_tmp_185776;
                                    j_182725 = j_tmp_185780;
                                }
                                s_182716 = loop_while_182721;
                                s_182720 = j_182725;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_184726, i_183992 * block_sizze_182591, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184745, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_182591});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184729, i_183992 * block_sizze_182591, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184747, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_182591});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184732, i_183992 * block_sizze_182591, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184749, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_182591});
                    }
                    if (memblock_alloc(ctx, &mem_184826, flat_dim_182592, "mem_184826")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_184826.mem, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (uint8_t *) mem_184726, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_182581, block_sizze_182591});
                    if (memblock_alloc(ctx, &mem_184830, bytes_184728, "mem_184830")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_184830.mem, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (uint64_t *) mem_184729, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_182581, block_sizze_182591});
                    if (memblock_alloc(ctx, &mem_184834, bytes_184728, "mem_184834")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_184834.mem, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (uint64_t *) mem_184732, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_182581, block_sizze_182591});
                    
                    int64_t data_182776;
                    bool data_182777;
                    int64_t data_182781;
                    int64_t loop_dz2084Uz2082U_182782;
                    bool loop_while_182783;
                    int64_t stride_182787;
                    
                    if (memblock_set(ctx, &mem_param_184838, &mem_184826, "mem_184826") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_184841, &mem_184830, "mem_184830") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_184844, &mem_184834, "mem_184834") != 0)
                        return 1;
                    loop_dz2084Uz2082U_182782 = flat_dim_182592;
                    loop_while_182783 = loop_cond_182773;
                    stride_182787 = block_sizze_182591;
                    while (loop_while_182783) {
                        int64_t next_stride_182788 = mul64((int64_t) 2, stride_182787);
                        bool zzero_182789 = next_stride_182788 == (int64_t) 0;
                        bool nonzzero_182790 = !zzero_182789;
                        bool nonzzero_cert_182791;
                        
                        if (!nonzzero_182790) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_182792 = sdiv64(flat_dim_182592, next_stride_182788);
                        bool bounds_invalid_upwards_182793 = slt64(num_merges_182792, (int64_t) 0);
                        bool valid_182794 = !bounds_invalid_upwards_182793;
                        bool range_valid_c_182795;
                        
                        if (!valid_182794) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_182792, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:393:63-73\n   #6  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_182797 = sub64(next_stride_182788, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_182798 = sle64((int64_t) 0, m_182797);
                        bool cond_182800 = slt64(next_stride_182788, (int64_t) 10);
                        bool protect_assert_disj_182801 = nonzzero_182775 || cond_182800;
                        bool nonzzero_cert_182802;
                        
                        if (!protect_assert_disj_182801) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_182803 = smod_safe64(next_stride_182788, merge_block_sizze_182597);
                        bool num_blocks_182804 = zeze_lhs_182803 == (int64_t) 0;
                        bool protect_assert_disj_182805 = cond_182800 || num_blocks_182804;
                        bool assert_c_182806;
                        
                        if (!protect_assert_disj_182805) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_182807 = sdiv_safe64(next_stride_182788, merge_block_sizze_182597);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808 = add64((int64_t) 1, num_blocks_182807);
                        int64_t j_m_i_182809 = sub64(next_stride_182788, stride_182787);
                        int64_t flat_dim_182810 = merge_block_sizze_182597 * num_blocks_182807;
                        bool bounds_invalid_upwards_182811 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808, (int64_t) 0);
                        bool empty_slice_182812 = j_m_i_182809 == (int64_t) 0;
                        int64_t m_182813 = sub64(j_m_i_182809, (int64_t) 1);
                        bool zzero_lte_i_182814 = sle64((int64_t) 0, stride_182787);
                        bool i_lte_j_182815 = sle64(stride_182787, next_stride_182788);
                        bool empty_slice_182816 = stride_182787 == (int64_t) 0;
                        int64_t m_182817 = sub64(stride_182787, (int64_t) 1);
                        bool bounds_invalid_upwards_182818 = slt64(num_blocks_182807, (int64_t) 0);
                        bool cond_182819 = slt64((int64_t) 0, stride_182787);
                        bool valid_182820 = !bounds_invalid_upwards_182811;
                        int64_t i_p_m_t_s_182821 = add64(stride_182787, m_182813);
                        bool zzero_leq_i_p_m_t_s_182822 = sle64((int64_t) 0, m_182817);
                        bool i_p_m_t_s_leq_w_182823 = slt64(m_182817, next_stride_182788);
                        bool valid_182824 = !bounds_invalid_upwards_182818;
                        bool i_p_m_t_s_leq_w_182825 = slt64(m_182797, flat_dim_182810);
                        bool y_182826 = slt64((int64_t) 0, j_m_i_182809);
                        bool protect_assert_disj_182827 = cond_182800 || valid_182820;
                        bool range_valid_c_182828;
                        
                        if (!protect_assert_disj_182827) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:393:63-73\n   #10 ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_182829 = sle64((int64_t) 0, i_p_m_t_s_182821);
                        bool i_p_m_t_s_leq_w_182830 = slt64(i_p_m_t_s_182821, next_stride_182788);
                        bool y_182831 = zzero_leq_i_p_m_t_s_182822 && i_p_m_t_s_leq_w_182823;
                        bool protect_assert_disj_182832 = cond_182800 || valid_182824;
                        bool range_valid_c_182833;
                        
                        if (!protect_assert_disj_182832) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_182807, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:393:63-73\n   #9  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_182834 = zzero_leq_i_p_m_t_s_182798 && i_p_m_t_s_leq_w_182825;
                        bool y_182835 = zzero_lte_i_182814 && i_p_m_t_s_leq_w_182830;
                        bool forwards_ok_182836 = zzero_lte_i_182814 && y_182831;
                        bool ok_or_empty_182837 = zzero_182789 || y_182834;
                        bool protect_assert_disj_182838 = cond_182819 || y_182826;
                        bool y_182839 = zzero_leq_i_p_m_t_s_182829 && y_182835;
                        bool ok_or_empty_182840 = empty_slice_182816 || forwards_ok_182836;
                        bool protect_assert_disj_182841 = cond_182800 || ok_or_empty_182837;
                        bool index_certs_182842;
                        
                        if (!protect_assert_disj_182841) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_182788, "] out of bounds for array of shape [", (long long) flat_dim_182810, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:393:63-73\n   #9  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_182843 = !cond_182800;
                        bool protect_assert_disj_182844 = protect_assert_disj_182838 || loop_not_taken_182843;
                        bool index_certs_182845;
                        
                        if (!protect_assert_disj_182844) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:393:63-73\n   #10 ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_182846 = i_lte_j_182815 && y_182839;
                        bool protect_assert_disj_182847 = cond_182800 || ok_or_empty_182840;
                        bool index_certs_182848;
                        
                        if (!protect_assert_disj_182847) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_182787, "] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:393:63-73\n   #11 ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_182849 = ok_or_empty_182840 || loop_not_taken_182843;
                        bool index_certs_182850;
                        
                        if (!protect_assert_disj_182849) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_182787, "] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_182851 = empty_slice_182812 || forwards_ok_182846;
                        bool protect_assert_disj_182852 = cond_182800 || ok_or_empty_182851;
                        bool index_certs_182853;
                        
                        if (!protect_assert_disj_182852) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_182787, ":] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:393:63-73\n   #11 ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_182854 = loop_not_taken_182843 || ok_or_empty_182851;
                        bool index_certs_182855;
                        
                        if (!protect_assert_disj_182854) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_182787, ":] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_184845 = next_stride_182788 * num_merges_182792;
                        int64_t binop_x_184847 = (int64_t) 8 * num_merges_182792;
                        int64_t bytes_184848 = next_stride_182788 * binop_x_184847;
                        bool i_lte_j_182799 = sle64((int64_t) 0, next_stride_182788);
                        
                        if (mem_184846_cached_sizze_186075 < bytes_184845) {
                            err = lexical_realloc(ctx, &mem_184846, &mem_184846_cached_sizze_186075, bytes_184845);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_184849_cached_sizze_186076 < bytes_184848) {
                            err = lexical_realloc(ctx, &mem_184849, &mem_184849_cached_sizze_186076, bytes_184848);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_184852_cached_sizze_186077 < bytes_184848) {
                            err = lexical_realloc(ctx, &mem_184852, &mem_184852_cached_sizze_186077, bytes_184848);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_184865 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808;
                        int64_t binop_x_184883 = (int64_t) 8 * num_blocks_182807;
                        int64_t bytes_184884 = merge_block_sizze_182597 * binop_x_184883;
                        int64_t bytes_184948 = (int64_t) 16 * stride_182787;
                        
                        for (int64_t i_184019 = 0; i_184019 < num_merges_182792; i_184019++) {
                            int64_t start_182860 = mul64(next_stride_182788, i_184019);
                            int64_t j_m_i_182861 = sub64(loop_dz2084Uz2082U_182782, start_182860);
                            bool empty_slice_182862 = j_m_i_182861 == (int64_t) 0;
                            int64_t m_182863 = sub64(j_m_i_182861, (int64_t) 1);
                            int64_t i_p_m_t_s_182864 = add64(start_182860, m_182863);
                            bool zzero_leq_i_p_m_t_s_182865 = sle64((int64_t) 0, i_p_m_t_s_182864);
                            bool i_p_m_t_s_leq_w_182866 = slt64(i_p_m_t_s_182864, loop_dz2084Uz2082U_182782);
                            bool zzero_lte_i_182867 = sle64((int64_t) 0, start_182860);
                            bool i_lte_j_182868 = sle64(start_182860, loop_dz2084Uz2082U_182782);
                            bool y_182869 = i_p_m_t_s_leq_w_182866 && zzero_lte_i_182867;
                            bool y_182870 = zzero_leq_i_p_m_t_s_182865 && y_182869;
                            bool forwards_ok_182871 = i_lte_j_182868 && y_182870;
                            bool ok_or_empty_182872 = empty_slice_182862 || forwards_ok_182871;
                            bool index_certs_182873;
                            
                            if (!ok_or_empty_182872) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_182860, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_182782, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_182874 = slt64(m_182797, j_m_i_182861);
                            bool y_182875 = zzero_leq_i_p_m_t_s_182798 && i_p_m_t_s_leq_w_182874;
                            bool forwards_ok_182876 = i_lte_j_182799 && y_182875;
                            bool ok_or_empty_182877 = zzero_182789 || forwards_ok_182876;
                            bool index_certs_182878;
                            
                            if (!ok_or_empty_182877) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_182788, "] out of bounds for array of shape [", (long long) j_m_i_182861, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_182800) {
                                int8_t dummy_182882;
                                int64_t dummy_182883;
                                double dummy_182884;
                                
                                if (cond_182819) {
                                    int8_t head_res_182885 = ((int8_t *) mem_param_184838.mem)[start_182860];
                                    int64_t head_res_182886 = ((int64_t *) mem_param_184841.mem)[start_182860];
                                    double head_res_182887 = ((double *) mem_param_184844.mem)[start_182860];
                                    
                                    dummy_182882 = head_res_182885;
                                    dummy_182883 = head_res_182886;
                                    dummy_182884 = head_res_182887;
                                } else {
                                    int64_t slice_182888 = stride_182787 + start_182860;
                                    int8_t head_res_182889 = ((int8_t *) mem_param_184838.mem)[slice_182888];
                                    int64_t head_res_182890 = ((int64_t *) mem_param_184841.mem)[slice_182888];
                                    double head_res_182891 = ((double *) mem_param_184844.mem)[slice_182888];
                                    
                                    dummy_182882 = head_res_182889;
                                    dummy_182883 = head_res_182890;
                                    dummy_182884 = head_res_182891;
                                }
                                if (memblock_alloc(ctx, &mem_184947, next_stride_182788, "mem_184947")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185793 = 0; nest_i_185793 < next_stride_182788; nest_i_185793++) {
                                    ((int8_t *) mem_184947.mem)[nest_i_185793] = dummy_182882;
                                }
                                if (memblock_alloc(ctx, &mem_184949, bytes_184948, "mem_184949")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185794 = 0; nest_i_185794 < next_stride_182788; nest_i_185794++) {
                                    ((int64_t *) mem_184949.mem)[nest_i_185794] = dummy_182883;
                                }
                                if (memblock_alloc(ctx, &mem_184951, bytes_184948, "mem_184951")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185795 = 0; nest_i_185795 < next_stride_182788; nest_i_185795++) {
                                    ((double *) mem_184951.mem)[nest_i_185795] = dummy_182884;
                                }
                                
                                int64_t data_182895;
                                int64_t i_182900 = (int64_t) 0;
                                
                                for (int64_t k_182899 = 0; k_182899 < next_stride_182788; k_182899++) {
                                    int64_t j_182904 = sub64(k_182899, i_182900);
                                    bool cond_182905 = j_182904 == j_m_i_182809;
                                    bool cond_182906;
                                    
                                    if (cond_182905) {
                                        cond_182906 = 1;
                                    } else {
                                        bool cond_182907 = slt64(i_182900, stride_182787);
                                        bool cond_f_res_182908;
                                        
                                        if (cond_182907) {
                                            bool x_182909 = sle64((int64_t) 0, j_182904);
                                            bool y_182910 = slt64(j_182904, j_m_i_182809);
                                            bool bounds_check_182911 = x_182909 && y_182910;
                                            bool index_certs_182912;
                                            
                                            if (!bounds_check_182911) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_182904, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:393:63-73\n   #9  ftsort.fut:386:1-393:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_182918 = sle64((int64_t) 0, i_182900);
                                            bool bounds_check_182919 = cond_182907 && x_182918;
                                            bool index_certs_182920;
                                            
                                            if (!bounds_check_182919) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_182900, "] out of bounds for array of shape [", (long long) stride_182787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:393:63-73\n   #9  ftsort.fut:386:1-393:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_182913 = stride_182787 + j_182904;
                                            int64_t slice_182914 = start_182860 + slice_182913;
                                            int8_t leq_arg1_182915 = ((int8_t *) mem_param_184838.mem)[slice_182914];
                                            int64_t leq_arg1_182916 = ((int64_t *) mem_param_184841.mem)[slice_182914];
                                            double leq_arg1_182917 = ((double *) mem_param_184844.mem)[slice_182914];
                                            int64_t slice_182921 = start_182860 + i_182900;
                                            int8_t leq_arg0_182922 = ((int8_t *) mem_param_184838.mem)[slice_182921];
                                            int64_t leq_arg0_182923 = ((int64_t *) mem_param_184841.mem)[slice_182921];
                                            double leq_arg0_182924 = ((double *) mem_param_184844.mem)[slice_182921];
                                            bool cond_182925 = leq_arg0_182922 == leq_arg1_182915;
                                            bool defunc_0_leq_res_t_res_182926 = sle64(leq_arg0_182923, leq_arg1_182916);
                                            bool defunc_0_leq_res_182927 = leq_arg0_182924 <= leq_arg1_182917;
                                            bool x_182928 = cond_182925 && defunc_0_leq_res_t_res_182926;
                                            bool x_182929 = !cond_182925;
                                            bool y_182930 = defunc_0_leq_res_182927 && x_182929;
                                            bool defunc_0_leq_res_182931 = x_182928 || y_182930;
                                            
                                            cond_f_res_182908 = defunc_0_leq_res_182931;
                                        } else {
                                            cond_f_res_182908 = 0;
                                        }
                                        cond_182906 = cond_f_res_182908;
                                    }
                                    
                                    int64_t loopres_182932;
                                    int8_t loopres_182933;
                                    int64_t loopres_182934;
                                    double loopres_182935;
                                    
                                    if (cond_182906) {
                                        bool x_182937 = sle64((int64_t) 0, i_182900);
                                        bool y_182938 = slt64(i_182900, stride_182787);
                                        bool bounds_check_182939 = x_182937 && y_182938;
                                        bool index_certs_182940;
                                        
                                        if (!bounds_check_182939) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_182900, "] out of bounds for array of shape [", (long long) stride_182787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:393:63-73\n   #9  ftsort.fut:386:1-393:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_182936 = add64((int64_t) 1, i_182900);
                                        int64_t slice_182941 = start_182860 + i_182900;
                                        int8_t tmp_182942 = ((int8_t *) mem_param_184838.mem)[slice_182941];
                                        int64_t tmp_182943 = ((int64_t *) mem_param_184841.mem)[slice_182941];
                                        double tmp_182944 = ((double *) mem_param_184844.mem)[slice_182941];
                                        
                                        loopres_182932 = tmp_182936;
                                        loopres_182933 = tmp_182942;
                                        loopres_182934 = tmp_182943;
                                        loopres_182935 = tmp_182944;
                                    } else {
                                        bool x_182945 = sle64((int64_t) 0, j_182904);
                                        bool y_182946 = slt64(j_182904, j_m_i_182809);
                                        bool bounds_check_182947 = x_182945 && y_182946;
                                        bool index_certs_182948;
                                        
                                        if (!bounds_check_182947) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_182904, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:393:63-73\n   #9  ftsort.fut:386:1-393:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_182949 = stride_182787 + j_182904;
                                        int64_t slice_182950 = start_182860 + slice_182949;
                                        int8_t tmp_182951 = ((int8_t *) mem_param_184838.mem)[slice_182950];
                                        int64_t tmp_182952 = ((int64_t *) mem_param_184841.mem)[slice_182950];
                                        double tmp_182953 = ((double *) mem_param_184844.mem)[slice_182950];
                                        
                                        loopres_182932 = i_182900;
                                        loopres_182933 = tmp_182951;
                                        loopres_182934 = tmp_182952;
                                        loopres_182935 = tmp_182953;
                                    }
                                    ((int8_t *) mem_184947.mem)[k_182899] = loopres_182933;
                                    ((int64_t *) mem_184949.mem)[k_182899] = loopres_182934;
                                    ((double *) mem_184951.mem)[k_182899] = loopres_182935;
                                    
                                    int64_t i_tmp_185796 = loopres_182932;
                                    
                                    i_182900 = i_tmp_185796;
                                }
                                data_182895 = i_182900;
                                if (memblock_set(ctx, &ext_mem_184978, &mem_184947, "mem_184947") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184975, &mem_184949, "mem_184949") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184972, &mem_184951, "mem_184951") != 0)
                                    return 1;
                            } else {
                                if (mem_184866_cached_sizze_186078 < bytes_184865) {
                                    err = lexical_realloc(ctx, &mem_184866, &mem_184866_cached_sizze_186078, bytes_184865);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184868_cached_sizze_186079 < bytes_184865) {
                                    err = lexical_realloc(ctx, &mem_184868, &mem_184868_cached_sizze_186079, bytes_184865);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_184000 = 0; i_184000 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808; i_184000++) {
                                    int64_t split_count_arg3_182961 = mul64(merge_block_sizze_182597, i_184000);
                                    int64_t defunc_0_split_count_res_182962;
                                    int64_t defunc_0_split_count_res_182963;
                                    int64_t defunc_0_split_count_res_182964;
                                    int64_t defunc_0_split_count_res_182965;
                                    int64_t defunc_0_split_count_res_182966;
                                    
                                    if (futrts_lifted_normalizze_9100(ctx, &defunc_0_split_count_res_182962, &defunc_0_split_count_res_182963, &defunc_0_split_count_res_182964, &defunc_0_split_count_res_182965, &defunc_0_split_count_res_182966, (int64_t) 0, stride_182787, (int64_t) 0, j_m_i_182809, split_count_arg3_182961) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_182967 = slt64((int64_t) 0, defunc_0_split_count_res_182966);
                                    bool defunc_0_split_count_res_182968;
                                    int64_t defunc_0_split_count_res_182969;
                                    int64_t defunc_0_split_count_res_182970;
                                    int64_t defunc_0_split_count_res_182971;
                                    int64_t defunc_0_split_count_res_182972;
                                    int64_t defunc_0_split_count_res_182973;
                                    bool loop_while_182974;
                                    int64_t ss_182975;
                                    int64_t ss_182976;
                                    int64_t tt_182977;
                                    int64_t tt_182978;
                                    int64_t count_182979;
                                    
                                    loop_while_182974 = loop_cond_182967;
                                    ss_182975 = defunc_0_split_count_res_182962;
                                    ss_182976 = defunc_0_split_count_res_182963;
                                    tt_182977 = defunc_0_split_count_res_182964;
                                    tt_182978 = defunc_0_split_count_res_182965;
                                    count_182979 = defunc_0_split_count_res_182966;
                                    while (loop_while_182974) {
                                        int64_t zlze_lhs_182980 = sub64(ss_182976, ss_182975);
                                        bool cond_182981 = sle64(zlze_lhs_182980, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_182982;
                                        int64_t defunc_0_lifted_step_res_182983;
                                        int64_t defunc_0_lifted_step_res_182984;
                                        int64_t defunc_0_lifted_step_res_182985;
                                        
                                        if (cond_182981) {
                                            int64_t tmp_182986 = add64(tt_182977, count_182979);
                                            
                                            defunc_0_lifted_step_res_182982 = ss_182975;
                                            defunc_0_lifted_step_res_182983 = tmp_182986;
                                            defunc_0_lifted_step_res_182984 = tt_182978;
                                            defunc_0_lifted_step_res_182985 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_182987 = sub64(tt_182978, tt_182977);
                                            bool cond_182988 = sle64(zlze_lhs_182987, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_182989;
                                            int64_t defunc_0_lifted_step_res_f_res_182990;
                                            int64_t defunc_0_lifted_step_res_f_res_182991;
                                            int64_t defunc_0_lifted_step_res_f_res_182992;
                                            
                                            if (cond_182988) {
                                                int64_t tmp_182993 = add64(ss_182975, count_182979);
                                                
                                                defunc_0_lifted_step_res_f_res_182989 = tmp_182993;
                                                defunc_0_lifted_step_res_f_res_182990 = tt_182977;
                                                defunc_0_lifted_step_res_f_res_182991 = tt_182978;
                                                defunc_0_lifted_step_res_f_res_182992 = (int64_t) 0;
                                            } else {
                                                bool cond_182994 = count_182979 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_182995;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_182996;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_182997;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_182998;
                                                
                                                if (cond_182994) {
                                                    bool x_182999 = sle64((int64_t) 0, ss_182975);
                                                    bool y_183000 = slt64(ss_182975, stride_182787);
                                                    bool bounds_check_183001 = x_182999 && y_183000;
                                                    bool index_certs_183002;
                                                    
                                                    if (!bounds_check_183001) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_182975, "] out of bounds for array of shape [", (long long) stride_182787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:393:63-73\n   #13 ftsort.fut:386:1-393:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_183007 = sle64((int64_t) 0, tt_182977);
                                                    bool y_183008 = slt64(tt_182977, j_m_i_182809);
                                                    bool bounds_check_183009 = x_183007 && y_183008;
                                                    bool index_certs_183010;
                                                    
                                                    if (!bounds_check_183009) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_182977, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:393:63-73\n   #13 ftsort.fut:386:1-393:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_183003 = start_182860 + ss_182975;
                                                    int8_t leq_arg1_183004 = ((int8_t *) mem_param_184838.mem)[slice_183003];
                                                    int64_t leq_arg1_183005 = ((int64_t *) mem_param_184841.mem)[slice_183003];
                                                    double leq_arg1_183006 = ((double *) mem_param_184844.mem)[slice_183003];
                                                    int64_t slice_183011 = stride_182787 + tt_182977;
                                                    int64_t slice_183012 = start_182860 + slice_183011;
                                                    int8_t leq_arg0_183013 = ((int8_t *) mem_param_184838.mem)[slice_183012];
                                                    int64_t leq_arg0_183014 = ((int64_t *) mem_param_184841.mem)[slice_183012];
                                                    double leq_arg0_183015 = ((double *) mem_param_184844.mem)[slice_183012];
                                                    bool cond_183016 = leq_arg0_183013 == leq_arg1_183004;
                                                    bool defunc_0_leq_res_t_res_183017 = sle64(leq_arg0_183014, leq_arg1_183005);
                                                    bool defunc_0_leq_res_183018 = leq_arg0_183015 <= leq_arg1_183006;
                                                    bool x_183019 = cond_183016 && defunc_0_leq_res_t_res_183017;
                                                    bool x_183020 = !cond_183016;
                                                    bool y_183021 = defunc_0_leq_res_183018 && x_183020;
                                                    bool defunc_0_leq_res_183022 = x_183019 || y_183021;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183023;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183024;
                                                    
                                                    if (defunc_0_leq_res_183022) {
                                                        int64_t tmp_183025 = add64((int64_t) 1, tt_182977);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183023 = ss_182975;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183024 = tmp_183025;
                                                    } else {
                                                        int64_t tmp_183026 = add64((int64_t) 1, ss_182975);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183023 = tmp_183026;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183024 = tt_182977;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_182995 = defunc_0_lifted_step_res_f_res_f_res_t_res_183023;
                                                    defunc_0_lifted_step_res_f_res_f_res_182996 = defunc_0_lifted_step_res_f_res_f_res_t_res_183024;
                                                    defunc_0_lifted_step_res_f_res_f_res_182997 = tt_182978;
                                                    defunc_0_lifted_step_res_f_res_f_res_182998 = (int64_t) 0;
                                                } else {
                                                    int64_t m_183027 = sdiv64(count_182979, (int64_t) 2);
                                                    int64_t n_183028 = sub64(count_182979, m_183027);
                                                    bool cond_183029 = n_183028 == (int64_t) 0;
                                                    int64_t zgze_lhs_183030 = add64(ss_182975, m_183027);
                                                    bool cond_f_res_183031 = sle64(ss_182976, zgze_lhs_183030);
                                                    bool x_183032 = !cond_183029;
                                                    bool y_183033 = cond_f_res_183031 && x_183032;
                                                    bool cond_183034 = cond_183029 || y_183033;
                                                    bool leq_y_x_183035;
                                                    
                                                    if (cond_183034) {
                                                        leq_y_x_183035 = 1;
                                                    } else {
                                                        bool x_183036 = sle64((int64_t) 0, zgze_lhs_183030);
                                                        bool y_183037 = slt64(zgze_lhs_183030, stride_182787);
                                                        bool bounds_check_183038 = x_183036 && y_183037;
                                                        bool index_certs_183039;
                                                        
                                                        if (!bounds_check_183038) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_183030, "] out of bounds for array of shape [", (long long) stride_182787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:393:63-73\n   #13 ftsort.fut:386:1-393:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_183044 = add64(tt_182977, n_183028);
                                                        int64_t leq_arg0_183045 = sub64(zm_lhs_183044, (int64_t) 1);
                                                        bool x_183046 = sle64((int64_t) 0, leq_arg0_183045);
                                                        bool y_183047 = slt64(leq_arg0_183045, j_m_i_182809);
                                                        bool bounds_check_183048 = x_183046 && y_183047;
                                                        bool index_certs_183049;
                                                        
                                                        if (!bounds_check_183048) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_183045, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:393:63-73\n   #13 ftsort.fut:386:1-393:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_183040 = start_182860 + zgze_lhs_183030;
                                                        int8_t leq_arg1_183041 = ((int8_t *) mem_param_184838.mem)[slice_183040];
                                                        int64_t leq_arg1_183042 = ((int64_t *) mem_param_184841.mem)[slice_183040];
                                                        double leq_arg1_183043 = ((double *) mem_param_184844.mem)[slice_183040];
                                                        int64_t slice_183050 = stride_182787 + leq_arg0_183045;
                                                        int64_t slice_183051 = start_182860 + slice_183050;
                                                        int8_t leq_arg0_183052 = ((int8_t *) mem_param_184838.mem)[slice_183051];
                                                        int64_t leq_arg0_183053 = ((int64_t *) mem_param_184841.mem)[slice_183051];
                                                        double leq_arg0_183054 = ((double *) mem_param_184844.mem)[slice_183051];
                                                        bool cond_183055 = leq_arg0_183052 == leq_arg1_183041;
                                                        bool defunc_0_leq_res_t_res_183056 = sle64(leq_arg0_183053, leq_arg1_183042);
                                                        bool defunc_0_leq_res_183057 = leq_arg0_183054 <= leq_arg1_183043;
                                                        bool x_183058 = cond_183055 && defunc_0_leq_res_t_res_183056;
                                                        bool x_183059 = !cond_183055;
                                                        bool y_183060 = defunc_0_leq_res_183057 && x_183059;
                                                        bool defunc_0_leq_res_183061 = x_183058 || y_183060;
                                                        
                                                        leq_y_x_183035 = defunc_0_leq_res_183061;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_183062;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_183063;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_183064;
                                                    
                                                    if (leq_y_x_183035) {
                                                        int64_t tmp_183065 = add64(tt_182977, n_183028);
                                                        int64_t tmp_183066 = sub64(count_182979, n_183028);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183062 = tmp_183065;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183063 = tt_182978;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183064 = tmp_183066;
                                                    } else {
                                                        int64_t tmp_183067 = add64(tt_182977, n_183028);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183062 = tt_182977;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183063 = tmp_183067;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183064 = count_182979;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_182995 = ss_182975;
                                                    defunc_0_lifted_step_res_f_res_f_res_182996 = defunc_0_lifted_step_res_f_res_f_res_f_res_183062;
                                                    defunc_0_lifted_step_res_f_res_f_res_182997 = defunc_0_lifted_step_res_f_res_f_res_f_res_183063;
                                                    defunc_0_lifted_step_res_f_res_f_res_182998 = defunc_0_lifted_step_res_f_res_f_res_f_res_183064;
                                                }
                                                defunc_0_lifted_step_res_f_res_182989 = defunc_0_lifted_step_res_f_res_f_res_182995;
                                                defunc_0_lifted_step_res_f_res_182990 = defunc_0_lifted_step_res_f_res_f_res_182996;
                                                defunc_0_lifted_step_res_f_res_182991 = defunc_0_lifted_step_res_f_res_f_res_182997;
                                                defunc_0_lifted_step_res_f_res_182992 = defunc_0_lifted_step_res_f_res_f_res_182998;
                                            }
                                            defunc_0_lifted_step_res_182982 = defunc_0_lifted_step_res_f_res_182989;
                                            defunc_0_lifted_step_res_182983 = defunc_0_lifted_step_res_f_res_182990;
                                            defunc_0_lifted_step_res_182984 = defunc_0_lifted_step_res_f_res_182991;
                                            defunc_0_lifted_step_res_182985 = defunc_0_lifted_step_res_f_res_182992;
                                        }
                                        
                                        int64_t loopres_183068;
                                        int64_t loopres_183069;
                                        int64_t loopres_183070;
                                        int64_t loopres_183071;
                                        int64_t loopres_183072;
                                        
                                        if (futrts_lifted_normalizze_9100(ctx, &loopres_183068, &loopres_183069, &loopres_183070, &loopres_183071, &loopres_183072, defunc_0_lifted_step_res_182982, ss_182976, defunc_0_lifted_step_res_182983, defunc_0_lifted_step_res_182984, defunc_0_lifted_step_res_182985) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_183073 = slt64((int64_t) 0, loopres_183072);
                                        bool loop_while_tmp_185802 = loop_cond_183073;
                                        int64_t ss_tmp_185803 = loopres_183068;
                                        int64_t ss_tmp_185804 = loopres_183069;
                                        int64_t tt_tmp_185805 = loopres_183070;
                                        int64_t tt_tmp_185806 = loopres_183071;
                                        int64_t count_tmp_185807 = loopres_183072;
                                        
                                        loop_while_182974 = loop_while_tmp_185802;
                                        ss_182975 = ss_tmp_185803;
                                        ss_182976 = ss_tmp_185804;
                                        tt_182977 = tt_tmp_185805;
                                        tt_182978 = tt_tmp_185806;
                                        count_182979 = count_tmp_185807;
                                    }
                                    defunc_0_split_count_res_182968 = loop_while_182974;
                                    defunc_0_split_count_res_182969 = ss_182975;
                                    defunc_0_split_count_res_182970 = ss_182976;
                                    defunc_0_split_count_res_182971 = tt_182977;
                                    defunc_0_split_count_res_182972 = tt_182978;
                                    defunc_0_split_count_res_182973 = count_182979;
                                    ((int64_t *) mem_184866)[i_184000] = defunc_0_split_count_res_182969;
                                    ((int64_t *) mem_184868)[i_184000] = defunc_0_split_count_res_182971;
                                }
                                if (mem_184882_cached_sizze_186080 < flat_dim_182810) {
                                    err = lexical_realloc(ctx, &mem_184882, &mem_184882_cached_sizze_186080, flat_dim_182810);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184885_cached_sizze_186081 < bytes_184884) {
                                    err = lexical_realloc(ctx, &mem_184885, &mem_184885_cached_sizze_186081, bytes_184884);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184888_cached_sizze_186082 < bytes_184884) {
                                    err = lexical_realloc(ctx, &mem_184888, &mem_184888_cached_sizze_186082, bytes_184884);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_184009 = 0; i_184009 < num_blocks_182807; i_184009++) {
                                    bool y_183082 = slt64(i_184009, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808);
                                    bool index_certs_183084;
                                    
                                    if (!y_183082) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_184009, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:393:63-73\n   #10 ftsort.fut:386:1-393:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_183085 = ((int64_t *) mem_184866)[i_184009];
                                    int64_t defunc_0_f_res_183086 = ((int64_t *) mem_184868)[i_184009];
                                    int64_t tmp_183087 = add64((int64_t) 1, i_184009);
                                    bool x_183088 = sle64((int64_t) 0, tmp_183087);
                                    bool y_183089 = slt64(tmp_183087, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808);
                                    bool bounds_check_183090 = x_183088 && y_183089;
                                    bool index_certs_183091;
                                    
                                    if (!bounds_check_183090) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_183087, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:393:63-73\n   #10 ftsort.fut:386:1-393:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_183092 = ((int64_t *) mem_184866)[tmp_183087];
                                    int64_t defunc_0_f_res_183093 = ((int64_t *) mem_184868)[tmp_183087];
                                    int64_t merge_sequential_arg2_183094 = add64(stride_182787, defunc_0_f_res_183086);
                                    int64_t merge_sequential_arg2_183095 = add64(stride_182787, defunc_0_f_res_183093);
                                    int64_t j_m_i_183096 = sub64(merge_sequential_arg2_183095, merge_sequential_arg2_183094);
                                    bool empty_slice_183097 = j_m_i_183096 == (int64_t) 0;
                                    int64_t m_183098 = sub64(j_m_i_183096, (int64_t) 1);
                                    int64_t i_p_m_t_s_183099 = add64(merge_sequential_arg2_183094, m_183098);
                                    bool zzero_leq_i_p_m_t_s_183100 = sle64((int64_t) 0, i_p_m_t_s_183099);
                                    bool i_p_m_t_s_leq_w_183101 = slt64(i_p_m_t_s_183099, next_stride_182788);
                                    bool zzero_lte_i_183102 = sle64((int64_t) 0, merge_sequential_arg2_183094);
                                    bool i_lte_j_183103 = sle64(merge_sequential_arg2_183094, merge_sequential_arg2_183095);
                                    bool y_183104 = i_p_m_t_s_leq_w_183101 && zzero_lte_i_183102;
                                    bool y_183105 = zzero_leq_i_p_m_t_s_183100 && y_183104;
                                    bool forwards_ok_183106 = i_lte_j_183103 && y_183105;
                                    bool ok_or_empty_183107 = empty_slice_183097 || forwards_ok_183106;
                                    bool index_certs_183108;
                                    
                                    if (!ok_or_empty_183107) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_183094, ":", (long long) merge_sequential_arg2_183095, "] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:393:63-73\n   #10 ftsort.fut:386:1-393:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_183109 = sub64(defunc_0_f_res_183092, defunc_0_f_res_183085);
                                    bool empty_slice_183110 = j_m_i_183109 == (int64_t) 0;
                                    int64_t m_183111 = sub64(j_m_i_183109, (int64_t) 1);
                                    int64_t i_p_m_t_s_183112 = add64(defunc_0_f_res_183085, m_183111);
                                    bool zzero_leq_i_p_m_t_s_183113 = sle64((int64_t) 0, i_p_m_t_s_183112);
                                    bool i_p_m_t_s_leq_w_183114 = slt64(i_p_m_t_s_183112, next_stride_182788);
                                    bool zzero_lte_i_183115 = sle64((int64_t) 0, defunc_0_f_res_183085);
                                    bool i_lte_j_183116 = sle64(defunc_0_f_res_183085, defunc_0_f_res_183092);
                                    bool y_183117 = i_p_m_t_s_leq_w_183114 && zzero_lte_i_183115;
                                    bool y_183118 = zzero_leq_i_p_m_t_s_183113 && y_183117;
                                    bool forwards_ok_183119 = i_lte_j_183116 && y_183118;
                                    bool ok_or_empty_183120 = empty_slice_183110 || forwards_ok_183119;
                                    bool index_certs_183121;
                                    
                                    if (!ok_or_empty_183120) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_183085, ":", (long long) defunc_0_f_res_183092, "] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:393:63-73\n   #10 ftsort.fut:386:1-393:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_183122 = slt64((int64_t) 0, j_m_i_183109);
                                    int8_t dummy_183123;
                                    int64_t dummy_183124;
                                    double dummy_183125;
                                    
                                    if (cond_183122) {
                                        bool index_certs_183126;
                                        
                                        if (!cond_183122) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_183109, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:393:63-73\n   #12 ftsort.fut:386:1-393:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183127 = start_182860 + defunc_0_f_res_183085;
                                        int8_t head_res_183128 = ((int8_t *) mem_param_184838.mem)[slice_183127];
                                        int64_t head_res_183129 = ((int64_t *) mem_param_184841.mem)[slice_183127];
                                        double head_res_183130 = ((double *) mem_param_184844.mem)[slice_183127];
                                        
                                        dummy_183123 = head_res_183128;
                                        dummy_183124 = head_res_183129;
                                        dummy_183125 = head_res_183130;
                                    } else {
                                        bool y_183131 = slt64((int64_t) 0, j_m_i_183096);
                                        bool index_certs_183132;
                                        
                                        if (!y_183131) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_183096, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:393:63-73\n   #12 ftsort.fut:386:1-393:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183133 = start_182860 + merge_sequential_arg2_183094;
                                        int8_t head_res_183134 = ((int8_t *) mem_param_184838.mem)[slice_183133];
                                        int64_t head_res_183135 = ((int64_t *) mem_param_184841.mem)[slice_183133];
                                        double head_res_183136 = ((double *) mem_param_184844.mem)[slice_183133];
                                        
                                        dummy_183123 = head_res_183134;
                                        dummy_183124 = head_res_183135;
                                        dummy_183125 = head_res_183136;
                                    }
                                    for (int64_t nest_i_185811 = 0; nest_i_185811 < merge_block_sizze_182597; nest_i_185811++) {
                                        ((int8_t *) mem_184882)[i_184009 * merge_block_sizze_182597 + nest_i_185811] = dummy_183123;
                                    }
                                    for (int64_t nest_i_185812 = 0; nest_i_185812 < merge_block_sizze_182597; nest_i_185812++) {
                                        ((int64_t *) mem_184885)[i_184009 * merge_block_sizze_182597 + nest_i_185812] = dummy_183124;
                                    }
                                    for (int64_t nest_i_185813 = 0; nest_i_185813 < merge_block_sizze_182597; nest_i_185813++) {
                                        ((double *) mem_184888)[i_184009 * merge_block_sizze_182597 + nest_i_185813] = dummy_183125;
                                    }
                                    
                                    int64_t data_183140;
                                    int64_t i_183145 = (int64_t) 0;
                                    
                                    for (int64_t k_183144 = 0; k_183144 < merge_block_sizze_182597; k_183144++) {
                                        int64_t j_183149 = sub64(k_183144, i_183145);
                                        bool cond_183150 = j_183149 == j_m_i_183096;
                                        bool cond_183151;
                                        
                                        if (cond_183150) {
                                            cond_183151 = 1;
                                        } else {
                                            bool cond_183152 = slt64(i_183145, j_m_i_183109);
                                            bool cond_f_res_183153;
                                            
                                            if (cond_183152) {
                                                bool x_183154 = sle64((int64_t) 0, j_183149);
                                                bool y_183155 = slt64(j_183149, j_m_i_183096);
                                                bool bounds_check_183156 = x_183154 && y_183155;
                                                bool index_certs_183157;
                                                
                                                if (!bounds_check_183156) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183149, "] out of bounds for array of shape [", (long long) j_m_i_183096, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:393:63-73\n   #11 ftsort.fut:386:1-393:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_183163 = sle64((int64_t) 0, i_183145);
                                                bool bounds_check_183164 = cond_183152 && x_183163;
                                                bool index_certs_183165;
                                                
                                                if (!bounds_check_183164) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183145, "] out of bounds for array of shape [", (long long) j_m_i_183109, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:393:63-73\n   #11 ftsort.fut:386:1-393:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_183158 = merge_sequential_arg2_183094 + j_183149;
                                                int64_t slice_183159 = start_182860 + slice_183158;
                                                int8_t leq_arg1_183160 = ((int8_t *) mem_param_184838.mem)[slice_183159];
                                                int64_t leq_arg1_183161 = ((int64_t *) mem_param_184841.mem)[slice_183159];
                                                double leq_arg1_183162 = ((double *) mem_param_184844.mem)[slice_183159];
                                                int64_t slice_183166 = defunc_0_f_res_183085 + i_183145;
                                                int64_t slice_183167 = start_182860 + slice_183166;
                                                int8_t leq_arg0_183168 = ((int8_t *) mem_param_184838.mem)[slice_183167];
                                                int64_t leq_arg0_183169 = ((int64_t *) mem_param_184841.mem)[slice_183167];
                                                double leq_arg0_183170 = ((double *) mem_param_184844.mem)[slice_183167];
                                                bool cond_183171 = leq_arg0_183168 == leq_arg1_183160;
                                                bool defunc_0_leq_res_t_res_183172 = sle64(leq_arg0_183169, leq_arg1_183161);
                                                bool defunc_0_leq_res_183173 = leq_arg0_183170 <= leq_arg1_183162;
                                                bool x_183174 = cond_183171 && defunc_0_leq_res_t_res_183172;
                                                bool x_183175 = !cond_183171;
                                                bool y_183176 = defunc_0_leq_res_183173 && x_183175;
                                                bool defunc_0_leq_res_183177 = x_183174 || y_183176;
                                                
                                                cond_f_res_183153 = defunc_0_leq_res_183177;
                                            } else {
                                                cond_f_res_183153 = 0;
                                            }
                                            cond_183151 = cond_f_res_183153;
                                        }
                                        
                                        int64_t loopres_183178;
                                        int8_t loopres_183179;
                                        int64_t loopres_183180;
                                        double loopres_183181;
                                        
                                        if (cond_183151) {
                                            bool x_183183 = sle64((int64_t) 0, i_183145);
                                            bool y_183184 = slt64(i_183145, j_m_i_183109);
                                            bool bounds_check_183185 = x_183183 && y_183184;
                                            bool index_certs_183186;
                                            
                                            if (!bounds_check_183185) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183145, "] out of bounds for array of shape [", (long long) j_m_i_183109, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:393:63-73\n   #11 ftsort.fut:386:1-393:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_183182 = add64((int64_t) 1, i_183145);
                                            int64_t slice_183187 = defunc_0_f_res_183085 + i_183145;
                                            int64_t slice_183188 = start_182860 + slice_183187;
                                            int8_t tmp_183189 = ((int8_t *) mem_param_184838.mem)[slice_183188];
                                            int64_t tmp_183190 = ((int64_t *) mem_param_184841.mem)[slice_183188];
                                            double tmp_183191 = ((double *) mem_param_184844.mem)[slice_183188];
                                            
                                            loopres_183178 = tmp_183182;
                                            loopres_183179 = tmp_183189;
                                            loopres_183180 = tmp_183190;
                                            loopres_183181 = tmp_183191;
                                        } else {
                                            bool x_183192 = sle64((int64_t) 0, j_183149);
                                            bool y_183193 = slt64(j_183149, j_m_i_183096);
                                            bool bounds_check_183194 = x_183192 && y_183193;
                                            bool index_certs_183195;
                                            
                                            if (!bounds_check_183194) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183149, "] out of bounds for array of shape [", (long long) j_m_i_183096, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:393:63-73\n   #11 ftsort.fut:386:1-393:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_183196 = merge_sequential_arg2_183094 + j_183149;
                                            int64_t slice_183197 = start_182860 + slice_183196;
                                            int8_t tmp_183198 = ((int8_t *) mem_param_184838.mem)[slice_183197];
                                            int64_t tmp_183199 = ((int64_t *) mem_param_184841.mem)[slice_183197];
                                            double tmp_183200 = ((double *) mem_param_184844.mem)[slice_183197];
                                            
                                            loopres_183178 = i_183145;
                                            loopres_183179 = tmp_183198;
                                            loopres_183180 = tmp_183199;
                                            loopres_183181 = tmp_183200;
                                        }
                                        ((int8_t *) mem_184882)[i_184009 * merge_block_sizze_182597 + k_183144] = loopres_183179;
                                        ((int64_t *) mem_184885)[i_184009 * merge_block_sizze_182597 + k_183144] = loopres_183180;
                                        ((double *) mem_184888)[i_184009 * merge_block_sizze_182597 + k_183144] = loopres_183181;
                                        
                                        int64_t i_tmp_185814 = loopres_183178;
                                        
                                        i_183145 = i_tmp_185814;
                                    }
                                    data_183140 = i_183145;
                                }
                                if (memblock_alloc(ctx, &mem_184937, flat_dim_182810, "mem_184937")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_184937.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (uint8_t *) mem_184882, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (int64_t []) {num_blocks_182807, merge_block_sizze_182597});
                                if (memblock_alloc(ctx, &mem_184941, bytes_184884, "mem_184941")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_184941.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (uint64_t *) mem_184885, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (int64_t []) {num_blocks_182807, merge_block_sizze_182597});
                                if (memblock_alloc(ctx, &mem_184945, bytes_184884, "mem_184945")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_184945.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (uint64_t *) mem_184888, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (int64_t []) {num_blocks_182807, merge_block_sizze_182597});
                                if (memblock_set(ctx, &ext_mem_184978, &mem_184937, "mem_184937") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184975, &mem_184941, "mem_184941") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184972, &mem_184945, "mem_184945") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_184846, i_184019 * next_stride_182788, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_184978.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_182788});
                            if (memblock_unref(ctx, &ext_mem_184978, "ext_mem_184978") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184849, i_184019 * next_stride_182788, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184975.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_182788});
                            if (memblock_unref(ctx, &ext_mem_184975, "ext_mem_184975") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184852, i_184019 * next_stride_182788, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184972.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_182788});
                            if (memblock_unref(ctx, &ext_mem_184972, "ext_mem_184972") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_184992, bytes_184845, "mem_184992")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_184992.mem, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (uint8_t *) mem_184846, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (int64_t []) {num_merges_182792, next_stride_182788});
                        if (memblock_alloc(ctx, &mem_184996, bytes_184848, "mem_184996")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_184996.mem, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (uint64_t *) mem_184849, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (int64_t []) {num_merges_182792, next_stride_182788});
                        if (memblock_alloc(ctx, &mem_185000, bytes_184848, "mem_185000")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_185000.mem, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (uint64_t *) mem_184852, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (int64_t []) {num_merges_182792, next_stride_182788});
                        
                        bool loop_cond_183220 = slt64(next_stride_182788, flat_dim_182592);
                        
                        if (memblock_set(ctx, &mem_param_tmp_185781, &mem_184992, "mem_184992") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_185782, &mem_184996, "mem_184996") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_185783, &mem_185000, "mem_185000") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_185784 = bytes_184845;
                        bool loop_while_tmp_185785 = loop_cond_183220;
                        int64_t stride_tmp_185789 = next_stride_182788;
                        
                        if (memblock_set(ctx, &mem_param_184838, &mem_param_tmp_185781, "mem_param_tmp_185781") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_184841, &mem_param_tmp_185782, "mem_param_tmp_185782") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_184844, &mem_param_tmp_185783, "mem_param_tmp_185783") != 0)
                            return 1;
                        loop_dz2084Uz2082U_182782 = loop_dz2084Uz2082U_tmp_185784;
                        loop_while_182783 = loop_while_tmp_185785;
                        stride_182787 = stride_tmp_185789;
                    }
                    if (memblock_set(ctx, &ext_mem_185010, &mem_param_184838, "mem_param_184838") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185009, &mem_param_184841, "mem_param_184841") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185008, &mem_param_184844, "mem_param_184844") != 0)
                        return 1;
                    data_182776 = loop_dz2084Uz2082U_182782;
                    data_182777 = loop_while_182783;
                    data_182781 = stride_182787;
                    if (memblock_unref(ctx, &mem_184826, "mem_184826") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_184830, "mem_184830") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_184834, "mem_184834") != 0)
                        return 1;
                    
                    bool empty_slice_183221 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_183222 = sle64((int64_t) 0, zs_lhs_182576);
                    bool i_p_m_t_s_leq_w_183223 = slt64(zs_lhs_182576, data_182776);
                    bool y_183224 = zzero_leq_i_p_m_t_s_183222 && i_p_m_t_s_leq_w_183223;
                    bool ok_or_empty_183225 = empty_slice_183221 || y_183224;
                    bool index_certs_183226;
                    
                    if (!ok_or_empty_183225) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "] out of bounds for array of shape [", (long long) data_182776, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:393:63-73\n   #6  ftsort.fut:386:1-393:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_185019, &ext_mem_185010, "ext_mem_185010") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185016, &ext_mem_185009, "ext_mem_185009") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185013, &ext_mem_185008, "ext_mem_185008") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_184720, "mem_184720") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_184722, "mem_184722") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_184724, "mem_184724") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_184686, i_184035 * perThread_178862, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_185019.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530});
                if (memblock_unref(ctx, &ext_mem_185019, "ext_mem_185019") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184689, i_184035 * perThread_178862, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185016.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530});
                if (memblock_unref(ctx, &ext_mem_185016, "ext_mem_185016") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184692, i_184035 * perThread_178862, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185013.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530});
                if (memblock_unref(ctx, &ext_mem_185013, "ext_mem_185013") != 0)
                    return 1;
                for (int64_t i_184025 = 0; i_184025 < perThread_178862; i_184025++) {
                    int64_t lifted_lambda_res_183248 = add64(zm_rhs_182532, i_184025);
                    
                    ((int64_t *) mem_184684)[i_184035 * perThread_178862 + i_184025] = lifted_lambda_res_183248;
                }
                
                bool cond_183250 = card_182533 == zp_rhs_178861;
                
                if (cond_183250) {
                    bool y_183252 = slt64(card_182533, perThread_178862);
                    bool index_certs_183253;
                    
                    if (!y_183252) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_182533, "] out of bounds for array of shape [", (long long) perThread_178862, "].", "-> #0  ftsort.fut:271:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:393:63-73\n   #3  ftsort.fut:386:1-393:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_184684)[i_184035 * perThread_178862 + card_182533] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_185045, bytes_184338, "mem_185045")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185819 = 0; nest_i_185819 < window_sizze_164065; nest_i_185819++) {
                ((double *) mem_185045.mem)[nest_i_185819] = 0.0;
            }
            if (memblock_alloc(ctx, &mem_185047, bytes_184338, "mem_185047")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185820 = 0; nest_i_185820 < window_sizze_164065; nest_i_185820++) {
                ((int64_t *) mem_185047.mem)[nest_i_185820] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_185048, window_sizze_164065, "mem_185048")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185821 = 0; nest_i_185821 < window_sizze_164065; nest_i_185821++) {
                ((int8_t *) mem_185048.mem)[nest_i_185821] = (int8_t) -1;
            }
            for (int64_t write_iter_184040 = 0; write_iter_184040 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_178863; write_iter_184040++) {
                int64_t new_index_184192 = squot64(write_iter_184040, perThread_178862);
                int64_t binop_y_184194 = perThread_178862 * new_index_184192;
                int64_t new_index_184195 = write_iter_184040 - binop_y_184194;
                int64_t write_iv_184044 = ((int64_t *) mem_184684)[new_index_184192 * perThread_178862 + new_index_184195];
                int8_t write_iv_184045 = ((int8_t *) mem_184686)[new_index_184192 * perThread_178862 + new_index_184195];
                int64_t write_iv_184046 = ((int64_t *) mem_184689)[new_index_184192 * perThread_178862 + new_index_184195];
                double write_iv_184047 = ((double *) mem_184692)[new_index_184192 * perThread_178862 + new_index_184195];
                
                if (sle64((int64_t) 0, write_iv_184044) && slt64(write_iv_184044, window_sizze_164065)) {
                    ((int8_t *) mem_185048.mem)[write_iv_184044] = write_iv_184045;
                }
                if (sle64((int64_t) 0, write_iv_184044) && slt64(write_iv_184044, window_sizze_164065)) {
                    ((int64_t *) mem_185047.mem)[write_iv_184044] = write_iv_184046;
                }
                if (sle64((int64_t) 0, write_iv_184044) && slt64(write_iv_184044, window_sizze_164065)) {
                    ((double *) mem_185045.mem)[write_iv_184044] = write_iv_184047;
                }
            }
            
            int64_t index_concat_branch_183276;
            
            if (index_concat_cmp_181616) {
                int64_t index_concat_183277 = ((int64_t *) mem_184667)[index_concat_i_181617];
                
                index_concat_branch_183276 = index_concat_183277;
            } else {
                index_concat_branch_183276 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_183278;
            
            if (index_concat_cmp_181616) {
                int64_t index_concat_183279 = ((int64_t *) mem_184669)[index_concat_i_181617];
                
                index_concat_branch_183278 = index_concat_183279;
            } else {
                index_concat_branch_183278 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_185075, &mem_185048, "mem_185048") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_185072, &mem_185047, "mem_185047") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_185069, &mem_185045, "mem_185045") != 0)
                return 1;
            loopres_178852 = index_concat_branch_183276;
            loopres_178853 = index_concat_branch_183278;
        } else {
            double leq_lhs_179843 = ((double *) a_list_mem_184305.mem)[p_178824];
            double leq_rhs_179846 = ((double *) b_list_mem_184306.mem)[p_178825];
            bool defunc_0_leq_res_179847 = leq_lhs_179843 <= leq_rhs_179846;
            double lowest_179848;
            
            if (defunc_0_leq_res_179847) {
                bool index_certs_183280;
                
                if (!y_179841) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:143:44-49\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_179848 = leq_lhs_179843;
            } else {
                bool index_certs_179853;
                
                if (!y_179841) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:143:55-60\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_179848 = leq_rhs_179846;
            }
            if (mem_184322_cached_sizze_186047 < bytes_184321) {
                err = lexical_realloc(ctx, &mem_184322, &mem_184322_cached_sizze_186047, bytes_184321);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184324_cached_sizze_186048 < bytes_184321) {
                err = lexical_realloc(ctx, &mem_184324, &mem_184324_cached_sizze_186048, bytes_184321);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_184055 = 0; i_184055 < threads_164066; i_184055++) {
                int64_t index_primexp_184271 = add64((int64_t) 1, i_184055);
                int64_t zs_lhs_179867 = mul64(zt_rhs_179860, index_primexp_184271);
                int64_t index_179868 = sdiv64(zs_lhs_179867, partitionFunc_arg0_179839);
                bool cond_179869 = slt64(window_sizze_164065, index_179868);
                int64_t loop_over_179870;
                
                if (cond_179869) {
                    loop_over_179870 = window_sizze_164065;
                } else {
                    loop_over_179870 = index_179868;
                }
                
                int64_t loop_over_179871;
                
                if (cond_179869) {
                    int64_t loop_over_t_res_183281 = sub64(index_179868, window_sizze_164065);
                    
                    loop_over_179871 = loop_over_t_res_183281;
                } else {
                    loop_over_179871 = (int64_t) 0;
                }
                
                int64_t loop_over_179873;
                
                if (cond_179869) {
                    int64_t zm_lhs_183282 = sub64(index_179868, window_sizze_164065);
                    int64_t loop_over_t_res_183283 = sub64(zm_lhs_183282, (int64_t) 1);
                    
                    loop_over_179873 = loop_over_t_res_183283;
                } else {
                    loop_over_179873 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_179876;
                int64_t defunc_0_f_res_179877;
                int64_t defunc_0_f_res_179878;
                int64_t defunc_0_f_res_179879;
                bool loop_while_179880;
                int64_t p_179881;
                int64_t p_179882;
                int64_t p_179883;
                
                loop_while_179880 = 1;
                p_179881 = loop_over_179873;
                p_179882 = loop_over_179870;
                p_179883 = loop_over_179871;
                while (loop_while_179880) {
                    int64_t zs_lhs_179884 = sub64(p_179882, p_179881);
                    int64_t offset_179885 = sdiv64(zs_lhs_179884, (int64_t) 2);
                    int64_t ai_179886 = sub64(p_179882, offset_179885);
                    int64_t max_arg1_179887 = add64(p_179883, offset_179885);
                    int64_t max_res_179888 = smax64((int64_t) 0, max_arg1_179887);
                    bool cond_179889 = slt64((int64_t) 0, max_res_179888);
                    double b_prev_179890;
                    
                    if (cond_179889) {
                        int64_t tmp_183284 = sub64(max_res_179888, (int64_t) 1);
                        bool x_183285 = sle64((int64_t) 0, tmp_183284);
                        bool y_183286 = slt64(tmp_183284, window_sizze_164065);
                        bool bounds_check_183287 = x_183285 && y_183286;
                        bool index_certs_183288;
                        
                        if (!bounds_check_183287) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_183284, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:160:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_183289 = p_178825 + tmp_183284;
                        double b_prev_t_res_183290 = ((double *) b_list_mem_184306.mem)[slice_183289];
                        
                        b_prev_179890 = b_prev_t_res_183290;
                    } else {
                        b_prev_179890 = lowest_179848;
                    }
                    
                    bool cond_179897 = sle64(ai_179886, (int64_t) 0);
                    int64_t loopres_179898;
                    int64_t loopres_179899;
                    int64_t loopres_179900;
                    bool loopres_179901;
                    
                    if (cond_179897) {
                        loopres_179898 = p_179881;
                        loopres_179899 = (int64_t) 0;
                        loopres_179900 = max_res_179888;
                        loopres_179901 = 0;
                    } else {
                        bool cond_179902 = sle64(window_sizze_164065, max_res_179888);
                        int64_t loopres_f_res_179903;
                        int64_t loopres_f_res_179904;
                        int64_t loopres_f_res_179905;
                        bool loopres_f_res_179906;
                        
                        if (cond_179902) {
                            int64_t min_res_183292 = smin64(m_178813, ai_179886);
                            bool x_183293 = sle64((int64_t) 0, m_178813);
                            bool y_183294 = slt64(m_178813, window_sizze_164065);
                            bool bounds_check_183295 = x_183293 && y_183294;
                            bool index_certs_183296;
                            
                            if (!bounds_check_183295) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_178813, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:171:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_183299 = sle64((int64_t) 0, min_res_183292);
                            bool y_183300 = slt64(min_res_183292, window_sizze_164065);
                            bool bounds_check_183301 = x_183299 && y_183300;
                            bool index_certs_183302;
                            
                            if (!bounds_check_183301) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_183292, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:171:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            double leq_lhs_183298 = ((double *) b_list_mem_184306.mem)[i_p_m_t_s_178841];
                            int64_t slice_183303 = p_178824 + min_res_183292;
                            double leq_rhs_183304 = ((double *) a_list_mem_184305.mem)[slice_183303];
                            bool defunc_0_leq_res_183305 = leq_lhs_183298 <= leq_rhs_183304;
                            int64_t loopres_f_res_t_res_183306;
                            
                            if (defunc_0_leq_res_183305) {
                                loopres_f_res_t_res_183306 = ai_179886;
                            } else {
                                loopres_f_res_t_res_183306 = p_179882;
                            }
                            
                            bool x_183307 = !defunc_0_leq_res_183305;
                            int64_t loopres_f_res_t_res_183308;
                            
                            if (defunc_0_leq_res_183305) {
                                loopres_f_res_t_res_183308 = window_sizze_164065;
                            } else {
                                int64_t tmp_183309 = sub64(m_178813, offset_179885);
                                
                                loopres_f_res_t_res_183308 = tmp_183309;
                            }
                            loopres_f_res_179903 = p_179881;
                            loopres_f_res_179904 = loopres_f_res_t_res_183306;
                            loopres_f_res_179905 = loopres_f_res_t_res_183308;
                            loopres_f_res_179906 = x_183307;
                        } else {
                            bool cond_179924 = sle64(window_sizze_164065, ai_179886);
                            int64_t loopres_f_res_f_res_179925;
                            int64_t loopres_f_res_f_res_179926;
                            int64_t loopres_f_res_f_res_179927;
                            bool loopres_f_res_f_res_179928;
                            
                            if (cond_179924) {
                                int64_t min_res_183311 = smin64(m_178813, max_res_179888);
                                bool x_183312 = sle64((int64_t) 0, m_178813);
                                bool y_183313 = slt64(m_178813, window_sizze_164065);
                                bool bounds_check_183314 = x_183312 && y_183313;
                                bool index_certs_183315;
                                
                                if (!bounds_check_183314) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_178813, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:178:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_183318 = sle64((int64_t) 0, min_res_183311);
                                bool y_183319 = slt64(min_res_183311, window_sizze_164065);
                                bool bounds_check_183320 = x_183318 && y_183319;
                                bool index_certs_183321;
                                
                                if (!bounds_check_183320) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_183311, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:178:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                double leq_lhs_183317 = ((double *) a_list_mem_184305.mem)[i_p_m_t_s_178830];
                                int64_t slice_183322 = p_178825 + min_res_183311;
                                double leq_rhs_183323 = ((double *) b_list_mem_184306.mem)[slice_183322];
                                bool defunc_0_leq_res_183324 = leq_lhs_183317 <= leq_rhs_183323;
                                int64_t loopres_f_res_f_res_t_res_183325;
                                
                                if (defunc_0_leq_res_183324) {
                                    loopres_f_res_f_res_t_res_183325 = max_res_179888;
                                } else {
                                    loopres_f_res_f_res_t_res_183325 = p_179883;
                                }
                                
                                bool x_183326 = !defunc_0_leq_res_183324;
                                int64_t loopres_f_res_f_res_t_res_183327;
                                
                                if (defunc_0_leq_res_183324) {
                                    loopres_f_res_f_res_t_res_183327 = window_sizze_164065;
                                } else {
                                    loopres_f_res_f_res_t_res_183327 = m_178813;
                                }
                                loopres_f_res_f_res_179925 = p_179881;
                                loopres_f_res_f_res_179926 = loopres_f_res_f_res_t_res_183327;
                                loopres_f_res_f_res_179927 = loopres_f_res_f_res_t_res_183325;
                                loopres_f_res_f_res_179928 = x_183326;
                            } else {
                                bool cond_179945 = sle64(p_179882, p_179881);
                                int64_t loopres_f_res_f_res_f_res_179946;
                                int64_t loopres_f_res_f_res_f_res_179947;
                                int64_t loopres_f_res_f_res_f_res_179948;
                                bool loopres_f_res_f_res_f_res_179949;
                                
                                if (cond_179945) {
                                    bool cond_183366 = slt64(ai_179886, window_sizze_164065);
                                    int64_t ai_183367;
                                    
                                    if (cond_183366) {
                                        ai_183367 = ai_179886;
                                    } else {
                                        ai_183367 = m_178813;
                                    }
                                    
                                    bool x_183380 = sle64((int64_t) 0, ai_183367);
                                    bool y_183381 = slt64(ai_183367, window_sizze_164065);
                                    bool bounds_check_183382 = x_183380 && y_183381;
                                    bool index_certs_183383;
                                    
                                    if (!bounds_check_183382) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_183367, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:114:8-14\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    double b_prev_183369;
                                    
                                    if (cond_179889) {
                                        int64_t tmp_183370 = sub64(max_res_179888, (int64_t) 1);
                                        bool x_183371 = sle64((int64_t) 0, tmp_183370);
                                        bool y_183372 = slt64(tmp_183370, window_sizze_164065);
                                        bool bounds_check_183373 = x_183371 && y_183372;
                                        bool index_certs_183374;
                                        
                                        if (!bounds_check_183373) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_183370, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:112:31-39\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183375 = p_178825 + tmp_183370;
                                        double b_prev_t_res_183376 = ((double *) b_list_mem_184306.mem)[slice_183375];
                                        
                                        b_prev_183369 = b_prev_t_res_183376;
                                    } else {
                                        bool index_certs_183378;
                                        
                                        if (!y_179841) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:112:45-50\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_183369 = leq_rhs_179846;
                                    }
                                    
                                    int64_t slice_183384 = p_178824 + ai_183367;
                                    double gt_lhs_183385 = ((double *) a_list_mem_184305.mem)[slice_183384];
                                    bool defunc_0_gt_res_183386 = b_prev_183369 < gt_lhs_183385;
                                    int64_t defunc_0_partFunc_sequential_search_res_183387;
                                    int64_t defunc_0_partFunc_sequential_search_res_183388;
                                    
                                    if (defunc_0_gt_res_183386) {
                                        int64_t zl_rhs_183389 = sub64(window_sizze_164065, max_res_179888);
                                        bool loop_cond_183390 = slt64((int64_t) 0, zl_rhs_183389);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_183391;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_183392;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_183393;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_183394;
                                        bool loop_while_183395;
                                        int64_t p_183396;
                                        int64_t p_183397;
                                        int64_t p_183398;
                                        
                                        loop_while_183395 = loop_cond_183390;
                                        p_183396 = ai_183367;
                                        p_183397 = max_res_179888;
                                        p_183398 = (int64_t) 0;
                                        while (loop_while_183395) {
                                            int64_t i_a_183399 = sub64(ai_183367, p_183398);
                                            int64_t i_b_183400 = add64(max_res_179888, p_183398);
                                            int64_t leq_lhs_183401 = sub64(i_a_183399, (int64_t) 1);
                                            bool x_183402 = sle64((int64_t) 0, leq_lhs_183401);
                                            bool y_183403 = slt64(leq_lhs_183401, window_sizze_164065);
                                            bool bounds_check_183404 = x_183402 && y_183403;
                                            bool index_certs_183405;
                                            
                                            if (!bounds_check_183404) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_183401, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:120:15-24\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_183408 = sle64((int64_t) 0, i_b_183400);
                                            bool y_183409 = slt64(i_b_183400, window_sizze_164065);
                                            bool bounds_check_183410 = x_183408 && y_183409;
                                            bool index_certs_183411;
                                            
                                            if (!bounds_check_183410) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_183400, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:120:31-38\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_183406 = p_178824 + leq_lhs_183401;
                                            double leq_lhs_183407 = ((double *) a_list_mem_184305.mem)[slice_183406];
                                            int64_t slice_183412 = p_178825 + i_b_183400;
                                            double leq_rhs_183413 = ((double *) b_list_mem_184306.mem)[slice_183412];
                                            bool defunc_0_leq_res_183414 = leq_lhs_183407 <= leq_rhs_183413;
                                            int64_t loopres_183415;
                                            
                                            if (defunc_0_leq_res_183414) {
                                                loopres_183415 = i_a_183399;
                                            } else {
                                                loopres_183415 = ai_183367;
                                            }
                                            
                                            int64_t loopres_183416;
                                            
                                            if (defunc_0_leq_res_183414) {
                                                loopres_183416 = i_b_183400;
                                            } else {
                                                loopres_183416 = max_res_179888;
                                            }
                                            
                                            int64_t loopres_183417;
                                            
                                            if (defunc_0_leq_res_183414) {
                                                loopres_183417 = zl_rhs_183389;
                                            } else {
                                                int64_t tmp_183418 = add64((int64_t) 1, p_183398);
                                                
                                                loopres_183417 = tmp_183418;
                                            }
                                            
                                            bool loop_cond_183419 = slt64(loopres_183417, zl_rhs_183389);
                                            bool loop_while_tmp_185831 = loop_cond_183419;
                                            int64_t p_tmp_185832 = loopres_183415;
                                            int64_t p_tmp_185833 = loopres_183416;
                                            int64_t p_tmp_185834 = loopres_183417;
                                            
                                            loop_while_183395 = loop_while_tmp_185831;
                                            p_183396 = p_tmp_185832;
                                            p_183397 = p_tmp_185833;
                                            p_183398 = p_tmp_185834;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_183391 = loop_while_183395;
                                        defunc_0_partFunc_sequential_search_res_t_res_183392 = p_183396;
                                        defunc_0_partFunc_sequential_search_res_t_res_183393 = p_183397;
                                        defunc_0_partFunc_sequential_search_res_t_res_183394 = p_183398;
                                        defunc_0_partFunc_sequential_search_res_183387 = defunc_0_partFunc_sequential_search_res_t_res_183392;
                                        defunc_0_partFunc_sequential_search_res_183388 = defunc_0_partFunc_sequential_search_res_t_res_183393;
                                    } else {
                                        int64_t zl_rhs_183420 = sub64(max_res_179888, (int64_t) 1);
                                        bool loop_cond_183421 = slt64((int64_t) 0, zl_rhs_183420);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_183422;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_183423;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_183424;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_183425;
                                        bool loop_while_183426;
                                        int64_t p_183427;
                                        int64_t p_183428;
                                        int64_t p_183429;
                                        
                                        loop_while_183426 = loop_cond_183421;
                                        p_183427 = ai_183367;
                                        p_183428 = max_res_179888;
                                        p_183429 = (int64_t) 0;
                                        while (loop_while_183426) {
                                            int64_t zp_lhs_183430 = add64(ai_183367, p_183429);
                                            int64_t hi_a_183431 = add64((int64_t) 1, zp_lhs_183430);
                                            bool cond_183432 = slt64(hi_a_183431, window_sizze_164065);
                                            int64_t i_a_183433;
                                            
                                            if (cond_183432) {
                                                i_a_183433 = hi_a_183431;
                                            } else {
                                                i_a_183433 = m_178813;
                                            }
                                            
                                            int64_t zm_lhs_183435 = sub64(max_res_179888, p_183429);
                                            int64_t i_b_183436 = sub64(zm_lhs_183435, (int64_t) 1);
                                            bool x_183437 = sle64((int64_t) 0, i_a_183433);
                                            bool y_183438 = slt64(i_a_183433, window_sizze_164065);
                                            bool bounds_check_183439 = x_183437 && y_183438;
                                            bool index_certs_183440;
                                            
                                            if (!bounds_check_183439) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_183433, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:130:15-22\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_183443 = sle64((int64_t) 0, i_b_183436);
                                            bool y_183444 = slt64(i_b_183436, window_sizze_164065);
                                            bool bounds_check_183445 = x_183443 && y_183444;
                                            bool index_certs_183446;
                                            
                                            if (!bounds_check_183445) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_183436, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:130:28-35\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_183441 = p_178824 + i_a_183433;
                                            double gt_lhs_183442 = ((double *) a_list_mem_184305.mem)[slice_183441];
                                            int64_t slice_183447 = p_178825 + i_b_183436;
                                            double gt_rhs_183448 = ((double *) b_list_mem_184306.mem)[slice_183447];
                                            bool defunc_0_gt_res_183449 = gt_rhs_183448 < gt_lhs_183442;
                                            int64_t loopres_183450;
                                            
                                            if (defunc_0_gt_res_183449) {
                                                loopres_183450 = i_a_183433;
                                            } else {
                                                loopres_183450 = ai_183367;
                                            }
                                            
                                            int64_t loopres_183451;
                                            
                                            if (defunc_0_gt_res_183449) {
                                                loopres_183451 = zm_lhs_183435;
                                            } else {
                                                loopres_183451 = max_res_179888;
                                            }
                                            
                                            int64_t loopres_183452;
                                            
                                            if (defunc_0_gt_res_183449) {
                                                loopres_183452 = zl_rhs_183420;
                                            } else {
                                                int64_t tmp_183453 = add64((int64_t) 1, p_183429);
                                                
                                                loopres_183452 = tmp_183453;
                                            }
                                            
                                            bool loop_cond_183454 = slt64(loopres_183452, zl_rhs_183420);
                                            bool loop_while_tmp_185835 = loop_cond_183454;
                                            int64_t p_tmp_185836 = loopres_183450;
                                            int64_t p_tmp_185837 = loopres_183451;
                                            int64_t p_tmp_185838 = loopres_183452;
                                            
                                            loop_while_183426 = loop_while_tmp_185835;
                                            p_183427 = p_tmp_185836;
                                            p_183428 = p_tmp_185837;
                                            p_183429 = p_tmp_185838;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_183422 = loop_while_183426;
                                        defunc_0_partFunc_sequential_search_res_f_res_183423 = p_183427;
                                        defunc_0_partFunc_sequential_search_res_f_res_183424 = p_183428;
                                        defunc_0_partFunc_sequential_search_res_f_res_183425 = p_183429;
                                        defunc_0_partFunc_sequential_search_res_183387 = defunc_0_partFunc_sequential_search_res_f_res_183423;
                                        defunc_0_partFunc_sequential_search_res_183388 = defunc_0_partFunc_sequential_search_res_f_res_183424;
                                    }
                                    loopres_f_res_f_res_f_res_179946 = p_179881;
                                    loopres_f_res_f_res_f_res_179947 = defunc_0_partFunc_sequential_search_res_183387;
                                    loopres_f_res_f_res_f_res_179948 = defunc_0_partFunc_sequential_search_res_183388;
                                    loopres_f_res_f_res_f_res_179949 = 0;
                                } else {
                                    bool x_180033 = sle64((int64_t) 0, ai_179886);
                                    bool y_180034 = slt64(ai_179886, window_sizze_164065);
                                    bool bounds_check_180035 = x_180033 && y_180034;
                                    bool index_certs_180036;
                                    
                                    if (!bounds_check_180035) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179886, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:186:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_181695 = p_178824 + ai_179886;
                                    double gt_lhs_180037 = ((double *) a_list_mem_184305.mem)[slice_181695];
                                    bool defunc_0_gt_res_180038 = b_prev_179890 < gt_lhs_180037;
                                    int64_t loopres_f_res_f_res_f_res_f_res_180039;
                                    int64_t loopres_f_res_f_res_f_res_f_res_180040;
                                    int64_t loopres_f_res_f_res_f_res_f_res_180041;
                                    bool loopres_f_res_f_res_f_res_f_res_180042;
                                    
                                    if (defunc_0_gt_res_180038) {
                                        int64_t leq_lhs_183455 = sub64(ai_179886, (int64_t) 1);
                                        bool x_183456 = sle64((int64_t) 0, leq_lhs_183455);
                                        bool y_183457 = slt64(leq_lhs_183455, window_sizze_164065);
                                        bool bounds_check_183458 = x_183456 && y_183457;
                                        bool index_certs_183459;
                                        
                                        if (!bounds_check_183458) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_183455, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:187:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_183462 = sle64((int64_t) 0, max_res_179888);
                                        bool y_183463 = slt64(max_res_179888, window_sizze_164065);
                                        bool bounds_check_183464 = x_183462 && y_183463;
                                        bool index_certs_183465;
                                        
                                        if (!bounds_check_183464) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_179888, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:187:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183460 = p_178824 + leq_lhs_183455;
                                        double leq_lhs_183461 = ((double *) a_list_mem_184305.mem)[slice_183460];
                                        int64_t slice_183466 = p_178825 + max_res_179888;
                                        double leq_rhs_183467 = ((double *) b_list_mem_184306.mem)[slice_183466];
                                        bool defunc_0_leq_res_183468 = leq_lhs_183461 <= leq_rhs_183467;
                                        bool x_183469 = !defunc_0_leq_res_183468;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_183470;
                                        
                                        if (defunc_0_leq_res_183468) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_183470 = ai_179886;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_183470 = leq_lhs_183455;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_183471;
                                        
                                        if (defunc_0_leq_res_183468) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_183471 = max_res_179888;
                                        } else {
                                            int64_t tmp_183472 = add64((int64_t) 1, max_res_179888);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_183471 = tmp_183472;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_180039 = p_179881;
                                        loopres_f_res_f_res_f_res_f_res_180040 = loopres_f_res_f_res_f_res_f_res_t_res_183470;
                                        loopres_f_res_f_res_f_res_f_res_180041 = loopres_f_res_f_res_f_res_f_res_t_res_183471;
                                        loopres_f_res_f_res_f_res_f_res_180042 = x_183469;
                                    } else {
                                        int64_t tmp_180059 = add64((int64_t) 1, ai_179886);
                                        
                                        loopres_f_res_f_res_f_res_f_res_180039 = tmp_180059;
                                        loopres_f_res_f_res_f_res_f_res_180040 = p_179882;
                                        loopres_f_res_f_res_f_res_f_res_180041 = p_179883;
                                        loopres_f_res_f_res_f_res_f_res_180042 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_179946 = loopres_f_res_f_res_f_res_f_res_180039;
                                    loopres_f_res_f_res_f_res_179947 = loopres_f_res_f_res_f_res_f_res_180040;
                                    loopres_f_res_f_res_f_res_179948 = loopres_f_res_f_res_f_res_f_res_180041;
                                    loopres_f_res_f_res_f_res_179949 = loopres_f_res_f_res_f_res_f_res_180042;
                                }
                                loopres_f_res_f_res_179925 = loopres_f_res_f_res_f_res_179946;
                                loopres_f_res_f_res_179926 = loopres_f_res_f_res_f_res_179947;
                                loopres_f_res_f_res_179927 = loopres_f_res_f_res_f_res_179948;
                                loopres_f_res_f_res_179928 = loopres_f_res_f_res_f_res_179949;
                            }
                            loopres_f_res_179903 = loopres_f_res_f_res_179925;
                            loopres_f_res_179904 = loopres_f_res_f_res_179926;
                            loopres_f_res_179905 = loopres_f_res_f_res_179927;
                            loopres_f_res_179906 = loopres_f_res_f_res_179928;
                        }
                        loopres_179898 = loopres_f_res_179903;
                        loopres_179899 = loopres_f_res_179904;
                        loopres_179900 = loopres_f_res_179905;
                        loopres_179901 = loopres_f_res_179906;
                    }
                    
                    bool loop_while_tmp_185827 = loopres_179901;
                    int64_t p_tmp_185828 = loopres_179898;
                    int64_t p_tmp_185829 = loopres_179899;
                    int64_t p_tmp_185830 = loopres_179900;
                    
                    loop_while_179880 = loop_while_tmp_185827;
                    p_179881 = p_tmp_185828;
                    p_179882 = p_tmp_185829;
                    p_179883 = p_tmp_185830;
                }
                defunc_0_f_res_179876 = loop_while_179880;
                defunc_0_f_res_179877 = p_179881;
                defunc_0_f_res_179878 = p_179882;
                defunc_0_f_res_179879 = p_179883;
                ((int64_t *) mem_184322)[i_184055] = defunc_0_f_res_179878;
                ((int64_t *) mem_184324)[i_184055] = defunc_0_f_res_179879;
            }
            if (memblock_alloc(ctx, &mem_184337, window_sizze_164065, "mem_184337")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185839 = 0; nest_i_185839 < window_sizze_164065; nest_i_185839++) {
                ((int8_t *) mem_184337.mem)[nest_i_185839] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_184339, bytes_184338, "mem_184339")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185840 = 0; nest_i_185840 < window_sizze_164065; nest_i_185840++) {
                ((int64_t *) mem_184339.mem)[nest_i_185840] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_184341, bytes_184338, "mem_184341")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185841 = 0; nest_i_185841 < window_sizze_164065; nest_i_185841++) {
                ((double *) mem_184341.mem)[nest_i_185841] = 0.0;
            }
            
            bool defunc_0_mergeFunc_seq_res_180079;
            int64_t defunc_0_mergeFunc_seq_res_180080;
            bool loop_while_180084;
            int64_t p_180085;
            
            loop_while_180084 = loop_cond_180078;
            p_180085 = (int64_t) 0;
            while (loop_while_180084) {
                bool x_180089 = sle64((int64_t) 0, p_180085);
                bool y_180090 = slt64(p_180085, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
                bool bounds_check_180091 = x_180089 && y_180090;
                bool index_certs_180092;
                
                if (!bounds_check_180091) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_180085, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:225:19-39\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_181678 = sle64((int64_t) 1, p_180085);
                int64_t index_concat_i_181679 = sub64(p_180085, (int64_t) 1);
                int64_t index_concat_181680;
                
                if (index_concat_cmp_181678) {
                    int64_t x_183473 = ((int64_t *) mem_184322)[index_concat_i_181679];
                    
                    index_concat_181680 = x_183473;
                } else {
                    index_concat_181680 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_181682;
                
                if (index_concat_cmp_181678) {
                    index_concat_branch_181682 = index_concat_181680;
                } else {
                    index_concat_branch_181682 = (int64_t) 0;
                }
                
                int64_t index_concat_181674;
                
                if (index_concat_cmp_181678) {
                    int64_t x_183474 = ((int64_t *) mem_184324)[index_concat_i_181679];
                    
                    index_concat_181674 = x_183474;
                } else {
                    index_concat_181674 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_181676;
                
                if (index_concat_cmp_181678) {
                    index_concat_branch_181676 = index_concat_181674;
                } else {
                    index_concat_branch_181676 = (int64_t) 0;
                }
                
                int64_t ubs_180095 = add64((int64_t) 1, p_180085);
                bool x_180096 = sle64((int64_t) 0, ubs_180095);
                bool y_180097 = slt64(ubs_180095, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
                bool bounds_check_180098 = x_180096 && y_180097;
                bool index_certs_180099;
                
                if (!bounds_check_180098) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_180095, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:226:19-41\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_181666 = sle64((int64_t) 1, ubs_180095);
                int64_t index_concat_181668;
                
                if (index_concat_cmp_181666) {
                    int64_t x_183475 = ((int64_t *) mem_184322)[p_180085];
                    
                    index_concat_181668 = x_183475;
                } else {
                    index_concat_181668 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_181670;
                
                if (index_concat_cmp_181666) {
                    index_concat_branch_181670 = index_concat_181668;
                } else {
                    index_concat_branch_181670 = (int64_t) 0;
                }
                
                int64_t index_concat_181662;
                
                if (index_concat_cmp_181666) {
                    int64_t x_183476 = ((int64_t *) mem_184324)[p_180085];
                    
                    index_concat_181662 = x_183476;
                } else {
                    index_concat_181662 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_181664;
                
                if (index_concat_cmp_181666) {
                    index_concat_branch_181664 = index_concat_181662;
                } else {
                    index_concat_branch_181664 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102 = sub64(index_concat_branch_181664, index_concat_branch_181676);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103 = sub64(index_concat_branch_181670, index_concat_branch_181682);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                int64_t ind_bottom_180105 = add64(index_concat_branch_181676, index_concat_branch_181682);
                int64_t ind_top_180106 = add64(index_concat_branch_181664, index_concat_branch_181670);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107 = sub64(ind_top_180106, ind_bottom_180105);
                bool empty_slice_180108 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103 == (int64_t) 0;
                int64_t m_180109 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, (int64_t) 1);
                int64_t i_p_m_t_s_180110 = add64(m_180109, index_concat_branch_181682);
                bool zzero_leq_i_p_m_t_s_180111 = sle64((int64_t) 0, i_p_m_t_s_180110);
                bool i_p_m_t_s_leq_w_180112 = slt64(i_p_m_t_s_180110, window_sizze_164065);
                bool zzero_lte_i_180113 = sle64((int64_t) 0, index_concat_branch_181682);
                bool i_lte_j_180114 = sle64(index_concat_branch_181682, index_concat_branch_181670);
                bool y_180115 = i_p_m_t_s_leq_w_180112 && zzero_lte_i_180113;
                bool y_180116 = zzero_leq_i_p_m_t_s_180111 && y_180115;
                bool forwards_ok_180117 = i_lte_j_180114 && y_180116;
                bool ok_or_empty_180118 = empty_slice_180108 || forwards_ok_180117;
                bool index_certs_180119;
                
                if (!ok_or_empty_180118) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_181682, ":", (long long) index_concat_branch_181670, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:229:71-86\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_180120 = slt64(index_concat_branch_181670, index_concat_branch_181682);
                bool valid_180121 = !bounds_invalid_upwards_180120;
                bool range_valid_c_180122;
                
                if (!valid_180121) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_181682, "..<", (long long) index_concat_branch_181670, " is invalid.", "-> #0  ftsort.fut:229:52-69\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_180128 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102 == (int64_t) 0;
                int64_t m_180129 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102, (int64_t) 1);
                int64_t i_p_m_t_s_180130 = add64(m_180129, index_concat_branch_181676);
                bool zzero_leq_i_p_m_t_s_180131 = sle64((int64_t) 0, i_p_m_t_s_180130);
                bool i_p_m_t_s_leq_w_180132 = slt64(i_p_m_t_s_180130, window_sizze_164065);
                bool zzero_lte_i_180133 = sle64((int64_t) 0, index_concat_branch_181676);
                bool i_lte_j_180134 = sle64(index_concat_branch_181676, index_concat_branch_181664);
                bool y_180135 = i_p_m_t_s_leq_w_180132 && zzero_lte_i_180133;
                bool y_180136 = zzero_leq_i_p_m_t_s_180131 && y_180135;
                bool forwards_ok_180137 = i_lte_j_180134 && y_180136;
                bool ok_or_empty_180138 = empty_slice_180128 || forwards_ok_180137;
                bool index_certs_180139;
                
                if (!ok_or_empty_180138) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_181676, ":", (long long) index_concat_branch_181664, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:230:71-86\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_180140 = slt64(index_concat_branch_181664, index_concat_branch_181676);
                bool valid_180141 = !bounds_invalid_upwards_180140;
                bool range_valid_c_180142;
                
                if (!valid_180141) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_181676, "..<", (long long) index_concat_branch_181664, " is invalid.", "-> #0  ftsort.fut:230:52-69\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_184358 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104;
                bool cond_180151 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, (int64_t) 1);
                int64_t zs_lhs_180152 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, (int64_t) 1);
                int64_t zp_rhs_180153 = sdiv_safe64(zs_lhs_180152, (int64_t) 20);
                int64_t min_num_blocks_180154 = add64((int64_t) 1, zp_rhs_180153);
                bool loop_cond_180155 = slt64((int64_t) 1, min_num_blocks_180154);
                bool smallest_pow_2_geq_than_res_180156;
                int64_t smallest_pow_2_geq_than_res_180157;
                bool loop_while_180158;
                int64_t x_180159;
                
                loop_while_180158 = loop_cond_180155;
                x_180159 = (int64_t) 1;
                while (loop_while_180158) {
                    int64_t loopres_180160 = mul64((int64_t) 2, x_180159);
                    bool loop_cond_180161 = slt64(loopres_180160, min_num_blocks_180154);
                    bool loop_while_tmp_185847 = loop_cond_180161;
                    int64_t x_tmp_185848 = loopres_180160;
                    
                    loop_while_180158 = loop_while_tmp_185847;
                    x_180159 = x_tmp_185848;
                }
                smallest_pow_2_geq_than_res_180156 = loop_while_180158;
                smallest_pow_2_geq_than_res_180157 = x_180159;
                
                bool zzero_180162 = smallest_pow_2_geq_than_res_180157 == (int64_t) 0;
                bool nonzzero_180163 = !zzero_180162;
                bool protect_assert_disj_180164 = cond_180151 || nonzzero_180163;
                bool nonzzero_cert_180165;
                
                if (!protect_assert_disj_180164) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_180166 = sdiv_safe64(zs_lhs_180152, smallest_pow_2_geq_than_res_180157);
                int64_t block_sizze_180167 = add64((int64_t) 1, zp_rhs_180166);
                bool y_180174 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104);
                bool protect_assert_disj_185511 = cond_180151 || y_180174;
                bool index_certs_180175;
                
                if (!protect_assert_disj_185511) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_180201 = slt64(smallest_pow_2_geq_than_res_180157, (int64_t) 0);
                bool valid_180202 = !bounds_invalid_upwards_180201;
                bool protect_assert_disj_185521 = cond_180151 || valid_180202;
                bool range_valid_c_180203;
                
                if (!protect_assert_disj_185521) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_180157, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_180205 = slt64(block_sizze_180167, (int64_t) 0);
                bool valid_180206 = !bounds_invalid_upwards_180205;
                bool protect_assert_disj_185523 = cond_180151 || valid_180206;
                bool range_valid_c_180207;
                
                if (!protect_assert_disj_185523) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_180167, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_180209 = sle64(block_sizze_180167, (int64_t) 1);
                int64_t tmp_180210 = sub64(block_sizze_180167, (int64_t) 2);
                bool bounds_invalid_upwards_180211 = slt64(tmp_180210, (int64_t) 0);
                bool valid_180213 = !bounds_invalid_upwards_180211;
                bool protect_assert_disj_180214 = cond_180209 || valid_180213;
                bool protect_assert_disj_185525 = cond_180151 || protect_assert_disj_180214;
                bool range_valid_c_180215;
                
                if (!protect_assert_disj_185525) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_180210, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_180776 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104;
                bool empty_or_match_cert_180777;
                
                if (!dim_match_180776) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107, "](i8, i64, f64)`.", "-> #0  ftsort.fut:231:22-237:50\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_180778 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107 == (int64_t) 0;
                int64_t m_180779 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_180780 = sle64((int64_t) 0, m_180779);
                bool i_p_m_t_s_leq_w_180781 = slt64(m_180779, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107);
                bool y_180782 = zzero_leq_i_p_m_t_s_180780 && i_p_m_t_s_leq_w_180781;
                bool ok_or_empty_180783 = empty_slice_180778 || y_180782;
                bool index_certs_180784;
                
                if (!ok_or_empty_180783) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107, "].", "-> #0  ftsort.fut:238:59-89\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_180785 = add64(ind_bottom_180105, m_180779);
                bool zzero_leq_i_p_m_t_s_180786 = sle64((int64_t) 0, i_p_m_t_s_180785);
                bool i_p_m_t_s_leq_w_180787 = slt64(i_p_m_t_s_180785, window_sizze_164065);
                bool zzero_lte_i_180788 = sle64((int64_t) 0, ind_bottom_180105);
                bool i_lte_j_180789 = sle64(ind_bottom_180105, ind_top_180106);
                bool y_180790 = i_p_m_t_s_leq_w_180787 && zzero_lte_i_180788;
                bool y_180791 = zzero_leq_i_p_m_t_s_180786 && y_180790;
                bool forwards_ok_180792 = i_lte_j_180789 && y_180791;
                bool ok_or_empty_180793 = empty_slice_180778 || forwards_ok_180792;
                bool index_certs_180794;
                
                if (!ok_or_empty_180793) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_180105, ":", (long long) ind_top_180106, "] out of bounds for array of shape [", (long long) window_sizze_164065, "].", "-> #0  ftsort.fut:238:27-89\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_181658 = p_178824 + index_concat_branch_181682;
                
                if (memblock_alloc(ctx, &mem_184357, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "mem_184357")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_185849 = 0; nest_i_185849 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103; nest_i_185849++) {
                    ((int8_t *) mem_184357.mem)[nest_i_185849] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_184359, bytes_184358, "mem_184359")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_185850 = 0; i_185850 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103; i_185850++) {
                    int64_t x_185851 = index_concat_branch_181682 + i_185850 * (int64_t) 1;
                    
                    ((int64_t *) mem_184359.mem)[i_185850] = x_185851;
                }
                
                int64_t slice_181657 = p_178825 + index_concat_branch_181676;
                
                for (int64_t nest_i_185852 = 0; nest_i_185852 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102; nest_i_185852++) {
                    ((int8_t *) mem_184357.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103 + nest_i_185852] = (int8_t) 1;
                }
                for (int64_t i_185853 = 0; i_185853 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102; i_185853++) {
                    int64_t x_185854 = index_concat_branch_181676 + i_185853 * (int64_t) 1;
                    
                    ((int64_t *) mem_184359.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103 + i_185853] = x_185854;
                }
                
                int64_t tmp_offs_185855 = (int64_t) 0;
                
                if (!(tmp_offs_185855 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184357.mem, tmp_offs_185855, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184357.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103});
                }
                tmp_offs_185855 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103;
                if (!(tmp_offs_185855 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184357.mem, tmp_offs_185855, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184357.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102});
                }
                tmp_offs_185855 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102;
                
                int64_t tmp_offs_185856 = (int64_t) 0;
                
                if (!(tmp_offs_185856 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184359.mem, tmp_offs_185856, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184359.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103});
                }
                tmp_offs_185856 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103;
                if (!(tmp_offs_185856 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184359.mem, tmp_offs_185856, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184359.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102});
                }
                tmp_offs_185856 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102;
                if (memblock_alloc(ctx, &mem_184361, bytes_184358, "mem_184361")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_185857 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184361.mem, tmp_offs_185857, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_184305.mem, slice_181658, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103});
                tmp_offs_185857 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184361.mem, tmp_offs_185857, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_184306.mem, slice_181657, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102});
                tmp_offs_185857 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102;
                
                int64_t flat_dim_180168 = smallest_pow_2_geq_than_res_180157 * block_sizze_180167;
                bool x_185506 = !cond_180151;
                int64_t greatest_divisor_leq_than_arg1_180172 = mul64((int64_t) 2, block_sizze_180167);
                int64_t merge_block_sizze_180173;
                
                if (x_185506) {
                    int64_t x_185508;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_185508, (int64_t) 8, greatest_divisor_leq_than_arg1_180172) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_180173 = x_185508;
                } else {
                    merge_block_sizze_180173 = (int64_t) 0;
                }
                
                bool index_concat_cmp_181652 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, (int64_t) 0);
                int8_t index_concat_branch_181656 = btoi_bool_i8(index_concat_cmp_181652);
                int64_t index_concat_i_183477 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                int64_t index_primexp_183478 = add64(index_concat_branch_181676, index_concat_i_183477);
                int64_t index_concat_branch_181650;
                
                if (index_concat_cmp_181652) {
                    index_concat_branch_181650 = index_primexp_183478;
                } else {
                    index_concat_branch_181650 = index_concat_branch_181682;
                }
                
                bool x_185502 = !index_concat_cmp_181652;
                bool protect_cond_conj_185512 = x_185502 && x_185506;
                double index_concat_181643;
                
                if (protect_cond_conj_185512) {
                    double x_185504 = ((double *) a_list_mem_184305.mem)[slice_181658];
                    
                    index_concat_181643 = x_185504;
                } else {
                    index_concat_181643 = 0.0;
                }
                
                int64_t slice_183480 = slice_181657 + index_concat_i_183477;
                bool protect_cond_conj_185513 = index_concat_cmp_181652 && x_185506;
                double index_concat_183481;
                
                if (protect_cond_conj_185513) {
                    double x_185500 = ((double *) b_list_mem_184306.mem)[slice_183480];
                    
                    index_concat_183481 = x_185500;
                } else {
                    index_concat_183481 = 0.0;
                }
                
                double index_concat_branch_181644;
                
                if (index_concat_cmp_181652) {
                    index_concat_branch_181644 = index_concat_183481;
                } else {
                    index_concat_branch_181644 = index_concat_181643;
                }
                
                int8_t defunc_0_reduce_res_183712;
                int64_t defunc_0_reduce_res_183713;
                double defunc_0_reduce_res_183714;
                
                if (x_185506) {
                    int8_t x_185514;
                    int64_t x_185515;
                    double x_185516;
                    int8_t redout_184058;
                    int64_t redout_184059;
                    double redout_184060;
                    
                    redout_184058 = index_concat_branch_181656;
                    redout_184059 = index_concat_branch_181650;
                    redout_184060 = index_concat_branch_181644;
                    for (int64_t i_184061 = 0; i_184061 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104; i_184061++) {
                        bool index_concat_cmp_184265 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, i_184061);
                        int8_t index_concat_branch_184269 = btoi_bool_i8(index_concat_cmp_184265);
                        int64_t index_concat_branch_184263;
                        
                        if (index_concat_cmp_184265) {
                            int64_t index_concat_i_184260 = sub64(i_184061, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                            int64_t index_primexp_184287 = add64(index_concat_branch_181676, index_concat_i_184260);
                            
                            index_concat_branch_184263 = index_primexp_184287;
                        } else {
                            int64_t index_primexp_184289 = add64(index_concat_branch_181682, i_184061);
                            
                            index_concat_branch_184263 = index_primexp_184289;
                        }
                        
                        double index_concat_branch_184257;
                        
                        if (index_concat_cmp_184265) {
                            int64_t index_concat_i_184254 = sub64(i_184061, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                            int64_t slice_184284 = slice_181657 + index_concat_i_184254;
                            double index_concat_184255 = ((double *) b_list_mem_184306.mem)[slice_184284];
                            
                            index_concat_branch_184257 = index_concat_184255;
                        } else {
                            int64_t slice_184285 = slice_181658 + i_184061;
                            double index_concat_184256 = ((double *) a_list_mem_184305.mem)[slice_184285];
                            
                            index_concat_branch_184257 = index_concat_184256;
                        }
                        
                        bool eq_x_y_184300 = redout_184058 == (int8_t) 1;
                        bool eq_x_zz_184301 = redout_184058 == (int8_t) 0;
                        bool p_and_eq_x_y_184302 = index_concat_cmp_184265 && eq_x_y_184300;
                        bool not_p_184303 = !index_concat_cmp_184265;
                        bool p_and_eq_x_y_184304 = eq_x_zz_184301 && not_p_184303;
                        bool cond_180191 = p_and_eq_x_y_184302 || p_and_eq_x_y_184304;
                        bool defunc_0_leq_res_t_res_180192 = sle64(redout_184059, index_concat_branch_184263);
                        bool defunc_0_leq_res_180193 = redout_184060 <= index_concat_branch_184257;
                        bool x_180194 = cond_180191 && defunc_0_leq_res_t_res_180192;
                        bool x_180195 = !cond_180191;
                        bool y_180196 = defunc_0_leq_res_180193 && x_180195;
                        bool defunc_0_leq_res_180197 = x_180194 || y_180196;
                        int8_t defunc_0_op_res_180198;
                        
                        if (defunc_0_leq_res_180197) {
                            defunc_0_op_res_180198 = index_concat_branch_184269;
                        } else {
                            defunc_0_op_res_180198 = redout_184058;
                        }
                        
                        int64_t defunc_0_op_res_180199;
                        
                        if (defunc_0_leq_res_180197) {
                            defunc_0_op_res_180199 = index_concat_branch_184263;
                        } else {
                            defunc_0_op_res_180199 = redout_184059;
                        }
                        
                        double defunc_0_op_res_180200;
                        
                        if (defunc_0_leq_res_180197) {
                            defunc_0_op_res_180200 = index_concat_branch_184257;
                        } else {
                            defunc_0_op_res_180200 = redout_184060;
                        }
                        
                        int8_t redout_tmp_185858 = defunc_0_op_res_180198;
                        int64_t redout_tmp_185859 = defunc_0_op_res_180199;
                        double redout_tmp_185860 = defunc_0_op_res_180200;
                        
                        redout_184058 = redout_tmp_185858;
                        redout_184059 = redout_tmp_185859;
                        redout_184060 = redout_tmp_185860;
                    }
                    x_185514 = redout_184058;
                    x_185515 = redout_184059;
                    x_185516 = redout_184060;
                    defunc_0_reduce_res_183712 = x_185514;
                    defunc_0_reduce_res_183713 = x_185515;
                    defunc_0_reduce_res_183714 = x_185516;
                } else {
                    defunc_0_reduce_res_183712 = (int8_t) 0;
                    defunc_0_reduce_res_183713 = (int64_t) 0;
                    defunc_0_reduce_res_183714 = 0.0;
                }
                
                int64_t distance_180212 = add64((int64_t) 1, tmp_180210);
                int64_t binop_x_184364 = (int64_t) 8 * smallest_pow_2_geq_than_res_180157;
                int64_t bytes_184365 = block_sizze_180167 * binop_x_184364;
                int64_t bytes_184383 = (int64_t) 8 * block_sizze_180167;
                bool loop_cond_180321 = slt64(block_sizze_180167, flat_dim_180168);
                bool zzero_180322 = merge_block_sizze_180173 == (int64_t) 0;
                bool nonzzero_180323 = !zzero_180322;
                
                if (cond_180151) {
                    if (memblock_set(ctx, &ext_mem_184656, &mem_184357, "mem_184357") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184653, &mem_184359, "mem_184359") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184650, &mem_184361, "mem_184361") != 0)
                        return 1;
                } else {
                    if (mem_184363_cached_sizze_186049 < flat_dim_180168) {
                        err = lexical_realloc(ctx, &mem_184363, &mem_184363_cached_sizze_186049, flat_dim_180168);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184366_cached_sizze_186050 < bytes_184365) {
                        err = lexical_realloc(ctx, &mem_184366, &mem_184366_cached_sizze_186050, bytes_184365);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184369_cached_sizze_186051 < bytes_184365) {
                        err = lexical_realloc(ctx, &mem_184369, &mem_184369_cached_sizze_186051, bytes_184365);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184382_cached_sizze_186052 < block_sizze_180167) {
                        err = lexical_realloc(ctx, &mem_184382, &mem_184382_cached_sizze_186052, block_sizze_180167);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184384_cached_sizze_186053 < bytes_184383) {
                        err = lexical_realloc(ctx, &mem_184384, &mem_184384_cached_sizze_186053, bytes_184383);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184386_cached_sizze_186054 < bytes_184383) {
                        err = lexical_realloc(ctx, &mem_184386, &mem_184386_cached_sizze_186054, bytes_184383);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_184078 = 0; i_184078 < smallest_pow_2_geq_than_res_180157; i_184078++) {
                        int64_t zp_lhs_180220 = mul64(block_sizze_180167, i_184078);
                        
                        for (int64_t i_184068 = 0; i_184068 < block_sizze_180167; i_184068++) {
                            int64_t k_180225 = add64(zp_lhs_180220, i_184068);
                            bool cond_180226 = slt64(k_180225, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104);
                            int8_t lifted_lambda_res_180227;
                            int64_t lifted_lambda_res_180228;
                            double lifted_lambda_res_180229;
                            
                            if (cond_180226) {
                                bool x_183487 = sle64((int64_t) 0, k_180225);
                                bool bounds_check_183488 = cond_180226 && x_183487;
                                bool index_certs_183489;
                                
                                if (!bounds_check_183488) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_180225, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_183490 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, k_180225);
                                int8_t index_concat_branch_183491 = btoi_bool_i8(index_concat_cmp_183490);
                                int64_t index_concat_branch_183492;
                                
                                if (index_concat_cmp_183490) {
                                    int64_t index_concat_i_183493 = sub64(k_180225, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                                    int64_t index_primexp_183494 = add64(index_concat_branch_181676, index_concat_i_183493);
                                    
                                    index_concat_branch_183492 = index_primexp_183494;
                                } else {
                                    int64_t index_primexp_183495 = add64(k_180225, index_concat_branch_181682);
                                    
                                    index_concat_branch_183492 = index_primexp_183495;
                                }
                                
                                double index_concat_branch_183496;
                                
                                if (index_concat_cmp_183490) {
                                    int64_t index_concat_i_183497 = sub64(k_180225, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                                    int64_t slice_183498 = slice_181657 + index_concat_i_183497;
                                    double index_concat_183499 = ((double *) b_list_mem_184306.mem)[slice_183498];
                                    
                                    index_concat_branch_183496 = index_concat_183499;
                                } else {
                                    int64_t slice_183500 = k_180225 + slice_181658;
                                    double index_concat_183501 = ((double *) a_list_mem_184305.mem)[slice_183500];
                                    
                                    index_concat_branch_183496 = index_concat_183501;
                                }
                                lifted_lambda_res_180227 = index_concat_branch_183491;
                                lifted_lambda_res_180228 = index_concat_branch_183492;
                                lifted_lambda_res_180229 = index_concat_branch_183496;
                            } else {
                                lifted_lambda_res_180227 = defunc_0_reduce_res_183712;
                                lifted_lambda_res_180228 = defunc_0_reduce_res_183713;
                                lifted_lambda_res_180229 = defunc_0_reduce_res_183714;
                            }
                            ((int8_t *) mem_184382)[i_184068] = lifted_lambda_res_180227;
                            ((int64_t *) mem_184384)[i_184068] = lifted_lambda_res_180228;
                            ((double *) mem_184386)[i_184068] = lifted_lambda_res_180229;
                        }
                        if (!cond_180209) {
                            for (int64_t i_180242 = 0; i_180242 < distance_180212; i_180242++) {
                                int64_t gt_arg1_180246 = add64((int64_t) 1, i_180242);
                                bool x_180247 = sle64((int64_t) 0, gt_arg1_180246);
                                bool y_180248 = slt64(gt_arg1_180246, block_sizze_180167);
                                bool bounds_check_180249 = x_180247 && y_180248;
                                bool index_certs_180250;
                                
                                if (!bounds_check_180249) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_180246, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_180254 = slt64(i_180242, block_sizze_180167);
                                bool index_certs_180255;
                                
                                if (!y_180254) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180242, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_180251 = ((int8_t *) mem_184382)[gt_arg1_180246];
                                int64_t gt_arg1_180252 = ((int64_t *) mem_184384)[gt_arg1_180246];
                                double gt_arg1_180253 = ((double *) mem_184386)[gt_arg1_180246];
                                int8_t gt_arg0_180256 = ((int8_t *) mem_184382)[i_180242];
                                int64_t gt_arg0_180257 = ((int64_t *) mem_184384)[i_180242];
                                double gt_arg0_180258 = ((double *) mem_184386)[i_180242];
                                bool cond_180259 = gt_arg0_180256 == gt_arg1_180251;
                                bool defunc_0_leq_res_t_res_180260 = sle64(gt_arg0_180257, gt_arg1_180252);
                                bool defunc_0_leq_res_180261 = gt_arg0_180258 <= gt_arg1_180253;
                                bool x_180262 = cond_180259 && defunc_0_leq_res_t_res_180260;
                                bool x_180263 = !cond_180259;
                                bool y_180264 = defunc_0_leq_res_180261 && x_180263;
                                bool defunc_0_leq_res_180265 = x_180262 || y_180264;
                                bool defunc_0_lifted_gt_res_180266 = !defunc_0_leq_res_180265;
                                bool s_180267;
                                int64_t s_180271;
                                bool loop_while_180272;
                                int64_t j_180276;
                                
                                loop_while_180272 = defunc_0_lifted_gt_res_180266;
                                j_180276 = i_180242;
                                while (loop_while_180272) {
                                    bool x_180277 = sle64((int64_t) 0, j_180276);
                                    bool y_180278 = slt64(j_180276, block_sizze_180167);
                                    bool bounds_check_180279 = x_180277 && y_180278;
                                    bool index_certs_180280;
                                    
                                    if (!bounds_check_180279) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180276, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_180284 = add64((int64_t) 1, j_180276);
                                    bool x_180285 = sle64((int64_t) 0, copy_arg0_180284);
                                    bool y_180286 = slt64(copy_arg0_180284, block_sizze_180167);
                                    bool bounds_check_180287 = x_180285 && y_180286;
                                    bool index_certs_180288;
                                    
                                    if (!bounds_check_180287) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_180284, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_180281 = ((int8_t *) mem_184382)[j_180276];
                                    int64_t copy_arg0_180282 = ((int64_t *) mem_184384)[j_180276];
                                    double copy_arg0_180283 = ((double *) mem_184386)[j_180276];
                                    int8_t copy_arg0_180289 = ((int8_t *) mem_184382)[copy_arg0_180284];
                                    int64_t copy_arg0_180290 = ((int64_t *) mem_184384)[copy_arg0_180284];
                                    double copy_arg0_180291 = ((double *) mem_184386)[copy_arg0_180284];
                                    
                                    ((int8_t *) mem_184382)[j_180276] = copy_arg0_180289;
                                    ((int64_t *) mem_184384)[j_180276] = copy_arg0_180290;
                                    ((double *) mem_184386)[j_180276] = copy_arg0_180291;
                                    ((int8_t *) mem_184382)[copy_arg0_180284] = copy_arg0_180281;
                                    ((int64_t *) mem_184384)[copy_arg0_180284] = copy_arg0_180282;
                                    ((double *) mem_184386)[copy_arg0_180284] = copy_arg0_180283;
                                    
                                    int64_t tmp_180298 = sub64(j_180276, (int64_t) 1);
                                    bool cond_180299 = sle64((int64_t) 0, tmp_180298);
                                    bool loop_cond_180300;
                                    
                                    if (cond_180299) {
                                        bool y_183505 = slt64(tmp_180298, block_sizze_180167);
                                        bool bounds_check_183506 = cond_180299 && y_183505;
                                        bool index_certs_183507;
                                        
                                        if (!bounds_check_183506) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180298, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_183502 = ((int8_t *) mem_184382)[j_180276];
                                        int64_t gt_arg1_183503 = ((int64_t *) mem_184384)[j_180276];
                                        double gt_arg1_183504 = ((double *) mem_184386)[j_180276];
                                        int8_t gt_arg0_183508 = ((int8_t *) mem_184382)[tmp_180298];
                                        int64_t gt_arg0_183509 = ((int64_t *) mem_184384)[tmp_180298];
                                        double gt_arg0_183510 = ((double *) mem_184386)[tmp_180298];
                                        bool cond_183511 = gt_arg0_183508 == gt_arg1_183502;
                                        bool defunc_0_leq_res_t_res_183512 = sle64(gt_arg0_183509, gt_arg1_183503);
                                        bool defunc_0_leq_res_183513 = gt_arg0_183510 <= gt_arg1_183504;
                                        bool x_183514 = cond_183511 && defunc_0_leq_res_t_res_183512;
                                        bool x_183515 = !cond_183511;
                                        bool y_183516 = defunc_0_leq_res_183513 && x_183515;
                                        bool defunc_0_leq_res_183517 = x_183514 || y_183516;
                                        bool defunc_0_lifted_gt_res_183518 = !defunc_0_leq_res_183517;
                                        
                                        loop_cond_180300 = defunc_0_lifted_gt_res_183518;
                                    } else {
                                        loop_cond_180300 = 0;
                                    }
                                    
                                    bool loop_while_tmp_185870 = loop_cond_180300;
                                    int64_t j_tmp_185874 = tmp_180298;
                                    
                                    loop_while_180272 = loop_while_tmp_185870;
                                    j_180276 = j_tmp_185874;
                                }
                                s_180267 = loop_while_180272;
                                s_180271 = j_180276;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_184363, i_184078 * block_sizze_180167, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184382, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180167});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184366, i_184078 * block_sizze_180167, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184384, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180167});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184369, i_184078 * block_sizze_180167, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184386, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180167});
                    }
                    if (memblock_alloc(ctx, &mem_184463, flat_dim_180168, "mem_184463")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_184463.mem, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (uint8_t *) mem_184363, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180157, block_sizze_180167});
                    if (memblock_alloc(ctx, &mem_184467, bytes_184365, "mem_184467")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_184467.mem, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (uint64_t *) mem_184366, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180157, block_sizze_180167});
                    if (memblock_alloc(ctx, &mem_184471, bytes_184365, "mem_184471")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_184471.mem, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (uint64_t *) mem_184369, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180157, block_sizze_180167});
                    
                    int64_t data_180324;
                    bool data_180325;
                    int64_t data_180329;
                    int64_t loop_dz2084Uz2082U_180330;
                    bool loop_while_180331;
                    int64_t stride_180335;
                    
                    if (memblock_set(ctx, &mem_param_184475, &mem_184463, "mem_184463") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_184478, &mem_184467, "mem_184467") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_184481, &mem_184471, "mem_184471") != 0)
                        return 1;
                    loop_dz2084Uz2082U_180330 = flat_dim_180168;
                    loop_while_180331 = loop_cond_180321;
                    stride_180335 = block_sizze_180167;
                    while (loop_while_180331) {
                        int64_t next_stride_180336 = mul64((int64_t) 2, stride_180335);
                        bool zzero_180337 = next_stride_180336 == (int64_t) 0;
                        bool nonzzero_180338 = !zzero_180337;
                        bool nonzzero_cert_180339;
                        
                        if (!nonzzero_180338) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_180340 = sdiv64(flat_dim_180168, next_stride_180336);
                        bool bounds_invalid_upwards_180341 = slt64(num_merges_180340, (int64_t) 0);
                        bool valid_180342 = !bounds_invalid_upwards_180341;
                        bool range_valid_c_180343;
                        
                        if (!valid_180342) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_180340, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_180345 = sub64(next_stride_180336, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_180346 = sle64((int64_t) 0, m_180345);
                        bool cond_180348 = slt64(next_stride_180336, (int64_t) 10);
                        bool protect_assert_disj_180349 = nonzzero_180323 || cond_180348;
                        bool nonzzero_cert_180350;
                        
                        if (!protect_assert_disj_180349) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_180351 = smod_safe64(next_stride_180336, merge_block_sizze_180173);
                        bool num_blocks_180352 = zeze_lhs_180351 == (int64_t) 0;
                        bool protect_assert_disj_180353 = cond_180348 || num_blocks_180352;
                        bool assert_c_180354;
                        
                        if (!protect_assert_disj_180353) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_180356 = sdiv_safe64(next_stride_180336, merge_block_sizze_180173);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357 = add64((int64_t) 1, num_blocks_180356);
                        int64_t j_m_i_180358 = sub64(next_stride_180336, stride_180335);
                        int64_t flat_dim_180359 = merge_block_sizze_180173 * num_blocks_180356;
                        bool bounds_invalid_upwards_180360 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357, (int64_t) 0);
                        bool empty_slice_180361 = j_m_i_180358 == (int64_t) 0;
                        int64_t m_180362 = sub64(j_m_i_180358, (int64_t) 1);
                        bool zzero_lte_i_180363 = sle64((int64_t) 0, stride_180335);
                        bool i_lte_j_180364 = sle64(stride_180335, next_stride_180336);
                        bool empty_slice_180365 = stride_180335 == (int64_t) 0;
                        int64_t m_180366 = sub64(stride_180335, (int64_t) 1);
                        bool bounds_invalid_upwards_180367 = slt64(num_blocks_180356, (int64_t) 0);
                        bool cond_180368 = slt64((int64_t) 0, stride_180335);
                        bool valid_180369 = !bounds_invalid_upwards_180360;
                        int64_t i_p_m_t_s_180370 = add64(stride_180335, m_180362);
                        bool zzero_leq_i_p_m_t_s_180371 = sle64((int64_t) 0, m_180366);
                        bool i_p_m_t_s_leq_w_180372 = slt64(m_180366, next_stride_180336);
                        bool valid_180373 = !bounds_invalid_upwards_180367;
                        bool i_p_m_t_s_leq_w_180374 = slt64(m_180345, flat_dim_180359);
                        bool y_180375 = slt64((int64_t) 0, j_m_i_180358);
                        bool protect_assert_disj_180376 = cond_180348 || valid_180369;
                        bool range_valid_c_180377;
                        
                        if (!protect_assert_disj_180376) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:393:63-73\n   #9  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_180378 = sle64((int64_t) 0, i_p_m_t_s_180370);
                        bool i_p_m_t_s_leq_w_180379 = slt64(i_p_m_t_s_180370, next_stride_180336);
                        bool y_180380 = zzero_leq_i_p_m_t_s_180371 && i_p_m_t_s_leq_w_180372;
                        bool protect_assert_disj_180381 = cond_180348 || valid_180373;
                        bool range_valid_c_180382;
                        
                        if (!protect_assert_disj_180381) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_180356, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_180383 = zzero_leq_i_p_m_t_s_180346 && i_p_m_t_s_leq_w_180374;
                        bool y_180384 = zzero_lte_i_180363 && i_p_m_t_s_leq_w_180379;
                        bool forwards_ok_180385 = zzero_lte_i_180363 && y_180380;
                        bool ok_or_empty_180386 = zzero_180337 || y_180383;
                        bool protect_assert_disj_180387 = cond_180368 || y_180375;
                        bool y_180388 = zzero_leq_i_p_m_t_s_180378 && y_180384;
                        bool ok_or_empty_180389 = empty_slice_180365 || forwards_ok_180385;
                        bool protect_assert_disj_180390 = cond_180348 || ok_or_empty_180386;
                        bool index_certs_180391;
                        
                        if (!protect_assert_disj_180390) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_180336, "] out of bounds for array of shape [", (long long) flat_dim_180359, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_180392 = !cond_180348;
                        bool protect_assert_disj_180393 = protect_assert_disj_180387 || loop_not_taken_180392;
                        bool index_certs_180394;
                        
                        if (!protect_assert_disj_180393) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:393:63-73\n   #9  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_180395 = i_lte_j_180364 && y_180388;
                        bool protect_assert_disj_180396 = cond_180348 || ok_or_empty_180389;
                        bool index_certs_180397;
                        
                        if (!protect_assert_disj_180396) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_180335, "] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:393:63-73\n   #10 ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_180398 = ok_or_empty_180389 || loop_not_taken_180392;
                        bool index_certs_180399;
                        
                        if (!protect_assert_disj_180398) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_180335, "] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_180400 = empty_slice_180361 || forwards_ok_180395;
                        bool protect_assert_disj_180401 = cond_180348 || ok_or_empty_180400;
                        bool index_certs_180402;
                        
                        if (!protect_assert_disj_180401) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_180335, ":] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:393:63-73\n   #10 ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_180403 = loop_not_taken_180392 || ok_or_empty_180400;
                        bool index_certs_180404;
                        
                        if (!protect_assert_disj_180403) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_180335, ":] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_184482 = next_stride_180336 * num_merges_180340;
                        int64_t binop_x_184484 = (int64_t) 8 * num_merges_180340;
                        int64_t bytes_184485 = next_stride_180336 * binop_x_184484;
                        bool i_lte_j_180347 = sle64((int64_t) 0, next_stride_180336);
                        
                        if (mem_184483_cached_sizze_186055 < bytes_184482) {
                            err = lexical_realloc(ctx, &mem_184483, &mem_184483_cached_sizze_186055, bytes_184482);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_184486_cached_sizze_186056 < bytes_184485) {
                            err = lexical_realloc(ctx, &mem_184486, &mem_184486_cached_sizze_186056, bytes_184485);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_184489_cached_sizze_186057 < bytes_184485) {
                            err = lexical_realloc(ctx, &mem_184489, &mem_184489_cached_sizze_186057, bytes_184485);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_184502 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357;
                        int64_t binop_x_184520 = (int64_t) 8 * num_blocks_180356;
                        int64_t bytes_184521 = merge_block_sizze_180173 * binop_x_184520;
                        int64_t bytes_184585 = (int64_t) 16 * stride_180335;
                        
                        for (int64_t i_184105 = 0; i_184105 < num_merges_180340; i_184105++) {
                            int64_t start_180409 = mul64(next_stride_180336, i_184105);
                            int64_t j_m_i_180410 = sub64(loop_dz2084Uz2082U_180330, start_180409);
                            bool empty_slice_180411 = j_m_i_180410 == (int64_t) 0;
                            int64_t m_180412 = sub64(j_m_i_180410, (int64_t) 1);
                            int64_t i_p_m_t_s_180413 = add64(start_180409, m_180412);
                            bool zzero_leq_i_p_m_t_s_180414 = sle64((int64_t) 0, i_p_m_t_s_180413);
                            bool i_p_m_t_s_leq_w_180415 = slt64(i_p_m_t_s_180413, loop_dz2084Uz2082U_180330);
                            bool zzero_lte_i_180416 = sle64((int64_t) 0, start_180409);
                            bool i_lte_j_180417 = sle64(start_180409, loop_dz2084Uz2082U_180330);
                            bool y_180418 = i_p_m_t_s_leq_w_180415 && zzero_lte_i_180416;
                            bool y_180419 = zzero_leq_i_p_m_t_s_180414 && y_180418;
                            bool forwards_ok_180420 = i_lte_j_180417 && y_180419;
                            bool ok_or_empty_180421 = empty_slice_180411 || forwards_ok_180420;
                            bool index_certs_180422;
                            
                            if (!ok_or_empty_180421) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_180409, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_180330, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_180423 = slt64(m_180345, j_m_i_180410);
                            bool y_180424 = zzero_leq_i_p_m_t_s_180346 && i_p_m_t_s_leq_w_180423;
                            bool forwards_ok_180425 = i_lte_j_180347 && y_180424;
                            bool ok_or_empty_180426 = zzero_180337 || forwards_ok_180425;
                            bool index_certs_180427;
                            
                            if (!ok_or_empty_180426) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_180336, "] out of bounds for array of shape [", (long long) j_m_i_180410, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_180348) {
                                int8_t dummy_183557;
                                int64_t dummy_183558;
                                double dummy_183559;
                                
                                if (cond_180368) {
                                    int8_t head_res_183560 = ((int8_t *) mem_param_184475.mem)[start_180409];
                                    int64_t head_res_183561 = ((int64_t *) mem_param_184478.mem)[start_180409];
                                    double head_res_183562 = ((double *) mem_param_184481.mem)[start_180409];
                                    
                                    dummy_183557 = head_res_183560;
                                    dummy_183558 = head_res_183561;
                                    dummy_183559 = head_res_183562;
                                } else {
                                    int64_t slice_183563 = stride_180335 + start_180409;
                                    int8_t head_res_183564 = ((int8_t *) mem_param_184475.mem)[slice_183563];
                                    int64_t head_res_183565 = ((int64_t *) mem_param_184478.mem)[slice_183563];
                                    double head_res_183566 = ((double *) mem_param_184481.mem)[slice_183563];
                                    
                                    dummy_183557 = head_res_183564;
                                    dummy_183558 = head_res_183565;
                                    dummy_183559 = head_res_183566;
                                }
                                if (memblock_alloc(ctx, &mem_184584, next_stride_180336, "mem_184584")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185887 = 0; nest_i_185887 < next_stride_180336; nest_i_185887++) {
                                    ((int8_t *) mem_184584.mem)[nest_i_185887] = dummy_183557;
                                }
                                if (memblock_alloc(ctx, &mem_184586, bytes_184585, "mem_184586")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185888 = 0; nest_i_185888 < next_stride_180336; nest_i_185888++) {
                                    ((int64_t *) mem_184586.mem)[nest_i_185888] = dummy_183558;
                                }
                                if (memblock_alloc(ctx, &mem_184588, bytes_184585, "mem_184588")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185889 = 0; nest_i_185889 < next_stride_180336; nest_i_185889++) {
                                    ((double *) mem_184588.mem)[nest_i_185889] = dummy_183559;
                                }
                                
                                int64_t data_183570;
                                int64_t i_183575 = (int64_t) 0;
                                
                                for (int64_t k_183574 = 0; k_183574 < next_stride_180336; k_183574++) {
                                    int64_t j_183579 = sub64(k_183574, i_183575);
                                    bool cond_183580 = j_183579 == j_m_i_180358;
                                    bool cond_183581;
                                    
                                    if (cond_183580) {
                                        cond_183581 = 1;
                                    } else {
                                        bool cond_183582 = slt64(i_183575, stride_180335);
                                        bool cond_f_res_183583;
                                        
                                        if (cond_183582) {
                                            bool x_183584 = sle64((int64_t) 0, j_183579);
                                            bool y_183585 = slt64(j_183579, j_m_i_180358);
                                            bool bounds_check_183586 = x_183584 && y_183585;
                                            bool index_certs_183587;
                                            
                                            if (!bounds_check_183586) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183579, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_183593 = sle64((int64_t) 0, i_183575);
                                            bool bounds_check_183594 = cond_183582 && x_183593;
                                            bool index_certs_183595;
                                            
                                            if (!bounds_check_183594) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183575, "] out of bounds for array of shape [", (long long) stride_180335, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_183588 = stride_180335 + j_183579;
                                            int64_t slice_183589 = start_180409 + slice_183588;
                                            int8_t leq_arg1_183590 = ((int8_t *) mem_param_184475.mem)[slice_183589];
                                            int64_t leq_arg1_183591 = ((int64_t *) mem_param_184478.mem)[slice_183589];
                                            double leq_arg1_183592 = ((double *) mem_param_184481.mem)[slice_183589];
                                            int64_t slice_183596 = start_180409 + i_183575;
                                            int8_t leq_arg0_183597 = ((int8_t *) mem_param_184475.mem)[slice_183596];
                                            int64_t leq_arg0_183598 = ((int64_t *) mem_param_184478.mem)[slice_183596];
                                            double leq_arg0_183599 = ((double *) mem_param_184481.mem)[slice_183596];
                                            bool cond_183600 = leq_arg0_183597 == leq_arg1_183590;
                                            bool defunc_0_leq_res_t_res_183601 = sle64(leq_arg0_183598, leq_arg1_183591);
                                            bool defunc_0_leq_res_183602 = leq_arg0_183599 <= leq_arg1_183592;
                                            bool x_183603 = cond_183600 && defunc_0_leq_res_t_res_183601;
                                            bool x_183604 = !cond_183600;
                                            bool y_183605 = defunc_0_leq_res_183602 && x_183604;
                                            bool defunc_0_leq_res_183606 = x_183603 || y_183605;
                                            
                                            cond_f_res_183583 = defunc_0_leq_res_183606;
                                        } else {
                                            cond_f_res_183583 = 0;
                                        }
                                        cond_183581 = cond_f_res_183583;
                                    }
                                    
                                    int64_t loopres_183607;
                                    int8_t loopres_183608;
                                    int64_t loopres_183609;
                                    double loopres_183610;
                                    
                                    if (cond_183581) {
                                        bool x_183612 = sle64((int64_t) 0, i_183575);
                                        bool y_183613 = slt64(i_183575, stride_180335);
                                        bool bounds_check_183614 = x_183612 && y_183613;
                                        bool index_certs_183615;
                                        
                                        if (!bounds_check_183614) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183575, "] out of bounds for array of shape [", (long long) stride_180335, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_183611 = add64((int64_t) 1, i_183575);
                                        int64_t slice_183616 = start_180409 + i_183575;
                                        int8_t tmp_183617 = ((int8_t *) mem_param_184475.mem)[slice_183616];
                                        int64_t tmp_183618 = ((int64_t *) mem_param_184478.mem)[slice_183616];
                                        double tmp_183619 = ((double *) mem_param_184481.mem)[slice_183616];
                                        
                                        loopres_183607 = tmp_183611;
                                        loopres_183608 = tmp_183617;
                                        loopres_183609 = tmp_183618;
                                        loopres_183610 = tmp_183619;
                                    } else {
                                        bool x_183620 = sle64((int64_t) 0, j_183579);
                                        bool y_183621 = slt64(j_183579, j_m_i_180358);
                                        bool bounds_check_183622 = x_183620 && y_183621;
                                        bool index_certs_183623;
                                        
                                        if (!bounds_check_183622) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183579, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183624 = stride_180335 + j_183579;
                                        int64_t slice_183625 = start_180409 + slice_183624;
                                        int8_t tmp_183626 = ((int8_t *) mem_param_184475.mem)[slice_183625];
                                        int64_t tmp_183627 = ((int64_t *) mem_param_184478.mem)[slice_183625];
                                        double tmp_183628 = ((double *) mem_param_184481.mem)[slice_183625];
                                        
                                        loopres_183607 = i_183575;
                                        loopres_183608 = tmp_183626;
                                        loopres_183609 = tmp_183627;
                                        loopres_183610 = tmp_183628;
                                    }
                                    ((int8_t *) mem_184584.mem)[k_183574] = loopres_183608;
                                    ((int64_t *) mem_184586.mem)[k_183574] = loopres_183609;
                                    ((double *) mem_184588.mem)[k_183574] = loopres_183610;
                                    
                                    int64_t i_tmp_185890 = loopres_183607;
                                    
                                    i_183575 = i_tmp_185890;
                                }
                                data_183570 = i_183575;
                                if (memblock_set(ctx, &ext_mem_184615, &mem_184584, "mem_184584") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184612, &mem_184586, "mem_184586") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184609, &mem_184588, "mem_184588") != 0)
                                    return 1;
                            } else {
                                if (mem_184503_cached_sizze_186058 < bytes_184502) {
                                    err = lexical_realloc(ctx, &mem_184503, &mem_184503_cached_sizze_186058, bytes_184502);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184505_cached_sizze_186059 < bytes_184502) {
                                    err = lexical_realloc(ctx, &mem_184505, &mem_184505_cached_sizze_186059, bytes_184502);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_184086 = 0; i_184086 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357; i_184086++) {
                                    int64_t split_count_arg3_180510 = mul64(merge_block_sizze_180173, i_184086);
                                    int64_t defunc_0_split_count_res_180511;
                                    int64_t defunc_0_split_count_res_180512;
                                    int64_t defunc_0_split_count_res_180513;
                                    int64_t defunc_0_split_count_res_180514;
                                    int64_t defunc_0_split_count_res_180515;
                                    
                                    if (futrts_lifted_normalizze_9100(ctx, &defunc_0_split_count_res_180511, &defunc_0_split_count_res_180512, &defunc_0_split_count_res_180513, &defunc_0_split_count_res_180514, &defunc_0_split_count_res_180515, (int64_t) 0, stride_180335, (int64_t) 0, j_m_i_180358, split_count_arg3_180510) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_180516 = slt64((int64_t) 0, defunc_0_split_count_res_180515);
                                    bool defunc_0_split_count_res_180517;
                                    int64_t defunc_0_split_count_res_180518;
                                    int64_t defunc_0_split_count_res_180519;
                                    int64_t defunc_0_split_count_res_180520;
                                    int64_t defunc_0_split_count_res_180521;
                                    int64_t defunc_0_split_count_res_180522;
                                    bool loop_while_180523;
                                    int64_t ss_180524;
                                    int64_t ss_180525;
                                    int64_t tt_180526;
                                    int64_t tt_180527;
                                    int64_t count_180528;
                                    
                                    loop_while_180523 = loop_cond_180516;
                                    ss_180524 = defunc_0_split_count_res_180511;
                                    ss_180525 = defunc_0_split_count_res_180512;
                                    tt_180526 = defunc_0_split_count_res_180513;
                                    tt_180527 = defunc_0_split_count_res_180514;
                                    count_180528 = defunc_0_split_count_res_180515;
                                    while (loop_while_180523) {
                                        int64_t zlze_lhs_180529 = sub64(ss_180525, ss_180524);
                                        bool cond_180530 = sle64(zlze_lhs_180529, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_180531;
                                        int64_t defunc_0_lifted_step_res_180532;
                                        int64_t defunc_0_lifted_step_res_180533;
                                        int64_t defunc_0_lifted_step_res_180534;
                                        
                                        if (cond_180530) {
                                            int64_t tmp_183632 = add64(tt_180526, count_180528);
                                            
                                            defunc_0_lifted_step_res_180531 = ss_180524;
                                            defunc_0_lifted_step_res_180532 = tmp_183632;
                                            defunc_0_lifted_step_res_180533 = tt_180527;
                                            defunc_0_lifted_step_res_180534 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_180536 = sub64(tt_180527, tt_180526);
                                            bool cond_180537 = sle64(zlze_lhs_180536, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_180538;
                                            int64_t defunc_0_lifted_step_res_f_res_180539;
                                            int64_t defunc_0_lifted_step_res_f_res_180540;
                                            int64_t defunc_0_lifted_step_res_f_res_180541;
                                            
                                            if (cond_180537) {
                                                int64_t tmp_183633 = add64(ss_180524, count_180528);
                                                
                                                defunc_0_lifted_step_res_f_res_180538 = tmp_183633;
                                                defunc_0_lifted_step_res_f_res_180539 = tt_180526;
                                                defunc_0_lifted_step_res_f_res_180540 = tt_180527;
                                                defunc_0_lifted_step_res_f_res_180541 = (int64_t) 0;
                                            } else {
                                                bool cond_180543 = count_180528 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_180544;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_180545;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_180546;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_180547;
                                                
                                                if (cond_180543) {
                                                    bool x_183635 = sle64((int64_t) 0, ss_180524);
                                                    bool y_183636 = slt64(ss_180524, stride_180335);
                                                    bool bounds_check_183637 = x_183635 && y_183636;
                                                    bool index_certs_183638;
                                                    
                                                    if (!bounds_check_183637) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_180524, "] out of bounds for array of shape [", (long long) stride_180335, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:393:63-73\n   #12 ftsort.fut:386:1-393:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_183643 = sle64((int64_t) 0, tt_180526);
                                                    bool y_183644 = slt64(tt_180526, j_m_i_180358);
                                                    bool bounds_check_183645 = x_183643 && y_183644;
                                                    bool index_certs_183646;
                                                    
                                                    if (!bounds_check_183645) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_180526, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:393:63-73\n   #12 ftsort.fut:386:1-393:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_183639 = start_180409 + ss_180524;
                                                    int8_t leq_arg1_183640 = ((int8_t *) mem_param_184475.mem)[slice_183639];
                                                    int64_t leq_arg1_183641 = ((int64_t *) mem_param_184478.mem)[slice_183639];
                                                    double leq_arg1_183642 = ((double *) mem_param_184481.mem)[slice_183639];
                                                    int64_t slice_183647 = stride_180335 + tt_180526;
                                                    int64_t slice_183648 = start_180409 + slice_183647;
                                                    int8_t leq_arg0_183649 = ((int8_t *) mem_param_184475.mem)[slice_183648];
                                                    int64_t leq_arg0_183650 = ((int64_t *) mem_param_184478.mem)[slice_183648];
                                                    double leq_arg0_183651 = ((double *) mem_param_184481.mem)[slice_183648];
                                                    bool cond_183652 = leq_arg0_183649 == leq_arg1_183640;
                                                    bool defunc_0_leq_res_t_res_183653 = sle64(leq_arg0_183650, leq_arg1_183641);
                                                    bool defunc_0_leq_res_183654 = leq_arg0_183651 <= leq_arg1_183642;
                                                    bool x_183655 = cond_183652 && defunc_0_leq_res_t_res_183653;
                                                    bool x_183656 = !cond_183652;
                                                    bool y_183657 = defunc_0_leq_res_183654 && x_183656;
                                                    bool defunc_0_leq_res_183658 = x_183655 || y_183657;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183659;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183660;
                                                    
                                                    if (defunc_0_leq_res_183658) {
                                                        int64_t tmp_183661 = add64((int64_t) 1, tt_180526);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183659 = ss_180524;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183660 = tmp_183661;
                                                    } else {
                                                        int64_t tmp_183662 = add64((int64_t) 1, ss_180524);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183659 = tmp_183662;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183660 = tt_180526;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_180544 = defunc_0_lifted_step_res_f_res_f_res_t_res_183659;
                                                    defunc_0_lifted_step_res_f_res_f_res_180545 = defunc_0_lifted_step_res_f_res_f_res_t_res_183660;
                                                    defunc_0_lifted_step_res_f_res_f_res_180546 = tt_180527;
                                                    defunc_0_lifted_step_res_f_res_f_res_180547 = (int64_t) 0;
                                                } else {
                                                    int64_t m_180576 = sdiv64(count_180528, (int64_t) 2);
                                                    int64_t n_180577 = sub64(count_180528, m_180576);
                                                    bool cond_180578 = n_180577 == (int64_t) 0;
                                                    int64_t zgze_lhs_180579 = add64(ss_180524, m_180576);
                                                    bool cond_f_res_180580 = sle64(ss_180525, zgze_lhs_180579);
                                                    bool x_180581 = !cond_180578;
                                                    bool y_180582 = cond_f_res_180580 && x_180581;
                                                    bool cond_180583 = cond_180578 || y_180582;
                                                    bool leq_y_x_180584;
                                                    
                                                    if (cond_180583) {
                                                        leq_y_x_180584 = 1;
                                                    } else {
                                                        bool x_180585 = sle64((int64_t) 0, zgze_lhs_180579);
                                                        bool y_180586 = slt64(zgze_lhs_180579, stride_180335);
                                                        bool bounds_check_180587 = x_180585 && y_180586;
                                                        bool index_certs_180588;
                                                        
                                                        if (!bounds_check_180587) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_180579, "] out of bounds for array of shape [", (long long) stride_180335, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:393:63-73\n   #12 ftsort.fut:386:1-393:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_180593 = add64(tt_180526, n_180577);
                                                        int64_t leq_arg0_180594 = sub64(zm_lhs_180593, (int64_t) 1);
                                                        bool x_180595 = sle64((int64_t) 0, leq_arg0_180594);
                                                        bool y_180596 = slt64(leq_arg0_180594, j_m_i_180358);
                                                        bool bounds_check_180597 = x_180595 && y_180596;
                                                        bool index_certs_180598;
                                                        
                                                        if (!bounds_check_180597) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_180594, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:393:63-73\n   #12 ftsort.fut:386:1-393:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_180589 = start_180409 + zgze_lhs_180579;
                                                        int8_t leq_arg1_180590 = ((int8_t *) mem_param_184475.mem)[slice_180589];
                                                        int64_t leq_arg1_180591 = ((int64_t *) mem_param_184478.mem)[slice_180589];
                                                        double leq_arg1_180592 = ((double *) mem_param_184481.mem)[slice_180589];
                                                        int64_t slice_180599 = stride_180335 + leq_arg0_180594;
                                                        int64_t slice_180600 = start_180409 + slice_180599;
                                                        int8_t leq_arg0_180601 = ((int8_t *) mem_param_184475.mem)[slice_180600];
                                                        int64_t leq_arg0_180602 = ((int64_t *) mem_param_184478.mem)[slice_180600];
                                                        double leq_arg0_180603 = ((double *) mem_param_184481.mem)[slice_180600];
                                                        bool cond_180604 = leq_arg0_180601 == leq_arg1_180590;
                                                        bool defunc_0_leq_res_t_res_180605 = sle64(leq_arg0_180602, leq_arg1_180591);
                                                        bool defunc_0_leq_res_180606 = leq_arg0_180603 <= leq_arg1_180592;
                                                        bool x_180607 = cond_180604 && defunc_0_leq_res_t_res_180605;
                                                        bool x_180608 = !cond_180604;
                                                        bool y_180609 = defunc_0_leq_res_180606 && x_180608;
                                                        bool defunc_0_leq_res_180610 = x_180607 || y_180609;
                                                        
                                                        leq_y_x_180584 = defunc_0_leq_res_180610;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_180611;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_180612;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_180613;
                                                    
                                                    if (leq_y_x_180584) {
                                                        int64_t tmp_183663 = add64(tt_180526, n_180577);
                                                        int64_t tmp_183664 = sub64(count_180528, n_180577);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180611 = tmp_183663;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180612 = tt_180527;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180613 = tmp_183664;
                                                    } else {
                                                        int64_t tmp_180616 = add64(tt_180526, n_180577);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180611 = tt_180526;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180612 = tmp_180616;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180613 = count_180528;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_180544 = ss_180524;
                                                    defunc_0_lifted_step_res_f_res_f_res_180545 = defunc_0_lifted_step_res_f_res_f_res_f_res_180611;
                                                    defunc_0_lifted_step_res_f_res_f_res_180546 = defunc_0_lifted_step_res_f_res_f_res_f_res_180612;
                                                    defunc_0_lifted_step_res_f_res_f_res_180547 = defunc_0_lifted_step_res_f_res_f_res_f_res_180613;
                                                }
                                                defunc_0_lifted_step_res_f_res_180538 = defunc_0_lifted_step_res_f_res_f_res_180544;
                                                defunc_0_lifted_step_res_f_res_180539 = defunc_0_lifted_step_res_f_res_f_res_180545;
                                                defunc_0_lifted_step_res_f_res_180540 = defunc_0_lifted_step_res_f_res_f_res_180546;
                                                defunc_0_lifted_step_res_f_res_180541 = defunc_0_lifted_step_res_f_res_f_res_180547;
                                            }
                                            defunc_0_lifted_step_res_180531 = defunc_0_lifted_step_res_f_res_180538;
                                            defunc_0_lifted_step_res_180532 = defunc_0_lifted_step_res_f_res_180539;
                                            defunc_0_lifted_step_res_180533 = defunc_0_lifted_step_res_f_res_180540;
                                            defunc_0_lifted_step_res_180534 = defunc_0_lifted_step_res_f_res_180541;
                                        }
                                        
                                        int64_t loopres_180617;
                                        int64_t loopres_180618;
                                        int64_t loopres_180619;
                                        int64_t loopres_180620;
                                        int64_t loopres_180621;
                                        
                                        if (futrts_lifted_normalizze_9100(ctx, &loopres_180617, &loopres_180618, &loopres_180619, &loopres_180620, &loopres_180621, defunc_0_lifted_step_res_180531, ss_180525, defunc_0_lifted_step_res_180532, defunc_0_lifted_step_res_180533, defunc_0_lifted_step_res_180534) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_180622 = slt64((int64_t) 0, loopres_180621);
                                        bool loop_while_tmp_185896 = loop_cond_180622;
                                        int64_t ss_tmp_185897 = loopres_180617;
                                        int64_t ss_tmp_185898 = loopres_180618;
                                        int64_t tt_tmp_185899 = loopres_180619;
                                        int64_t tt_tmp_185900 = loopres_180620;
                                        int64_t count_tmp_185901 = loopres_180621;
                                        
                                        loop_while_180523 = loop_while_tmp_185896;
                                        ss_180524 = ss_tmp_185897;
                                        ss_180525 = ss_tmp_185898;
                                        tt_180526 = tt_tmp_185899;
                                        tt_180527 = tt_tmp_185900;
                                        count_180528 = count_tmp_185901;
                                    }
                                    defunc_0_split_count_res_180517 = loop_while_180523;
                                    defunc_0_split_count_res_180518 = ss_180524;
                                    defunc_0_split_count_res_180519 = ss_180525;
                                    defunc_0_split_count_res_180520 = tt_180526;
                                    defunc_0_split_count_res_180521 = tt_180527;
                                    defunc_0_split_count_res_180522 = count_180528;
                                    ((int64_t *) mem_184503)[i_184086] = defunc_0_split_count_res_180518;
                                    ((int64_t *) mem_184505)[i_184086] = defunc_0_split_count_res_180520;
                                }
                                if (mem_184519_cached_sizze_186060 < flat_dim_180359) {
                                    err = lexical_realloc(ctx, &mem_184519, &mem_184519_cached_sizze_186060, flat_dim_180359);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184522_cached_sizze_186061 < bytes_184521) {
                                    err = lexical_realloc(ctx, &mem_184522, &mem_184522_cached_sizze_186061, bytes_184521);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184525_cached_sizze_186062 < bytes_184521) {
                                    err = lexical_realloc(ctx, &mem_184525, &mem_184525_cached_sizze_186062, bytes_184521);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_184095 = 0; i_184095 < num_blocks_180356; i_184095++) {
                                    bool y_180629 = slt64(i_184095, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357);
                                    bool index_certs_180631;
                                    
                                    if (!y_180629) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_184095, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:393:63-73\n   #9  ftsort.fut:386:1-393:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_180632 = ((int64_t *) mem_184503)[i_184095];
                                    int64_t defunc_0_f_res_180633 = ((int64_t *) mem_184505)[i_184095];
                                    int64_t tmp_180634 = add64((int64_t) 1, i_184095);
                                    bool x_180635 = sle64((int64_t) 0, tmp_180634);
                                    bool y_180636 = slt64(tmp_180634, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357);
                                    bool bounds_check_180637 = x_180635 && y_180636;
                                    bool index_certs_180638;
                                    
                                    if (!bounds_check_180637) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180634, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:393:63-73\n   #9  ftsort.fut:386:1-393:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_180639 = ((int64_t *) mem_184503)[tmp_180634];
                                    int64_t defunc_0_f_res_180640 = ((int64_t *) mem_184505)[tmp_180634];
                                    int64_t merge_sequential_arg2_180641 = add64(stride_180335, defunc_0_f_res_180633);
                                    int64_t merge_sequential_arg2_180642 = add64(stride_180335, defunc_0_f_res_180640);
                                    int64_t j_m_i_180643 = sub64(merge_sequential_arg2_180642, merge_sequential_arg2_180641);
                                    bool empty_slice_180644 = j_m_i_180643 == (int64_t) 0;
                                    int64_t m_180645 = sub64(j_m_i_180643, (int64_t) 1);
                                    int64_t i_p_m_t_s_180646 = add64(merge_sequential_arg2_180641, m_180645);
                                    bool zzero_leq_i_p_m_t_s_180647 = sle64((int64_t) 0, i_p_m_t_s_180646);
                                    bool i_p_m_t_s_leq_w_180648 = slt64(i_p_m_t_s_180646, next_stride_180336);
                                    bool zzero_lte_i_180649 = sle64((int64_t) 0, merge_sequential_arg2_180641);
                                    bool i_lte_j_180650 = sle64(merge_sequential_arg2_180641, merge_sequential_arg2_180642);
                                    bool y_180651 = i_p_m_t_s_leq_w_180648 && zzero_lte_i_180649;
                                    bool y_180652 = zzero_leq_i_p_m_t_s_180647 && y_180651;
                                    bool forwards_ok_180653 = i_lte_j_180650 && y_180652;
                                    bool ok_or_empty_180654 = empty_slice_180644 || forwards_ok_180653;
                                    bool index_certs_180655;
                                    
                                    if (!ok_or_empty_180654) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_180641, ":", (long long) merge_sequential_arg2_180642, "] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:393:63-73\n   #9  ftsort.fut:386:1-393:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_180656 = sub64(defunc_0_f_res_180639, defunc_0_f_res_180632);
                                    bool empty_slice_180657 = j_m_i_180656 == (int64_t) 0;
                                    int64_t m_180658 = sub64(j_m_i_180656, (int64_t) 1);
                                    int64_t i_p_m_t_s_180659 = add64(defunc_0_f_res_180632, m_180658);
                                    bool zzero_leq_i_p_m_t_s_180660 = sle64((int64_t) 0, i_p_m_t_s_180659);
                                    bool i_p_m_t_s_leq_w_180661 = slt64(i_p_m_t_s_180659, next_stride_180336);
                                    bool zzero_lte_i_180662 = sle64((int64_t) 0, defunc_0_f_res_180632);
                                    bool i_lte_j_180663 = sle64(defunc_0_f_res_180632, defunc_0_f_res_180639);
                                    bool y_180664 = i_p_m_t_s_leq_w_180661 && zzero_lte_i_180662;
                                    bool y_180665 = zzero_leq_i_p_m_t_s_180660 && y_180664;
                                    bool forwards_ok_180666 = i_lte_j_180663 && y_180665;
                                    bool ok_or_empty_180667 = empty_slice_180657 || forwards_ok_180666;
                                    bool index_certs_180668;
                                    
                                    if (!ok_or_empty_180667) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_180632, ":", (long long) defunc_0_f_res_180639, "] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:393:63-73\n   #9  ftsort.fut:386:1-393:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_180669 = slt64((int64_t) 0, j_m_i_180656);
                                    int8_t dummy_180670;
                                    int64_t dummy_180671;
                                    double dummy_180672;
                                    
                                    if (cond_180669) {
                                        bool index_certs_183665;
                                        
                                        if (!cond_180669) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_180656, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:393:63-73\n   #11 ftsort.fut:386:1-393:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183666 = start_180409 + defunc_0_f_res_180632;
                                        int8_t head_res_183667 = ((int8_t *) mem_param_184475.mem)[slice_183666];
                                        int64_t head_res_183668 = ((int64_t *) mem_param_184478.mem)[slice_183666];
                                        double head_res_183669 = ((double *) mem_param_184481.mem)[slice_183666];
                                        
                                        dummy_180670 = head_res_183667;
                                        dummy_180671 = head_res_183668;
                                        dummy_180672 = head_res_183669;
                                    } else {
                                        bool y_180678 = slt64((int64_t) 0, j_m_i_180643);
                                        bool index_certs_180679;
                                        
                                        if (!y_180678) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_180643, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:393:63-73\n   #11 ftsort.fut:386:1-393:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180680 = start_180409 + merge_sequential_arg2_180641;
                                        int8_t head_res_180681 = ((int8_t *) mem_param_184475.mem)[slice_180680];
                                        int64_t head_res_180682 = ((int64_t *) mem_param_184478.mem)[slice_180680];
                                        double head_res_180683 = ((double *) mem_param_184481.mem)[slice_180680];
                                        
                                        dummy_180670 = head_res_180681;
                                        dummy_180671 = head_res_180682;
                                        dummy_180672 = head_res_180683;
                                    }
                                    for (int64_t nest_i_185905 = 0; nest_i_185905 < merge_block_sizze_180173; nest_i_185905++) {
                                        ((int8_t *) mem_184519)[i_184095 * merge_block_sizze_180173 + nest_i_185905] = dummy_180670;
                                    }
                                    for (int64_t nest_i_185906 = 0; nest_i_185906 < merge_block_sizze_180173; nest_i_185906++) {
                                        ((int64_t *) mem_184522)[i_184095 * merge_block_sizze_180173 + nest_i_185906] = dummy_180671;
                                    }
                                    for (int64_t nest_i_185907 = 0; nest_i_185907 < merge_block_sizze_180173; nest_i_185907++) {
                                        ((double *) mem_184525)[i_184095 * merge_block_sizze_180173 + nest_i_185907] = dummy_180672;
                                    }
                                    
                                    int64_t data_180687;
                                    int64_t i_180692 = (int64_t) 0;
                                    
                                    for (int64_t k_180691 = 0; k_180691 < merge_block_sizze_180173; k_180691++) {
                                        int64_t j_180696 = sub64(k_180691, i_180692);
                                        bool cond_180697 = j_180696 == j_m_i_180643;
                                        bool cond_180698;
                                        
                                        if (cond_180697) {
                                            cond_180698 = 1;
                                        } else {
                                            bool cond_180699 = slt64(i_180692, j_m_i_180656);
                                            bool cond_f_res_180700;
                                            
                                            if (cond_180699) {
                                                bool x_183670 = sle64((int64_t) 0, j_180696);
                                                bool y_183671 = slt64(j_180696, j_m_i_180643);
                                                bool bounds_check_183672 = x_183670 && y_183671;
                                                bool index_certs_183673;
                                                
                                                if (!bounds_check_183672) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180696, "] out of bounds for array of shape [", (long long) j_m_i_180643, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:393:63-73\n   #10 ftsort.fut:386:1-393:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_183679 = sle64((int64_t) 0, i_180692);
                                                bool bounds_check_183680 = cond_180699 && x_183679;
                                                bool index_certs_183681;
                                                
                                                if (!bounds_check_183680) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180692, "] out of bounds for array of shape [", (long long) j_m_i_180656, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:393:63-73\n   #10 ftsort.fut:386:1-393:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_183674 = merge_sequential_arg2_180641 + j_180696;
                                                int64_t slice_183675 = start_180409 + slice_183674;
                                                int8_t leq_arg1_183676 = ((int8_t *) mem_param_184475.mem)[slice_183675];
                                                int64_t leq_arg1_183677 = ((int64_t *) mem_param_184478.mem)[slice_183675];
                                                double leq_arg1_183678 = ((double *) mem_param_184481.mem)[slice_183675];
                                                int64_t slice_183682 = defunc_0_f_res_180632 + i_180692;
                                                int64_t slice_183683 = start_180409 + slice_183682;
                                                int8_t leq_arg0_183684 = ((int8_t *) mem_param_184475.mem)[slice_183683];
                                                int64_t leq_arg0_183685 = ((int64_t *) mem_param_184478.mem)[slice_183683];
                                                double leq_arg0_183686 = ((double *) mem_param_184481.mem)[slice_183683];
                                                bool cond_183687 = leq_arg0_183684 == leq_arg1_183676;
                                                bool defunc_0_leq_res_t_res_183688 = sle64(leq_arg0_183685, leq_arg1_183677);
                                                bool defunc_0_leq_res_183689 = leq_arg0_183686 <= leq_arg1_183678;
                                                bool x_183690 = cond_183687 && defunc_0_leq_res_t_res_183688;
                                                bool x_183691 = !cond_183687;
                                                bool y_183692 = defunc_0_leq_res_183689 && x_183691;
                                                bool defunc_0_leq_res_183693 = x_183690 || y_183692;
                                                
                                                cond_f_res_180700 = defunc_0_leq_res_183693;
                                            } else {
                                                cond_f_res_180700 = 0;
                                            }
                                            cond_180698 = cond_f_res_180700;
                                        }
                                        
                                        int64_t loopres_180725;
                                        int8_t loopres_180726;
                                        int64_t loopres_180727;
                                        double loopres_180728;
                                        
                                        if (cond_180698) {
                                            bool x_183695 = sle64((int64_t) 0, i_180692);
                                            bool y_183696 = slt64(i_180692, j_m_i_180656);
                                            bool bounds_check_183697 = x_183695 && y_183696;
                                            bool index_certs_183698;
                                            
                                            if (!bounds_check_183697) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180692, "] out of bounds for array of shape [", (long long) j_m_i_180656, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:393:63-73\n   #10 ftsort.fut:386:1-393:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_183694 = add64((int64_t) 1, i_180692);
                                            int64_t slice_183699 = defunc_0_f_res_180632 + i_180692;
                                            int64_t slice_183700 = start_180409 + slice_183699;
                                            int8_t tmp_183701 = ((int8_t *) mem_param_184475.mem)[slice_183700];
                                            int64_t tmp_183702 = ((int64_t *) mem_param_184478.mem)[slice_183700];
                                            double tmp_183703 = ((double *) mem_param_184481.mem)[slice_183700];
                                            
                                            loopres_180725 = tmp_183694;
                                            loopres_180726 = tmp_183701;
                                            loopres_180727 = tmp_183702;
                                            loopres_180728 = tmp_183703;
                                        } else {
                                            bool x_180739 = sle64((int64_t) 0, j_180696);
                                            bool y_180740 = slt64(j_180696, j_m_i_180643);
                                            bool bounds_check_180741 = x_180739 && y_180740;
                                            bool index_certs_180742;
                                            
                                            if (!bounds_check_180741) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180696, "] out of bounds for array of shape [", (long long) j_m_i_180643, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:393:63-73\n   #10 ftsort.fut:386:1-393:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180743 = merge_sequential_arg2_180641 + j_180696;
                                            int64_t slice_180744 = start_180409 + slice_180743;
                                            int8_t tmp_180745 = ((int8_t *) mem_param_184475.mem)[slice_180744];
                                            int64_t tmp_180746 = ((int64_t *) mem_param_184478.mem)[slice_180744];
                                            double tmp_180747 = ((double *) mem_param_184481.mem)[slice_180744];
                                            
                                            loopres_180725 = i_180692;
                                            loopres_180726 = tmp_180745;
                                            loopres_180727 = tmp_180746;
                                            loopres_180728 = tmp_180747;
                                        }
                                        ((int8_t *) mem_184519)[i_184095 * merge_block_sizze_180173 + k_180691] = loopres_180726;
                                        ((int64_t *) mem_184522)[i_184095 * merge_block_sizze_180173 + k_180691] = loopres_180727;
                                        ((double *) mem_184525)[i_184095 * merge_block_sizze_180173 + k_180691] = loopres_180728;
                                        
                                        int64_t i_tmp_185908 = loopres_180725;
                                        
                                        i_180692 = i_tmp_185908;
                                    }
                                    data_180687 = i_180692;
                                }
                                if (memblock_alloc(ctx, &mem_184574, flat_dim_180359, "mem_184574")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_184574.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (uint8_t *) mem_184519, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (int64_t []) {num_blocks_180356, merge_block_sizze_180173});
                                if (memblock_alloc(ctx, &mem_184578, bytes_184521, "mem_184578")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_184578.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (uint64_t *) mem_184522, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (int64_t []) {num_blocks_180356, merge_block_sizze_180173});
                                if (memblock_alloc(ctx, &mem_184582, bytes_184521, "mem_184582")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_184582.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (uint64_t *) mem_184525, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (int64_t []) {num_blocks_180356, merge_block_sizze_180173});
                                if (memblock_set(ctx, &ext_mem_184615, &mem_184574, "mem_184574") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184612, &mem_184578, "mem_184578") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184609, &mem_184582, "mem_184582") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_184483, i_184105 * next_stride_180336, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_184615.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_180336});
                            if (memblock_unref(ctx, &ext_mem_184615, "ext_mem_184615") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184486, i_184105 * next_stride_180336, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184612.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_180336});
                            if (memblock_unref(ctx, &ext_mem_184612, "ext_mem_184612") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184489, i_184105 * next_stride_180336, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184609.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_180336});
                            if (memblock_unref(ctx, &ext_mem_184609, "ext_mem_184609") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_184629, bytes_184482, "mem_184629")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_184629.mem, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (uint8_t *) mem_184483, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (int64_t []) {num_merges_180340, next_stride_180336});
                        if (memblock_alloc(ctx, &mem_184633, bytes_184485, "mem_184633")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_184633.mem, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (uint64_t *) mem_184486, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (int64_t []) {num_merges_180340, next_stride_180336});
                        if (memblock_alloc(ctx, &mem_184637, bytes_184485, "mem_184637")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_184637.mem, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (uint64_t *) mem_184489, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (int64_t []) {num_merges_180340, next_stride_180336});
                        
                        bool loop_cond_180761 = slt64(next_stride_180336, flat_dim_180168);
                        
                        if (memblock_set(ctx, &mem_param_tmp_185875, &mem_184629, "mem_184629") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_185876, &mem_184633, "mem_184633") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_185877, &mem_184637, "mem_184637") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_185878 = bytes_184482;
                        bool loop_while_tmp_185879 = loop_cond_180761;
                        int64_t stride_tmp_185883 = next_stride_180336;
                        
                        if (memblock_set(ctx, &mem_param_184475, &mem_param_tmp_185875, "mem_param_tmp_185875") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_184478, &mem_param_tmp_185876, "mem_param_tmp_185876") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_184481, &mem_param_tmp_185877, "mem_param_tmp_185877") != 0)
                            return 1;
                        loop_dz2084Uz2082U_180330 = loop_dz2084Uz2082U_tmp_185878;
                        loop_while_180331 = loop_while_tmp_185879;
                        stride_180335 = stride_tmp_185883;
                    }
                    if (memblock_set(ctx, &ext_mem_184647, &mem_param_184475, "mem_param_184475") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184646, &mem_param_184478, "mem_param_184478") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184645, &mem_param_184481, "mem_param_184481") != 0)
                        return 1;
                    data_180324 = loop_dz2084Uz2082U_180330;
                    data_180325 = loop_while_180331;
                    data_180329 = stride_180335;
                    if (memblock_unref(ctx, &mem_184463, "mem_184463") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_184467, "mem_184467") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_184471, "mem_184471") != 0)
                        return 1;
                    
                    bool empty_slice_180762 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_180763 = sle64((int64_t) 0, zs_lhs_180152);
                    bool i_p_m_t_s_leq_w_180764 = slt64(zs_lhs_180152, data_180324);
                    bool y_180765 = zzero_leq_i_p_m_t_s_180763 && i_p_m_t_s_leq_w_180764;
                    bool ok_or_empty_180766 = empty_slice_180762 || y_180765;
                    bool index_certs_180767;
                    
                    if (!ok_or_empty_180766) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "] out of bounds for array of shape [", (long long) data_180324, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_184656, &ext_mem_184647, "ext_mem_184647") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184653, &ext_mem_184646, "ext_mem_184646") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184650, &ext_mem_184645, "ext_mem_184645") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_184357, "mem_184357") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_184359, "mem_184359") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_184361, "mem_184361") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_184337.mem, ind_bottom_180105, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_184656.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107});
                if (memblock_unref(ctx, &ext_mem_184656, "ext_mem_184656") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184339.mem, ind_bottom_180105, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184653.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107});
                if (memblock_unref(ctx, &ext_mem_184653, "ext_mem_184653") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184341.mem, ind_bottom_180105, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184650.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107});
                if (memblock_unref(ctx, &ext_mem_184650, "ext_mem_184650") != 0)
                    return 1;
                
                bool loop_cond_180803 = slt64(ubs_180095, threads_164066);
                bool loop_while_tmp_185842 = loop_cond_180803;
                int64_t p_tmp_185843 = ubs_180095;
                
                loop_while_180084 = loop_while_tmp_185842;
                p_180085 = p_tmp_185843;
            }
            defunc_0_mergeFunc_seq_res_180079 = loop_while_180084;
            defunc_0_mergeFunc_seq_res_180080 = p_180085;
            
            int64_t index_concat_branch_181620;
            
            if (index_concat_cmp_181616) {
                int64_t index_concat_183718 = ((int64_t *) mem_184322)[index_concat_i_181617];
                
                index_concat_branch_181620 = index_concat_183718;
            } else {
                index_concat_branch_181620 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_181614;
            
            if (index_concat_cmp_181616) {
                int64_t index_concat_183719 = ((int64_t *) mem_184324)[index_concat_i_181617];
                
                index_concat_branch_181614 = index_concat_183719;
            } else {
                index_concat_branch_181614 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_185075, &mem_184337, "mem_184337") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_185072, &mem_184339, "mem_184339") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_185069, &mem_184341, "mem_184341") != 0)
                return 1;
            loopres_178852 = index_concat_branch_181620;
            loopres_178853 = index_concat_branch_181614;
        }
        for (int64_t i_184111 = 0; i_184111 < window_sizze_164065; i_184111++) {
            int8_t eta_p_180811 = ((int8_t *) ext_mem_185075.mem)[i_184111];
            int64_t eta_p_180812 = ((int64_t *) ext_mem_185072.mem)[i_184111];
            bool cond_180813 = eta_p_180811 == (int8_t) 0;
            int64_t tmp_180814;
            
            if (cond_180813) {
                int64_t tmp_t_res_183722 = add64(p_178824, eta_p_180812);
                
                tmp_180814 = tmp_t_res_183722;
            } else {
                int64_t tmp_f_res_180816 = add64(p_178825, eta_p_180812);
                
                tmp_180814 = tmp_f_res_180816;
            }
            ((int64_t *) mem_184309.mem)[ind_bottom_178828 + i_184111] = tmp_180814;
        }
        if (memblock_unref(ctx, &ext_mem_185072, "ext_mem_185072") != 0)
            return 1;
        
        int64_t next_lbs_180817 = add64(p_178824, loopres_178852);
        int64_t next_lbs_180818 = add64(p_178825, loopres_178853);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_184307.mem, ind_bottom_178828, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_185075.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_164065});
        if (memblock_unref(ctx, &ext_mem_185075, "ext_mem_185075") != 0)
            return 1;
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184311.mem, ind_bottom_178828, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185069.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_164065});
        if (memblock_unref(ctx, &ext_mem_185069, "ext_mem_185069") != 0)
            return 1;
        
        bool cond_180832 = slt64(next_lbs_180817, zl_rhs_178807);
        bool loop_cond_t_res_180833 = slt64(next_lbs_180818, zl_rhs_178809);
        bool x_180834 = cond_180832 && loop_cond_t_res_180833;
        bool loop_while_tmp_185726 = x_180834;
        int64_t p_tmp_185730 = next_lbs_180817;
        int64_t p_tmp_185731 = next_lbs_180818;
        
        loop_while_178820 = loop_while_tmp_185726;
        p_178824 = p_tmp_185730;
        p_178825 = p_tmp_185731;
    }
    defunc_0_merge_pipeline_res_178814 = loop_while_178820;
    defunc_0_merge_pipeline_res_178818 = p_178824;
    defunc_0_merge_pipeline_res_178819 = p_178825;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835 = sub64(nb_164064, defunc_0_merge_pipeline_res_178819);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836 = sub64(na_164063, defunc_0_merge_pipeline_res_178818);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
    bool empty_slice_180838 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836 == (int64_t) 0;
    int64_t m_180839 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, (int64_t) 1);
    int64_t i_p_m_t_s_180840 = add64(defunc_0_merge_pipeline_res_178818, m_180839);
    bool zzero_leq_i_p_m_t_s_180841 = sle64((int64_t) 0, i_p_m_t_s_180840);
    bool i_p_m_t_s_leq_w_180842 = slt64(i_p_m_t_s_180840, na_164063);
    bool zzero_lte_i_180843 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_178818);
    bool i_lte_j_180844 = sle64(defunc_0_merge_pipeline_res_178818, na_164063);
    bool y_180845 = i_p_m_t_s_leq_w_180842 && zzero_lte_i_180843;
    bool y_180846 = zzero_leq_i_p_m_t_s_180841 && y_180845;
    bool forwards_ok_180847 = i_lte_j_180844 && y_180846;
    bool ok_or_empty_180848 = empty_slice_180838 || forwards_ok_180847;
    bool index_certs_180849;
    
    if (!ok_or_empty_180848) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_178818, ":", (long long) na_164063, "] out of bounds for array of shape [", (long long) na_164063, "].", "-> #0  ftsort.fut:327:14-34\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_180853 = slt64(na_164063, defunc_0_merge_pipeline_res_178818);
    bool valid_180854 = !bounds_invalid_upwards_180853;
    bool range_valid_c_180855;
    
    if (!valid_180854) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_178818, "..<", (long long) na_164063, " is invalid.", "-> #0  ftsort.fut:331:9-25\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_180859 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835 == (int64_t) 0;
    int64_t m_180860 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835, (int64_t) 1);
    int64_t i_p_m_t_s_180861 = add64(defunc_0_merge_pipeline_res_178819, m_180860);
    bool zzero_leq_i_p_m_t_s_180862 = sle64((int64_t) 0, i_p_m_t_s_180861);
    bool i_p_m_t_s_leq_w_180863 = slt64(i_p_m_t_s_180861, nb_164064);
    bool zzero_lte_i_180864 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_178819);
    bool i_lte_j_180865 = sle64(defunc_0_merge_pipeline_res_178819, nb_164064);
    bool y_180866 = i_p_m_t_s_leq_w_180863 && zzero_lte_i_180864;
    bool y_180867 = zzero_leq_i_p_m_t_s_180862 && y_180866;
    bool forwards_ok_180868 = i_lte_j_180865 && y_180867;
    bool ok_or_empty_180869 = empty_slice_180859 || forwards_ok_180868;
    bool index_certs_180870;
    
    if (!ok_or_empty_180869) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_178819, ":", (long long) nb_164064, "] out of bounds for array of shape [", (long long) nb_164064, "].", "-> #0  ftsort.fut:333:14-34\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_180874 = slt64(nb_164064, defunc_0_merge_pipeline_res_178819);
    bool valid_180875 = !bounds_invalid_upwards_180874;
    bool range_valid_c_180876;
    
    if (!valid_180875) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_178819, "..<", (long long) nb_164064, " is invalid.", "-> #0  ftsort.fut:337:9-25\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_185100 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837;
    bool cond_180883 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, (int64_t) 1);
    int64_t zs_lhs_180884 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, (int64_t) 1);
    int64_t zp_rhs_180885 = sdiv_safe64(zs_lhs_180884, (int64_t) 20);
    int64_t min_num_blocks_180886 = add64((int64_t) 1, zp_rhs_180885);
    bool loop_cond_180887 = slt64((int64_t) 1, min_num_blocks_180886);
    bool smallest_pow_2_geq_than_res_180888;
    int64_t smallest_pow_2_geq_than_res_180889;
    bool loop_while_180890;
    int64_t x_180891;
    
    loop_while_180890 = loop_cond_180887;
    x_180891 = (int64_t) 1;
    while (loop_while_180890) {
        int64_t loopres_180892 = mul64((int64_t) 2, x_180891);
        bool loop_cond_180893 = slt64(loopres_180892, min_num_blocks_180886);
        bool loop_while_tmp_185913 = loop_cond_180893;
        int64_t x_tmp_185914 = loopres_180892;
        
        loop_while_180890 = loop_while_tmp_185913;
        x_180891 = x_tmp_185914;
    }
    smallest_pow_2_geq_than_res_180888 = loop_while_180890;
    smallest_pow_2_geq_than_res_180889 = x_180891;
    
    bool zzero_180894 = smallest_pow_2_geq_than_res_180889 == (int64_t) 0;
    bool nonzzero_180895 = !zzero_180894;
    bool protect_assert_disj_180896 = cond_180883 || nonzzero_180895;
    bool nonzzero_cert_180897;
    
    if (!protect_assert_disj_180896) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_180898 = sdiv_safe64(zs_lhs_180884, smallest_pow_2_geq_than_res_180889);
    int64_t block_sizze_180899 = add64((int64_t) 1, zp_rhs_180898);
    bool y_180906 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837);
    bool protect_assert_disj_185428 = cond_180883 || y_180906;
    bool index_certs_180907;
    
    if (!protect_assert_disj_185428) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_180933 = slt64(smallest_pow_2_geq_than_res_180889, (int64_t) 0);
    bool valid_180934 = !bounds_invalid_upwards_180933;
    bool protect_assert_disj_185438 = cond_180883 || valid_180934;
    bool range_valid_c_180935;
    
    if (!protect_assert_disj_185438) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_180889, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_180937 = slt64(block_sizze_180899, (int64_t) 0);
    bool valid_180938 = !bounds_invalid_upwards_180937;
    bool protect_assert_disj_185440 = cond_180883 || valid_180938;
    bool range_valid_c_180939;
    
    if (!protect_assert_disj_185440) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_180899, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_180941 = sle64(block_sizze_180899, (int64_t) 1);
    int64_t tmp_180942 = sub64(block_sizze_180899, (int64_t) 2);
    bool bounds_invalid_upwards_180943 = slt64(tmp_180942, (int64_t) 0);
    bool valid_180945 = !bounds_invalid_upwards_180943;
    bool protect_assert_disj_180946 = cond_180941 || valid_180945;
    bool protect_assert_disj_185442 = cond_180883 || protect_assert_disj_180946;
    bool range_valid_c_180947;
    
    if (!protect_assert_disj_185442) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_180942, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_181508 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_181510 = sle64((int64_t) 0, zs_lhs_180884);
    bool i_p_m_t_s_leq_w_181511 = slt64(zs_lhs_180884, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837);
    bool y_181512 = zzero_leq_i_p_m_t_s_181510 && i_p_m_t_s_leq_w_181511;
    bool ok_or_empty_181513 = empty_slice_181508 || y_181512;
    bool index_certs_181514;
    
    if (!ok_or_empty_181513) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "].", "-> #0  ftsort.fut:346:78-101\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_181515 = add64(defunc_0_merge_pipeline_res_178818, defunc_0_merge_pipeline_res_178819);
    int64_t j_m_i_181516 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, final_buffer_181515);
    bool empty_slice_181517 = j_m_i_181516 == (int64_t) 0;
    int64_t m_181518 = sub64(j_m_i_181516, (int64_t) 1);
    int64_t i_p_m_t_s_181519 = add64(final_buffer_181515, m_181518);
    bool zzero_leq_i_p_m_t_s_181520 = sle64((int64_t) 0, i_p_m_t_s_181519);
    bool i_p_m_t_s_leq_w_181521 = slt64(i_p_m_t_s_181519, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803);
    bool zzero_lte_i_181522 = sle64((int64_t) 0, final_buffer_181515);
    bool i_lte_j_181523 = sle64(final_buffer_181515, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803);
    bool y_181524 = i_p_m_t_s_leq_w_181521 && zzero_lte_i_181522;
    bool y_181525 = zzero_leq_i_p_m_t_s_181520 && y_181524;
    bool forwards_ok_181526 = i_lte_j_181523 && y_181525;
    bool ok_or_empty_181527 = empty_slice_181517 || forwards_ok_181526;
    bool index_certs_181528;
    
    if (!ok_or_empty_181527) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_181515, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, "].", "-> #0  ftsort.fut:346:22-101\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_181529 = j_m_i_181516 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837;
    bool empty_or_match_cert_181530;
    
    if (!dim_match_181529) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_181516, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "]", " of value.", "-> #0  ftsort.fut:346:22-101\n   #1  ftsort.fut:393:63-73\n   #2  ftsort.fut:386:1-393:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_185099, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "mem_185099")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_185915 = 0; nest_i_185915 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836; nest_i_185915++) {
        ((int8_t *) mem_185099.mem)[nest_i_185915] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_185101, bytes_185100, "mem_185101")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_185916 = 0; i_185916 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836; i_185916++) {
        int64_t x_185917 = defunc_0_merge_pipeline_res_178818 + i_185916 * (int64_t) 1;
        
        ((int64_t *) mem_185101.mem)[i_185916] = x_185917;
    }
    for (int64_t nest_i_185918 = 0; nest_i_185918 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835; nest_i_185918++) {
        ((int8_t *) mem_185099.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836 + nest_i_185918] = (int8_t) 1;
    }
    for (int64_t i_185919 = 0; i_185919 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835; i_185919++) {
        int64_t x_185920 = defunc_0_merge_pipeline_res_178819 + i_185919 * (int64_t) 1;
        
        ((int64_t *) mem_185101.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836 + i_185919] = x_185920;
    }
    
    int64_t tmp_offs_185921 = (int64_t) 0;
    
    if (!(tmp_offs_185921 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_185099.mem, tmp_offs_185921, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_185099.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836});
    }
    tmp_offs_185921 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836;
    if (!(tmp_offs_185921 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_185099.mem, tmp_offs_185921, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_185099.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835});
    }
    tmp_offs_185921 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835;
    
    int64_t tmp_offs_185922 = (int64_t) 0;
    
    if (!(tmp_offs_185922 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_185101.mem, tmp_offs_185922, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_185101.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836});
    }
    tmp_offs_185922 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836;
    if (!(tmp_offs_185922 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_185101.mem, tmp_offs_185922, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_185101.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835});
    }
    tmp_offs_185922 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835;
    if (memblock_alloc(ctx, &mem_185103, bytes_185100, "mem_185103")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_185923 = (int64_t) 0;
    
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_185103.mem, tmp_offs_185923, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_184305.mem, defunc_0_merge_pipeline_res_178818, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836});
    tmp_offs_185923 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_185103.mem, tmp_offs_185923, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_184306.mem, defunc_0_merge_pipeline_res_178819, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835});
    tmp_offs_185923 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835;
    
    int64_t flat_dim_180900 = smallest_pow_2_geq_than_res_180889 * block_sizze_180899;
    bool x_185423 = !cond_180883;
    int64_t greatest_divisor_leq_than_arg1_180904 = mul64((int64_t) 2, block_sizze_180899);
    int64_t merge_block_sizze_180905;
    
    if (x_185423) {
        int64_t x_185425;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_185425, (int64_t) 8, greatest_divisor_leq_than_arg1_180904) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_180905 = x_185425;
    } else {
        merge_block_sizze_180905 = (int64_t) 0;
    }
    
    bool index_concat_cmp_181580 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, (int64_t) 0);
    int8_t index_concat_branch_181584 = btoi_bool_i8(index_concat_cmp_181580);
    int64_t index_concat_i_183724 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
    int64_t index_primexp_183725 = add64(defunc_0_merge_pipeline_res_178819, index_concat_i_183724);
    int64_t index_concat_branch_181578;
    
    if (index_concat_cmp_181580) {
        index_concat_branch_181578 = index_primexp_183725;
    } else {
        index_concat_branch_181578 = defunc_0_merge_pipeline_res_178818;
    }
    
    bool x_185419 = !index_concat_cmp_181580;
    bool protect_cond_conj_185429 = x_185419 && x_185423;
    double index_concat_181571;
    
    if (protect_cond_conj_185429) {
        double x_185421 = ((double *) a_list_mem_184305.mem)[defunc_0_merge_pipeline_res_178818];
        
        index_concat_181571 = x_185421;
    } else {
        index_concat_181571 = 0.0;
    }
    
    bool protect_cond_conj_185430 = index_concat_cmp_181580 && x_185423;
    double index_concat_183728;
    
    if (protect_cond_conj_185430) {
        double x_185417 = ((double *) b_list_mem_184306.mem)[index_primexp_183725];
        
        index_concat_183728 = x_185417;
    } else {
        index_concat_183728 = 0.0;
    }
    
    double index_concat_branch_181572;
    
    if (index_concat_cmp_181580) {
        index_concat_branch_181572 = index_concat_183728;
    } else {
        index_concat_branch_181572 = index_concat_181571;
    }
    
    int8_t defunc_0_reduce_res_183959;
    int64_t defunc_0_reduce_res_183960;
    double defunc_0_reduce_res_183961;
    
    if (x_185423) {
        int8_t x_185431;
        int64_t x_185432;
        double x_185433;
        int8_t redout_184113;
        int64_t redout_184114;
        double redout_184115;
        
        redout_184113 = index_concat_branch_181584;
        redout_184114 = index_concat_branch_181578;
        redout_184115 = index_concat_branch_181572;
        for (int64_t i_184116 = 0; i_184116 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837; i_184116++) {
            bool index_concat_cmp_184187 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, i_184116);
            int8_t index_concat_branch_184191 = btoi_bool_i8(index_concat_cmp_184187);
            int64_t index_concat_branch_184185;
            
            if (index_concat_cmp_184187) {
                int64_t index_concat_i_184182 = sub64(i_184116, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
                int64_t index_primexp_184275 = add64(defunc_0_merge_pipeline_res_178819, index_concat_i_184182);
                
                index_concat_branch_184185 = index_primexp_184275;
            } else {
                int64_t index_primexp_184277 = add64(defunc_0_merge_pipeline_res_178818, i_184116);
                
                index_concat_branch_184185 = index_primexp_184277;
            }
            
            double index_concat_branch_184179;
            
            if (index_concat_cmp_184187) {
                int64_t index_concat_i_184176 = sub64(i_184116, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
                int64_t slice_184272 = defunc_0_merge_pipeline_res_178819 + index_concat_i_184176;
                double index_concat_184177 = ((double *) b_list_mem_184306.mem)[slice_184272];
                
                index_concat_branch_184179 = index_concat_184177;
            } else {
                int64_t slice_184273 = defunc_0_merge_pipeline_res_178818 + i_184116;
                double index_concat_184178 = ((double *) a_list_mem_184305.mem)[slice_184273];
                
                index_concat_branch_184179 = index_concat_184178;
            }
            
            bool eq_x_y_184290 = redout_184113 == (int8_t) 1;
            bool eq_x_zz_184291 = redout_184113 == (int8_t) 0;
            bool p_and_eq_x_y_184292 = index_concat_cmp_184187 && eq_x_y_184290;
            bool not_p_184293 = !index_concat_cmp_184187;
            bool p_and_eq_x_y_184294 = eq_x_zz_184291 && not_p_184293;
            bool cond_180923 = p_and_eq_x_y_184292 || p_and_eq_x_y_184294;
            bool defunc_0_leq_res_t_res_180924 = sle64(redout_184114, index_concat_branch_184185);
            bool defunc_0_leq_res_180925 = redout_184115 <= index_concat_branch_184179;
            bool x_180926 = cond_180923 && defunc_0_leq_res_t_res_180924;
            bool x_180927 = !cond_180923;
            bool y_180928 = defunc_0_leq_res_180925 && x_180927;
            bool defunc_0_leq_res_180929 = x_180926 || y_180928;
            int8_t defunc_0_op_res_180930;
            
            if (defunc_0_leq_res_180929) {
                defunc_0_op_res_180930 = index_concat_branch_184191;
            } else {
                defunc_0_op_res_180930 = redout_184113;
            }
            
            int64_t defunc_0_op_res_180931;
            
            if (defunc_0_leq_res_180929) {
                defunc_0_op_res_180931 = index_concat_branch_184185;
            } else {
                defunc_0_op_res_180931 = redout_184114;
            }
            
            double defunc_0_op_res_180932;
            
            if (defunc_0_leq_res_180929) {
                defunc_0_op_res_180932 = index_concat_branch_184179;
            } else {
                defunc_0_op_res_180932 = redout_184115;
            }
            
            int8_t redout_tmp_185924 = defunc_0_op_res_180930;
            int64_t redout_tmp_185925 = defunc_0_op_res_180931;
            double redout_tmp_185926 = defunc_0_op_res_180932;
            
            redout_184113 = redout_tmp_185924;
            redout_184114 = redout_tmp_185925;
            redout_184115 = redout_tmp_185926;
        }
        x_185431 = redout_184113;
        x_185432 = redout_184114;
        x_185433 = redout_184115;
        defunc_0_reduce_res_183959 = x_185431;
        defunc_0_reduce_res_183960 = x_185432;
        defunc_0_reduce_res_183961 = x_185433;
    } else {
        defunc_0_reduce_res_183959 = (int8_t) 0;
        defunc_0_reduce_res_183960 = (int64_t) 0;
        defunc_0_reduce_res_183961 = 0.0;
    }
    
    int64_t distance_180944 = add64((int64_t) 1, tmp_180942);
    int64_t binop_x_185106 = (int64_t) 8 * smallest_pow_2_geq_than_res_180889;
    int64_t bytes_185107 = block_sizze_180899 * binop_x_185106;
    int64_t bytes_185125 = (int64_t) 8 * block_sizze_180899;
    bool loop_cond_181053 = slt64(block_sizze_180899, flat_dim_180900);
    bool zzero_181054 = merge_block_sizze_180905 == (int64_t) 0;
    bool nonzzero_181055 = !zzero_181054;
    
    if (cond_180883) {
        if (memblock_set(ctx, &ext_mem_185398, &mem_185099, "mem_185099") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185395, &mem_185101, "mem_185101") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185392, &mem_185103, "mem_185103") != 0)
            return 1;
    } else {
        if (mem_185105_cached_sizze_186083 < flat_dim_180900) {
            err = lexical_realloc(ctx, &mem_185105, &mem_185105_cached_sizze_186083, flat_dim_180900);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185108_cached_sizze_186084 < bytes_185107) {
            err = lexical_realloc(ctx, &mem_185108, &mem_185108_cached_sizze_186084, bytes_185107);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185111_cached_sizze_186085 < bytes_185107) {
            err = lexical_realloc(ctx, &mem_185111, &mem_185111_cached_sizze_186085, bytes_185107);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185124_cached_sizze_186086 < block_sizze_180899) {
            err = lexical_realloc(ctx, &mem_185124, &mem_185124_cached_sizze_186086, block_sizze_180899);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185126_cached_sizze_186087 < bytes_185125) {
            err = lexical_realloc(ctx, &mem_185126, &mem_185126_cached_sizze_186087, bytes_185125);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185128_cached_sizze_186088 < bytes_185125) {
            err = lexical_realloc(ctx, &mem_185128, &mem_185128_cached_sizze_186088, bytes_185125);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_184133 = 0; i_184133 < smallest_pow_2_geq_than_res_180889; i_184133++) {
            int64_t zp_lhs_180952 = mul64(block_sizze_180899, i_184133);
            
            for (int64_t i_184123 = 0; i_184123 < block_sizze_180899; i_184123++) {
                int64_t k_180957 = add64(zp_lhs_180952, i_184123);
                bool cond_180958 = slt64(k_180957, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837);
                int8_t lifted_lambda_res_180959;
                int64_t lifted_lambda_res_180960;
                double lifted_lambda_res_180961;
                
                if (cond_180958) {
                    bool x_183734 = sle64((int64_t) 0, k_180957);
                    bool bounds_check_183735 = cond_180958 && x_183734;
                    bool index_certs_183736;
                    
                    if (!bounds_check_183735) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_180957, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_183737 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, k_180957);
                    int8_t index_concat_branch_183738 = btoi_bool_i8(index_concat_cmp_183737);
                    int64_t index_concat_branch_183739;
                    
                    if (index_concat_cmp_183737) {
                        int64_t index_concat_i_183740 = sub64(k_180957, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
                        int64_t index_primexp_183741 = add64(defunc_0_merge_pipeline_res_178819, index_concat_i_183740);
                        
                        index_concat_branch_183739 = index_primexp_183741;
                    } else {
                        int64_t index_primexp_183742 = add64(defunc_0_merge_pipeline_res_178818, k_180957);
                        
                        index_concat_branch_183739 = index_primexp_183742;
                    }
                    
                    double index_concat_branch_183743;
                    
                    if (index_concat_cmp_183737) {
                        int64_t index_concat_i_183744 = sub64(k_180957, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
                        int64_t slice_183745 = defunc_0_merge_pipeline_res_178819 + index_concat_i_183744;
                        double index_concat_183746 = ((double *) b_list_mem_184306.mem)[slice_183745];
                        
                        index_concat_branch_183743 = index_concat_183746;
                    } else {
                        int64_t slice_183747 = defunc_0_merge_pipeline_res_178818 + k_180957;
                        double index_concat_183748 = ((double *) a_list_mem_184305.mem)[slice_183747];
                        
                        index_concat_branch_183743 = index_concat_183748;
                    }
                    lifted_lambda_res_180959 = index_concat_branch_183738;
                    lifted_lambda_res_180960 = index_concat_branch_183739;
                    lifted_lambda_res_180961 = index_concat_branch_183743;
                } else {
                    lifted_lambda_res_180959 = defunc_0_reduce_res_183959;
                    lifted_lambda_res_180960 = defunc_0_reduce_res_183960;
                    lifted_lambda_res_180961 = defunc_0_reduce_res_183961;
                }
                ((int8_t *) mem_185124)[i_184123] = lifted_lambda_res_180959;
                ((int64_t *) mem_185126)[i_184123] = lifted_lambda_res_180960;
                ((double *) mem_185128)[i_184123] = lifted_lambda_res_180961;
            }
            if (!cond_180941) {
                for (int64_t i_180974 = 0; i_180974 < distance_180944; i_180974++) {
                    int64_t gt_arg1_180978 = add64((int64_t) 1, i_180974);
                    bool x_180979 = sle64((int64_t) 0, gt_arg1_180978);
                    bool y_180980 = slt64(gt_arg1_180978, block_sizze_180899);
                    bool bounds_check_180981 = x_180979 && y_180980;
                    bool index_certs_180982;
                    
                    if (!bounds_check_180981) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_180978, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_180986 = slt64(i_180974, block_sizze_180899);
                    bool index_certs_180987;
                    
                    if (!y_180986) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180974, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_180983 = ((int8_t *) mem_185124)[gt_arg1_180978];
                    int64_t gt_arg1_180984 = ((int64_t *) mem_185126)[gt_arg1_180978];
                    double gt_arg1_180985 = ((double *) mem_185128)[gt_arg1_180978];
                    int8_t gt_arg0_180988 = ((int8_t *) mem_185124)[i_180974];
                    int64_t gt_arg0_180989 = ((int64_t *) mem_185126)[i_180974];
                    double gt_arg0_180990 = ((double *) mem_185128)[i_180974];
                    bool cond_180991 = gt_arg0_180988 == gt_arg1_180983;
                    bool defunc_0_leq_res_t_res_180992 = sle64(gt_arg0_180989, gt_arg1_180984);
                    bool defunc_0_leq_res_180993 = gt_arg0_180990 <= gt_arg1_180985;
                    bool x_180994 = cond_180991 && defunc_0_leq_res_t_res_180992;
                    bool x_180995 = !cond_180991;
                    bool y_180996 = defunc_0_leq_res_180993 && x_180995;
                    bool defunc_0_leq_res_180997 = x_180994 || y_180996;
                    bool defunc_0_lifted_gt_res_180998 = !defunc_0_leq_res_180997;
                    bool s_180999;
                    int64_t s_181003;
                    bool loop_while_181004;
                    int64_t j_181008;
                    
                    loop_while_181004 = defunc_0_lifted_gt_res_180998;
                    j_181008 = i_180974;
                    while (loop_while_181004) {
                        bool x_181009 = sle64((int64_t) 0, j_181008);
                        bool y_181010 = slt64(j_181008, block_sizze_180899);
                        bool bounds_check_181011 = x_181009 && y_181010;
                        bool index_certs_181012;
                        
                        if (!bounds_check_181011) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181008, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_181016 = add64((int64_t) 1, j_181008);
                        bool x_181017 = sle64((int64_t) 0, copy_arg0_181016);
                        bool y_181018 = slt64(copy_arg0_181016, block_sizze_180899);
                        bool bounds_check_181019 = x_181017 && y_181018;
                        bool index_certs_181020;
                        
                        if (!bounds_check_181019) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_181016, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_181013 = ((int8_t *) mem_185124)[j_181008];
                        int64_t copy_arg0_181014 = ((int64_t *) mem_185126)[j_181008];
                        double copy_arg0_181015 = ((double *) mem_185128)[j_181008];
                        int8_t copy_arg0_181021 = ((int8_t *) mem_185124)[copy_arg0_181016];
                        int64_t copy_arg0_181022 = ((int64_t *) mem_185126)[copy_arg0_181016];
                        double copy_arg0_181023 = ((double *) mem_185128)[copy_arg0_181016];
                        
                        ((int8_t *) mem_185124)[j_181008] = copy_arg0_181021;
                        ((int64_t *) mem_185126)[j_181008] = copy_arg0_181022;
                        ((double *) mem_185128)[j_181008] = copy_arg0_181023;
                        ((int8_t *) mem_185124)[copy_arg0_181016] = copy_arg0_181013;
                        ((int64_t *) mem_185126)[copy_arg0_181016] = copy_arg0_181014;
                        ((double *) mem_185128)[copy_arg0_181016] = copy_arg0_181015;
                        
                        int64_t tmp_181030 = sub64(j_181008, (int64_t) 1);
                        bool cond_181031 = sle64((int64_t) 0, tmp_181030);
                        bool loop_cond_181032;
                        
                        if (cond_181031) {
                            bool y_183752 = slt64(tmp_181030, block_sizze_180899);
                            bool bounds_check_183753 = cond_181031 && y_183752;
                            bool index_certs_183754;
                            
                            if (!bounds_check_183753) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_181030, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_183749 = ((int8_t *) mem_185124)[j_181008];
                            int64_t gt_arg1_183750 = ((int64_t *) mem_185126)[j_181008];
                            double gt_arg1_183751 = ((double *) mem_185128)[j_181008];
                            int8_t gt_arg0_183755 = ((int8_t *) mem_185124)[tmp_181030];
                            int64_t gt_arg0_183756 = ((int64_t *) mem_185126)[tmp_181030];
                            double gt_arg0_183757 = ((double *) mem_185128)[tmp_181030];
                            bool cond_183758 = gt_arg0_183755 == gt_arg1_183749;
                            bool defunc_0_leq_res_t_res_183759 = sle64(gt_arg0_183756, gt_arg1_183750);
                            bool defunc_0_leq_res_183760 = gt_arg0_183757 <= gt_arg1_183751;
                            bool x_183761 = cond_183758 && defunc_0_leq_res_t_res_183759;
                            bool x_183762 = !cond_183758;
                            bool y_183763 = defunc_0_leq_res_183760 && x_183762;
                            bool defunc_0_leq_res_183764 = x_183761 || y_183763;
                            bool defunc_0_lifted_gt_res_183765 = !defunc_0_leq_res_183764;
                            
                            loop_cond_181032 = defunc_0_lifted_gt_res_183765;
                        } else {
                            loop_cond_181032 = 0;
                        }
                        
                        bool loop_while_tmp_185936 = loop_cond_181032;
                        int64_t j_tmp_185940 = tmp_181030;
                        
                        loop_while_181004 = loop_while_tmp_185936;
                        j_181008 = j_tmp_185940;
                    }
                    s_180999 = loop_while_181004;
                    s_181003 = j_181008;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_185105, i_184133 * block_sizze_180899, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_185124, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180899});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_185108, i_184133 * block_sizze_180899, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_185126, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180899});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_185111, i_184133 * block_sizze_180899, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_185128, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180899});
        }
        if (memblock_alloc(ctx, &mem_185205, flat_dim_180900, "mem_185205")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_185205.mem, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (uint8_t *) mem_185105, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180889, block_sizze_180899});
        if (memblock_alloc(ctx, &mem_185209, bytes_185107, "mem_185209")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_185209.mem, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (uint64_t *) mem_185108, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180889, block_sizze_180899});
        if (memblock_alloc(ctx, &mem_185213, bytes_185107, "mem_185213")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_185213.mem, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (uint64_t *) mem_185111, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180889, block_sizze_180899});
        
        int64_t data_181056;
        bool data_181057;
        int64_t data_181061;
        int64_t loop_dz2084Uz2082U_181062;
        bool loop_while_181063;
        int64_t stride_181067;
        
        if (memblock_set(ctx, &mem_param_185217, &mem_185205, "mem_185205") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_185220, &mem_185209, "mem_185209") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_185223, &mem_185213, "mem_185213") != 0)
            return 1;
        loop_dz2084Uz2082U_181062 = flat_dim_180900;
        loop_while_181063 = loop_cond_181053;
        stride_181067 = block_sizze_180899;
        while (loop_while_181063) {
            int64_t next_stride_181068 = mul64((int64_t) 2, stride_181067);
            bool zzero_181069 = next_stride_181068 == (int64_t) 0;
            bool nonzzero_181070 = !zzero_181069;
            bool nonzzero_cert_181071;
            
            if (!nonzzero_181070) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:393:63-73\n   #4  ftsort.fut:386:1-393:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_181072 = sdiv64(flat_dim_180900, next_stride_181068);
            bool bounds_invalid_upwards_181073 = slt64(num_merges_181072, (int64_t) 0);
            bool valid_181074 = !bounds_invalid_upwards_181073;
            bool range_valid_c_181075;
            
            if (!valid_181074) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_181072, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_181077 = sub64(next_stride_181068, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_181078 = sle64((int64_t) 0, m_181077);
            bool cond_181080 = slt64(next_stride_181068, (int64_t) 10);
            bool protect_assert_disj_181081 = nonzzero_181055 || cond_181080;
            bool nonzzero_cert_181082;
            
            if (!protect_assert_disj_181081) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_181083 = smod_safe64(next_stride_181068, merge_block_sizze_180905);
            bool num_blocks_181084 = zeze_lhs_181083 == (int64_t) 0;
            bool protect_assert_disj_181085 = cond_181080 || num_blocks_181084;
            bool assert_c_181086;
            
            if (!protect_assert_disj_181085) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_181088 = sdiv_safe64(next_stride_181068, merge_block_sizze_180905);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089 = add64((int64_t) 1, num_blocks_181088);
            int64_t j_m_i_181090 = sub64(next_stride_181068, stride_181067);
            int64_t flat_dim_181091 = merge_block_sizze_180905 * num_blocks_181088;
            bool bounds_invalid_upwards_181092 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089, (int64_t) 0);
            bool empty_slice_181093 = j_m_i_181090 == (int64_t) 0;
            int64_t m_181094 = sub64(j_m_i_181090, (int64_t) 1);
            bool zzero_lte_i_181095 = sle64((int64_t) 0, stride_181067);
            bool i_lte_j_181096 = sle64(stride_181067, next_stride_181068);
            bool empty_slice_181097 = stride_181067 == (int64_t) 0;
            int64_t m_181098 = sub64(stride_181067, (int64_t) 1);
            bool bounds_invalid_upwards_181099 = slt64(num_blocks_181088, (int64_t) 0);
            bool cond_181100 = slt64((int64_t) 0, stride_181067);
            bool valid_181101 = !bounds_invalid_upwards_181092;
            int64_t i_p_m_t_s_181102 = add64(stride_181067, m_181094);
            bool zzero_leq_i_p_m_t_s_181103 = sle64((int64_t) 0, m_181098);
            bool i_p_m_t_s_leq_w_181104 = slt64(m_181098, next_stride_181068);
            bool valid_181105 = !bounds_invalid_upwards_181099;
            bool i_p_m_t_s_leq_w_181106 = slt64(m_181077, flat_dim_181091);
            bool y_181107 = slt64((int64_t) 0, j_m_i_181090);
            bool protect_assert_disj_181108 = cond_181080 || valid_181101;
            bool range_valid_c_181109;
            
            if (!protect_assert_disj_181108) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:393:63-73\n   #9  ftsort.fut:386:1-393:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_181110 = sle64((int64_t) 0, i_p_m_t_s_181102);
            bool i_p_m_t_s_leq_w_181111 = slt64(i_p_m_t_s_181102, next_stride_181068);
            bool y_181112 = zzero_leq_i_p_m_t_s_181103 && i_p_m_t_s_leq_w_181104;
            bool protect_assert_disj_181113 = cond_181080 || valid_181105;
            bool range_valid_c_181114;
            
            if (!protect_assert_disj_181113) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_181088, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_181115 = zzero_leq_i_p_m_t_s_181078 && i_p_m_t_s_leq_w_181106;
            bool y_181116 = zzero_lte_i_181095 && i_p_m_t_s_leq_w_181111;
            bool forwards_ok_181117 = zzero_lte_i_181095 && y_181112;
            bool ok_or_empty_181118 = zzero_181069 || y_181115;
            bool protect_assert_disj_181119 = cond_181100 || y_181107;
            bool y_181120 = zzero_leq_i_p_m_t_s_181110 && y_181116;
            bool ok_or_empty_181121 = empty_slice_181097 || forwards_ok_181117;
            bool protect_assert_disj_181122 = cond_181080 || ok_or_empty_181118;
            bool index_certs_181123;
            
            if (!protect_assert_disj_181122) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_181068, "] out of bounds for array of shape [", (long long) flat_dim_181091, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_181124 = !cond_181080;
            bool protect_assert_disj_181125 = protect_assert_disj_181119 || loop_not_taken_181124;
            bool index_certs_181126;
            
            if (!protect_assert_disj_181125) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:393:63-73\n   #9  ftsort.fut:386:1-393:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_181127 = i_lte_j_181096 && y_181120;
            bool protect_assert_disj_181128 = cond_181080 || ok_or_empty_181121;
            bool index_certs_181129;
            
            if (!protect_assert_disj_181128) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_181067, "] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:393:63-73\n   #10 ftsort.fut:386:1-393:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_181130 = ok_or_empty_181121 || loop_not_taken_181124;
            bool index_certs_181131;
            
            if (!protect_assert_disj_181130) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_181067, "] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_181132 = empty_slice_181093 || forwards_ok_181127;
            bool protect_assert_disj_181133 = cond_181080 || ok_or_empty_181132;
            bool index_certs_181134;
            
            if (!protect_assert_disj_181133) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_181067, ":] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:393:63-73\n   #10 ftsort.fut:386:1-393:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_181135 = loop_not_taken_181124 || ok_or_empty_181132;
            bool index_certs_181136;
            
            if (!protect_assert_disj_181135) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_181067, ":] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_185224 = next_stride_181068 * num_merges_181072;
            int64_t binop_x_185226 = (int64_t) 8 * num_merges_181072;
            int64_t bytes_185227 = next_stride_181068 * binop_x_185226;
            bool i_lte_j_181079 = sle64((int64_t) 0, next_stride_181068);
            
            if (mem_185225_cached_sizze_186089 < bytes_185224) {
                err = lexical_realloc(ctx, &mem_185225, &mem_185225_cached_sizze_186089, bytes_185224);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_185228_cached_sizze_186090 < bytes_185227) {
                err = lexical_realloc(ctx, &mem_185228, &mem_185228_cached_sizze_186090, bytes_185227);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_185231_cached_sizze_186091 < bytes_185227) {
                err = lexical_realloc(ctx, &mem_185231, &mem_185231_cached_sizze_186091, bytes_185227);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_185244 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089;
            int64_t binop_x_185262 = (int64_t) 8 * num_blocks_181088;
            int64_t bytes_185263 = merge_block_sizze_180905 * binop_x_185262;
            int64_t bytes_185327 = (int64_t) 16 * stride_181067;
            
            for (int64_t i_184160 = 0; i_184160 < num_merges_181072; i_184160++) {
                int64_t start_181141 = mul64(next_stride_181068, i_184160);
                int64_t j_m_i_181142 = sub64(loop_dz2084Uz2082U_181062, start_181141);
                bool empty_slice_181143 = j_m_i_181142 == (int64_t) 0;
                int64_t m_181144 = sub64(j_m_i_181142, (int64_t) 1);
                int64_t i_p_m_t_s_181145 = add64(start_181141, m_181144);
                bool zzero_leq_i_p_m_t_s_181146 = sle64((int64_t) 0, i_p_m_t_s_181145);
                bool i_p_m_t_s_leq_w_181147 = slt64(i_p_m_t_s_181145, loop_dz2084Uz2082U_181062);
                bool zzero_lte_i_181148 = sle64((int64_t) 0, start_181141);
                bool i_lte_j_181149 = sle64(start_181141, loop_dz2084Uz2082U_181062);
                bool y_181150 = i_p_m_t_s_leq_w_181147 && zzero_lte_i_181148;
                bool y_181151 = zzero_leq_i_p_m_t_s_181146 && y_181150;
                bool forwards_ok_181152 = i_lte_j_181149 && y_181151;
                bool ok_or_empty_181153 = empty_slice_181143 || forwards_ok_181152;
                bool index_certs_181154;
                
                if (!ok_or_empty_181153) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_181141, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_181062, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_181155 = slt64(m_181077, j_m_i_181142);
                bool y_181156 = zzero_leq_i_p_m_t_s_181078 && i_p_m_t_s_leq_w_181155;
                bool forwards_ok_181157 = i_lte_j_181079 && y_181156;
                bool ok_or_empty_181158 = zzero_181069 || forwards_ok_181157;
                bool index_certs_181159;
                
                if (!ok_or_empty_181158) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_181068, "] out of bounds for array of shape [", (long long) j_m_i_181142, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:393:63-73\n   #7  ftsort.fut:386:1-393:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_181080) {
                    int8_t dummy_183804;
                    int64_t dummy_183805;
                    double dummy_183806;
                    
                    if (cond_181100) {
                        int8_t head_res_183807 = ((int8_t *) mem_param_185217.mem)[start_181141];
                        int64_t head_res_183808 = ((int64_t *) mem_param_185220.mem)[start_181141];
                        double head_res_183809 = ((double *) mem_param_185223.mem)[start_181141];
                        
                        dummy_183804 = head_res_183807;
                        dummy_183805 = head_res_183808;
                        dummy_183806 = head_res_183809;
                    } else {
                        int64_t slice_183810 = stride_181067 + start_181141;
                        int8_t head_res_183811 = ((int8_t *) mem_param_185217.mem)[slice_183810];
                        int64_t head_res_183812 = ((int64_t *) mem_param_185220.mem)[slice_183810];
                        double head_res_183813 = ((double *) mem_param_185223.mem)[slice_183810];
                        
                        dummy_183804 = head_res_183811;
                        dummy_183805 = head_res_183812;
                        dummy_183806 = head_res_183813;
                    }
                    if (memblock_alloc(ctx, &mem_185326, next_stride_181068, "mem_185326")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185953 = 0; nest_i_185953 < next_stride_181068; nest_i_185953++) {
                        ((int8_t *) mem_185326.mem)[nest_i_185953] = dummy_183804;
                    }
                    if (memblock_alloc(ctx, &mem_185328, bytes_185327, "mem_185328")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185954 = 0; nest_i_185954 < next_stride_181068; nest_i_185954++) {
                        ((int64_t *) mem_185328.mem)[nest_i_185954] = dummy_183805;
                    }
                    if (memblock_alloc(ctx, &mem_185330, bytes_185327, "mem_185330")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185955 = 0; nest_i_185955 < next_stride_181068; nest_i_185955++) {
                        ((double *) mem_185330.mem)[nest_i_185955] = dummy_183806;
                    }
                    
                    int64_t data_183817;
                    int64_t i_183822 = (int64_t) 0;
                    
                    for (int64_t k_183821 = 0; k_183821 < next_stride_181068; k_183821++) {
                        int64_t j_183826 = sub64(k_183821, i_183822);
                        bool cond_183827 = j_183826 == j_m_i_181090;
                        bool cond_183828;
                        
                        if (cond_183827) {
                            cond_183828 = 1;
                        } else {
                            bool cond_183829 = slt64(i_183822, stride_181067);
                            bool cond_f_res_183830;
                            
                            if (cond_183829) {
                                bool x_183831 = sle64((int64_t) 0, j_183826);
                                bool y_183832 = slt64(j_183826, j_m_i_181090);
                                bool bounds_check_183833 = x_183831 && y_183832;
                                bool index_certs_183834;
                                
                                if (!bounds_check_183833) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183826, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_183840 = sle64((int64_t) 0, i_183822);
                                bool bounds_check_183841 = cond_183829 && x_183840;
                                bool index_certs_183842;
                                
                                if (!bounds_check_183841) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183822, "] out of bounds for array of shape [", (long long) stride_181067, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_183835 = stride_181067 + j_183826;
                                int64_t slice_183836 = start_181141 + slice_183835;
                                int8_t leq_arg1_183837 = ((int8_t *) mem_param_185217.mem)[slice_183836];
                                int64_t leq_arg1_183838 = ((int64_t *) mem_param_185220.mem)[slice_183836];
                                double leq_arg1_183839 = ((double *) mem_param_185223.mem)[slice_183836];
                                int64_t slice_183843 = start_181141 + i_183822;
                                int8_t leq_arg0_183844 = ((int8_t *) mem_param_185217.mem)[slice_183843];
                                int64_t leq_arg0_183845 = ((int64_t *) mem_param_185220.mem)[slice_183843];
                                double leq_arg0_183846 = ((double *) mem_param_185223.mem)[slice_183843];
                                bool cond_183847 = leq_arg0_183844 == leq_arg1_183837;
                                bool defunc_0_leq_res_t_res_183848 = sle64(leq_arg0_183845, leq_arg1_183838);
                                bool defunc_0_leq_res_183849 = leq_arg0_183846 <= leq_arg1_183839;
                                bool x_183850 = cond_183847 && defunc_0_leq_res_t_res_183848;
                                bool x_183851 = !cond_183847;
                                bool y_183852 = defunc_0_leq_res_183849 && x_183851;
                                bool defunc_0_leq_res_183853 = x_183850 || y_183852;
                                
                                cond_f_res_183830 = defunc_0_leq_res_183853;
                            } else {
                                cond_f_res_183830 = 0;
                            }
                            cond_183828 = cond_f_res_183830;
                        }
                        
                        int64_t loopres_183854;
                        int8_t loopres_183855;
                        int64_t loopres_183856;
                        double loopres_183857;
                        
                        if (cond_183828) {
                            bool x_183859 = sle64((int64_t) 0, i_183822);
                            bool y_183860 = slt64(i_183822, stride_181067);
                            bool bounds_check_183861 = x_183859 && y_183860;
                            bool index_certs_183862;
                            
                            if (!bounds_check_183861) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183822, "] out of bounds for array of shape [", (long long) stride_181067, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_183858 = add64((int64_t) 1, i_183822);
                            int64_t slice_183863 = start_181141 + i_183822;
                            int8_t tmp_183864 = ((int8_t *) mem_param_185217.mem)[slice_183863];
                            int64_t tmp_183865 = ((int64_t *) mem_param_185220.mem)[slice_183863];
                            double tmp_183866 = ((double *) mem_param_185223.mem)[slice_183863];
                            
                            loopres_183854 = tmp_183858;
                            loopres_183855 = tmp_183864;
                            loopres_183856 = tmp_183865;
                            loopres_183857 = tmp_183866;
                        } else {
                            bool x_183867 = sle64((int64_t) 0, j_183826);
                            bool y_183868 = slt64(j_183826, j_m_i_181090);
                            bool bounds_check_183869 = x_183867 && y_183868;
                            bool index_certs_183870;
                            
                            if (!bounds_check_183869) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183826, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:393:63-73\n   #8  ftsort.fut:386:1-393:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_183871 = stride_181067 + j_183826;
                            int64_t slice_183872 = start_181141 + slice_183871;
                            int8_t tmp_183873 = ((int8_t *) mem_param_185217.mem)[slice_183872];
                            int64_t tmp_183874 = ((int64_t *) mem_param_185220.mem)[slice_183872];
                            double tmp_183875 = ((double *) mem_param_185223.mem)[slice_183872];
                            
                            loopres_183854 = i_183822;
                            loopres_183855 = tmp_183873;
                            loopres_183856 = tmp_183874;
                            loopres_183857 = tmp_183875;
                        }
                        ((int8_t *) mem_185326.mem)[k_183821] = loopres_183855;
                        ((int64_t *) mem_185328.mem)[k_183821] = loopres_183856;
                        ((double *) mem_185330.mem)[k_183821] = loopres_183857;
                        
                        int64_t i_tmp_185956 = loopres_183854;
                        
                        i_183822 = i_tmp_185956;
                    }
                    data_183817 = i_183822;
                    if (memblock_set(ctx, &ext_mem_185357, &mem_185326, "mem_185326") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185354, &mem_185328, "mem_185328") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185351, &mem_185330, "mem_185330") != 0)
                        return 1;
                } else {
                    if (mem_185245_cached_sizze_186092 < bytes_185244) {
                        err = lexical_realloc(ctx, &mem_185245, &mem_185245_cached_sizze_186092, bytes_185244);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_185247_cached_sizze_186093 < bytes_185244) {
                        err = lexical_realloc(ctx, &mem_185247, &mem_185247_cached_sizze_186093, bytes_185244);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_184141 = 0; i_184141 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089; i_184141++) {
                        int64_t split_count_arg3_181242 = mul64(merge_block_sizze_180905, i_184141);
                        int64_t defunc_0_split_count_res_181243;
                        int64_t defunc_0_split_count_res_181244;
                        int64_t defunc_0_split_count_res_181245;
                        int64_t defunc_0_split_count_res_181246;
                        int64_t defunc_0_split_count_res_181247;
                        
                        if (futrts_lifted_normalizze_9100(ctx, &defunc_0_split_count_res_181243, &defunc_0_split_count_res_181244, &defunc_0_split_count_res_181245, &defunc_0_split_count_res_181246, &defunc_0_split_count_res_181247, (int64_t) 0, stride_181067, (int64_t) 0, j_m_i_181090, split_count_arg3_181242) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_181248 = slt64((int64_t) 0, defunc_0_split_count_res_181247);
                        bool defunc_0_split_count_res_181249;
                        int64_t defunc_0_split_count_res_181250;
                        int64_t defunc_0_split_count_res_181251;
                        int64_t defunc_0_split_count_res_181252;
                        int64_t defunc_0_split_count_res_181253;
                        int64_t defunc_0_split_count_res_181254;
                        bool loop_while_181255;
                        int64_t ss_181256;
                        int64_t ss_181257;
                        int64_t tt_181258;
                        int64_t tt_181259;
                        int64_t count_181260;
                        
                        loop_while_181255 = loop_cond_181248;
                        ss_181256 = defunc_0_split_count_res_181243;
                        ss_181257 = defunc_0_split_count_res_181244;
                        tt_181258 = defunc_0_split_count_res_181245;
                        tt_181259 = defunc_0_split_count_res_181246;
                        count_181260 = defunc_0_split_count_res_181247;
                        while (loop_while_181255) {
                            int64_t zlze_lhs_181261 = sub64(ss_181257, ss_181256);
                            bool cond_181262 = sle64(zlze_lhs_181261, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_181263;
                            int64_t defunc_0_lifted_step_res_181264;
                            int64_t defunc_0_lifted_step_res_181265;
                            int64_t defunc_0_lifted_step_res_181266;
                            
                            if (cond_181262) {
                                int64_t tmp_183879 = add64(tt_181258, count_181260);
                                
                                defunc_0_lifted_step_res_181263 = ss_181256;
                                defunc_0_lifted_step_res_181264 = tmp_183879;
                                defunc_0_lifted_step_res_181265 = tt_181259;
                                defunc_0_lifted_step_res_181266 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_181268 = sub64(tt_181259, tt_181258);
                                bool cond_181269 = sle64(zlze_lhs_181268, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_181270;
                                int64_t defunc_0_lifted_step_res_f_res_181271;
                                int64_t defunc_0_lifted_step_res_f_res_181272;
                                int64_t defunc_0_lifted_step_res_f_res_181273;
                                
                                if (cond_181269) {
                                    int64_t tmp_183880 = add64(ss_181256, count_181260);
                                    
                                    defunc_0_lifted_step_res_f_res_181270 = tmp_183880;
                                    defunc_0_lifted_step_res_f_res_181271 = tt_181258;
                                    defunc_0_lifted_step_res_f_res_181272 = tt_181259;
                                    defunc_0_lifted_step_res_f_res_181273 = (int64_t) 0;
                                } else {
                                    bool cond_181275 = count_181260 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_181276;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_181277;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_181278;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_181279;
                                    
                                    if (cond_181275) {
                                        bool x_183882 = sle64((int64_t) 0, ss_181256);
                                        bool y_183883 = slt64(ss_181256, stride_181067);
                                        bool bounds_check_183884 = x_183882 && y_183883;
                                        bool index_certs_183885;
                                        
                                        if (!bounds_check_183884) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_181256, "] out of bounds for array of shape [", (long long) stride_181067, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:393:63-73\n   #12 ftsort.fut:386:1-393:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_183890 = sle64((int64_t) 0, tt_181258);
                                        bool y_183891 = slt64(tt_181258, j_m_i_181090);
                                        bool bounds_check_183892 = x_183890 && y_183891;
                                        bool index_certs_183893;
                                        
                                        if (!bounds_check_183892) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_181258, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:393:63-73\n   #12 ftsort.fut:386:1-393:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183886 = start_181141 + ss_181256;
                                        int8_t leq_arg1_183887 = ((int8_t *) mem_param_185217.mem)[slice_183886];
                                        int64_t leq_arg1_183888 = ((int64_t *) mem_param_185220.mem)[slice_183886];
                                        double leq_arg1_183889 = ((double *) mem_param_185223.mem)[slice_183886];
                                        int64_t slice_183894 = stride_181067 + tt_181258;
                                        int64_t slice_183895 = start_181141 + slice_183894;
                                        int8_t leq_arg0_183896 = ((int8_t *) mem_param_185217.mem)[slice_183895];
                                        int64_t leq_arg0_183897 = ((int64_t *) mem_param_185220.mem)[slice_183895];
                                        double leq_arg0_183898 = ((double *) mem_param_185223.mem)[slice_183895];
                                        bool cond_183899 = leq_arg0_183896 == leq_arg1_183887;
                                        bool defunc_0_leq_res_t_res_183900 = sle64(leq_arg0_183897, leq_arg1_183888);
                                        bool defunc_0_leq_res_183901 = leq_arg0_183898 <= leq_arg1_183889;
                                        bool x_183902 = cond_183899 && defunc_0_leq_res_t_res_183900;
                                        bool x_183903 = !cond_183899;
                                        bool y_183904 = defunc_0_leq_res_183901 && x_183903;
                                        bool defunc_0_leq_res_183905 = x_183902 || y_183904;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183906;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183907;
                                        
                                        if (defunc_0_leq_res_183905) {
                                            int64_t tmp_183908 = add64((int64_t) 1, tt_181258);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_183906 = ss_181256;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_183907 = tmp_183908;
                                        } else {
                                            int64_t tmp_183909 = add64((int64_t) 1, ss_181256);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_183906 = tmp_183909;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_183907 = tt_181258;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_181276 = defunc_0_lifted_step_res_f_res_f_res_t_res_183906;
                                        defunc_0_lifted_step_res_f_res_f_res_181277 = defunc_0_lifted_step_res_f_res_f_res_t_res_183907;
                                        defunc_0_lifted_step_res_f_res_f_res_181278 = tt_181259;
                                        defunc_0_lifted_step_res_f_res_f_res_181279 = (int64_t) 0;
                                    } else {
                                        int64_t m_181308 = sdiv64(count_181260, (int64_t) 2);
                                        int64_t n_181309 = sub64(count_181260, m_181308);
                                        bool cond_181310 = n_181309 == (int64_t) 0;
                                        int64_t zgze_lhs_181311 = add64(ss_181256, m_181308);
                                        bool cond_f_res_181312 = sle64(ss_181257, zgze_lhs_181311);
                                        bool x_181313 = !cond_181310;
                                        bool y_181314 = cond_f_res_181312 && x_181313;
                                        bool cond_181315 = cond_181310 || y_181314;
                                        bool leq_y_x_181316;
                                        
                                        if (cond_181315) {
                                            leq_y_x_181316 = 1;
                                        } else {
                                            bool x_181317 = sle64((int64_t) 0, zgze_lhs_181311);
                                            bool y_181318 = slt64(zgze_lhs_181311, stride_181067);
                                            bool bounds_check_181319 = x_181317 && y_181318;
                                            bool index_certs_181320;
                                            
                                            if (!bounds_check_181319) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_181311, "] out of bounds for array of shape [", (long long) stride_181067, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:393:63-73\n   #12 ftsort.fut:386:1-393:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_181325 = add64(tt_181258, n_181309);
                                            int64_t leq_arg0_181326 = sub64(zm_lhs_181325, (int64_t) 1);
                                            bool x_181327 = sle64((int64_t) 0, leq_arg0_181326);
                                            bool y_181328 = slt64(leq_arg0_181326, j_m_i_181090);
                                            bool bounds_check_181329 = x_181327 && y_181328;
                                            bool index_certs_181330;
                                            
                                            if (!bounds_check_181329) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_181326, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:393:63-73\n   #12 ftsort.fut:386:1-393:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_181321 = start_181141 + zgze_lhs_181311;
                                            int8_t leq_arg1_181322 = ((int8_t *) mem_param_185217.mem)[slice_181321];
                                            int64_t leq_arg1_181323 = ((int64_t *) mem_param_185220.mem)[slice_181321];
                                            double leq_arg1_181324 = ((double *) mem_param_185223.mem)[slice_181321];
                                            int64_t slice_181331 = stride_181067 + leq_arg0_181326;
                                            int64_t slice_181332 = start_181141 + slice_181331;
                                            int8_t leq_arg0_181333 = ((int8_t *) mem_param_185217.mem)[slice_181332];
                                            int64_t leq_arg0_181334 = ((int64_t *) mem_param_185220.mem)[slice_181332];
                                            double leq_arg0_181335 = ((double *) mem_param_185223.mem)[slice_181332];
                                            bool cond_181336 = leq_arg0_181333 == leq_arg1_181322;
                                            bool defunc_0_leq_res_t_res_181337 = sle64(leq_arg0_181334, leq_arg1_181323);
                                            bool defunc_0_leq_res_181338 = leq_arg0_181335 <= leq_arg1_181324;
                                            bool x_181339 = cond_181336 && defunc_0_leq_res_t_res_181337;
                                            bool x_181340 = !cond_181336;
                                            bool y_181341 = defunc_0_leq_res_181338 && x_181340;
                                            bool defunc_0_leq_res_181342 = x_181339 || y_181341;
                                            
                                            leq_y_x_181316 = defunc_0_leq_res_181342;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_181343;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_181344;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_181345;
                                        
                                        if (leq_y_x_181316) {
                                            int64_t tmp_183910 = add64(tt_181258, n_181309);
                                            int64_t tmp_183911 = sub64(count_181260, n_181309);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181343 = tmp_183910;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181344 = tt_181259;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181345 = tmp_183911;
                                        } else {
                                            int64_t tmp_181348 = add64(tt_181258, n_181309);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181343 = tt_181258;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181344 = tmp_181348;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181345 = count_181260;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_181276 = ss_181256;
                                        defunc_0_lifted_step_res_f_res_f_res_181277 = defunc_0_lifted_step_res_f_res_f_res_f_res_181343;
                                        defunc_0_lifted_step_res_f_res_f_res_181278 = defunc_0_lifted_step_res_f_res_f_res_f_res_181344;
                                        defunc_0_lifted_step_res_f_res_f_res_181279 = defunc_0_lifted_step_res_f_res_f_res_f_res_181345;
                                    }
                                    defunc_0_lifted_step_res_f_res_181270 = defunc_0_lifted_step_res_f_res_f_res_181276;
                                    defunc_0_lifted_step_res_f_res_181271 = defunc_0_lifted_step_res_f_res_f_res_181277;
                                    defunc_0_lifted_step_res_f_res_181272 = defunc_0_lifted_step_res_f_res_f_res_181278;
                                    defunc_0_lifted_step_res_f_res_181273 = defunc_0_lifted_step_res_f_res_f_res_181279;
                                }
                                defunc_0_lifted_step_res_181263 = defunc_0_lifted_step_res_f_res_181270;
                                defunc_0_lifted_step_res_181264 = defunc_0_lifted_step_res_f_res_181271;
                                defunc_0_lifted_step_res_181265 = defunc_0_lifted_step_res_f_res_181272;
                                defunc_0_lifted_step_res_181266 = defunc_0_lifted_step_res_f_res_181273;
                            }
                            
                            int64_t loopres_181349;
                            int64_t loopres_181350;
                            int64_t loopres_181351;
                            int64_t loopres_181352;
                            int64_t loopres_181353;
                            
                            if (futrts_lifted_normalizze_9100(ctx, &loopres_181349, &loopres_181350, &loopres_181351, &loopres_181352, &loopres_181353, defunc_0_lifted_step_res_181263, ss_181257, defunc_0_lifted_step_res_181264, defunc_0_lifted_step_res_181265, defunc_0_lifted_step_res_181266) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_181354 = slt64((int64_t) 0, loopres_181353);
                            bool loop_while_tmp_185962 = loop_cond_181354;
                            int64_t ss_tmp_185963 = loopres_181349;
                            int64_t ss_tmp_185964 = loopres_181350;
                            int64_t tt_tmp_185965 = loopres_181351;
                            int64_t tt_tmp_185966 = loopres_181352;
                            int64_t count_tmp_185967 = loopres_181353;
                            
                            loop_while_181255 = loop_while_tmp_185962;
                            ss_181256 = ss_tmp_185963;
                            ss_181257 = ss_tmp_185964;
                            tt_181258 = tt_tmp_185965;
                            tt_181259 = tt_tmp_185966;
                            count_181260 = count_tmp_185967;
                        }
                        defunc_0_split_count_res_181249 = loop_while_181255;
                        defunc_0_split_count_res_181250 = ss_181256;
                        defunc_0_split_count_res_181251 = ss_181257;
                        defunc_0_split_count_res_181252 = tt_181258;
                        defunc_0_split_count_res_181253 = tt_181259;
                        defunc_0_split_count_res_181254 = count_181260;
                        ((int64_t *) mem_185245)[i_184141] = defunc_0_split_count_res_181250;
                        ((int64_t *) mem_185247)[i_184141] = defunc_0_split_count_res_181252;
                    }
                    if (mem_185261_cached_sizze_186094 < flat_dim_181091) {
                        err = lexical_realloc(ctx, &mem_185261, &mem_185261_cached_sizze_186094, flat_dim_181091);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_185264_cached_sizze_186095 < bytes_185263) {
                        err = lexical_realloc(ctx, &mem_185264, &mem_185264_cached_sizze_186095, bytes_185263);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_185267_cached_sizze_186096 < bytes_185263) {
                        err = lexical_realloc(ctx, &mem_185267, &mem_185267_cached_sizze_186096, bytes_185263);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_184150 = 0; i_184150 < num_blocks_181088; i_184150++) {
                        bool y_181361 = slt64(i_184150, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089);
                        bool index_certs_181363;
                        
                        if (!y_181361) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_184150, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:393:63-73\n   #9  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_181364 = ((int64_t *) mem_185245)[i_184150];
                        int64_t defunc_0_f_res_181365 = ((int64_t *) mem_185247)[i_184150];
                        int64_t tmp_181366 = add64((int64_t) 1, i_184150);
                        bool x_181367 = sle64((int64_t) 0, tmp_181366);
                        bool y_181368 = slt64(tmp_181366, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089);
                        bool bounds_check_181369 = x_181367 && y_181368;
                        bool index_certs_181370;
                        
                        if (!bounds_check_181369) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_181366, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:393:63-73\n   #9  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_181371 = ((int64_t *) mem_185245)[tmp_181366];
                        int64_t defunc_0_f_res_181372 = ((int64_t *) mem_185247)[tmp_181366];
                        int64_t merge_sequential_arg2_181373 = add64(stride_181067, defunc_0_f_res_181365);
                        int64_t merge_sequential_arg2_181374 = add64(stride_181067, defunc_0_f_res_181372);
                        int64_t j_m_i_181375 = sub64(merge_sequential_arg2_181374, merge_sequential_arg2_181373);
                        bool empty_slice_181376 = j_m_i_181375 == (int64_t) 0;
                        int64_t m_181377 = sub64(j_m_i_181375, (int64_t) 1);
                        int64_t i_p_m_t_s_181378 = add64(merge_sequential_arg2_181373, m_181377);
                        bool zzero_leq_i_p_m_t_s_181379 = sle64((int64_t) 0, i_p_m_t_s_181378);
                        bool i_p_m_t_s_leq_w_181380 = slt64(i_p_m_t_s_181378, next_stride_181068);
                        bool zzero_lte_i_181381 = sle64((int64_t) 0, merge_sequential_arg2_181373);
                        bool i_lte_j_181382 = sle64(merge_sequential_arg2_181373, merge_sequential_arg2_181374);
                        bool y_181383 = i_p_m_t_s_leq_w_181380 && zzero_lte_i_181381;
                        bool y_181384 = zzero_leq_i_p_m_t_s_181379 && y_181383;
                        bool forwards_ok_181385 = i_lte_j_181382 && y_181384;
                        bool ok_or_empty_181386 = empty_slice_181376 || forwards_ok_181385;
                        bool index_certs_181387;
                        
                        if (!ok_or_empty_181386) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_181373, ":", (long long) merge_sequential_arg2_181374, "] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:393:63-73\n   #9  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_181388 = sub64(defunc_0_f_res_181371, defunc_0_f_res_181364);
                        bool empty_slice_181389 = j_m_i_181388 == (int64_t) 0;
                        int64_t m_181390 = sub64(j_m_i_181388, (int64_t) 1);
                        int64_t i_p_m_t_s_181391 = add64(defunc_0_f_res_181364, m_181390);
                        bool zzero_leq_i_p_m_t_s_181392 = sle64((int64_t) 0, i_p_m_t_s_181391);
                        bool i_p_m_t_s_leq_w_181393 = slt64(i_p_m_t_s_181391, next_stride_181068);
                        bool zzero_lte_i_181394 = sle64((int64_t) 0, defunc_0_f_res_181364);
                        bool i_lte_j_181395 = sle64(defunc_0_f_res_181364, defunc_0_f_res_181371);
                        bool y_181396 = i_p_m_t_s_leq_w_181393 && zzero_lte_i_181394;
                        bool y_181397 = zzero_leq_i_p_m_t_s_181392 && y_181396;
                        bool forwards_ok_181398 = i_lte_j_181395 && y_181397;
                        bool ok_or_empty_181399 = empty_slice_181389 || forwards_ok_181398;
                        bool index_certs_181400;
                        
                        if (!ok_or_empty_181399) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_181364, ":", (long long) defunc_0_f_res_181371, "] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:393:63-73\n   #9  ftsort.fut:386:1-393:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_181401 = slt64((int64_t) 0, j_m_i_181388);
                        int8_t dummy_181402;
                        int64_t dummy_181403;
                        double dummy_181404;
                        
                        if (cond_181401) {
                            bool index_certs_183912;
                            
                            if (!cond_181401) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_181388, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:393:63-73\n   #11 ftsort.fut:386:1-393:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_183913 = start_181141 + defunc_0_f_res_181364;
                            int8_t head_res_183914 = ((int8_t *) mem_param_185217.mem)[slice_183913];
                            int64_t head_res_183915 = ((int64_t *) mem_param_185220.mem)[slice_183913];
                            double head_res_183916 = ((double *) mem_param_185223.mem)[slice_183913];
                            
                            dummy_181402 = head_res_183914;
                            dummy_181403 = head_res_183915;
                            dummy_181404 = head_res_183916;
                        } else {
                            bool y_181410 = slt64((int64_t) 0, j_m_i_181375);
                            bool index_certs_181411;
                            
                            if (!y_181410) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_181375, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:393:63-73\n   #11 ftsort.fut:386:1-393:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_181412 = start_181141 + merge_sequential_arg2_181373;
                            int8_t head_res_181413 = ((int8_t *) mem_param_185217.mem)[slice_181412];
                            int64_t head_res_181414 = ((int64_t *) mem_param_185220.mem)[slice_181412];
                            double head_res_181415 = ((double *) mem_param_185223.mem)[slice_181412];
                            
                            dummy_181402 = head_res_181413;
                            dummy_181403 = head_res_181414;
                            dummy_181404 = head_res_181415;
                        }
                        for (int64_t nest_i_185971 = 0; nest_i_185971 < merge_block_sizze_180905; nest_i_185971++) {
                            ((int8_t *) mem_185261)[i_184150 * merge_block_sizze_180905 + nest_i_185971] = dummy_181402;
                        }
                        for (int64_t nest_i_185972 = 0; nest_i_185972 < merge_block_sizze_180905; nest_i_185972++) {
                            ((int64_t *) mem_185264)[i_184150 * merge_block_sizze_180905 + nest_i_185972] = dummy_181403;
                        }
                        for (int64_t nest_i_185973 = 0; nest_i_185973 < merge_block_sizze_180905; nest_i_185973++) {
                            ((double *) mem_185267)[i_184150 * merge_block_sizze_180905 + nest_i_185973] = dummy_181404;
                        }
                        
                        int64_t data_181419;
                        int64_t i_181424 = (int64_t) 0;
                        
                        for (int64_t k_181423 = 0; k_181423 < merge_block_sizze_180905; k_181423++) {
                            int64_t j_181428 = sub64(k_181423, i_181424);
                            bool cond_181429 = j_181428 == j_m_i_181375;
                            bool cond_181430;
                            
                            if (cond_181429) {
                                cond_181430 = 1;
                            } else {
                                bool cond_181431 = slt64(i_181424, j_m_i_181388);
                                bool cond_f_res_181432;
                                
                                if (cond_181431) {
                                    bool x_183917 = sle64((int64_t) 0, j_181428);
                                    bool y_183918 = slt64(j_181428, j_m_i_181375);
                                    bool bounds_check_183919 = x_183917 && y_183918;
                                    bool index_certs_183920;
                                    
                                    if (!bounds_check_183919) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181428, "] out of bounds for array of shape [", (long long) j_m_i_181375, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:393:63-73\n   #10 ftsort.fut:386:1-393:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_183926 = sle64((int64_t) 0, i_181424);
                                    bool bounds_check_183927 = cond_181431 && x_183926;
                                    bool index_certs_183928;
                                    
                                    if (!bounds_check_183927) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_181424, "] out of bounds for array of shape [", (long long) j_m_i_181388, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:393:63-73\n   #10 ftsort.fut:386:1-393:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_183921 = merge_sequential_arg2_181373 + j_181428;
                                    int64_t slice_183922 = start_181141 + slice_183921;
                                    int8_t leq_arg1_183923 = ((int8_t *) mem_param_185217.mem)[slice_183922];
                                    int64_t leq_arg1_183924 = ((int64_t *) mem_param_185220.mem)[slice_183922];
                                    double leq_arg1_183925 = ((double *) mem_param_185223.mem)[slice_183922];
                                    int64_t slice_183929 = defunc_0_f_res_181364 + i_181424;
                                    int64_t slice_183930 = start_181141 + slice_183929;
                                    int8_t leq_arg0_183931 = ((int8_t *) mem_param_185217.mem)[slice_183930];
                                    int64_t leq_arg0_183932 = ((int64_t *) mem_param_185220.mem)[slice_183930];
                                    double leq_arg0_183933 = ((double *) mem_param_185223.mem)[slice_183930];
                                    bool cond_183934 = leq_arg0_183931 == leq_arg1_183923;
                                    bool defunc_0_leq_res_t_res_183935 = sle64(leq_arg0_183932, leq_arg1_183924);
                                    bool defunc_0_leq_res_183936 = leq_arg0_183933 <= leq_arg1_183925;
                                    bool x_183937 = cond_183934 && defunc_0_leq_res_t_res_183935;
                                    bool x_183938 = !cond_183934;
                                    bool y_183939 = defunc_0_leq_res_183936 && x_183938;
                                    bool defunc_0_leq_res_183940 = x_183937 || y_183939;
                                    
                                    cond_f_res_181432 = defunc_0_leq_res_183940;
                                } else {
                                    cond_f_res_181432 = 0;
                                }
                                cond_181430 = cond_f_res_181432;
                            }
                            
                            int64_t loopres_181457;
                            int8_t loopres_181458;
                            int64_t loopres_181459;
                            double loopres_181460;
                            
                            if (cond_181430) {
                                bool x_183942 = sle64((int64_t) 0, i_181424);
                                bool y_183943 = slt64(i_181424, j_m_i_181388);
                                bool bounds_check_183944 = x_183942 && y_183943;
                                bool index_certs_183945;
                                
                                if (!bounds_check_183944) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_181424, "] out of bounds for array of shape [", (long long) j_m_i_181388, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:393:63-73\n   #10 ftsort.fut:386:1-393:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_183941 = add64((int64_t) 1, i_181424);
                                int64_t slice_183946 = defunc_0_f_res_181364 + i_181424;
                                int64_t slice_183947 = start_181141 + slice_183946;
                                int8_t tmp_183948 = ((int8_t *) mem_param_185217.mem)[slice_183947];
                                int64_t tmp_183949 = ((int64_t *) mem_param_185220.mem)[slice_183947];
                                double tmp_183950 = ((double *) mem_param_185223.mem)[slice_183947];
                                
                                loopres_181457 = tmp_183941;
                                loopres_181458 = tmp_183948;
                                loopres_181459 = tmp_183949;
                                loopres_181460 = tmp_183950;
                            } else {
                                bool x_181471 = sle64((int64_t) 0, j_181428);
                                bool y_181472 = slt64(j_181428, j_m_i_181375);
                                bool bounds_check_181473 = x_181471 && y_181472;
                                bool index_certs_181474;
                                
                                if (!bounds_check_181473) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181428, "] out of bounds for array of shape [", (long long) j_m_i_181375, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:393:63-73\n   #10 ftsort.fut:386:1-393:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_181475 = merge_sequential_arg2_181373 + j_181428;
                                int64_t slice_181476 = start_181141 + slice_181475;
                                int8_t tmp_181477 = ((int8_t *) mem_param_185217.mem)[slice_181476];
                                int64_t tmp_181478 = ((int64_t *) mem_param_185220.mem)[slice_181476];
                                double tmp_181479 = ((double *) mem_param_185223.mem)[slice_181476];
                                
                                loopres_181457 = i_181424;
                                loopres_181458 = tmp_181477;
                                loopres_181459 = tmp_181478;
                                loopres_181460 = tmp_181479;
                            }
                            ((int8_t *) mem_185261)[i_184150 * merge_block_sizze_180905 + k_181423] = loopres_181458;
                            ((int64_t *) mem_185264)[i_184150 * merge_block_sizze_180905 + k_181423] = loopres_181459;
                            ((double *) mem_185267)[i_184150 * merge_block_sizze_180905 + k_181423] = loopres_181460;
                            
                            int64_t i_tmp_185974 = loopres_181457;
                            
                            i_181424 = i_tmp_185974;
                        }
                        data_181419 = i_181424;
                    }
                    if (memblock_alloc(ctx, &mem_185316, flat_dim_181091, "mem_185316")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_185316.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (uint8_t *) mem_185261, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (int64_t []) {num_blocks_181088, merge_block_sizze_180905});
                    if (memblock_alloc(ctx, &mem_185320, bytes_185263, "mem_185320")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_185320.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (uint64_t *) mem_185264, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (int64_t []) {num_blocks_181088, merge_block_sizze_180905});
                    if (memblock_alloc(ctx, &mem_185324, bytes_185263, "mem_185324")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_185324.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (uint64_t *) mem_185267, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (int64_t []) {num_blocks_181088, merge_block_sizze_180905});
                    if (memblock_set(ctx, &ext_mem_185357, &mem_185316, "mem_185316") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185354, &mem_185320, "mem_185320") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185351, &mem_185324, "mem_185324") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_185225, i_184160 * next_stride_181068, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_185357.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_181068});
                if (memblock_unref(ctx, &ext_mem_185357, "ext_mem_185357") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_185228, i_184160 * next_stride_181068, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185354.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_181068});
                if (memblock_unref(ctx, &ext_mem_185354, "ext_mem_185354") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_185231, i_184160 * next_stride_181068, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185351.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_181068});
                if (memblock_unref(ctx, &ext_mem_185351, "ext_mem_185351") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_185371, bytes_185224, "mem_185371")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_185371.mem, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (uint8_t *) mem_185225, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (int64_t []) {num_merges_181072, next_stride_181068});
            if (memblock_alloc(ctx, &mem_185375, bytes_185227, "mem_185375")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_185375.mem, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (uint64_t *) mem_185228, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (int64_t []) {num_merges_181072, next_stride_181068});
            if (memblock_alloc(ctx, &mem_185379, bytes_185227, "mem_185379")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_185379.mem, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (uint64_t *) mem_185231, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (int64_t []) {num_merges_181072, next_stride_181068});
            
            bool loop_cond_181493 = slt64(next_stride_181068, flat_dim_180900);
            
            if (memblock_set(ctx, &mem_param_tmp_185941, &mem_185371, "mem_185371") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_185942, &mem_185375, "mem_185375") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_185943, &mem_185379, "mem_185379") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_185944 = bytes_185224;
            bool loop_while_tmp_185945 = loop_cond_181493;
            int64_t stride_tmp_185949 = next_stride_181068;
            
            if (memblock_set(ctx, &mem_param_185217, &mem_param_tmp_185941, "mem_param_tmp_185941") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_185220, &mem_param_tmp_185942, "mem_param_tmp_185942") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_185223, &mem_param_tmp_185943, "mem_param_tmp_185943") != 0)
                return 1;
            loop_dz2084Uz2082U_181062 = loop_dz2084Uz2082U_tmp_185944;
            loop_while_181063 = loop_while_tmp_185945;
            stride_181067 = stride_tmp_185949;
        }
        if (memblock_set(ctx, &ext_mem_185389, &mem_param_185217, "mem_param_185217") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185388, &mem_param_185220, "mem_param_185220") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185387, &mem_param_185223, "mem_param_185223") != 0)
            return 1;
        data_181056 = loop_dz2084Uz2082U_181062;
        data_181057 = loop_while_181063;
        data_181061 = stride_181067;
        if (memblock_unref(ctx, &mem_185205, "mem_185205") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185209, "mem_185209") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185213, "mem_185213") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_181496 = slt64(zs_lhs_180884, data_181056);
        bool y_181497 = i_p_m_t_s_leq_w_181496 && zzero_leq_i_p_m_t_s_181510;
        bool ok_or_empty_181498 = y_181497 || empty_slice_181508;
        bool index_certs_181499;
        
        if (!ok_or_empty_181498) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "] out of bounds for array of shape [", (long long) data_181056, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:393:63-73\n   #5  ftsort.fut:386:1-393:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_185398, &ext_mem_185389, "ext_mem_185389") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185395, &ext_mem_185388, "ext_mem_185388") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185392, &ext_mem_185387, "ext_mem_185387") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_185099, "mem_185099") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_185101, "mem_185101") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_185103, "mem_185103") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184307.mem, final_buffer_181515, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_185398.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_181516});
    if (memblock_unref(ctx, &ext_mem_185398, "ext_mem_185398") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184309.mem, final_buffer_181515, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185395.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_181516});
    if (memblock_unref(ctx, &ext_mem_185395, "ext_mem_185395") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184311.mem, final_buffer_181515, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185392.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_181516});
    if (memblock_unref(ctx, &ext_mem_185392, "ext_mem_185392") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185719, &mem_184309, "mem_184309") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185720, &mem_184307, "mem_184307") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185721, &mem_184311, "mem_184311") != 0)
        return 1;
    prim_out_185722 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803;
    if (memblock_set(ctx, &*mem_out_p_186043, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186044, &mem_out_185720, "mem_out_185720") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186045, &mem_out_185721, "mem_out_185721") != 0)
        return 1;
    *out_prim_out_186046 = prim_out_185722;
    
  cleanup:
    {
        free(mem_184322);
        free(mem_184324);
        free(mem_184363);
        free(mem_184366);
        free(mem_184369);
        free(mem_184382);
        free(mem_184384);
        free(mem_184386);
        free(mem_184483);
        free(mem_184486);
        free(mem_184489);
        free(mem_184503);
        free(mem_184505);
        free(mem_184519);
        free(mem_184522);
        free(mem_184525);
        free(mem_184667);
        free(mem_184669);
        free(mem_184684);
        free(mem_184686);
        free(mem_184689);
        free(mem_184692);
        free(mem_184726);
        free(mem_184729);
        free(mem_184732);
        free(mem_184745);
        free(mem_184747);
        free(mem_184749);
        free(mem_184846);
        free(mem_184849);
        free(mem_184852);
        free(mem_184866);
        free(mem_184868);
        free(mem_184882);
        free(mem_184885);
        free(mem_184888);
        free(mem_185105);
        free(mem_185108);
        free(mem_185111);
        free(mem_185124);
        free(mem_185126);
        free(mem_185128);
        free(mem_185225);
        free(mem_185228);
        free(mem_185231);
        free(mem_185245);
        free(mem_185247);
        free(mem_185261);
        free(mem_185264);
        free(mem_185267);
        if (memblock_unref(ctx, &mem_param_tmp_185943, "mem_param_tmp_185943") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185942, "mem_param_tmp_185942") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185941, "mem_param_tmp_185941") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185379, "mem_185379") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185375, "mem_185375") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185371, "mem_185371") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185324, "mem_185324") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185320, "mem_185320") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185316, "mem_185316") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185330, "mem_185330") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185328, "mem_185328") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185326, "mem_185326") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185351, "ext_mem_185351") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185354, "ext_mem_185354") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185357, "ext_mem_185357") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_185223, "mem_param_185223") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_185220, "mem_param_185220") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_185217, "mem_param_185217") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185387, "ext_mem_185387") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185388, "ext_mem_185388") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185389, "ext_mem_185389") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185213, "mem_185213") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185209, "mem_185209") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185205, "mem_185205") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185392, "ext_mem_185392") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185395, "ext_mem_185395") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185398, "ext_mem_185398") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185103, "mem_185103") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185101, "mem_185101") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185099, "mem_185099") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185877, "mem_param_tmp_185877") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185876, "mem_param_tmp_185876") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185875, "mem_param_tmp_185875") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184637, "mem_184637") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184633, "mem_184633") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184629, "mem_184629") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184582, "mem_184582") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184578, "mem_184578") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184574, "mem_184574") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184588, "mem_184588") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184586, "mem_184586") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184584, "mem_184584") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184609, "ext_mem_184609") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184612, "ext_mem_184612") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184615, "ext_mem_184615") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184481, "mem_param_184481") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184478, "mem_param_184478") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184475, "mem_param_184475") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184645, "ext_mem_184645") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184646, "ext_mem_184646") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184647, "ext_mem_184647") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184471, "mem_184471") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184467, "mem_184467") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184463, "mem_184463") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184650, "ext_mem_184650") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184653, "ext_mem_184653") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184656, "ext_mem_184656") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184361, "mem_184361") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184359, "mem_184359") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184357, "mem_184357") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184341, "mem_184341") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184339, "mem_184339") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184337, "mem_184337") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185048, "mem_185048") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185047, "mem_185047") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185045, "mem_185045") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185783, "mem_param_tmp_185783") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185782, "mem_param_tmp_185782") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185781, "mem_param_tmp_185781") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185000, "mem_185000") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184996, "mem_184996") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184992, "mem_184992") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184945, "mem_184945") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184941, "mem_184941") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184937, "mem_184937") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184951, "mem_184951") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184949, "mem_184949") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184947, "mem_184947") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184972, "ext_mem_184972") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184975, "ext_mem_184975") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184978, "ext_mem_184978") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184844, "mem_param_184844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184841, "mem_param_184841") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184838, "mem_param_184838") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185008, "ext_mem_185008") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185009, "ext_mem_185009") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185010, "ext_mem_185010") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184834, "mem_184834") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184830, "mem_184830") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184826, "mem_184826") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185013, "ext_mem_185013") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185016, "ext_mem_185016") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185019, "ext_mem_185019") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184724, "mem_184724") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184722, "mem_184722") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184720, "mem_184720") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185069, "ext_mem_185069") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185072, "ext_mem_185072") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185075, "ext_mem_185075") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184311, "mem_184311") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184309, "mem_184309") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184307, "mem_184307") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185721, "mem_out_185721") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185720, "mem_out_185720") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_float(struct futhark_context *ctx, struct memblock *mem_out_p_186097, struct memblock *mem_out_p_186098, struct memblock *mem_out_p_186099, int64_t *out_prim_out_186100, struct memblock a_list_mem_184305, struct memblock b_list_mem_184306, int64_t na_153597, int64_t nb_153598, int64_t window_sizze_153599, int64_t threads_153600, bool inParallel_153603)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_184322_cached_sizze_186101 = 0;
    unsigned char *mem_184322 = NULL;
    int64_t mem_184324_cached_sizze_186102 = 0;
    unsigned char *mem_184324 = NULL;
    int64_t mem_184363_cached_sizze_186103 = 0;
    unsigned char *mem_184363 = NULL;
    int64_t mem_184366_cached_sizze_186104 = 0;
    unsigned char *mem_184366 = NULL;
    int64_t mem_184369_cached_sizze_186105 = 0;
    unsigned char *mem_184369 = NULL;
    int64_t mem_184382_cached_sizze_186106 = 0;
    unsigned char *mem_184382 = NULL;
    int64_t mem_184384_cached_sizze_186107 = 0;
    unsigned char *mem_184384 = NULL;
    int64_t mem_184386_cached_sizze_186108 = 0;
    unsigned char *mem_184386 = NULL;
    int64_t mem_184483_cached_sizze_186109 = 0;
    unsigned char *mem_184483 = NULL;
    int64_t mem_184486_cached_sizze_186110 = 0;
    unsigned char *mem_184486 = NULL;
    int64_t mem_184489_cached_sizze_186111 = 0;
    unsigned char *mem_184489 = NULL;
    int64_t mem_184503_cached_sizze_186112 = 0;
    unsigned char *mem_184503 = NULL;
    int64_t mem_184505_cached_sizze_186113 = 0;
    unsigned char *mem_184505 = NULL;
    int64_t mem_184519_cached_sizze_186114 = 0;
    unsigned char *mem_184519 = NULL;
    int64_t mem_184522_cached_sizze_186115 = 0;
    unsigned char *mem_184522 = NULL;
    int64_t mem_184525_cached_sizze_186116 = 0;
    unsigned char *mem_184525 = NULL;
    int64_t mem_184667_cached_sizze_186117 = 0;
    unsigned char *mem_184667 = NULL;
    int64_t mem_184669_cached_sizze_186118 = 0;
    unsigned char *mem_184669 = NULL;
    int64_t mem_184684_cached_sizze_186119 = 0;
    unsigned char *mem_184684 = NULL;
    int64_t mem_184686_cached_sizze_186120 = 0;
    unsigned char *mem_184686 = NULL;
    int64_t mem_184689_cached_sizze_186121 = 0;
    unsigned char *mem_184689 = NULL;
    int64_t mem_184692_cached_sizze_186122 = 0;
    unsigned char *mem_184692 = NULL;
    int64_t mem_184726_cached_sizze_186123 = 0;
    unsigned char *mem_184726 = NULL;
    int64_t mem_184729_cached_sizze_186124 = 0;
    unsigned char *mem_184729 = NULL;
    int64_t mem_184732_cached_sizze_186125 = 0;
    unsigned char *mem_184732 = NULL;
    int64_t mem_184745_cached_sizze_186126 = 0;
    unsigned char *mem_184745 = NULL;
    int64_t mem_184747_cached_sizze_186127 = 0;
    unsigned char *mem_184747 = NULL;
    int64_t mem_184749_cached_sizze_186128 = 0;
    unsigned char *mem_184749 = NULL;
    int64_t mem_184846_cached_sizze_186129 = 0;
    unsigned char *mem_184846 = NULL;
    int64_t mem_184849_cached_sizze_186130 = 0;
    unsigned char *mem_184849 = NULL;
    int64_t mem_184852_cached_sizze_186131 = 0;
    unsigned char *mem_184852 = NULL;
    int64_t mem_184866_cached_sizze_186132 = 0;
    unsigned char *mem_184866 = NULL;
    int64_t mem_184868_cached_sizze_186133 = 0;
    unsigned char *mem_184868 = NULL;
    int64_t mem_184882_cached_sizze_186134 = 0;
    unsigned char *mem_184882 = NULL;
    int64_t mem_184885_cached_sizze_186135 = 0;
    unsigned char *mem_184885 = NULL;
    int64_t mem_184888_cached_sizze_186136 = 0;
    unsigned char *mem_184888 = NULL;
    int64_t mem_185105_cached_sizze_186137 = 0;
    unsigned char *mem_185105 = NULL;
    int64_t mem_185108_cached_sizze_186138 = 0;
    unsigned char *mem_185108 = NULL;
    int64_t mem_185111_cached_sizze_186139 = 0;
    unsigned char *mem_185111 = NULL;
    int64_t mem_185124_cached_sizze_186140 = 0;
    unsigned char *mem_185124 = NULL;
    int64_t mem_185126_cached_sizze_186141 = 0;
    unsigned char *mem_185126 = NULL;
    int64_t mem_185128_cached_sizze_186142 = 0;
    unsigned char *mem_185128 = NULL;
    int64_t mem_185225_cached_sizze_186143 = 0;
    unsigned char *mem_185225 = NULL;
    int64_t mem_185228_cached_sizze_186144 = 0;
    unsigned char *mem_185228 = NULL;
    int64_t mem_185231_cached_sizze_186145 = 0;
    unsigned char *mem_185231 = NULL;
    int64_t mem_185245_cached_sizze_186146 = 0;
    unsigned char *mem_185245 = NULL;
    int64_t mem_185247_cached_sizze_186147 = 0;
    unsigned char *mem_185247 = NULL;
    int64_t mem_185261_cached_sizze_186148 = 0;
    unsigned char *mem_185261 = NULL;
    int64_t mem_185264_cached_sizze_186149 = 0;
    unsigned char *mem_185264 = NULL;
    int64_t mem_185267_cached_sizze_186150 = 0;
    unsigned char *mem_185267 = NULL;
    struct memblock mem_param_tmp_185943;
    
    mem_param_tmp_185943.references = NULL;
    
    struct memblock mem_param_tmp_185942;
    
    mem_param_tmp_185942.references = NULL;
    
    struct memblock mem_param_tmp_185941;
    
    mem_param_tmp_185941.references = NULL;
    
    struct memblock mem_185379;
    
    mem_185379.references = NULL;
    
    struct memblock mem_185375;
    
    mem_185375.references = NULL;
    
    struct memblock mem_185371;
    
    mem_185371.references = NULL;
    
    struct memblock mem_185324;
    
    mem_185324.references = NULL;
    
    struct memblock mem_185320;
    
    mem_185320.references = NULL;
    
    struct memblock mem_185316;
    
    mem_185316.references = NULL;
    
    struct memblock mem_185330;
    
    mem_185330.references = NULL;
    
    struct memblock mem_185328;
    
    mem_185328.references = NULL;
    
    struct memblock mem_185326;
    
    mem_185326.references = NULL;
    
    struct memblock ext_mem_185351;
    
    ext_mem_185351.references = NULL;
    
    struct memblock ext_mem_185354;
    
    ext_mem_185354.references = NULL;
    
    struct memblock ext_mem_185357;
    
    ext_mem_185357.references = NULL;
    
    struct memblock mem_param_185223;
    
    mem_param_185223.references = NULL;
    
    struct memblock mem_param_185220;
    
    mem_param_185220.references = NULL;
    
    struct memblock mem_param_185217;
    
    mem_param_185217.references = NULL;
    
    struct memblock ext_mem_185387;
    
    ext_mem_185387.references = NULL;
    
    struct memblock ext_mem_185388;
    
    ext_mem_185388.references = NULL;
    
    struct memblock ext_mem_185389;
    
    ext_mem_185389.references = NULL;
    
    struct memblock mem_185213;
    
    mem_185213.references = NULL;
    
    struct memblock mem_185209;
    
    mem_185209.references = NULL;
    
    struct memblock mem_185205;
    
    mem_185205.references = NULL;
    
    struct memblock ext_mem_185392;
    
    ext_mem_185392.references = NULL;
    
    struct memblock ext_mem_185395;
    
    ext_mem_185395.references = NULL;
    
    struct memblock ext_mem_185398;
    
    ext_mem_185398.references = NULL;
    
    struct memblock mem_185103;
    
    mem_185103.references = NULL;
    
    struct memblock mem_185101;
    
    mem_185101.references = NULL;
    
    struct memblock mem_185099;
    
    mem_185099.references = NULL;
    
    struct memblock mem_param_tmp_185877;
    
    mem_param_tmp_185877.references = NULL;
    
    struct memblock mem_param_tmp_185876;
    
    mem_param_tmp_185876.references = NULL;
    
    struct memblock mem_param_tmp_185875;
    
    mem_param_tmp_185875.references = NULL;
    
    struct memblock mem_184637;
    
    mem_184637.references = NULL;
    
    struct memblock mem_184633;
    
    mem_184633.references = NULL;
    
    struct memblock mem_184629;
    
    mem_184629.references = NULL;
    
    struct memblock mem_184582;
    
    mem_184582.references = NULL;
    
    struct memblock mem_184578;
    
    mem_184578.references = NULL;
    
    struct memblock mem_184574;
    
    mem_184574.references = NULL;
    
    struct memblock mem_184588;
    
    mem_184588.references = NULL;
    
    struct memblock mem_184586;
    
    mem_184586.references = NULL;
    
    struct memblock mem_184584;
    
    mem_184584.references = NULL;
    
    struct memblock ext_mem_184609;
    
    ext_mem_184609.references = NULL;
    
    struct memblock ext_mem_184612;
    
    ext_mem_184612.references = NULL;
    
    struct memblock ext_mem_184615;
    
    ext_mem_184615.references = NULL;
    
    struct memblock mem_param_184481;
    
    mem_param_184481.references = NULL;
    
    struct memblock mem_param_184478;
    
    mem_param_184478.references = NULL;
    
    struct memblock mem_param_184475;
    
    mem_param_184475.references = NULL;
    
    struct memblock ext_mem_184645;
    
    ext_mem_184645.references = NULL;
    
    struct memblock ext_mem_184646;
    
    ext_mem_184646.references = NULL;
    
    struct memblock ext_mem_184647;
    
    ext_mem_184647.references = NULL;
    
    struct memblock mem_184471;
    
    mem_184471.references = NULL;
    
    struct memblock mem_184467;
    
    mem_184467.references = NULL;
    
    struct memblock mem_184463;
    
    mem_184463.references = NULL;
    
    struct memblock ext_mem_184650;
    
    ext_mem_184650.references = NULL;
    
    struct memblock ext_mem_184653;
    
    ext_mem_184653.references = NULL;
    
    struct memblock ext_mem_184656;
    
    ext_mem_184656.references = NULL;
    
    struct memblock mem_184361;
    
    mem_184361.references = NULL;
    
    struct memblock mem_184359;
    
    mem_184359.references = NULL;
    
    struct memblock mem_184357;
    
    mem_184357.references = NULL;
    
    struct memblock mem_184341;
    
    mem_184341.references = NULL;
    
    struct memblock mem_184339;
    
    mem_184339.references = NULL;
    
    struct memblock mem_184337;
    
    mem_184337.references = NULL;
    
    struct memblock mem_185048;
    
    mem_185048.references = NULL;
    
    struct memblock mem_185047;
    
    mem_185047.references = NULL;
    
    struct memblock mem_185045;
    
    mem_185045.references = NULL;
    
    struct memblock mem_param_tmp_185783;
    
    mem_param_tmp_185783.references = NULL;
    
    struct memblock mem_param_tmp_185782;
    
    mem_param_tmp_185782.references = NULL;
    
    struct memblock mem_param_tmp_185781;
    
    mem_param_tmp_185781.references = NULL;
    
    struct memblock mem_185000;
    
    mem_185000.references = NULL;
    
    struct memblock mem_184996;
    
    mem_184996.references = NULL;
    
    struct memblock mem_184992;
    
    mem_184992.references = NULL;
    
    struct memblock mem_184945;
    
    mem_184945.references = NULL;
    
    struct memblock mem_184941;
    
    mem_184941.references = NULL;
    
    struct memblock mem_184937;
    
    mem_184937.references = NULL;
    
    struct memblock mem_184951;
    
    mem_184951.references = NULL;
    
    struct memblock mem_184949;
    
    mem_184949.references = NULL;
    
    struct memblock mem_184947;
    
    mem_184947.references = NULL;
    
    struct memblock ext_mem_184972;
    
    ext_mem_184972.references = NULL;
    
    struct memblock ext_mem_184975;
    
    ext_mem_184975.references = NULL;
    
    struct memblock ext_mem_184978;
    
    ext_mem_184978.references = NULL;
    
    struct memblock mem_param_184844;
    
    mem_param_184844.references = NULL;
    
    struct memblock mem_param_184841;
    
    mem_param_184841.references = NULL;
    
    struct memblock mem_param_184838;
    
    mem_param_184838.references = NULL;
    
    struct memblock ext_mem_185008;
    
    ext_mem_185008.references = NULL;
    
    struct memblock ext_mem_185009;
    
    ext_mem_185009.references = NULL;
    
    struct memblock ext_mem_185010;
    
    ext_mem_185010.references = NULL;
    
    struct memblock mem_184834;
    
    mem_184834.references = NULL;
    
    struct memblock mem_184830;
    
    mem_184830.references = NULL;
    
    struct memblock mem_184826;
    
    mem_184826.references = NULL;
    
    struct memblock ext_mem_185013;
    
    ext_mem_185013.references = NULL;
    
    struct memblock ext_mem_185016;
    
    ext_mem_185016.references = NULL;
    
    struct memblock ext_mem_185019;
    
    ext_mem_185019.references = NULL;
    
    struct memblock mem_184724;
    
    mem_184724.references = NULL;
    
    struct memblock mem_184722;
    
    mem_184722.references = NULL;
    
    struct memblock mem_184720;
    
    mem_184720.references = NULL;
    
    struct memblock ext_mem_185069;
    
    ext_mem_185069.references = NULL;
    
    struct memblock ext_mem_185072;
    
    ext_mem_185072.references = NULL;
    
    struct memblock ext_mem_185075;
    
    ext_mem_185075.references = NULL;
    
    struct memblock mem_184311;
    
    mem_184311.references = NULL;
    
    struct memblock mem_184309;
    
    mem_184309.references = NULL;
    
    struct memblock mem_184307;
    
    mem_184307.references = NULL;
    
    struct memblock mem_out_185721;
    
    mem_out_185721.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t prim_out_185722;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803 = add64(na_153597, nb_153598);
    
    if (memblock_alloc(ctx, &mem_184307, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, "mem_184307")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_185723 = 0; nest_i_185723 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803; nest_i_185723++) {
        ((int8_t *) mem_184307.mem)[nest_i_185723] = (int8_t) -1;
    }
    
    int64_t bytes_184308 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803;
    
    if (memblock_alloc(ctx, &mem_184309, bytes_184308, "mem_184309")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_185724 = 0; nest_i_185724 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803; nest_i_185724++) {
        ((int64_t *) mem_184309.mem)[nest_i_185724] = (int64_t) -1;
    }
    
    int64_t bytes_184310 = (int64_t) 4 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803;
    
    if (memblock_alloc(ctx, &mem_184311, bytes_184310, "mem_184311")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_185725 = 0; nest_i_185725 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803; nest_i_185725++) {
        ((float *) mem_184311.mem)[nest_i_185725] = 0.0F;
    }
    
    int64_t zl_rhs_178807 = sub64(na_153597, window_sizze_153599);
    bool cond_178808 = slt64((int64_t) 0, zl_rhs_178807);
    int64_t zl_rhs_178809 = sub64(nb_153598, window_sizze_153599);
    bool loop_cond_t_res_178810 = slt64((int64_t) 0, zl_rhs_178809);
    bool x_178811 = cond_178808 && loop_cond_t_res_178810;
    bool empty_slice_178812 = window_sizze_153599 == (int64_t) 0;
    int64_t m_178813 = sub64(window_sizze_153599, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838 = add64((int64_t) 1, threads_153600);
    int64_t partitionFunc_arg0_179839 = mul64((int64_t) 2, threads_153600);
    bool y_179841 = slt64((int64_t) 0, window_sizze_153599);
    bool loop_cond_180078 = slt64((int64_t) 0, threads_153600);
    bool zzero_178858 = threads_153600 == (int64_t) 0;
    bool nonzzero_178859 = !zzero_178858;
    bool loop_not_taken_181607 = !inParallel_153603;
    bool protect_assert_disj_181608 = nonzzero_178859 || loop_not_taken_181607;
    bool loop_not_taken_181697 = !x_178811;
    bool protect_assert_disj_181698 = protect_assert_disj_181608 || loop_not_taken_181697;
    bool nonzzero_cert_178860;
    
    if (!protect_assert_disj_181698) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:251:24-32\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_178861 = sdiv_safe64(window_sizze_153599, threads_153600);
    int64_t perThread_178862 = add64((int64_t) 1, zp_rhs_178861);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_178863 = mul64(threads_153600, perThread_178862);
    bool protect_assert_disj_181744 = inParallel_153603 || y_179841;
    bool protect_assert_disj_181748 = loop_not_taken_181697 || protect_assert_disj_181744;
    bool index_certs_179842;
    
    if (!protect_assert_disj_181748) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:143:20-25\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_179855 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, (int64_t) 1);
    bool y_180805 = slt64(threads_153600, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
    bool protect_assert_disj_181713 = y_179841 || loop_not_taken_181607;
    bool protect_assert_disj_181752 = loop_not_taken_181697 || protect_assert_disj_181713;
    bool index_certs_178866;
    
    if (!protect_assert_disj_181752) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:143:20-25\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_179857 = !bounds_invalid_upwards_179855;
    bool protect_assert_disj_181760 = inParallel_153603 || y_180805;
    bool protect_assert_disj_181762 = loop_not_taken_181697 || protect_assert_disj_181760;
    bool index_certs_180807;
    
    if (!protect_assert_disj_181762) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_153600, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:241:7-31\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_181756 = y_180805 || loop_not_taken_181607;
    bool protect_assert_disj_181764 = loop_not_taken_181697 || protect_assert_disj_181756;
    bool index_certs_179820;
    
    if (!protect_assert_disj_181764) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_153600, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:279:7-31\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_181772 = inParallel_153603 || valid_179857;
    bool protect_assert_disj_181774 = loop_not_taken_181697 || protect_assert_disj_181772;
    bool range_valid_c_179858;
    
    if (!protect_assert_disj_181774) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, " is invalid.", "-> #0  ftsort.fut:145:36-50\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_181616 = sle64((int64_t) 1, threads_153600);
    bool protect_assert_disj_181768 = valid_179857 || loop_not_taken_181607;
    bool protect_assert_disj_181776 = loop_not_taken_181697 || protect_assert_disj_181768;
    bool range_valid_c_178873;
    
    if (!protect_assert_disj_181776) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, " is invalid.", "-> #0  ftsort.fut:145:36-50\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_179860 = add64(window_sizze_153599, window_sizze_153599);
    bool zzero_179861 = partitionFunc_arg0_179839 == (int64_t) 0;
    int64_t index_concat_i_181617 = sub64(threads_153600, (int64_t) 1);
    bool nonzzero_179862 = !zzero_179861;
    bool protect_assert_disj_181784 = inParallel_153603 || nonzzero_179862;
    bool protect_assert_disj_181790 = loop_not_taken_181697 || protect_assert_disj_181784;
    bool nonzzero_cert_179863;
    
    if (!protect_assert_disj_181790) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:148:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_181780 = nonzzero_179862 || loop_not_taken_181607;
    bool protect_assert_disj_181796 = loop_not_taken_181697 || protect_assert_disj_181780;
    bool nonzzero_cert_178878;
    
    if (!protect_assert_disj_181796) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:148:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184321 = (int64_t) 8 * threads_153600;
    int64_t bytes_184338 = (int64_t) 8 * window_sizze_153599;
    int64_t bytes_184340 = (int64_t) 4 * window_sizze_153599;
    int64_t bytes_184683 = perThread_178862 * bytes_184321;
    int64_t binop_x_184690 = (int64_t) 4 * threads_153600;
    int64_t bytes_184691 = perThread_178862 * binop_x_184690;
    bool defunc_0_merge_pipeline_res_178814;
    int64_t defunc_0_merge_pipeline_res_178818;
    int64_t defunc_0_merge_pipeline_res_178819;
    bool loop_while_178820;
    int64_t p_178824;
    int64_t p_178825;
    
    loop_while_178820 = x_178811;
    p_178824 = (int64_t) 0;
    p_178825 = (int64_t) 0;
    while (loop_while_178820) {
        int64_t ubs_178826 = add64(window_sizze_153599, p_178824);
        int64_t ubs_178827 = add64(window_sizze_153599, p_178825);
        int64_t ind_bottom_178828 = add64(p_178824, p_178825);
        int64_t ind_top_178829 = add64(window_sizze_153599, ind_bottom_178828);
        int64_t i_p_m_t_s_178830 = add64(m_178813, p_178824);
        bool zzero_leq_i_p_m_t_s_178831 = sle64((int64_t) 0, i_p_m_t_s_178830);
        bool i_p_m_t_s_leq_w_178832 = slt64(i_p_m_t_s_178830, na_153597);
        bool zzero_lte_i_178833 = sle64((int64_t) 0, p_178824);
        bool i_lte_j_178834 = sle64(p_178824, ubs_178826);
        bool y_178835 = i_p_m_t_s_leq_w_178832 && zzero_lte_i_178833;
        bool y_178836 = zzero_leq_i_p_m_t_s_178831 && y_178835;
        bool forwards_ok_178837 = i_lte_j_178834 && y_178836;
        bool ok_or_empty_178838 = empty_slice_178812 || forwards_ok_178837;
        bool index_certs_178839;
        
        if (!ok_or_empty_178838) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_178824, ":", (long long) ubs_178826, "] out of bounds for array of shape [", (long long) na_153597, "].", "-> #0  ftsort.fut:312:14-35\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_178841 = add64(m_178813, p_178825);
        bool zzero_leq_i_p_m_t_s_178842 = sle64((int64_t) 0, i_p_m_t_s_178841);
        bool i_p_m_t_s_leq_w_178843 = slt64(i_p_m_t_s_178841, nb_153598);
        bool zzero_lte_i_178844 = sle64((int64_t) 0, p_178825);
        bool i_lte_j_178845 = sle64(p_178825, ubs_178827);
        bool y_178846 = i_p_m_t_s_leq_w_178843 && zzero_lte_i_178844;
        bool y_178847 = zzero_leq_i_p_m_t_s_178842 && y_178846;
        bool forwards_ok_178848 = i_lte_j_178845 && y_178847;
        bool ok_or_empty_178849 = empty_slice_178812 || forwards_ok_178848;
        bool index_certs_178850;
        
        if (!ok_or_empty_178849) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_178825, ":", (long long) ubs_178827, "] out of bounds for array of shape [", (long long) nb_153598, "].", "-> #0  ftsort.fut:313:14-35\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_180819 = add64(m_178813, ind_bottom_178828);
        bool zzero_leq_i_p_m_t_s_180820 = sle64((int64_t) 0, i_p_m_t_s_180819);
        bool i_p_m_t_s_leq_w_180821 = slt64(i_p_m_t_s_180819, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803);
        bool zzero_lte_i_180822 = sle64((int64_t) 0, ind_bottom_178828);
        bool i_lte_j_180823 = sle64(ind_bottom_178828, ind_top_178829);
        bool y_180824 = i_p_m_t_s_leq_w_180821 && zzero_lte_i_180822;
        bool y_180825 = zzero_leq_i_p_m_t_s_180820 && y_180824;
        bool forwards_ok_180826 = i_lte_j_180823 && y_180825;
        bool ok_or_empty_180827 = empty_slice_178812 || forwards_ok_180826;
        bool index_certs_180828;
        
        if (!ok_or_empty_180827) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_178828, ":", (long long) ind_top_178829, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, "].", "-> #0  ftsort.fut:322:21-79\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_178852;
        int64_t loopres_178853;
        
        if (inParallel_153603) {
            float leq_lhs_182277 = ((float *) a_list_mem_184305.mem)[p_178824];
            float leq_rhs_182278 = ((float *) b_list_mem_184306.mem)[p_178825];
            bool defunc_0_leq_res_182279 = leq_lhs_182277 <= leq_rhs_182278;
            float lowest_182280;
            
            if (defunc_0_leq_res_182279) {
                lowest_182280 = leq_lhs_182277;
            } else {
                lowest_182280 = leq_rhs_182278;
            }
            if (mem_184667_cached_sizze_186117 < bytes_184321) {
                err = lexical_realloc(ctx, &mem_184667, &mem_184667_cached_sizze_186117, bytes_184321);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184669_cached_sizze_186118 < bytes_184321) {
                err = lexical_realloc(ctx, &mem_184669, &mem_184669_cached_sizze_186118, bytes_184321);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_183969 = 0; i_183969 < threads_153600; i_183969++) {
                int64_t index_primexp_184241 = add64((int64_t) 1, i_183969);
                int64_t zs_lhs_182285 = mul64(zt_rhs_179860, index_primexp_184241);
                int64_t index_182286 = sdiv64(zs_lhs_182285, partitionFunc_arg0_179839);
                bool cond_182287 = slt64(window_sizze_153599, index_182286);
                int64_t loop_over_182288;
                
                if (cond_182287) {
                    loop_over_182288 = window_sizze_153599;
                } else {
                    loop_over_182288 = index_182286;
                }
                
                int64_t loop_over_182289;
                
                if (cond_182287) {
                    int64_t loop_over_t_res_182290 = sub64(index_182286, window_sizze_153599);
                    
                    loop_over_182289 = loop_over_t_res_182290;
                } else {
                    loop_over_182289 = (int64_t) 0;
                }
                
                int64_t loop_over_182291;
                
                if (cond_182287) {
                    int64_t zm_lhs_182292 = sub64(index_182286, window_sizze_153599);
                    int64_t loop_over_t_res_182293 = sub64(zm_lhs_182292, (int64_t) 1);
                    
                    loop_over_182291 = loop_over_t_res_182293;
                } else {
                    loop_over_182291 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_182294;
                int64_t defunc_0_f_res_182295;
                int64_t defunc_0_f_res_182296;
                int64_t defunc_0_f_res_182297;
                bool loop_while_182298;
                int64_t p_182299;
                int64_t p_182300;
                int64_t p_182301;
                
                loop_while_182298 = 1;
                p_182299 = loop_over_182291;
                p_182300 = loop_over_182288;
                p_182301 = loop_over_182289;
                while (loop_while_182298) {
                    int64_t zs_lhs_182302 = sub64(p_182300, p_182299);
                    int64_t offset_182303 = sdiv64(zs_lhs_182302, (int64_t) 2);
                    int64_t ai_182304 = sub64(p_182300, offset_182303);
                    int64_t max_arg1_182305 = add64(p_182301, offset_182303);
                    int64_t max_res_182306 = smax64((int64_t) 0, max_arg1_182305);
                    bool cond_182307 = slt64((int64_t) 0, max_res_182306);
                    float b_prev_182308;
                    
                    if (cond_182307) {
                        int64_t tmp_182309 = sub64(max_res_182306, (int64_t) 1);
                        bool x_182310 = sle64((int64_t) 0, tmp_182309);
                        bool y_182311 = slt64(tmp_182309, window_sizze_153599);
                        bool bounds_check_182312 = x_182310 && y_182311;
                        bool index_certs_182313;
                        
                        if (!bounds_check_182312) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_182309, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:160:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_182314 = p_178825 + tmp_182309;
                        float b_prev_t_res_182315 = ((float *) b_list_mem_184306.mem)[slice_182314];
                        
                        b_prev_182308 = b_prev_t_res_182315;
                    } else {
                        b_prev_182308 = lowest_182280;
                    }
                    
                    bool cond_182316 = sle64(ai_182304, (int64_t) 0);
                    int64_t loopres_182317;
                    int64_t loopres_182318;
                    int64_t loopres_182319;
                    bool loopres_182320;
                    
                    if (cond_182316) {
                        loopres_182317 = p_182299;
                        loopres_182318 = (int64_t) 0;
                        loopres_182319 = max_res_182306;
                        loopres_182320 = 0;
                    } else {
                        bool cond_182321 = sle64(window_sizze_153599, max_res_182306);
                        int64_t loopres_f_res_182322;
                        int64_t loopres_f_res_182323;
                        int64_t loopres_f_res_182324;
                        bool loopres_f_res_182325;
                        
                        if (cond_182321) {
                            int64_t min_res_182327 = smin64(m_178813, ai_182304);
                            bool x_182328 = sle64((int64_t) 0, m_178813);
                            bool y_182329 = slt64(m_178813, window_sizze_153599);
                            bool bounds_check_182330 = x_182328 && y_182329;
                            bool index_certs_182331;
                            
                            if (!bounds_check_182330) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_178813, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:171:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_182334 = sle64((int64_t) 0, min_res_182327);
                            bool y_182335 = slt64(min_res_182327, window_sizze_153599);
                            bool bounds_check_182336 = x_182334 && y_182335;
                            bool index_certs_182337;
                            
                            if (!bounds_check_182336) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_182327, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:171:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            float leq_lhs_182333 = ((float *) b_list_mem_184306.mem)[i_p_m_t_s_178841];
                            int64_t slice_182338 = p_178824 + min_res_182327;
                            float leq_rhs_182339 = ((float *) a_list_mem_184305.mem)[slice_182338];
                            bool defunc_0_leq_res_182340 = leq_lhs_182333 <= leq_rhs_182339;
                            int64_t loopres_f_res_t_res_182341;
                            
                            if (defunc_0_leq_res_182340) {
                                loopres_f_res_t_res_182341 = ai_182304;
                            } else {
                                loopres_f_res_t_res_182341 = p_182300;
                            }
                            
                            bool x_182342 = !defunc_0_leq_res_182340;
                            int64_t loopres_f_res_t_res_182343;
                            
                            if (defunc_0_leq_res_182340) {
                                loopres_f_res_t_res_182343 = window_sizze_153599;
                            } else {
                                int64_t tmp_182344 = sub64(m_178813, offset_182303);
                                
                                loopres_f_res_t_res_182343 = tmp_182344;
                            }
                            loopres_f_res_182322 = p_182299;
                            loopres_f_res_182323 = loopres_f_res_t_res_182341;
                            loopres_f_res_182324 = loopres_f_res_t_res_182343;
                            loopres_f_res_182325 = x_182342;
                        } else {
                            bool cond_182345 = sle64(window_sizze_153599, ai_182304);
                            int64_t loopres_f_res_f_res_182346;
                            int64_t loopres_f_res_f_res_182347;
                            int64_t loopres_f_res_f_res_182348;
                            bool loopres_f_res_f_res_182349;
                            
                            if (cond_182345) {
                                int64_t min_res_182351 = smin64(m_178813, max_res_182306);
                                bool x_182352 = sle64((int64_t) 0, m_178813);
                                bool y_182353 = slt64(m_178813, window_sizze_153599);
                                bool bounds_check_182354 = x_182352 && y_182353;
                                bool index_certs_182355;
                                
                                if (!bounds_check_182354) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_178813, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:178:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_182358 = sle64((int64_t) 0, min_res_182351);
                                bool y_182359 = slt64(min_res_182351, window_sizze_153599);
                                bool bounds_check_182360 = x_182358 && y_182359;
                                bool index_certs_182361;
                                
                                if (!bounds_check_182360) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_182351, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:178:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                float leq_lhs_182357 = ((float *) a_list_mem_184305.mem)[i_p_m_t_s_178830];
                                int64_t slice_182362 = p_178825 + min_res_182351;
                                float leq_rhs_182363 = ((float *) b_list_mem_184306.mem)[slice_182362];
                                bool defunc_0_leq_res_182364 = leq_lhs_182357 <= leq_rhs_182363;
                                int64_t loopres_f_res_f_res_t_res_182365;
                                
                                if (defunc_0_leq_res_182364) {
                                    loopres_f_res_f_res_t_res_182365 = max_res_182306;
                                } else {
                                    loopres_f_res_f_res_t_res_182365 = p_182301;
                                }
                                
                                bool x_182366 = !defunc_0_leq_res_182364;
                                int64_t loopres_f_res_f_res_t_res_182367;
                                
                                if (defunc_0_leq_res_182364) {
                                    loopres_f_res_f_res_t_res_182367 = window_sizze_153599;
                                } else {
                                    loopres_f_res_f_res_t_res_182367 = m_178813;
                                }
                                loopres_f_res_f_res_182346 = p_182299;
                                loopres_f_res_f_res_182347 = loopres_f_res_f_res_t_res_182367;
                                loopres_f_res_f_res_182348 = loopres_f_res_f_res_t_res_182365;
                                loopres_f_res_f_res_182349 = x_182366;
                            } else {
                                bool cond_182368 = sle64(p_182300, p_182299);
                                int64_t loopres_f_res_f_res_f_res_182369;
                                int64_t loopres_f_res_f_res_f_res_182370;
                                int64_t loopres_f_res_f_res_f_res_182371;
                                bool loopres_f_res_f_res_f_res_182372;
                                
                                if (cond_182368) {
                                    bool cond_182373 = slt64(ai_182304, window_sizze_153599);
                                    int64_t ai_182374;
                                    
                                    if (cond_182373) {
                                        ai_182374 = ai_182304;
                                    } else {
                                        ai_182374 = m_178813;
                                    }
                                    
                                    bool x_182387 = sle64((int64_t) 0, ai_182374);
                                    bool y_182388 = slt64(ai_182374, window_sizze_153599);
                                    bool bounds_check_182389 = x_182387 && y_182388;
                                    bool index_certs_182390;
                                    
                                    if (!bounds_check_182389) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_182374, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:114:8-14\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    float b_prev_182376;
                                    
                                    if (cond_182307) {
                                        int64_t tmp_182377 = sub64(max_res_182306, (int64_t) 1);
                                        bool x_182378 = sle64((int64_t) 0, tmp_182377);
                                        bool y_182379 = slt64(tmp_182377, window_sizze_153599);
                                        bool bounds_check_182380 = x_182378 && y_182379;
                                        bool index_certs_182381;
                                        
                                        if (!bounds_check_182380) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_182377, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:112:31-39\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_182382 = p_178825 + tmp_182377;
                                        float b_prev_t_res_182383 = ((float *) b_list_mem_184306.mem)[slice_182382];
                                        
                                        b_prev_182376 = b_prev_t_res_182383;
                                    } else {
                                        bool index_certs_182385;
                                        
                                        if (!y_179841) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:112:45-50\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_182376 = leq_rhs_182278;
                                    }
                                    
                                    int64_t slice_182391 = p_178824 + ai_182374;
                                    float gt_lhs_182392 = ((float *) a_list_mem_184305.mem)[slice_182391];
                                    bool defunc_0_gt_res_182393 = b_prev_182376 < gt_lhs_182392;
                                    int64_t defunc_0_partFunc_sequential_search_res_182394;
                                    int64_t defunc_0_partFunc_sequential_search_res_182395;
                                    
                                    if (defunc_0_gt_res_182393) {
                                        int64_t zl_rhs_182396 = sub64(window_sizze_153599, max_res_182306);
                                        bool loop_cond_182397 = slt64((int64_t) 0, zl_rhs_182396);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_182398;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_182399;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_182400;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_182401;
                                        bool loop_while_182402;
                                        int64_t p_182403;
                                        int64_t p_182404;
                                        int64_t p_182405;
                                        
                                        loop_while_182402 = loop_cond_182397;
                                        p_182403 = ai_182374;
                                        p_182404 = max_res_182306;
                                        p_182405 = (int64_t) 0;
                                        while (loop_while_182402) {
                                            int64_t i_a_182406 = sub64(ai_182374, p_182405);
                                            int64_t i_b_182407 = add64(max_res_182306, p_182405);
                                            int64_t leq_lhs_182408 = sub64(i_a_182406, (int64_t) 1);
                                            bool x_182409 = sle64((int64_t) 0, leq_lhs_182408);
                                            bool y_182410 = slt64(leq_lhs_182408, window_sizze_153599);
                                            bool bounds_check_182411 = x_182409 && y_182410;
                                            bool index_certs_182412;
                                            
                                            if (!bounds_check_182411) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_182408, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:120:15-24\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_182415 = sle64((int64_t) 0, i_b_182407);
                                            bool y_182416 = slt64(i_b_182407, window_sizze_153599);
                                            bool bounds_check_182417 = x_182415 && y_182416;
                                            bool index_certs_182418;
                                            
                                            if (!bounds_check_182417) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_182407, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:120:31-38\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_182413 = p_178824 + leq_lhs_182408;
                                            float leq_lhs_182414 = ((float *) a_list_mem_184305.mem)[slice_182413];
                                            int64_t slice_182419 = p_178825 + i_b_182407;
                                            float leq_rhs_182420 = ((float *) b_list_mem_184306.mem)[slice_182419];
                                            bool defunc_0_leq_res_182421 = leq_lhs_182414 <= leq_rhs_182420;
                                            int64_t loopres_182422;
                                            
                                            if (defunc_0_leq_res_182421) {
                                                loopres_182422 = i_a_182406;
                                            } else {
                                                loopres_182422 = ai_182374;
                                            }
                                            
                                            int64_t loopres_182423;
                                            
                                            if (defunc_0_leq_res_182421) {
                                                loopres_182423 = i_b_182407;
                                            } else {
                                                loopres_182423 = max_res_182306;
                                            }
                                            
                                            int64_t loopres_182424;
                                            
                                            if (defunc_0_leq_res_182421) {
                                                loopres_182424 = zl_rhs_182396;
                                            } else {
                                                int64_t tmp_182425 = add64((int64_t) 1, p_182405);
                                                
                                                loopres_182424 = tmp_182425;
                                            }
                                            
                                            bool loop_cond_182426 = slt64(loopres_182424, zl_rhs_182396);
                                            bool loop_while_tmp_185738 = loop_cond_182426;
                                            int64_t p_tmp_185739 = loopres_182422;
                                            int64_t p_tmp_185740 = loopres_182423;
                                            int64_t p_tmp_185741 = loopres_182424;
                                            
                                            loop_while_182402 = loop_while_tmp_185738;
                                            p_182403 = p_tmp_185739;
                                            p_182404 = p_tmp_185740;
                                            p_182405 = p_tmp_185741;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_182398 = loop_while_182402;
                                        defunc_0_partFunc_sequential_search_res_t_res_182399 = p_182403;
                                        defunc_0_partFunc_sequential_search_res_t_res_182400 = p_182404;
                                        defunc_0_partFunc_sequential_search_res_t_res_182401 = p_182405;
                                        defunc_0_partFunc_sequential_search_res_182394 = defunc_0_partFunc_sequential_search_res_t_res_182399;
                                        defunc_0_partFunc_sequential_search_res_182395 = defunc_0_partFunc_sequential_search_res_t_res_182400;
                                    } else {
                                        int64_t zl_rhs_182427 = sub64(max_res_182306, (int64_t) 1);
                                        bool loop_cond_182428 = slt64((int64_t) 0, zl_rhs_182427);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_182429;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_182430;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_182431;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_182432;
                                        bool loop_while_182433;
                                        int64_t p_182434;
                                        int64_t p_182435;
                                        int64_t p_182436;
                                        
                                        loop_while_182433 = loop_cond_182428;
                                        p_182434 = ai_182374;
                                        p_182435 = max_res_182306;
                                        p_182436 = (int64_t) 0;
                                        while (loop_while_182433) {
                                            int64_t zp_lhs_182437 = add64(ai_182374, p_182436);
                                            int64_t hi_a_182438 = add64((int64_t) 1, zp_lhs_182437);
                                            bool cond_182439 = slt64(hi_a_182438, window_sizze_153599);
                                            int64_t i_a_182440;
                                            
                                            if (cond_182439) {
                                                i_a_182440 = hi_a_182438;
                                            } else {
                                                i_a_182440 = m_178813;
                                            }
                                            
                                            int64_t zm_lhs_182442 = sub64(max_res_182306, p_182436);
                                            int64_t i_b_182443 = sub64(zm_lhs_182442, (int64_t) 1);
                                            bool x_182444 = sle64((int64_t) 0, i_a_182440);
                                            bool y_182445 = slt64(i_a_182440, window_sizze_153599);
                                            bool bounds_check_182446 = x_182444 && y_182445;
                                            bool index_certs_182447;
                                            
                                            if (!bounds_check_182446) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_182440, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:130:15-22\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_182450 = sle64((int64_t) 0, i_b_182443);
                                            bool y_182451 = slt64(i_b_182443, window_sizze_153599);
                                            bool bounds_check_182452 = x_182450 && y_182451;
                                            bool index_certs_182453;
                                            
                                            if (!bounds_check_182452) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_182443, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:130:28-35\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_182448 = p_178824 + i_a_182440;
                                            float gt_lhs_182449 = ((float *) a_list_mem_184305.mem)[slice_182448];
                                            int64_t slice_182454 = p_178825 + i_b_182443;
                                            float gt_rhs_182455 = ((float *) b_list_mem_184306.mem)[slice_182454];
                                            bool defunc_0_gt_res_182456 = gt_rhs_182455 < gt_lhs_182449;
                                            int64_t loopres_182457;
                                            
                                            if (defunc_0_gt_res_182456) {
                                                loopres_182457 = i_a_182440;
                                            } else {
                                                loopres_182457 = ai_182374;
                                            }
                                            
                                            int64_t loopres_182458;
                                            
                                            if (defunc_0_gt_res_182456) {
                                                loopres_182458 = zm_lhs_182442;
                                            } else {
                                                loopres_182458 = max_res_182306;
                                            }
                                            
                                            int64_t loopres_182459;
                                            
                                            if (defunc_0_gt_res_182456) {
                                                loopres_182459 = zl_rhs_182427;
                                            } else {
                                                int64_t tmp_182460 = add64((int64_t) 1, p_182436);
                                                
                                                loopres_182459 = tmp_182460;
                                            }
                                            
                                            bool loop_cond_182461 = slt64(loopres_182459, zl_rhs_182427);
                                            bool loop_while_tmp_185742 = loop_cond_182461;
                                            int64_t p_tmp_185743 = loopres_182457;
                                            int64_t p_tmp_185744 = loopres_182458;
                                            int64_t p_tmp_185745 = loopres_182459;
                                            
                                            loop_while_182433 = loop_while_tmp_185742;
                                            p_182434 = p_tmp_185743;
                                            p_182435 = p_tmp_185744;
                                            p_182436 = p_tmp_185745;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_182429 = loop_while_182433;
                                        defunc_0_partFunc_sequential_search_res_f_res_182430 = p_182434;
                                        defunc_0_partFunc_sequential_search_res_f_res_182431 = p_182435;
                                        defunc_0_partFunc_sequential_search_res_f_res_182432 = p_182436;
                                        defunc_0_partFunc_sequential_search_res_182394 = defunc_0_partFunc_sequential_search_res_f_res_182430;
                                        defunc_0_partFunc_sequential_search_res_182395 = defunc_0_partFunc_sequential_search_res_f_res_182431;
                                    }
                                    loopres_f_res_f_res_f_res_182369 = p_182299;
                                    loopres_f_res_f_res_f_res_182370 = defunc_0_partFunc_sequential_search_res_182394;
                                    loopres_f_res_f_res_f_res_182371 = defunc_0_partFunc_sequential_search_res_182395;
                                    loopres_f_res_f_res_f_res_182372 = 0;
                                } else {
                                    bool x_182462 = sle64((int64_t) 0, ai_182304);
                                    bool y_182463 = slt64(ai_182304, window_sizze_153599);
                                    bool bounds_check_182464 = x_182462 && y_182463;
                                    bool index_certs_182465;
                                    
                                    if (!bounds_check_182464) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_182304, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:186:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_182466 = p_178824 + ai_182304;
                                    float gt_lhs_182467 = ((float *) a_list_mem_184305.mem)[slice_182466];
                                    bool defunc_0_gt_res_182468 = b_prev_182308 < gt_lhs_182467;
                                    int64_t loopres_f_res_f_res_f_res_f_res_182469;
                                    int64_t loopres_f_res_f_res_f_res_f_res_182470;
                                    int64_t loopres_f_res_f_res_f_res_f_res_182471;
                                    bool loopres_f_res_f_res_f_res_f_res_182472;
                                    
                                    if (defunc_0_gt_res_182468) {
                                        int64_t leq_lhs_182473 = sub64(ai_182304, (int64_t) 1);
                                        bool x_182474 = sle64((int64_t) 0, leq_lhs_182473);
                                        bool y_182475 = slt64(leq_lhs_182473, window_sizze_153599);
                                        bool bounds_check_182476 = x_182474 && y_182475;
                                        bool index_certs_182477;
                                        
                                        if (!bounds_check_182476) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_182473, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:187:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_182480 = sle64((int64_t) 0, max_res_182306);
                                        bool y_182481 = slt64(max_res_182306, window_sizze_153599);
                                        bool bounds_check_182482 = x_182480 && y_182481;
                                        bool index_certs_182483;
                                        
                                        if (!bounds_check_182482) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_182306, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:187:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_182478 = p_178824 + leq_lhs_182473;
                                        float leq_lhs_182479 = ((float *) a_list_mem_184305.mem)[slice_182478];
                                        int64_t slice_182484 = p_178825 + max_res_182306;
                                        float leq_rhs_182485 = ((float *) b_list_mem_184306.mem)[slice_182484];
                                        bool defunc_0_leq_res_182486 = leq_lhs_182479 <= leq_rhs_182485;
                                        bool x_182487 = !defunc_0_leq_res_182486;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_182488;
                                        
                                        if (defunc_0_leq_res_182486) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_182488 = ai_182304;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_182488 = leq_lhs_182473;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_182489;
                                        
                                        if (defunc_0_leq_res_182486) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_182489 = max_res_182306;
                                        } else {
                                            int64_t tmp_182490 = add64((int64_t) 1, max_res_182306);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_182489 = tmp_182490;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_182469 = p_182299;
                                        loopres_f_res_f_res_f_res_f_res_182470 = loopres_f_res_f_res_f_res_f_res_t_res_182488;
                                        loopres_f_res_f_res_f_res_f_res_182471 = loopres_f_res_f_res_f_res_f_res_t_res_182489;
                                        loopres_f_res_f_res_f_res_f_res_182472 = x_182487;
                                    } else {
                                        int64_t tmp_182491 = add64((int64_t) 1, ai_182304);
                                        
                                        loopres_f_res_f_res_f_res_f_res_182469 = tmp_182491;
                                        loopres_f_res_f_res_f_res_f_res_182470 = p_182300;
                                        loopres_f_res_f_res_f_res_f_res_182471 = p_182301;
                                        loopres_f_res_f_res_f_res_f_res_182472 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_182369 = loopres_f_res_f_res_f_res_f_res_182469;
                                    loopres_f_res_f_res_f_res_182370 = loopres_f_res_f_res_f_res_f_res_182470;
                                    loopres_f_res_f_res_f_res_182371 = loopres_f_res_f_res_f_res_f_res_182471;
                                    loopres_f_res_f_res_f_res_182372 = loopres_f_res_f_res_f_res_f_res_182472;
                                }
                                loopres_f_res_f_res_182346 = loopres_f_res_f_res_f_res_182369;
                                loopres_f_res_f_res_182347 = loopres_f_res_f_res_f_res_182370;
                                loopres_f_res_f_res_182348 = loopres_f_res_f_res_f_res_182371;
                                loopres_f_res_f_res_182349 = loopres_f_res_f_res_f_res_182372;
                            }
                            loopres_f_res_182322 = loopres_f_res_f_res_182346;
                            loopres_f_res_182323 = loopres_f_res_f_res_182347;
                            loopres_f_res_182324 = loopres_f_res_f_res_182348;
                            loopres_f_res_182325 = loopres_f_res_f_res_182349;
                        }
                        loopres_182317 = loopres_f_res_182322;
                        loopres_182318 = loopres_f_res_182323;
                        loopres_182319 = loopres_f_res_182324;
                        loopres_182320 = loopres_f_res_182325;
                    }
                    
                    bool loop_while_tmp_185734 = loopres_182320;
                    int64_t p_tmp_185735 = loopres_182317;
                    int64_t p_tmp_185736 = loopres_182318;
                    int64_t p_tmp_185737 = loopres_182319;
                    
                    loop_while_182298 = loop_while_tmp_185734;
                    p_182299 = p_tmp_185735;
                    p_182300 = p_tmp_185736;
                    p_182301 = p_tmp_185737;
                }
                defunc_0_f_res_182294 = loop_while_182298;
                defunc_0_f_res_182295 = p_182299;
                defunc_0_f_res_182296 = p_182300;
                defunc_0_f_res_182297 = p_182301;
                ((int64_t *) mem_184667)[i_183969] = defunc_0_f_res_182296;
                ((int64_t *) mem_184669)[i_183969] = defunc_0_f_res_182297;
            }
            if (mem_184684_cached_sizze_186119 < bytes_184683) {
                err = lexical_realloc(ctx, &mem_184684, &mem_184684_cached_sizze_186119, bytes_184683);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184686_cached_sizze_186120 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_178863) {
                err = lexical_realloc(ctx, &mem_184686, &mem_184686_cached_sizze_186120, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_178863);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184689_cached_sizze_186121 < bytes_184683) {
                err = lexical_realloc(ctx, &mem_184689, &mem_184689_cached_sizze_186121, bytes_184683);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184692_cached_sizze_186122 < bytes_184691) {
                err = lexical_realloc(ctx, &mem_184692, &mem_184692_cached_sizze_186122, bytes_184691);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_184035 = 0; i_184035 < threads_153600; i_184035++) {
                bool y_182505 = slt64(i_184035, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
                bool index_certs_182507;
                
                if (!y_182505) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_184035, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:257:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:384:63-73\n   #3  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_182508 = sle64((int64_t) 1, i_184035);
                int64_t index_concat_i_182509 = sub64(i_184035, (int64_t) 1);
                int64_t index_concat_182510;
                
                if (index_concat_cmp_182508) {
                    int64_t x_182511 = ((int64_t *) mem_184667)[index_concat_i_182509];
                    
                    index_concat_182510 = x_182511;
                } else {
                    index_concat_182510 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_182512;
                
                if (index_concat_cmp_182508) {
                    index_concat_branch_182512 = index_concat_182510;
                } else {
                    index_concat_branch_182512 = (int64_t) 0;
                }
                
                int64_t index_concat_182513;
                
                if (index_concat_cmp_182508) {
                    int64_t x_182514 = ((int64_t *) mem_184669)[index_concat_i_182509];
                    
                    index_concat_182513 = x_182514;
                } else {
                    index_concat_182513 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_182515;
                
                if (index_concat_cmp_182508) {
                    index_concat_branch_182515 = index_concat_182513;
                } else {
                    index_concat_branch_182515 = (int64_t) 0;
                }
                
                int64_t ubs_182516 = add64((int64_t) 1, i_184035);
                bool x_182517 = sle64((int64_t) 0, ubs_182516);
                bool y_182518 = slt64(ubs_182516, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
                bool bounds_check_182519 = x_182517 && y_182518;
                bool index_certs_182520;
                
                if (!bounds_check_182519) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_182516, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:258:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:384:63-73\n   #3  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_182521 = sle64((int64_t) 1, ubs_182516);
                int64_t index_concat_182522;
                
                if (index_concat_cmp_182521) {
                    int64_t x_182523 = ((int64_t *) mem_184667)[i_184035];
                    
                    index_concat_182522 = x_182523;
                } else {
                    index_concat_182522 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_182524;
                
                if (index_concat_cmp_182521) {
                    index_concat_branch_182524 = index_concat_182522;
                } else {
                    index_concat_branch_182524 = (int64_t) 0;
                }
                
                int64_t index_concat_182525;
                
                if (index_concat_cmp_182521) {
                    int64_t x_182526 = ((int64_t *) mem_184669)[i_184035];
                    
                    index_concat_182525 = x_182526;
                } else {
                    index_concat_182525 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_182527;
                
                if (index_concat_cmp_182521) {
                    index_concat_branch_182527 = index_concat_182525;
                } else {
                    index_concat_branch_182527 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528 = sub64(index_concat_branch_182527, index_concat_branch_182515);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529 = sub64(index_concat_branch_182524, index_concat_branch_182512);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                int64_t zm_lhs_182531 = add64(index_concat_branch_182524, index_concat_branch_182527);
                int64_t zm_rhs_182532 = add64(index_concat_branch_182512, index_concat_branch_182515);
                int64_t card_182533 = sub64(zm_lhs_182531, zm_rhs_182532);
                bool empty_slice_182534 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529 == (int64_t) 0;
                int64_t m_182535 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, (int64_t) 1);
                int64_t i_p_m_t_s_182536 = add64(index_concat_branch_182512, m_182535);
                bool zzero_leq_i_p_m_t_s_182537 = sle64((int64_t) 0, i_p_m_t_s_182536);
                bool i_p_m_t_s_leq_w_182538 = slt64(i_p_m_t_s_182536, window_sizze_153599);
                bool zzero_lte_i_182539 = sle64((int64_t) 0, index_concat_branch_182512);
                bool i_lte_j_182540 = sle64(index_concat_branch_182512, index_concat_branch_182524);
                bool y_182541 = i_p_m_t_s_leq_w_182538 && zzero_lte_i_182539;
                bool y_182542 = zzero_leq_i_p_m_t_s_182537 && y_182541;
                bool forwards_ok_182543 = i_lte_j_182540 && y_182542;
                bool ok_or_empty_182544 = empty_slice_182534 || forwards_ok_182543;
                bool index_certs_182545;
                
                if (!ok_or_empty_182544) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_182512, ":", (long long) index_concat_branch_182524, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:260:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:384:63-73\n   #3  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_182546 = slt64(index_concat_branch_182524, index_concat_branch_182512);
                bool valid_182547 = !bounds_invalid_upwards_182546;
                bool range_valid_c_182548;
                
                if (!valid_182547) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_182512, "..<", (long long) index_concat_branch_182524, " is invalid.", "-> #0  ftsort.fut:260:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:384:63-73\n   #3  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_182553 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528 == (int64_t) 0;
                int64_t m_182554 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528, (int64_t) 1);
                int64_t i_p_m_t_s_182555 = add64(index_concat_branch_182515, m_182554);
                bool zzero_leq_i_p_m_t_s_182556 = sle64((int64_t) 0, i_p_m_t_s_182555);
                bool i_p_m_t_s_leq_w_182557 = slt64(i_p_m_t_s_182555, window_sizze_153599);
                bool zzero_lte_i_182558 = sle64((int64_t) 0, index_concat_branch_182515);
                bool i_lte_j_182559 = sle64(index_concat_branch_182515, index_concat_branch_182527);
                bool y_182560 = i_p_m_t_s_leq_w_182557 && zzero_lte_i_182558;
                bool y_182561 = zzero_leq_i_p_m_t_s_182556 && y_182560;
                bool forwards_ok_182562 = i_lte_j_182559 && y_182561;
                bool ok_or_empty_182563 = empty_slice_182553 || forwards_ok_182562;
                bool index_certs_182564;
                
                if (!ok_or_empty_182563) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_182515, ":", (long long) index_concat_branch_182527, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:261:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:384:63-73\n   #3  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_182565 = slt64(index_concat_branch_182527, index_concat_branch_182515);
                bool valid_182566 = !bounds_invalid_upwards_182565;
                bool range_valid_c_182567;
                
                if (!valid_182566) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_182515, "..<", (long long) index_concat_branch_182527, " is invalid.", "-> #0  ftsort.fut:261:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:384:63-73\n   #3  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_184721 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530;
                int64_t bytes_184723 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530;
                bool cond_182575 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, (int64_t) 1);
                int64_t zs_lhs_182576 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, (int64_t) 1);
                int64_t zp_rhs_182577 = sdiv_safe64(zs_lhs_182576, (int64_t) 20);
                int64_t min_num_blocks_182578 = add64((int64_t) 1, zp_rhs_182577);
                bool loop_cond_182579 = slt64((int64_t) 1, min_num_blocks_182578);
                bool smallest_pow_2_geq_than_res_182580;
                int64_t smallest_pow_2_geq_than_res_182581;
                bool loop_while_182582;
                int64_t x_182583;
                
                loop_while_182582 = loop_cond_182579;
                x_182583 = (int64_t) 1;
                while (loop_while_182582) {
                    int64_t loopres_182584 = mul64((int64_t) 2, x_182583);
                    bool loop_cond_182585 = slt64(loopres_182584, min_num_blocks_182578);
                    bool loop_while_tmp_185750 = loop_cond_182585;
                    int64_t x_tmp_185751 = loopres_182584;
                    
                    loop_while_182582 = loop_while_tmp_185750;
                    x_182583 = x_tmp_185751;
                }
                smallest_pow_2_geq_than_res_182580 = loop_while_182582;
                smallest_pow_2_geq_than_res_182581 = x_182583;
                
                bool zzero_182586 = smallest_pow_2_geq_than_res_182581 == (int64_t) 0;
                bool nonzzero_182587 = !zzero_182586;
                bool protect_assert_disj_182588 = cond_182575 || nonzzero_182587;
                bool nonzzero_cert_182589;
                
                if (!protect_assert_disj_182588) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_182590 = sdiv_safe64(zs_lhs_182576, smallest_pow_2_geq_than_res_182581);
                int64_t block_sizze_182591 = add64((int64_t) 1, zp_rhs_182590);
                bool y_182598 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530);
                bool protect_assert_disj_185467 = cond_182575 || y_182598;
                bool index_certs_182599;
                
                if (!protect_assert_disj_185467) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_182636 = slt64(smallest_pow_2_geq_than_res_182581, (int64_t) 0);
                bool valid_182637 = !bounds_invalid_upwards_182636;
                bool protect_assert_disj_185477 = cond_182575 || valid_182637;
                bool range_valid_c_182638;
                
                if (!protect_assert_disj_185477) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_182581, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:384:63-73\n   #6  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_182640 = slt64(block_sizze_182591, (int64_t) 0);
                bool valid_182641 = !bounds_invalid_upwards_182640;
                bool protect_assert_disj_185479 = cond_182575 || valid_182641;
                bool range_valid_c_182642;
                
                if (!protect_assert_disj_185479) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_182591, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_182644 = sle64(block_sizze_182591, (int64_t) 1);
                int64_t tmp_182645 = sub64(block_sizze_182591, (int64_t) 2);
                bool bounds_invalid_upwards_182646 = slt64(tmp_182645, (int64_t) 0);
                bool valid_182648 = !bounds_invalid_upwards_182646;
                bool protect_assert_disj_182649 = cond_182644 || valid_182648;
                bool protect_assert_disj_185481 = cond_182575 || protect_assert_disj_182649;
                bool range_valid_c_182650;
                
                if (!protect_assert_disj_185481) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_182645, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_183230 = card_182533 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530;
                bool empty_or_match_cert_183231;
                
                if (!dim_match_183230) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "] cannot match shape of type `[", (long long) card_182533, "](i8, i64, f32)`.", "-> #0  ftsort.fut:262:20-268:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:384:63-73\n   #3  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_183232 = card_182533 == (int64_t) 0;
                int64_t m_183233 = sub64(card_182533, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_183234 = sle64((int64_t) 0, m_183233);
                bool i_p_m_t_s_leq_w_183235 = slt64(m_183233, card_182533);
                bool y_183236 = zzero_leq_i_p_m_t_s_183234 && i_p_m_t_s_leq_w_183235;
                bool ok_or_empty_183237 = empty_slice_183232 || y_183236;
                bool index_certs_183238;
                
                if (!ok_or_empty_183237) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_182533, "] out of bounds for array of shape [", (long long) card_182533, "].", "-> #0  ftsort.fut:269:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:384:63-73\n   #3  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_183239 = slt64(m_183233, perThread_178862);
                bool y_183240 = zzero_leq_i_p_m_t_s_183234 && i_p_m_t_s_leq_w_183239;
                bool ok_or_empty_183241 = empty_slice_183232 || y_183240;
                bool index_certs_183242;
                
                if (!ok_or_empty_183241) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_182533, "] out of bounds for array of shape [", (long long) perThread_178862, "].", "-> #0  ftsort.fut:269:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:384:63-73\n   #3  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_185752 = 0; nest_i_185752 < perThread_178862; nest_i_185752++) {
                    ((int8_t *) mem_184686)[i_184035 * perThread_178862 + nest_i_185752] = (int8_t) -1;
                }
                for (int64_t nest_i_185753 = 0; nest_i_185753 < perThread_178862; nest_i_185753++) {
                    ((int64_t *) mem_184689)[i_184035 * perThread_178862 + nest_i_185753] = (int64_t) -1;
                }
                for (int64_t nest_i_185754 = 0; nest_i_185754 < perThread_178862; nest_i_185754++) {
                    ((float *) mem_184692)[i_184035 * perThread_178862 + nest_i_185754] = 0.0F;
                }
                
                int64_t slice_182549 = p_178824 + index_concat_branch_182512;
                
                if (memblock_alloc(ctx, &mem_184720, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "mem_184720")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_185755 = 0; nest_i_185755 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529; nest_i_185755++) {
                    ((int8_t *) mem_184720.mem)[nest_i_185755] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_184722, bytes_184721, "mem_184722")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_185756 = 0; i_185756 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529; i_185756++) {
                    int64_t x_185757 = index_concat_branch_182512 + i_185756 * (int64_t) 1;
                    
                    ((int64_t *) mem_184722.mem)[i_185756] = x_185757;
                }
                
                int64_t slice_182568 = p_178825 + index_concat_branch_182515;
                
                for (int64_t nest_i_185758 = 0; nest_i_185758 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528; nest_i_185758++) {
                    ((int8_t *) mem_184720.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529 + nest_i_185758] = (int8_t) 1;
                }
                for (int64_t i_185759 = 0; i_185759 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528; i_185759++) {
                    int64_t x_185760 = index_concat_branch_182515 + i_185759 * (int64_t) 1;
                    
                    ((int64_t *) mem_184722.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529 + i_185759] = x_185760;
                }
                
                int64_t tmp_offs_185761 = (int64_t) 0;
                
                if (!(tmp_offs_185761 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184720.mem, tmp_offs_185761, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184720.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529});
                }
                tmp_offs_185761 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529;
                if (!(tmp_offs_185761 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184720.mem, tmp_offs_185761, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184720.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528});
                }
                tmp_offs_185761 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528;
                
                int64_t tmp_offs_185762 = (int64_t) 0;
                
                if (!(tmp_offs_185762 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184722.mem, tmp_offs_185762, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184722.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529});
                }
                tmp_offs_185762 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529;
                if (!(tmp_offs_185762 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184722.mem, tmp_offs_185762, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184722.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528});
                }
                tmp_offs_185762 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528;
                if (memblock_alloc(ctx, &mem_184724, bytes_184723, "mem_184724")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_185763 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_184724.mem, tmp_offs_185763, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_184305.mem, slice_182549, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529});
                tmp_offs_185763 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_184724.mem, tmp_offs_185763, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_184306.mem, slice_182568, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528});
                tmp_offs_185763 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528;
                
                int64_t flat_dim_182592 = smallest_pow_2_geq_than_res_182581 * block_sizze_182591;
                bool x_185462 = !cond_182575;
                int64_t greatest_divisor_leq_than_arg1_182596 = mul64((int64_t) 2, block_sizze_182591);
                int64_t merge_block_sizze_182597;
                
                if (x_185462) {
                    int64_t x_185464;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_185464, (int64_t) 8, greatest_divisor_leq_than_arg1_182596) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_182597 = x_185464;
                } else {
                    merge_block_sizze_182597 = (int64_t) 0;
                }
                
                bool index_concat_cmp_182600 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, (int64_t) 0);
                int8_t index_concat_branch_182601 = btoi_bool_i8(index_concat_cmp_182600);
                int64_t index_concat_i_182603 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                int64_t index_primexp_182604 = add64(index_concat_branch_182515, index_concat_i_182603);
                int64_t index_concat_branch_182602;
                
                if (index_concat_cmp_182600) {
                    index_concat_branch_182602 = index_primexp_182604;
                } else {
                    index_concat_branch_182602 = index_concat_branch_182512;
                }
                
                bool x_185458 = !index_concat_cmp_182600;
                bool protect_cond_conj_185468 = x_185458 && x_185462;
                float index_concat_182610;
                
                if (protect_cond_conj_185468) {
                    float x_185460 = ((float *) a_list_mem_184305.mem)[slice_182549];
                    
                    index_concat_182610 = x_185460;
                } else {
                    index_concat_182610 = 0.0F;
                }
                
                int64_t slice_182608 = p_178825 + index_primexp_182604;
                bool protect_cond_conj_185469 = index_concat_cmp_182600 && x_185462;
                float index_concat_182609;
                
                if (protect_cond_conj_185469) {
                    float x_185456 = ((float *) b_list_mem_184306.mem)[slice_182608];
                    
                    index_concat_182609 = x_185456;
                } else {
                    index_concat_182609 = 0.0F;
                }
                
                float index_concat_branch_182605;
                
                if (index_concat_cmp_182600) {
                    index_concat_branch_182605 = index_concat_182609;
                } else {
                    index_concat_branch_182605 = index_concat_182610;
                }
                
                int8_t defunc_0_reduce_res_182611;
                int64_t defunc_0_reduce_res_182612;
                float defunc_0_reduce_res_182613;
                
                if (x_185462) {
                    int8_t x_185470;
                    int64_t x_185471;
                    float x_185472;
                    int8_t redout_183972;
                    int64_t redout_183973;
                    float redout_183974;
                    
                    redout_183972 = index_concat_branch_182601;
                    redout_183973 = index_concat_branch_182602;
                    redout_183974 = index_concat_branch_182605;
                    for (int64_t i_183975 = 0; i_183975 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530; i_183975++) {
                        bool index_concat_cmp_184233 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, i_183975);
                        int8_t index_concat_branch_184237 = btoi_bool_i8(index_concat_cmp_184233);
                        int64_t index_concat_branch_184231;
                        
                        if (index_concat_cmp_184233) {
                            int64_t index_concat_i_184228 = sub64(i_183975, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                            int64_t index_primexp_184281 = add64(index_concat_branch_182515, index_concat_i_184228);
                            
                            index_concat_branch_184231 = index_primexp_184281;
                        } else {
                            int64_t index_primexp_184283 = add64(index_concat_branch_182512, i_183975);
                            
                            index_concat_branch_184231 = index_primexp_184283;
                        }
                        
                        float index_concat_branch_184225;
                        
                        if (index_concat_cmp_184233) {
                            int64_t index_concat_i_184222 = sub64(i_183975, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                            int64_t slice_184278 = slice_182568 + index_concat_i_184222;
                            float index_concat_184223 = ((float *) b_list_mem_184306.mem)[slice_184278];
                            
                            index_concat_branch_184225 = index_concat_184223;
                        } else {
                            int64_t slice_184279 = slice_182549 + i_183975;
                            float index_concat_184224 = ((float *) a_list_mem_184305.mem)[slice_184279];
                            
                            index_concat_branch_184225 = index_concat_184224;
                        }
                        
                        bool eq_x_y_184295 = redout_183972 == (int8_t) 1;
                        bool eq_x_zz_184296 = redout_183972 == (int8_t) 0;
                        bool p_and_eq_x_y_184297 = index_concat_cmp_184233 && eq_x_y_184295;
                        bool not_p_184298 = !index_concat_cmp_184233;
                        bool p_and_eq_x_y_184299 = eq_x_zz_184296 && not_p_184298;
                        bool cond_182623 = p_and_eq_x_y_184297 || p_and_eq_x_y_184299;
                        bool defunc_0_leq_res_t_res_182624 = sle64(redout_183973, index_concat_branch_184231);
                        bool defunc_0_leq_res_182625 = redout_183974 <= index_concat_branch_184225;
                        bool x_182626 = cond_182623 && defunc_0_leq_res_t_res_182624;
                        bool x_182627 = !cond_182623;
                        bool y_182628 = defunc_0_leq_res_182625 && x_182627;
                        bool defunc_0_leq_res_182629 = x_182626 || y_182628;
                        int8_t defunc_0_op_res_182630;
                        
                        if (defunc_0_leq_res_182629) {
                            defunc_0_op_res_182630 = index_concat_branch_184237;
                        } else {
                            defunc_0_op_res_182630 = redout_183972;
                        }
                        
                        int64_t defunc_0_op_res_182631;
                        
                        if (defunc_0_leq_res_182629) {
                            defunc_0_op_res_182631 = index_concat_branch_184231;
                        } else {
                            defunc_0_op_res_182631 = redout_183973;
                        }
                        
                        float defunc_0_op_res_182632;
                        
                        if (defunc_0_leq_res_182629) {
                            defunc_0_op_res_182632 = index_concat_branch_184225;
                        } else {
                            defunc_0_op_res_182632 = redout_183974;
                        }
                        
                        int8_t redout_tmp_185764 = defunc_0_op_res_182630;
                        int64_t redout_tmp_185765 = defunc_0_op_res_182631;
                        float redout_tmp_185766 = defunc_0_op_res_182632;
                        
                        redout_183972 = redout_tmp_185764;
                        redout_183973 = redout_tmp_185765;
                        redout_183974 = redout_tmp_185766;
                    }
                    x_185470 = redout_183972;
                    x_185471 = redout_183973;
                    x_185472 = redout_183974;
                    defunc_0_reduce_res_182611 = x_185470;
                    defunc_0_reduce_res_182612 = x_185471;
                    defunc_0_reduce_res_182613 = x_185472;
                } else {
                    defunc_0_reduce_res_182611 = (int8_t) 0;
                    defunc_0_reduce_res_182612 = (int64_t) 0;
                    defunc_0_reduce_res_182613 = 0.0F;
                }
                
                int64_t distance_182647 = add64((int64_t) 1, tmp_182645);
                int64_t binop_x_184727 = (int64_t) 8 * smallest_pow_2_geq_than_res_182581;
                int64_t bytes_184728 = block_sizze_182591 * binop_x_184727;
                int64_t binop_x_184730 = (int64_t) 4 * smallest_pow_2_geq_than_res_182581;
                int64_t bytes_184731 = block_sizze_182591 * binop_x_184730;
                int64_t bytes_184746 = (int64_t) 8 * block_sizze_182591;
                int64_t bytes_184748 = (int64_t) 4 * block_sizze_182591;
                bool loop_cond_182773 = slt64(block_sizze_182591, flat_dim_182592);
                bool zzero_182774 = merge_block_sizze_182597 == (int64_t) 0;
                bool nonzzero_182775 = !zzero_182774;
                
                if (cond_182575) {
                    if (memblock_set(ctx, &ext_mem_185019, &mem_184720, "mem_184720") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185016, &mem_184722, "mem_184722") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185013, &mem_184724, "mem_184724") != 0)
                        return 1;
                } else {
                    if (mem_184726_cached_sizze_186123 < flat_dim_182592) {
                        err = lexical_realloc(ctx, &mem_184726, &mem_184726_cached_sizze_186123, flat_dim_182592);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184729_cached_sizze_186124 < bytes_184728) {
                        err = lexical_realloc(ctx, &mem_184729, &mem_184729_cached_sizze_186124, bytes_184728);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184732_cached_sizze_186125 < bytes_184731) {
                        err = lexical_realloc(ctx, &mem_184732, &mem_184732_cached_sizze_186125, bytes_184731);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184745_cached_sizze_186126 < block_sizze_182591) {
                        err = lexical_realloc(ctx, &mem_184745, &mem_184745_cached_sizze_186126, block_sizze_182591);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184747_cached_sizze_186127 < bytes_184746) {
                        err = lexical_realloc(ctx, &mem_184747, &mem_184747_cached_sizze_186127, bytes_184746);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184749_cached_sizze_186128 < bytes_184748) {
                        err = lexical_realloc(ctx, &mem_184749, &mem_184749_cached_sizze_186128, bytes_184748);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_183992 = 0; i_183992 < smallest_pow_2_geq_than_res_182581; i_183992++) {
                        int64_t zp_lhs_182655 = mul64(block_sizze_182591, i_183992);
                        
                        for (int64_t i_183982 = 0; i_183982 < block_sizze_182591; i_183982++) {
                            int64_t k_182660 = add64(zp_lhs_182655, i_183982);
                            bool cond_182661 = slt64(k_182660, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530);
                            int8_t lifted_lambda_res_182662;
                            int64_t lifted_lambda_res_182663;
                            float lifted_lambda_res_182664;
                            
                            if (cond_182661) {
                                bool x_182665 = sle64((int64_t) 0, k_182660);
                                bool bounds_check_182666 = cond_182661 && x_182665;
                                bool index_certs_182667;
                                
                                if (!bounds_check_182666) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_182660, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:384:63-73\n   #9  ftsort.fut:377:1-384:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_182668 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, k_182660);
                                int8_t index_concat_branch_182669 = btoi_bool_i8(index_concat_cmp_182668);
                                int64_t index_concat_branch_182670;
                                
                                if (index_concat_cmp_182668) {
                                    int64_t index_concat_i_182671 = sub64(k_182660, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                                    int64_t index_primexp_182672 = add64(index_concat_branch_182515, index_concat_i_182671);
                                    
                                    index_concat_branch_182670 = index_primexp_182672;
                                } else {
                                    int64_t index_primexp_182673 = add64(index_concat_branch_182512, k_182660);
                                    
                                    index_concat_branch_182670 = index_primexp_182673;
                                }
                                
                                float index_concat_branch_182674;
                                
                                if (index_concat_cmp_182668) {
                                    int64_t index_concat_i_182675 = sub64(k_182660, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                                    int64_t slice_182676 = index_concat_branch_182515 + index_concat_i_182675;
                                    int64_t slice_182677 = p_178825 + slice_182676;
                                    float index_concat_182678 = ((float *) b_list_mem_184306.mem)[slice_182677];
                                    
                                    index_concat_branch_182674 = index_concat_182678;
                                } else {
                                    int64_t slice_182679 = index_concat_branch_182512 + k_182660;
                                    int64_t slice_182680 = p_178824 + slice_182679;
                                    float index_concat_182681 = ((float *) a_list_mem_184305.mem)[slice_182680];
                                    
                                    index_concat_branch_182674 = index_concat_182681;
                                }
                                lifted_lambda_res_182662 = index_concat_branch_182669;
                                lifted_lambda_res_182663 = index_concat_branch_182670;
                                lifted_lambda_res_182664 = index_concat_branch_182674;
                            } else {
                                lifted_lambda_res_182662 = defunc_0_reduce_res_182611;
                                lifted_lambda_res_182663 = defunc_0_reduce_res_182612;
                                lifted_lambda_res_182664 = defunc_0_reduce_res_182613;
                            }
                            ((int8_t *) mem_184745)[i_183982] = lifted_lambda_res_182662;
                            ((int64_t *) mem_184747)[i_183982] = lifted_lambda_res_182663;
                            ((float *) mem_184749)[i_183982] = lifted_lambda_res_182664;
                        }
                        if (!cond_182644) {
                            for (int64_t i_182691 = 0; i_182691 < distance_182647; i_182691++) {
                                int64_t gt_arg1_182695 = add64((int64_t) 1, i_182691);
                                bool x_182696 = sle64((int64_t) 0, gt_arg1_182695);
                                bool y_182697 = slt64(gt_arg1_182695, block_sizze_182591);
                                bool bounds_check_182698 = x_182696 && y_182697;
                                bool index_certs_182699;
                                
                                if (!bounds_check_182698) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_182695, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_182703 = slt64(i_182691, block_sizze_182591);
                                bool index_certs_182704;
                                
                                if (!y_182703) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_182691, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_182700 = ((int8_t *) mem_184745)[gt_arg1_182695];
                                int64_t gt_arg1_182701 = ((int64_t *) mem_184747)[gt_arg1_182695];
                                float gt_arg1_182702 = ((float *) mem_184749)[gt_arg1_182695];
                                int8_t gt_arg0_182705 = ((int8_t *) mem_184745)[i_182691];
                                int64_t gt_arg0_182706 = ((int64_t *) mem_184747)[i_182691];
                                float gt_arg0_182707 = ((float *) mem_184749)[i_182691];
                                bool cond_182708 = gt_arg0_182705 == gt_arg1_182700;
                                bool defunc_0_leq_res_t_res_182709 = sle64(gt_arg0_182706, gt_arg1_182701);
                                bool defunc_0_leq_res_182710 = gt_arg0_182707 <= gt_arg1_182702;
                                bool x_182711 = cond_182708 && defunc_0_leq_res_t_res_182709;
                                bool x_182712 = !cond_182708;
                                bool y_182713 = defunc_0_leq_res_182710 && x_182712;
                                bool defunc_0_leq_res_182714 = x_182711 || y_182713;
                                bool defunc_0_lifted_gt_res_182715 = !defunc_0_leq_res_182714;
                                bool s_182716;
                                int64_t s_182720;
                                bool loop_while_182721;
                                int64_t j_182725;
                                
                                loop_while_182721 = defunc_0_lifted_gt_res_182715;
                                j_182725 = i_182691;
                                while (loop_while_182721) {
                                    bool x_182726 = sle64((int64_t) 0, j_182725);
                                    bool y_182727 = slt64(j_182725, block_sizze_182591);
                                    bool bounds_check_182728 = x_182726 && y_182727;
                                    bool index_certs_182729;
                                    
                                    if (!bounds_check_182728) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_182725, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_182733 = add64((int64_t) 1, j_182725);
                                    bool x_182734 = sle64((int64_t) 0, copy_arg0_182733);
                                    bool y_182735 = slt64(copy_arg0_182733, block_sizze_182591);
                                    bool bounds_check_182736 = x_182734 && y_182735;
                                    bool index_certs_182737;
                                    
                                    if (!bounds_check_182736) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_182733, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_182730 = ((int8_t *) mem_184745)[j_182725];
                                    int64_t copy_arg0_182731 = ((int64_t *) mem_184747)[j_182725];
                                    float copy_arg0_182732 = ((float *) mem_184749)[j_182725];
                                    int8_t copy_arg0_182738 = ((int8_t *) mem_184745)[copy_arg0_182733];
                                    int64_t copy_arg0_182739 = ((int64_t *) mem_184747)[copy_arg0_182733];
                                    float copy_arg0_182740 = ((float *) mem_184749)[copy_arg0_182733];
                                    
                                    ((int8_t *) mem_184745)[j_182725] = copy_arg0_182738;
                                    ((int64_t *) mem_184747)[j_182725] = copy_arg0_182739;
                                    ((float *) mem_184749)[j_182725] = copy_arg0_182740;
                                    ((int8_t *) mem_184745)[copy_arg0_182733] = copy_arg0_182730;
                                    ((int64_t *) mem_184747)[copy_arg0_182733] = copy_arg0_182731;
                                    ((float *) mem_184749)[copy_arg0_182733] = copy_arg0_182732;
                                    
                                    int64_t tmp_182747 = sub64(j_182725, (int64_t) 1);
                                    bool cond_182748 = sle64((int64_t) 0, tmp_182747);
                                    bool loop_cond_182749;
                                    
                                    if (cond_182748) {
                                        bool y_182753 = slt64(tmp_182747, block_sizze_182591);
                                        bool bounds_check_182754 = cond_182748 && y_182753;
                                        bool index_certs_182755;
                                        
                                        if (!bounds_check_182754) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_182747, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_182750 = ((int8_t *) mem_184745)[j_182725];
                                        int64_t gt_arg1_182751 = ((int64_t *) mem_184747)[j_182725];
                                        float gt_arg1_182752 = ((float *) mem_184749)[j_182725];
                                        int8_t gt_arg0_182756 = ((int8_t *) mem_184745)[tmp_182747];
                                        int64_t gt_arg0_182757 = ((int64_t *) mem_184747)[tmp_182747];
                                        float gt_arg0_182758 = ((float *) mem_184749)[tmp_182747];
                                        bool cond_182759 = gt_arg0_182756 == gt_arg1_182750;
                                        bool defunc_0_leq_res_t_res_182760 = sle64(gt_arg0_182757, gt_arg1_182751);
                                        bool defunc_0_leq_res_182761 = gt_arg0_182758 <= gt_arg1_182752;
                                        bool x_182762 = cond_182759 && defunc_0_leq_res_t_res_182760;
                                        bool x_182763 = !cond_182759;
                                        bool y_182764 = defunc_0_leq_res_182761 && x_182763;
                                        bool defunc_0_leq_res_182765 = x_182762 || y_182764;
                                        bool defunc_0_lifted_gt_res_182766 = !defunc_0_leq_res_182765;
                                        
                                        loop_cond_182749 = defunc_0_lifted_gt_res_182766;
                                    } else {
                                        loop_cond_182749 = 0;
                                    }
                                    
                                    bool loop_while_tmp_185776 = loop_cond_182749;
                                    int64_t j_tmp_185780 = tmp_182747;
                                    
                                    loop_while_182721 = loop_while_tmp_185776;
                                    j_182725 = j_tmp_185780;
                                }
                                s_182716 = loop_while_182721;
                                s_182720 = j_182725;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_184726, i_183992 * block_sizze_182591, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184745, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_182591});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184729, i_183992 * block_sizze_182591, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184747, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_182591});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_184732, i_183992 * block_sizze_182591, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_184749, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_182591});
                    }
                    if (memblock_alloc(ctx, &mem_184826, flat_dim_182592, "mem_184826")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_184826.mem, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (uint8_t *) mem_184726, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_182581, block_sizze_182591});
                    if (memblock_alloc(ctx, &mem_184830, bytes_184728, "mem_184830")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_184830.mem, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (uint64_t *) mem_184729, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_182581, block_sizze_182591});
                    if (memblock_alloc(ctx, &mem_184834, bytes_184731, "mem_184834")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_184834.mem, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (uint32_t *) mem_184732, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_182581, block_sizze_182591});
                    
                    int64_t data_182776;
                    bool data_182777;
                    int64_t data_182781;
                    int64_t loop_dz2084Uz2082U_182782;
                    bool loop_while_182783;
                    int64_t stride_182787;
                    
                    if (memblock_set(ctx, &mem_param_184838, &mem_184826, "mem_184826") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_184841, &mem_184830, "mem_184830") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_184844, &mem_184834, "mem_184834") != 0)
                        return 1;
                    loop_dz2084Uz2082U_182782 = flat_dim_182592;
                    loop_while_182783 = loop_cond_182773;
                    stride_182787 = block_sizze_182591;
                    while (loop_while_182783) {
                        int64_t next_stride_182788 = mul64((int64_t) 2, stride_182787);
                        bool zzero_182789 = next_stride_182788 == (int64_t) 0;
                        bool nonzzero_182790 = !zzero_182789;
                        bool nonzzero_cert_182791;
                        
                        if (!nonzzero_182790) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_182792 = sdiv64(flat_dim_182592, next_stride_182788);
                        bool bounds_invalid_upwards_182793 = slt64(num_merges_182792, (int64_t) 0);
                        bool valid_182794 = !bounds_invalid_upwards_182793;
                        bool range_valid_c_182795;
                        
                        if (!valid_182794) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_182792, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:384:63-73\n   #6  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_182797 = sub64(next_stride_182788, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_182798 = sle64((int64_t) 0, m_182797);
                        bool cond_182800 = slt64(next_stride_182788, (int64_t) 10);
                        bool protect_assert_disj_182801 = nonzzero_182775 || cond_182800;
                        bool nonzzero_cert_182802;
                        
                        if (!protect_assert_disj_182801) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_182803 = smod_safe64(next_stride_182788, merge_block_sizze_182597);
                        bool num_blocks_182804 = zeze_lhs_182803 == (int64_t) 0;
                        bool protect_assert_disj_182805 = cond_182800 || num_blocks_182804;
                        bool assert_c_182806;
                        
                        if (!protect_assert_disj_182805) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_182807 = sdiv_safe64(next_stride_182788, merge_block_sizze_182597);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808 = add64((int64_t) 1, num_blocks_182807);
                        int64_t j_m_i_182809 = sub64(next_stride_182788, stride_182787);
                        int64_t flat_dim_182810 = merge_block_sizze_182597 * num_blocks_182807;
                        bool bounds_invalid_upwards_182811 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808, (int64_t) 0);
                        bool empty_slice_182812 = j_m_i_182809 == (int64_t) 0;
                        int64_t m_182813 = sub64(j_m_i_182809, (int64_t) 1);
                        bool zzero_lte_i_182814 = sle64((int64_t) 0, stride_182787);
                        bool i_lte_j_182815 = sle64(stride_182787, next_stride_182788);
                        bool empty_slice_182816 = stride_182787 == (int64_t) 0;
                        int64_t m_182817 = sub64(stride_182787, (int64_t) 1);
                        bool bounds_invalid_upwards_182818 = slt64(num_blocks_182807, (int64_t) 0);
                        bool cond_182819 = slt64((int64_t) 0, stride_182787);
                        bool valid_182820 = !bounds_invalid_upwards_182811;
                        int64_t i_p_m_t_s_182821 = add64(stride_182787, m_182813);
                        bool zzero_leq_i_p_m_t_s_182822 = sle64((int64_t) 0, m_182817);
                        bool i_p_m_t_s_leq_w_182823 = slt64(m_182817, next_stride_182788);
                        bool valid_182824 = !bounds_invalid_upwards_182818;
                        bool i_p_m_t_s_leq_w_182825 = slt64(m_182797, flat_dim_182810);
                        bool y_182826 = slt64((int64_t) 0, j_m_i_182809);
                        bool protect_assert_disj_182827 = cond_182800 || valid_182820;
                        bool range_valid_c_182828;
                        
                        if (!protect_assert_disj_182827) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:384:63-73\n   #10 ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_182829 = sle64((int64_t) 0, i_p_m_t_s_182821);
                        bool i_p_m_t_s_leq_w_182830 = slt64(i_p_m_t_s_182821, next_stride_182788);
                        bool y_182831 = zzero_leq_i_p_m_t_s_182822 && i_p_m_t_s_leq_w_182823;
                        bool protect_assert_disj_182832 = cond_182800 || valid_182824;
                        bool range_valid_c_182833;
                        
                        if (!protect_assert_disj_182832) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_182807, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:384:63-73\n   #9  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_182834 = zzero_leq_i_p_m_t_s_182798 && i_p_m_t_s_leq_w_182825;
                        bool y_182835 = zzero_lte_i_182814 && i_p_m_t_s_leq_w_182830;
                        bool forwards_ok_182836 = zzero_lte_i_182814 && y_182831;
                        bool ok_or_empty_182837 = zzero_182789 || y_182834;
                        bool protect_assert_disj_182838 = cond_182819 || y_182826;
                        bool y_182839 = zzero_leq_i_p_m_t_s_182829 && y_182835;
                        bool ok_or_empty_182840 = empty_slice_182816 || forwards_ok_182836;
                        bool protect_assert_disj_182841 = cond_182800 || ok_or_empty_182837;
                        bool index_certs_182842;
                        
                        if (!protect_assert_disj_182841) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_182788, "] out of bounds for array of shape [", (long long) flat_dim_182810, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:384:63-73\n   #9  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_182843 = !cond_182800;
                        bool protect_assert_disj_182844 = protect_assert_disj_182838 || loop_not_taken_182843;
                        bool index_certs_182845;
                        
                        if (!protect_assert_disj_182844) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:384:63-73\n   #10 ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_182846 = i_lte_j_182815 && y_182839;
                        bool protect_assert_disj_182847 = cond_182800 || ok_or_empty_182840;
                        bool index_certs_182848;
                        
                        if (!protect_assert_disj_182847) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_182787, "] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:384:63-73\n   #11 ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_182849 = ok_or_empty_182840 || loop_not_taken_182843;
                        bool index_certs_182850;
                        
                        if (!protect_assert_disj_182849) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_182787, "] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_182851 = empty_slice_182812 || forwards_ok_182846;
                        bool protect_assert_disj_182852 = cond_182800 || ok_or_empty_182851;
                        bool index_certs_182853;
                        
                        if (!protect_assert_disj_182852) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_182787, ":] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:384:63-73\n   #11 ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_182854 = loop_not_taken_182843 || ok_or_empty_182851;
                        bool index_certs_182855;
                        
                        if (!protect_assert_disj_182854) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_182787, ":] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_184845 = next_stride_182788 * num_merges_182792;
                        int64_t binop_x_184847 = (int64_t) 8 * num_merges_182792;
                        int64_t bytes_184848 = next_stride_182788 * binop_x_184847;
                        int64_t binop_x_184850 = (int64_t) 4 * num_merges_182792;
                        int64_t bytes_184851 = next_stride_182788 * binop_x_184850;
                        bool i_lte_j_182799 = sle64((int64_t) 0, next_stride_182788);
                        
                        if (mem_184846_cached_sizze_186129 < bytes_184845) {
                            err = lexical_realloc(ctx, &mem_184846, &mem_184846_cached_sizze_186129, bytes_184845);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_184849_cached_sizze_186130 < bytes_184848) {
                            err = lexical_realloc(ctx, &mem_184849, &mem_184849_cached_sizze_186130, bytes_184848);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_184852_cached_sizze_186131 < bytes_184851) {
                            err = lexical_realloc(ctx, &mem_184852, &mem_184852_cached_sizze_186131, bytes_184851);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_184865 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808;
                        int64_t binop_x_184883 = (int64_t) 8 * num_blocks_182807;
                        int64_t bytes_184884 = merge_block_sizze_182597 * binop_x_184883;
                        int64_t binop_x_184886 = (int64_t) 4 * num_blocks_182807;
                        int64_t bytes_184887 = merge_block_sizze_182597 * binop_x_184886;
                        int64_t bytes_184948 = (int64_t) 16 * stride_182787;
                        int64_t bytes_184950 = (int64_t) 8 * stride_182787;
                        
                        for (int64_t i_184019 = 0; i_184019 < num_merges_182792; i_184019++) {
                            int64_t start_182860 = mul64(next_stride_182788, i_184019);
                            int64_t j_m_i_182861 = sub64(loop_dz2084Uz2082U_182782, start_182860);
                            bool empty_slice_182862 = j_m_i_182861 == (int64_t) 0;
                            int64_t m_182863 = sub64(j_m_i_182861, (int64_t) 1);
                            int64_t i_p_m_t_s_182864 = add64(start_182860, m_182863);
                            bool zzero_leq_i_p_m_t_s_182865 = sle64((int64_t) 0, i_p_m_t_s_182864);
                            bool i_p_m_t_s_leq_w_182866 = slt64(i_p_m_t_s_182864, loop_dz2084Uz2082U_182782);
                            bool zzero_lte_i_182867 = sle64((int64_t) 0, start_182860);
                            bool i_lte_j_182868 = sle64(start_182860, loop_dz2084Uz2082U_182782);
                            bool y_182869 = i_p_m_t_s_leq_w_182866 && zzero_lte_i_182867;
                            bool y_182870 = zzero_leq_i_p_m_t_s_182865 && y_182869;
                            bool forwards_ok_182871 = i_lte_j_182868 && y_182870;
                            bool ok_or_empty_182872 = empty_slice_182862 || forwards_ok_182871;
                            bool index_certs_182873;
                            
                            if (!ok_or_empty_182872) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_182860, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_182782, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_182874 = slt64(m_182797, j_m_i_182861);
                            bool y_182875 = zzero_leq_i_p_m_t_s_182798 && i_p_m_t_s_leq_w_182874;
                            bool forwards_ok_182876 = i_lte_j_182799 && y_182875;
                            bool ok_or_empty_182877 = zzero_182789 || forwards_ok_182876;
                            bool index_certs_182878;
                            
                            if (!ok_or_empty_182877) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_182788, "] out of bounds for array of shape [", (long long) j_m_i_182861, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_182800) {
                                int8_t dummy_182882;
                                int64_t dummy_182883;
                                float dummy_182884;
                                
                                if (cond_182819) {
                                    int8_t head_res_182885 = ((int8_t *) mem_param_184838.mem)[start_182860];
                                    int64_t head_res_182886 = ((int64_t *) mem_param_184841.mem)[start_182860];
                                    float head_res_182887 = ((float *) mem_param_184844.mem)[start_182860];
                                    
                                    dummy_182882 = head_res_182885;
                                    dummy_182883 = head_res_182886;
                                    dummy_182884 = head_res_182887;
                                } else {
                                    int64_t slice_182888 = stride_182787 + start_182860;
                                    int8_t head_res_182889 = ((int8_t *) mem_param_184838.mem)[slice_182888];
                                    int64_t head_res_182890 = ((int64_t *) mem_param_184841.mem)[slice_182888];
                                    float head_res_182891 = ((float *) mem_param_184844.mem)[slice_182888];
                                    
                                    dummy_182882 = head_res_182889;
                                    dummy_182883 = head_res_182890;
                                    dummy_182884 = head_res_182891;
                                }
                                if (memblock_alloc(ctx, &mem_184947, next_stride_182788, "mem_184947")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185793 = 0; nest_i_185793 < next_stride_182788; nest_i_185793++) {
                                    ((int8_t *) mem_184947.mem)[nest_i_185793] = dummy_182882;
                                }
                                if (memblock_alloc(ctx, &mem_184949, bytes_184948, "mem_184949")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185794 = 0; nest_i_185794 < next_stride_182788; nest_i_185794++) {
                                    ((int64_t *) mem_184949.mem)[nest_i_185794] = dummy_182883;
                                }
                                if (memblock_alloc(ctx, &mem_184951, bytes_184950, "mem_184951")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185795 = 0; nest_i_185795 < next_stride_182788; nest_i_185795++) {
                                    ((float *) mem_184951.mem)[nest_i_185795] = dummy_182884;
                                }
                                
                                int64_t data_182895;
                                int64_t i_182900 = (int64_t) 0;
                                
                                for (int64_t k_182899 = 0; k_182899 < next_stride_182788; k_182899++) {
                                    int64_t j_182904 = sub64(k_182899, i_182900);
                                    bool cond_182905 = j_182904 == j_m_i_182809;
                                    bool cond_182906;
                                    
                                    if (cond_182905) {
                                        cond_182906 = 1;
                                    } else {
                                        bool cond_182907 = slt64(i_182900, stride_182787);
                                        bool cond_f_res_182908;
                                        
                                        if (cond_182907) {
                                            bool x_182909 = sle64((int64_t) 0, j_182904);
                                            bool y_182910 = slt64(j_182904, j_m_i_182809);
                                            bool bounds_check_182911 = x_182909 && y_182910;
                                            bool index_certs_182912;
                                            
                                            if (!bounds_check_182911) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_182904, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:384:63-73\n   #9  ftsort.fut:377:1-384:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_182918 = sle64((int64_t) 0, i_182900);
                                            bool bounds_check_182919 = cond_182907 && x_182918;
                                            bool index_certs_182920;
                                            
                                            if (!bounds_check_182919) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_182900, "] out of bounds for array of shape [", (long long) stride_182787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:384:63-73\n   #9  ftsort.fut:377:1-384:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_182913 = stride_182787 + j_182904;
                                            int64_t slice_182914 = start_182860 + slice_182913;
                                            int8_t leq_arg1_182915 = ((int8_t *) mem_param_184838.mem)[slice_182914];
                                            int64_t leq_arg1_182916 = ((int64_t *) mem_param_184841.mem)[slice_182914];
                                            float leq_arg1_182917 = ((float *) mem_param_184844.mem)[slice_182914];
                                            int64_t slice_182921 = start_182860 + i_182900;
                                            int8_t leq_arg0_182922 = ((int8_t *) mem_param_184838.mem)[slice_182921];
                                            int64_t leq_arg0_182923 = ((int64_t *) mem_param_184841.mem)[slice_182921];
                                            float leq_arg0_182924 = ((float *) mem_param_184844.mem)[slice_182921];
                                            bool cond_182925 = leq_arg0_182922 == leq_arg1_182915;
                                            bool defunc_0_leq_res_t_res_182926 = sle64(leq_arg0_182923, leq_arg1_182916);
                                            bool defunc_0_leq_res_182927 = leq_arg0_182924 <= leq_arg1_182917;
                                            bool x_182928 = cond_182925 && defunc_0_leq_res_t_res_182926;
                                            bool x_182929 = !cond_182925;
                                            bool y_182930 = defunc_0_leq_res_182927 && x_182929;
                                            bool defunc_0_leq_res_182931 = x_182928 || y_182930;
                                            
                                            cond_f_res_182908 = defunc_0_leq_res_182931;
                                        } else {
                                            cond_f_res_182908 = 0;
                                        }
                                        cond_182906 = cond_f_res_182908;
                                    }
                                    
                                    int64_t loopres_182932;
                                    int8_t loopres_182933;
                                    int64_t loopres_182934;
                                    float loopres_182935;
                                    
                                    if (cond_182906) {
                                        bool x_182937 = sle64((int64_t) 0, i_182900);
                                        bool y_182938 = slt64(i_182900, stride_182787);
                                        bool bounds_check_182939 = x_182937 && y_182938;
                                        bool index_certs_182940;
                                        
                                        if (!bounds_check_182939) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_182900, "] out of bounds for array of shape [", (long long) stride_182787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:384:63-73\n   #9  ftsort.fut:377:1-384:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_182936 = add64((int64_t) 1, i_182900);
                                        int64_t slice_182941 = start_182860 + i_182900;
                                        int8_t tmp_182942 = ((int8_t *) mem_param_184838.mem)[slice_182941];
                                        int64_t tmp_182943 = ((int64_t *) mem_param_184841.mem)[slice_182941];
                                        float tmp_182944 = ((float *) mem_param_184844.mem)[slice_182941];
                                        
                                        loopres_182932 = tmp_182936;
                                        loopres_182933 = tmp_182942;
                                        loopres_182934 = tmp_182943;
                                        loopres_182935 = tmp_182944;
                                    } else {
                                        bool x_182945 = sle64((int64_t) 0, j_182904);
                                        bool y_182946 = slt64(j_182904, j_m_i_182809);
                                        bool bounds_check_182947 = x_182945 && y_182946;
                                        bool index_certs_182948;
                                        
                                        if (!bounds_check_182947) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_182904, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:384:63-73\n   #9  ftsort.fut:377:1-384:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_182949 = stride_182787 + j_182904;
                                        int64_t slice_182950 = start_182860 + slice_182949;
                                        int8_t tmp_182951 = ((int8_t *) mem_param_184838.mem)[slice_182950];
                                        int64_t tmp_182952 = ((int64_t *) mem_param_184841.mem)[slice_182950];
                                        float tmp_182953 = ((float *) mem_param_184844.mem)[slice_182950];
                                        
                                        loopres_182932 = i_182900;
                                        loopres_182933 = tmp_182951;
                                        loopres_182934 = tmp_182952;
                                        loopres_182935 = tmp_182953;
                                    }
                                    ((int8_t *) mem_184947.mem)[k_182899] = loopres_182933;
                                    ((int64_t *) mem_184949.mem)[k_182899] = loopres_182934;
                                    ((float *) mem_184951.mem)[k_182899] = loopres_182935;
                                    
                                    int64_t i_tmp_185796 = loopres_182932;
                                    
                                    i_182900 = i_tmp_185796;
                                }
                                data_182895 = i_182900;
                                if (memblock_set(ctx, &ext_mem_184978, &mem_184947, "mem_184947") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184975, &mem_184949, "mem_184949") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184972, &mem_184951, "mem_184951") != 0)
                                    return 1;
                            } else {
                                if (mem_184866_cached_sizze_186132 < bytes_184865) {
                                    err = lexical_realloc(ctx, &mem_184866, &mem_184866_cached_sizze_186132, bytes_184865);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184868_cached_sizze_186133 < bytes_184865) {
                                    err = lexical_realloc(ctx, &mem_184868, &mem_184868_cached_sizze_186133, bytes_184865);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_184000 = 0; i_184000 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808; i_184000++) {
                                    int64_t split_count_arg3_182961 = mul64(merge_block_sizze_182597, i_184000);
                                    int64_t defunc_0_split_count_res_182962;
                                    int64_t defunc_0_split_count_res_182963;
                                    int64_t defunc_0_split_count_res_182964;
                                    int64_t defunc_0_split_count_res_182965;
                                    int64_t defunc_0_split_count_res_182966;
                                    
                                    if (futrts_lifted_normalizze_9100(ctx, &defunc_0_split_count_res_182962, &defunc_0_split_count_res_182963, &defunc_0_split_count_res_182964, &defunc_0_split_count_res_182965, &defunc_0_split_count_res_182966, (int64_t) 0, stride_182787, (int64_t) 0, j_m_i_182809, split_count_arg3_182961) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_182967 = slt64((int64_t) 0, defunc_0_split_count_res_182966);
                                    bool defunc_0_split_count_res_182968;
                                    int64_t defunc_0_split_count_res_182969;
                                    int64_t defunc_0_split_count_res_182970;
                                    int64_t defunc_0_split_count_res_182971;
                                    int64_t defunc_0_split_count_res_182972;
                                    int64_t defunc_0_split_count_res_182973;
                                    bool loop_while_182974;
                                    int64_t ss_182975;
                                    int64_t ss_182976;
                                    int64_t tt_182977;
                                    int64_t tt_182978;
                                    int64_t count_182979;
                                    
                                    loop_while_182974 = loop_cond_182967;
                                    ss_182975 = defunc_0_split_count_res_182962;
                                    ss_182976 = defunc_0_split_count_res_182963;
                                    tt_182977 = defunc_0_split_count_res_182964;
                                    tt_182978 = defunc_0_split_count_res_182965;
                                    count_182979 = defunc_0_split_count_res_182966;
                                    while (loop_while_182974) {
                                        int64_t zlze_lhs_182980 = sub64(ss_182976, ss_182975);
                                        bool cond_182981 = sle64(zlze_lhs_182980, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_182982;
                                        int64_t defunc_0_lifted_step_res_182983;
                                        int64_t defunc_0_lifted_step_res_182984;
                                        int64_t defunc_0_lifted_step_res_182985;
                                        
                                        if (cond_182981) {
                                            int64_t tmp_182986 = add64(tt_182977, count_182979);
                                            
                                            defunc_0_lifted_step_res_182982 = ss_182975;
                                            defunc_0_lifted_step_res_182983 = tmp_182986;
                                            defunc_0_lifted_step_res_182984 = tt_182978;
                                            defunc_0_lifted_step_res_182985 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_182987 = sub64(tt_182978, tt_182977);
                                            bool cond_182988 = sle64(zlze_lhs_182987, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_182989;
                                            int64_t defunc_0_lifted_step_res_f_res_182990;
                                            int64_t defunc_0_lifted_step_res_f_res_182991;
                                            int64_t defunc_0_lifted_step_res_f_res_182992;
                                            
                                            if (cond_182988) {
                                                int64_t tmp_182993 = add64(ss_182975, count_182979);
                                                
                                                defunc_0_lifted_step_res_f_res_182989 = tmp_182993;
                                                defunc_0_lifted_step_res_f_res_182990 = tt_182977;
                                                defunc_0_lifted_step_res_f_res_182991 = tt_182978;
                                                defunc_0_lifted_step_res_f_res_182992 = (int64_t) 0;
                                            } else {
                                                bool cond_182994 = count_182979 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_182995;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_182996;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_182997;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_182998;
                                                
                                                if (cond_182994) {
                                                    bool x_182999 = sle64((int64_t) 0, ss_182975);
                                                    bool y_183000 = slt64(ss_182975, stride_182787);
                                                    bool bounds_check_183001 = x_182999 && y_183000;
                                                    bool index_certs_183002;
                                                    
                                                    if (!bounds_check_183001) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_182975, "] out of bounds for array of shape [", (long long) stride_182787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:384:63-73\n   #13 ftsort.fut:377:1-384:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_183007 = sle64((int64_t) 0, tt_182977);
                                                    bool y_183008 = slt64(tt_182977, j_m_i_182809);
                                                    bool bounds_check_183009 = x_183007 && y_183008;
                                                    bool index_certs_183010;
                                                    
                                                    if (!bounds_check_183009) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_182977, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:384:63-73\n   #13 ftsort.fut:377:1-384:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_183003 = start_182860 + ss_182975;
                                                    int8_t leq_arg1_183004 = ((int8_t *) mem_param_184838.mem)[slice_183003];
                                                    int64_t leq_arg1_183005 = ((int64_t *) mem_param_184841.mem)[slice_183003];
                                                    float leq_arg1_183006 = ((float *) mem_param_184844.mem)[slice_183003];
                                                    int64_t slice_183011 = stride_182787 + tt_182977;
                                                    int64_t slice_183012 = start_182860 + slice_183011;
                                                    int8_t leq_arg0_183013 = ((int8_t *) mem_param_184838.mem)[slice_183012];
                                                    int64_t leq_arg0_183014 = ((int64_t *) mem_param_184841.mem)[slice_183012];
                                                    float leq_arg0_183015 = ((float *) mem_param_184844.mem)[slice_183012];
                                                    bool cond_183016 = leq_arg0_183013 == leq_arg1_183004;
                                                    bool defunc_0_leq_res_t_res_183017 = sle64(leq_arg0_183014, leq_arg1_183005);
                                                    bool defunc_0_leq_res_183018 = leq_arg0_183015 <= leq_arg1_183006;
                                                    bool x_183019 = cond_183016 && defunc_0_leq_res_t_res_183017;
                                                    bool x_183020 = !cond_183016;
                                                    bool y_183021 = defunc_0_leq_res_183018 && x_183020;
                                                    bool defunc_0_leq_res_183022 = x_183019 || y_183021;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183023;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183024;
                                                    
                                                    if (defunc_0_leq_res_183022) {
                                                        int64_t tmp_183025 = add64((int64_t) 1, tt_182977);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183023 = ss_182975;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183024 = tmp_183025;
                                                    } else {
                                                        int64_t tmp_183026 = add64((int64_t) 1, ss_182975);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183023 = tmp_183026;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183024 = tt_182977;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_182995 = defunc_0_lifted_step_res_f_res_f_res_t_res_183023;
                                                    defunc_0_lifted_step_res_f_res_f_res_182996 = defunc_0_lifted_step_res_f_res_f_res_t_res_183024;
                                                    defunc_0_lifted_step_res_f_res_f_res_182997 = tt_182978;
                                                    defunc_0_lifted_step_res_f_res_f_res_182998 = (int64_t) 0;
                                                } else {
                                                    int64_t m_183027 = sdiv64(count_182979, (int64_t) 2);
                                                    int64_t n_183028 = sub64(count_182979, m_183027);
                                                    bool cond_183029 = n_183028 == (int64_t) 0;
                                                    int64_t zgze_lhs_183030 = add64(ss_182975, m_183027);
                                                    bool cond_f_res_183031 = sle64(ss_182976, zgze_lhs_183030);
                                                    bool x_183032 = !cond_183029;
                                                    bool y_183033 = cond_f_res_183031 && x_183032;
                                                    bool cond_183034 = cond_183029 || y_183033;
                                                    bool leq_y_x_183035;
                                                    
                                                    if (cond_183034) {
                                                        leq_y_x_183035 = 1;
                                                    } else {
                                                        bool x_183036 = sle64((int64_t) 0, zgze_lhs_183030);
                                                        bool y_183037 = slt64(zgze_lhs_183030, stride_182787);
                                                        bool bounds_check_183038 = x_183036 && y_183037;
                                                        bool index_certs_183039;
                                                        
                                                        if (!bounds_check_183038) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_183030, "] out of bounds for array of shape [", (long long) stride_182787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:384:63-73\n   #13 ftsort.fut:377:1-384:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_183044 = add64(tt_182977, n_183028);
                                                        int64_t leq_arg0_183045 = sub64(zm_lhs_183044, (int64_t) 1);
                                                        bool x_183046 = sle64((int64_t) 0, leq_arg0_183045);
                                                        bool y_183047 = slt64(leq_arg0_183045, j_m_i_182809);
                                                        bool bounds_check_183048 = x_183046 && y_183047;
                                                        bool index_certs_183049;
                                                        
                                                        if (!bounds_check_183048) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_183045, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:384:63-73\n   #13 ftsort.fut:377:1-384:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_183040 = start_182860 + zgze_lhs_183030;
                                                        int8_t leq_arg1_183041 = ((int8_t *) mem_param_184838.mem)[slice_183040];
                                                        int64_t leq_arg1_183042 = ((int64_t *) mem_param_184841.mem)[slice_183040];
                                                        float leq_arg1_183043 = ((float *) mem_param_184844.mem)[slice_183040];
                                                        int64_t slice_183050 = stride_182787 + leq_arg0_183045;
                                                        int64_t slice_183051 = start_182860 + slice_183050;
                                                        int8_t leq_arg0_183052 = ((int8_t *) mem_param_184838.mem)[slice_183051];
                                                        int64_t leq_arg0_183053 = ((int64_t *) mem_param_184841.mem)[slice_183051];
                                                        float leq_arg0_183054 = ((float *) mem_param_184844.mem)[slice_183051];
                                                        bool cond_183055 = leq_arg0_183052 == leq_arg1_183041;
                                                        bool defunc_0_leq_res_t_res_183056 = sle64(leq_arg0_183053, leq_arg1_183042);
                                                        bool defunc_0_leq_res_183057 = leq_arg0_183054 <= leq_arg1_183043;
                                                        bool x_183058 = cond_183055 && defunc_0_leq_res_t_res_183056;
                                                        bool x_183059 = !cond_183055;
                                                        bool y_183060 = defunc_0_leq_res_183057 && x_183059;
                                                        bool defunc_0_leq_res_183061 = x_183058 || y_183060;
                                                        
                                                        leq_y_x_183035 = defunc_0_leq_res_183061;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_183062;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_183063;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_183064;
                                                    
                                                    if (leq_y_x_183035) {
                                                        int64_t tmp_183065 = add64(tt_182977, n_183028);
                                                        int64_t tmp_183066 = sub64(count_182979, n_183028);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183062 = tmp_183065;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183063 = tt_182978;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183064 = tmp_183066;
                                                    } else {
                                                        int64_t tmp_183067 = add64(tt_182977, n_183028);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183062 = tt_182977;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183063 = tmp_183067;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183064 = count_182979;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_182995 = ss_182975;
                                                    defunc_0_lifted_step_res_f_res_f_res_182996 = defunc_0_lifted_step_res_f_res_f_res_f_res_183062;
                                                    defunc_0_lifted_step_res_f_res_f_res_182997 = defunc_0_lifted_step_res_f_res_f_res_f_res_183063;
                                                    defunc_0_lifted_step_res_f_res_f_res_182998 = defunc_0_lifted_step_res_f_res_f_res_f_res_183064;
                                                }
                                                defunc_0_lifted_step_res_f_res_182989 = defunc_0_lifted_step_res_f_res_f_res_182995;
                                                defunc_0_lifted_step_res_f_res_182990 = defunc_0_lifted_step_res_f_res_f_res_182996;
                                                defunc_0_lifted_step_res_f_res_182991 = defunc_0_lifted_step_res_f_res_f_res_182997;
                                                defunc_0_lifted_step_res_f_res_182992 = defunc_0_lifted_step_res_f_res_f_res_182998;
                                            }
                                            defunc_0_lifted_step_res_182982 = defunc_0_lifted_step_res_f_res_182989;
                                            defunc_0_lifted_step_res_182983 = defunc_0_lifted_step_res_f_res_182990;
                                            defunc_0_lifted_step_res_182984 = defunc_0_lifted_step_res_f_res_182991;
                                            defunc_0_lifted_step_res_182985 = defunc_0_lifted_step_res_f_res_182992;
                                        }
                                        
                                        int64_t loopres_183068;
                                        int64_t loopres_183069;
                                        int64_t loopres_183070;
                                        int64_t loopres_183071;
                                        int64_t loopres_183072;
                                        
                                        if (futrts_lifted_normalizze_9100(ctx, &loopres_183068, &loopres_183069, &loopres_183070, &loopres_183071, &loopres_183072, defunc_0_lifted_step_res_182982, ss_182976, defunc_0_lifted_step_res_182983, defunc_0_lifted_step_res_182984, defunc_0_lifted_step_res_182985) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_183073 = slt64((int64_t) 0, loopres_183072);
                                        bool loop_while_tmp_185802 = loop_cond_183073;
                                        int64_t ss_tmp_185803 = loopres_183068;
                                        int64_t ss_tmp_185804 = loopres_183069;
                                        int64_t tt_tmp_185805 = loopres_183070;
                                        int64_t tt_tmp_185806 = loopres_183071;
                                        int64_t count_tmp_185807 = loopres_183072;
                                        
                                        loop_while_182974 = loop_while_tmp_185802;
                                        ss_182975 = ss_tmp_185803;
                                        ss_182976 = ss_tmp_185804;
                                        tt_182977 = tt_tmp_185805;
                                        tt_182978 = tt_tmp_185806;
                                        count_182979 = count_tmp_185807;
                                    }
                                    defunc_0_split_count_res_182968 = loop_while_182974;
                                    defunc_0_split_count_res_182969 = ss_182975;
                                    defunc_0_split_count_res_182970 = ss_182976;
                                    defunc_0_split_count_res_182971 = tt_182977;
                                    defunc_0_split_count_res_182972 = tt_182978;
                                    defunc_0_split_count_res_182973 = count_182979;
                                    ((int64_t *) mem_184866)[i_184000] = defunc_0_split_count_res_182969;
                                    ((int64_t *) mem_184868)[i_184000] = defunc_0_split_count_res_182971;
                                }
                                if (mem_184882_cached_sizze_186134 < flat_dim_182810) {
                                    err = lexical_realloc(ctx, &mem_184882, &mem_184882_cached_sizze_186134, flat_dim_182810);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184885_cached_sizze_186135 < bytes_184884) {
                                    err = lexical_realloc(ctx, &mem_184885, &mem_184885_cached_sizze_186135, bytes_184884);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184888_cached_sizze_186136 < bytes_184887) {
                                    err = lexical_realloc(ctx, &mem_184888, &mem_184888_cached_sizze_186136, bytes_184887);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_184009 = 0; i_184009 < num_blocks_182807; i_184009++) {
                                    bool y_183082 = slt64(i_184009, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808);
                                    bool index_certs_183084;
                                    
                                    if (!y_183082) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_184009, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:384:63-73\n   #10 ftsort.fut:377:1-384:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_183085 = ((int64_t *) mem_184866)[i_184009];
                                    int64_t defunc_0_f_res_183086 = ((int64_t *) mem_184868)[i_184009];
                                    int64_t tmp_183087 = add64((int64_t) 1, i_184009);
                                    bool x_183088 = sle64((int64_t) 0, tmp_183087);
                                    bool y_183089 = slt64(tmp_183087, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808);
                                    bool bounds_check_183090 = x_183088 && y_183089;
                                    bool index_certs_183091;
                                    
                                    if (!bounds_check_183090) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_183087, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:384:63-73\n   #10 ftsort.fut:377:1-384:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_183092 = ((int64_t *) mem_184866)[tmp_183087];
                                    int64_t defunc_0_f_res_183093 = ((int64_t *) mem_184868)[tmp_183087];
                                    int64_t merge_sequential_arg2_183094 = add64(stride_182787, defunc_0_f_res_183086);
                                    int64_t merge_sequential_arg2_183095 = add64(stride_182787, defunc_0_f_res_183093);
                                    int64_t j_m_i_183096 = sub64(merge_sequential_arg2_183095, merge_sequential_arg2_183094);
                                    bool empty_slice_183097 = j_m_i_183096 == (int64_t) 0;
                                    int64_t m_183098 = sub64(j_m_i_183096, (int64_t) 1);
                                    int64_t i_p_m_t_s_183099 = add64(merge_sequential_arg2_183094, m_183098);
                                    bool zzero_leq_i_p_m_t_s_183100 = sle64((int64_t) 0, i_p_m_t_s_183099);
                                    bool i_p_m_t_s_leq_w_183101 = slt64(i_p_m_t_s_183099, next_stride_182788);
                                    bool zzero_lte_i_183102 = sle64((int64_t) 0, merge_sequential_arg2_183094);
                                    bool i_lte_j_183103 = sle64(merge_sequential_arg2_183094, merge_sequential_arg2_183095);
                                    bool y_183104 = i_p_m_t_s_leq_w_183101 && zzero_lte_i_183102;
                                    bool y_183105 = zzero_leq_i_p_m_t_s_183100 && y_183104;
                                    bool forwards_ok_183106 = i_lte_j_183103 && y_183105;
                                    bool ok_or_empty_183107 = empty_slice_183097 || forwards_ok_183106;
                                    bool index_certs_183108;
                                    
                                    if (!ok_or_empty_183107) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_183094, ":", (long long) merge_sequential_arg2_183095, "] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:384:63-73\n   #10 ftsort.fut:377:1-384:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_183109 = sub64(defunc_0_f_res_183092, defunc_0_f_res_183085);
                                    bool empty_slice_183110 = j_m_i_183109 == (int64_t) 0;
                                    int64_t m_183111 = sub64(j_m_i_183109, (int64_t) 1);
                                    int64_t i_p_m_t_s_183112 = add64(defunc_0_f_res_183085, m_183111);
                                    bool zzero_leq_i_p_m_t_s_183113 = sle64((int64_t) 0, i_p_m_t_s_183112);
                                    bool i_p_m_t_s_leq_w_183114 = slt64(i_p_m_t_s_183112, next_stride_182788);
                                    bool zzero_lte_i_183115 = sle64((int64_t) 0, defunc_0_f_res_183085);
                                    bool i_lte_j_183116 = sle64(defunc_0_f_res_183085, defunc_0_f_res_183092);
                                    bool y_183117 = i_p_m_t_s_leq_w_183114 && zzero_lte_i_183115;
                                    bool y_183118 = zzero_leq_i_p_m_t_s_183113 && y_183117;
                                    bool forwards_ok_183119 = i_lte_j_183116 && y_183118;
                                    bool ok_or_empty_183120 = empty_slice_183110 || forwards_ok_183119;
                                    bool index_certs_183121;
                                    
                                    if (!ok_or_empty_183120) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_183085, ":", (long long) defunc_0_f_res_183092, "] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:384:63-73\n   #10 ftsort.fut:377:1-384:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_183122 = slt64((int64_t) 0, j_m_i_183109);
                                    int8_t dummy_183123;
                                    int64_t dummy_183124;
                                    float dummy_183125;
                                    
                                    if (cond_183122) {
                                        bool index_certs_183126;
                                        
                                        if (!cond_183122) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_183109, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:384:63-73\n   #12 ftsort.fut:377:1-384:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183127 = start_182860 + defunc_0_f_res_183085;
                                        int8_t head_res_183128 = ((int8_t *) mem_param_184838.mem)[slice_183127];
                                        int64_t head_res_183129 = ((int64_t *) mem_param_184841.mem)[slice_183127];
                                        float head_res_183130 = ((float *) mem_param_184844.mem)[slice_183127];
                                        
                                        dummy_183123 = head_res_183128;
                                        dummy_183124 = head_res_183129;
                                        dummy_183125 = head_res_183130;
                                    } else {
                                        bool y_183131 = slt64((int64_t) 0, j_m_i_183096);
                                        bool index_certs_183132;
                                        
                                        if (!y_183131) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_183096, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:384:63-73\n   #12 ftsort.fut:377:1-384:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183133 = start_182860 + merge_sequential_arg2_183094;
                                        int8_t head_res_183134 = ((int8_t *) mem_param_184838.mem)[slice_183133];
                                        int64_t head_res_183135 = ((int64_t *) mem_param_184841.mem)[slice_183133];
                                        float head_res_183136 = ((float *) mem_param_184844.mem)[slice_183133];
                                        
                                        dummy_183123 = head_res_183134;
                                        dummy_183124 = head_res_183135;
                                        dummy_183125 = head_res_183136;
                                    }
                                    for (int64_t nest_i_185811 = 0; nest_i_185811 < merge_block_sizze_182597; nest_i_185811++) {
                                        ((int8_t *) mem_184882)[i_184009 * merge_block_sizze_182597 + nest_i_185811] = dummy_183123;
                                    }
                                    for (int64_t nest_i_185812 = 0; nest_i_185812 < merge_block_sizze_182597; nest_i_185812++) {
                                        ((int64_t *) mem_184885)[i_184009 * merge_block_sizze_182597 + nest_i_185812] = dummy_183124;
                                    }
                                    for (int64_t nest_i_185813 = 0; nest_i_185813 < merge_block_sizze_182597; nest_i_185813++) {
                                        ((float *) mem_184888)[i_184009 * merge_block_sizze_182597 + nest_i_185813] = dummy_183125;
                                    }
                                    
                                    int64_t data_183140;
                                    int64_t i_183145 = (int64_t) 0;
                                    
                                    for (int64_t k_183144 = 0; k_183144 < merge_block_sizze_182597; k_183144++) {
                                        int64_t j_183149 = sub64(k_183144, i_183145);
                                        bool cond_183150 = j_183149 == j_m_i_183096;
                                        bool cond_183151;
                                        
                                        if (cond_183150) {
                                            cond_183151 = 1;
                                        } else {
                                            bool cond_183152 = slt64(i_183145, j_m_i_183109);
                                            bool cond_f_res_183153;
                                            
                                            if (cond_183152) {
                                                bool x_183154 = sle64((int64_t) 0, j_183149);
                                                bool y_183155 = slt64(j_183149, j_m_i_183096);
                                                bool bounds_check_183156 = x_183154 && y_183155;
                                                bool index_certs_183157;
                                                
                                                if (!bounds_check_183156) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183149, "] out of bounds for array of shape [", (long long) j_m_i_183096, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:384:63-73\n   #11 ftsort.fut:377:1-384:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_183163 = sle64((int64_t) 0, i_183145);
                                                bool bounds_check_183164 = cond_183152 && x_183163;
                                                bool index_certs_183165;
                                                
                                                if (!bounds_check_183164) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183145, "] out of bounds for array of shape [", (long long) j_m_i_183109, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:384:63-73\n   #11 ftsort.fut:377:1-384:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_183158 = merge_sequential_arg2_183094 + j_183149;
                                                int64_t slice_183159 = start_182860 + slice_183158;
                                                int8_t leq_arg1_183160 = ((int8_t *) mem_param_184838.mem)[slice_183159];
                                                int64_t leq_arg1_183161 = ((int64_t *) mem_param_184841.mem)[slice_183159];
                                                float leq_arg1_183162 = ((float *) mem_param_184844.mem)[slice_183159];
                                                int64_t slice_183166 = defunc_0_f_res_183085 + i_183145;
                                                int64_t slice_183167 = start_182860 + slice_183166;
                                                int8_t leq_arg0_183168 = ((int8_t *) mem_param_184838.mem)[slice_183167];
                                                int64_t leq_arg0_183169 = ((int64_t *) mem_param_184841.mem)[slice_183167];
                                                float leq_arg0_183170 = ((float *) mem_param_184844.mem)[slice_183167];
                                                bool cond_183171 = leq_arg0_183168 == leq_arg1_183160;
                                                bool defunc_0_leq_res_t_res_183172 = sle64(leq_arg0_183169, leq_arg1_183161);
                                                bool defunc_0_leq_res_183173 = leq_arg0_183170 <= leq_arg1_183162;
                                                bool x_183174 = cond_183171 && defunc_0_leq_res_t_res_183172;
                                                bool x_183175 = !cond_183171;
                                                bool y_183176 = defunc_0_leq_res_183173 && x_183175;
                                                bool defunc_0_leq_res_183177 = x_183174 || y_183176;
                                                
                                                cond_f_res_183153 = defunc_0_leq_res_183177;
                                            } else {
                                                cond_f_res_183153 = 0;
                                            }
                                            cond_183151 = cond_f_res_183153;
                                        }
                                        
                                        int64_t loopres_183178;
                                        int8_t loopres_183179;
                                        int64_t loopres_183180;
                                        float loopres_183181;
                                        
                                        if (cond_183151) {
                                            bool x_183183 = sle64((int64_t) 0, i_183145);
                                            bool y_183184 = slt64(i_183145, j_m_i_183109);
                                            bool bounds_check_183185 = x_183183 && y_183184;
                                            bool index_certs_183186;
                                            
                                            if (!bounds_check_183185) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183145, "] out of bounds for array of shape [", (long long) j_m_i_183109, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:384:63-73\n   #11 ftsort.fut:377:1-384:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_183182 = add64((int64_t) 1, i_183145);
                                            int64_t slice_183187 = defunc_0_f_res_183085 + i_183145;
                                            int64_t slice_183188 = start_182860 + slice_183187;
                                            int8_t tmp_183189 = ((int8_t *) mem_param_184838.mem)[slice_183188];
                                            int64_t tmp_183190 = ((int64_t *) mem_param_184841.mem)[slice_183188];
                                            float tmp_183191 = ((float *) mem_param_184844.mem)[slice_183188];
                                            
                                            loopres_183178 = tmp_183182;
                                            loopres_183179 = tmp_183189;
                                            loopres_183180 = tmp_183190;
                                            loopres_183181 = tmp_183191;
                                        } else {
                                            bool x_183192 = sle64((int64_t) 0, j_183149);
                                            bool y_183193 = slt64(j_183149, j_m_i_183096);
                                            bool bounds_check_183194 = x_183192 && y_183193;
                                            bool index_certs_183195;
                                            
                                            if (!bounds_check_183194) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183149, "] out of bounds for array of shape [", (long long) j_m_i_183096, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:384:63-73\n   #11 ftsort.fut:377:1-384:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_183196 = merge_sequential_arg2_183094 + j_183149;
                                            int64_t slice_183197 = start_182860 + slice_183196;
                                            int8_t tmp_183198 = ((int8_t *) mem_param_184838.mem)[slice_183197];
                                            int64_t tmp_183199 = ((int64_t *) mem_param_184841.mem)[slice_183197];
                                            float tmp_183200 = ((float *) mem_param_184844.mem)[slice_183197];
                                            
                                            loopres_183178 = i_183145;
                                            loopres_183179 = tmp_183198;
                                            loopres_183180 = tmp_183199;
                                            loopres_183181 = tmp_183200;
                                        }
                                        ((int8_t *) mem_184882)[i_184009 * merge_block_sizze_182597 + k_183144] = loopres_183179;
                                        ((int64_t *) mem_184885)[i_184009 * merge_block_sizze_182597 + k_183144] = loopres_183180;
                                        ((float *) mem_184888)[i_184009 * merge_block_sizze_182597 + k_183144] = loopres_183181;
                                        
                                        int64_t i_tmp_185814 = loopres_183178;
                                        
                                        i_183145 = i_tmp_185814;
                                    }
                                    data_183140 = i_183145;
                                }
                                if (memblock_alloc(ctx, &mem_184937, flat_dim_182810, "mem_184937")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_184937.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (uint8_t *) mem_184882, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (int64_t []) {num_blocks_182807, merge_block_sizze_182597});
                                if (memblock_alloc(ctx, &mem_184941, bytes_184884, "mem_184941")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_184941.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (uint64_t *) mem_184885, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (int64_t []) {num_blocks_182807, merge_block_sizze_182597});
                                if (memblock_alloc(ctx, &mem_184945, bytes_184887, "mem_184945")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_184945.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (uint32_t *) mem_184888, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (int64_t []) {num_blocks_182807, merge_block_sizze_182597});
                                if (memblock_set(ctx, &ext_mem_184978, &mem_184937, "mem_184937") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184975, &mem_184941, "mem_184941") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184972, &mem_184945, "mem_184945") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_184846, i_184019 * next_stride_182788, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_184978.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_182788});
                            if (memblock_unref(ctx, &ext_mem_184978, "ext_mem_184978") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184849, i_184019 * next_stride_182788, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184975.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_182788});
                            if (memblock_unref(ctx, &ext_mem_184975, "ext_mem_184975") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_184852, i_184019 * next_stride_182788, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_184972.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_182788});
                            if (memblock_unref(ctx, &ext_mem_184972, "ext_mem_184972") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_184992, bytes_184845, "mem_184992")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_184992.mem, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (uint8_t *) mem_184846, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (int64_t []) {num_merges_182792, next_stride_182788});
                        if (memblock_alloc(ctx, &mem_184996, bytes_184848, "mem_184996")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_184996.mem, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (uint64_t *) mem_184849, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (int64_t []) {num_merges_182792, next_stride_182788});
                        if (memblock_alloc(ctx, &mem_185000, bytes_184851, "mem_185000")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_185000.mem, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (uint32_t *) mem_184852, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (int64_t []) {num_merges_182792, next_stride_182788});
                        
                        bool loop_cond_183220 = slt64(next_stride_182788, flat_dim_182592);
                        
                        if (memblock_set(ctx, &mem_param_tmp_185781, &mem_184992, "mem_184992") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_185782, &mem_184996, "mem_184996") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_185783, &mem_185000, "mem_185000") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_185784 = bytes_184845;
                        bool loop_while_tmp_185785 = loop_cond_183220;
                        int64_t stride_tmp_185789 = next_stride_182788;
                        
                        if (memblock_set(ctx, &mem_param_184838, &mem_param_tmp_185781, "mem_param_tmp_185781") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_184841, &mem_param_tmp_185782, "mem_param_tmp_185782") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_184844, &mem_param_tmp_185783, "mem_param_tmp_185783") != 0)
                            return 1;
                        loop_dz2084Uz2082U_182782 = loop_dz2084Uz2082U_tmp_185784;
                        loop_while_182783 = loop_while_tmp_185785;
                        stride_182787 = stride_tmp_185789;
                    }
                    if (memblock_set(ctx, &ext_mem_185010, &mem_param_184838, "mem_param_184838") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185009, &mem_param_184841, "mem_param_184841") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185008, &mem_param_184844, "mem_param_184844") != 0)
                        return 1;
                    data_182776 = loop_dz2084Uz2082U_182782;
                    data_182777 = loop_while_182783;
                    data_182781 = stride_182787;
                    if (memblock_unref(ctx, &mem_184826, "mem_184826") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_184830, "mem_184830") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_184834, "mem_184834") != 0)
                        return 1;
                    
                    bool empty_slice_183221 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_183222 = sle64((int64_t) 0, zs_lhs_182576);
                    bool i_p_m_t_s_leq_w_183223 = slt64(zs_lhs_182576, data_182776);
                    bool y_183224 = zzero_leq_i_p_m_t_s_183222 && i_p_m_t_s_leq_w_183223;
                    bool ok_or_empty_183225 = empty_slice_183221 || y_183224;
                    bool index_certs_183226;
                    
                    if (!ok_or_empty_183225) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "] out of bounds for array of shape [", (long long) data_182776, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:384:63-73\n   #6  ftsort.fut:377:1-384:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_185019, &ext_mem_185010, "ext_mem_185010") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185016, &ext_mem_185009, "ext_mem_185009") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185013, &ext_mem_185008, "ext_mem_185008") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_184720, "mem_184720") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_184722, "mem_184722") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_184724, "mem_184724") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_184686, i_184035 * perThread_178862, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_185019.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530});
                if (memblock_unref(ctx, &ext_mem_185019, "ext_mem_185019") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184689, i_184035 * perThread_178862, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185016.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530});
                if (memblock_unref(ctx, &ext_mem_185016, "ext_mem_185016") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_184692, i_184035 * perThread_178862, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_185013.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530});
                if (memblock_unref(ctx, &ext_mem_185013, "ext_mem_185013") != 0)
                    return 1;
                for (int64_t i_184025 = 0; i_184025 < perThread_178862; i_184025++) {
                    int64_t lifted_lambda_res_183248 = add64(zm_rhs_182532, i_184025);
                    
                    ((int64_t *) mem_184684)[i_184035 * perThread_178862 + i_184025] = lifted_lambda_res_183248;
                }
                
                bool cond_183250 = card_182533 == zp_rhs_178861;
                
                if (cond_183250) {
                    bool y_183252 = slt64(card_182533, perThread_178862);
                    bool index_certs_183253;
                    
                    if (!y_183252) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_182533, "] out of bounds for array of shape [", (long long) perThread_178862, "].", "-> #0  ftsort.fut:271:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:384:63-73\n   #3  ftsort.fut:377:1-384:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_184684)[i_184035 * perThread_178862 + card_182533] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_185045, bytes_184340, "mem_185045")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185819 = 0; nest_i_185819 < window_sizze_153599; nest_i_185819++) {
                ((float *) mem_185045.mem)[nest_i_185819] = 0.0F;
            }
            if (memblock_alloc(ctx, &mem_185047, bytes_184338, "mem_185047")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185820 = 0; nest_i_185820 < window_sizze_153599; nest_i_185820++) {
                ((int64_t *) mem_185047.mem)[nest_i_185820] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_185048, window_sizze_153599, "mem_185048")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185821 = 0; nest_i_185821 < window_sizze_153599; nest_i_185821++) {
                ((int8_t *) mem_185048.mem)[nest_i_185821] = (int8_t) -1;
            }
            for (int64_t write_iter_184040 = 0; write_iter_184040 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_178863; write_iter_184040++) {
                int64_t new_index_184192 = squot64(write_iter_184040, perThread_178862);
                int64_t binop_y_184194 = perThread_178862 * new_index_184192;
                int64_t new_index_184195 = write_iter_184040 - binop_y_184194;
                int64_t write_iv_184044 = ((int64_t *) mem_184684)[new_index_184192 * perThread_178862 + new_index_184195];
                int8_t write_iv_184045 = ((int8_t *) mem_184686)[new_index_184192 * perThread_178862 + new_index_184195];
                int64_t write_iv_184046 = ((int64_t *) mem_184689)[new_index_184192 * perThread_178862 + new_index_184195];
                float write_iv_184047 = ((float *) mem_184692)[new_index_184192 * perThread_178862 + new_index_184195];
                
                if (sle64((int64_t) 0, write_iv_184044) && slt64(write_iv_184044, window_sizze_153599)) {
                    ((int8_t *) mem_185048.mem)[write_iv_184044] = write_iv_184045;
                }
                if (sle64((int64_t) 0, write_iv_184044) && slt64(write_iv_184044, window_sizze_153599)) {
                    ((int64_t *) mem_185047.mem)[write_iv_184044] = write_iv_184046;
                }
                if (sle64((int64_t) 0, write_iv_184044) && slt64(write_iv_184044, window_sizze_153599)) {
                    ((float *) mem_185045.mem)[write_iv_184044] = write_iv_184047;
                }
            }
            
            int64_t index_concat_branch_183276;
            
            if (index_concat_cmp_181616) {
                int64_t index_concat_183277 = ((int64_t *) mem_184667)[index_concat_i_181617];
                
                index_concat_branch_183276 = index_concat_183277;
            } else {
                index_concat_branch_183276 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_183278;
            
            if (index_concat_cmp_181616) {
                int64_t index_concat_183279 = ((int64_t *) mem_184669)[index_concat_i_181617];
                
                index_concat_branch_183278 = index_concat_183279;
            } else {
                index_concat_branch_183278 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_185075, &mem_185048, "mem_185048") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_185072, &mem_185047, "mem_185047") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_185069, &mem_185045, "mem_185045") != 0)
                return 1;
            loopres_178852 = index_concat_branch_183276;
            loopres_178853 = index_concat_branch_183278;
        } else {
            float leq_lhs_179843 = ((float *) a_list_mem_184305.mem)[p_178824];
            float leq_rhs_179846 = ((float *) b_list_mem_184306.mem)[p_178825];
            bool defunc_0_leq_res_179847 = leq_lhs_179843 <= leq_rhs_179846;
            float lowest_179848;
            
            if (defunc_0_leq_res_179847) {
                bool index_certs_183280;
                
                if (!y_179841) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:143:44-49\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_179848 = leq_lhs_179843;
            } else {
                bool index_certs_179853;
                
                if (!y_179841) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:143:55-60\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_179848 = leq_rhs_179846;
            }
            if (mem_184322_cached_sizze_186101 < bytes_184321) {
                err = lexical_realloc(ctx, &mem_184322, &mem_184322_cached_sizze_186101, bytes_184321);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184324_cached_sizze_186102 < bytes_184321) {
                err = lexical_realloc(ctx, &mem_184324, &mem_184324_cached_sizze_186102, bytes_184321);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_184055 = 0; i_184055 < threads_153600; i_184055++) {
                int64_t index_primexp_184271 = add64((int64_t) 1, i_184055);
                int64_t zs_lhs_179867 = mul64(zt_rhs_179860, index_primexp_184271);
                int64_t index_179868 = sdiv64(zs_lhs_179867, partitionFunc_arg0_179839);
                bool cond_179869 = slt64(window_sizze_153599, index_179868);
                int64_t loop_over_179870;
                
                if (cond_179869) {
                    loop_over_179870 = window_sizze_153599;
                } else {
                    loop_over_179870 = index_179868;
                }
                
                int64_t loop_over_179871;
                
                if (cond_179869) {
                    int64_t loop_over_t_res_183281 = sub64(index_179868, window_sizze_153599);
                    
                    loop_over_179871 = loop_over_t_res_183281;
                } else {
                    loop_over_179871 = (int64_t) 0;
                }
                
                int64_t loop_over_179873;
                
                if (cond_179869) {
                    int64_t zm_lhs_183282 = sub64(index_179868, window_sizze_153599);
                    int64_t loop_over_t_res_183283 = sub64(zm_lhs_183282, (int64_t) 1);
                    
                    loop_over_179873 = loop_over_t_res_183283;
                } else {
                    loop_over_179873 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_179876;
                int64_t defunc_0_f_res_179877;
                int64_t defunc_0_f_res_179878;
                int64_t defunc_0_f_res_179879;
                bool loop_while_179880;
                int64_t p_179881;
                int64_t p_179882;
                int64_t p_179883;
                
                loop_while_179880 = 1;
                p_179881 = loop_over_179873;
                p_179882 = loop_over_179870;
                p_179883 = loop_over_179871;
                while (loop_while_179880) {
                    int64_t zs_lhs_179884 = sub64(p_179882, p_179881);
                    int64_t offset_179885 = sdiv64(zs_lhs_179884, (int64_t) 2);
                    int64_t ai_179886 = sub64(p_179882, offset_179885);
                    int64_t max_arg1_179887 = add64(p_179883, offset_179885);
                    int64_t max_res_179888 = smax64((int64_t) 0, max_arg1_179887);
                    bool cond_179889 = slt64((int64_t) 0, max_res_179888);
                    float b_prev_179890;
                    
                    if (cond_179889) {
                        int64_t tmp_183284 = sub64(max_res_179888, (int64_t) 1);
                        bool x_183285 = sle64((int64_t) 0, tmp_183284);
                        bool y_183286 = slt64(tmp_183284, window_sizze_153599);
                        bool bounds_check_183287 = x_183285 && y_183286;
                        bool index_certs_183288;
                        
                        if (!bounds_check_183287) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_183284, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:160:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_183289 = p_178825 + tmp_183284;
                        float b_prev_t_res_183290 = ((float *) b_list_mem_184306.mem)[slice_183289];
                        
                        b_prev_179890 = b_prev_t_res_183290;
                    } else {
                        b_prev_179890 = lowest_179848;
                    }
                    
                    bool cond_179897 = sle64(ai_179886, (int64_t) 0);
                    int64_t loopres_179898;
                    int64_t loopres_179899;
                    int64_t loopres_179900;
                    bool loopres_179901;
                    
                    if (cond_179897) {
                        loopres_179898 = p_179881;
                        loopres_179899 = (int64_t) 0;
                        loopres_179900 = max_res_179888;
                        loopres_179901 = 0;
                    } else {
                        bool cond_179902 = sle64(window_sizze_153599, max_res_179888);
                        int64_t loopres_f_res_179903;
                        int64_t loopres_f_res_179904;
                        int64_t loopres_f_res_179905;
                        bool loopres_f_res_179906;
                        
                        if (cond_179902) {
                            int64_t min_res_183292 = smin64(m_178813, ai_179886);
                            bool x_183293 = sle64((int64_t) 0, m_178813);
                            bool y_183294 = slt64(m_178813, window_sizze_153599);
                            bool bounds_check_183295 = x_183293 && y_183294;
                            bool index_certs_183296;
                            
                            if (!bounds_check_183295) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_178813, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:171:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_183299 = sle64((int64_t) 0, min_res_183292);
                            bool y_183300 = slt64(min_res_183292, window_sizze_153599);
                            bool bounds_check_183301 = x_183299 && y_183300;
                            bool index_certs_183302;
                            
                            if (!bounds_check_183301) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_183292, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:171:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            float leq_lhs_183298 = ((float *) b_list_mem_184306.mem)[i_p_m_t_s_178841];
                            int64_t slice_183303 = p_178824 + min_res_183292;
                            float leq_rhs_183304 = ((float *) a_list_mem_184305.mem)[slice_183303];
                            bool defunc_0_leq_res_183305 = leq_lhs_183298 <= leq_rhs_183304;
                            int64_t loopres_f_res_t_res_183306;
                            
                            if (defunc_0_leq_res_183305) {
                                loopres_f_res_t_res_183306 = ai_179886;
                            } else {
                                loopres_f_res_t_res_183306 = p_179882;
                            }
                            
                            bool x_183307 = !defunc_0_leq_res_183305;
                            int64_t loopres_f_res_t_res_183308;
                            
                            if (defunc_0_leq_res_183305) {
                                loopres_f_res_t_res_183308 = window_sizze_153599;
                            } else {
                                int64_t tmp_183309 = sub64(m_178813, offset_179885);
                                
                                loopres_f_res_t_res_183308 = tmp_183309;
                            }
                            loopres_f_res_179903 = p_179881;
                            loopres_f_res_179904 = loopres_f_res_t_res_183306;
                            loopres_f_res_179905 = loopres_f_res_t_res_183308;
                            loopres_f_res_179906 = x_183307;
                        } else {
                            bool cond_179924 = sle64(window_sizze_153599, ai_179886);
                            int64_t loopres_f_res_f_res_179925;
                            int64_t loopres_f_res_f_res_179926;
                            int64_t loopres_f_res_f_res_179927;
                            bool loopres_f_res_f_res_179928;
                            
                            if (cond_179924) {
                                int64_t min_res_183311 = smin64(m_178813, max_res_179888);
                                bool x_183312 = sle64((int64_t) 0, m_178813);
                                bool y_183313 = slt64(m_178813, window_sizze_153599);
                                bool bounds_check_183314 = x_183312 && y_183313;
                                bool index_certs_183315;
                                
                                if (!bounds_check_183314) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_178813, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:178:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_183318 = sle64((int64_t) 0, min_res_183311);
                                bool y_183319 = slt64(min_res_183311, window_sizze_153599);
                                bool bounds_check_183320 = x_183318 && y_183319;
                                bool index_certs_183321;
                                
                                if (!bounds_check_183320) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_183311, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:178:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                float leq_lhs_183317 = ((float *) a_list_mem_184305.mem)[i_p_m_t_s_178830];
                                int64_t slice_183322 = p_178825 + min_res_183311;
                                float leq_rhs_183323 = ((float *) b_list_mem_184306.mem)[slice_183322];
                                bool defunc_0_leq_res_183324 = leq_lhs_183317 <= leq_rhs_183323;
                                int64_t loopres_f_res_f_res_t_res_183325;
                                
                                if (defunc_0_leq_res_183324) {
                                    loopres_f_res_f_res_t_res_183325 = max_res_179888;
                                } else {
                                    loopres_f_res_f_res_t_res_183325 = p_179883;
                                }
                                
                                bool x_183326 = !defunc_0_leq_res_183324;
                                int64_t loopres_f_res_f_res_t_res_183327;
                                
                                if (defunc_0_leq_res_183324) {
                                    loopres_f_res_f_res_t_res_183327 = window_sizze_153599;
                                } else {
                                    loopres_f_res_f_res_t_res_183327 = m_178813;
                                }
                                loopres_f_res_f_res_179925 = p_179881;
                                loopres_f_res_f_res_179926 = loopres_f_res_f_res_t_res_183327;
                                loopres_f_res_f_res_179927 = loopres_f_res_f_res_t_res_183325;
                                loopres_f_res_f_res_179928 = x_183326;
                            } else {
                                bool cond_179945 = sle64(p_179882, p_179881);
                                int64_t loopres_f_res_f_res_f_res_179946;
                                int64_t loopres_f_res_f_res_f_res_179947;
                                int64_t loopres_f_res_f_res_f_res_179948;
                                bool loopres_f_res_f_res_f_res_179949;
                                
                                if (cond_179945) {
                                    bool cond_183366 = slt64(ai_179886, window_sizze_153599);
                                    int64_t ai_183367;
                                    
                                    if (cond_183366) {
                                        ai_183367 = ai_179886;
                                    } else {
                                        ai_183367 = m_178813;
                                    }
                                    
                                    bool x_183380 = sle64((int64_t) 0, ai_183367);
                                    bool y_183381 = slt64(ai_183367, window_sizze_153599);
                                    bool bounds_check_183382 = x_183380 && y_183381;
                                    bool index_certs_183383;
                                    
                                    if (!bounds_check_183382) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_183367, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:114:8-14\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    float b_prev_183369;
                                    
                                    if (cond_179889) {
                                        int64_t tmp_183370 = sub64(max_res_179888, (int64_t) 1);
                                        bool x_183371 = sle64((int64_t) 0, tmp_183370);
                                        bool y_183372 = slt64(tmp_183370, window_sizze_153599);
                                        bool bounds_check_183373 = x_183371 && y_183372;
                                        bool index_certs_183374;
                                        
                                        if (!bounds_check_183373) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_183370, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:112:31-39\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183375 = p_178825 + tmp_183370;
                                        float b_prev_t_res_183376 = ((float *) b_list_mem_184306.mem)[slice_183375];
                                        
                                        b_prev_183369 = b_prev_t_res_183376;
                                    } else {
                                        bool index_certs_183378;
                                        
                                        if (!y_179841) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:112:45-50\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_183369 = leq_rhs_179846;
                                    }
                                    
                                    int64_t slice_183384 = p_178824 + ai_183367;
                                    float gt_lhs_183385 = ((float *) a_list_mem_184305.mem)[slice_183384];
                                    bool defunc_0_gt_res_183386 = b_prev_183369 < gt_lhs_183385;
                                    int64_t defunc_0_partFunc_sequential_search_res_183387;
                                    int64_t defunc_0_partFunc_sequential_search_res_183388;
                                    
                                    if (defunc_0_gt_res_183386) {
                                        int64_t zl_rhs_183389 = sub64(window_sizze_153599, max_res_179888);
                                        bool loop_cond_183390 = slt64((int64_t) 0, zl_rhs_183389);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_183391;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_183392;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_183393;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_183394;
                                        bool loop_while_183395;
                                        int64_t p_183396;
                                        int64_t p_183397;
                                        int64_t p_183398;
                                        
                                        loop_while_183395 = loop_cond_183390;
                                        p_183396 = ai_183367;
                                        p_183397 = max_res_179888;
                                        p_183398 = (int64_t) 0;
                                        while (loop_while_183395) {
                                            int64_t i_a_183399 = sub64(ai_183367, p_183398);
                                            int64_t i_b_183400 = add64(max_res_179888, p_183398);
                                            int64_t leq_lhs_183401 = sub64(i_a_183399, (int64_t) 1);
                                            bool x_183402 = sle64((int64_t) 0, leq_lhs_183401);
                                            bool y_183403 = slt64(leq_lhs_183401, window_sizze_153599);
                                            bool bounds_check_183404 = x_183402 && y_183403;
                                            bool index_certs_183405;
                                            
                                            if (!bounds_check_183404) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_183401, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:120:15-24\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_183408 = sle64((int64_t) 0, i_b_183400);
                                            bool y_183409 = slt64(i_b_183400, window_sizze_153599);
                                            bool bounds_check_183410 = x_183408 && y_183409;
                                            bool index_certs_183411;
                                            
                                            if (!bounds_check_183410) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_183400, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:120:31-38\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_183406 = p_178824 + leq_lhs_183401;
                                            float leq_lhs_183407 = ((float *) a_list_mem_184305.mem)[slice_183406];
                                            int64_t slice_183412 = p_178825 + i_b_183400;
                                            float leq_rhs_183413 = ((float *) b_list_mem_184306.mem)[slice_183412];
                                            bool defunc_0_leq_res_183414 = leq_lhs_183407 <= leq_rhs_183413;
                                            int64_t loopres_183415;
                                            
                                            if (defunc_0_leq_res_183414) {
                                                loopres_183415 = i_a_183399;
                                            } else {
                                                loopres_183415 = ai_183367;
                                            }
                                            
                                            int64_t loopres_183416;
                                            
                                            if (defunc_0_leq_res_183414) {
                                                loopres_183416 = i_b_183400;
                                            } else {
                                                loopres_183416 = max_res_179888;
                                            }
                                            
                                            int64_t loopres_183417;
                                            
                                            if (defunc_0_leq_res_183414) {
                                                loopres_183417 = zl_rhs_183389;
                                            } else {
                                                int64_t tmp_183418 = add64((int64_t) 1, p_183398);
                                                
                                                loopres_183417 = tmp_183418;
                                            }
                                            
                                            bool loop_cond_183419 = slt64(loopres_183417, zl_rhs_183389);
                                            bool loop_while_tmp_185831 = loop_cond_183419;
                                            int64_t p_tmp_185832 = loopres_183415;
                                            int64_t p_tmp_185833 = loopres_183416;
                                            int64_t p_tmp_185834 = loopres_183417;
                                            
                                            loop_while_183395 = loop_while_tmp_185831;
                                            p_183396 = p_tmp_185832;
                                            p_183397 = p_tmp_185833;
                                            p_183398 = p_tmp_185834;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_183391 = loop_while_183395;
                                        defunc_0_partFunc_sequential_search_res_t_res_183392 = p_183396;
                                        defunc_0_partFunc_sequential_search_res_t_res_183393 = p_183397;
                                        defunc_0_partFunc_sequential_search_res_t_res_183394 = p_183398;
                                        defunc_0_partFunc_sequential_search_res_183387 = defunc_0_partFunc_sequential_search_res_t_res_183392;
                                        defunc_0_partFunc_sequential_search_res_183388 = defunc_0_partFunc_sequential_search_res_t_res_183393;
                                    } else {
                                        int64_t zl_rhs_183420 = sub64(max_res_179888, (int64_t) 1);
                                        bool loop_cond_183421 = slt64((int64_t) 0, zl_rhs_183420);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_183422;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_183423;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_183424;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_183425;
                                        bool loop_while_183426;
                                        int64_t p_183427;
                                        int64_t p_183428;
                                        int64_t p_183429;
                                        
                                        loop_while_183426 = loop_cond_183421;
                                        p_183427 = ai_183367;
                                        p_183428 = max_res_179888;
                                        p_183429 = (int64_t) 0;
                                        while (loop_while_183426) {
                                            int64_t zp_lhs_183430 = add64(ai_183367, p_183429);
                                            int64_t hi_a_183431 = add64((int64_t) 1, zp_lhs_183430);
                                            bool cond_183432 = slt64(hi_a_183431, window_sizze_153599);
                                            int64_t i_a_183433;
                                            
                                            if (cond_183432) {
                                                i_a_183433 = hi_a_183431;
                                            } else {
                                                i_a_183433 = m_178813;
                                            }
                                            
                                            int64_t zm_lhs_183435 = sub64(max_res_179888, p_183429);
                                            int64_t i_b_183436 = sub64(zm_lhs_183435, (int64_t) 1);
                                            bool x_183437 = sle64((int64_t) 0, i_a_183433);
                                            bool y_183438 = slt64(i_a_183433, window_sizze_153599);
                                            bool bounds_check_183439 = x_183437 && y_183438;
                                            bool index_certs_183440;
                                            
                                            if (!bounds_check_183439) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_183433, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:130:15-22\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_183443 = sle64((int64_t) 0, i_b_183436);
                                            bool y_183444 = slt64(i_b_183436, window_sizze_153599);
                                            bool bounds_check_183445 = x_183443 && y_183444;
                                            bool index_certs_183446;
                                            
                                            if (!bounds_check_183445) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_183436, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:130:28-35\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_183441 = p_178824 + i_a_183433;
                                            float gt_lhs_183442 = ((float *) a_list_mem_184305.mem)[slice_183441];
                                            int64_t slice_183447 = p_178825 + i_b_183436;
                                            float gt_rhs_183448 = ((float *) b_list_mem_184306.mem)[slice_183447];
                                            bool defunc_0_gt_res_183449 = gt_rhs_183448 < gt_lhs_183442;
                                            int64_t loopres_183450;
                                            
                                            if (defunc_0_gt_res_183449) {
                                                loopres_183450 = i_a_183433;
                                            } else {
                                                loopres_183450 = ai_183367;
                                            }
                                            
                                            int64_t loopres_183451;
                                            
                                            if (defunc_0_gt_res_183449) {
                                                loopres_183451 = zm_lhs_183435;
                                            } else {
                                                loopres_183451 = max_res_179888;
                                            }
                                            
                                            int64_t loopres_183452;
                                            
                                            if (defunc_0_gt_res_183449) {
                                                loopres_183452 = zl_rhs_183420;
                                            } else {
                                                int64_t tmp_183453 = add64((int64_t) 1, p_183429);
                                                
                                                loopres_183452 = tmp_183453;
                                            }
                                            
                                            bool loop_cond_183454 = slt64(loopres_183452, zl_rhs_183420);
                                            bool loop_while_tmp_185835 = loop_cond_183454;
                                            int64_t p_tmp_185836 = loopres_183450;
                                            int64_t p_tmp_185837 = loopres_183451;
                                            int64_t p_tmp_185838 = loopres_183452;
                                            
                                            loop_while_183426 = loop_while_tmp_185835;
                                            p_183427 = p_tmp_185836;
                                            p_183428 = p_tmp_185837;
                                            p_183429 = p_tmp_185838;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_183422 = loop_while_183426;
                                        defunc_0_partFunc_sequential_search_res_f_res_183423 = p_183427;
                                        defunc_0_partFunc_sequential_search_res_f_res_183424 = p_183428;
                                        defunc_0_partFunc_sequential_search_res_f_res_183425 = p_183429;
                                        defunc_0_partFunc_sequential_search_res_183387 = defunc_0_partFunc_sequential_search_res_f_res_183423;
                                        defunc_0_partFunc_sequential_search_res_183388 = defunc_0_partFunc_sequential_search_res_f_res_183424;
                                    }
                                    loopres_f_res_f_res_f_res_179946 = p_179881;
                                    loopres_f_res_f_res_f_res_179947 = defunc_0_partFunc_sequential_search_res_183387;
                                    loopres_f_res_f_res_f_res_179948 = defunc_0_partFunc_sequential_search_res_183388;
                                    loopres_f_res_f_res_f_res_179949 = 0;
                                } else {
                                    bool x_180033 = sle64((int64_t) 0, ai_179886);
                                    bool y_180034 = slt64(ai_179886, window_sizze_153599);
                                    bool bounds_check_180035 = x_180033 && y_180034;
                                    bool index_certs_180036;
                                    
                                    if (!bounds_check_180035) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179886, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:186:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_181695 = p_178824 + ai_179886;
                                    float gt_lhs_180037 = ((float *) a_list_mem_184305.mem)[slice_181695];
                                    bool defunc_0_gt_res_180038 = b_prev_179890 < gt_lhs_180037;
                                    int64_t loopres_f_res_f_res_f_res_f_res_180039;
                                    int64_t loopres_f_res_f_res_f_res_f_res_180040;
                                    int64_t loopres_f_res_f_res_f_res_f_res_180041;
                                    bool loopres_f_res_f_res_f_res_f_res_180042;
                                    
                                    if (defunc_0_gt_res_180038) {
                                        int64_t leq_lhs_183455 = sub64(ai_179886, (int64_t) 1);
                                        bool x_183456 = sle64((int64_t) 0, leq_lhs_183455);
                                        bool y_183457 = slt64(leq_lhs_183455, window_sizze_153599);
                                        bool bounds_check_183458 = x_183456 && y_183457;
                                        bool index_certs_183459;
                                        
                                        if (!bounds_check_183458) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_183455, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:187:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_183462 = sle64((int64_t) 0, max_res_179888);
                                        bool y_183463 = slt64(max_res_179888, window_sizze_153599);
                                        bool bounds_check_183464 = x_183462 && y_183463;
                                        bool index_certs_183465;
                                        
                                        if (!bounds_check_183464) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_179888, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:187:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183460 = p_178824 + leq_lhs_183455;
                                        float leq_lhs_183461 = ((float *) a_list_mem_184305.mem)[slice_183460];
                                        int64_t slice_183466 = p_178825 + max_res_179888;
                                        float leq_rhs_183467 = ((float *) b_list_mem_184306.mem)[slice_183466];
                                        bool defunc_0_leq_res_183468 = leq_lhs_183461 <= leq_rhs_183467;
                                        bool x_183469 = !defunc_0_leq_res_183468;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_183470;
                                        
                                        if (defunc_0_leq_res_183468) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_183470 = ai_179886;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_183470 = leq_lhs_183455;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_183471;
                                        
                                        if (defunc_0_leq_res_183468) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_183471 = max_res_179888;
                                        } else {
                                            int64_t tmp_183472 = add64((int64_t) 1, max_res_179888);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_183471 = tmp_183472;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_180039 = p_179881;
                                        loopres_f_res_f_res_f_res_f_res_180040 = loopres_f_res_f_res_f_res_f_res_t_res_183470;
                                        loopres_f_res_f_res_f_res_f_res_180041 = loopres_f_res_f_res_f_res_f_res_t_res_183471;
                                        loopres_f_res_f_res_f_res_f_res_180042 = x_183469;
                                    } else {
                                        int64_t tmp_180059 = add64((int64_t) 1, ai_179886);
                                        
                                        loopres_f_res_f_res_f_res_f_res_180039 = tmp_180059;
                                        loopres_f_res_f_res_f_res_f_res_180040 = p_179882;
                                        loopres_f_res_f_res_f_res_f_res_180041 = p_179883;
                                        loopres_f_res_f_res_f_res_f_res_180042 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_179946 = loopres_f_res_f_res_f_res_f_res_180039;
                                    loopres_f_res_f_res_f_res_179947 = loopres_f_res_f_res_f_res_f_res_180040;
                                    loopres_f_res_f_res_f_res_179948 = loopres_f_res_f_res_f_res_f_res_180041;
                                    loopres_f_res_f_res_f_res_179949 = loopres_f_res_f_res_f_res_f_res_180042;
                                }
                                loopres_f_res_f_res_179925 = loopres_f_res_f_res_f_res_179946;
                                loopres_f_res_f_res_179926 = loopres_f_res_f_res_f_res_179947;
                                loopres_f_res_f_res_179927 = loopres_f_res_f_res_f_res_179948;
                                loopres_f_res_f_res_179928 = loopres_f_res_f_res_f_res_179949;
                            }
                            loopres_f_res_179903 = loopres_f_res_f_res_179925;
                            loopres_f_res_179904 = loopres_f_res_f_res_179926;
                            loopres_f_res_179905 = loopres_f_res_f_res_179927;
                            loopres_f_res_179906 = loopres_f_res_f_res_179928;
                        }
                        loopres_179898 = loopres_f_res_179903;
                        loopres_179899 = loopres_f_res_179904;
                        loopres_179900 = loopres_f_res_179905;
                        loopres_179901 = loopres_f_res_179906;
                    }
                    
                    bool loop_while_tmp_185827 = loopres_179901;
                    int64_t p_tmp_185828 = loopres_179898;
                    int64_t p_tmp_185829 = loopres_179899;
                    int64_t p_tmp_185830 = loopres_179900;
                    
                    loop_while_179880 = loop_while_tmp_185827;
                    p_179881 = p_tmp_185828;
                    p_179882 = p_tmp_185829;
                    p_179883 = p_tmp_185830;
                }
                defunc_0_f_res_179876 = loop_while_179880;
                defunc_0_f_res_179877 = p_179881;
                defunc_0_f_res_179878 = p_179882;
                defunc_0_f_res_179879 = p_179883;
                ((int64_t *) mem_184322)[i_184055] = defunc_0_f_res_179878;
                ((int64_t *) mem_184324)[i_184055] = defunc_0_f_res_179879;
            }
            if (memblock_alloc(ctx, &mem_184337, window_sizze_153599, "mem_184337")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185839 = 0; nest_i_185839 < window_sizze_153599; nest_i_185839++) {
                ((int8_t *) mem_184337.mem)[nest_i_185839] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_184339, bytes_184338, "mem_184339")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185840 = 0; nest_i_185840 < window_sizze_153599; nest_i_185840++) {
                ((int64_t *) mem_184339.mem)[nest_i_185840] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_184341, bytes_184340, "mem_184341")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185841 = 0; nest_i_185841 < window_sizze_153599; nest_i_185841++) {
                ((float *) mem_184341.mem)[nest_i_185841] = 0.0F;
            }
            
            bool defunc_0_mergeFunc_seq_res_180079;
            int64_t defunc_0_mergeFunc_seq_res_180080;
            bool loop_while_180084;
            int64_t p_180085;
            
            loop_while_180084 = loop_cond_180078;
            p_180085 = (int64_t) 0;
            while (loop_while_180084) {
                bool x_180089 = sle64((int64_t) 0, p_180085);
                bool y_180090 = slt64(p_180085, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
                bool bounds_check_180091 = x_180089 && y_180090;
                bool index_certs_180092;
                
                if (!bounds_check_180091) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_180085, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:225:19-39\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_181678 = sle64((int64_t) 1, p_180085);
                int64_t index_concat_i_181679 = sub64(p_180085, (int64_t) 1);
                int64_t index_concat_181680;
                
                if (index_concat_cmp_181678) {
                    int64_t x_183473 = ((int64_t *) mem_184322)[index_concat_i_181679];
                    
                    index_concat_181680 = x_183473;
                } else {
                    index_concat_181680 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_181682;
                
                if (index_concat_cmp_181678) {
                    index_concat_branch_181682 = index_concat_181680;
                } else {
                    index_concat_branch_181682 = (int64_t) 0;
                }
                
                int64_t index_concat_181674;
                
                if (index_concat_cmp_181678) {
                    int64_t x_183474 = ((int64_t *) mem_184324)[index_concat_i_181679];
                    
                    index_concat_181674 = x_183474;
                } else {
                    index_concat_181674 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_181676;
                
                if (index_concat_cmp_181678) {
                    index_concat_branch_181676 = index_concat_181674;
                } else {
                    index_concat_branch_181676 = (int64_t) 0;
                }
                
                int64_t ubs_180095 = add64((int64_t) 1, p_180085);
                bool x_180096 = sle64((int64_t) 0, ubs_180095);
                bool y_180097 = slt64(ubs_180095, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
                bool bounds_check_180098 = x_180096 && y_180097;
                bool index_certs_180099;
                
                if (!bounds_check_180098) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_180095, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:226:19-41\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_181666 = sle64((int64_t) 1, ubs_180095);
                int64_t index_concat_181668;
                
                if (index_concat_cmp_181666) {
                    int64_t x_183475 = ((int64_t *) mem_184322)[p_180085];
                    
                    index_concat_181668 = x_183475;
                } else {
                    index_concat_181668 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_181670;
                
                if (index_concat_cmp_181666) {
                    index_concat_branch_181670 = index_concat_181668;
                } else {
                    index_concat_branch_181670 = (int64_t) 0;
                }
                
                int64_t index_concat_181662;
                
                if (index_concat_cmp_181666) {
                    int64_t x_183476 = ((int64_t *) mem_184324)[p_180085];
                    
                    index_concat_181662 = x_183476;
                } else {
                    index_concat_181662 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_181664;
                
                if (index_concat_cmp_181666) {
                    index_concat_branch_181664 = index_concat_181662;
                } else {
                    index_concat_branch_181664 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102 = sub64(index_concat_branch_181664, index_concat_branch_181676);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103 = sub64(index_concat_branch_181670, index_concat_branch_181682);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                int64_t ind_bottom_180105 = add64(index_concat_branch_181676, index_concat_branch_181682);
                int64_t ind_top_180106 = add64(index_concat_branch_181664, index_concat_branch_181670);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107 = sub64(ind_top_180106, ind_bottom_180105);
                bool empty_slice_180108 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103 == (int64_t) 0;
                int64_t m_180109 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, (int64_t) 1);
                int64_t i_p_m_t_s_180110 = add64(m_180109, index_concat_branch_181682);
                bool zzero_leq_i_p_m_t_s_180111 = sle64((int64_t) 0, i_p_m_t_s_180110);
                bool i_p_m_t_s_leq_w_180112 = slt64(i_p_m_t_s_180110, window_sizze_153599);
                bool zzero_lte_i_180113 = sle64((int64_t) 0, index_concat_branch_181682);
                bool i_lte_j_180114 = sle64(index_concat_branch_181682, index_concat_branch_181670);
                bool y_180115 = i_p_m_t_s_leq_w_180112 && zzero_lte_i_180113;
                bool y_180116 = zzero_leq_i_p_m_t_s_180111 && y_180115;
                bool forwards_ok_180117 = i_lte_j_180114 && y_180116;
                bool ok_or_empty_180118 = empty_slice_180108 || forwards_ok_180117;
                bool index_certs_180119;
                
                if (!ok_or_empty_180118) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_181682, ":", (long long) index_concat_branch_181670, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:229:71-86\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_180120 = slt64(index_concat_branch_181670, index_concat_branch_181682);
                bool valid_180121 = !bounds_invalid_upwards_180120;
                bool range_valid_c_180122;
                
                if (!valid_180121) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_181682, "..<", (long long) index_concat_branch_181670, " is invalid.", "-> #0  ftsort.fut:229:52-69\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_180128 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102 == (int64_t) 0;
                int64_t m_180129 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102, (int64_t) 1);
                int64_t i_p_m_t_s_180130 = add64(m_180129, index_concat_branch_181676);
                bool zzero_leq_i_p_m_t_s_180131 = sle64((int64_t) 0, i_p_m_t_s_180130);
                bool i_p_m_t_s_leq_w_180132 = slt64(i_p_m_t_s_180130, window_sizze_153599);
                bool zzero_lte_i_180133 = sle64((int64_t) 0, index_concat_branch_181676);
                bool i_lte_j_180134 = sle64(index_concat_branch_181676, index_concat_branch_181664);
                bool y_180135 = i_p_m_t_s_leq_w_180132 && zzero_lte_i_180133;
                bool y_180136 = zzero_leq_i_p_m_t_s_180131 && y_180135;
                bool forwards_ok_180137 = i_lte_j_180134 && y_180136;
                bool ok_or_empty_180138 = empty_slice_180128 || forwards_ok_180137;
                bool index_certs_180139;
                
                if (!ok_or_empty_180138) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_181676, ":", (long long) index_concat_branch_181664, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:230:71-86\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_180140 = slt64(index_concat_branch_181664, index_concat_branch_181676);
                bool valid_180141 = !bounds_invalid_upwards_180140;
                bool range_valid_c_180142;
                
                if (!valid_180141) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_181676, "..<", (long long) index_concat_branch_181664, " is invalid.", "-> #0  ftsort.fut:230:52-69\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_184358 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104;
                int64_t bytes_184360 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104;
                bool cond_180151 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, (int64_t) 1);
                int64_t zs_lhs_180152 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, (int64_t) 1);
                int64_t zp_rhs_180153 = sdiv_safe64(zs_lhs_180152, (int64_t) 20);
                int64_t min_num_blocks_180154 = add64((int64_t) 1, zp_rhs_180153);
                bool loop_cond_180155 = slt64((int64_t) 1, min_num_blocks_180154);
                bool smallest_pow_2_geq_than_res_180156;
                int64_t smallest_pow_2_geq_than_res_180157;
                bool loop_while_180158;
                int64_t x_180159;
                
                loop_while_180158 = loop_cond_180155;
                x_180159 = (int64_t) 1;
                while (loop_while_180158) {
                    int64_t loopres_180160 = mul64((int64_t) 2, x_180159);
                    bool loop_cond_180161 = slt64(loopres_180160, min_num_blocks_180154);
                    bool loop_while_tmp_185847 = loop_cond_180161;
                    int64_t x_tmp_185848 = loopres_180160;
                    
                    loop_while_180158 = loop_while_tmp_185847;
                    x_180159 = x_tmp_185848;
                }
                smallest_pow_2_geq_than_res_180156 = loop_while_180158;
                smallest_pow_2_geq_than_res_180157 = x_180159;
                
                bool zzero_180162 = smallest_pow_2_geq_than_res_180157 == (int64_t) 0;
                bool nonzzero_180163 = !zzero_180162;
                bool protect_assert_disj_180164 = cond_180151 || nonzzero_180163;
                bool nonzzero_cert_180165;
                
                if (!protect_assert_disj_180164) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_180166 = sdiv_safe64(zs_lhs_180152, smallest_pow_2_geq_than_res_180157);
                int64_t block_sizze_180167 = add64((int64_t) 1, zp_rhs_180166);
                bool y_180174 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104);
                bool protect_assert_disj_185511 = cond_180151 || y_180174;
                bool index_certs_180175;
                
                if (!protect_assert_disj_185511) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_180201 = slt64(smallest_pow_2_geq_than_res_180157, (int64_t) 0);
                bool valid_180202 = !bounds_invalid_upwards_180201;
                bool protect_assert_disj_185521 = cond_180151 || valid_180202;
                bool range_valid_c_180203;
                
                if (!protect_assert_disj_185521) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_180157, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_180205 = slt64(block_sizze_180167, (int64_t) 0);
                bool valid_180206 = !bounds_invalid_upwards_180205;
                bool protect_assert_disj_185523 = cond_180151 || valid_180206;
                bool range_valid_c_180207;
                
                if (!protect_assert_disj_185523) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_180167, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_180209 = sle64(block_sizze_180167, (int64_t) 1);
                int64_t tmp_180210 = sub64(block_sizze_180167, (int64_t) 2);
                bool bounds_invalid_upwards_180211 = slt64(tmp_180210, (int64_t) 0);
                bool valid_180213 = !bounds_invalid_upwards_180211;
                bool protect_assert_disj_180214 = cond_180209 || valid_180213;
                bool protect_assert_disj_185525 = cond_180151 || protect_assert_disj_180214;
                bool range_valid_c_180215;
                
                if (!protect_assert_disj_185525) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_180210, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_180776 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104;
                bool empty_or_match_cert_180777;
                
                if (!dim_match_180776) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107, "](i8, i64, f32)`.", "-> #0  ftsort.fut:231:22-237:50\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_180778 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107 == (int64_t) 0;
                int64_t m_180779 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_180780 = sle64((int64_t) 0, m_180779);
                bool i_p_m_t_s_leq_w_180781 = slt64(m_180779, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107);
                bool y_180782 = zzero_leq_i_p_m_t_s_180780 && i_p_m_t_s_leq_w_180781;
                bool ok_or_empty_180783 = empty_slice_180778 || y_180782;
                bool index_certs_180784;
                
                if (!ok_or_empty_180783) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107, "].", "-> #0  ftsort.fut:238:59-89\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_180785 = add64(ind_bottom_180105, m_180779);
                bool zzero_leq_i_p_m_t_s_180786 = sle64((int64_t) 0, i_p_m_t_s_180785);
                bool i_p_m_t_s_leq_w_180787 = slt64(i_p_m_t_s_180785, window_sizze_153599);
                bool zzero_lte_i_180788 = sle64((int64_t) 0, ind_bottom_180105);
                bool i_lte_j_180789 = sle64(ind_bottom_180105, ind_top_180106);
                bool y_180790 = i_p_m_t_s_leq_w_180787 && zzero_lte_i_180788;
                bool y_180791 = zzero_leq_i_p_m_t_s_180786 && y_180790;
                bool forwards_ok_180792 = i_lte_j_180789 && y_180791;
                bool ok_or_empty_180793 = empty_slice_180778 || forwards_ok_180792;
                bool index_certs_180794;
                
                if (!ok_or_empty_180793) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_180105, ":", (long long) ind_top_180106, "] out of bounds for array of shape [", (long long) window_sizze_153599, "].", "-> #0  ftsort.fut:238:27-89\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_181658 = p_178824 + index_concat_branch_181682;
                
                if (memblock_alloc(ctx, &mem_184357, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "mem_184357")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_185849 = 0; nest_i_185849 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103; nest_i_185849++) {
                    ((int8_t *) mem_184357.mem)[nest_i_185849] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_184359, bytes_184358, "mem_184359")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_185850 = 0; i_185850 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103; i_185850++) {
                    int64_t x_185851 = index_concat_branch_181682 + i_185850 * (int64_t) 1;
                    
                    ((int64_t *) mem_184359.mem)[i_185850] = x_185851;
                }
                
                int64_t slice_181657 = p_178825 + index_concat_branch_181676;
                
                for (int64_t nest_i_185852 = 0; nest_i_185852 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102; nest_i_185852++) {
                    ((int8_t *) mem_184357.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103 + nest_i_185852] = (int8_t) 1;
                }
                for (int64_t i_185853 = 0; i_185853 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102; i_185853++) {
                    int64_t x_185854 = index_concat_branch_181676 + i_185853 * (int64_t) 1;
                    
                    ((int64_t *) mem_184359.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103 + i_185853] = x_185854;
                }
                
                int64_t tmp_offs_185855 = (int64_t) 0;
                
                if (!(tmp_offs_185855 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184357.mem, tmp_offs_185855, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184357.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103});
                }
                tmp_offs_185855 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103;
                if (!(tmp_offs_185855 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184357.mem, tmp_offs_185855, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184357.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102});
                }
                tmp_offs_185855 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102;
                
                int64_t tmp_offs_185856 = (int64_t) 0;
                
                if (!(tmp_offs_185856 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184359.mem, tmp_offs_185856, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184359.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103});
                }
                tmp_offs_185856 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103;
                if (!(tmp_offs_185856 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184359.mem, tmp_offs_185856, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184359.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102});
                }
                tmp_offs_185856 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102;
                if (memblock_alloc(ctx, &mem_184361, bytes_184360, "mem_184361")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_185857 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_184361.mem, tmp_offs_185857, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_184305.mem, slice_181658, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103});
                tmp_offs_185857 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_184361.mem, tmp_offs_185857, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_184306.mem, slice_181657, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102});
                tmp_offs_185857 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102;
                
                int64_t flat_dim_180168 = smallest_pow_2_geq_than_res_180157 * block_sizze_180167;
                bool x_185506 = !cond_180151;
                int64_t greatest_divisor_leq_than_arg1_180172 = mul64((int64_t) 2, block_sizze_180167);
                int64_t merge_block_sizze_180173;
                
                if (x_185506) {
                    int64_t x_185508;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_185508, (int64_t) 8, greatest_divisor_leq_than_arg1_180172) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_180173 = x_185508;
                } else {
                    merge_block_sizze_180173 = (int64_t) 0;
                }
                
                bool index_concat_cmp_181652 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, (int64_t) 0);
                int8_t index_concat_branch_181656 = btoi_bool_i8(index_concat_cmp_181652);
                int64_t index_concat_i_183477 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                int64_t index_primexp_183478 = add64(index_concat_branch_181676, index_concat_i_183477);
                int64_t index_concat_branch_181650;
                
                if (index_concat_cmp_181652) {
                    index_concat_branch_181650 = index_primexp_183478;
                } else {
                    index_concat_branch_181650 = index_concat_branch_181682;
                }
                
                bool x_185502 = !index_concat_cmp_181652;
                bool protect_cond_conj_185512 = x_185502 && x_185506;
                float index_concat_181643;
                
                if (protect_cond_conj_185512) {
                    float x_185504 = ((float *) a_list_mem_184305.mem)[slice_181658];
                    
                    index_concat_181643 = x_185504;
                } else {
                    index_concat_181643 = 0.0F;
                }
                
                int64_t slice_183480 = slice_181657 + index_concat_i_183477;
                bool protect_cond_conj_185513 = index_concat_cmp_181652 && x_185506;
                float index_concat_183481;
                
                if (protect_cond_conj_185513) {
                    float x_185500 = ((float *) b_list_mem_184306.mem)[slice_183480];
                    
                    index_concat_183481 = x_185500;
                } else {
                    index_concat_183481 = 0.0F;
                }
                
                float index_concat_branch_181644;
                
                if (index_concat_cmp_181652) {
                    index_concat_branch_181644 = index_concat_183481;
                } else {
                    index_concat_branch_181644 = index_concat_181643;
                }
                
                int8_t defunc_0_reduce_res_183712;
                int64_t defunc_0_reduce_res_183713;
                float defunc_0_reduce_res_183714;
                
                if (x_185506) {
                    int8_t x_185514;
                    int64_t x_185515;
                    float x_185516;
                    int8_t redout_184058;
                    int64_t redout_184059;
                    float redout_184060;
                    
                    redout_184058 = index_concat_branch_181656;
                    redout_184059 = index_concat_branch_181650;
                    redout_184060 = index_concat_branch_181644;
                    for (int64_t i_184061 = 0; i_184061 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104; i_184061++) {
                        bool index_concat_cmp_184265 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, i_184061);
                        int8_t index_concat_branch_184269 = btoi_bool_i8(index_concat_cmp_184265);
                        int64_t index_concat_branch_184263;
                        
                        if (index_concat_cmp_184265) {
                            int64_t index_concat_i_184260 = sub64(i_184061, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                            int64_t index_primexp_184287 = add64(index_concat_branch_181676, index_concat_i_184260);
                            
                            index_concat_branch_184263 = index_primexp_184287;
                        } else {
                            int64_t index_primexp_184289 = add64(index_concat_branch_181682, i_184061);
                            
                            index_concat_branch_184263 = index_primexp_184289;
                        }
                        
                        float index_concat_branch_184257;
                        
                        if (index_concat_cmp_184265) {
                            int64_t index_concat_i_184254 = sub64(i_184061, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                            int64_t slice_184284 = slice_181657 + index_concat_i_184254;
                            float index_concat_184255 = ((float *) b_list_mem_184306.mem)[slice_184284];
                            
                            index_concat_branch_184257 = index_concat_184255;
                        } else {
                            int64_t slice_184285 = slice_181658 + i_184061;
                            float index_concat_184256 = ((float *) a_list_mem_184305.mem)[slice_184285];
                            
                            index_concat_branch_184257 = index_concat_184256;
                        }
                        
                        bool eq_x_y_184300 = redout_184058 == (int8_t) 1;
                        bool eq_x_zz_184301 = redout_184058 == (int8_t) 0;
                        bool p_and_eq_x_y_184302 = index_concat_cmp_184265 && eq_x_y_184300;
                        bool not_p_184303 = !index_concat_cmp_184265;
                        bool p_and_eq_x_y_184304 = eq_x_zz_184301 && not_p_184303;
                        bool cond_180191 = p_and_eq_x_y_184302 || p_and_eq_x_y_184304;
                        bool defunc_0_leq_res_t_res_180192 = sle64(redout_184059, index_concat_branch_184263);
                        bool defunc_0_leq_res_180193 = redout_184060 <= index_concat_branch_184257;
                        bool x_180194 = cond_180191 && defunc_0_leq_res_t_res_180192;
                        bool x_180195 = !cond_180191;
                        bool y_180196 = defunc_0_leq_res_180193 && x_180195;
                        bool defunc_0_leq_res_180197 = x_180194 || y_180196;
                        int8_t defunc_0_op_res_180198;
                        
                        if (defunc_0_leq_res_180197) {
                            defunc_0_op_res_180198 = index_concat_branch_184269;
                        } else {
                            defunc_0_op_res_180198 = redout_184058;
                        }
                        
                        int64_t defunc_0_op_res_180199;
                        
                        if (defunc_0_leq_res_180197) {
                            defunc_0_op_res_180199 = index_concat_branch_184263;
                        } else {
                            defunc_0_op_res_180199 = redout_184059;
                        }
                        
                        float defunc_0_op_res_180200;
                        
                        if (defunc_0_leq_res_180197) {
                            defunc_0_op_res_180200 = index_concat_branch_184257;
                        } else {
                            defunc_0_op_res_180200 = redout_184060;
                        }
                        
                        int8_t redout_tmp_185858 = defunc_0_op_res_180198;
                        int64_t redout_tmp_185859 = defunc_0_op_res_180199;
                        float redout_tmp_185860 = defunc_0_op_res_180200;
                        
                        redout_184058 = redout_tmp_185858;
                        redout_184059 = redout_tmp_185859;
                        redout_184060 = redout_tmp_185860;
                    }
                    x_185514 = redout_184058;
                    x_185515 = redout_184059;
                    x_185516 = redout_184060;
                    defunc_0_reduce_res_183712 = x_185514;
                    defunc_0_reduce_res_183713 = x_185515;
                    defunc_0_reduce_res_183714 = x_185516;
                } else {
                    defunc_0_reduce_res_183712 = (int8_t) 0;
                    defunc_0_reduce_res_183713 = (int64_t) 0;
                    defunc_0_reduce_res_183714 = 0.0F;
                }
                
                int64_t distance_180212 = add64((int64_t) 1, tmp_180210);
                int64_t binop_x_184364 = (int64_t) 8 * smallest_pow_2_geq_than_res_180157;
                int64_t bytes_184365 = block_sizze_180167 * binop_x_184364;
                int64_t binop_x_184367 = (int64_t) 4 * smallest_pow_2_geq_than_res_180157;
                int64_t bytes_184368 = block_sizze_180167 * binop_x_184367;
                int64_t bytes_184383 = (int64_t) 8 * block_sizze_180167;
                int64_t bytes_184385 = (int64_t) 4 * block_sizze_180167;
                bool loop_cond_180321 = slt64(block_sizze_180167, flat_dim_180168);
                bool zzero_180322 = merge_block_sizze_180173 == (int64_t) 0;
                bool nonzzero_180323 = !zzero_180322;
                
                if (cond_180151) {
                    if (memblock_set(ctx, &ext_mem_184656, &mem_184357, "mem_184357") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184653, &mem_184359, "mem_184359") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184650, &mem_184361, "mem_184361") != 0)
                        return 1;
                } else {
                    if (mem_184363_cached_sizze_186103 < flat_dim_180168) {
                        err = lexical_realloc(ctx, &mem_184363, &mem_184363_cached_sizze_186103, flat_dim_180168);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184366_cached_sizze_186104 < bytes_184365) {
                        err = lexical_realloc(ctx, &mem_184366, &mem_184366_cached_sizze_186104, bytes_184365);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184369_cached_sizze_186105 < bytes_184368) {
                        err = lexical_realloc(ctx, &mem_184369, &mem_184369_cached_sizze_186105, bytes_184368);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184382_cached_sizze_186106 < block_sizze_180167) {
                        err = lexical_realloc(ctx, &mem_184382, &mem_184382_cached_sizze_186106, block_sizze_180167);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184384_cached_sizze_186107 < bytes_184383) {
                        err = lexical_realloc(ctx, &mem_184384, &mem_184384_cached_sizze_186107, bytes_184383);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184386_cached_sizze_186108 < bytes_184385) {
                        err = lexical_realloc(ctx, &mem_184386, &mem_184386_cached_sizze_186108, bytes_184385);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_184078 = 0; i_184078 < smallest_pow_2_geq_than_res_180157; i_184078++) {
                        int64_t zp_lhs_180220 = mul64(block_sizze_180167, i_184078);
                        
                        for (int64_t i_184068 = 0; i_184068 < block_sizze_180167; i_184068++) {
                            int64_t k_180225 = add64(zp_lhs_180220, i_184068);
                            bool cond_180226 = slt64(k_180225, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104);
                            int8_t lifted_lambda_res_180227;
                            int64_t lifted_lambda_res_180228;
                            float lifted_lambda_res_180229;
                            
                            if (cond_180226) {
                                bool x_183487 = sle64((int64_t) 0, k_180225);
                                bool bounds_check_183488 = cond_180226 && x_183487;
                                bool index_certs_183489;
                                
                                if (!bounds_check_183488) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_180225, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_183490 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, k_180225);
                                int8_t index_concat_branch_183491 = btoi_bool_i8(index_concat_cmp_183490);
                                int64_t index_concat_branch_183492;
                                
                                if (index_concat_cmp_183490) {
                                    int64_t index_concat_i_183493 = sub64(k_180225, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                                    int64_t index_primexp_183494 = add64(index_concat_branch_181676, index_concat_i_183493);
                                    
                                    index_concat_branch_183492 = index_primexp_183494;
                                } else {
                                    int64_t index_primexp_183495 = add64(k_180225, index_concat_branch_181682);
                                    
                                    index_concat_branch_183492 = index_primexp_183495;
                                }
                                
                                float index_concat_branch_183496;
                                
                                if (index_concat_cmp_183490) {
                                    int64_t index_concat_i_183497 = sub64(k_180225, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                                    int64_t slice_183498 = slice_181657 + index_concat_i_183497;
                                    float index_concat_183499 = ((float *) b_list_mem_184306.mem)[slice_183498];
                                    
                                    index_concat_branch_183496 = index_concat_183499;
                                } else {
                                    int64_t slice_183500 = k_180225 + slice_181658;
                                    float index_concat_183501 = ((float *) a_list_mem_184305.mem)[slice_183500];
                                    
                                    index_concat_branch_183496 = index_concat_183501;
                                }
                                lifted_lambda_res_180227 = index_concat_branch_183491;
                                lifted_lambda_res_180228 = index_concat_branch_183492;
                                lifted_lambda_res_180229 = index_concat_branch_183496;
                            } else {
                                lifted_lambda_res_180227 = defunc_0_reduce_res_183712;
                                lifted_lambda_res_180228 = defunc_0_reduce_res_183713;
                                lifted_lambda_res_180229 = defunc_0_reduce_res_183714;
                            }
                            ((int8_t *) mem_184382)[i_184068] = lifted_lambda_res_180227;
                            ((int64_t *) mem_184384)[i_184068] = lifted_lambda_res_180228;
                            ((float *) mem_184386)[i_184068] = lifted_lambda_res_180229;
                        }
                        if (!cond_180209) {
                            for (int64_t i_180242 = 0; i_180242 < distance_180212; i_180242++) {
                                int64_t gt_arg1_180246 = add64((int64_t) 1, i_180242);
                                bool x_180247 = sle64((int64_t) 0, gt_arg1_180246);
                                bool y_180248 = slt64(gt_arg1_180246, block_sizze_180167);
                                bool bounds_check_180249 = x_180247 && y_180248;
                                bool index_certs_180250;
                                
                                if (!bounds_check_180249) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_180246, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_180254 = slt64(i_180242, block_sizze_180167);
                                bool index_certs_180255;
                                
                                if (!y_180254) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180242, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_180251 = ((int8_t *) mem_184382)[gt_arg1_180246];
                                int64_t gt_arg1_180252 = ((int64_t *) mem_184384)[gt_arg1_180246];
                                float gt_arg1_180253 = ((float *) mem_184386)[gt_arg1_180246];
                                int8_t gt_arg0_180256 = ((int8_t *) mem_184382)[i_180242];
                                int64_t gt_arg0_180257 = ((int64_t *) mem_184384)[i_180242];
                                float gt_arg0_180258 = ((float *) mem_184386)[i_180242];
                                bool cond_180259 = gt_arg0_180256 == gt_arg1_180251;
                                bool defunc_0_leq_res_t_res_180260 = sle64(gt_arg0_180257, gt_arg1_180252);
                                bool defunc_0_leq_res_180261 = gt_arg0_180258 <= gt_arg1_180253;
                                bool x_180262 = cond_180259 && defunc_0_leq_res_t_res_180260;
                                bool x_180263 = !cond_180259;
                                bool y_180264 = defunc_0_leq_res_180261 && x_180263;
                                bool defunc_0_leq_res_180265 = x_180262 || y_180264;
                                bool defunc_0_lifted_gt_res_180266 = !defunc_0_leq_res_180265;
                                bool s_180267;
                                int64_t s_180271;
                                bool loop_while_180272;
                                int64_t j_180276;
                                
                                loop_while_180272 = defunc_0_lifted_gt_res_180266;
                                j_180276 = i_180242;
                                while (loop_while_180272) {
                                    bool x_180277 = sle64((int64_t) 0, j_180276);
                                    bool y_180278 = slt64(j_180276, block_sizze_180167);
                                    bool bounds_check_180279 = x_180277 && y_180278;
                                    bool index_certs_180280;
                                    
                                    if (!bounds_check_180279) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180276, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_180284 = add64((int64_t) 1, j_180276);
                                    bool x_180285 = sle64((int64_t) 0, copy_arg0_180284);
                                    bool y_180286 = slt64(copy_arg0_180284, block_sizze_180167);
                                    bool bounds_check_180287 = x_180285 && y_180286;
                                    bool index_certs_180288;
                                    
                                    if (!bounds_check_180287) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_180284, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_180281 = ((int8_t *) mem_184382)[j_180276];
                                    int64_t copy_arg0_180282 = ((int64_t *) mem_184384)[j_180276];
                                    float copy_arg0_180283 = ((float *) mem_184386)[j_180276];
                                    int8_t copy_arg0_180289 = ((int8_t *) mem_184382)[copy_arg0_180284];
                                    int64_t copy_arg0_180290 = ((int64_t *) mem_184384)[copy_arg0_180284];
                                    float copy_arg0_180291 = ((float *) mem_184386)[copy_arg0_180284];
                                    
                                    ((int8_t *) mem_184382)[j_180276] = copy_arg0_180289;
                                    ((int64_t *) mem_184384)[j_180276] = copy_arg0_180290;
                                    ((float *) mem_184386)[j_180276] = copy_arg0_180291;
                                    ((int8_t *) mem_184382)[copy_arg0_180284] = copy_arg0_180281;
                                    ((int64_t *) mem_184384)[copy_arg0_180284] = copy_arg0_180282;
                                    ((float *) mem_184386)[copy_arg0_180284] = copy_arg0_180283;
                                    
                                    int64_t tmp_180298 = sub64(j_180276, (int64_t) 1);
                                    bool cond_180299 = sle64((int64_t) 0, tmp_180298);
                                    bool loop_cond_180300;
                                    
                                    if (cond_180299) {
                                        bool y_183505 = slt64(tmp_180298, block_sizze_180167);
                                        bool bounds_check_183506 = cond_180299 && y_183505;
                                        bool index_certs_183507;
                                        
                                        if (!bounds_check_183506) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180298, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_183502 = ((int8_t *) mem_184382)[j_180276];
                                        int64_t gt_arg1_183503 = ((int64_t *) mem_184384)[j_180276];
                                        float gt_arg1_183504 = ((float *) mem_184386)[j_180276];
                                        int8_t gt_arg0_183508 = ((int8_t *) mem_184382)[tmp_180298];
                                        int64_t gt_arg0_183509 = ((int64_t *) mem_184384)[tmp_180298];
                                        float gt_arg0_183510 = ((float *) mem_184386)[tmp_180298];
                                        bool cond_183511 = gt_arg0_183508 == gt_arg1_183502;
                                        bool defunc_0_leq_res_t_res_183512 = sle64(gt_arg0_183509, gt_arg1_183503);
                                        bool defunc_0_leq_res_183513 = gt_arg0_183510 <= gt_arg1_183504;
                                        bool x_183514 = cond_183511 && defunc_0_leq_res_t_res_183512;
                                        bool x_183515 = !cond_183511;
                                        bool y_183516 = defunc_0_leq_res_183513 && x_183515;
                                        bool defunc_0_leq_res_183517 = x_183514 || y_183516;
                                        bool defunc_0_lifted_gt_res_183518 = !defunc_0_leq_res_183517;
                                        
                                        loop_cond_180300 = defunc_0_lifted_gt_res_183518;
                                    } else {
                                        loop_cond_180300 = 0;
                                    }
                                    
                                    bool loop_while_tmp_185870 = loop_cond_180300;
                                    int64_t j_tmp_185874 = tmp_180298;
                                    
                                    loop_while_180272 = loop_while_tmp_185870;
                                    j_180276 = j_tmp_185874;
                                }
                                s_180267 = loop_while_180272;
                                s_180271 = j_180276;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_184363, i_184078 * block_sizze_180167, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184382, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180167});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184366, i_184078 * block_sizze_180167, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184384, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180167});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_184369, i_184078 * block_sizze_180167, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_184386, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180167});
                    }
                    if (memblock_alloc(ctx, &mem_184463, flat_dim_180168, "mem_184463")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_184463.mem, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (uint8_t *) mem_184363, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180157, block_sizze_180167});
                    if (memblock_alloc(ctx, &mem_184467, bytes_184365, "mem_184467")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_184467.mem, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (uint64_t *) mem_184366, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180157, block_sizze_180167});
                    if (memblock_alloc(ctx, &mem_184471, bytes_184368, "mem_184471")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_184471.mem, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (uint32_t *) mem_184369, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180157, block_sizze_180167});
                    
                    int64_t data_180324;
                    bool data_180325;
                    int64_t data_180329;
                    int64_t loop_dz2084Uz2082U_180330;
                    bool loop_while_180331;
                    int64_t stride_180335;
                    
                    if (memblock_set(ctx, &mem_param_184475, &mem_184463, "mem_184463") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_184478, &mem_184467, "mem_184467") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_184481, &mem_184471, "mem_184471") != 0)
                        return 1;
                    loop_dz2084Uz2082U_180330 = flat_dim_180168;
                    loop_while_180331 = loop_cond_180321;
                    stride_180335 = block_sizze_180167;
                    while (loop_while_180331) {
                        int64_t next_stride_180336 = mul64((int64_t) 2, stride_180335);
                        bool zzero_180337 = next_stride_180336 == (int64_t) 0;
                        bool nonzzero_180338 = !zzero_180337;
                        bool nonzzero_cert_180339;
                        
                        if (!nonzzero_180338) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_180340 = sdiv64(flat_dim_180168, next_stride_180336);
                        bool bounds_invalid_upwards_180341 = slt64(num_merges_180340, (int64_t) 0);
                        bool valid_180342 = !bounds_invalid_upwards_180341;
                        bool range_valid_c_180343;
                        
                        if (!valid_180342) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_180340, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_180345 = sub64(next_stride_180336, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_180346 = sle64((int64_t) 0, m_180345);
                        bool cond_180348 = slt64(next_stride_180336, (int64_t) 10);
                        bool protect_assert_disj_180349 = nonzzero_180323 || cond_180348;
                        bool nonzzero_cert_180350;
                        
                        if (!protect_assert_disj_180349) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_180351 = smod_safe64(next_stride_180336, merge_block_sizze_180173);
                        bool num_blocks_180352 = zeze_lhs_180351 == (int64_t) 0;
                        bool protect_assert_disj_180353 = cond_180348 || num_blocks_180352;
                        bool assert_c_180354;
                        
                        if (!protect_assert_disj_180353) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_180356 = sdiv_safe64(next_stride_180336, merge_block_sizze_180173);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357 = add64((int64_t) 1, num_blocks_180356);
                        int64_t j_m_i_180358 = sub64(next_stride_180336, stride_180335);
                        int64_t flat_dim_180359 = merge_block_sizze_180173 * num_blocks_180356;
                        bool bounds_invalid_upwards_180360 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357, (int64_t) 0);
                        bool empty_slice_180361 = j_m_i_180358 == (int64_t) 0;
                        int64_t m_180362 = sub64(j_m_i_180358, (int64_t) 1);
                        bool zzero_lte_i_180363 = sle64((int64_t) 0, stride_180335);
                        bool i_lte_j_180364 = sle64(stride_180335, next_stride_180336);
                        bool empty_slice_180365 = stride_180335 == (int64_t) 0;
                        int64_t m_180366 = sub64(stride_180335, (int64_t) 1);
                        bool bounds_invalid_upwards_180367 = slt64(num_blocks_180356, (int64_t) 0);
                        bool cond_180368 = slt64((int64_t) 0, stride_180335);
                        bool valid_180369 = !bounds_invalid_upwards_180360;
                        int64_t i_p_m_t_s_180370 = add64(stride_180335, m_180362);
                        bool zzero_leq_i_p_m_t_s_180371 = sle64((int64_t) 0, m_180366);
                        bool i_p_m_t_s_leq_w_180372 = slt64(m_180366, next_stride_180336);
                        bool valid_180373 = !bounds_invalid_upwards_180367;
                        bool i_p_m_t_s_leq_w_180374 = slt64(m_180345, flat_dim_180359);
                        bool y_180375 = slt64((int64_t) 0, j_m_i_180358);
                        bool protect_assert_disj_180376 = cond_180348 || valid_180369;
                        bool range_valid_c_180377;
                        
                        if (!protect_assert_disj_180376) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:384:63-73\n   #9  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_180378 = sle64((int64_t) 0, i_p_m_t_s_180370);
                        bool i_p_m_t_s_leq_w_180379 = slt64(i_p_m_t_s_180370, next_stride_180336);
                        bool y_180380 = zzero_leq_i_p_m_t_s_180371 && i_p_m_t_s_leq_w_180372;
                        bool protect_assert_disj_180381 = cond_180348 || valid_180373;
                        bool range_valid_c_180382;
                        
                        if (!protect_assert_disj_180381) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_180356, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_180383 = zzero_leq_i_p_m_t_s_180346 && i_p_m_t_s_leq_w_180374;
                        bool y_180384 = zzero_lte_i_180363 && i_p_m_t_s_leq_w_180379;
                        bool forwards_ok_180385 = zzero_lte_i_180363 && y_180380;
                        bool ok_or_empty_180386 = zzero_180337 || y_180383;
                        bool protect_assert_disj_180387 = cond_180368 || y_180375;
                        bool y_180388 = zzero_leq_i_p_m_t_s_180378 && y_180384;
                        bool ok_or_empty_180389 = empty_slice_180365 || forwards_ok_180385;
                        bool protect_assert_disj_180390 = cond_180348 || ok_or_empty_180386;
                        bool index_certs_180391;
                        
                        if (!protect_assert_disj_180390) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_180336, "] out of bounds for array of shape [", (long long) flat_dim_180359, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_180392 = !cond_180348;
                        bool protect_assert_disj_180393 = protect_assert_disj_180387 || loop_not_taken_180392;
                        bool index_certs_180394;
                        
                        if (!protect_assert_disj_180393) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:384:63-73\n   #9  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_180395 = i_lte_j_180364 && y_180388;
                        bool protect_assert_disj_180396 = cond_180348 || ok_or_empty_180389;
                        bool index_certs_180397;
                        
                        if (!protect_assert_disj_180396) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_180335, "] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:384:63-73\n   #10 ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_180398 = ok_or_empty_180389 || loop_not_taken_180392;
                        bool index_certs_180399;
                        
                        if (!protect_assert_disj_180398) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_180335, "] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_180400 = empty_slice_180361 || forwards_ok_180395;
                        bool protect_assert_disj_180401 = cond_180348 || ok_or_empty_180400;
                        bool index_certs_180402;
                        
                        if (!protect_assert_disj_180401) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_180335, ":] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:384:63-73\n   #10 ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_180403 = loop_not_taken_180392 || ok_or_empty_180400;
                        bool index_certs_180404;
                        
                        if (!protect_assert_disj_180403) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_180335, ":] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_184482 = next_stride_180336 * num_merges_180340;
                        int64_t binop_x_184484 = (int64_t) 8 * num_merges_180340;
                        int64_t bytes_184485 = next_stride_180336 * binop_x_184484;
                        int64_t binop_x_184487 = (int64_t) 4 * num_merges_180340;
                        int64_t bytes_184488 = next_stride_180336 * binop_x_184487;
                        bool i_lte_j_180347 = sle64((int64_t) 0, next_stride_180336);
                        
                        if (mem_184483_cached_sizze_186109 < bytes_184482) {
                            err = lexical_realloc(ctx, &mem_184483, &mem_184483_cached_sizze_186109, bytes_184482);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_184486_cached_sizze_186110 < bytes_184485) {
                            err = lexical_realloc(ctx, &mem_184486, &mem_184486_cached_sizze_186110, bytes_184485);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_184489_cached_sizze_186111 < bytes_184488) {
                            err = lexical_realloc(ctx, &mem_184489, &mem_184489_cached_sizze_186111, bytes_184488);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_184502 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357;
                        int64_t binop_x_184520 = (int64_t) 8 * num_blocks_180356;
                        int64_t bytes_184521 = merge_block_sizze_180173 * binop_x_184520;
                        int64_t binop_x_184523 = (int64_t) 4 * num_blocks_180356;
                        int64_t bytes_184524 = merge_block_sizze_180173 * binop_x_184523;
                        int64_t bytes_184585 = (int64_t) 16 * stride_180335;
                        int64_t bytes_184587 = (int64_t) 8 * stride_180335;
                        
                        for (int64_t i_184105 = 0; i_184105 < num_merges_180340; i_184105++) {
                            int64_t start_180409 = mul64(next_stride_180336, i_184105);
                            int64_t j_m_i_180410 = sub64(loop_dz2084Uz2082U_180330, start_180409);
                            bool empty_slice_180411 = j_m_i_180410 == (int64_t) 0;
                            int64_t m_180412 = sub64(j_m_i_180410, (int64_t) 1);
                            int64_t i_p_m_t_s_180413 = add64(start_180409, m_180412);
                            bool zzero_leq_i_p_m_t_s_180414 = sle64((int64_t) 0, i_p_m_t_s_180413);
                            bool i_p_m_t_s_leq_w_180415 = slt64(i_p_m_t_s_180413, loop_dz2084Uz2082U_180330);
                            bool zzero_lte_i_180416 = sle64((int64_t) 0, start_180409);
                            bool i_lte_j_180417 = sle64(start_180409, loop_dz2084Uz2082U_180330);
                            bool y_180418 = i_p_m_t_s_leq_w_180415 && zzero_lte_i_180416;
                            bool y_180419 = zzero_leq_i_p_m_t_s_180414 && y_180418;
                            bool forwards_ok_180420 = i_lte_j_180417 && y_180419;
                            bool ok_or_empty_180421 = empty_slice_180411 || forwards_ok_180420;
                            bool index_certs_180422;
                            
                            if (!ok_or_empty_180421) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_180409, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_180330, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_180423 = slt64(m_180345, j_m_i_180410);
                            bool y_180424 = zzero_leq_i_p_m_t_s_180346 && i_p_m_t_s_leq_w_180423;
                            bool forwards_ok_180425 = i_lte_j_180347 && y_180424;
                            bool ok_or_empty_180426 = zzero_180337 || forwards_ok_180425;
                            bool index_certs_180427;
                            
                            if (!ok_or_empty_180426) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_180336, "] out of bounds for array of shape [", (long long) j_m_i_180410, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_180348) {
                                int8_t dummy_183557;
                                int64_t dummy_183558;
                                float dummy_183559;
                                
                                if (cond_180368) {
                                    int8_t head_res_183560 = ((int8_t *) mem_param_184475.mem)[start_180409];
                                    int64_t head_res_183561 = ((int64_t *) mem_param_184478.mem)[start_180409];
                                    float head_res_183562 = ((float *) mem_param_184481.mem)[start_180409];
                                    
                                    dummy_183557 = head_res_183560;
                                    dummy_183558 = head_res_183561;
                                    dummy_183559 = head_res_183562;
                                } else {
                                    int64_t slice_183563 = stride_180335 + start_180409;
                                    int8_t head_res_183564 = ((int8_t *) mem_param_184475.mem)[slice_183563];
                                    int64_t head_res_183565 = ((int64_t *) mem_param_184478.mem)[slice_183563];
                                    float head_res_183566 = ((float *) mem_param_184481.mem)[slice_183563];
                                    
                                    dummy_183557 = head_res_183564;
                                    dummy_183558 = head_res_183565;
                                    dummy_183559 = head_res_183566;
                                }
                                if (memblock_alloc(ctx, &mem_184584, next_stride_180336, "mem_184584")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185887 = 0; nest_i_185887 < next_stride_180336; nest_i_185887++) {
                                    ((int8_t *) mem_184584.mem)[nest_i_185887] = dummy_183557;
                                }
                                if (memblock_alloc(ctx, &mem_184586, bytes_184585, "mem_184586")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185888 = 0; nest_i_185888 < next_stride_180336; nest_i_185888++) {
                                    ((int64_t *) mem_184586.mem)[nest_i_185888] = dummy_183558;
                                }
                                if (memblock_alloc(ctx, &mem_184588, bytes_184587, "mem_184588")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185889 = 0; nest_i_185889 < next_stride_180336; nest_i_185889++) {
                                    ((float *) mem_184588.mem)[nest_i_185889] = dummy_183559;
                                }
                                
                                int64_t data_183570;
                                int64_t i_183575 = (int64_t) 0;
                                
                                for (int64_t k_183574 = 0; k_183574 < next_stride_180336; k_183574++) {
                                    int64_t j_183579 = sub64(k_183574, i_183575);
                                    bool cond_183580 = j_183579 == j_m_i_180358;
                                    bool cond_183581;
                                    
                                    if (cond_183580) {
                                        cond_183581 = 1;
                                    } else {
                                        bool cond_183582 = slt64(i_183575, stride_180335);
                                        bool cond_f_res_183583;
                                        
                                        if (cond_183582) {
                                            bool x_183584 = sle64((int64_t) 0, j_183579);
                                            bool y_183585 = slt64(j_183579, j_m_i_180358);
                                            bool bounds_check_183586 = x_183584 && y_183585;
                                            bool index_certs_183587;
                                            
                                            if (!bounds_check_183586) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183579, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_183593 = sle64((int64_t) 0, i_183575);
                                            bool bounds_check_183594 = cond_183582 && x_183593;
                                            bool index_certs_183595;
                                            
                                            if (!bounds_check_183594) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183575, "] out of bounds for array of shape [", (long long) stride_180335, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_183588 = stride_180335 + j_183579;
                                            int64_t slice_183589 = start_180409 + slice_183588;
                                            int8_t leq_arg1_183590 = ((int8_t *) mem_param_184475.mem)[slice_183589];
                                            int64_t leq_arg1_183591 = ((int64_t *) mem_param_184478.mem)[slice_183589];
                                            float leq_arg1_183592 = ((float *) mem_param_184481.mem)[slice_183589];
                                            int64_t slice_183596 = start_180409 + i_183575;
                                            int8_t leq_arg0_183597 = ((int8_t *) mem_param_184475.mem)[slice_183596];
                                            int64_t leq_arg0_183598 = ((int64_t *) mem_param_184478.mem)[slice_183596];
                                            float leq_arg0_183599 = ((float *) mem_param_184481.mem)[slice_183596];
                                            bool cond_183600 = leq_arg0_183597 == leq_arg1_183590;
                                            bool defunc_0_leq_res_t_res_183601 = sle64(leq_arg0_183598, leq_arg1_183591);
                                            bool defunc_0_leq_res_183602 = leq_arg0_183599 <= leq_arg1_183592;
                                            bool x_183603 = cond_183600 && defunc_0_leq_res_t_res_183601;
                                            bool x_183604 = !cond_183600;
                                            bool y_183605 = defunc_0_leq_res_183602 && x_183604;
                                            bool defunc_0_leq_res_183606 = x_183603 || y_183605;
                                            
                                            cond_f_res_183583 = defunc_0_leq_res_183606;
                                        } else {
                                            cond_f_res_183583 = 0;
                                        }
                                        cond_183581 = cond_f_res_183583;
                                    }
                                    
                                    int64_t loopres_183607;
                                    int8_t loopres_183608;
                                    int64_t loopres_183609;
                                    float loopres_183610;
                                    
                                    if (cond_183581) {
                                        bool x_183612 = sle64((int64_t) 0, i_183575);
                                        bool y_183613 = slt64(i_183575, stride_180335);
                                        bool bounds_check_183614 = x_183612 && y_183613;
                                        bool index_certs_183615;
                                        
                                        if (!bounds_check_183614) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183575, "] out of bounds for array of shape [", (long long) stride_180335, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_183611 = add64((int64_t) 1, i_183575);
                                        int64_t slice_183616 = start_180409 + i_183575;
                                        int8_t tmp_183617 = ((int8_t *) mem_param_184475.mem)[slice_183616];
                                        int64_t tmp_183618 = ((int64_t *) mem_param_184478.mem)[slice_183616];
                                        float tmp_183619 = ((float *) mem_param_184481.mem)[slice_183616];
                                        
                                        loopres_183607 = tmp_183611;
                                        loopres_183608 = tmp_183617;
                                        loopres_183609 = tmp_183618;
                                        loopres_183610 = tmp_183619;
                                    } else {
                                        bool x_183620 = sle64((int64_t) 0, j_183579);
                                        bool y_183621 = slt64(j_183579, j_m_i_180358);
                                        bool bounds_check_183622 = x_183620 && y_183621;
                                        bool index_certs_183623;
                                        
                                        if (!bounds_check_183622) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183579, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183624 = stride_180335 + j_183579;
                                        int64_t slice_183625 = start_180409 + slice_183624;
                                        int8_t tmp_183626 = ((int8_t *) mem_param_184475.mem)[slice_183625];
                                        int64_t tmp_183627 = ((int64_t *) mem_param_184478.mem)[slice_183625];
                                        float tmp_183628 = ((float *) mem_param_184481.mem)[slice_183625];
                                        
                                        loopres_183607 = i_183575;
                                        loopres_183608 = tmp_183626;
                                        loopres_183609 = tmp_183627;
                                        loopres_183610 = tmp_183628;
                                    }
                                    ((int8_t *) mem_184584.mem)[k_183574] = loopres_183608;
                                    ((int64_t *) mem_184586.mem)[k_183574] = loopres_183609;
                                    ((float *) mem_184588.mem)[k_183574] = loopres_183610;
                                    
                                    int64_t i_tmp_185890 = loopres_183607;
                                    
                                    i_183575 = i_tmp_185890;
                                }
                                data_183570 = i_183575;
                                if (memblock_set(ctx, &ext_mem_184615, &mem_184584, "mem_184584") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184612, &mem_184586, "mem_184586") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184609, &mem_184588, "mem_184588") != 0)
                                    return 1;
                            } else {
                                if (mem_184503_cached_sizze_186112 < bytes_184502) {
                                    err = lexical_realloc(ctx, &mem_184503, &mem_184503_cached_sizze_186112, bytes_184502);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184505_cached_sizze_186113 < bytes_184502) {
                                    err = lexical_realloc(ctx, &mem_184505, &mem_184505_cached_sizze_186113, bytes_184502);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_184086 = 0; i_184086 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357; i_184086++) {
                                    int64_t split_count_arg3_180510 = mul64(merge_block_sizze_180173, i_184086);
                                    int64_t defunc_0_split_count_res_180511;
                                    int64_t defunc_0_split_count_res_180512;
                                    int64_t defunc_0_split_count_res_180513;
                                    int64_t defunc_0_split_count_res_180514;
                                    int64_t defunc_0_split_count_res_180515;
                                    
                                    if (futrts_lifted_normalizze_9100(ctx, &defunc_0_split_count_res_180511, &defunc_0_split_count_res_180512, &defunc_0_split_count_res_180513, &defunc_0_split_count_res_180514, &defunc_0_split_count_res_180515, (int64_t) 0, stride_180335, (int64_t) 0, j_m_i_180358, split_count_arg3_180510) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_180516 = slt64((int64_t) 0, defunc_0_split_count_res_180515);
                                    bool defunc_0_split_count_res_180517;
                                    int64_t defunc_0_split_count_res_180518;
                                    int64_t defunc_0_split_count_res_180519;
                                    int64_t defunc_0_split_count_res_180520;
                                    int64_t defunc_0_split_count_res_180521;
                                    int64_t defunc_0_split_count_res_180522;
                                    bool loop_while_180523;
                                    int64_t ss_180524;
                                    int64_t ss_180525;
                                    int64_t tt_180526;
                                    int64_t tt_180527;
                                    int64_t count_180528;
                                    
                                    loop_while_180523 = loop_cond_180516;
                                    ss_180524 = defunc_0_split_count_res_180511;
                                    ss_180525 = defunc_0_split_count_res_180512;
                                    tt_180526 = defunc_0_split_count_res_180513;
                                    tt_180527 = defunc_0_split_count_res_180514;
                                    count_180528 = defunc_0_split_count_res_180515;
                                    while (loop_while_180523) {
                                        int64_t zlze_lhs_180529 = sub64(ss_180525, ss_180524);
                                        bool cond_180530 = sle64(zlze_lhs_180529, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_180531;
                                        int64_t defunc_0_lifted_step_res_180532;
                                        int64_t defunc_0_lifted_step_res_180533;
                                        int64_t defunc_0_lifted_step_res_180534;
                                        
                                        if (cond_180530) {
                                            int64_t tmp_183632 = add64(tt_180526, count_180528);
                                            
                                            defunc_0_lifted_step_res_180531 = ss_180524;
                                            defunc_0_lifted_step_res_180532 = tmp_183632;
                                            defunc_0_lifted_step_res_180533 = tt_180527;
                                            defunc_0_lifted_step_res_180534 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_180536 = sub64(tt_180527, tt_180526);
                                            bool cond_180537 = sle64(zlze_lhs_180536, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_180538;
                                            int64_t defunc_0_lifted_step_res_f_res_180539;
                                            int64_t defunc_0_lifted_step_res_f_res_180540;
                                            int64_t defunc_0_lifted_step_res_f_res_180541;
                                            
                                            if (cond_180537) {
                                                int64_t tmp_183633 = add64(ss_180524, count_180528);
                                                
                                                defunc_0_lifted_step_res_f_res_180538 = tmp_183633;
                                                defunc_0_lifted_step_res_f_res_180539 = tt_180526;
                                                defunc_0_lifted_step_res_f_res_180540 = tt_180527;
                                                defunc_0_lifted_step_res_f_res_180541 = (int64_t) 0;
                                            } else {
                                                bool cond_180543 = count_180528 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_180544;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_180545;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_180546;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_180547;
                                                
                                                if (cond_180543) {
                                                    bool x_183635 = sle64((int64_t) 0, ss_180524);
                                                    bool y_183636 = slt64(ss_180524, stride_180335);
                                                    bool bounds_check_183637 = x_183635 && y_183636;
                                                    bool index_certs_183638;
                                                    
                                                    if (!bounds_check_183637) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_180524, "] out of bounds for array of shape [", (long long) stride_180335, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:384:63-73\n   #12 ftsort.fut:377:1-384:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_183643 = sle64((int64_t) 0, tt_180526);
                                                    bool y_183644 = slt64(tt_180526, j_m_i_180358);
                                                    bool bounds_check_183645 = x_183643 && y_183644;
                                                    bool index_certs_183646;
                                                    
                                                    if (!bounds_check_183645) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_180526, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:384:63-73\n   #12 ftsort.fut:377:1-384:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_183639 = start_180409 + ss_180524;
                                                    int8_t leq_arg1_183640 = ((int8_t *) mem_param_184475.mem)[slice_183639];
                                                    int64_t leq_arg1_183641 = ((int64_t *) mem_param_184478.mem)[slice_183639];
                                                    float leq_arg1_183642 = ((float *) mem_param_184481.mem)[slice_183639];
                                                    int64_t slice_183647 = stride_180335 + tt_180526;
                                                    int64_t slice_183648 = start_180409 + slice_183647;
                                                    int8_t leq_arg0_183649 = ((int8_t *) mem_param_184475.mem)[slice_183648];
                                                    int64_t leq_arg0_183650 = ((int64_t *) mem_param_184478.mem)[slice_183648];
                                                    float leq_arg0_183651 = ((float *) mem_param_184481.mem)[slice_183648];
                                                    bool cond_183652 = leq_arg0_183649 == leq_arg1_183640;
                                                    bool defunc_0_leq_res_t_res_183653 = sle64(leq_arg0_183650, leq_arg1_183641);
                                                    bool defunc_0_leq_res_183654 = leq_arg0_183651 <= leq_arg1_183642;
                                                    bool x_183655 = cond_183652 && defunc_0_leq_res_t_res_183653;
                                                    bool x_183656 = !cond_183652;
                                                    bool y_183657 = defunc_0_leq_res_183654 && x_183656;
                                                    bool defunc_0_leq_res_183658 = x_183655 || y_183657;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183659;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183660;
                                                    
                                                    if (defunc_0_leq_res_183658) {
                                                        int64_t tmp_183661 = add64((int64_t) 1, tt_180526);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183659 = ss_180524;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183660 = tmp_183661;
                                                    } else {
                                                        int64_t tmp_183662 = add64((int64_t) 1, ss_180524);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183659 = tmp_183662;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183660 = tt_180526;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_180544 = defunc_0_lifted_step_res_f_res_f_res_t_res_183659;
                                                    defunc_0_lifted_step_res_f_res_f_res_180545 = defunc_0_lifted_step_res_f_res_f_res_t_res_183660;
                                                    defunc_0_lifted_step_res_f_res_f_res_180546 = tt_180527;
                                                    defunc_0_lifted_step_res_f_res_f_res_180547 = (int64_t) 0;
                                                } else {
                                                    int64_t m_180576 = sdiv64(count_180528, (int64_t) 2);
                                                    int64_t n_180577 = sub64(count_180528, m_180576);
                                                    bool cond_180578 = n_180577 == (int64_t) 0;
                                                    int64_t zgze_lhs_180579 = add64(ss_180524, m_180576);
                                                    bool cond_f_res_180580 = sle64(ss_180525, zgze_lhs_180579);
                                                    bool x_180581 = !cond_180578;
                                                    bool y_180582 = cond_f_res_180580 && x_180581;
                                                    bool cond_180583 = cond_180578 || y_180582;
                                                    bool leq_y_x_180584;
                                                    
                                                    if (cond_180583) {
                                                        leq_y_x_180584 = 1;
                                                    } else {
                                                        bool x_180585 = sle64((int64_t) 0, zgze_lhs_180579);
                                                        bool y_180586 = slt64(zgze_lhs_180579, stride_180335);
                                                        bool bounds_check_180587 = x_180585 && y_180586;
                                                        bool index_certs_180588;
                                                        
                                                        if (!bounds_check_180587) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_180579, "] out of bounds for array of shape [", (long long) stride_180335, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:384:63-73\n   #12 ftsort.fut:377:1-384:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_180593 = add64(tt_180526, n_180577);
                                                        int64_t leq_arg0_180594 = sub64(zm_lhs_180593, (int64_t) 1);
                                                        bool x_180595 = sle64((int64_t) 0, leq_arg0_180594);
                                                        bool y_180596 = slt64(leq_arg0_180594, j_m_i_180358);
                                                        bool bounds_check_180597 = x_180595 && y_180596;
                                                        bool index_certs_180598;
                                                        
                                                        if (!bounds_check_180597) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_180594, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:384:63-73\n   #12 ftsort.fut:377:1-384:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_180589 = start_180409 + zgze_lhs_180579;
                                                        int8_t leq_arg1_180590 = ((int8_t *) mem_param_184475.mem)[slice_180589];
                                                        int64_t leq_arg1_180591 = ((int64_t *) mem_param_184478.mem)[slice_180589];
                                                        float leq_arg1_180592 = ((float *) mem_param_184481.mem)[slice_180589];
                                                        int64_t slice_180599 = stride_180335 + leq_arg0_180594;
                                                        int64_t slice_180600 = start_180409 + slice_180599;
                                                        int8_t leq_arg0_180601 = ((int8_t *) mem_param_184475.mem)[slice_180600];
                                                        int64_t leq_arg0_180602 = ((int64_t *) mem_param_184478.mem)[slice_180600];
                                                        float leq_arg0_180603 = ((float *) mem_param_184481.mem)[slice_180600];
                                                        bool cond_180604 = leq_arg0_180601 == leq_arg1_180590;
                                                        bool defunc_0_leq_res_t_res_180605 = sle64(leq_arg0_180602, leq_arg1_180591);
                                                        bool defunc_0_leq_res_180606 = leq_arg0_180603 <= leq_arg1_180592;
                                                        bool x_180607 = cond_180604 && defunc_0_leq_res_t_res_180605;
                                                        bool x_180608 = !cond_180604;
                                                        bool y_180609 = defunc_0_leq_res_180606 && x_180608;
                                                        bool defunc_0_leq_res_180610 = x_180607 || y_180609;
                                                        
                                                        leq_y_x_180584 = defunc_0_leq_res_180610;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_180611;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_180612;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_180613;
                                                    
                                                    if (leq_y_x_180584) {
                                                        int64_t tmp_183663 = add64(tt_180526, n_180577);
                                                        int64_t tmp_183664 = sub64(count_180528, n_180577);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180611 = tmp_183663;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180612 = tt_180527;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180613 = tmp_183664;
                                                    } else {
                                                        int64_t tmp_180616 = add64(tt_180526, n_180577);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180611 = tt_180526;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180612 = tmp_180616;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180613 = count_180528;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_180544 = ss_180524;
                                                    defunc_0_lifted_step_res_f_res_f_res_180545 = defunc_0_lifted_step_res_f_res_f_res_f_res_180611;
                                                    defunc_0_lifted_step_res_f_res_f_res_180546 = defunc_0_lifted_step_res_f_res_f_res_f_res_180612;
                                                    defunc_0_lifted_step_res_f_res_f_res_180547 = defunc_0_lifted_step_res_f_res_f_res_f_res_180613;
                                                }
                                                defunc_0_lifted_step_res_f_res_180538 = defunc_0_lifted_step_res_f_res_f_res_180544;
                                                defunc_0_lifted_step_res_f_res_180539 = defunc_0_lifted_step_res_f_res_f_res_180545;
                                                defunc_0_lifted_step_res_f_res_180540 = defunc_0_lifted_step_res_f_res_f_res_180546;
                                                defunc_0_lifted_step_res_f_res_180541 = defunc_0_lifted_step_res_f_res_f_res_180547;
                                            }
                                            defunc_0_lifted_step_res_180531 = defunc_0_lifted_step_res_f_res_180538;
                                            defunc_0_lifted_step_res_180532 = defunc_0_lifted_step_res_f_res_180539;
                                            defunc_0_lifted_step_res_180533 = defunc_0_lifted_step_res_f_res_180540;
                                            defunc_0_lifted_step_res_180534 = defunc_0_lifted_step_res_f_res_180541;
                                        }
                                        
                                        int64_t loopres_180617;
                                        int64_t loopres_180618;
                                        int64_t loopres_180619;
                                        int64_t loopres_180620;
                                        int64_t loopres_180621;
                                        
                                        if (futrts_lifted_normalizze_9100(ctx, &loopres_180617, &loopres_180618, &loopres_180619, &loopres_180620, &loopres_180621, defunc_0_lifted_step_res_180531, ss_180525, defunc_0_lifted_step_res_180532, defunc_0_lifted_step_res_180533, defunc_0_lifted_step_res_180534) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_180622 = slt64((int64_t) 0, loopres_180621);
                                        bool loop_while_tmp_185896 = loop_cond_180622;
                                        int64_t ss_tmp_185897 = loopres_180617;
                                        int64_t ss_tmp_185898 = loopres_180618;
                                        int64_t tt_tmp_185899 = loopres_180619;
                                        int64_t tt_tmp_185900 = loopres_180620;
                                        int64_t count_tmp_185901 = loopres_180621;
                                        
                                        loop_while_180523 = loop_while_tmp_185896;
                                        ss_180524 = ss_tmp_185897;
                                        ss_180525 = ss_tmp_185898;
                                        tt_180526 = tt_tmp_185899;
                                        tt_180527 = tt_tmp_185900;
                                        count_180528 = count_tmp_185901;
                                    }
                                    defunc_0_split_count_res_180517 = loop_while_180523;
                                    defunc_0_split_count_res_180518 = ss_180524;
                                    defunc_0_split_count_res_180519 = ss_180525;
                                    defunc_0_split_count_res_180520 = tt_180526;
                                    defunc_0_split_count_res_180521 = tt_180527;
                                    defunc_0_split_count_res_180522 = count_180528;
                                    ((int64_t *) mem_184503)[i_184086] = defunc_0_split_count_res_180518;
                                    ((int64_t *) mem_184505)[i_184086] = defunc_0_split_count_res_180520;
                                }
                                if (mem_184519_cached_sizze_186114 < flat_dim_180359) {
                                    err = lexical_realloc(ctx, &mem_184519, &mem_184519_cached_sizze_186114, flat_dim_180359);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184522_cached_sizze_186115 < bytes_184521) {
                                    err = lexical_realloc(ctx, &mem_184522, &mem_184522_cached_sizze_186115, bytes_184521);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184525_cached_sizze_186116 < bytes_184524) {
                                    err = lexical_realloc(ctx, &mem_184525, &mem_184525_cached_sizze_186116, bytes_184524);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_184095 = 0; i_184095 < num_blocks_180356; i_184095++) {
                                    bool y_180629 = slt64(i_184095, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357);
                                    bool index_certs_180631;
                                    
                                    if (!y_180629) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_184095, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:384:63-73\n   #9  ftsort.fut:377:1-384:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_180632 = ((int64_t *) mem_184503)[i_184095];
                                    int64_t defunc_0_f_res_180633 = ((int64_t *) mem_184505)[i_184095];
                                    int64_t tmp_180634 = add64((int64_t) 1, i_184095);
                                    bool x_180635 = sle64((int64_t) 0, tmp_180634);
                                    bool y_180636 = slt64(tmp_180634, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357);
                                    bool bounds_check_180637 = x_180635 && y_180636;
                                    bool index_certs_180638;
                                    
                                    if (!bounds_check_180637) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180634, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:384:63-73\n   #9  ftsort.fut:377:1-384:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_180639 = ((int64_t *) mem_184503)[tmp_180634];
                                    int64_t defunc_0_f_res_180640 = ((int64_t *) mem_184505)[tmp_180634];
                                    int64_t merge_sequential_arg2_180641 = add64(stride_180335, defunc_0_f_res_180633);
                                    int64_t merge_sequential_arg2_180642 = add64(stride_180335, defunc_0_f_res_180640);
                                    int64_t j_m_i_180643 = sub64(merge_sequential_arg2_180642, merge_sequential_arg2_180641);
                                    bool empty_slice_180644 = j_m_i_180643 == (int64_t) 0;
                                    int64_t m_180645 = sub64(j_m_i_180643, (int64_t) 1);
                                    int64_t i_p_m_t_s_180646 = add64(merge_sequential_arg2_180641, m_180645);
                                    bool zzero_leq_i_p_m_t_s_180647 = sle64((int64_t) 0, i_p_m_t_s_180646);
                                    bool i_p_m_t_s_leq_w_180648 = slt64(i_p_m_t_s_180646, next_stride_180336);
                                    bool zzero_lte_i_180649 = sle64((int64_t) 0, merge_sequential_arg2_180641);
                                    bool i_lte_j_180650 = sle64(merge_sequential_arg2_180641, merge_sequential_arg2_180642);
                                    bool y_180651 = i_p_m_t_s_leq_w_180648 && zzero_lte_i_180649;
                                    bool y_180652 = zzero_leq_i_p_m_t_s_180647 && y_180651;
                                    bool forwards_ok_180653 = i_lte_j_180650 && y_180652;
                                    bool ok_or_empty_180654 = empty_slice_180644 || forwards_ok_180653;
                                    bool index_certs_180655;
                                    
                                    if (!ok_or_empty_180654) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_180641, ":", (long long) merge_sequential_arg2_180642, "] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:384:63-73\n   #9  ftsort.fut:377:1-384:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_180656 = sub64(defunc_0_f_res_180639, defunc_0_f_res_180632);
                                    bool empty_slice_180657 = j_m_i_180656 == (int64_t) 0;
                                    int64_t m_180658 = sub64(j_m_i_180656, (int64_t) 1);
                                    int64_t i_p_m_t_s_180659 = add64(defunc_0_f_res_180632, m_180658);
                                    bool zzero_leq_i_p_m_t_s_180660 = sle64((int64_t) 0, i_p_m_t_s_180659);
                                    bool i_p_m_t_s_leq_w_180661 = slt64(i_p_m_t_s_180659, next_stride_180336);
                                    bool zzero_lte_i_180662 = sle64((int64_t) 0, defunc_0_f_res_180632);
                                    bool i_lte_j_180663 = sle64(defunc_0_f_res_180632, defunc_0_f_res_180639);
                                    bool y_180664 = i_p_m_t_s_leq_w_180661 && zzero_lte_i_180662;
                                    bool y_180665 = zzero_leq_i_p_m_t_s_180660 && y_180664;
                                    bool forwards_ok_180666 = i_lte_j_180663 && y_180665;
                                    bool ok_or_empty_180667 = empty_slice_180657 || forwards_ok_180666;
                                    bool index_certs_180668;
                                    
                                    if (!ok_or_empty_180667) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_180632, ":", (long long) defunc_0_f_res_180639, "] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:384:63-73\n   #9  ftsort.fut:377:1-384:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_180669 = slt64((int64_t) 0, j_m_i_180656);
                                    int8_t dummy_180670;
                                    int64_t dummy_180671;
                                    float dummy_180672;
                                    
                                    if (cond_180669) {
                                        bool index_certs_183665;
                                        
                                        if (!cond_180669) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_180656, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:384:63-73\n   #11 ftsort.fut:377:1-384:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183666 = start_180409 + defunc_0_f_res_180632;
                                        int8_t head_res_183667 = ((int8_t *) mem_param_184475.mem)[slice_183666];
                                        int64_t head_res_183668 = ((int64_t *) mem_param_184478.mem)[slice_183666];
                                        float head_res_183669 = ((float *) mem_param_184481.mem)[slice_183666];
                                        
                                        dummy_180670 = head_res_183667;
                                        dummy_180671 = head_res_183668;
                                        dummy_180672 = head_res_183669;
                                    } else {
                                        bool y_180678 = slt64((int64_t) 0, j_m_i_180643);
                                        bool index_certs_180679;
                                        
                                        if (!y_180678) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_180643, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:384:63-73\n   #11 ftsort.fut:377:1-384:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180680 = start_180409 + merge_sequential_arg2_180641;
                                        int8_t head_res_180681 = ((int8_t *) mem_param_184475.mem)[slice_180680];
                                        int64_t head_res_180682 = ((int64_t *) mem_param_184478.mem)[slice_180680];
                                        float head_res_180683 = ((float *) mem_param_184481.mem)[slice_180680];
                                        
                                        dummy_180670 = head_res_180681;
                                        dummy_180671 = head_res_180682;
                                        dummy_180672 = head_res_180683;
                                    }
                                    for (int64_t nest_i_185905 = 0; nest_i_185905 < merge_block_sizze_180173; nest_i_185905++) {
                                        ((int8_t *) mem_184519)[i_184095 * merge_block_sizze_180173 + nest_i_185905] = dummy_180670;
                                    }
                                    for (int64_t nest_i_185906 = 0; nest_i_185906 < merge_block_sizze_180173; nest_i_185906++) {
                                        ((int64_t *) mem_184522)[i_184095 * merge_block_sizze_180173 + nest_i_185906] = dummy_180671;
                                    }
                                    for (int64_t nest_i_185907 = 0; nest_i_185907 < merge_block_sizze_180173; nest_i_185907++) {
                                        ((float *) mem_184525)[i_184095 * merge_block_sizze_180173 + nest_i_185907] = dummy_180672;
                                    }
                                    
                                    int64_t data_180687;
                                    int64_t i_180692 = (int64_t) 0;
                                    
                                    for (int64_t k_180691 = 0; k_180691 < merge_block_sizze_180173; k_180691++) {
                                        int64_t j_180696 = sub64(k_180691, i_180692);
                                        bool cond_180697 = j_180696 == j_m_i_180643;
                                        bool cond_180698;
                                        
                                        if (cond_180697) {
                                            cond_180698 = 1;
                                        } else {
                                            bool cond_180699 = slt64(i_180692, j_m_i_180656);
                                            bool cond_f_res_180700;
                                            
                                            if (cond_180699) {
                                                bool x_183670 = sle64((int64_t) 0, j_180696);
                                                bool y_183671 = slt64(j_180696, j_m_i_180643);
                                                bool bounds_check_183672 = x_183670 && y_183671;
                                                bool index_certs_183673;
                                                
                                                if (!bounds_check_183672) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180696, "] out of bounds for array of shape [", (long long) j_m_i_180643, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:384:63-73\n   #10 ftsort.fut:377:1-384:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_183679 = sle64((int64_t) 0, i_180692);
                                                bool bounds_check_183680 = cond_180699 && x_183679;
                                                bool index_certs_183681;
                                                
                                                if (!bounds_check_183680) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180692, "] out of bounds for array of shape [", (long long) j_m_i_180656, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:384:63-73\n   #10 ftsort.fut:377:1-384:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_183674 = merge_sequential_arg2_180641 + j_180696;
                                                int64_t slice_183675 = start_180409 + slice_183674;
                                                int8_t leq_arg1_183676 = ((int8_t *) mem_param_184475.mem)[slice_183675];
                                                int64_t leq_arg1_183677 = ((int64_t *) mem_param_184478.mem)[slice_183675];
                                                float leq_arg1_183678 = ((float *) mem_param_184481.mem)[slice_183675];
                                                int64_t slice_183682 = defunc_0_f_res_180632 + i_180692;
                                                int64_t slice_183683 = start_180409 + slice_183682;
                                                int8_t leq_arg0_183684 = ((int8_t *) mem_param_184475.mem)[slice_183683];
                                                int64_t leq_arg0_183685 = ((int64_t *) mem_param_184478.mem)[slice_183683];
                                                float leq_arg0_183686 = ((float *) mem_param_184481.mem)[slice_183683];
                                                bool cond_183687 = leq_arg0_183684 == leq_arg1_183676;
                                                bool defunc_0_leq_res_t_res_183688 = sle64(leq_arg0_183685, leq_arg1_183677);
                                                bool defunc_0_leq_res_183689 = leq_arg0_183686 <= leq_arg1_183678;
                                                bool x_183690 = cond_183687 && defunc_0_leq_res_t_res_183688;
                                                bool x_183691 = !cond_183687;
                                                bool y_183692 = defunc_0_leq_res_183689 && x_183691;
                                                bool defunc_0_leq_res_183693 = x_183690 || y_183692;
                                                
                                                cond_f_res_180700 = defunc_0_leq_res_183693;
                                            } else {
                                                cond_f_res_180700 = 0;
                                            }
                                            cond_180698 = cond_f_res_180700;
                                        }
                                        
                                        int64_t loopres_180725;
                                        int8_t loopres_180726;
                                        int64_t loopres_180727;
                                        float loopres_180728;
                                        
                                        if (cond_180698) {
                                            bool x_183695 = sle64((int64_t) 0, i_180692);
                                            bool y_183696 = slt64(i_180692, j_m_i_180656);
                                            bool bounds_check_183697 = x_183695 && y_183696;
                                            bool index_certs_183698;
                                            
                                            if (!bounds_check_183697) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180692, "] out of bounds for array of shape [", (long long) j_m_i_180656, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:384:63-73\n   #10 ftsort.fut:377:1-384:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_183694 = add64((int64_t) 1, i_180692);
                                            int64_t slice_183699 = defunc_0_f_res_180632 + i_180692;
                                            int64_t slice_183700 = start_180409 + slice_183699;
                                            int8_t tmp_183701 = ((int8_t *) mem_param_184475.mem)[slice_183700];
                                            int64_t tmp_183702 = ((int64_t *) mem_param_184478.mem)[slice_183700];
                                            float tmp_183703 = ((float *) mem_param_184481.mem)[slice_183700];
                                            
                                            loopres_180725 = tmp_183694;
                                            loopres_180726 = tmp_183701;
                                            loopres_180727 = tmp_183702;
                                            loopres_180728 = tmp_183703;
                                        } else {
                                            bool x_180739 = sle64((int64_t) 0, j_180696);
                                            bool y_180740 = slt64(j_180696, j_m_i_180643);
                                            bool bounds_check_180741 = x_180739 && y_180740;
                                            bool index_certs_180742;
                                            
                                            if (!bounds_check_180741) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180696, "] out of bounds for array of shape [", (long long) j_m_i_180643, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:384:63-73\n   #10 ftsort.fut:377:1-384:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180743 = merge_sequential_arg2_180641 + j_180696;
                                            int64_t slice_180744 = start_180409 + slice_180743;
                                            int8_t tmp_180745 = ((int8_t *) mem_param_184475.mem)[slice_180744];
                                            int64_t tmp_180746 = ((int64_t *) mem_param_184478.mem)[slice_180744];
                                            float tmp_180747 = ((float *) mem_param_184481.mem)[slice_180744];
                                            
                                            loopres_180725 = i_180692;
                                            loopres_180726 = tmp_180745;
                                            loopres_180727 = tmp_180746;
                                            loopres_180728 = tmp_180747;
                                        }
                                        ((int8_t *) mem_184519)[i_184095 * merge_block_sizze_180173 + k_180691] = loopres_180726;
                                        ((int64_t *) mem_184522)[i_184095 * merge_block_sizze_180173 + k_180691] = loopres_180727;
                                        ((float *) mem_184525)[i_184095 * merge_block_sizze_180173 + k_180691] = loopres_180728;
                                        
                                        int64_t i_tmp_185908 = loopres_180725;
                                        
                                        i_180692 = i_tmp_185908;
                                    }
                                    data_180687 = i_180692;
                                }
                                if (memblock_alloc(ctx, &mem_184574, flat_dim_180359, "mem_184574")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_184574.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (uint8_t *) mem_184519, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (int64_t []) {num_blocks_180356, merge_block_sizze_180173});
                                if (memblock_alloc(ctx, &mem_184578, bytes_184521, "mem_184578")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_184578.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (uint64_t *) mem_184522, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (int64_t []) {num_blocks_180356, merge_block_sizze_180173});
                                if (memblock_alloc(ctx, &mem_184582, bytes_184524, "mem_184582")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_184582.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (uint32_t *) mem_184525, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (int64_t []) {num_blocks_180356, merge_block_sizze_180173});
                                if (memblock_set(ctx, &ext_mem_184615, &mem_184574, "mem_184574") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184612, &mem_184578, "mem_184578") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184609, &mem_184582, "mem_184582") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_184483, i_184105 * next_stride_180336, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_184615.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_180336});
                            if (memblock_unref(ctx, &ext_mem_184615, "ext_mem_184615") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184486, i_184105 * next_stride_180336, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184612.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_180336});
                            if (memblock_unref(ctx, &ext_mem_184612, "ext_mem_184612") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_184489, i_184105 * next_stride_180336, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_184609.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_180336});
                            if (memblock_unref(ctx, &ext_mem_184609, "ext_mem_184609") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_184629, bytes_184482, "mem_184629")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_184629.mem, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (uint8_t *) mem_184483, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (int64_t []) {num_merges_180340, next_stride_180336});
                        if (memblock_alloc(ctx, &mem_184633, bytes_184485, "mem_184633")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_184633.mem, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (uint64_t *) mem_184486, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (int64_t []) {num_merges_180340, next_stride_180336});
                        if (memblock_alloc(ctx, &mem_184637, bytes_184488, "mem_184637")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_184637.mem, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (uint32_t *) mem_184489, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (int64_t []) {num_merges_180340, next_stride_180336});
                        
                        bool loop_cond_180761 = slt64(next_stride_180336, flat_dim_180168);
                        
                        if (memblock_set(ctx, &mem_param_tmp_185875, &mem_184629, "mem_184629") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_185876, &mem_184633, "mem_184633") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_185877, &mem_184637, "mem_184637") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_185878 = bytes_184482;
                        bool loop_while_tmp_185879 = loop_cond_180761;
                        int64_t stride_tmp_185883 = next_stride_180336;
                        
                        if (memblock_set(ctx, &mem_param_184475, &mem_param_tmp_185875, "mem_param_tmp_185875") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_184478, &mem_param_tmp_185876, "mem_param_tmp_185876") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_184481, &mem_param_tmp_185877, "mem_param_tmp_185877") != 0)
                            return 1;
                        loop_dz2084Uz2082U_180330 = loop_dz2084Uz2082U_tmp_185878;
                        loop_while_180331 = loop_while_tmp_185879;
                        stride_180335 = stride_tmp_185883;
                    }
                    if (memblock_set(ctx, &ext_mem_184647, &mem_param_184475, "mem_param_184475") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184646, &mem_param_184478, "mem_param_184478") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184645, &mem_param_184481, "mem_param_184481") != 0)
                        return 1;
                    data_180324 = loop_dz2084Uz2082U_180330;
                    data_180325 = loop_while_180331;
                    data_180329 = stride_180335;
                    if (memblock_unref(ctx, &mem_184463, "mem_184463") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_184467, "mem_184467") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_184471, "mem_184471") != 0)
                        return 1;
                    
                    bool empty_slice_180762 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_180763 = sle64((int64_t) 0, zs_lhs_180152);
                    bool i_p_m_t_s_leq_w_180764 = slt64(zs_lhs_180152, data_180324);
                    bool y_180765 = zzero_leq_i_p_m_t_s_180763 && i_p_m_t_s_leq_w_180764;
                    bool ok_or_empty_180766 = empty_slice_180762 || y_180765;
                    bool index_certs_180767;
                    
                    if (!ok_or_empty_180766) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "] out of bounds for array of shape [", (long long) data_180324, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_184656, &ext_mem_184647, "ext_mem_184647") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184653, &ext_mem_184646, "ext_mem_184646") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184650, &ext_mem_184645, "ext_mem_184645") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_184357, "mem_184357") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_184359, "mem_184359") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_184361, "mem_184361") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_184337.mem, ind_bottom_180105, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_184656.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107});
                if (memblock_unref(ctx, &ext_mem_184656, "ext_mem_184656") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184339.mem, ind_bottom_180105, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184653.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107});
                if (memblock_unref(ctx, &ext_mem_184653, "ext_mem_184653") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_184341.mem, ind_bottom_180105, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_184650.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107});
                if (memblock_unref(ctx, &ext_mem_184650, "ext_mem_184650") != 0)
                    return 1;
                
                bool loop_cond_180803 = slt64(ubs_180095, threads_153600);
                bool loop_while_tmp_185842 = loop_cond_180803;
                int64_t p_tmp_185843 = ubs_180095;
                
                loop_while_180084 = loop_while_tmp_185842;
                p_180085 = p_tmp_185843;
            }
            defunc_0_mergeFunc_seq_res_180079 = loop_while_180084;
            defunc_0_mergeFunc_seq_res_180080 = p_180085;
            
            int64_t index_concat_branch_181620;
            
            if (index_concat_cmp_181616) {
                int64_t index_concat_183718 = ((int64_t *) mem_184322)[index_concat_i_181617];
                
                index_concat_branch_181620 = index_concat_183718;
            } else {
                index_concat_branch_181620 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_181614;
            
            if (index_concat_cmp_181616) {
                int64_t index_concat_183719 = ((int64_t *) mem_184324)[index_concat_i_181617];
                
                index_concat_branch_181614 = index_concat_183719;
            } else {
                index_concat_branch_181614 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_185075, &mem_184337, "mem_184337") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_185072, &mem_184339, "mem_184339") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_185069, &mem_184341, "mem_184341") != 0)
                return 1;
            loopres_178852 = index_concat_branch_181620;
            loopres_178853 = index_concat_branch_181614;
        }
        for (int64_t i_184111 = 0; i_184111 < window_sizze_153599; i_184111++) {
            int8_t eta_p_180811 = ((int8_t *) ext_mem_185075.mem)[i_184111];
            int64_t eta_p_180812 = ((int64_t *) ext_mem_185072.mem)[i_184111];
            bool cond_180813 = eta_p_180811 == (int8_t) 0;
            int64_t tmp_180814;
            
            if (cond_180813) {
                int64_t tmp_t_res_183722 = add64(p_178824, eta_p_180812);
                
                tmp_180814 = tmp_t_res_183722;
            } else {
                int64_t tmp_f_res_180816 = add64(p_178825, eta_p_180812);
                
                tmp_180814 = tmp_f_res_180816;
            }
            ((int64_t *) mem_184309.mem)[ind_bottom_178828 + i_184111] = tmp_180814;
        }
        if (memblock_unref(ctx, &ext_mem_185072, "ext_mem_185072") != 0)
            return 1;
        
        int64_t next_lbs_180817 = add64(p_178824, loopres_178852);
        int64_t next_lbs_180818 = add64(p_178825, loopres_178853);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_184307.mem, ind_bottom_178828, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_185075.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_153599});
        if (memblock_unref(ctx, &ext_mem_185075, "ext_mem_185075") != 0)
            return 1;
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_184311.mem, ind_bottom_178828, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_185069.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_153599});
        if (memblock_unref(ctx, &ext_mem_185069, "ext_mem_185069") != 0)
            return 1;
        
        bool cond_180832 = slt64(next_lbs_180817, zl_rhs_178807);
        bool loop_cond_t_res_180833 = slt64(next_lbs_180818, zl_rhs_178809);
        bool x_180834 = cond_180832 && loop_cond_t_res_180833;
        bool loop_while_tmp_185726 = x_180834;
        int64_t p_tmp_185730 = next_lbs_180817;
        int64_t p_tmp_185731 = next_lbs_180818;
        
        loop_while_178820 = loop_while_tmp_185726;
        p_178824 = p_tmp_185730;
        p_178825 = p_tmp_185731;
    }
    defunc_0_merge_pipeline_res_178814 = loop_while_178820;
    defunc_0_merge_pipeline_res_178818 = p_178824;
    defunc_0_merge_pipeline_res_178819 = p_178825;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835 = sub64(nb_153598, defunc_0_merge_pipeline_res_178819);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836 = sub64(na_153597, defunc_0_merge_pipeline_res_178818);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
    bool empty_slice_180838 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836 == (int64_t) 0;
    int64_t m_180839 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, (int64_t) 1);
    int64_t i_p_m_t_s_180840 = add64(defunc_0_merge_pipeline_res_178818, m_180839);
    bool zzero_leq_i_p_m_t_s_180841 = sle64((int64_t) 0, i_p_m_t_s_180840);
    bool i_p_m_t_s_leq_w_180842 = slt64(i_p_m_t_s_180840, na_153597);
    bool zzero_lte_i_180843 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_178818);
    bool i_lte_j_180844 = sle64(defunc_0_merge_pipeline_res_178818, na_153597);
    bool y_180845 = i_p_m_t_s_leq_w_180842 && zzero_lte_i_180843;
    bool y_180846 = zzero_leq_i_p_m_t_s_180841 && y_180845;
    bool forwards_ok_180847 = i_lte_j_180844 && y_180846;
    bool ok_or_empty_180848 = empty_slice_180838 || forwards_ok_180847;
    bool index_certs_180849;
    
    if (!ok_or_empty_180848) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_178818, ":", (long long) na_153597, "] out of bounds for array of shape [", (long long) na_153597, "].", "-> #0  ftsort.fut:327:14-34\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_180853 = slt64(na_153597, defunc_0_merge_pipeline_res_178818);
    bool valid_180854 = !bounds_invalid_upwards_180853;
    bool range_valid_c_180855;
    
    if (!valid_180854) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_178818, "..<", (long long) na_153597, " is invalid.", "-> #0  ftsort.fut:331:9-25\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_180859 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835 == (int64_t) 0;
    int64_t m_180860 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835, (int64_t) 1);
    int64_t i_p_m_t_s_180861 = add64(defunc_0_merge_pipeline_res_178819, m_180860);
    bool zzero_leq_i_p_m_t_s_180862 = sle64((int64_t) 0, i_p_m_t_s_180861);
    bool i_p_m_t_s_leq_w_180863 = slt64(i_p_m_t_s_180861, nb_153598);
    bool zzero_lte_i_180864 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_178819);
    bool i_lte_j_180865 = sle64(defunc_0_merge_pipeline_res_178819, nb_153598);
    bool y_180866 = i_p_m_t_s_leq_w_180863 && zzero_lte_i_180864;
    bool y_180867 = zzero_leq_i_p_m_t_s_180862 && y_180866;
    bool forwards_ok_180868 = i_lte_j_180865 && y_180867;
    bool ok_or_empty_180869 = empty_slice_180859 || forwards_ok_180868;
    bool index_certs_180870;
    
    if (!ok_or_empty_180869) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_178819, ":", (long long) nb_153598, "] out of bounds for array of shape [", (long long) nb_153598, "].", "-> #0  ftsort.fut:333:14-34\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_180874 = slt64(nb_153598, defunc_0_merge_pipeline_res_178819);
    bool valid_180875 = !bounds_invalid_upwards_180874;
    bool range_valid_c_180876;
    
    if (!valid_180875) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_178819, "..<", (long long) nb_153598, " is invalid.", "-> #0  ftsort.fut:337:9-25\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_185100 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837;
    int64_t bytes_185102 = (int64_t) 4 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837;
    bool cond_180883 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, (int64_t) 1);
    int64_t zs_lhs_180884 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, (int64_t) 1);
    int64_t zp_rhs_180885 = sdiv_safe64(zs_lhs_180884, (int64_t) 20);
    int64_t min_num_blocks_180886 = add64((int64_t) 1, zp_rhs_180885);
    bool loop_cond_180887 = slt64((int64_t) 1, min_num_blocks_180886);
    bool smallest_pow_2_geq_than_res_180888;
    int64_t smallest_pow_2_geq_than_res_180889;
    bool loop_while_180890;
    int64_t x_180891;
    
    loop_while_180890 = loop_cond_180887;
    x_180891 = (int64_t) 1;
    while (loop_while_180890) {
        int64_t loopres_180892 = mul64((int64_t) 2, x_180891);
        bool loop_cond_180893 = slt64(loopres_180892, min_num_blocks_180886);
        bool loop_while_tmp_185913 = loop_cond_180893;
        int64_t x_tmp_185914 = loopres_180892;
        
        loop_while_180890 = loop_while_tmp_185913;
        x_180891 = x_tmp_185914;
    }
    smallest_pow_2_geq_than_res_180888 = loop_while_180890;
    smallest_pow_2_geq_than_res_180889 = x_180891;
    
    bool zzero_180894 = smallest_pow_2_geq_than_res_180889 == (int64_t) 0;
    bool nonzzero_180895 = !zzero_180894;
    bool protect_assert_disj_180896 = cond_180883 || nonzzero_180895;
    bool nonzzero_cert_180897;
    
    if (!protect_assert_disj_180896) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_180898 = sdiv_safe64(zs_lhs_180884, smallest_pow_2_geq_than_res_180889);
    int64_t block_sizze_180899 = add64((int64_t) 1, zp_rhs_180898);
    bool y_180906 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837);
    bool protect_assert_disj_185428 = cond_180883 || y_180906;
    bool index_certs_180907;
    
    if (!protect_assert_disj_185428) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_180933 = slt64(smallest_pow_2_geq_than_res_180889, (int64_t) 0);
    bool valid_180934 = !bounds_invalid_upwards_180933;
    bool protect_assert_disj_185438 = cond_180883 || valid_180934;
    bool range_valid_c_180935;
    
    if (!protect_assert_disj_185438) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_180889, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_180937 = slt64(block_sizze_180899, (int64_t) 0);
    bool valid_180938 = !bounds_invalid_upwards_180937;
    bool protect_assert_disj_185440 = cond_180883 || valid_180938;
    bool range_valid_c_180939;
    
    if (!protect_assert_disj_185440) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_180899, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_180941 = sle64(block_sizze_180899, (int64_t) 1);
    int64_t tmp_180942 = sub64(block_sizze_180899, (int64_t) 2);
    bool bounds_invalid_upwards_180943 = slt64(tmp_180942, (int64_t) 0);
    bool valid_180945 = !bounds_invalid_upwards_180943;
    bool protect_assert_disj_180946 = cond_180941 || valid_180945;
    bool protect_assert_disj_185442 = cond_180883 || protect_assert_disj_180946;
    bool range_valid_c_180947;
    
    if (!protect_assert_disj_185442) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_180942, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_181508 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_181510 = sle64((int64_t) 0, zs_lhs_180884);
    bool i_p_m_t_s_leq_w_181511 = slt64(zs_lhs_180884, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837);
    bool y_181512 = zzero_leq_i_p_m_t_s_181510 && i_p_m_t_s_leq_w_181511;
    bool ok_or_empty_181513 = empty_slice_181508 || y_181512;
    bool index_certs_181514;
    
    if (!ok_or_empty_181513) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "].", "-> #0  ftsort.fut:346:78-101\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_181515 = add64(defunc_0_merge_pipeline_res_178818, defunc_0_merge_pipeline_res_178819);
    int64_t j_m_i_181516 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, final_buffer_181515);
    bool empty_slice_181517 = j_m_i_181516 == (int64_t) 0;
    int64_t m_181518 = sub64(j_m_i_181516, (int64_t) 1);
    int64_t i_p_m_t_s_181519 = add64(final_buffer_181515, m_181518);
    bool zzero_leq_i_p_m_t_s_181520 = sle64((int64_t) 0, i_p_m_t_s_181519);
    bool i_p_m_t_s_leq_w_181521 = slt64(i_p_m_t_s_181519, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803);
    bool zzero_lte_i_181522 = sle64((int64_t) 0, final_buffer_181515);
    bool i_lte_j_181523 = sle64(final_buffer_181515, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803);
    bool y_181524 = i_p_m_t_s_leq_w_181521 && zzero_lte_i_181522;
    bool y_181525 = zzero_leq_i_p_m_t_s_181520 && y_181524;
    bool forwards_ok_181526 = i_lte_j_181523 && y_181525;
    bool ok_or_empty_181527 = empty_slice_181517 || forwards_ok_181526;
    bool index_certs_181528;
    
    if (!ok_or_empty_181527) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_181515, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, "].", "-> #0  ftsort.fut:346:22-101\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_181529 = j_m_i_181516 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837;
    bool empty_or_match_cert_181530;
    
    if (!dim_match_181529) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_181516, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "]", " of value.", "-> #0  ftsort.fut:346:22-101\n   #1  ftsort.fut:384:63-73\n   #2  ftsort.fut:377:1-384:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_185099, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "mem_185099")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_185915 = 0; nest_i_185915 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836; nest_i_185915++) {
        ((int8_t *) mem_185099.mem)[nest_i_185915] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_185101, bytes_185100, "mem_185101")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_185916 = 0; i_185916 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836; i_185916++) {
        int64_t x_185917 = defunc_0_merge_pipeline_res_178818 + i_185916 * (int64_t) 1;
        
        ((int64_t *) mem_185101.mem)[i_185916] = x_185917;
    }
    for (int64_t nest_i_185918 = 0; nest_i_185918 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835; nest_i_185918++) {
        ((int8_t *) mem_185099.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836 + nest_i_185918] = (int8_t) 1;
    }
    for (int64_t i_185919 = 0; i_185919 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835; i_185919++) {
        int64_t x_185920 = defunc_0_merge_pipeline_res_178819 + i_185919 * (int64_t) 1;
        
        ((int64_t *) mem_185101.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836 + i_185919] = x_185920;
    }
    
    int64_t tmp_offs_185921 = (int64_t) 0;
    
    if (!(tmp_offs_185921 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_185099.mem, tmp_offs_185921, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_185099.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836});
    }
    tmp_offs_185921 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836;
    if (!(tmp_offs_185921 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_185099.mem, tmp_offs_185921, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_185099.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835});
    }
    tmp_offs_185921 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835;
    
    int64_t tmp_offs_185922 = (int64_t) 0;
    
    if (!(tmp_offs_185922 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_185101.mem, tmp_offs_185922, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_185101.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836});
    }
    tmp_offs_185922 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836;
    if (!(tmp_offs_185922 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_185101.mem, tmp_offs_185922, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_185101.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835});
    }
    tmp_offs_185922 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835;
    if (memblock_alloc(ctx, &mem_185103, bytes_185102, "mem_185103")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_185923 = (int64_t) 0;
    
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_185103.mem, tmp_offs_185923, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_184305.mem, defunc_0_merge_pipeline_res_178818, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836});
    tmp_offs_185923 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_185103.mem, tmp_offs_185923, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_184306.mem, defunc_0_merge_pipeline_res_178819, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835});
    tmp_offs_185923 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835;
    
    int64_t flat_dim_180900 = smallest_pow_2_geq_than_res_180889 * block_sizze_180899;
    bool x_185423 = !cond_180883;
    int64_t greatest_divisor_leq_than_arg1_180904 = mul64((int64_t) 2, block_sizze_180899);
    int64_t merge_block_sizze_180905;
    
    if (x_185423) {
        int64_t x_185425;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_185425, (int64_t) 8, greatest_divisor_leq_than_arg1_180904) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_180905 = x_185425;
    } else {
        merge_block_sizze_180905 = (int64_t) 0;
    }
    
    bool index_concat_cmp_181580 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, (int64_t) 0);
    int8_t index_concat_branch_181584 = btoi_bool_i8(index_concat_cmp_181580);
    int64_t index_concat_i_183724 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
    int64_t index_primexp_183725 = add64(defunc_0_merge_pipeline_res_178819, index_concat_i_183724);
    int64_t index_concat_branch_181578;
    
    if (index_concat_cmp_181580) {
        index_concat_branch_181578 = index_primexp_183725;
    } else {
        index_concat_branch_181578 = defunc_0_merge_pipeline_res_178818;
    }
    
    bool x_185419 = !index_concat_cmp_181580;
    bool protect_cond_conj_185429 = x_185419 && x_185423;
    float index_concat_181571;
    
    if (protect_cond_conj_185429) {
        float x_185421 = ((float *) a_list_mem_184305.mem)[defunc_0_merge_pipeline_res_178818];
        
        index_concat_181571 = x_185421;
    } else {
        index_concat_181571 = 0.0F;
    }
    
    bool protect_cond_conj_185430 = index_concat_cmp_181580 && x_185423;
    float index_concat_183728;
    
    if (protect_cond_conj_185430) {
        float x_185417 = ((float *) b_list_mem_184306.mem)[index_primexp_183725];
        
        index_concat_183728 = x_185417;
    } else {
        index_concat_183728 = 0.0F;
    }
    
    float index_concat_branch_181572;
    
    if (index_concat_cmp_181580) {
        index_concat_branch_181572 = index_concat_183728;
    } else {
        index_concat_branch_181572 = index_concat_181571;
    }
    
    int8_t defunc_0_reduce_res_183959;
    int64_t defunc_0_reduce_res_183960;
    float defunc_0_reduce_res_183961;
    
    if (x_185423) {
        int8_t x_185431;
        int64_t x_185432;
        float x_185433;
        int8_t redout_184113;
        int64_t redout_184114;
        float redout_184115;
        
        redout_184113 = index_concat_branch_181584;
        redout_184114 = index_concat_branch_181578;
        redout_184115 = index_concat_branch_181572;
        for (int64_t i_184116 = 0; i_184116 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837; i_184116++) {
            bool index_concat_cmp_184187 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, i_184116);
            int8_t index_concat_branch_184191 = btoi_bool_i8(index_concat_cmp_184187);
            int64_t index_concat_branch_184185;
            
            if (index_concat_cmp_184187) {
                int64_t index_concat_i_184182 = sub64(i_184116, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
                int64_t index_primexp_184275 = add64(defunc_0_merge_pipeline_res_178819, index_concat_i_184182);
                
                index_concat_branch_184185 = index_primexp_184275;
            } else {
                int64_t index_primexp_184277 = add64(defunc_0_merge_pipeline_res_178818, i_184116);
                
                index_concat_branch_184185 = index_primexp_184277;
            }
            
            float index_concat_branch_184179;
            
            if (index_concat_cmp_184187) {
                int64_t index_concat_i_184176 = sub64(i_184116, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
                int64_t slice_184272 = defunc_0_merge_pipeline_res_178819 + index_concat_i_184176;
                float index_concat_184177 = ((float *) b_list_mem_184306.mem)[slice_184272];
                
                index_concat_branch_184179 = index_concat_184177;
            } else {
                int64_t slice_184273 = defunc_0_merge_pipeline_res_178818 + i_184116;
                float index_concat_184178 = ((float *) a_list_mem_184305.mem)[slice_184273];
                
                index_concat_branch_184179 = index_concat_184178;
            }
            
            bool eq_x_y_184290 = redout_184113 == (int8_t) 1;
            bool eq_x_zz_184291 = redout_184113 == (int8_t) 0;
            bool p_and_eq_x_y_184292 = index_concat_cmp_184187 && eq_x_y_184290;
            bool not_p_184293 = !index_concat_cmp_184187;
            bool p_and_eq_x_y_184294 = eq_x_zz_184291 && not_p_184293;
            bool cond_180923 = p_and_eq_x_y_184292 || p_and_eq_x_y_184294;
            bool defunc_0_leq_res_t_res_180924 = sle64(redout_184114, index_concat_branch_184185);
            bool defunc_0_leq_res_180925 = redout_184115 <= index_concat_branch_184179;
            bool x_180926 = cond_180923 && defunc_0_leq_res_t_res_180924;
            bool x_180927 = !cond_180923;
            bool y_180928 = defunc_0_leq_res_180925 && x_180927;
            bool defunc_0_leq_res_180929 = x_180926 || y_180928;
            int8_t defunc_0_op_res_180930;
            
            if (defunc_0_leq_res_180929) {
                defunc_0_op_res_180930 = index_concat_branch_184191;
            } else {
                defunc_0_op_res_180930 = redout_184113;
            }
            
            int64_t defunc_0_op_res_180931;
            
            if (defunc_0_leq_res_180929) {
                defunc_0_op_res_180931 = index_concat_branch_184185;
            } else {
                defunc_0_op_res_180931 = redout_184114;
            }
            
            float defunc_0_op_res_180932;
            
            if (defunc_0_leq_res_180929) {
                defunc_0_op_res_180932 = index_concat_branch_184179;
            } else {
                defunc_0_op_res_180932 = redout_184115;
            }
            
            int8_t redout_tmp_185924 = defunc_0_op_res_180930;
            int64_t redout_tmp_185925 = defunc_0_op_res_180931;
            float redout_tmp_185926 = defunc_0_op_res_180932;
            
            redout_184113 = redout_tmp_185924;
            redout_184114 = redout_tmp_185925;
            redout_184115 = redout_tmp_185926;
        }
        x_185431 = redout_184113;
        x_185432 = redout_184114;
        x_185433 = redout_184115;
        defunc_0_reduce_res_183959 = x_185431;
        defunc_0_reduce_res_183960 = x_185432;
        defunc_0_reduce_res_183961 = x_185433;
    } else {
        defunc_0_reduce_res_183959 = (int8_t) 0;
        defunc_0_reduce_res_183960 = (int64_t) 0;
        defunc_0_reduce_res_183961 = 0.0F;
    }
    
    int64_t distance_180944 = add64((int64_t) 1, tmp_180942);
    int64_t binop_x_185106 = (int64_t) 8 * smallest_pow_2_geq_than_res_180889;
    int64_t bytes_185107 = block_sizze_180899 * binop_x_185106;
    int64_t binop_x_185109 = (int64_t) 4 * smallest_pow_2_geq_than_res_180889;
    int64_t bytes_185110 = block_sizze_180899 * binop_x_185109;
    int64_t bytes_185125 = (int64_t) 8 * block_sizze_180899;
    int64_t bytes_185127 = (int64_t) 4 * block_sizze_180899;
    bool loop_cond_181053 = slt64(block_sizze_180899, flat_dim_180900);
    bool zzero_181054 = merge_block_sizze_180905 == (int64_t) 0;
    bool nonzzero_181055 = !zzero_181054;
    
    if (cond_180883) {
        if (memblock_set(ctx, &ext_mem_185398, &mem_185099, "mem_185099") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185395, &mem_185101, "mem_185101") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185392, &mem_185103, "mem_185103") != 0)
            return 1;
    } else {
        if (mem_185105_cached_sizze_186137 < flat_dim_180900) {
            err = lexical_realloc(ctx, &mem_185105, &mem_185105_cached_sizze_186137, flat_dim_180900);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185108_cached_sizze_186138 < bytes_185107) {
            err = lexical_realloc(ctx, &mem_185108, &mem_185108_cached_sizze_186138, bytes_185107);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185111_cached_sizze_186139 < bytes_185110) {
            err = lexical_realloc(ctx, &mem_185111, &mem_185111_cached_sizze_186139, bytes_185110);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185124_cached_sizze_186140 < block_sizze_180899) {
            err = lexical_realloc(ctx, &mem_185124, &mem_185124_cached_sizze_186140, block_sizze_180899);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185126_cached_sizze_186141 < bytes_185125) {
            err = lexical_realloc(ctx, &mem_185126, &mem_185126_cached_sizze_186141, bytes_185125);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185128_cached_sizze_186142 < bytes_185127) {
            err = lexical_realloc(ctx, &mem_185128, &mem_185128_cached_sizze_186142, bytes_185127);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_184133 = 0; i_184133 < smallest_pow_2_geq_than_res_180889; i_184133++) {
            int64_t zp_lhs_180952 = mul64(block_sizze_180899, i_184133);
            
            for (int64_t i_184123 = 0; i_184123 < block_sizze_180899; i_184123++) {
                int64_t k_180957 = add64(zp_lhs_180952, i_184123);
                bool cond_180958 = slt64(k_180957, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837);
                int8_t lifted_lambda_res_180959;
                int64_t lifted_lambda_res_180960;
                float lifted_lambda_res_180961;
                
                if (cond_180958) {
                    bool x_183734 = sle64((int64_t) 0, k_180957);
                    bool bounds_check_183735 = cond_180958 && x_183734;
                    bool index_certs_183736;
                    
                    if (!bounds_check_183735) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_180957, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_183737 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, k_180957);
                    int8_t index_concat_branch_183738 = btoi_bool_i8(index_concat_cmp_183737);
                    int64_t index_concat_branch_183739;
                    
                    if (index_concat_cmp_183737) {
                        int64_t index_concat_i_183740 = sub64(k_180957, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
                        int64_t index_primexp_183741 = add64(defunc_0_merge_pipeline_res_178819, index_concat_i_183740);
                        
                        index_concat_branch_183739 = index_primexp_183741;
                    } else {
                        int64_t index_primexp_183742 = add64(defunc_0_merge_pipeline_res_178818, k_180957);
                        
                        index_concat_branch_183739 = index_primexp_183742;
                    }
                    
                    float index_concat_branch_183743;
                    
                    if (index_concat_cmp_183737) {
                        int64_t index_concat_i_183744 = sub64(k_180957, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
                        int64_t slice_183745 = defunc_0_merge_pipeline_res_178819 + index_concat_i_183744;
                        float index_concat_183746 = ((float *) b_list_mem_184306.mem)[slice_183745];
                        
                        index_concat_branch_183743 = index_concat_183746;
                    } else {
                        int64_t slice_183747 = defunc_0_merge_pipeline_res_178818 + k_180957;
                        float index_concat_183748 = ((float *) a_list_mem_184305.mem)[slice_183747];
                        
                        index_concat_branch_183743 = index_concat_183748;
                    }
                    lifted_lambda_res_180959 = index_concat_branch_183738;
                    lifted_lambda_res_180960 = index_concat_branch_183739;
                    lifted_lambda_res_180961 = index_concat_branch_183743;
                } else {
                    lifted_lambda_res_180959 = defunc_0_reduce_res_183959;
                    lifted_lambda_res_180960 = defunc_0_reduce_res_183960;
                    lifted_lambda_res_180961 = defunc_0_reduce_res_183961;
                }
                ((int8_t *) mem_185124)[i_184123] = lifted_lambda_res_180959;
                ((int64_t *) mem_185126)[i_184123] = lifted_lambda_res_180960;
                ((float *) mem_185128)[i_184123] = lifted_lambda_res_180961;
            }
            if (!cond_180941) {
                for (int64_t i_180974 = 0; i_180974 < distance_180944; i_180974++) {
                    int64_t gt_arg1_180978 = add64((int64_t) 1, i_180974);
                    bool x_180979 = sle64((int64_t) 0, gt_arg1_180978);
                    bool y_180980 = slt64(gt_arg1_180978, block_sizze_180899);
                    bool bounds_check_180981 = x_180979 && y_180980;
                    bool index_certs_180982;
                    
                    if (!bounds_check_180981) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_180978, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_180986 = slt64(i_180974, block_sizze_180899);
                    bool index_certs_180987;
                    
                    if (!y_180986) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180974, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_180983 = ((int8_t *) mem_185124)[gt_arg1_180978];
                    int64_t gt_arg1_180984 = ((int64_t *) mem_185126)[gt_arg1_180978];
                    float gt_arg1_180985 = ((float *) mem_185128)[gt_arg1_180978];
                    int8_t gt_arg0_180988 = ((int8_t *) mem_185124)[i_180974];
                    int64_t gt_arg0_180989 = ((int64_t *) mem_185126)[i_180974];
                    float gt_arg0_180990 = ((float *) mem_185128)[i_180974];
                    bool cond_180991 = gt_arg0_180988 == gt_arg1_180983;
                    bool defunc_0_leq_res_t_res_180992 = sle64(gt_arg0_180989, gt_arg1_180984);
                    bool defunc_0_leq_res_180993 = gt_arg0_180990 <= gt_arg1_180985;
                    bool x_180994 = cond_180991 && defunc_0_leq_res_t_res_180992;
                    bool x_180995 = !cond_180991;
                    bool y_180996 = defunc_0_leq_res_180993 && x_180995;
                    bool defunc_0_leq_res_180997 = x_180994 || y_180996;
                    bool defunc_0_lifted_gt_res_180998 = !defunc_0_leq_res_180997;
                    bool s_180999;
                    int64_t s_181003;
                    bool loop_while_181004;
                    int64_t j_181008;
                    
                    loop_while_181004 = defunc_0_lifted_gt_res_180998;
                    j_181008 = i_180974;
                    while (loop_while_181004) {
                        bool x_181009 = sle64((int64_t) 0, j_181008);
                        bool y_181010 = slt64(j_181008, block_sizze_180899);
                        bool bounds_check_181011 = x_181009 && y_181010;
                        bool index_certs_181012;
                        
                        if (!bounds_check_181011) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181008, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_181016 = add64((int64_t) 1, j_181008);
                        bool x_181017 = sle64((int64_t) 0, copy_arg0_181016);
                        bool y_181018 = slt64(copy_arg0_181016, block_sizze_180899);
                        bool bounds_check_181019 = x_181017 && y_181018;
                        bool index_certs_181020;
                        
                        if (!bounds_check_181019) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_181016, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_181013 = ((int8_t *) mem_185124)[j_181008];
                        int64_t copy_arg0_181014 = ((int64_t *) mem_185126)[j_181008];
                        float copy_arg0_181015 = ((float *) mem_185128)[j_181008];
                        int8_t copy_arg0_181021 = ((int8_t *) mem_185124)[copy_arg0_181016];
                        int64_t copy_arg0_181022 = ((int64_t *) mem_185126)[copy_arg0_181016];
                        float copy_arg0_181023 = ((float *) mem_185128)[copy_arg0_181016];
                        
                        ((int8_t *) mem_185124)[j_181008] = copy_arg0_181021;
                        ((int64_t *) mem_185126)[j_181008] = copy_arg0_181022;
                        ((float *) mem_185128)[j_181008] = copy_arg0_181023;
                        ((int8_t *) mem_185124)[copy_arg0_181016] = copy_arg0_181013;
                        ((int64_t *) mem_185126)[copy_arg0_181016] = copy_arg0_181014;
                        ((float *) mem_185128)[copy_arg0_181016] = copy_arg0_181015;
                        
                        int64_t tmp_181030 = sub64(j_181008, (int64_t) 1);
                        bool cond_181031 = sle64((int64_t) 0, tmp_181030);
                        bool loop_cond_181032;
                        
                        if (cond_181031) {
                            bool y_183752 = slt64(tmp_181030, block_sizze_180899);
                            bool bounds_check_183753 = cond_181031 && y_183752;
                            bool index_certs_183754;
                            
                            if (!bounds_check_183753) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_181030, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_183749 = ((int8_t *) mem_185124)[j_181008];
                            int64_t gt_arg1_183750 = ((int64_t *) mem_185126)[j_181008];
                            float gt_arg1_183751 = ((float *) mem_185128)[j_181008];
                            int8_t gt_arg0_183755 = ((int8_t *) mem_185124)[tmp_181030];
                            int64_t gt_arg0_183756 = ((int64_t *) mem_185126)[tmp_181030];
                            float gt_arg0_183757 = ((float *) mem_185128)[tmp_181030];
                            bool cond_183758 = gt_arg0_183755 == gt_arg1_183749;
                            bool defunc_0_leq_res_t_res_183759 = sle64(gt_arg0_183756, gt_arg1_183750);
                            bool defunc_0_leq_res_183760 = gt_arg0_183757 <= gt_arg1_183751;
                            bool x_183761 = cond_183758 && defunc_0_leq_res_t_res_183759;
                            bool x_183762 = !cond_183758;
                            bool y_183763 = defunc_0_leq_res_183760 && x_183762;
                            bool defunc_0_leq_res_183764 = x_183761 || y_183763;
                            bool defunc_0_lifted_gt_res_183765 = !defunc_0_leq_res_183764;
                            
                            loop_cond_181032 = defunc_0_lifted_gt_res_183765;
                        } else {
                            loop_cond_181032 = 0;
                        }
                        
                        bool loop_while_tmp_185936 = loop_cond_181032;
                        int64_t j_tmp_185940 = tmp_181030;
                        
                        loop_while_181004 = loop_while_tmp_185936;
                        j_181008 = j_tmp_185940;
                    }
                    s_180999 = loop_while_181004;
                    s_181003 = j_181008;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_185105, i_184133 * block_sizze_180899, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_185124, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180899});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_185108, i_184133 * block_sizze_180899, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_185126, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180899});
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_185111, i_184133 * block_sizze_180899, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_185128, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180899});
        }
        if (memblock_alloc(ctx, &mem_185205, flat_dim_180900, "mem_185205")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_185205.mem, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (uint8_t *) mem_185105, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180889, block_sizze_180899});
        if (memblock_alloc(ctx, &mem_185209, bytes_185107, "mem_185209")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_185209.mem, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (uint64_t *) mem_185108, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180889, block_sizze_180899});
        if (memblock_alloc(ctx, &mem_185213, bytes_185110, "mem_185213")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_185213.mem, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (uint32_t *) mem_185111, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180889, block_sizze_180899});
        
        int64_t data_181056;
        bool data_181057;
        int64_t data_181061;
        int64_t loop_dz2084Uz2082U_181062;
        bool loop_while_181063;
        int64_t stride_181067;
        
        if (memblock_set(ctx, &mem_param_185217, &mem_185205, "mem_185205") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_185220, &mem_185209, "mem_185209") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_185223, &mem_185213, "mem_185213") != 0)
            return 1;
        loop_dz2084Uz2082U_181062 = flat_dim_180900;
        loop_while_181063 = loop_cond_181053;
        stride_181067 = block_sizze_180899;
        while (loop_while_181063) {
            int64_t next_stride_181068 = mul64((int64_t) 2, stride_181067);
            bool zzero_181069 = next_stride_181068 == (int64_t) 0;
            bool nonzzero_181070 = !zzero_181069;
            bool nonzzero_cert_181071;
            
            if (!nonzzero_181070) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:384:63-73\n   #4  ftsort.fut:377:1-384:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_181072 = sdiv64(flat_dim_180900, next_stride_181068);
            bool bounds_invalid_upwards_181073 = slt64(num_merges_181072, (int64_t) 0);
            bool valid_181074 = !bounds_invalid_upwards_181073;
            bool range_valid_c_181075;
            
            if (!valid_181074) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_181072, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_181077 = sub64(next_stride_181068, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_181078 = sle64((int64_t) 0, m_181077);
            bool cond_181080 = slt64(next_stride_181068, (int64_t) 10);
            bool protect_assert_disj_181081 = nonzzero_181055 || cond_181080;
            bool nonzzero_cert_181082;
            
            if (!protect_assert_disj_181081) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_181083 = smod_safe64(next_stride_181068, merge_block_sizze_180905);
            bool num_blocks_181084 = zeze_lhs_181083 == (int64_t) 0;
            bool protect_assert_disj_181085 = cond_181080 || num_blocks_181084;
            bool assert_c_181086;
            
            if (!protect_assert_disj_181085) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_181088 = sdiv_safe64(next_stride_181068, merge_block_sizze_180905);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089 = add64((int64_t) 1, num_blocks_181088);
            int64_t j_m_i_181090 = sub64(next_stride_181068, stride_181067);
            int64_t flat_dim_181091 = merge_block_sizze_180905 * num_blocks_181088;
            bool bounds_invalid_upwards_181092 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089, (int64_t) 0);
            bool empty_slice_181093 = j_m_i_181090 == (int64_t) 0;
            int64_t m_181094 = sub64(j_m_i_181090, (int64_t) 1);
            bool zzero_lte_i_181095 = sle64((int64_t) 0, stride_181067);
            bool i_lte_j_181096 = sle64(stride_181067, next_stride_181068);
            bool empty_slice_181097 = stride_181067 == (int64_t) 0;
            int64_t m_181098 = sub64(stride_181067, (int64_t) 1);
            bool bounds_invalid_upwards_181099 = slt64(num_blocks_181088, (int64_t) 0);
            bool cond_181100 = slt64((int64_t) 0, stride_181067);
            bool valid_181101 = !bounds_invalid_upwards_181092;
            int64_t i_p_m_t_s_181102 = add64(stride_181067, m_181094);
            bool zzero_leq_i_p_m_t_s_181103 = sle64((int64_t) 0, m_181098);
            bool i_p_m_t_s_leq_w_181104 = slt64(m_181098, next_stride_181068);
            bool valid_181105 = !bounds_invalid_upwards_181099;
            bool i_p_m_t_s_leq_w_181106 = slt64(m_181077, flat_dim_181091);
            bool y_181107 = slt64((int64_t) 0, j_m_i_181090);
            bool protect_assert_disj_181108 = cond_181080 || valid_181101;
            bool range_valid_c_181109;
            
            if (!protect_assert_disj_181108) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:384:63-73\n   #9  ftsort.fut:377:1-384:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_181110 = sle64((int64_t) 0, i_p_m_t_s_181102);
            bool i_p_m_t_s_leq_w_181111 = slt64(i_p_m_t_s_181102, next_stride_181068);
            bool y_181112 = zzero_leq_i_p_m_t_s_181103 && i_p_m_t_s_leq_w_181104;
            bool protect_assert_disj_181113 = cond_181080 || valid_181105;
            bool range_valid_c_181114;
            
            if (!protect_assert_disj_181113) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_181088, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_181115 = zzero_leq_i_p_m_t_s_181078 && i_p_m_t_s_leq_w_181106;
            bool y_181116 = zzero_lte_i_181095 && i_p_m_t_s_leq_w_181111;
            bool forwards_ok_181117 = zzero_lte_i_181095 && y_181112;
            bool ok_or_empty_181118 = zzero_181069 || y_181115;
            bool protect_assert_disj_181119 = cond_181100 || y_181107;
            bool y_181120 = zzero_leq_i_p_m_t_s_181110 && y_181116;
            bool ok_or_empty_181121 = empty_slice_181097 || forwards_ok_181117;
            bool protect_assert_disj_181122 = cond_181080 || ok_or_empty_181118;
            bool index_certs_181123;
            
            if (!protect_assert_disj_181122) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_181068, "] out of bounds for array of shape [", (long long) flat_dim_181091, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_181124 = !cond_181080;
            bool protect_assert_disj_181125 = protect_assert_disj_181119 || loop_not_taken_181124;
            bool index_certs_181126;
            
            if (!protect_assert_disj_181125) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:384:63-73\n   #9  ftsort.fut:377:1-384:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_181127 = i_lte_j_181096 && y_181120;
            bool protect_assert_disj_181128 = cond_181080 || ok_or_empty_181121;
            bool index_certs_181129;
            
            if (!protect_assert_disj_181128) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_181067, "] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:384:63-73\n   #10 ftsort.fut:377:1-384:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_181130 = ok_or_empty_181121 || loop_not_taken_181124;
            bool index_certs_181131;
            
            if (!protect_assert_disj_181130) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_181067, "] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_181132 = empty_slice_181093 || forwards_ok_181127;
            bool protect_assert_disj_181133 = cond_181080 || ok_or_empty_181132;
            bool index_certs_181134;
            
            if (!protect_assert_disj_181133) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_181067, ":] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:384:63-73\n   #10 ftsort.fut:377:1-384:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_181135 = loop_not_taken_181124 || ok_or_empty_181132;
            bool index_certs_181136;
            
            if (!protect_assert_disj_181135) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_181067, ":] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_185224 = next_stride_181068 * num_merges_181072;
            int64_t binop_x_185226 = (int64_t) 8 * num_merges_181072;
            int64_t bytes_185227 = next_stride_181068 * binop_x_185226;
            int64_t binop_x_185229 = (int64_t) 4 * num_merges_181072;
            int64_t bytes_185230 = next_stride_181068 * binop_x_185229;
            bool i_lte_j_181079 = sle64((int64_t) 0, next_stride_181068);
            
            if (mem_185225_cached_sizze_186143 < bytes_185224) {
                err = lexical_realloc(ctx, &mem_185225, &mem_185225_cached_sizze_186143, bytes_185224);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_185228_cached_sizze_186144 < bytes_185227) {
                err = lexical_realloc(ctx, &mem_185228, &mem_185228_cached_sizze_186144, bytes_185227);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_185231_cached_sizze_186145 < bytes_185230) {
                err = lexical_realloc(ctx, &mem_185231, &mem_185231_cached_sizze_186145, bytes_185230);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_185244 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089;
            int64_t binop_x_185262 = (int64_t) 8 * num_blocks_181088;
            int64_t bytes_185263 = merge_block_sizze_180905 * binop_x_185262;
            int64_t binop_x_185265 = (int64_t) 4 * num_blocks_181088;
            int64_t bytes_185266 = merge_block_sizze_180905 * binop_x_185265;
            int64_t bytes_185327 = (int64_t) 16 * stride_181067;
            int64_t bytes_185329 = (int64_t) 8 * stride_181067;
            
            for (int64_t i_184160 = 0; i_184160 < num_merges_181072; i_184160++) {
                int64_t start_181141 = mul64(next_stride_181068, i_184160);
                int64_t j_m_i_181142 = sub64(loop_dz2084Uz2082U_181062, start_181141);
                bool empty_slice_181143 = j_m_i_181142 == (int64_t) 0;
                int64_t m_181144 = sub64(j_m_i_181142, (int64_t) 1);
                int64_t i_p_m_t_s_181145 = add64(start_181141, m_181144);
                bool zzero_leq_i_p_m_t_s_181146 = sle64((int64_t) 0, i_p_m_t_s_181145);
                bool i_p_m_t_s_leq_w_181147 = slt64(i_p_m_t_s_181145, loop_dz2084Uz2082U_181062);
                bool zzero_lte_i_181148 = sle64((int64_t) 0, start_181141);
                bool i_lte_j_181149 = sle64(start_181141, loop_dz2084Uz2082U_181062);
                bool y_181150 = i_p_m_t_s_leq_w_181147 && zzero_lte_i_181148;
                bool y_181151 = zzero_leq_i_p_m_t_s_181146 && y_181150;
                bool forwards_ok_181152 = i_lte_j_181149 && y_181151;
                bool ok_or_empty_181153 = empty_slice_181143 || forwards_ok_181152;
                bool index_certs_181154;
                
                if (!ok_or_empty_181153) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_181141, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_181062, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_181155 = slt64(m_181077, j_m_i_181142);
                bool y_181156 = zzero_leq_i_p_m_t_s_181078 && i_p_m_t_s_leq_w_181155;
                bool forwards_ok_181157 = i_lte_j_181079 && y_181156;
                bool ok_or_empty_181158 = zzero_181069 || forwards_ok_181157;
                bool index_certs_181159;
                
                if (!ok_or_empty_181158) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_181068, "] out of bounds for array of shape [", (long long) j_m_i_181142, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:384:63-73\n   #7  ftsort.fut:377:1-384:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_181080) {
                    int8_t dummy_183804;
                    int64_t dummy_183805;
                    float dummy_183806;
                    
                    if (cond_181100) {
                        int8_t head_res_183807 = ((int8_t *) mem_param_185217.mem)[start_181141];
                        int64_t head_res_183808 = ((int64_t *) mem_param_185220.mem)[start_181141];
                        float head_res_183809 = ((float *) mem_param_185223.mem)[start_181141];
                        
                        dummy_183804 = head_res_183807;
                        dummy_183805 = head_res_183808;
                        dummy_183806 = head_res_183809;
                    } else {
                        int64_t slice_183810 = stride_181067 + start_181141;
                        int8_t head_res_183811 = ((int8_t *) mem_param_185217.mem)[slice_183810];
                        int64_t head_res_183812 = ((int64_t *) mem_param_185220.mem)[slice_183810];
                        float head_res_183813 = ((float *) mem_param_185223.mem)[slice_183810];
                        
                        dummy_183804 = head_res_183811;
                        dummy_183805 = head_res_183812;
                        dummy_183806 = head_res_183813;
                    }
                    if (memblock_alloc(ctx, &mem_185326, next_stride_181068, "mem_185326")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185953 = 0; nest_i_185953 < next_stride_181068; nest_i_185953++) {
                        ((int8_t *) mem_185326.mem)[nest_i_185953] = dummy_183804;
                    }
                    if (memblock_alloc(ctx, &mem_185328, bytes_185327, "mem_185328")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185954 = 0; nest_i_185954 < next_stride_181068; nest_i_185954++) {
                        ((int64_t *) mem_185328.mem)[nest_i_185954] = dummy_183805;
                    }
                    if (memblock_alloc(ctx, &mem_185330, bytes_185329, "mem_185330")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185955 = 0; nest_i_185955 < next_stride_181068; nest_i_185955++) {
                        ((float *) mem_185330.mem)[nest_i_185955] = dummy_183806;
                    }
                    
                    int64_t data_183817;
                    int64_t i_183822 = (int64_t) 0;
                    
                    for (int64_t k_183821 = 0; k_183821 < next_stride_181068; k_183821++) {
                        int64_t j_183826 = sub64(k_183821, i_183822);
                        bool cond_183827 = j_183826 == j_m_i_181090;
                        bool cond_183828;
                        
                        if (cond_183827) {
                            cond_183828 = 1;
                        } else {
                            bool cond_183829 = slt64(i_183822, stride_181067);
                            bool cond_f_res_183830;
                            
                            if (cond_183829) {
                                bool x_183831 = sle64((int64_t) 0, j_183826);
                                bool y_183832 = slt64(j_183826, j_m_i_181090);
                                bool bounds_check_183833 = x_183831 && y_183832;
                                bool index_certs_183834;
                                
                                if (!bounds_check_183833) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183826, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_183840 = sle64((int64_t) 0, i_183822);
                                bool bounds_check_183841 = cond_183829 && x_183840;
                                bool index_certs_183842;
                                
                                if (!bounds_check_183841) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183822, "] out of bounds for array of shape [", (long long) stride_181067, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_183835 = stride_181067 + j_183826;
                                int64_t slice_183836 = start_181141 + slice_183835;
                                int8_t leq_arg1_183837 = ((int8_t *) mem_param_185217.mem)[slice_183836];
                                int64_t leq_arg1_183838 = ((int64_t *) mem_param_185220.mem)[slice_183836];
                                float leq_arg1_183839 = ((float *) mem_param_185223.mem)[slice_183836];
                                int64_t slice_183843 = start_181141 + i_183822;
                                int8_t leq_arg0_183844 = ((int8_t *) mem_param_185217.mem)[slice_183843];
                                int64_t leq_arg0_183845 = ((int64_t *) mem_param_185220.mem)[slice_183843];
                                float leq_arg0_183846 = ((float *) mem_param_185223.mem)[slice_183843];
                                bool cond_183847 = leq_arg0_183844 == leq_arg1_183837;
                                bool defunc_0_leq_res_t_res_183848 = sle64(leq_arg0_183845, leq_arg1_183838);
                                bool defunc_0_leq_res_183849 = leq_arg0_183846 <= leq_arg1_183839;
                                bool x_183850 = cond_183847 && defunc_0_leq_res_t_res_183848;
                                bool x_183851 = !cond_183847;
                                bool y_183852 = defunc_0_leq_res_183849 && x_183851;
                                bool defunc_0_leq_res_183853 = x_183850 || y_183852;
                                
                                cond_f_res_183830 = defunc_0_leq_res_183853;
                            } else {
                                cond_f_res_183830 = 0;
                            }
                            cond_183828 = cond_f_res_183830;
                        }
                        
                        int64_t loopres_183854;
                        int8_t loopres_183855;
                        int64_t loopres_183856;
                        float loopres_183857;
                        
                        if (cond_183828) {
                            bool x_183859 = sle64((int64_t) 0, i_183822);
                            bool y_183860 = slt64(i_183822, stride_181067);
                            bool bounds_check_183861 = x_183859 && y_183860;
                            bool index_certs_183862;
                            
                            if (!bounds_check_183861) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183822, "] out of bounds for array of shape [", (long long) stride_181067, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_183858 = add64((int64_t) 1, i_183822);
                            int64_t slice_183863 = start_181141 + i_183822;
                            int8_t tmp_183864 = ((int8_t *) mem_param_185217.mem)[slice_183863];
                            int64_t tmp_183865 = ((int64_t *) mem_param_185220.mem)[slice_183863];
                            float tmp_183866 = ((float *) mem_param_185223.mem)[slice_183863];
                            
                            loopres_183854 = tmp_183858;
                            loopres_183855 = tmp_183864;
                            loopres_183856 = tmp_183865;
                            loopres_183857 = tmp_183866;
                        } else {
                            bool x_183867 = sle64((int64_t) 0, j_183826);
                            bool y_183868 = slt64(j_183826, j_m_i_181090);
                            bool bounds_check_183869 = x_183867 && y_183868;
                            bool index_certs_183870;
                            
                            if (!bounds_check_183869) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183826, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:384:63-73\n   #8  ftsort.fut:377:1-384:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_183871 = stride_181067 + j_183826;
                            int64_t slice_183872 = start_181141 + slice_183871;
                            int8_t tmp_183873 = ((int8_t *) mem_param_185217.mem)[slice_183872];
                            int64_t tmp_183874 = ((int64_t *) mem_param_185220.mem)[slice_183872];
                            float tmp_183875 = ((float *) mem_param_185223.mem)[slice_183872];
                            
                            loopres_183854 = i_183822;
                            loopres_183855 = tmp_183873;
                            loopres_183856 = tmp_183874;
                            loopres_183857 = tmp_183875;
                        }
                        ((int8_t *) mem_185326.mem)[k_183821] = loopres_183855;
                        ((int64_t *) mem_185328.mem)[k_183821] = loopres_183856;
                        ((float *) mem_185330.mem)[k_183821] = loopres_183857;
                        
                        int64_t i_tmp_185956 = loopres_183854;
                        
                        i_183822 = i_tmp_185956;
                    }
                    data_183817 = i_183822;
                    if (memblock_set(ctx, &ext_mem_185357, &mem_185326, "mem_185326") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185354, &mem_185328, "mem_185328") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185351, &mem_185330, "mem_185330") != 0)
                        return 1;
                } else {
                    if (mem_185245_cached_sizze_186146 < bytes_185244) {
                        err = lexical_realloc(ctx, &mem_185245, &mem_185245_cached_sizze_186146, bytes_185244);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_185247_cached_sizze_186147 < bytes_185244) {
                        err = lexical_realloc(ctx, &mem_185247, &mem_185247_cached_sizze_186147, bytes_185244);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_184141 = 0; i_184141 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089; i_184141++) {
                        int64_t split_count_arg3_181242 = mul64(merge_block_sizze_180905, i_184141);
                        int64_t defunc_0_split_count_res_181243;
                        int64_t defunc_0_split_count_res_181244;
                        int64_t defunc_0_split_count_res_181245;
                        int64_t defunc_0_split_count_res_181246;
                        int64_t defunc_0_split_count_res_181247;
                        
                        if (futrts_lifted_normalizze_9100(ctx, &defunc_0_split_count_res_181243, &defunc_0_split_count_res_181244, &defunc_0_split_count_res_181245, &defunc_0_split_count_res_181246, &defunc_0_split_count_res_181247, (int64_t) 0, stride_181067, (int64_t) 0, j_m_i_181090, split_count_arg3_181242) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_181248 = slt64((int64_t) 0, defunc_0_split_count_res_181247);
                        bool defunc_0_split_count_res_181249;
                        int64_t defunc_0_split_count_res_181250;
                        int64_t defunc_0_split_count_res_181251;
                        int64_t defunc_0_split_count_res_181252;
                        int64_t defunc_0_split_count_res_181253;
                        int64_t defunc_0_split_count_res_181254;
                        bool loop_while_181255;
                        int64_t ss_181256;
                        int64_t ss_181257;
                        int64_t tt_181258;
                        int64_t tt_181259;
                        int64_t count_181260;
                        
                        loop_while_181255 = loop_cond_181248;
                        ss_181256 = defunc_0_split_count_res_181243;
                        ss_181257 = defunc_0_split_count_res_181244;
                        tt_181258 = defunc_0_split_count_res_181245;
                        tt_181259 = defunc_0_split_count_res_181246;
                        count_181260 = defunc_0_split_count_res_181247;
                        while (loop_while_181255) {
                            int64_t zlze_lhs_181261 = sub64(ss_181257, ss_181256);
                            bool cond_181262 = sle64(zlze_lhs_181261, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_181263;
                            int64_t defunc_0_lifted_step_res_181264;
                            int64_t defunc_0_lifted_step_res_181265;
                            int64_t defunc_0_lifted_step_res_181266;
                            
                            if (cond_181262) {
                                int64_t tmp_183879 = add64(tt_181258, count_181260);
                                
                                defunc_0_lifted_step_res_181263 = ss_181256;
                                defunc_0_lifted_step_res_181264 = tmp_183879;
                                defunc_0_lifted_step_res_181265 = tt_181259;
                                defunc_0_lifted_step_res_181266 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_181268 = sub64(tt_181259, tt_181258);
                                bool cond_181269 = sle64(zlze_lhs_181268, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_181270;
                                int64_t defunc_0_lifted_step_res_f_res_181271;
                                int64_t defunc_0_lifted_step_res_f_res_181272;
                                int64_t defunc_0_lifted_step_res_f_res_181273;
                                
                                if (cond_181269) {
                                    int64_t tmp_183880 = add64(ss_181256, count_181260);
                                    
                                    defunc_0_lifted_step_res_f_res_181270 = tmp_183880;
                                    defunc_0_lifted_step_res_f_res_181271 = tt_181258;
                                    defunc_0_lifted_step_res_f_res_181272 = tt_181259;
                                    defunc_0_lifted_step_res_f_res_181273 = (int64_t) 0;
                                } else {
                                    bool cond_181275 = count_181260 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_181276;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_181277;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_181278;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_181279;
                                    
                                    if (cond_181275) {
                                        bool x_183882 = sle64((int64_t) 0, ss_181256);
                                        bool y_183883 = slt64(ss_181256, stride_181067);
                                        bool bounds_check_183884 = x_183882 && y_183883;
                                        bool index_certs_183885;
                                        
                                        if (!bounds_check_183884) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_181256, "] out of bounds for array of shape [", (long long) stride_181067, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:384:63-73\n   #12 ftsort.fut:377:1-384:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_183890 = sle64((int64_t) 0, tt_181258);
                                        bool y_183891 = slt64(tt_181258, j_m_i_181090);
                                        bool bounds_check_183892 = x_183890 && y_183891;
                                        bool index_certs_183893;
                                        
                                        if (!bounds_check_183892) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_181258, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:384:63-73\n   #12 ftsort.fut:377:1-384:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183886 = start_181141 + ss_181256;
                                        int8_t leq_arg1_183887 = ((int8_t *) mem_param_185217.mem)[slice_183886];
                                        int64_t leq_arg1_183888 = ((int64_t *) mem_param_185220.mem)[slice_183886];
                                        float leq_arg1_183889 = ((float *) mem_param_185223.mem)[slice_183886];
                                        int64_t slice_183894 = stride_181067 + tt_181258;
                                        int64_t slice_183895 = start_181141 + slice_183894;
                                        int8_t leq_arg0_183896 = ((int8_t *) mem_param_185217.mem)[slice_183895];
                                        int64_t leq_arg0_183897 = ((int64_t *) mem_param_185220.mem)[slice_183895];
                                        float leq_arg0_183898 = ((float *) mem_param_185223.mem)[slice_183895];
                                        bool cond_183899 = leq_arg0_183896 == leq_arg1_183887;
                                        bool defunc_0_leq_res_t_res_183900 = sle64(leq_arg0_183897, leq_arg1_183888);
                                        bool defunc_0_leq_res_183901 = leq_arg0_183898 <= leq_arg1_183889;
                                        bool x_183902 = cond_183899 && defunc_0_leq_res_t_res_183900;
                                        bool x_183903 = !cond_183899;
                                        bool y_183904 = defunc_0_leq_res_183901 && x_183903;
                                        bool defunc_0_leq_res_183905 = x_183902 || y_183904;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183906;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183907;
                                        
                                        if (defunc_0_leq_res_183905) {
                                            int64_t tmp_183908 = add64((int64_t) 1, tt_181258);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_183906 = ss_181256;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_183907 = tmp_183908;
                                        } else {
                                            int64_t tmp_183909 = add64((int64_t) 1, ss_181256);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_183906 = tmp_183909;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_183907 = tt_181258;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_181276 = defunc_0_lifted_step_res_f_res_f_res_t_res_183906;
                                        defunc_0_lifted_step_res_f_res_f_res_181277 = defunc_0_lifted_step_res_f_res_f_res_t_res_183907;
                                        defunc_0_lifted_step_res_f_res_f_res_181278 = tt_181259;
                                        defunc_0_lifted_step_res_f_res_f_res_181279 = (int64_t) 0;
                                    } else {
                                        int64_t m_181308 = sdiv64(count_181260, (int64_t) 2);
                                        int64_t n_181309 = sub64(count_181260, m_181308);
                                        bool cond_181310 = n_181309 == (int64_t) 0;
                                        int64_t zgze_lhs_181311 = add64(ss_181256, m_181308);
                                        bool cond_f_res_181312 = sle64(ss_181257, zgze_lhs_181311);
                                        bool x_181313 = !cond_181310;
                                        bool y_181314 = cond_f_res_181312 && x_181313;
                                        bool cond_181315 = cond_181310 || y_181314;
                                        bool leq_y_x_181316;
                                        
                                        if (cond_181315) {
                                            leq_y_x_181316 = 1;
                                        } else {
                                            bool x_181317 = sle64((int64_t) 0, zgze_lhs_181311);
                                            bool y_181318 = slt64(zgze_lhs_181311, stride_181067);
                                            bool bounds_check_181319 = x_181317 && y_181318;
                                            bool index_certs_181320;
                                            
                                            if (!bounds_check_181319) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_181311, "] out of bounds for array of shape [", (long long) stride_181067, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:384:63-73\n   #12 ftsort.fut:377:1-384:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_181325 = add64(tt_181258, n_181309);
                                            int64_t leq_arg0_181326 = sub64(zm_lhs_181325, (int64_t) 1);
                                            bool x_181327 = sle64((int64_t) 0, leq_arg0_181326);
                                            bool y_181328 = slt64(leq_arg0_181326, j_m_i_181090);
                                            bool bounds_check_181329 = x_181327 && y_181328;
                                            bool index_certs_181330;
                                            
                                            if (!bounds_check_181329) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_181326, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:384:63-73\n   #12 ftsort.fut:377:1-384:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_181321 = start_181141 + zgze_lhs_181311;
                                            int8_t leq_arg1_181322 = ((int8_t *) mem_param_185217.mem)[slice_181321];
                                            int64_t leq_arg1_181323 = ((int64_t *) mem_param_185220.mem)[slice_181321];
                                            float leq_arg1_181324 = ((float *) mem_param_185223.mem)[slice_181321];
                                            int64_t slice_181331 = stride_181067 + leq_arg0_181326;
                                            int64_t slice_181332 = start_181141 + slice_181331;
                                            int8_t leq_arg0_181333 = ((int8_t *) mem_param_185217.mem)[slice_181332];
                                            int64_t leq_arg0_181334 = ((int64_t *) mem_param_185220.mem)[slice_181332];
                                            float leq_arg0_181335 = ((float *) mem_param_185223.mem)[slice_181332];
                                            bool cond_181336 = leq_arg0_181333 == leq_arg1_181322;
                                            bool defunc_0_leq_res_t_res_181337 = sle64(leq_arg0_181334, leq_arg1_181323);
                                            bool defunc_0_leq_res_181338 = leq_arg0_181335 <= leq_arg1_181324;
                                            bool x_181339 = cond_181336 && defunc_0_leq_res_t_res_181337;
                                            bool x_181340 = !cond_181336;
                                            bool y_181341 = defunc_0_leq_res_181338 && x_181340;
                                            bool defunc_0_leq_res_181342 = x_181339 || y_181341;
                                            
                                            leq_y_x_181316 = defunc_0_leq_res_181342;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_181343;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_181344;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_181345;
                                        
                                        if (leq_y_x_181316) {
                                            int64_t tmp_183910 = add64(tt_181258, n_181309);
                                            int64_t tmp_183911 = sub64(count_181260, n_181309);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181343 = tmp_183910;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181344 = tt_181259;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181345 = tmp_183911;
                                        } else {
                                            int64_t tmp_181348 = add64(tt_181258, n_181309);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181343 = tt_181258;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181344 = tmp_181348;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181345 = count_181260;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_181276 = ss_181256;
                                        defunc_0_lifted_step_res_f_res_f_res_181277 = defunc_0_lifted_step_res_f_res_f_res_f_res_181343;
                                        defunc_0_lifted_step_res_f_res_f_res_181278 = defunc_0_lifted_step_res_f_res_f_res_f_res_181344;
                                        defunc_0_lifted_step_res_f_res_f_res_181279 = defunc_0_lifted_step_res_f_res_f_res_f_res_181345;
                                    }
                                    defunc_0_lifted_step_res_f_res_181270 = defunc_0_lifted_step_res_f_res_f_res_181276;
                                    defunc_0_lifted_step_res_f_res_181271 = defunc_0_lifted_step_res_f_res_f_res_181277;
                                    defunc_0_lifted_step_res_f_res_181272 = defunc_0_lifted_step_res_f_res_f_res_181278;
                                    defunc_0_lifted_step_res_f_res_181273 = defunc_0_lifted_step_res_f_res_f_res_181279;
                                }
                                defunc_0_lifted_step_res_181263 = defunc_0_lifted_step_res_f_res_181270;
                                defunc_0_lifted_step_res_181264 = defunc_0_lifted_step_res_f_res_181271;
                                defunc_0_lifted_step_res_181265 = defunc_0_lifted_step_res_f_res_181272;
                                defunc_0_lifted_step_res_181266 = defunc_0_lifted_step_res_f_res_181273;
                            }
                            
                            int64_t loopres_181349;
                            int64_t loopres_181350;
                            int64_t loopres_181351;
                            int64_t loopres_181352;
                            int64_t loopres_181353;
                            
                            if (futrts_lifted_normalizze_9100(ctx, &loopres_181349, &loopres_181350, &loopres_181351, &loopres_181352, &loopres_181353, defunc_0_lifted_step_res_181263, ss_181257, defunc_0_lifted_step_res_181264, defunc_0_lifted_step_res_181265, defunc_0_lifted_step_res_181266) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_181354 = slt64((int64_t) 0, loopres_181353);
                            bool loop_while_tmp_185962 = loop_cond_181354;
                            int64_t ss_tmp_185963 = loopres_181349;
                            int64_t ss_tmp_185964 = loopres_181350;
                            int64_t tt_tmp_185965 = loopres_181351;
                            int64_t tt_tmp_185966 = loopres_181352;
                            int64_t count_tmp_185967 = loopres_181353;
                            
                            loop_while_181255 = loop_while_tmp_185962;
                            ss_181256 = ss_tmp_185963;
                            ss_181257 = ss_tmp_185964;
                            tt_181258 = tt_tmp_185965;
                            tt_181259 = tt_tmp_185966;
                            count_181260 = count_tmp_185967;
                        }
                        defunc_0_split_count_res_181249 = loop_while_181255;
                        defunc_0_split_count_res_181250 = ss_181256;
                        defunc_0_split_count_res_181251 = ss_181257;
                        defunc_0_split_count_res_181252 = tt_181258;
                        defunc_0_split_count_res_181253 = tt_181259;
                        defunc_0_split_count_res_181254 = count_181260;
                        ((int64_t *) mem_185245)[i_184141] = defunc_0_split_count_res_181250;
                        ((int64_t *) mem_185247)[i_184141] = defunc_0_split_count_res_181252;
                    }
                    if (mem_185261_cached_sizze_186148 < flat_dim_181091) {
                        err = lexical_realloc(ctx, &mem_185261, &mem_185261_cached_sizze_186148, flat_dim_181091);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_185264_cached_sizze_186149 < bytes_185263) {
                        err = lexical_realloc(ctx, &mem_185264, &mem_185264_cached_sizze_186149, bytes_185263);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_185267_cached_sizze_186150 < bytes_185266) {
                        err = lexical_realloc(ctx, &mem_185267, &mem_185267_cached_sizze_186150, bytes_185266);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_184150 = 0; i_184150 < num_blocks_181088; i_184150++) {
                        bool y_181361 = slt64(i_184150, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089);
                        bool index_certs_181363;
                        
                        if (!y_181361) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_184150, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:384:63-73\n   #9  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_181364 = ((int64_t *) mem_185245)[i_184150];
                        int64_t defunc_0_f_res_181365 = ((int64_t *) mem_185247)[i_184150];
                        int64_t tmp_181366 = add64((int64_t) 1, i_184150);
                        bool x_181367 = sle64((int64_t) 0, tmp_181366);
                        bool y_181368 = slt64(tmp_181366, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089);
                        bool bounds_check_181369 = x_181367 && y_181368;
                        bool index_certs_181370;
                        
                        if (!bounds_check_181369) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_181366, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:384:63-73\n   #9  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_181371 = ((int64_t *) mem_185245)[tmp_181366];
                        int64_t defunc_0_f_res_181372 = ((int64_t *) mem_185247)[tmp_181366];
                        int64_t merge_sequential_arg2_181373 = add64(stride_181067, defunc_0_f_res_181365);
                        int64_t merge_sequential_arg2_181374 = add64(stride_181067, defunc_0_f_res_181372);
                        int64_t j_m_i_181375 = sub64(merge_sequential_arg2_181374, merge_sequential_arg2_181373);
                        bool empty_slice_181376 = j_m_i_181375 == (int64_t) 0;
                        int64_t m_181377 = sub64(j_m_i_181375, (int64_t) 1);
                        int64_t i_p_m_t_s_181378 = add64(merge_sequential_arg2_181373, m_181377);
                        bool zzero_leq_i_p_m_t_s_181379 = sle64((int64_t) 0, i_p_m_t_s_181378);
                        bool i_p_m_t_s_leq_w_181380 = slt64(i_p_m_t_s_181378, next_stride_181068);
                        bool zzero_lte_i_181381 = sle64((int64_t) 0, merge_sequential_arg2_181373);
                        bool i_lte_j_181382 = sle64(merge_sequential_arg2_181373, merge_sequential_arg2_181374);
                        bool y_181383 = i_p_m_t_s_leq_w_181380 && zzero_lte_i_181381;
                        bool y_181384 = zzero_leq_i_p_m_t_s_181379 && y_181383;
                        bool forwards_ok_181385 = i_lte_j_181382 && y_181384;
                        bool ok_or_empty_181386 = empty_slice_181376 || forwards_ok_181385;
                        bool index_certs_181387;
                        
                        if (!ok_or_empty_181386) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_181373, ":", (long long) merge_sequential_arg2_181374, "] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:384:63-73\n   #9  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_181388 = sub64(defunc_0_f_res_181371, defunc_0_f_res_181364);
                        bool empty_slice_181389 = j_m_i_181388 == (int64_t) 0;
                        int64_t m_181390 = sub64(j_m_i_181388, (int64_t) 1);
                        int64_t i_p_m_t_s_181391 = add64(defunc_0_f_res_181364, m_181390);
                        bool zzero_leq_i_p_m_t_s_181392 = sle64((int64_t) 0, i_p_m_t_s_181391);
                        bool i_p_m_t_s_leq_w_181393 = slt64(i_p_m_t_s_181391, next_stride_181068);
                        bool zzero_lte_i_181394 = sle64((int64_t) 0, defunc_0_f_res_181364);
                        bool i_lte_j_181395 = sle64(defunc_0_f_res_181364, defunc_0_f_res_181371);
                        bool y_181396 = i_p_m_t_s_leq_w_181393 && zzero_lte_i_181394;
                        bool y_181397 = zzero_leq_i_p_m_t_s_181392 && y_181396;
                        bool forwards_ok_181398 = i_lte_j_181395 && y_181397;
                        bool ok_or_empty_181399 = empty_slice_181389 || forwards_ok_181398;
                        bool index_certs_181400;
                        
                        if (!ok_or_empty_181399) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_181364, ":", (long long) defunc_0_f_res_181371, "] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:384:63-73\n   #9  ftsort.fut:377:1-384:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_181401 = slt64((int64_t) 0, j_m_i_181388);
                        int8_t dummy_181402;
                        int64_t dummy_181403;
                        float dummy_181404;
                        
                        if (cond_181401) {
                            bool index_certs_183912;
                            
                            if (!cond_181401) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_181388, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:384:63-73\n   #11 ftsort.fut:377:1-384:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_183913 = start_181141 + defunc_0_f_res_181364;
                            int8_t head_res_183914 = ((int8_t *) mem_param_185217.mem)[slice_183913];
                            int64_t head_res_183915 = ((int64_t *) mem_param_185220.mem)[slice_183913];
                            float head_res_183916 = ((float *) mem_param_185223.mem)[slice_183913];
                            
                            dummy_181402 = head_res_183914;
                            dummy_181403 = head_res_183915;
                            dummy_181404 = head_res_183916;
                        } else {
                            bool y_181410 = slt64((int64_t) 0, j_m_i_181375);
                            bool index_certs_181411;
                            
                            if (!y_181410) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_181375, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:384:63-73\n   #11 ftsort.fut:377:1-384:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_181412 = start_181141 + merge_sequential_arg2_181373;
                            int8_t head_res_181413 = ((int8_t *) mem_param_185217.mem)[slice_181412];
                            int64_t head_res_181414 = ((int64_t *) mem_param_185220.mem)[slice_181412];
                            float head_res_181415 = ((float *) mem_param_185223.mem)[slice_181412];
                            
                            dummy_181402 = head_res_181413;
                            dummy_181403 = head_res_181414;
                            dummy_181404 = head_res_181415;
                        }
                        for (int64_t nest_i_185971 = 0; nest_i_185971 < merge_block_sizze_180905; nest_i_185971++) {
                            ((int8_t *) mem_185261)[i_184150 * merge_block_sizze_180905 + nest_i_185971] = dummy_181402;
                        }
                        for (int64_t nest_i_185972 = 0; nest_i_185972 < merge_block_sizze_180905; nest_i_185972++) {
                            ((int64_t *) mem_185264)[i_184150 * merge_block_sizze_180905 + nest_i_185972] = dummy_181403;
                        }
                        for (int64_t nest_i_185973 = 0; nest_i_185973 < merge_block_sizze_180905; nest_i_185973++) {
                            ((float *) mem_185267)[i_184150 * merge_block_sizze_180905 + nest_i_185973] = dummy_181404;
                        }
                        
                        int64_t data_181419;
                        int64_t i_181424 = (int64_t) 0;
                        
                        for (int64_t k_181423 = 0; k_181423 < merge_block_sizze_180905; k_181423++) {
                            int64_t j_181428 = sub64(k_181423, i_181424);
                            bool cond_181429 = j_181428 == j_m_i_181375;
                            bool cond_181430;
                            
                            if (cond_181429) {
                                cond_181430 = 1;
                            } else {
                                bool cond_181431 = slt64(i_181424, j_m_i_181388);
                                bool cond_f_res_181432;
                                
                                if (cond_181431) {
                                    bool x_183917 = sle64((int64_t) 0, j_181428);
                                    bool y_183918 = slt64(j_181428, j_m_i_181375);
                                    bool bounds_check_183919 = x_183917 && y_183918;
                                    bool index_certs_183920;
                                    
                                    if (!bounds_check_183919) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181428, "] out of bounds for array of shape [", (long long) j_m_i_181375, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:384:63-73\n   #10 ftsort.fut:377:1-384:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_183926 = sle64((int64_t) 0, i_181424);
                                    bool bounds_check_183927 = cond_181431 && x_183926;
                                    bool index_certs_183928;
                                    
                                    if (!bounds_check_183927) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_181424, "] out of bounds for array of shape [", (long long) j_m_i_181388, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:384:63-73\n   #10 ftsort.fut:377:1-384:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_183921 = merge_sequential_arg2_181373 + j_181428;
                                    int64_t slice_183922 = start_181141 + slice_183921;
                                    int8_t leq_arg1_183923 = ((int8_t *) mem_param_185217.mem)[slice_183922];
                                    int64_t leq_arg1_183924 = ((int64_t *) mem_param_185220.mem)[slice_183922];
                                    float leq_arg1_183925 = ((float *) mem_param_185223.mem)[slice_183922];
                                    int64_t slice_183929 = defunc_0_f_res_181364 + i_181424;
                                    int64_t slice_183930 = start_181141 + slice_183929;
                                    int8_t leq_arg0_183931 = ((int8_t *) mem_param_185217.mem)[slice_183930];
                                    int64_t leq_arg0_183932 = ((int64_t *) mem_param_185220.mem)[slice_183930];
                                    float leq_arg0_183933 = ((float *) mem_param_185223.mem)[slice_183930];
                                    bool cond_183934 = leq_arg0_183931 == leq_arg1_183923;
                                    bool defunc_0_leq_res_t_res_183935 = sle64(leq_arg0_183932, leq_arg1_183924);
                                    bool defunc_0_leq_res_183936 = leq_arg0_183933 <= leq_arg1_183925;
                                    bool x_183937 = cond_183934 && defunc_0_leq_res_t_res_183935;
                                    bool x_183938 = !cond_183934;
                                    bool y_183939 = defunc_0_leq_res_183936 && x_183938;
                                    bool defunc_0_leq_res_183940 = x_183937 || y_183939;
                                    
                                    cond_f_res_181432 = defunc_0_leq_res_183940;
                                } else {
                                    cond_f_res_181432 = 0;
                                }
                                cond_181430 = cond_f_res_181432;
                            }
                            
                            int64_t loopres_181457;
                            int8_t loopres_181458;
                            int64_t loopres_181459;
                            float loopres_181460;
                            
                            if (cond_181430) {
                                bool x_183942 = sle64((int64_t) 0, i_181424);
                                bool y_183943 = slt64(i_181424, j_m_i_181388);
                                bool bounds_check_183944 = x_183942 && y_183943;
                                bool index_certs_183945;
                                
                                if (!bounds_check_183944) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_181424, "] out of bounds for array of shape [", (long long) j_m_i_181388, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:384:63-73\n   #10 ftsort.fut:377:1-384:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_183941 = add64((int64_t) 1, i_181424);
                                int64_t slice_183946 = defunc_0_f_res_181364 + i_181424;
                                int64_t slice_183947 = start_181141 + slice_183946;
                                int8_t tmp_183948 = ((int8_t *) mem_param_185217.mem)[slice_183947];
                                int64_t tmp_183949 = ((int64_t *) mem_param_185220.mem)[slice_183947];
                                float tmp_183950 = ((float *) mem_param_185223.mem)[slice_183947];
                                
                                loopres_181457 = tmp_183941;
                                loopres_181458 = tmp_183948;
                                loopres_181459 = tmp_183949;
                                loopres_181460 = tmp_183950;
                            } else {
                                bool x_181471 = sle64((int64_t) 0, j_181428);
                                bool y_181472 = slt64(j_181428, j_m_i_181375);
                                bool bounds_check_181473 = x_181471 && y_181472;
                                bool index_certs_181474;
                                
                                if (!bounds_check_181473) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181428, "] out of bounds for array of shape [", (long long) j_m_i_181375, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:384:63-73\n   #10 ftsort.fut:377:1-384:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_181475 = merge_sequential_arg2_181373 + j_181428;
                                int64_t slice_181476 = start_181141 + slice_181475;
                                int8_t tmp_181477 = ((int8_t *) mem_param_185217.mem)[slice_181476];
                                int64_t tmp_181478 = ((int64_t *) mem_param_185220.mem)[slice_181476];
                                float tmp_181479 = ((float *) mem_param_185223.mem)[slice_181476];
                                
                                loopres_181457 = i_181424;
                                loopres_181458 = tmp_181477;
                                loopres_181459 = tmp_181478;
                                loopres_181460 = tmp_181479;
                            }
                            ((int8_t *) mem_185261)[i_184150 * merge_block_sizze_180905 + k_181423] = loopres_181458;
                            ((int64_t *) mem_185264)[i_184150 * merge_block_sizze_180905 + k_181423] = loopres_181459;
                            ((float *) mem_185267)[i_184150 * merge_block_sizze_180905 + k_181423] = loopres_181460;
                            
                            int64_t i_tmp_185974 = loopres_181457;
                            
                            i_181424 = i_tmp_185974;
                        }
                        data_181419 = i_181424;
                    }
                    if (memblock_alloc(ctx, &mem_185316, flat_dim_181091, "mem_185316")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_185316.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (uint8_t *) mem_185261, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (int64_t []) {num_blocks_181088, merge_block_sizze_180905});
                    if (memblock_alloc(ctx, &mem_185320, bytes_185263, "mem_185320")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_185320.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (uint64_t *) mem_185264, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (int64_t []) {num_blocks_181088, merge_block_sizze_180905});
                    if (memblock_alloc(ctx, &mem_185324, bytes_185266, "mem_185324")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_185324.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (uint32_t *) mem_185267, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (int64_t []) {num_blocks_181088, merge_block_sizze_180905});
                    if (memblock_set(ctx, &ext_mem_185357, &mem_185316, "mem_185316") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185354, &mem_185320, "mem_185320") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185351, &mem_185324, "mem_185324") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_185225, i_184160 * next_stride_181068, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_185357.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_181068});
                if (memblock_unref(ctx, &ext_mem_185357, "ext_mem_185357") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_185228, i_184160 * next_stride_181068, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185354.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_181068});
                if (memblock_unref(ctx, &ext_mem_185354, "ext_mem_185354") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_185231, i_184160 * next_stride_181068, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_185351.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_181068});
                if (memblock_unref(ctx, &ext_mem_185351, "ext_mem_185351") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_185371, bytes_185224, "mem_185371")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_185371.mem, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (uint8_t *) mem_185225, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (int64_t []) {num_merges_181072, next_stride_181068});
            if (memblock_alloc(ctx, &mem_185375, bytes_185227, "mem_185375")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_185375.mem, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (uint64_t *) mem_185228, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (int64_t []) {num_merges_181072, next_stride_181068});
            if (memblock_alloc(ctx, &mem_185379, bytes_185230, "mem_185379")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_185379.mem, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (uint32_t *) mem_185231, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (int64_t []) {num_merges_181072, next_stride_181068});
            
            bool loop_cond_181493 = slt64(next_stride_181068, flat_dim_180900);
            
            if (memblock_set(ctx, &mem_param_tmp_185941, &mem_185371, "mem_185371") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_185942, &mem_185375, "mem_185375") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_185943, &mem_185379, "mem_185379") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_185944 = bytes_185224;
            bool loop_while_tmp_185945 = loop_cond_181493;
            int64_t stride_tmp_185949 = next_stride_181068;
            
            if (memblock_set(ctx, &mem_param_185217, &mem_param_tmp_185941, "mem_param_tmp_185941") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_185220, &mem_param_tmp_185942, "mem_param_tmp_185942") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_185223, &mem_param_tmp_185943, "mem_param_tmp_185943") != 0)
                return 1;
            loop_dz2084Uz2082U_181062 = loop_dz2084Uz2082U_tmp_185944;
            loop_while_181063 = loop_while_tmp_185945;
            stride_181067 = stride_tmp_185949;
        }
        if (memblock_set(ctx, &ext_mem_185389, &mem_param_185217, "mem_param_185217") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185388, &mem_param_185220, "mem_param_185220") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185387, &mem_param_185223, "mem_param_185223") != 0)
            return 1;
        data_181056 = loop_dz2084Uz2082U_181062;
        data_181057 = loop_while_181063;
        data_181061 = stride_181067;
        if (memblock_unref(ctx, &mem_185205, "mem_185205") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185209, "mem_185209") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185213, "mem_185213") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_181496 = slt64(zs_lhs_180884, data_181056);
        bool y_181497 = i_p_m_t_s_leq_w_181496 && zzero_leq_i_p_m_t_s_181510;
        bool ok_or_empty_181498 = y_181497 || empty_slice_181508;
        bool index_certs_181499;
        
        if (!ok_or_empty_181498) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "] out of bounds for array of shape [", (long long) data_181056, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:384:63-73\n   #5  ftsort.fut:377:1-384:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_185398, &ext_mem_185389, "ext_mem_185389") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185395, &ext_mem_185388, "ext_mem_185388") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185392, &ext_mem_185387, "ext_mem_185387") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_185099, "mem_185099") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_185101, "mem_185101") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_185103, "mem_185103") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184307.mem, final_buffer_181515, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_185398.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_181516});
    if (memblock_unref(ctx, &ext_mem_185398, "ext_mem_185398") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184309.mem, final_buffer_181515, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185395.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_181516});
    if (memblock_unref(ctx, &ext_mem_185395, "ext_mem_185395") != 0)
        return 1;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_184311.mem, final_buffer_181515, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_185392.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_181516});
    if (memblock_unref(ctx, &ext_mem_185392, "ext_mem_185392") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185719, &mem_184309, "mem_184309") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185720, &mem_184307, "mem_184307") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185721, &mem_184311, "mem_184311") != 0)
        return 1;
    prim_out_185722 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803;
    if (memblock_set(ctx, &*mem_out_p_186097, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186098, &mem_out_185720, "mem_out_185720") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186099, &mem_out_185721, "mem_out_185721") != 0)
        return 1;
    *out_prim_out_186100 = prim_out_185722;
    
  cleanup:
    {
        free(mem_184322);
        free(mem_184324);
        free(mem_184363);
        free(mem_184366);
        free(mem_184369);
        free(mem_184382);
        free(mem_184384);
        free(mem_184386);
        free(mem_184483);
        free(mem_184486);
        free(mem_184489);
        free(mem_184503);
        free(mem_184505);
        free(mem_184519);
        free(mem_184522);
        free(mem_184525);
        free(mem_184667);
        free(mem_184669);
        free(mem_184684);
        free(mem_184686);
        free(mem_184689);
        free(mem_184692);
        free(mem_184726);
        free(mem_184729);
        free(mem_184732);
        free(mem_184745);
        free(mem_184747);
        free(mem_184749);
        free(mem_184846);
        free(mem_184849);
        free(mem_184852);
        free(mem_184866);
        free(mem_184868);
        free(mem_184882);
        free(mem_184885);
        free(mem_184888);
        free(mem_185105);
        free(mem_185108);
        free(mem_185111);
        free(mem_185124);
        free(mem_185126);
        free(mem_185128);
        free(mem_185225);
        free(mem_185228);
        free(mem_185231);
        free(mem_185245);
        free(mem_185247);
        free(mem_185261);
        free(mem_185264);
        free(mem_185267);
        if (memblock_unref(ctx, &mem_param_tmp_185943, "mem_param_tmp_185943") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185942, "mem_param_tmp_185942") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185941, "mem_param_tmp_185941") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185379, "mem_185379") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185375, "mem_185375") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185371, "mem_185371") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185324, "mem_185324") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185320, "mem_185320") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185316, "mem_185316") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185330, "mem_185330") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185328, "mem_185328") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185326, "mem_185326") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185351, "ext_mem_185351") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185354, "ext_mem_185354") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185357, "ext_mem_185357") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_185223, "mem_param_185223") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_185220, "mem_param_185220") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_185217, "mem_param_185217") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185387, "ext_mem_185387") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185388, "ext_mem_185388") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185389, "ext_mem_185389") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185213, "mem_185213") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185209, "mem_185209") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185205, "mem_185205") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185392, "ext_mem_185392") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185395, "ext_mem_185395") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185398, "ext_mem_185398") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185103, "mem_185103") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185101, "mem_185101") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185099, "mem_185099") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185877, "mem_param_tmp_185877") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185876, "mem_param_tmp_185876") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185875, "mem_param_tmp_185875") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184637, "mem_184637") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184633, "mem_184633") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184629, "mem_184629") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184582, "mem_184582") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184578, "mem_184578") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184574, "mem_184574") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184588, "mem_184588") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184586, "mem_184586") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184584, "mem_184584") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184609, "ext_mem_184609") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184612, "ext_mem_184612") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184615, "ext_mem_184615") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184481, "mem_param_184481") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184478, "mem_param_184478") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184475, "mem_param_184475") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184645, "ext_mem_184645") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184646, "ext_mem_184646") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184647, "ext_mem_184647") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184471, "mem_184471") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184467, "mem_184467") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184463, "mem_184463") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184650, "ext_mem_184650") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184653, "ext_mem_184653") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184656, "ext_mem_184656") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184361, "mem_184361") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184359, "mem_184359") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184357, "mem_184357") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184341, "mem_184341") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184339, "mem_184339") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184337, "mem_184337") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185048, "mem_185048") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185047, "mem_185047") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185045, "mem_185045") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185783, "mem_param_tmp_185783") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185782, "mem_param_tmp_185782") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185781, "mem_param_tmp_185781") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185000, "mem_185000") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184996, "mem_184996") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184992, "mem_184992") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184945, "mem_184945") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184941, "mem_184941") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184937, "mem_184937") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184951, "mem_184951") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184949, "mem_184949") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184947, "mem_184947") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184972, "ext_mem_184972") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184975, "ext_mem_184975") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184978, "ext_mem_184978") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184844, "mem_param_184844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184841, "mem_param_184841") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184838, "mem_param_184838") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185008, "ext_mem_185008") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185009, "ext_mem_185009") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185010, "ext_mem_185010") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184834, "mem_184834") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184830, "mem_184830") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184826, "mem_184826") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185013, "ext_mem_185013") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185016, "ext_mem_185016") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185019, "ext_mem_185019") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184724, "mem_184724") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184722, "mem_184722") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184720, "mem_184720") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185069, "ext_mem_185069") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185072, "ext_mem_185072") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185075, "ext_mem_185075") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184311, "mem_184311") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184309, "mem_184309") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184307, "mem_184307") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185721, "mem_out_185721") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185720, "mem_out_185720") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_int(struct futhark_context *ctx, struct memblock *mem_out_p_186151, struct memblock *mem_out_p_186152, struct memblock *mem_out_p_186153, int64_t *out_prim_out_186154, struct memblock a_list_mem_184305, struct memblock b_list_mem_184306, int64_t na_132665, int64_t nb_132666, int64_t window_sizze_132667, int64_t threads_132668, bool inParallel_132671)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_184322_cached_sizze_186155 = 0;
    unsigned char *mem_184322 = NULL;
    int64_t mem_184324_cached_sizze_186156 = 0;
    unsigned char *mem_184324 = NULL;
    int64_t mem_184363_cached_sizze_186157 = 0;
    unsigned char *mem_184363 = NULL;
    int64_t mem_184366_cached_sizze_186158 = 0;
    unsigned char *mem_184366 = NULL;
    int64_t mem_184369_cached_sizze_186159 = 0;
    unsigned char *mem_184369 = NULL;
    int64_t mem_184382_cached_sizze_186160 = 0;
    unsigned char *mem_184382 = NULL;
    int64_t mem_184384_cached_sizze_186161 = 0;
    unsigned char *mem_184384 = NULL;
    int64_t mem_184386_cached_sizze_186162 = 0;
    unsigned char *mem_184386 = NULL;
    int64_t mem_184483_cached_sizze_186163 = 0;
    unsigned char *mem_184483 = NULL;
    int64_t mem_184486_cached_sizze_186164 = 0;
    unsigned char *mem_184486 = NULL;
    int64_t mem_184489_cached_sizze_186165 = 0;
    unsigned char *mem_184489 = NULL;
    int64_t mem_184503_cached_sizze_186166 = 0;
    unsigned char *mem_184503 = NULL;
    int64_t mem_184505_cached_sizze_186167 = 0;
    unsigned char *mem_184505 = NULL;
    int64_t mem_184519_cached_sizze_186168 = 0;
    unsigned char *mem_184519 = NULL;
    int64_t mem_184522_cached_sizze_186169 = 0;
    unsigned char *mem_184522 = NULL;
    int64_t mem_184525_cached_sizze_186170 = 0;
    unsigned char *mem_184525 = NULL;
    int64_t mem_184667_cached_sizze_186171 = 0;
    unsigned char *mem_184667 = NULL;
    int64_t mem_184669_cached_sizze_186172 = 0;
    unsigned char *mem_184669 = NULL;
    int64_t mem_184684_cached_sizze_186173 = 0;
    unsigned char *mem_184684 = NULL;
    int64_t mem_184686_cached_sizze_186174 = 0;
    unsigned char *mem_184686 = NULL;
    int64_t mem_184689_cached_sizze_186175 = 0;
    unsigned char *mem_184689 = NULL;
    int64_t mem_184692_cached_sizze_186176 = 0;
    unsigned char *mem_184692 = NULL;
    int64_t mem_184726_cached_sizze_186177 = 0;
    unsigned char *mem_184726 = NULL;
    int64_t mem_184729_cached_sizze_186178 = 0;
    unsigned char *mem_184729 = NULL;
    int64_t mem_184732_cached_sizze_186179 = 0;
    unsigned char *mem_184732 = NULL;
    int64_t mem_184745_cached_sizze_186180 = 0;
    unsigned char *mem_184745 = NULL;
    int64_t mem_184747_cached_sizze_186181 = 0;
    unsigned char *mem_184747 = NULL;
    int64_t mem_184749_cached_sizze_186182 = 0;
    unsigned char *mem_184749 = NULL;
    int64_t mem_184846_cached_sizze_186183 = 0;
    unsigned char *mem_184846 = NULL;
    int64_t mem_184849_cached_sizze_186184 = 0;
    unsigned char *mem_184849 = NULL;
    int64_t mem_184852_cached_sizze_186185 = 0;
    unsigned char *mem_184852 = NULL;
    int64_t mem_184866_cached_sizze_186186 = 0;
    unsigned char *mem_184866 = NULL;
    int64_t mem_184868_cached_sizze_186187 = 0;
    unsigned char *mem_184868 = NULL;
    int64_t mem_184882_cached_sizze_186188 = 0;
    unsigned char *mem_184882 = NULL;
    int64_t mem_184885_cached_sizze_186189 = 0;
    unsigned char *mem_184885 = NULL;
    int64_t mem_184888_cached_sizze_186190 = 0;
    unsigned char *mem_184888 = NULL;
    int64_t mem_185105_cached_sizze_186191 = 0;
    unsigned char *mem_185105 = NULL;
    int64_t mem_185108_cached_sizze_186192 = 0;
    unsigned char *mem_185108 = NULL;
    int64_t mem_185111_cached_sizze_186193 = 0;
    unsigned char *mem_185111 = NULL;
    int64_t mem_185124_cached_sizze_186194 = 0;
    unsigned char *mem_185124 = NULL;
    int64_t mem_185126_cached_sizze_186195 = 0;
    unsigned char *mem_185126 = NULL;
    int64_t mem_185128_cached_sizze_186196 = 0;
    unsigned char *mem_185128 = NULL;
    int64_t mem_185225_cached_sizze_186197 = 0;
    unsigned char *mem_185225 = NULL;
    int64_t mem_185228_cached_sizze_186198 = 0;
    unsigned char *mem_185228 = NULL;
    int64_t mem_185231_cached_sizze_186199 = 0;
    unsigned char *mem_185231 = NULL;
    int64_t mem_185245_cached_sizze_186200 = 0;
    unsigned char *mem_185245 = NULL;
    int64_t mem_185247_cached_sizze_186201 = 0;
    unsigned char *mem_185247 = NULL;
    int64_t mem_185261_cached_sizze_186202 = 0;
    unsigned char *mem_185261 = NULL;
    int64_t mem_185264_cached_sizze_186203 = 0;
    unsigned char *mem_185264 = NULL;
    int64_t mem_185267_cached_sizze_186204 = 0;
    unsigned char *mem_185267 = NULL;
    struct memblock mem_param_tmp_185943;
    
    mem_param_tmp_185943.references = NULL;
    
    struct memblock mem_param_tmp_185942;
    
    mem_param_tmp_185942.references = NULL;
    
    struct memblock mem_param_tmp_185941;
    
    mem_param_tmp_185941.references = NULL;
    
    struct memblock mem_185379;
    
    mem_185379.references = NULL;
    
    struct memblock mem_185375;
    
    mem_185375.references = NULL;
    
    struct memblock mem_185371;
    
    mem_185371.references = NULL;
    
    struct memblock mem_185324;
    
    mem_185324.references = NULL;
    
    struct memblock mem_185320;
    
    mem_185320.references = NULL;
    
    struct memblock mem_185316;
    
    mem_185316.references = NULL;
    
    struct memblock mem_185330;
    
    mem_185330.references = NULL;
    
    struct memblock mem_185328;
    
    mem_185328.references = NULL;
    
    struct memblock mem_185326;
    
    mem_185326.references = NULL;
    
    struct memblock ext_mem_185351;
    
    ext_mem_185351.references = NULL;
    
    struct memblock ext_mem_185354;
    
    ext_mem_185354.references = NULL;
    
    struct memblock ext_mem_185357;
    
    ext_mem_185357.references = NULL;
    
    struct memblock mem_param_185223;
    
    mem_param_185223.references = NULL;
    
    struct memblock mem_param_185220;
    
    mem_param_185220.references = NULL;
    
    struct memblock mem_param_185217;
    
    mem_param_185217.references = NULL;
    
    struct memblock ext_mem_185387;
    
    ext_mem_185387.references = NULL;
    
    struct memblock ext_mem_185388;
    
    ext_mem_185388.references = NULL;
    
    struct memblock ext_mem_185389;
    
    ext_mem_185389.references = NULL;
    
    struct memblock mem_185213;
    
    mem_185213.references = NULL;
    
    struct memblock mem_185209;
    
    mem_185209.references = NULL;
    
    struct memblock mem_185205;
    
    mem_185205.references = NULL;
    
    struct memblock ext_mem_185392;
    
    ext_mem_185392.references = NULL;
    
    struct memblock ext_mem_185395;
    
    ext_mem_185395.references = NULL;
    
    struct memblock ext_mem_185398;
    
    ext_mem_185398.references = NULL;
    
    struct memblock mem_185103;
    
    mem_185103.references = NULL;
    
    struct memblock mem_185101;
    
    mem_185101.references = NULL;
    
    struct memblock mem_185099;
    
    mem_185099.references = NULL;
    
    struct memblock mem_param_tmp_185877;
    
    mem_param_tmp_185877.references = NULL;
    
    struct memblock mem_param_tmp_185876;
    
    mem_param_tmp_185876.references = NULL;
    
    struct memblock mem_param_tmp_185875;
    
    mem_param_tmp_185875.references = NULL;
    
    struct memblock mem_184637;
    
    mem_184637.references = NULL;
    
    struct memblock mem_184633;
    
    mem_184633.references = NULL;
    
    struct memblock mem_184629;
    
    mem_184629.references = NULL;
    
    struct memblock mem_184582;
    
    mem_184582.references = NULL;
    
    struct memblock mem_184578;
    
    mem_184578.references = NULL;
    
    struct memblock mem_184574;
    
    mem_184574.references = NULL;
    
    struct memblock mem_184588;
    
    mem_184588.references = NULL;
    
    struct memblock mem_184586;
    
    mem_184586.references = NULL;
    
    struct memblock mem_184584;
    
    mem_184584.references = NULL;
    
    struct memblock ext_mem_184609;
    
    ext_mem_184609.references = NULL;
    
    struct memblock ext_mem_184612;
    
    ext_mem_184612.references = NULL;
    
    struct memblock ext_mem_184615;
    
    ext_mem_184615.references = NULL;
    
    struct memblock mem_param_184481;
    
    mem_param_184481.references = NULL;
    
    struct memblock mem_param_184478;
    
    mem_param_184478.references = NULL;
    
    struct memblock mem_param_184475;
    
    mem_param_184475.references = NULL;
    
    struct memblock ext_mem_184645;
    
    ext_mem_184645.references = NULL;
    
    struct memblock ext_mem_184646;
    
    ext_mem_184646.references = NULL;
    
    struct memblock ext_mem_184647;
    
    ext_mem_184647.references = NULL;
    
    struct memblock mem_184471;
    
    mem_184471.references = NULL;
    
    struct memblock mem_184467;
    
    mem_184467.references = NULL;
    
    struct memblock mem_184463;
    
    mem_184463.references = NULL;
    
    struct memblock ext_mem_184650;
    
    ext_mem_184650.references = NULL;
    
    struct memblock ext_mem_184653;
    
    ext_mem_184653.references = NULL;
    
    struct memblock ext_mem_184656;
    
    ext_mem_184656.references = NULL;
    
    struct memblock mem_184361;
    
    mem_184361.references = NULL;
    
    struct memblock mem_184359;
    
    mem_184359.references = NULL;
    
    struct memblock mem_184357;
    
    mem_184357.references = NULL;
    
    struct memblock mem_184341;
    
    mem_184341.references = NULL;
    
    struct memblock mem_184339;
    
    mem_184339.references = NULL;
    
    struct memblock mem_184337;
    
    mem_184337.references = NULL;
    
    struct memblock mem_185048;
    
    mem_185048.references = NULL;
    
    struct memblock mem_185047;
    
    mem_185047.references = NULL;
    
    struct memblock mem_185045;
    
    mem_185045.references = NULL;
    
    struct memblock mem_param_tmp_185783;
    
    mem_param_tmp_185783.references = NULL;
    
    struct memblock mem_param_tmp_185782;
    
    mem_param_tmp_185782.references = NULL;
    
    struct memblock mem_param_tmp_185781;
    
    mem_param_tmp_185781.references = NULL;
    
    struct memblock mem_185000;
    
    mem_185000.references = NULL;
    
    struct memblock mem_184996;
    
    mem_184996.references = NULL;
    
    struct memblock mem_184992;
    
    mem_184992.references = NULL;
    
    struct memblock mem_184945;
    
    mem_184945.references = NULL;
    
    struct memblock mem_184941;
    
    mem_184941.references = NULL;
    
    struct memblock mem_184937;
    
    mem_184937.references = NULL;
    
    struct memblock mem_184951;
    
    mem_184951.references = NULL;
    
    struct memblock mem_184949;
    
    mem_184949.references = NULL;
    
    struct memblock mem_184947;
    
    mem_184947.references = NULL;
    
    struct memblock ext_mem_184972;
    
    ext_mem_184972.references = NULL;
    
    struct memblock ext_mem_184975;
    
    ext_mem_184975.references = NULL;
    
    struct memblock ext_mem_184978;
    
    ext_mem_184978.references = NULL;
    
    struct memblock mem_param_184844;
    
    mem_param_184844.references = NULL;
    
    struct memblock mem_param_184841;
    
    mem_param_184841.references = NULL;
    
    struct memblock mem_param_184838;
    
    mem_param_184838.references = NULL;
    
    struct memblock ext_mem_185008;
    
    ext_mem_185008.references = NULL;
    
    struct memblock ext_mem_185009;
    
    ext_mem_185009.references = NULL;
    
    struct memblock ext_mem_185010;
    
    ext_mem_185010.references = NULL;
    
    struct memblock mem_184834;
    
    mem_184834.references = NULL;
    
    struct memblock mem_184830;
    
    mem_184830.references = NULL;
    
    struct memblock mem_184826;
    
    mem_184826.references = NULL;
    
    struct memblock ext_mem_185013;
    
    ext_mem_185013.references = NULL;
    
    struct memblock ext_mem_185016;
    
    ext_mem_185016.references = NULL;
    
    struct memblock ext_mem_185019;
    
    ext_mem_185019.references = NULL;
    
    struct memblock mem_184724;
    
    mem_184724.references = NULL;
    
    struct memblock mem_184722;
    
    mem_184722.references = NULL;
    
    struct memblock mem_184720;
    
    mem_184720.references = NULL;
    
    struct memblock ext_mem_185069;
    
    ext_mem_185069.references = NULL;
    
    struct memblock ext_mem_185072;
    
    ext_mem_185072.references = NULL;
    
    struct memblock ext_mem_185075;
    
    ext_mem_185075.references = NULL;
    
    struct memblock mem_184311;
    
    mem_184311.references = NULL;
    
    struct memblock mem_184309;
    
    mem_184309.references = NULL;
    
    struct memblock mem_184307;
    
    mem_184307.references = NULL;
    
    struct memblock mem_out_185721;
    
    mem_out_185721.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t prim_out_185722;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803 = add64(na_132665, nb_132666);
    
    if (memblock_alloc(ctx, &mem_184307, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, "mem_184307")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_185723 = 0; nest_i_185723 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803; nest_i_185723++) {
        ((int8_t *) mem_184307.mem)[nest_i_185723] = (int8_t) -1;
    }
    
    int64_t bytes_184308 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803;
    
    if (memblock_alloc(ctx, &mem_184309, bytes_184308, "mem_184309")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_185724 = 0; nest_i_185724 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803; nest_i_185724++) {
        ((int64_t *) mem_184309.mem)[nest_i_185724] = (int64_t) -1;
    }
    
    int64_t bytes_184310 = (int64_t) 4 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803;
    
    if (memblock_alloc(ctx, &mem_184311, bytes_184310, "mem_184311")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_185725 = 0; nest_i_185725 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803; nest_i_185725++) {
        ((int32_t *) mem_184311.mem)[nest_i_185725] = 0;
    }
    
    int64_t zl_rhs_178807 = sub64(na_132665, window_sizze_132667);
    bool cond_178808 = slt64((int64_t) 0, zl_rhs_178807);
    int64_t zl_rhs_178809 = sub64(nb_132666, window_sizze_132667);
    bool loop_cond_t_res_178810 = slt64((int64_t) 0, zl_rhs_178809);
    bool x_178811 = cond_178808 && loop_cond_t_res_178810;
    bool empty_slice_178812 = window_sizze_132667 == (int64_t) 0;
    int64_t m_178813 = sub64(window_sizze_132667, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838 = add64((int64_t) 1, threads_132668);
    int64_t partitionFunc_arg0_179839 = mul64((int64_t) 2, threads_132668);
    bool y_179841 = slt64((int64_t) 0, window_sizze_132667);
    bool loop_cond_180078 = slt64((int64_t) 0, threads_132668);
    bool zzero_178858 = threads_132668 == (int64_t) 0;
    bool nonzzero_178859 = !zzero_178858;
    bool loop_not_taken_181607 = !inParallel_132671;
    bool protect_assert_disj_181608 = nonzzero_178859 || loop_not_taken_181607;
    bool loop_not_taken_181697 = !x_178811;
    bool protect_assert_disj_181698 = protect_assert_disj_181608 || loop_not_taken_181697;
    bool nonzzero_cert_178860;
    
    if (!protect_assert_disj_181698) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:251:24-32\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_178861 = sdiv_safe64(window_sizze_132667, threads_132668);
    int64_t perThread_178862 = add64((int64_t) 1, zp_rhs_178861);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_178863 = mul64(threads_132668, perThread_178862);
    bool protect_assert_disj_181744 = inParallel_132671 || y_179841;
    bool protect_assert_disj_181748 = loop_not_taken_181697 || protect_assert_disj_181744;
    bool index_certs_179842;
    
    if (!protect_assert_disj_181748) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:143:20-25\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_179855 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, (int64_t) 1);
    bool y_180805 = slt64(threads_132668, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
    bool protect_assert_disj_181713 = y_179841 || loop_not_taken_181607;
    bool protect_assert_disj_181752 = loop_not_taken_181697 || protect_assert_disj_181713;
    bool index_certs_178866;
    
    if (!protect_assert_disj_181752) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:143:20-25\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_179857 = !bounds_invalid_upwards_179855;
    bool protect_assert_disj_181760 = inParallel_132671 || y_180805;
    bool protect_assert_disj_181762 = loop_not_taken_181697 || protect_assert_disj_181760;
    bool index_certs_180807;
    
    if (!protect_assert_disj_181762) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_132668, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:241:7-31\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_181756 = y_180805 || loop_not_taken_181607;
    bool protect_assert_disj_181764 = loop_not_taken_181697 || protect_assert_disj_181756;
    bool index_certs_179820;
    
    if (!protect_assert_disj_181764) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_132668, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:279:7-31\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_181772 = inParallel_132671 || valid_179857;
    bool protect_assert_disj_181774 = loop_not_taken_181697 || protect_assert_disj_181772;
    bool range_valid_c_179858;
    
    if (!protect_assert_disj_181774) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, " is invalid.", "-> #0  ftsort.fut:145:36-50\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_181616 = sle64((int64_t) 1, threads_132668);
    bool protect_assert_disj_181768 = valid_179857 || loop_not_taken_181607;
    bool protect_assert_disj_181776 = loop_not_taken_181697 || protect_assert_disj_181768;
    bool range_valid_c_178873;
    
    if (!protect_assert_disj_181776) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, " is invalid.", "-> #0  ftsort.fut:145:36-50\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_179860 = add64(window_sizze_132667, window_sizze_132667);
    bool zzero_179861 = partitionFunc_arg0_179839 == (int64_t) 0;
    int64_t index_concat_i_181617 = sub64(threads_132668, (int64_t) 1);
    bool nonzzero_179862 = !zzero_179861;
    bool protect_assert_disj_181784 = inParallel_132671 || nonzzero_179862;
    bool protect_assert_disj_181790 = loop_not_taken_181697 || protect_assert_disj_181784;
    bool nonzzero_cert_179863;
    
    if (!protect_assert_disj_181790) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:148:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_181780 = nonzzero_179862 || loop_not_taken_181607;
    bool protect_assert_disj_181796 = loop_not_taken_181697 || protect_assert_disj_181780;
    bool nonzzero_cert_178878;
    
    if (!protect_assert_disj_181796) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:148:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184321 = (int64_t) 8 * threads_132668;
    int64_t bytes_184338 = (int64_t) 8 * window_sizze_132667;
    int64_t bytes_184340 = (int64_t) 4 * window_sizze_132667;
    int64_t bytes_184683 = perThread_178862 * bytes_184321;
    int64_t binop_x_184690 = (int64_t) 4 * threads_132668;
    int64_t bytes_184691 = perThread_178862 * binop_x_184690;
    bool defunc_0_merge_pipeline_res_178814;
    int64_t defunc_0_merge_pipeline_res_178818;
    int64_t defunc_0_merge_pipeline_res_178819;
    bool loop_while_178820;
    int64_t p_178824;
    int64_t p_178825;
    
    loop_while_178820 = x_178811;
    p_178824 = (int64_t) 0;
    p_178825 = (int64_t) 0;
    while (loop_while_178820) {
        int64_t ubs_178826 = add64(window_sizze_132667, p_178824);
        int64_t ubs_178827 = add64(window_sizze_132667, p_178825);
        int64_t ind_bottom_178828 = add64(p_178824, p_178825);
        int64_t ind_top_178829 = add64(window_sizze_132667, ind_bottom_178828);
        int64_t i_p_m_t_s_178830 = add64(m_178813, p_178824);
        bool zzero_leq_i_p_m_t_s_178831 = sle64((int64_t) 0, i_p_m_t_s_178830);
        bool i_p_m_t_s_leq_w_178832 = slt64(i_p_m_t_s_178830, na_132665);
        bool zzero_lte_i_178833 = sle64((int64_t) 0, p_178824);
        bool i_lte_j_178834 = sle64(p_178824, ubs_178826);
        bool y_178835 = i_p_m_t_s_leq_w_178832 && zzero_lte_i_178833;
        bool y_178836 = zzero_leq_i_p_m_t_s_178831 && y_178835;
        bool forwards_ok_178837 = i_lte_j_178834 && y_178836;
        bool ok_or_empty_178838 = empty_slice_178812 || forwards_ok_178837;
        bool index_certs_178839;
        
        if (!ok_or_empty_178838) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_178824, ":", (long long) ubs_178826, "] out of bounds for array of shape [", (long long) na_132665, "].", "-> #0  ftsort.fut:312:14-35\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_178841 = add64(m_178813, p_178825);
        bool zzero_leq_i_p_m_t_s_178842 = sle64((int64_t) 0, i_p_m_t_s_178841);
        bool i_p_m_t_s_leq_w_178843 = slt64(i_p_m_t_s_178841, nb_132666);
        bool zzero_lte_i_178844 = sle64((int64_t) 0, p_178825);
        bool i_lte_j_178845 = sle64(p_178825, ubs_178827);
        bool y_178846 = i_p_m_t_s_leq_w_178843 && zzero_lte_i_178844;
        bool y_178847 = zzero_leq_i_p_m_t_s_178842 && y_178846;
        bool forwards_ok_178848 = i_lte_j_178845 && y_178847;
        bool ok_or_empty_178849 = empty_slice_178812 || forwards_ok_178848;
        bool index_certs_178850;
        
        if (!ok_or_empty_178849) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_178825, ":", (long long) ubs_178827, "] out of bounds for array of shape [", (long long) nb_132666, "].", "-> #0  ftsort.fut:313:14-35\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_180819 = add64(m_178813, ind_bottom_178828);
        bool zzero_leq_i_p_m_t_s_180820 = sle64((int64_t) 0, i_p_m_t_s_180819);
        bool i_p_m_t_s_leq_w_180821 = slt64(i_p_m_t_s_180819, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803);
        bool zzero_lte_i_180822 = sle64((int64_t) 0, ind_bottom_178828);
        bool i_lte_j_180823 = sle64(ind_bottom_178828, ind_top_178829);
        bool y_180824 = i_p_m_t_s_leq_w_180821 && zzero_lte_i_180822;
        bool y_180825 = zzero_leq_i_p_m_t_s_180820 && y_180824;
        bool forwards_ok_180826 = i_lte_j_180823 && y_180825;
        bool ok_or_empty_180827 = empty_slice_178812 || forwards_ok_180826;
        bool index_certs_180828;
        
        if (!ok_or_empty_180827) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_178828, ":", (long long) ind_top_178829, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, "].", "-> #0  ftsort.fut:322:21-79\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_178852;
        int64_t loopres_178853;
        
        if (inParallel_132671) {
            int32_t leq_lhs_182277 = ((int32_t *) a_list_mem_184305.mem)[p_178824];
            int32_t leq_rhs_182278 = ((int32_t *) b_list_mem_184306.mem)[p_178825];
            bool defunc_0_leq_res_182279 = sle32(leq_lhs_182277, leq_rhs_182278);
            int32_t lowest_182280;
            
            if (defunc_0_leq_res_182279) {
                lowest_182280 = leq_lhs_182277;
            } else {
                lowest_182280 = leq_rhs_182278;
            }
            if (mem_184667_cached_sizze_186171 < bytes_184321) {
                err = lexical_realloc(ctx, &mem_184667, &mem_184667_cached_sizze_186171, bytes_184321);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184669_cached_sizze_186172 < bytes_184321) {
                err = lexical_realloc(ctx, &mem_184669, &mem_184669_cached_sizze_186172, bytes_184321);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_183969 = 0; i_183969 < threads_132668; i_183969++) {
                int64_t index_primexp_184241 = add64((int64_t) 1, i_183969);
                int64_t zs_lhs_182285 = mul64(zt_rhs_179860, index_primexp_184241);
                int64_t index_182286 = sdiv64(zs_lhs_182285, partitionFunc_arg0_179839);
                bool cond_182287 = slt64(window_sizze_132667, index_182286);
                int64_t loop_over_182288;
                
                if (cond_182287) {
                    loop_over_182288 = window_sizze_132667;
                } else {
                    loop_over_182288 = index_182286;
                }
                
                int64_t loop_over_182289;
                
                if (cond_182287) {
                    int64_t loop_over_t_res_182290 = sub64(index_182286, window_sizze_132667);
                    
                    loop_over_182289 = loop_over_t_res_182290;
                } else {
                    loop_over_182289 = (int64_t) 0;
                }
                
                int64_t loop_over_182291;
                
                if (cond_182287) {
                    int64_t zm_lhs_182292 = sub64(index_182286, window_sizze_132667);
                    int64_t loop_over_t_res_182293 = sub64(zm_lhs_182292, (int64_t) 1);
                    
                    loop_over_182291 = loop_over_t_res_182293;
                } else {
                    loop_over_182291 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_182294;
                int64_t defunc_0_f_res_182295;
                int64_t defunc_0_f_res_182296;
                int64_t defunc_0_f_res_182297;
                bool loop_while_182298;
                int64_t p_182299;
                int64_t p_182300;
                int64_t p_182301;
                
                loop_while_182298 = 1;
                p_182299 = loop_over_182291;
                p_182300 = loop_over_182288;
                p_182301 = loop_over_182289;
                while (loop_while_182298) {
                    int64_t zs_lhs_182302 = sub64(p_182300, p_182299);
                    int64_t offset_182303 = sdiv64(zs_lhs_182302, (int64_t) 2);
                    int64_t ai_182304 = sub64(p_182300, offset_182303);
                    int64_t max_arg1_182305 = add64(p_182301, offset_182303);
                    int64_t max_res_182306 = smax64((int64_t) 0, max_arg1_182305);
                    bool cond_182307 = slt64((int64_t) 0, max_res_182306);
                    int32_t b_prev_182308;
                    
                    if (cond_182307) {
                        int64_t tmp_182309 = sub64(max_res_182306, (int64_t) 1);
                        bool x_182310 = sle64((int64_t) 0, tmp_182309);
                        bool y_182311 = slt64(tmp_182309, window_sizze_132667);
                        bool bounds_check_182312 = x_182310 && y_182311;
                        bool index_certs_182313;
                        
                        if (!bounds_check_182312) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_182309, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:160:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_182314 = p_178825 + tmp_182309;
                        int32_t b_prev_t_res_182315 = ((int32_t *) b_list_mem_184306.mem)[slice_182314];
                        
                        b_prev_182308 = b_prev_t_res_182315;
                    } else {
                        b_prev_182308 = lowest_182280;
                    }
                    
                    bool cond_182316 = sle64(ai_182304, (int64_t) 0);
                    int64_t loopres_182317;
                    int64_t loopres_182318;
                    int64_t loopres_182319;
                    bool loopres_182320;
                    
                    if (cond_182316) {
                        loopres_182317 = p_182299;
                        loopres_182318 = (int64_t) 0;
                        loopres_182319 = max_res_182306;
                        loopres_182320 = 0;
                    } else {
                        bool cond_182321 = sle64(window_sizze_132667, max_res_182306);
                        int64_t loopres_f_res_182322;
                        int64_t loopres_f_res_182323;
                        int64_t loopres_f_res_182324;
                        bool loopres_f_res_182325;
                        
                        if (cond_182321) {
                            int64_t min_res_182327 = smin64(m_178813, ai_182304);
                            bool x_182328 = sle64((int64_t) 0, m_178813);
                            bool y_182329 = slt64(m_178813, window_sizze_132667);
                            bool bounds_check_182330 = x_182328 && y_182329;
                            bool index_certs_182331;
                            
                            if (!bounds_check_182330) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_178813, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:171:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_182334 = sle64((int64_t) 0, min_res_182327);
                            bool y_182335 = slt64(min_res_182327, window_sizze_132667);
                            bool bounds_check_182336 = x_182334 && y_182335;
                            bool index_certs_182337;
                            
                            if (!bounds_check_182336) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_182327, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:171:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int32_t leq_lhs_182333 = ((int32_t *) b_list_mem_184306.mem)[i_p_m_t_s_178841];
                            int64_t slice_182338 = p_178824 + min_res_182327;
                            int32_t leq_rhs_182339 = ((int32_t *) a_list_mem_184305.mem)[slice_182338];
                            bool defunc_0_leq_res_182340 = sle32(leq_lhs_182333, leq_rhs_182339);
                            int64_t loopres_f_res_t_res_182341;
                            
                            if (defunc_0_leq_res_182340) {
                                loopres_f_res_t_res_182341 = ai_182304;
                            } else {
                                loopres_f_res_t_res_182341 = p_182300;
                            }
                            
                            bool x_182342 = !defunc_0_leq_res_182340;
                            int64_t loopres_f_res_t_res_182343;
                            
                            if (defunc_0_leq_res_182340) {
                                loopres_f_res_t_res_182343 = window_sizze_132667;
                            } else {
                                int64_t tmp_182344 = sub64(m_178813, offset_182303);
                                
                                loopres_f_res_t_res_182343 = tmp_182344;
                            }
                            loopres_f_res_182322 = p_182299;
                            loopres_f_res_182323 = loopres_f_res_t_res_182341;
                            loopres_f_res_182324 = loopres_f_res_t_res_182343;
                            loopres_f_res_182325 = x_182342;
                        } else {
                            bool cond_182345 = sle64(window_sizze_132667, ai_182304);
                            int64_t loopres_f_res_f_res_182346;
                            int64_t loopres_f_res_f_res_182347;
                            int64_t loopres_f_res_f_res_182348;
                            bool loopres_f_res_f_res_182349;
                            
                            if (cond_182345) {
                                int64_t min_res_182351 = smin64(m_178813, max_res_182306);
                                bool x_182352 = sle64((int64_t) 0, m_178813);
                                bool y_182353 = slt64(m_178813, window_sizze_132667);
                                bool bounds_check_182354 = x_182352 && y_182353;
                                bool index_certs_182355;
                                
                                if (!bounds_check_182354) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_178813, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:178:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_182358 = sle64((int64_t) 0, min_res_182351);
                                bool y_182359 = slt64(min_res_182351, window_sizze_132667);
                                bool bounds_check_182360 = x_182358 && y_182359;
                                bool index_certs_182361;
                                
                                if (!bounds_check_182360) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_182351, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:178:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int32_t leq_lhs_182357 = ((int32_t *) a_list_mem_184305.mem)[i_p_m_t_s_178830];
                                int64_t slice_182362 = p_178825 + min_res_182351;
                                int32_t leq_rhs_182363 = ((int32_t *) b_list_mem_184306.mem)[slice_182362];
                                bool defunc_0_leq_res_182364 = sle32(leq_lhs_182357, leq_rhs_182363);
                                int64_t loopres_f_res_f_res_t_res_182365;
                                
                                if (defunc_0_leq_res_182364) {
                                    loopres_f_res_f_res_t_res_182365 = max_res_182306;
                                } else {
                                    loopres_f_res_f_res_t_res_182365 = p_182301;
                                }
                                
                                bool x_182366 = !defunc_0_leq_res_182364;
                                int64_t loopres_f_res_f_res_t_res_182367;
                                
                                if (defunc_0_leq_res_182364) {
                                    loopres_f_res_f_res_t_res_182367 = window_sizze_132667;
                                } else {
                                    loopres_f_res_f_res_t_res_182367 = m_178813;
                                }
                                loopres_f_res_f_res_182346 = p_182299;
                                loopres_f_res_f_res_182347 = loopres_f_res_f_res_t_res_182367;
                                loopres_f_res_f_res_182348 = loopres_f_res_f_res_t_res_182365;
                                loopres_f_res_f_res_182349 = x_182366;
                            } else {
                                bool cond_182368 = sle64(p_182300, p_182299);
                                int64_t loopres_f_res_f_res_f_res_182369;
                                int64_t loopres_f_res_f_res_f_res_182370;
                                int64_t loopres_f_res_f_res_f_res_182371;
                                bool loopres_f_res_f_res_f_res_182372;
                                
                                if (cond_182368) {
                                    bool cond_182373 = slt64(ai_182304, window_sizze_132667);
                                    int64_t ai_182374;
                                    
                                    if (cond_182373) {
                                        ai_182374 = ai_182304;
                                    } else {
                                        ai_182374 = m_178813;
                                    }
                                    
                                    bool x_182387 = sle64((int64_t) 0, ai_182374);
                                    bool y_182388 = slt64(ai_182374, window_sizze_132667);
                                    bool bounds_check_182389 = x_182387 && y_182388;
                                    bool index_certs_182390;
                                    
                                    if (!bounds_check_182389) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_182374, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:114:8-14\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int32_t b_prev_182376;
                                    
                                    if (cond_182307) {
                                        int64_t tmp_182377 = sub64(max_res_182306, (int64_t) 1);
                                        bool x_182378 = sle64((int64_t) 0, tmp_182377);
                                        bool y_182379 = slt64(tmp_182377, window_sizze_132667);
                                        bool bounds_check_182380 = x_182378 && y_182379;
                                        bool index_certs_182381;
                                        
                                        if (!bounds_check_182380) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_182377, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:112:31-39\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_182382 = p_178825 + tmp_182377;
                                        int32_t b_prev_t_res_182383 = ((int32_t *) b_list_mem_184306.mem)[slice_182382];
                                        
                                        b_prev_182376 = b_prev_t_res_182383;
                                    } else {
                                        bool index_certs_182385;
                                        
                                        if (!y_179841) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:112:45-50\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_182376 = leq_rhs_182278;
                                    }
                                    
                                    int64_t slice_182391 = p_178824 + ai_182374;
                                    int32_t gt_lhs_182392 = ((int32_t *) a_list_mem_184305.mem)[slice_182391];
                                    bool defunc_0_gt_res_182393 = slt32(b_prev_182376, gt_lhs_182392);
                                    int64_t defunc_0_partFunc_sequential_search_res_182394;
                                    int64_t defunc_0_partFunc_sequential_search_res_182395;
                                    
                                    if (defunc_0_gt_res_182393) {
                                        int64_t zl_rhs_182396 = sub64(window_sizze_132667, max_res_182306);
                                        bool loop_cond_182397 = slt64((int64_t) 0, zl_rhs_182396);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_182398;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_182399;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_182400;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_182401;
                                        bool loop_while_182402;
                                        int64_t p_182403;
                                        int64_t p_182404;
                                        int64_t p_182405;
                                        
                                        loop_while_182402 = loop_cond_182397;
                                        p_182403 = ai_182374;
                                        p_182404 = max_res_182306;
                                        p_182405 = (int64_t) 0;
                                        while (loop_while_182402) {
                                            int64_t i_a_182406 = sub64(ai_182374, p_182405);
                                            int64_t i_b_182407 = add64(max_res_182306, p_182405);
                                            int64_t leq_lhs_182408 = sub64(i_a_182406, (int64_t) 1);
                                            bool x_182409 = sle64((int64_t) 0, leq_lhs_182408);
                                            bool y_182410 = slt64(leq_lhs_182408, window_sizze_132667);
                                            bool bounds_check_182411 = x_182409 && y_182410;
                                            bool index_certs_182412;
                                            
                                            if (!bounds_check_182411) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_182408, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:120:15-24\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_182415 = sle64((int64_t) 0, i_b_182407);
                                            bool y_182416 = slt64(i_b_182407, window_sizze_132667);
                                            bool bounds_check_182417 = x_182415 && y_182416;
                                            bool index_certs_182418;
                                            
                                            if (!bounds_check_182417) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_182407, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:120:31-38\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_182413 = p_178824 + leq_lhs_182408;
                                            int32_t leq_lhs_182414 = ((int32_t *) a_list_mem_184305.mem)[slice_182413];
                                            int64_t slice_182419 = p_178825 + i_b_182407;
                                            int32_t leq_rhs_182420 = ((int32_t *) b_list_mem_184306.mem)[slice_182419];
                                            bool defunc_0_leq_res_182421 = sle32(leq_lhs_182414, leq_rhs_182420);
                                            int64_t loopres_182422;
                                            
                                            if (defunc_0_leq_res_182421) {
                                                loopres_182422 = i_a_182406;
                                            } else {
                                                loopres_182422 = ai_182374;
                                            }
                                            
                                            int64_t loopres_182423;
                                            
                                            if (defunc_0_leq_res_182421) {
                                                loopres_182423 = i_b_182407;
                                            } else {
                                                loopres_182423 = max_res_182306;
                                            }
                                            
                                            int64_t loopres_182424;
                                            
                                            if (defunc_0_leq_res_182421) {
                                                loopres_182424 = zl_rhs_182396;
                                            } else {
                                                int64_t tmp_182425 = add64((int64_t) 1, p_182405);
                                                
                                                loopres_182424 = tmp_182425;
                                            }
                                            
                                            bool loop_cond_182426 = slt64(loopres_182424, zl_rhs_182396);
                                            bool loop_while_tmp_185738 = loop_cond_182426;
                                            int64_t p_tmp_185739 = loopres_182422;
                                            int64_t p_tmp_185740 = loopres_182423;
                                            int64_t p_tmp_185741 = loopres_182424;
                                            
                                            loop_while_182402 = loop_while_tmp_185738;
                                            p_182403 = p_tmp_185739;
                                            p_182404 = p_tmp_185740;
                                            p_182405 = p_tmp_185741;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_182398 = loop_while_182402;
                                        defunc_0_partFunc_sequential_search_res_t_res_182399 = p_182403;
                                        defunc_0_partFunc_sequential_search_res_t_res_182400 = p_182404;
                                        defunc_0_partFunc_sequential_search_res_t_res_182401 = p_182405;
                                        defunc_0_partFunc_sequential_search_res_182394 = defunc_0_partFunc_sequential_search_res_t_res_182399;
                                        defunc_0_partFunc_sequential_search_res_182395 = defunc_0_partFunc_sequential_search_res_t_res_182400;
                                    } else {
                                        int64_t zl_rhs_182427 = sub64(max_res_182306, (int64_t) 1);
                                        bool loop_cond_182428 = slt64((int64_t) 0, zl_rhs_182427);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_182429;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_182430;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_182431;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_182432;
                                        bool loop_while_182433;
                                        int64_t p_182434;
                                        int64_t p_182435;
                                        int64_t p_182436;
                                        
                                        loop_while_182433 = loop_cond_182428;
                                        p_182434 = ai_182374;
                                        p_182435 = max_res_182306;
                                        p_182436 = (int64_t) 0;
                                        while (loop_while_182433) {
                                            int64_t zp_lhs_182437 = add64(ai_182374, p_182436);
                                            int64_t hi_a_182438 = add64((int64_t) 1, zp_lhs_182437);
                                            bool cond_182439 = slt64(hi_a_182438, window_sizze_132667);
                                            int64_t i_a_182440;
                                            
                                            if (cond_182439) {
                                                i_a_182440 = hi_a_182438;
                                            } else {
                                                i_a_182440 = m_178813;
                                            }
                                            
                                            int64_t zm_lhs_182442 = sub64(max_res_182306, p_182436);
                                            int64_t i_b_182443 = sub64(zm_lhs_182442, (int64_t) 1);
                                            bool x_182444 = sle64((int64_t) 0, i_a_182440);
                                            bool y_182445 = slt64(i_a_182440, window_sizze_132667);
                                            bool bounds_check_182446 = x_182444 && y_182445;
                                            bool index_certs_182447;
                                            
                                            if (!bounds_check_182446) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_182440, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:130:15-22\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_182450 = sle64((int64_t) 0, i_b_182443);
                                            bool y_182451 = slt64(i_b_182443, window_sizze_132667);
                                            bool bounds_check_182452 = x_182450 && y_182451;
                                            bool index_certs_182453;
                                            
                                            if (!bounds_check_182452) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_182443, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:130:28-35\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_182448 = p_178824 + i_a_182440;
                                            int32_t gt_lhs_182449 = ((int32_t *) a_list_mem_184305.mem)[slice_182448];
                                            int64_t slice_182454 = p_178825 + i_b_182443;
                                            int32_t gt_rhs_182455 = ((int32_t *) b_list_mem_184306.mem)[slice_182454];
                                            bool defunc_0_gt_res_182456 = slt32(gt_rhs_182455, gt_lhs_182449);
                                            int64_t loopres_182457;
                                            
                                            if (defunc_0_gt_res_182456) {
                                                loopres_182457 = i_a_182440;
                                            } else {
                                                loopres_182457 = ai_182374;
                                            }
                                            
                                            int64_t loopres_182458;
                                            
                                            if (defunc_0_gt_res_182456) {
                                                loopres_182458 = zm_lhs_182442;
                                            } else {
                                                loopres_182458 = max_res_182306;
                                            }
                                            
                                            int64_t loopres_182459;
                                            
                                            if (defunc_0_gt_res_182456) {
                                                loopres_182459 = zl_rhs_182427;
                                            } else {
                                                int64_t tmp_182460 = add64((int64_t) 1, p_182436);
                                                
                                                loopres_182459 = tmp_182460;
                                            }
                                            
                                            bool loop_cond_182461 = slt64(loopres_182459, zl_rhs_182427);
                                            bool loop_while_tmp_185742 = loop_cond_182461;
                                            int64_t p_tmp_185743 = loopres_182457;
                                            int64_t p_tmp_185744 = loopres_182458;
                                            int64_t p_tmp_185745 = loopres_182459;
                                            
                                            loop_while_182433 = loop_while_tmp_185742;
                                            p_182434 = p_tmp_185743;
                                            p_182435 = p_tmp_185744;
                                            p_182436 = p_tmp_185745;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_182429 = loop_while_182433;
                                        defunc_0_partFunc_sequential_search_res_f_res_182430 = p_182434;
                                        defunc_0_partFunc_sequential_search_res_f_res_182431 = p_182435;
                                        defunc_0_partFunc_sequential_search_res_f_res_182432 = p_182436;
                                        defunc_0_partFunc_sequential_search_res_182394 = defunc_0_partFunc_sequential_search_res_f_res_182430;
                                        defunc_0_partFunc_sequential_search_res_182395 = defunc_0_partFunc_sequential_search_res_f_res_182431;
                                    }
                                    loopres_f_res_f_res_f_res_182369 = p_182299;
                                    loopres_f_res_f_res_f_res_182370 = defunc_0_partFunc_sequential_search_res_182394;
                                    loopres_f_res_f_res_f_res_182371 = defunc_0_partFunc_sequential_search_res_182395;
                                    loopres_f_res_f_res_f_res_182372 = 0;
                                } else {
                                    bool x_182462 = sle64((int64_t) 0, ai_182304);
                                    bool y_182463 = slt64(ai_182304, window_sizze_132667);
                                    bool bounds_check_182464 = x_182462 && y_182463;
                                    bool index_certs_182465;
                                    
                                    if (!bounds_check_182464) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_182304, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:186:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_182466 = p_178824 + ai_182304;
                                    int32_t gt_lhs_182467 = ((int32_t *) a_list_mem_184305.mem)[slice_182466];
                                    bool defunc_0_gt_res_182468 = slt32(b_prev_182308, gt_lhs_182467);
                                    int64_t loopres_f_res_f_res_f_res_f_res_182469;
                                    int64_t loopres_f_res_f_res_f_res_f_res_182470;
                                    int64_t loopres_f_res_f_res_f_res_f_res_182471;
                                    bool loopres_f_res_f_res_f_res_f_res_182472;
                                    
                                    if (defunc_0_gt_res_182468) {
                                        int64_t leq_lhs_182473 = sub64(ai_182304, (int64_t) 1);
                                        bool x_182474 = sle64((int64_t) 0, leq_lhs_182473);
                                        bool y_182475 = slt64(leq_lhs_182473, window_sizze_132667);
                                        bool bounds_check_182476 = x_182474 && y_182475;
                                        bool index_certs_182477;
                                        
                                        if (!bounds_check_182476) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_182473, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:187:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_182480 = sle64((int64_t) 0, max_res_182306);
                                        bool y_182481 = slt64(max_res_182306, window_sizze_132667);
                                        bool bounds_check_182482 = x_182480 && y_182481;
                                        bool index_certs_182483;
                                        
                                        if (!bounds_check_182482) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_182306, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:187:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_182478 = p_178824 + leq_lhs_182473;
                                        int32_t leq_lhs_182479 = ((int32_t *) a_list_mem_184305.mem)[slice_182478];
                                        int64_t slice_182484 = p_178825 + max_res_182306;
                                        int32_t leq_rhs_182485 = ((int32_t *) b_list_mem_184306.mem)[slice_182484];
                                        bool defunc_0_leq_res_182486 = sle32(leq_lhs_182479, leq_rhs_182485);
                                        bool x_182487 = !defunc_0_leq_res_182486;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_182488;
                                        
                                        if (defunc_0_leq_res_182486) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_182488 = ai_182304;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_182488 = leq_lhs_182473;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_182489;
                                        
                                        if (defunc_0_leq_res_182486) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_182489 = max_res_182306;
                                        } else {
                                            int64_t tmp_182490 = add64((int64_t) 1, max_res_182306);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_182489 = tmp_182490;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_182469 = p_182299;
                                        loopres_f_res_f_res_f_res_f_res_182470 = loopres_f_res_f_res_f_res_f_res_t_res_182488;
                                        loopres_f_res_f_res_f_res_f_res_182471 = loopres_f_res_f_res_f_res_f_res_t_res_182489;
                                        loopres_f_res_f_res_f_res_f_res_182472 = x_182487;
                                    } else {
                                        int64_t tmp_182491 = add64((int64_t) 1, ai_182304);
                                        
                                        loopres_f_res_f_res_f_res_f_res_182469 = tmp_182491;
                                        loopres_f_res_f_res_f_res_f_res_182470 = p_182300;
                                        loopres_f_res_f_res_f_res_f_res_182471 = p_182301;
                                        loopres_f_res_f_res_f_res_f_res_182472 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_182369 = loopres_f_res_f_res_f_res_f_res_182469;
                                    loopres_f_res_f_res_f_res_182370 = loopres_f_res_f_res_f_res_f_res_182470;
                                    loopres_f_res_f_res_f_res_182371 = loopres_f_res_f_res_f_res_f_res_182471;
                                    loopres_f_res_f_res_f_res_182372 = loopres_f_res_f_res_f_res_f_res_182472;
                                }
                                loopres_f_res_f_res_182346 = loopres_f_res_f_res_f_res_182369;
                                loopres_f_res_f_res_182347 = loopres_f_res_f_res_f_res_182370;
                                loopres_f_res_f_res_182348 = loopres_f_res_f_res_f_res_182371;
                                loopres_f_res_f_res_182349 = loopres_f_res_f_res_f_res_182372;
                            }
                            loopres_f_res_182322 = loopres_f_res_f_res_182346;
                            loopres_f_res_182323 = loopres_f_res_f_res_182347;
                            loopres_f_res_182324 = loopres_f_res_f_res_182348;
                            loopres_f_res_182325 = loopres_f_res_f_res_182349;
                        }
                        loopres_182317 = loopres_f_res_182322;
                        loopres_182318 = loopres_f_res_182323;
                        loopres_182319 = loopres_f_res_182324;
                        loopres_182320 = loopres_f_res_182325;
                    }
                    
                    bool loop_while_tmp_185734 = loopres_182320;
                    int64_t p_tmp_185735 = loopres_182317;
                    int64_t p_tmp_185736 = loopres_182318;
                    int64_t p_tmp_185737 = loopres_182319;
                    
                    loop_while_182298 = loop_while_tmp_185734;
                    p_182299 = p_tmp_185735;
                    p_182300 = p_tmp_185736;
                    p_182301 = p_tmp_185737;
                }
                defunc_0_f_res_182294 = loop_while_182298;
                defunc_0_f_res_182295 = p_182299;
                defunc_0_f_res_182296 = p_182300;
                defunc_0_f_res_182297 = p_182301;
                ((int64_t *) mem_184667)[i_183969] = defunc_0_f_res_182296;
                ((int64_t *) mem_184669)[i_183969] = defunc_0_f_res_182297;
            }
            if (mem_184684_cached_sizze_186173 < bytes_184683) {
                err = lexical_realloc(ctx, &mem_184684, &mem_184684_cached_sizze_186173, bytes_184683);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184686_cached_sizze_186174 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_178863) {
                err = lexical_realloc(ctx, &mem_184686, &mem_184686_cached_sizze_186174, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_178863);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184689_cached_sizze_186175 < bytes_184683) {
                err = lexical_realloc(ctx, &mem_184689, &mem_184689_cached_sizze_186175, bytes_184683);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184692_cached_sizze_186176 < bytes_184691) {
                err = lexical_realloc(ctx, &mem_184692, &mem_184692_cached_sizze_186176, bytes_184691);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_184035 = 0; i_184035 < threads_132668; i_184035++) {
                bool y_182505 = slt64(i_184035, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
                bool index_certs_182507;
                
                if (!y_182505) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_184035, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:257:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:366:63-73\n   #3  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_182508 = sle64((int64_t) 1, i_184035);
                int64_t index_concat_i_182509 = sub64(i_184035, (int64_t) 1);
                int64_t index_concat_182510;
                
                if (index_concat_cmp_182508) {
                    int64_t x_182511 = ((int64_t *) mem_184667)[index_concat_i_182509];
                    
                    index_concat_182510 = x_182511;
                } else {
                    index_concat_182510 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_182512;
                
                if (index_concat_cmp_182508) {
                    index_concat_branch_182512 = index_concat_182510;
                } else {
                    index_concat_branch_182512 = (int64_t) 0;
                }
                
                int64_t index_concat_182513;
                
                if (index_concat_cmp_182508) {
                    int64_t x_182514 = ((int64_t *) mem_184669)[index_concat_i_182509];
                    
                    index_concat_182513 = x_182514;
                } else {
                    index_concat_182513 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_182515;
                
                if (index_concat_cmp_182508) {
                    index_concat_branch_182515 = index_concat_182513;
                } else {
                    index_concat_branch_182515 = (int64_t) 0;
                }
                
                int64_t ubs_182516 = add64((int64_t) 1, i_184035);
                bool x_182517 = sle64((int64_t) 0, ubs_182516);
                bool y_182518 = slt64(ubs_182516, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
                bool bounds_check_182519 = x_182517 && y_182518;
                bool index_certs_182520;
                
                if (!bounds_check_182519) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_182516, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:258:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:366:63-73\n   #3  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_182521 = sle64((int64_t) 1, ubs_182516);
                int64_t index_concat_182522;
                
                if (index_concat_cmp_182521) {
                    int64_t x_182523 = ((int64_t *) mem_184667)[i_184035];
                    
                    index_concat_182522 = x_182523;
                } else {
                    index_concat_182522 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_182524;
                
                if (index_concat_cmp_182521) {
                    index_concat_branch_182524 = index_concat_182522;
                } else {
                    index_concat_branch_182524 = (int64_t) 0;
                }
                
                int64_t index_concat_182525;
                
                if (index_concat_cmp_182521) {
                    int64_t x_182526 = ((int64_t *) mem_184669)[i_184035];
                    
                    index_concat_182525 = x_182526;
                } else {
                    index_concat_182525 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_182527;
                
                if (index_concat_cmp_182521) {
                    index_concat_branch_182527 = index_concat_182525;
                } else {
                    index_concat_branch_182527 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528 = sub64(index_concat_branch_182527, index_concat_branch_182515);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529 = sub64(index_concat_branch_182524, index_concat_branch_182512);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                int64_t zm_lhs_182531 = add64(index_concat_branch_182524, index_concat_branch_182527);
                int64_t zm_rhs_182532 = add64(index_concat_branch_182512, index_concat_branch_182515);
                int64_t card_182533 = sub64(zm_lhs_182531, zm_rhs_182532);
                bool empty_slice_182534 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529 == (int64_t) 0;
                int64_t m_182535 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, (int64_t) 1);
                int64_t i_p_m_t_s_182536 = add64(index_concat_branch_182512, m_182535);
                bool zzero_leq_i_p_m_t_s_182537 = sle64((int64_t) 0, i_p_m_t_s_182536);
                bool i_p_m_t_s_leq_w_182538 = slt64(i_p_m_t_s_182536, window_sizze_132667);
                bool zzero_lte_i_182539 = sle64((int64_t) 0, index_concat_branch_182512);
                bool i_lte_j_182540 = sle64(index_concat_branch_182512, index_concat_branch_182524);
                bool y_182541 = i_p_m_t_s_leq_w_182538 && zzero_lte_i_182539;
                bool y_182542 = zzero_leq_i_p_m_t_s_182537 && y_182541;
                bool forwards_ok_182543 = i_lte_j_182540 && y_182542;
                bool ok_or_empty_182544 = empty_slice_182534 || forwards_ok_182543;
                bool index_certs_182545;
                
                if (!ok_or_empty_182544) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_182512, ":", (long long) index_concat_branch_182524, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:260:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:366:63-73\n   #3  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_182546 = slt64(index_concat_branch_182524, index_concat_branch_182512);
                bool valid_182547 = !bounds_invalid_upwards_182546;
                bool range_valid_c_182548;
                
                if (!valid_182547) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_182512, "..<", (long long) index_concat_branch_182524, " is invalid.", "-> #0  ftsort.fut:260:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:366:63-73\n   #3  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_182553 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528 == (int64_t) 0;
                int64_t m_182554 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528, (int64_t) 1);
                int64_t i_p_m_t_s_182555 = add64(index_concat_branch_182515, m_182554);
                bool zzero_leq_i_p_m_t_s_182556 = sle64((int64_t) 0, i_p_m_t_s_182555);
                bool i_p_m_t_s_leq_w_182557 = slt64(i_p_m_t_s_182555, window_sizze_132667);
                bool zzero_lte_i_182558 = sle64((int64_t) 0, index_concat_branch_182515);
                bool i_lte_j_182559 = sle64(index_concat_branch_182515, index_concat_branch_182527);
                bool y_182560 = i_p_m_t_s_leq_w_182557 && zzero_lte_i_182558;
                bool y_182561 = zzero_leq_i_p_m_t_s_182556 && y_182560;
                bool forwards_ok_182562 = i_lte_j_182559 && y_182561;
                bool ok_or_empty_182563 = empty_slice_182553 || forwards_ok_182562;
                bool index_certs_182564;
                
                if (!ok_or_empty_182563) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_182515, ":", (long long) index_concat_branch_182527, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:261:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:366:63-73\n   #3  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_182565 = slt64(index_concat_branch_182527, index_concat_branch_182515);
                bool valid_182566 = !bounds_invalid_upwards_182565;
                bool range_valid_c_182567;
                
                if (!valid_182566) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_182515, "..<", (long long) index_concat_branch_182527, " is invalid.", "-> #0  ftsort.fut:261:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:366:63-73\n   #3  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_184721 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530;
                int64_t bytes_184723 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530;
                bool cond_182575 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, (int64_t) 1);
                int64_t zs_lhs_182576 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, (int64_t) 1);
                int64_t zp_rhs_182577 = sdiv_safe64(zs_lhs_182576, (int64_t) 20);
                int64_t min_num_blocks_182578 = add64((int64_t) 1, zp_rhs_182577);
                bool loop_cond_182579 = slt64((int64_t) 1, min_num_blocks_182578);
                bool smallest_pow_2_geq_than_res_182580;
                int64_t smallest_pow_2_geq_than_res_182581;
                bool loop_while_182582;
                int64_t x_182583;
                
                loop_while_182582 = loop_cond_182579;
                x_182583 = (int64_t) 1;
                while (loop_while_182582) {
                    int64_t loopres_182584 = mul64((int64_t) 2, x_182583);
                    bool loop_cond_182585 = slt64(loopres_182584, min_num_blocks_182578);
                    bool loop_while_tmp_185750 = loop_cond_182585;
                    int64_t x_tmp_185751 = loopres_182584;
                    
                    loop_while_182582 = loop_while_tmp_185750;
                    x_182583 = x_tmp_185751;
                }
                smallest_pow_2_geq_than_res_182580 = loop_while_182582;
                smallest_pow_2_geq_than_res_182581 = x_182583;
                
                bool zzero_182586 = smallest_pow_2_geq_than_res_182581 == (int64_t) 0;
                bool nonzzero_182587 = !zzero_182586;
                bool protect_assert_disj_182588 = cond_182575 || nonzzero_182587;
                bool nonzzero_cert_182589;
                
                if (!protect_assert_disj_182588) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_182590 = sdiv_safe64(zs_lhs_182576, smallest_pow_2_geq_than_res_182581);
                int64_t block_sizze_182591 = add64((int64_t) 1, zp_rhs_182590);
                bool y_182598 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530);
                bool protect_assert_disj_185467 = cond_182575 || y_182598;
                bool index_certs_182599;
                
                if (!protect_assert_disj_185467) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_182636 = slt64(smallest_pow_2_geq_than_res_182581, (int64_t) 0);
                bool valid_182637 = !bounds_invalid_upwards_182636;
                bool protect_assert_disj_185477 = cond_182575 || valid_182637;
                bool range_valid_c_182638;
                
                if (!protect_assert_disj_185477) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_182581, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:366:63-73\n   #6  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_182640 = slt64(block_sizze_182591, (int64_t) 0);
                bool valid_182641 = !bounds_invalid_upwards_182640;
                bool protect_assert_disj_185479 = cond_182575 || valid_182641;
                bool range_valid_c_182642;
                
                if (!protect_assert_disj_185479) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_182591, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_182644 = sle64(block_sizze_182591, (int64_t) 1);
                int64_t tmp_182645 = sub64(block_sizze_182591, (int64_t) 2);
                bool bounds_invalid_upwards_182646 = slt64(tmp_182645, (int64_t) 0);
                bool valid_182648 = !bounds_invalid_upwards_182646;
                bool protect_assert_disj_182649 = cond_182644 || valid_182648;
                bool protect_assert_disj_185481 = cond_182575 || protect_assert_disj_182649;
                bool range_valid_c_182650;
                
                if (!protect_assert_disj_185481) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_182645, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_183230 = card_182533 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530;
                bool empty_or_match_cert_183231;
                
                if (!dim_match_183230) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "] cannot match shape of type `[", (long long) card_182533, "](i8, i64, i32)`.", "-> #0  ftsort.fut:262:20-268:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:366:63-73\n   #3  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_183232 = card_182533 == (int64_t) 0;
                int64_t m_183233 = sub64(card_182533, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_183234 = sle64((int64_t) 0, m_183233);
                bool i_p_m_t_s_leq_w_183235 = slt64(m_183233, card_182533);
                bool y_183236 = zzero_leq_i_p_m_t_s_183234 && i_p_m_t_s_leq_w_183235;
                bool ok_or_empty_183237 = empty_slice_183232 || y_183236;
                bool index_certs_183238;
                
                if (!ok_or_empty_183237) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_182533, "] out of bounds for array of shape [", (long long) card_182533, "].", "-> #0  ftsort.fut:269:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:366:63-73\n   #3  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_183239 = slt64(m_183233, perThread_178862);
                bool y_183240 = zzero_leq_i_p_m_t_s_183234 && i_p_m_t_s_leq_w_183239;
                bool ok_or_empty_183241 = empty_slice_183232 || y_183240;
                bool index_certs_183242;
                
                if (!ok_or_empty_183241) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_182533, "] out of bounds for array of shape [", (long long) perThread_178862, "].", "-> #0  ftsort.fut:269:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:366:63-73\n   #3  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_185752 = 0; nest_i_185752 < perThread_178862; nest_i_185752++) {
                    ((int8_t *) mem_184686)[i_184035 * perThread_178862 + nest_i_185752] = (int8_t) -1;
                }
                for (int64_t nest_i_185753 = 0; nest_i_185753 < perThread_178862; nest_i_185753++) {
                    ((int64_t *) mem_184689)[i_184035 * perThread_178862 + nest_i_185753] = (int64_t) -1;
                }
                for (int64_t nest_i_185754 = 0; nest_i_185754 < perThread_178862; nest_i_185754++) {
                    ((int32_t *) mem_184692)[i_184035 * perThread_178862 + nest_i_185754] = 0;
                }
                
                int64_t slice_182549 = p_178824 + index_concat_branch_182512;
                
                if (memblock_alloc(ctx, &mem_184720, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "mem_184720")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_185755 = 0; nest_i_185755 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529; nest_i_185755++) {
                    ((int8_t *) mem_184720.mem)[nest_i_185755] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_184722, bytes_184721, "mem_184722")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_185756 = 0; i_185756 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529; i_185756++) {
                    int64_t x_185757 = index_concat_branch_182512 + i_185756 * (int64_t) 1;
                    
                    ((int64_t *) mem_184722.mem)[i_185756] = x_185757;
                }
                
                int64_t slice_182568 = p_178825 + index_concat_branch_182515;
                
                for (int64_t nest_i_185758 = 0; nest_i_185758 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528; nest_i_185758++) {
                    ((int8_t *) mem_184720.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529 + nest_i_185758] = (int8_t) 1;
                }
                for (int64_t i_185759 = 0; i_185759 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528; i_185759++) {
                    int64_t x_185760 = index_concat_branch_182515 + i_185759 * (int64_t) 1;
                    
                    ((int64_t *) mem_184722.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529 + i_185759] = x_185760;
                }
                
                int64_t tmp_offs_185761 = (int64_t) 0;
                
                if (!(tmp_offs_185761 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184720.mem, tmp_offs_185761, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184720.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529});
                }
                tmp_offs_185761 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529;
                if (!(tmp_offs_185761 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184720.mem, tmp_offs_185761, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184720.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528});
                }
                tmp_offs_185761 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528;
                
                int64_t tmp_offs_185762 = (int64_t) 0;
                
                if (!(tmp_offs_185762 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184722.mem, tmp_offs_185762, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184722.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529});
                }
                tmp_offs_185762 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529;
                if (!(tmp_offs_185762 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184722.mem, tmp_offs_185762, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184722.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528});
                }
                tmp_offs_185762 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528;
                if (memblock_alloc(ctx, &mem_184724, bytes_184723, "mem_184724")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_185763 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_184724.mem, tmp_offs_185763, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_184305.mem, slice_182549, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529});
                tmp_offs_185763 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_184724.mem, tmp_offs_185763, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_184306.mem, slice_182568, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528});
                tmp_offs_185763 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528;
                
                int64_t flat_dim_182592 = smallest_pow_2_geq_than_res_182581 * block_sizze_182591;
                bool x_185462 = !cond_182575;
                int64_t greatest_divisor_leq_than_arg1_182596 = mul64((int64_t) 2, block_sizze_182591);
                int64_t merge_block_sizze_182597;
                
                if (x_185462) {
                    int64_t x_185464;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_185464, (int64_t) 8, greatest_divisor_leq_than_arg1_182596) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_182597 = x_185464;
                } else {
                    merge_block_sizze_182597 = (int64_t) 0;
                }
                
                bool index_concat_cmp_182600 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, (int64_t) 0);
                int8_t index_concat_branch_182601 = btoi_bool_i8(index_concat_cmp_182600);
                int64_t index_concat_i_182603 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                int64_t index_primexp_182604 = add64(index_concat_branch_182515, index_concat_i_182603);
                int64_t index_concat_branch_182602;
                
                if (index_concat_cmp_182600) {
                    index_concat_branch_182602 = index_primexp_182604;
                } else {
                    index_concat_branch_182602 = index_concat_branch_182512;
                }
                
                bool x_185458 = !index_concat_cmp_182600;
                bool protect_cond_conj_185468 = x_185458 && x_185462;
                int32_t index_concat_182610;
                
                if (protect_cond_conj_185468) {
                    int32_t x_185460 = ((int32_t *) a_list_mem_184305.mem)[slice_182549];
                    
                    index_concat_182610 = x_185460;
                } else {
                    index_concat_182610 = 0;
                }
                
                int64_t slice_182608 = p_178825 + index_primexp_182604;
                bool protect_cond_conj_185469 = index_concat_cmp_182600 && x_185462;
                int32_t index_concat_182609;
                
                if (protect_cond_conj_185469) {
                    int32_t x_185456 = ((int32_t *) b_list_mem_184306.mem)[slice_182608];
                    
                    index_concat_182609 = x_185456;
                } else {
                    index_concat_182609 = 0;
                }
                
                int32_t index_concat_branch_182605;
                
                if (index_concat_cmp_182600) {
                    index_concat_branch_182605 = index_concat_182609;
                } else {
                    index_concat_branch_182605 = index_concat_182610;
                }
                
                int8_t defunc_0_reduce_res_182611;
                int64_t defunc_0_reduce_res_182612;
                int32_t defunc_0_reduce_res_182613;
                
                if (x_185462) {
                    int8_t x_185470;
                    int64_t x_185471;
                    int32_t x_185472;
                    int8_t redout_183972;
                    int64_t redout_183973;
                    int32_t redout_183974;
                    
                    redout_183972 = index_concat_branch_182601;
                    redout_183973 = index_concat_branch_182602;
                    redout_183974 = index_concat_branch_182605;
                    for (int64_t i_183975 = 0; i_183975 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530; i_183975++) {
                        bool index_concat_cmp_184233 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, i_183975);
                        int8_t index_concat_branch_184237 = btoi_bool_i8(index_concat_cmp_184233);
                        int64_t index_concat_branch_184231;
                        
                        if (index_concat_cmp_184233) {
                            int64_t index_concat_i_184228 = sub64(i_183975, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                            int64_t index_primexp_184281 = add64(index_concat_branch_182515, index_concat_i_184228);
                            
                            index_concat_branch_184231 = index_primexp_184281;
                        } else {
                            int64_t index_primexp_184283 = add64(index_concat_branch_182512, i_183975);
                            
                            index_concat_branch_184231 = index_primexp_184283;
                        }
                        
                        int32_t index_concat_branch_184225;
                        
                        if (index_concat_cmp_184233) {
                            int64_t index_concat_i_184222 = sub64(i_183975, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                            int64_t slice_184278 = slice_182568 + index_concat_i_184222;
                            int32_t index_concat_184223 = ((int32_t *) b_list_mem_184306.mem)[slice_184278];
                            
                            index_concat_branch_184225 = index_concat_184223;
                        } else {
                            int64_t slice_184279 = slice_182549 + i_183975;
                            int32_t index_concat_184224 = ((int32_t *) a_list_mem_184305.mem)[slice_184279];
                            
                            index_concat_branch_184225 = index_concat_184224;
                        }
                        
                        bool eq_x_y_184295 = redout_183972 == (int8_t) 1;
                        bool eq_x_zz_184296 = redout_183972 == (int8_t) 0;
                        bool p_and_eq_x_y_184297 = index_concat_cmp_184233 && eq_x_y_184295;
                        bool not_p_184298 = !index_concat_cmp_184233;
                        bool p_and_eq_x_y_184299 = eq_x_zz_184296 && not_p_184298;
                        bool cond_182623 = p_and_eq_x_y_184297 || p_and_eq_x_y_184299;
                        bool defunc_0_leq_res_t_res_182624 = sle64(redout_183973, index_concat_branch_184231);
                        bool defunc_0_leq_res_182625 = sle32(redout_183974, index_concat_branch_184225);
                        bool x_182626 = cond_182623 && defunc_0_leq_res_t_res_182624;
                        bool x_182627 = !cond_182623;
                        bool y_182628 = defunc_0_leq_res_182625 && x_182627;
                        bool defunc_0_leq_res_182629 = x_182626 || y_182628;
                        int8_t defunc_0_op_res_182630;
                        
                        if (defunc_0_leq_res_182629) {
                            defunc_0_op_res_182630 = index_concat_branch_184237;
                        } else {
                            defunc_0_op_res_182630 = redout_183972;
                        }
                        
                        int64_t defunc_0_op_res_182631;
                        
                        if (defunc_0_leq_res_182629) {
                            defunc_0_op_res_182631 = index_concat_branch_184231;
                        } else {
                            defunc_0_op_res_182631 = redout_183973;
                        }
                        
                        int32_t defunc_0_op_res_182632;
                        
                        if (defunc_0_leq_res_182629) {
                            defunc_0_op_res_182632 = index_concat_branch_184225;
                        } else {
                            defunc_0_op_res_182632 = redout_183974;
                        }
                        
                        int8_t redout_tmp_185764 = defunc_0_op_res_182630;
                        int64_t redout_tmp_185765 = defunc_0_op_res_182631;
                        int32_t redout_tmp_185766 = defunc_0_op_res_182632;
                        
                        redout_183972 = redout_tmp_185764;
                        redout_183973 = redout_tmp_185765;
                        redout_183974 = redout_tmp_185766;
                    }
                    x_185470 = redout_183972;
                    x_185471 = redout_183973;
                    x_185472 = redout_183974;
                    defunc_0_reduce_res_182611 = x_185470;
                    defunc_0_reduce_res_182612 = x_185471;
                    defunc_0_reduce_res_182613 = x_185472;
                } else {
                    defunc_0_reduce_res_182611 = (int8_t) 0;
                    defunc_0_reduce_res_182612 = (int64_t) 0;
                    defunc_0_reduce_res_182613 = 0;
                }
                
                int64_t distance_182647 = add64((int64_t) 1, tmp_182645);
                int64_t binop_x_184727 = (int64_t) 8 * smallest_pow_2_geq_than_res_182581;
                int64_t bytes_184728 = block_sizze_182591 * binop_x_184727;
                int64_t binop_x_184730 = (int64_t) 4 * smallest_pow_2_geq_than_res_182581;
                int64_t bytes_184731 = block_sizze_182591 * binop_x_184730;
                int64_t bytes_184746 = (int64_t) 8 * block_sizze_182591;
                int64_t bytes_184748 = (int64_t) 4 * block_sizze_182591;
                bool loop_cond_182773 = slt64(block_sizze_182591, flat_dim_182592);
                bool zzero_182774 = merge_block_sizze_182597 == (int64_t) 0;
                bool nonzzero_182775 = !zzero_182774;
                
                if (cond_182575) {
                    if (memblock_set(ctx, &ext_mem_185019, &mem_184720, "mem_184720") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185016, &mem_184722, "mem_184722") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185013, &mem_184724, "mem_184724") != 0)
                        return 1;
                } else {
                    if (mem_184726_cached_sizze_186177 < flat_dim_182592) {
                        err = lexical_realloc(ctx, &mem_184726, &mem_184726_cached_sizze_186177, flat_dim_182592);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184729_cached_sizze_186178 < bytes_184728) {
                        err = lexical_realloc(ctx, &mem_184729, &mem_184729_cached_sizze_186178, bytes_184728);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184732_cached_sizze_186179 < bytes_184731) {
                        err = lexical_realloc(ctx, &mem_184732, &mem_184732_cached_sizze_186179, bytes_184731);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184745_cached_sizze_186180 < block_sizze_182591) {
                        err = lexical_realloc(ctx, &mem_184745, &mem_184745_cached_sizze_186180, block_sizze_182591);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184747_cached_sizze_186181 < bytes_184746) {
                        err = lexical_realloc(ctx, &mem_184747, &mem_184747_cached_sizze_186181, bytes_184746);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184749_cached_sizze_186182 < bytes_184748) {
                        err = lexical_realloc(ctx, &mem_184749, &mem_184749_cached_sizze_186182, bytes_184748);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_183992 = 0; i_183992 < smallest_pow_2_geq_than_res_182581; i_183992++) {
                        int64_t zp_lhs_182655 = mul64(block_sizze_182591, i_183992);
                        
                        for (int64_t i_183982 = 0; i_183982 < block_sizze_182591; i_183982++) {
                            int64_t k_182660 = add64(zp_lhs_182655, i_183982);
                            bool cond_182661 = slt64(k_182660, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530);
                            int8_t lifted_lambda_res_182662;
                            int64_t lifted_lambda_res_182663;
                            int32_t lifted_lambda_res_182664;
                            
                            if (cond_182661) {
                                bool x_182665 = sle64((int64_t) 0, k_182660);
                                bool bounds_check_182666 = cond_182661 && x_182665;
                                bool index_certs_182667;
                                
                                if (!bounds_check_182666) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_182660, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:366:63-73\n   #9  ftsort.fut:359:1-366:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_182668 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, k_182660);
                                int8_t index_concat_branch_182669 = btoi_bool_i8(index_concat_cmp_182668);
                                int64_t index_concat_branch_182670;
                                
                                if (index_concat_cmp_182668) {
                                    int64_t index_concat_i_182671 = sub64(k_182660, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                                    int64_t index_primexp_182672 = add64(index_concat_branch_182515, index_concat_i_182671);
                                    
                                    index_concat_branch_182670 = index_primexp_182672;
                                } else {
                                    int64_t index_primexp_182673 = add64(index_concat_branch_182512, k_182660);
                                    
                                    index_concat_branch_182670 = index_primexp_182673;
                                }
                                
                                int32_t index_concat_branch_182674;
                                
                                if (index_concat_cmp_182668) {
                                    int64_t index_concat_i_182675 = sub64(k_182660, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                                    int64_t slice_182676 = index_concat_branch_182515 + index_concat_i_182675;
                                    int64_t slice_182677 = p_178825 + slice_182676;
                                    int32_t index_concat_182678 = ((int32_t *) b_list_mem_184306.mem)[slice_182677];
                                    
                                    index_concat_branch_182674 = index_concat_182678;
                                } else {
                                    int64_t slice_182679 = index_concat_branch_182512 + k_182660;
                                    int64_t slice_182680 = p_178824 + slice_182679;
                                    int32_t index_concat_182681 = ((int32_t *) a_list_mem_184305.mem)[slice_182680];
                                    
                                    index_concat_branch_182674 = index_concat_182681;
                                }
                                lifted_lambda_res_182662 = index_concat_branch_182669;
                                lifted_lambda_res_182663 = index_concat_branch_182670;
                                lifted_lambda_res_182664 = index_concat_branch_182674;
                            } else {
                                lifted_lambda_res_182662 = defunc_0_reduce_res_182611;
                                lifted_lambda_res_182663 = defunc_0_reduce_res_182612;
                                lifted_lambda_res_182664 = defunc_0_reduce_res_182613;
                            }
                            ((int8_t *) mem_184745)[i_183982] = lifted_lambda_res_182662;
                            ((int64_t *) mem_184747)[i_183982] = lifted_lambda_res_182663;
                            ((int32_t *) mem_184749)[i_183982] = lifted_lambda_res_182664;
                        }
                        if (!cond_182644) {
                            for (int64_t i_182691 = 0; i_182691 < distance_182647; i_182691++) {
                                int64_t gt_arg1_182695 = add64((int64_t) 1, i_182691);
                                bool x_182696 = sle64((int64_t) 0, gt_arg1_182695);
                                bool y_182697 = slt64(gt_arg1_182695, block_sizze_182591);
                                bool bounds_check_182698 = x_182696 && y_182697;
                                bool index_certs_182699;
                                
                                if (!bounds_check_182698) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_182695, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_182703 = slt64(i_182691, block_sizze_182591);
                                bool index_certs_182704;
                                
                                if (!y_182703) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_182691, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_182700 = ((int8_t *) mem_184745)[gt_arg1_182695];
                                int64_t gt_arg1_182701 = ((int64_t *) mem_184747)[gt_arg1_182695];
                                int32_t gt_arg1_182702 = ((int32_t *) mem_184749)[gt_arg1_182695];
                                int8_t gt_arg0_182705 = ((int8_t *) mem_184745)[i_182691];
                                int64_t gt_arg0_182706 = ((int64_t *) mem_184747)[i_182691];
                                int32_t gt_arg0_182707 = ((int32_t *) mem_184749)[i_182691];
                                bool cond_182708 = gt_arg0_182705 == gt_arg1_182700;
                                bool defunc_0_leq_res_t_res_182709 = sle64(gt_arg0_182706, gt_arg1_182701);
                                bool defunc_0_leq_res_182710 = sle32(gt_arg0_182707, gt_arg1_182702);
                                bool x_182711 = cond_182708 && defunc_0_leq_res_t_res_182709;
                                bool x_182712 = !cond_182708;
                                bool y_182713 = defunc_0_leq_res_182710 && x_182712;
                                bool defunc_0_leq_res_182714 = x_182711 || y_182713;
                                bool defunc_0_lifted_gt_res_182715 = !defunc_0_leq_res_182714;
                                bool s_182716;
                                int64_t s_182720;
                                bool loop_while_182721;
                                int64_t j_182725;
                                
                                loop_while_182721 = defunc_0_lifted_gt_res_182715;
                                j_182725 = i_182691;
                                while (loop_while_182721) {
                                    bool x_182726 = sle64((int64_t) 0, j_182725);
                                    bool y_182727 = slt64(j_182725, block_sizze_182591);
                                    bool bounds_check_182728 = x_182726 && y_182727;
                                    bool index_certs_182729;
                                    
                                    if (!bounds_check_182728) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_182725, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_182733 = add64((int64_t) 1, j_182725);
                                    bool x_182734 = sle64((int64_t) 0, copy_arg0_182733);
                                    bool y_182735 = slt64(copy_arg0_182733, block_sizze_182591);
                                    bool bounds_check_182736 = x_182734 && y_182735;
                                    bool index_certs_182737;
                                    
                                    if (!bounds_check_182736) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_182733, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_182730 = ((int8_t *) mem_184745)[j_182725];
                                    int64_t copy_arg0_182731 = ((int64_t *) mem_184747)[j_182725];
                                    int32_t copy_arg0_182732 = ((int32_t *) mem_184749)[j_182725];
                                    int8_t copy_arg0_182738 = ((int8_t *) mem_184745)[copy_arg0_182733];
                                    int64_t copy_arg0_182739 = ((int64_t *) mem_184747)[copy_arg0_182733];
                                    int32_t copy_arg0_182740 = ((int32_t *) mem_184749)[copy_arg0_182733];
                                    
                                    ((int8_t *) mem_184745)[j_182725] = copy_arg0_182738;
                                    ((int64_t *) mem_184747)[j_182725] = copy_arg0_182739;
                                    ((int32_t *) mem_184749)[j_182725] = copy_arg0_182740;
                                    ((int8_t *) mem_184745)[copy_arg0_182733] = copy_arg0_182730;
                                    ((int64_t *) mem_184747)[copy_arg0_182733] = copy_arg0_182731;
                                    ((int32_t *) mem_184749)[copy_arg0_182733] = copy_arg0_182732;
                                    
                                    int64_t tmp_182747 = sub64(j_182725, (int64_t) 1);
                                    bool cond_182748 = sle64((int64_t) 0, tmp_182747);
                                    bool loop_cond_182749;
                                    
                                    if (cond_182748) {
                                        bool y_182753 = slt64(tmp_182747, block_sizze_182591);
                                        bool bounds_check_182754 = cond_182748 && y_182753;
                                        bool index_certs_182755;
                                        
                                        if (!bounds_check_182754) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_182747, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_182750 = ((int8_t *) mem_184745)[j_182725];
                                        int64_t gt_arg1_182751 = ((int64_t *) mem_184747)[j_182725];
                                        int32_t gt_arg1_182752 = ((int32_t *) mem_184749)[j_182725];
                                        int8_t gt_arg0_182756 = ((int8_t *) mem_184745)[tmp_182747];
                                        int64_t gt_arg0_182757 = ((int64_t *) mem_184747)[tmp_182747];
                                        int32_t gt_arg0_182758 = ((int32_t *) mem_184749)[tmp_182747];
                                        bool cond_182759 = gt_arg0_182756 == gt_arg1_182750;
                                        bool defunc_0_leq_res_t_res_182760 = sle64(gt_arg0_182757, gt_arg1_182751);
                                        bool defunc_0_leq_res_182761 = sle32(gt_arg0_182758, gt_arg1_182752);
                                        bool x_182762 = cond_182759 && defunc_0_leq_res_t_res_182760;
                                        bool x_182763 = !cond_182759;
                                        bool y_182764 = defunc_0_leq_res_182761 && x_182763;
                                        bool defunc_0_leq_res_182765 = x_182762 || y_182764;
                                        bool defunc_0_lifted_gt_res_182766 = !defunc_0_leq_res_182765;
                                        
                                        loop_cond_182749 = defunc_0_lifted_gt_res_182766;
                                    } else {
                                        loop_cond_182749 = 0;
                                    }
                                    
                                    bool loop_while_tmp_185776 = loop_cond_182749;
                                    int64_t j_tmp_185780 = tmp_182747;
                                    
                                    loop_while_182721 = loop_while_tmp_185776;
                                    j_182725 = j_tmp_185780;
                                }
                                s_182716 = loop_while_182721;
                                s_182720 = j_182725;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_184726, i_183992 * block_sizze_182591, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184745, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_182591});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184729, i_183992 * block_sizze_182591, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184747, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_182591});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_184732, i_183992 * block_sizze_182591, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_184749, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_182591});
                    }
                    if (memblock_alloc(ctx, &mem_184826, flat_dim_182592, "mem_184826")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_184826.mem, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (uint8_t *) mem_184726, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_182581, block_sizze_182591});
                    if (memblock_alloc(ctx, &mem_184830, bytes_184728, "mem_184830")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_184830.mem, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (uint64_t *) mem_184729, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_182581, block_sizze_182591});
                    if (memblock_alloc(ctx, &mem_184834, bytes_184731, "mem_184834")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_184834.mem, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (uint32_t *) mem_184732, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_182581, block_sizze_182591});
                    
                    int64_t data_182776;
                    bool data_182777;
                    int64_t data_182781;
                    int64_t loop_dz2084Uz2082U_182782;
                    bool loop_while_182783;
                    int64_t stride_182787;
                    
                    if (memblock_set(ctx, &mem_param_184838, &mem_184826, "mem_184826") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_184841, &mem_184830, "mem_184830") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_184844, &mem_184834, "mem_184834") != 0)
                        return 1;
                    loop_dz2084Uz2082U_182782 = flat_dim_182592;
                    loop_while_182783 = loop_cond_182773;
                    stride_182787 = block_sizze_182591;
                    while (loop_while_182783) {
                        int64_t next_stride_182788 = mul64((int64_t) 2, stride_182787);
                        bool zzero_182789 = next_stride_182788 == (int64_t) 0;
                        bool nonzzero_182790 = !zzero_182789;
                        bool nonzzero_cert_182791;
                        
                        if (!nonzzero_182790) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_182792 = sdiv64(flat_dim_182592, next_stride_182788);
                        bool bounds_invalid_upwards_182793 = slt64(num_merges_182792, (int64_t) 0);
                        bool valid_182794 = !bounds_invalid_upwards_182793;
                        bool range_valid_c_182795;
                        
                        if (!valid_182794) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_182792, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:366:63-73\n   #6  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_182797 = sub64(next_stride_182788, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_182798 = sle64((int64_t) 0, m_182797);
                        bool cond_182800 = slt64(next_stride_182788, (int64_t) 10);
                        bool protect_assert_disj_182801 = nonzzero_182775 || cond_182800;
                        bool nonzzero_cert_182802;
                        
                        if (!protect_assert_disj_182801) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_182803 = smod_safe64(next_stride_182788, merge_block_sizze_182597);
                        bool num_blocks_182804 = zeze_lhs_182803 == (int64_t) 0;
                        bool protect_assert_disj_182805 = cond_182800 || num_blocks_182804;
                        bool assert_c_182806;
                        
                        if (!protect_assert_disj_182805) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_182807 = sdiv_safe64(next_stride_182788, merge_block_sizze_182597);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808 = add64((int64_t) 1, num_blocks_182807);
                        int64_t j_m_i_182809 = sub64(next_stride_182788, stride_182787);
                        int64_t flat_dim_182810 = merge_block_sizze_182597 * num_blocks_182807;
                        bool bounds_invalid_upwards_182811 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808, (int64_t) 0);
                        bool empty_slice_182812 = j_m_i_182809 == (int64_t) 0;
                        int64_t m_182813 = sub64(j_m_i_182809, (int64_t) 1);
                        bool zzero_lte_i_182814 = sle64((int64_t) 0, stride_182787);
                        bool i_lte_j_182815 = sle64(stride_182787, next_stride_182788);
                        bool empty_slice_182816 = stride_182787 == (int64_t) 0;
                        int64_t m_182817 = sub64(stride_182787, (int64_t) 1);
                        bool bounds_invalid_upwards_182818 = slt64(num_blocks_182807, (int64_t) 0);
                        bool cond_182819 = slt64((int64_t) 0, stride_182787);
                        bool valid_182820 = !bounds_invalid_upwards_182811;
                        int64_t i_p_m_t_s_182821 = add64(stride_182787, m_182813);
                        bool zzero_leq_i_p_m_t_s_182822 = sle64((int64_t) 0, m_182817);
                        bool i_p_m_t_s_leq_w_182823 = slt64(m_182817, next_stride_182788);
                        bool valid_182824 = !bounds_invalid_upwards_182818;
                        bool i_p_m_t_s_leq_w_182825 = slt64(m_182797, flat_dim_182810);
                        bool y_182826 = slt64((int64_t) 0, j_m_i_182809);
                        bool protect_assert_disj_182827 = cond_182800 || valid_182820;
                        bool range_valid_c_182828;
                        
                        if (!protect_assert_disj_182827) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:366:63-73\n   #10 ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_182829 = sle64((int64_t) 0, i_p_m_t_s_182821);
                        bool i_p_m_t_s_leq_w_182830 = slt64(i_p_m_t_s_182821, next_stride_182788);
                        bool y_182831 = zzero_leq_i_p_m_t_s_182822 && i_p_m_t_s_leq_w_182823;
                        bool protect_assert_disj_182832 = cond_182800 || valid_182824;
                        bool range_valid_c_182833;
                        
                        if (!protect_assert_disj_182832) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_182807, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:366:63-73\n   #9  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_182834 = zzero_leq_i_p_m_t_s_182798 && i_p_m_t_s_leq_w_182825;
                        bool y_182835 = zzero_lte_i_182814 && i_p_m_t_s_leq_w_182830;
                        bool forwards_ok_182836 = zzero_lte_i_182814 && y_182831;
                        bool ok_or_empty_182837 = zzero_182789 || y_182834;
                        bool protect_assert_disj_182838 = cond_182819 || y_182826;
                        bool y_182839 = zzero_leq_i_p_m_t_s_182829 && y_182835;
                        bool ok_or_empty_182840 = empty_slice_182816 || forwards_ok_182836;
                        bool protect_assert_disj_182841 = cond_182800 || ok_or_empty_182837;
                        bool index_certs_182842;
                        
                        if (!protect_assert_disj_182841) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_182788, "] out of bounds for array of shape [", (long long) flat_dim_182810, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:366:63-73\n   #9  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_182843 = !cond_182800;
                        bool protect_assert_disj_182844 = protect_assert_disj_182838 || loop_not_taken_182843;
                        bool index_certs_182845;
                        
                        if (!protect_assert_disj_182844) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:366:63-73\n   #10 ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_182846 = i_lte_j_182815 && y_182839;
                        bool protect_assert_disj_182847 = cond_182800 || ok_or_empty_182840;
                        bool index_certs_182848;
                        
                        if (!protect_assert_disj_182847) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_182787, "] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:366:63-73\n   #11 ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_182849 = ok_or_empty_182840 || loop_not_taken_182843;
                        bool index_certs_182850;
                        
                        if (!protect_assert_disj_182849) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_182787, "] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_182851 = empty_slice_182812 || forwards_ok_182846;
                        bool protect_assert_disj_182852 = cond_182800 || ok_or_empty_182851;
                        bool index_certs_182853;
                        
                        if (!protect_assert_disj_182852) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_182787, ":] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:366:63-73\n   #11 ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_182854 = loop_not_taken_182843 || ok_or_empty_182851;
                        bool index_certs_182855;
                        
                        if (!protect_assert_disj_182854) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_182787, ":] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_184845 = next_stride_182788 * num_merges_182792;
                        int64_t binop_x_184847 = (int64_t) 8 * num_merges_182792;
                        int64_t bytes_184848 = next_stride_182788 * binop_x_184847;
                        int64_t binop_x_184850 = (int64_t) 4 * num_merges_182792;
                        int64_t bytes_184851 = next_stride_182788 * binop_x_184850;
                        bool i_lte_j_182799 = sle64((int64_t) 0, next_stride_182788);
                        
                        if (mem_184846_cached_sizze_186183 < bytes_184845) {
                            err = lexical_realloc(ctx, &mem_184846, &mem_184846_cached_sizze_186183, bytes_184845);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_184849_cached_sizze_186184 < bytes_184848) {
                            err = lexical_realloc(ctx, &mem_184849, &mem_184849_cached_sizze_186184, bytes_184848);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_184852_cached_sizze_186185 < bytes_184851) {
                            err = lexical_realloc(ctx, &mem_184852, &mem_184852_cached_sizze_186185, bytes_184851);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_184865 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808;
                        int64_t binop_x_184883 = (int64_t) 8 * num_blocks_182807;
                        int64_t bytes_184884 = merge_block_sizze_182597 * binop_x_184883;
                        int64_t binop_x_184886 = (int64_t) 4 * num_blocks_182807;
                        int64_t bytes_184887 = merge_block_sizze_182597 * binop_x_184886;
                        int64_t bytes_184948 = (int64_t) 16 * stride_182787;
                        int64_t bytes_184950 = (int64_t) 8 * stride_182787;
                        
                        for (int64_t i_184019 = 0; i_184019 < num_merges_182792; i_184019++) {
                            int64_t start_182860 = mul64(next_stride_182788, i_184019);
                            int64_t j_m_i_182861 = sub64(loop_dz2084Uz2082U_182782, start_182860);
                            bool empty_slice_182862 = j_m_i_182861 == (int64_t) 0;
                            int64_t m_182863 = sub64(j_m_i_182861, (int64_t) 1);
                            int64_t i_p_m_t_s_182864 = add64(start_182860, m_182863);
                            bool zzero_leq_i_p_m_t_s_182865 = sle64((int64_t) 0, i_p_m_t_s_182864);
                            bool i_p_m_t_s_leq_w_182866 = slt64(i_p_m_t_s_182864, loop_dz2084Uz2082U_182782);
                            bool zzero_lte_i_182867 = sle64((int64_t) 0, start_182860);
                            bool i_lte_j_182868 = sle64(start_182860, loop_dz2084Uz2082U_182782);
                            bool y_182869 = i_p_m_t_s_leq_w_182866 && zzero_lte_i_182867;
                            bool y_182870 = zzero_leq_i_p_m_t_s_182865 && y_182869;
                            bool forwards_ok_182871 = i_lte_j_182868 && y_182870;
                            bool ok_or_empty_182872 = empty_slice_182862 || forwards_ok_182871;
                            bool index_certs_182873;
                            
                            if (!ok_or_empty_182872) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_182860, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_182782, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_182874 = slt64(m_182797, j_m_i_182861);
                            bool y_182875 = zzero_leq_i_p_m_t_s_182798 && i_p_m_t_s_leq_w_182874;
                            bool forwards_ok_182876 = i_lte_j_182799 && y_182875;
                            bool ok_or_empty_182877 = zzero_182789 || forwards_ok_182876;
                            bool index_certs_182878;
                            
                            if (!ok_or_empty_182877) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_182788, "] out of bounds for array of shape [", (long long) j_m_i_182861, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_182800) {
                                int8_t dummy_182882;
                                int64_t dummy_182883;
                                int32_t dummy_182884;
                                
                                if (cond_182819) {
                                    int8_t head_res_182885 = ((int8_t *) mem_param_184838.mem)[start_182860];
                                    int64_t head_res_182886 = ((int64_t *) mem_param_184841.mem)[start_182860];
                                    int32_t head_res_182887 = ((int32_t *) mem_param_184844.mem)[start_182860];
                                    
                                    dummy_182882 = head_res_182885;
                                    dummy_182883 = head_res_182886;
                                    dummy_182884 = head_res_182887;
                                } else {
                                    int64_t slice_182888 = stride_182787 + start_182860;
                                    int8_t head_res_182889 = ((int8_t *) mem_param_184838.mem)[slice_182888];
                                    int64_t head_res_182890 = ((int64_t *) mem_param_184841.mem)[slice_182888];
                                    int32_t head_res_182891 = ((int32_t *) mem_param_184844.mem)[slice_182888];
                                    
                                    dummy_182882 = head_res_182889;
                                    dummy_182883 = head_res_182890;
                                    dummy_182884 = head_res_182891;
                                }
                                if (memblock_alloc(ctx, &mem_184947, next_stride_182788, "mem_184947")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185793 = 0; nest_i_185793 < next_stride_182788; nest_i_185793++) {
                                    ((int8_t *) mem_184947.mem)[nest_i_185793] = dummy_182882;
                                }
                                if (memblock_alloc(ctx, &mem_184949, bytes_184948, "mem_184949")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185794 = 0; nest_i_185794 < next_stride_182788; nest_i_185794++) {
                                    ((int64_t *) mem_184949.mem)[nest_i_185794] = dummy_182883;
                                }
                                if (memblock_alloc(ctx, &mem_184951, bytes_184950, "mem_184951")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185795 = 0; nest_i_185795 < next_stride_182788; nest_i_185795++) {
                                    ((int32_t *) mem_184951.mem)[nest_i_185795] = dummy_182884;
                                }
                                
                                int64_t data_182895;
                                int64_t i_182900 = (int64_t) 0;
                                
                                for (int64_t k_182899 = 0; k_182899 < next_stride_182788; k_182899++) {
                                    int64_t j_182904 = sub64(k_182899, i_182900);
                                    bool cond_182905 = j_182904 == j_m_i_182809;
                                    bool cond_182906;
                                    
                                    if (cond_182905) {
                                        cond_182906 = 1;
                                    } else {
                                        bool cond_182907 = slt64(i_182900, stride_182787);
                                        bool cond_f_res_182908;
                                        
                                        if (cond_182907) {
                                            bool x_182909 = sle64((int64_t) 0, j_182904);
                                            bool y_182910 = slt64(j_182904, j_m_i_182809);
                                            bool bounds_check_182911 = x_182909 && y_182910;
                                            bool index_certs_182912;
                                            
                                            if (!bounds_check_182911) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_182904, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:366:63-73\n   #9  ftsort.fut:359:1-366:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_182918 = sle64((int64_t) 0, i_182900);
                                            bool bounds_check_182919 = cond_182907 && x_182918;
                                            bool index_certs_182920;
                                            
                                            if (!bounds_check_182919) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_182900, "] out of bounds for array of shape [", (long long) stride_182787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:366:63-73\n   #9  ftsort.fut:359:1-366:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_182913 = stride_182787 + j_182904;
                                            int64_t slice_182914 = start_182860 + slice_182913;
                                            int8_t leq_arg1_182915 = ((int8_t *) mem_param_184838.mem)[slice_182914];
                                            int64_t leq_arg1_182916 = ((int64_t *) mem_param_184841.mem)[slice_182914];
                                            int32_t leq_arg1_182917 = ((int32_t *) mem_param_184844.mem)[slice_182914];
                                            int64_t slice_182921 = start_182860 + i_182900;
                                            int8_t leq_arg0_182922 = ((int8_t *) mem_param_184838.mem)[slice_182921];
                                            int64_t leq_arg0_182923 = ((int64_t *) mem_param_184841.mem)[slice_182921];
                                            int32_t leq_arg0_182924 = ((int32_t *) mem_param_184844.mem)[slice_182921];
                                            bool cond_182925 = leq_arg0_182922 == leq_arg1_182915;
                                            bool defunc_0_leq_res_t_res_182926 = sle64(leq_arg0_182923, leq_arg1_182916);
                                            bool defunc_0_leq_res_182927 = sle32(leq_arg0_182924, leq_arg1_182917);
                                            bool x_182928 = cond_182925 && defunc_0_leq_res_t_res_182926;
                                            bool x_182929 = !cond_182925;
                                            bool y_182930 = defunc_0_leq_res_182927 && x_182929;
                                            bool defunc_0_leq_res_182931 = x_182928 || y_182930;
                                            
                                            cond_f_res_182908 = defunc_0_leq_res_182931;
                                        } else {
                                            cond_f_res_182908 = 0;
                                        }
                                        cond_182906 = cond_f_res_182908;
                                    }
                                    
                                    int64_t loopres_182932;
                                    int8_t loopres_182933;
                                    int64_t loopres_182934;
                                    int32_t loopres_182935;
                                    
                                    if (cond_182906) {
                                        bool x_182937 = sle64((int64_t) 0, i_182900);
                                        bool y_182938 = slt64(i_182900, stride_182787);
                                        bool bounds_check_182939 = x_182937 && y_182938;
                                        bool index_certs_182940;
                                        
                                        if (!bounds_check_182939) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_182900, "] out of bounds for array of shape [", (long long) stride_182787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:366:63-73\n   #9  ftsort.fut:359:1-366:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_182936 = add64((int64_t) 1, i_182900);
                                        int64_t slice_182941 = start_182860 + i_182900;
                                        int8_t tmp_182942 = ((int8_t *) mem_param_184838.mem)[slice_182941];
                                        int64_t tmp_182943 = ((int64_t *) mem_param_184841.mem)[slice_182941];
                                        int32_t tmp_182944 = ((int32_t *) mem_param_184844.mem)[slice_182941];
                                        
                                        loopres_182932 = tmp_182936;
                                        loopres_182933 = tmp_182942;
                                        loopres_182934 = tmp_182943;
                                        loopres_182935 = tmp_182944;
                                    } else {
                                        bool x_182945 = sle64((int64_t) 0, j_182904);
                                        bool y_182946 = slt64(j_182904, j_m_i_182809);
                                        bool bounds_check_182947 = x_182945 && y_182946;
                                        bool index_certs_182948;
                                        
                                        if (!bounds_check_182947) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_182904, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:366:63-73\n   #9  ftsort.fut:359:1-366:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_182949 = stride_182787 + j_182904;
                                        int64_t slice_182950 = start_182860 + slice_182949;
                                        int8_t tmp_182951 = ((int8_t *) mem_param_184838.mem)[slice_182950];
                                        int64_t tmp_182952 = ((int64_t *) mem_param_184841.mem)[slice_182950];
                                        int32_t tmp_182953 = ((int32_t *) mem_param_184844.mem)[slice_182950];
                                        
                                        loopres_182932 = i_182900;
                                        loopres_182933 = tmp_182951;
                                        loopres_182934 = tmp_182952;
                                        loopres_182935 = tmp_182953;
                                    }
                                    ((int8_t *) mem_184947.mem)[k_182899] = loopres_182933;
                                    ((int64_t *) mem_184949.mem)[k_182899] = loopres_182934;
                                    ((int32_t *) mem_184951.mem)[k_182899] = loopres_182935;
                                    
                                    int64_t i_tmp_185796 = loopres_182932;
                                    
                                    i_182900 = i_tmp_185796;
                                }
                                data_182895 = i_182900;
                                if (memblock_set(ctx, &ext_mem_184978, &mem_184947, "mem_184947") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184975, &mem_184949, "mem_184949") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184972, &mem_184951, "mem_184951") != 0)
                                    return 1;
                            } else {
                                if (mem_184866_cached_sizze_186186 < bytes_184865) {
                                    err = lexical_realloc(ctx, &mem_184866, &mem_184866_cached_sizze_186186, bytes_184865);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184868_cached_sizze_186187 < bytes_184865) {
                                    err = lexical_realloc(ctx, &mem_184868, &mem_184868_cached_sizze_186187, bytes_184865);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_184000 = 0; i_184000 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808; i_184000++) {
                                    int64_t split_count_arg3_182961 = mul64(merge_block_sizze_182597, i_184000);
                                    int64_t defunc_0_split_count_res_182962;
                                    int64_t defunc_0_split_count_res_182963;
                                    int64_t defunc_0_split_count_res_182964;
                                    int64_t defunc_0_split_count_res_182965;
                                    int64_t defunc_0_split_count_res_182966;
                                    
                                    if (futrts_lifted_normalizze_9100(ctx, &defunc_0_split_count_res_182962, &defunc_0_split_count_res_182963, &defunc_0_split_count_res_182964, &defunc_0_split_count_res_182965, &defunc_0_split_count_res_182966, (int64_t) 0, stride_182787, (int64_t) 0, j_m_i_182809, split_count_arg3_182961) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_182967 = slt64((int64_t) 0, defunc_0_split_count_res_182966);
                                    bool defunc_0_split_count_res_182968;
                                    int64_t defunc_0_split_count_res_182969;
                                    int64_t defunc_0_split_count_res_182970;
                                    int64_t defunc_0_split_count_res_182971;
                                    int64_t defunc_0_split_count_res_182972;
                                    int64_t defunc_0_split_count_res_182973;
                                    bool loop_while_182974;
                                    int64_t ss_182975;
                                    int64_t ss_182976;
                                    int64_t tt_182977;
                                    int64_t tt_182978;
                                    int64_t count_182979;
                                    
                                    loop_while_182974 = loop_cond_182967;
                                    ss_182975 = defunc_0_split_count_res_182962;
                                    ss_182976 = defunc_0_split_count_res_182963;
                                    tt_182977 = defunc_0_split_count_res_182964;
                                    tt_182978 = defunc_0_split_count_res_182965;
                                    count_182979 = defunc_0_split_count_res_182966;
                                    while (loop_while_182974) {
                                        int64_t zlze_lhs_182980 = sub64(ss_182976, ss_182975);
                                        bool cond_182981 = sle64(zlze_lhs_182980, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_182982;
                                        int64_t defunc_0_lifted_step_res_182983;
                                        int64_t defunc_0_lifted_step_res_182984;
                                        int64_t defunc_0_lifted_step_res_182985;
                                        
                                        if (cond_182981) {
                                            int64_t tmp_182986 = add64(tt_182977, count_182979);
                                            
                                            defunc_0_lifted_step_res_182982 = ss_182975;
                                            defunc_0_lifted_step_res_182983 = tmp_182986;
                                            defunc_0_lifted_step_res_182984 = tt_182978;
                                            defunc_0_lifted_step_res_182985 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_182987 = sub64(tt_182978, tt_182977);
                                            bool cond_182988 = sle64(zlze_lhs_182987, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_182989;
                                            int64_t defunc_0_lifted_step_res_f_res_182990;
                                            int64_t defunc_0_lifted_step_res_f_res_182991;
                                            int64_t defunc_0_lifted_step_res_f_res_182992;
                                            
                                            if (cond_182988) {
                                                int64_t tmp_182993 = add64(ss_182975, count_182979);
                                                
                                                defunc_0_lifted_step_res_f_res_182989 = tmp_182993;
                                                defunc_0_lifted_step_res_f_res_182990 = tt_182977;
                                                defunc_0_lifted_step_res_f_res_182991 = tt_182978;
                                                defunc_0_lifted_step_res_f_res_182992 = (int64_t) 0;
                                            } else {
                                                bool cond_182994 = count_182979 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_182995;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_182996;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_182997;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_182998;
                                                
                                                if (cond_182994) {
                                                    bool x_182999 = sle64((int64_t) 0, ss_182975);
                                                    bool y_183000 = slt64(ss_182975, stride_182787);
                                                    bool bounds_check_183001 = x_182999 && y_183000;
                                                    bool index_certs_183002;
                                                    
                                                    if (!bounds_check_183001) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_182975, "] out of bounds for array of shape [", (long long) stride_182787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:366:63-73\n   #13 ftsort.fut:359:1-366:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_183007 = sle64((int64_t) 0, tt_182977);
                                                    bool y_183008 = slt64(tt_182977, j_m_i_182809);
                                                    bool bounds_check_183009 = x_183007 && y_183008;
                                                    bool index_certs_183010;
                                                    
                                                    if (!bounds_check_183009) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_182977, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:366:63-73\n   #13 ftsort.fut:359:1-366:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_183003 = start_182860 + ss_182975;
                                                    int8_t leq_arg1_183004 = ((int8_t *) mem_param_184838.mem)[slice_183003];
                                                    int64_t leq_arg1_183005 = ((int64_t *) mem_param_184841.mem)[slice_183003];
                                                    int32_t leq_arg1_183006 = ((int32_t *) mem_param_184844.mem)[slice_183003];
                                                    int64_t slice_183011 = stride_182787 + tt_182977;
                                                    int64_t slice_183012 = start_182860 + slice_183011;
                                                    int8_t leq_arg0_183013 = ((int8_t *) mem_param_184838.mem)[slice_183012];
                                                    int64_t leq_arg0_183014 = ((int64_t *) mem_param_184841.mem)[slice_183012];
                                                    int32_t leq_arg0_183015 = ((int32_t *) mem_param_184844.mem)[slice_183012];
                                                    bool cond_183016 = leq_arg0_183013 == leq_arg1_183004;
                                                    bool defunc_0_leq_res_t_res_183017 = sle64(leq_arg0_183014, leq_arg1_183005);
                                                    bool defunc_0_leq_res_183018 = sle32(leq_arg0_183015, leq_arg1_183006);
                                                    bool x_183019 = cond_183016 && defunc_0_leq_res_t_res_183017;
                                                    bool x_183020 = !cond_183016;
                                                    bool y_183021 = defunc_0_leq_res_183018 && x_183020;
                                                    bool defunc_0_leq_res_183022 = x_183019 || y_183021;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183023;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183024;
                                                    
                                                    if (defunc_0_leq_res_183022) {
                                                        int64_t tmp_183025 = add64((int64_t) 1, tt_182977);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183023 = ss_182975;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183024 = tmp_183025;
                                                    } else {
                                                        int64_t tmp_183026 = add64((int64_t) 1, ss_182975);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183023 = tmp_183026;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183024 = tt_182977;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_182995 = defunc_0_lifted_step_res_f_res_f_res_t_res_183023;
                                                    defunc_0_lifted_step_res_f_res_f_res_182996 = defunc_0_lifted_step_res_f_res_f_res_t_res_183024;
                                                    defunc_0_lifted_step_res_f_res_f_res_182997 = tt_182978;
                                                    defunc_0_lifted_step_res_f_res_f_res_182998 = (int64_t) 0;
                                                } else {
                                                    int64_t m_183027 = sdiv64(count_182979, (int64_t) 2);
                                                    int64_t n_183028 = sub64(count_182979, m_183027);
                                                    bool cond_183029 = n_183028 == (int64_t) 0;
                                                    int64_t zgze_lhs_183030 = add64(ss_182975, m_183027);
                                                    bool cond_f_res_183031 = sle64(ss_182976, zgze_lhs_183030);
                                                    bool x_183032 = !cond_183029;
                                                    bool y_183033 = cond_f_res_183031 && x_183032;
                                                    bool cond_183034 = cond_183029 || y_183033;
                                                    bool leq_y_x_183035;
                                                    
                                                    if (cond_183034) {
                                                        leq_y_x_183035 = 1;
                                                    } else {
                                                        bool x_183036 = sle64((int64_t) 0, zgze_lhs_183030);
                                                        bool y_183037 = slt64(zgze_lhs_183030, stride_182787);
                                                        bool bounds_check_183038 = x_183036 && y_183037;
                                                        bool index_certs_183039;
                                                        
                                                        if (!bounds_check_183038) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_183030, "] out of bounds for array of shape [", (long long) stride_182787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:366:63-73\n   #13 ftsort.fut:359:1-366:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_183044 = add64(tt_182977, n_183028);
                                                        int64_t leq_arg0_183045 = sub64(zm_lhs_183044, (int64_t) 1);
                                                        bool x_183046 = sle64((int64_t) 0, leq_arg0_183045);
                                                        bool y_183047 = slt64(leq_arg0_183045, j_m_i_182809);
                                                        bool bounds_check_183048 = x_183046 && y_183047;
                                                        bool index_certs_183049;
                                                        
                                                        if (!bounds_check_183048) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_183045, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:366:63-73\n   #13 ftsort.fut:359:1-366:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_183040 = start_182860 + zgze_lhs_183030;
                                                        int8_t leq_arg1_183041 = ((int8_t *) mem_param_184838.mem)[slice_183040];
                                                        int64_t leq_arg1_183042 = ((int64_t *) mem_param_184841.mem)[slice_183040];
                                                        int32_t leq_arg1_183043 = ((int32_t *) mem_param_184844.mem)[slice_183040];
                                                        int64_t slice_183050 = stride_182787 + leq_arg0_183045;
                                                        int64_t slice_183051 = start_182860 + slice_183050;
                                                        int8_t leq_arg0_183052 = ((int8_t *) mem_param_184838.mem)[slice_183051];
                                                        int64_t leq_arg0_183053 = ((int64_t *) mem_param_184841.mem)[slice_183051];
                                                        int32_t leq_arg0_183054 = ((int32_t *) mem_param_184844.mem)[slice_183051];
                                                        bool cond_183055 = leq_arg0_183052 == leq_arg1_183041;
                                                        bool defunc_0_leq_res_t_res_183056 = sle64(leq_arg0_183053, leq_arg1_183042);
                                                        bool defunc_0_leq_res_183057 = sle32(leq_arg0_183054, leq_arg1_183043);
                                                        bool x_183058 = cond_183055 && defunc_0_leq_res_t_res_183056;
                                                        bool x_183059 = !cond_183055;
                                                        bool y_183060 = defunc_0_leq_res_183057 && x_183059;
                                                        bool defunc_0_leq_res_183061 = x_183058 || y_183060;
                                                        
                                                        leq_y_x_183035 = defunc_0_leq_res_183061;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_183062;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_183063;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_183064;
                                                    
                                                    if (leq_y_x_183035) {
                                                        int64_t tmp_183065 = add64(tt_182977, n_183028);
                                                        int64_t tmp_183066 = sub64(count_182979, n_183028);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183062 = tmp_183065;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183063 = tt_182978;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183064 = tmp_183066;
                                                    } else {
                                                        int64_t tmp_183067 = add64(tt_182977, n_183028);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183062 = tt_182977;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183063 = tmp_183067;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183064 = count_182979;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_182995 = ss_182975;
                                                    defunc_0_lifted_step_res_f_res_f_res_182996 = defunc_0_lifted_step_res_f_res_f_res_f_res_183062;
                                                    defunc_0_lifted_step_res_f_res_f_res_182997 = defunc_0_lifted_step_res_f_res_f_res_f_res_183063;
                                                    defunc_0_lifted_step_res_f_res_f_res_182998 = defunc_0_lifted_step_res_f_res_f_res_f_res_183064;
                                                }
                                                defunc_0_lifted_step_res_f_res_182989 = defunc_0_lifted_step_res_f_res_f_res_182995;
                                                defunc_0_lifted_step_res_f_res_182990 = defunc_0_lifted_step_res_f_res_f_res_182996;
                                                defunc_0_lifted_step_res_f_res_182991 = defunc_0_lifted_step_res_f_res_f_res_182997;
                                                defunc_0_lifted_step_res_f_res_182992 = defunc_0_lifted_step_res_f_res_f_res_182998;
                                            }
                                            defunc_0_lifted_step_res_182982 = defunc_0_lifted_step_res_f_res_182989;
                                            defunc_0_lifted_step_res_182983 = defunc_0_lifted_step_res_f_res_182990;
                                            defunc_0_lifted_step_res_182984 = defunc_0_lifted_step_res_f_res_182991;
                                            defunc_0_lifted_step_res_182985 = defunc_0_lifted_step_res_f_res_182992;
                                        }
                                        
                                        int64_t loopres_183068;
                                        int64_t loopres_183069;
                                        int64_t loopres_183070;
                                        int64_t loopres_183071;
                                        int64_t loopres_183072;
                                        
                                        if (futrts_lifted_normalizze_9100(ctx, &loopres_183068, &loopres_183069, &loopres_183070, &loopres_183071, &loopres_183072, defunc_0_lifted_step_res_182982, ss_182976, defunc_0_lifted_step_res_182983, defunc_0_lifted_step_res_182984, defunc_0_lifted_step_res_182985) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_183073 = slt64((int64_t) 0, loopres_183072);
                                        bool loop_while_tmp_185802 = loop_cond_183073;
                                        int64_t ss_tmp_185803 = loopres_183068;
                                        int64_t ss_tmp_185804 = loopres_183069;
                                        int64_t tt_tmp_185805 = loopres_183070;
                                        int64_t tt_tmp_185806 = loopres_183071;
                                        int64_t count_tmp_185807 = loopres_183072;
                                        
                                        loop_while_182974 = loop_while_tmp_185802;
                                        ss_182975 = ss_tmp_185803;
                                        ss_182976 = ss_tmp_185804;
                                        tt_182977 = tt_tmp_185805;
                                        tt_182978 = tt_tmp_185806;
                                        count_182979 = count_tmp_185807;
                                    }
                                    defunc_0_split_count_res_182968 = loop_while_182974;
                                    defunc_0_split_count_res_182969 = ss_182975;
                                    defunc_0_split_count_res_182970 = ss_182976;
                                    defunc_0_split_count_res_182971 = tt_182977;
                                    defunc_0_split_count_res_182972 = tt_182978;
                                    defunc_0_split_count_res_182973 = count_182979;
                                    ((int64_t *) mem_184866)[i_184000] = defunc_0_split_count_res_182969;
                                    ((int64_t *) mem_184868)[i_184000] = defunc_0_split_count_res_182971;
                                }
                                if (mem_184882_cached_sizze_186188 < flat_dim_182810) {
                                    err = lexical_realloc(ctx, &mem_184882, &mem_184882_cached_sizze_186188, flat_dim_182810);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184885_cached_sizze_186189 < bytes_184884) {
                                    err = lexical_realloc(ctx, &mem_184885, &mem_184885_cached_sizze_186189, bytes_184884);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184888_cached_sizze_186190 < bytes_184887) {
                                    err = lexical_realloc(ctx, &mem_184888, &mem_184888_cached_sizze_186190, bytes_184887);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_184009 = 0; i_184009 < num_blocks_182807; i_184009++) {
                                    bool y_183082 = slt64(i_184009, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808);
                                    bool index_certs_183084;
                                    
                                    if (!y_183082) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_184009, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:366:63-73\n   #10 ftsort.fut:359:1-366:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_183085 = ((int64_t *) mem_184866)[i_184009];
                                    int64_t defunc_0_f_res_183086 = ((int64_t *) mem_184868)[i_184009];
                                    int64_t tmp_183087 = add64((int64_t) 1, i_184009);
                                    bool x_183088 = sle64((int64_t) 0, tmp_183087);
                                    bool y_183089 = slt64(tmp_183087, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808);
                                    bool bounds_check_183090 = x_183088 && y_183089;
                                    bool index_certs_183091;
                                    
                                    if (!bounds_check_183090) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_183087, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:366:63-73\n   #10 ftsort.fut:359:1-366:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_183092 = ((int64_t *) mem_184866)[tmp_183087];
                                    int64_t defunc_0_f_res_183093 = ((int64_t *) mem_184868)[tmp_183087];
                                    int64_t merge_sequential_arg2_183094 = add64(stride_182787, defunc_0_f_res_183086);
                                    int64_t merge_sequential_arg2_183095 = add64(stride_182787, defunc_0_f_res_183093);
                                    int64_t j_m_i_183096 = sub64(merge_sequential_arg2_183095, merge_sequential_arg2_183094);
                                    bool empty_slice_183097 = j_m_i_183096 == (int64_t) 0;
                                    int64_t m_183098 = sub64(j_m_i_183096, (int64_t) 1);
                                    int64_t i_p_m_t_s_183099 = add64(merge_sequential_arg2_183094, m_183098);
                                    bool zzero_leq_i_p_m_t_s_183100 = sle64((int64_t) 0, i_p_m_t_s_183099);
                                    bool i_p_m_t_s_leq_w_183101 = slt64(i_p_m_t_s_183099, next_stride_182788);
                                    bool zzero_lte_i_183102 = sle64((int64_t) 0, merge_sequential_arg2_183094);
                                    bool i_lte_j_183103 = sle64(merge_sequential_arg2_183094, merge_sequential_arg2_183095);
                                    bool y_183104 = i_p_m_t_s_leq_w_183101 && zzero_lte_i_183102;
                                    bool y_183105 = zzero_leq_i_p_m_t_s_183100 && y_183104;
                                    bool forwards_ok_183106 = i_lte_j_183103 && y_183105;
                                    bool ok_or_empty_183107 = empty_slice_183097 || forwards_ok_183106;
                                    bool index_certs_183108;
                                    
                                    if (!ok_or_empty_183107) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_183094, ":", (long long) merge_sequential_arg2_183095, "] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:366:63-73\n   #10 ftsort.fut:359:1-366:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_183109 = sub64(defunc_0_f_res_183092, defunc_0_f_res_183085);
                                    bool empty_slice_183110 = j_m_i_183109 == (int64_t) 0;
                                    int64_t m_183111 = sub64(j_m_i_183109, (int64_t) 1);
                                    int64_t i_p_m_t_s_183112 = add64(defunc_0_f_res_183085, m_183111);
                                    bool zzero_leq_i_p_m_t_s_183113 = sle64((int64_t) 0, i_p_m_t_s_183112);
                                    bool i_p_m_t_s_leq_w_183114 = slt64(i_p_m_t_s_183112, next_stride_182788);
                                    bool zzero_lte_i_183115 = sle64((int64_t) 0, defunc_0_f_res_183085);
                                    bool i_lte_j_183116 = sle64(defunc_0_f_res_183085, defunc_0_f_res_183092);
                                    bool y_183117 = i_p_m_t_s_leq_w_183114 && zzero_lte_i_183115;
                                    bool y_183118 = zzero_leq_i_p_m_t_s_183113 && y_183117;
                                    bool forwards_ok_183119 = i_lte_j_183116 && y_183118;
                                    bool ok_or_empty_183120 = empty_slice_183110 || forwards_ok_183119;
                                    bool index_certs_183121;
                                    
                                    if (!ok_or_empty_183120) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_183085, ":", (long long) defunc_0_f_res_183092, "] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:366:63-73\n   #10 ftsort.fut:359:1-366:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_183122 = slt64((int64_t) 0, j_m_i_183109);
                                    int8_t dummy_183123;
                                    int64_t dummy_183124;
                                    int32_t dummy_183125;
                                    
                                    if (cond_183122) {
                                        bool index_certs_183126;
                                        
                                        if (!cond_183122) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_183109, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:366:63-73\n   #12 ftsort.fut:359:1-366:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183127 = start_182860 + defunc_0_f_res_183085;
                                        int8_t head_res_183128 = ((int8_t *) mem_param_184838.mem)[slice_183127];
                                        int64_t head_res_183129 = ((int64_t *) mem_param_184841.mem)[slice_183127];
                                        int32_t head_res_183130 = ((int32_t *) mem_param_184844.mem)[slice_183127];
                                        
                                        dummy_183123 = head_res_183128;
                                        dummy_183124 = head_res_183129;
                                        dummy_183125 = head_res_183130;
                                    } else {
                                        bool y_183131 = slt64((int64_t) 0, j_m_i_183096);
                                        bool index_certs_183132;
                                        
                                        if (!y_183131) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_183096, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:366:63-73\n   #12 ftsort.fut:359:1-366:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183133 = start_182860 + merge_sequential_arg2_183094;
                                        int8_t head_res_183134 = ((int8_t *) mem_param_184838.mem)[slice_183133];
                                        int64_t head_res_183135 = ((int64_t *) mem_param_184841.mem)[slice_183133];
                                        int32_t head_res_183136 = ((int32_t *) mem_param_184844.mem)[slice_183133];
                                        
                                        dummy_183123 = head_res_183134;
                                        dummy_183124 = head_res_183135;
                                        dummy_183125 = head_res_183136;
                                    }
                                    for (int64_t nest_i_185811 = 0; nest_i_185811 < merge_block_sizze_182597; nest_i_185811++) {
                                        ((int8_t *) mem_184882)[i_184009 * merge_block_sizze_182597 + nest_i_185811] = dummy_183123;
                                    }
                                    for (int64_t nest_i_185812 = 0; nest_i_185812 < merge_block_sizze_182597; nest_i_185812++) {
                                        ((int64_t *) mem_184885)[i_184009 * merge_block_sizze_182597 + nest_i_185812] = dummy_183124;
                                    }
                                    for (int64_t nest_i_185813 = 0; nest_i_185813 < merge_block_sizze_182597; nest_i_185813++) {
                                        ((int32_t *) mem_184888)[i_184009 * merge_block_sizze_182597 + nest_i_185813] = dummy_183125;
                                    }
                                    
                                    int64_t data_183140;
                                    int64_t i_183145 = (int64_t) 0;
                                    
                                    for (int64_t k_183144 = 0; k_183144 < merge_block_sizze_182597; k_183144++) {
                                        int64_t j_183149 = sub64(k_183144, i_183145);
                                        bool cond_183150 = j_183149 == j_m_i_183096;
                                        bool cond_183151;
                                        
                                        if (cond_183150) {
                                            cond_183151 = 1;
                                        } else {
                                            bool cond_183152 = slt64(i_183145, j_m_i_183109);
                                            bool cond_f_res_183153;
                                            
                                            if (cond_183152) {
                                                bool x_183154 = sle64((int64_t) 0, j_183149);
                                                bool y_183155 = slt64(j_183149, j_m_i_183096);
                                                bool bounds_check_183156 = x_183154 && y_183155;
                                                bool index_certs_183157;
                                                
                                                if (!bounds_check_183156) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183149, "] out of bounds for array of shape [", (long long) j_m_i_183096, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:366:63-73\n   #11 ftsort.fut:359:1-366:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_183163 = sle64((int64_t) 0, i_183145);
                                                bool bounds_check_183164 = cond_183152 && x_183163;
                                                bool index_certs_183165;
                                                
                                                if (!bounds_check_183164) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183145, "] out of bounds for array of shape [", (long long) j_m_i_183109, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:366:63-73\n   #11 ftsort.fut:359:1-366:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_183158 = merge_sequential_arg2_183094 + j_183149;
                                                int64_t slice_183159 = start_182860 + slice_183158;
                                                int8_t leq_arg1_183160 = ((int8_t *) mem_param_184838.mem)[slice_183159];
                                                int64_t leq_arg1_183161 = ((int64_t *) mem_param_184841.mem)[slice_183159];
                                                int32_t leq_arg1_183162 = ((int32_t *) mem_param_184844.mem)[slice_183159];
                                                int64_t slice_183166 = defunc_0_f_res_183085 + i_183145;
                                                int64_t slice_183167 = start_182860 + slice_183166;
                                                int8_t leq_arg0_183168 = ((int8_t *) mem_param_184838.mem)[slice_183167];
                                                int64_t leq_arg0_183169 = ((int64_t *) mem_param_184841.mem)[slice_183167];
                                                int32_t leq_arg0_183170 = ((int32_t *) mem_param_184844.mem)[slice_183167];
                                                bool cond_183171 = leq_arg0_183168 == leq_arg1_183160;
                                                bool defunc_0_leq_res_t_res_183172 = sle64(leq_arg0_183169, leq_arg1_183161);
                                                bool defunc_0_leq_res_183173 = sle32(leq_arg0_183170, leq_arg1_183162);
                                                bool x_183174 = cond_183171 && defunc_0_leq_res_t_res_183172;
                                                bool x_183175 = !cond_183171;
                                                bool y_183176 = defunc_0_leq_res_183173 && x_183175;
                                                bool defunc_0_leq_res_183177 = x_183174 || y_183176;
                                                
                                                cond_f_res_183153 = defunc_0_leq_res_183177;
                                            } else {
                                                cond_f_res_183153 = 0;
                                            }
                                            cond_183151 = cond_f_res_183153;
                                        }
                                        
                                        int64_t loopres_183178;
                                        int8_t loopres_183179;
                                        int64_t loopres_183180;
                                        int32_t loopres_183181;
                                        
                                        if (cond_183151) {
                                            bool x_183183 = sle64((int64_t) 0, i_183145);
                                            bool y_183184 = slt64(i_183145, j_m_i_183109);
                                            bool bounds_check_183185 = x_183183 && y_183184;
                                            bool index_certs_183186;
                                            
                                            if (!bounds_check_183185) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183145, "] out of bounds for array of shape [", (long long) j_m_i_183109, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:366:63-73\n   #11 ftsort.fut:359:1-366:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_183182 = add64((int64_t) 1, i_183145);
                                            int64_t slice_183187 = defunc_0_f_res_183085 + i_183145;
                                            int64_t slice_183188 = start_182860 + slice_183187;
                                            int8_t tmp_183189 = ((int8_t *) mem_param_184838.mem)[slice_183188];
                                            int64_t tmp_183190 = ((int64_t *) mem_param_184841.mem)[slice_183188];
                                            int32_t tmp_183191 = ((int32_t *) mem_param_184844.mem)[slice_183188];
                                            
                                            loopres_183178 = tmp_183182;
                                            loopres_183179 = tmp_183189;
                                            loopres_183180 = tmp_183190;
                                            loopres_183181 = tmp_183191;
                                        } else {
                                            bool x_183192 = sle64((int64_t) 0, j_183149);
                                            bool y_183193 = slt64(j_183149, j_m_i_183096);
                                            bool bounds_check_183194 = x_183192 && y_183193;
                                            bool index_certs_183195;
                                            
                                            if (!bounds_check_183194) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183149, "] out of bounds for array of shape [", (long long) j_m_i_183096, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:366:63-73\n   #11 ftsort.fut:359:1-366:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_183196 = merge_sequential_arg2_183094 + j_183149;
                                            int64_t slice_183197 = start_182860 + slice_183196;
                                            int8_t tmp_183198 = ((int8_t *) mem_param_184838.mem)[slice_183197];
                                            int64_t tmp_183199 = ((int64_t *) mem_param_184841.mem)[slice_183197];
                                            int32_t tmp_183200 = ((int32_t *) mem_param_184844.mem)[slice_183197];
                                            
                                            loopres_183178 = i_183145;
                                            loopres_183179 = tmp_183198;
                                            loopres_183180 = tmp_183199;
                                            loopres_183181 = tmp_183200;
                                        }
                                        ((int8_t *) mem_184882)[i_184009 * merge_block_sizze_182597 + k_183144] = loopres_183179;
                                        ((int64_t *) mem_184885)[i_184009 * merge_block_sizze_182597 + k_183144] = loopres_183180;
                                        ((int32_t *) mem_184888)[i_184009 * merge_block_sizze_182597 + k_183144] = loopres_183181;
                                        
                                        int64_t i_tmp_185814 = loopres_183178;
                                        
                                        i_183145 = i_tmp_185814;
                                    }
                                    data_183140 = i_183145;
                                }
                                if (memblock_alloc(ctx, &mem_184937, flat_dim_182810, "mem_184937")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_184937.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (uint8_t *) mem_184882, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (int64_t []) {num_blocks_182807, merge_block_sizze_182597});
                                if (memblock_alloc(ctx, &mem_184941, bytes_184884, "mem_184941")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_184941.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (uint64_t *) mem_184885, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (int64_t []) {num_blocks_182807, merge_block_sizze_182597});
                                if (memblock_alloc(ctx, &mem_184945, bytes_184887, "mem_184945")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_184945.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (uint32_t *) mem_184888, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (int64_t []) {num_blocks_182807, merge_block_sizze_182597});
                                if (memblock_set(ctx, &ext_mem_184978, &mem_184937, "mem_184937") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184975, &mem_184941, "mem_184941") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184972, &mem_184945, "mem_184945") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_184846, i_184019 * next_stride_182788, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_184978.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_182788});
                            if (memblock_unref(ctx, &ext_mem_184978, "ext_mem_184978") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184849, i_184019 * next_stride_182788, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184975.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_182788});
                            if (memblock_unref(ctx, &ext_mem_184975, "ext_mem_184975") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_184852, i_184019 * next_stride_182788, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_184972.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_182788});
                            if (memblock_unref(ctx, &ext_mem_184972, "ext_mem_184972") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_184992, bytes_184845, "mem_184992")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_184992.mem, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (uint8_t *) mem_184846, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (int64_t []) {num_merges_182792, next_stride_182788});
                        if (memblock_alloc(ctx, &mem_184996, bytes_184848, "mem_184996")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_184996.mem, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (uint64_t *) mem_184849, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (int64_t []) {num_merges_182792, next_stride_182788});
                        if (memblock_alloc(ctx, &mem_185000, bytes_184851, "mem_185000")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_185000.mem, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (uint32_t *) mem_184852, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (int64_t []) {num_merges_182792, next_stride_182788});
                        
                        bool loop_cond_183220 = slt64(next_stride_182788, flat_dim_182592);
                        
                        if (memblock_set(ctx, &mem_param_tmp_185781, &mem_184992, "mem_184992") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_185782, &mem_184996, "mem_184996") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_185783, &mem_185000, "mem_185000") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_185784 = bytes_184845;
                        bool loop_while_tmp_185785 = loop_cond_183220;
                        int64_t stride_tmp_185789 = next_stride_182788;
                        
                        if (memblock_set(ctx, &mem_param_184838, &mem_param_tmp_185781, "mem_param_tmp_185781") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_184841, &mem_param_tmp_185782, "mem_param_tmp_185782") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_184844, &mem_param_tmp_185783, "mem_param_tmp_185783") != 0)
                            return 1;
                        loop_dz2084Uz2082U_182782 = loop_dz2084Uz2082U_tmp_185784;
                        loop_while_182783 = loop_while_tmp_185785;
                        stride_182787 = stride_tmp_185789;
                    }
                    if (memblock_set(ctx, &ext_mem_185010, &mem_param_184838, "mem_param_184838") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185009, &mem_param_184841, "mem_param_184841") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185008, &mem_param_184844, "mem_param_184844") != 0)
                        return 1;
                    data_182776 = loop_dz2084Uz2082U_182782;
                    data_182777 = loop_while_182783;
                    data_182781 = stride_182787;
                    if (memblock_unref(ctx, &mem_184826, "mem_184826") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_184830, "mem_184830") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_184834, "mem_184834") != 0)
                        return 1;
                    
                    bool empty_slice_183221 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_183222 = sle64((int64_t) 0, zs_lhs_182576);
                    bool i_p_m_t_s_leq_w_183223 = slt64(zs_lhs_182576, data_182776);
                    bool y_183224 = zzero_leq_i_p_m_t_s_183222 && i_p_m_t_s_leq_w_183223;
                    bool ok_or_empty_183225 = empty_slice_183221 || y_183224;
                    bool index_certs_183226;
                    
                    if (!ok_or_empty_183225) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "] out of bounds for array of shape [", (long long) data_182776, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:366:63-73\n   #6  ftsort.fut:359:1-366:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_185019, &ext_mem_185010, "ext_mem_185010") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185016, &ext_mem_185009, "ext_mem_185009") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185013, &ext_mem_185008, "ext_mem_185008") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_184720, "mem_184720") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_184722, "mem_184722") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_184724, "mem_184724") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_184686, i_184035 * perThread_178862, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_185019.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530});
                if (memblock_unref(ctx, &ext_mem_185019, "ext_mem_185019") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184689, i_184035 * perThread_178862, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185016.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530});
                if (memblock_unref(ctx, &ext_mem_185016, "ext_mem_185016") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_184692, i_184035 * perThread_178862, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_185013.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530});
                if (memblock_unref(ctx, &ext_mem_185013, "ext_mem_185013") != 0)
                    return 1;
                for (int64_t i_184025 = 0; i_184025 < perThread_178862; i_184025++) {
                    int64_t lifted_lambda_res_183248 = add64(zm_rhs_182532, i_184025);
                    
                    ((int64_t *) mem_184684)[i_184035 * perThread_178862 + i_184025] = lifted_lambda_res_183248;
                }
                
                bool cond_183250 = card_182533 == zp_rhs_178861;
                
                if (cond_183250) {
                    bool y_183252 = slt64(card_182533, perThread_178862);
                    bool index_certs_183253;
                    
                    if (!y_183252) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_182533, "] out of bounds for array of shape [", (long long) perThread_178862, "].", "-> #0  ftsort.fut:271:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:366:63-73\n   #3  ftsort.fut:359:1-366:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_184684)[i_184035 * perThread_178862 + card_182533] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_185045, bytes_184340, "mem_185045")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185819 = 0; nest_i_185819 < window_sizze_132667; nest_i_185819++) {
                ((int32_t *) mem_185045.mem)[nest_i_185819] = 0;
            }
            if (memblock_alloc(ctx, &mem_185047, bytes_184338, "mem_185047")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185820 = 0; nest_i_185820 < window_sizze_132667; nest_i_185820++) {
                ((int64_t *) mem_185047.mem)[nest_i_185820] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_185048, window_sizze_132667, "mem_185048")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185821 = 0; nest_i_185821 < window_sizze_132667; nest_i_185821++) {
                ((int8_t *) mem_185048.mem)[nest_i_185821] = (int8_t) -1;
            }
            for (int64_t write_iter_184040 = 0; write_iter_184040 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_178863; write_iter_184040++) {
                int64_t new_index_184192 = squot64(write_iter_184040, perThread_178862);
                int64_t binop_y_184194 = perThread_178862 * new_index_184192;
                int64_t new_index_184195 = write_iter_184040 - binop_y_184194;
                int64_t write_iv_184044 = ((int64_t *) mem_184684)[new_index_184192 * perThread_178862 + new_index_184195];
                int8_t write_iv_184045 = ((int8_t *) mem_184686)[new_index_184192 * perThread_178862 + new_index_184195];
                int64_t write_iv_184046 = ((int64_t *) mem_184689)[new_index_184192 * perThread_178862 + new_index_184195];
                int32_t write_iv_184047 = ((int32_t *) mem_184692)[new_index_184192 * perThread_178862 + new_index_184195];
                
                if (sle64((int64_t) 0, write_iv_184044) && slt64(write_iv_184044, window_sizze_132667)) {
                    ((int8_t *) mem_185048.mem)[write_iv_184044] = write_iv_184045;
                }
                if (sle64((int64_t) 0, write_iv_184044) && slt64(write_iv_184044, window_sizze_132667)) {
                    ((int64_t *) mem_185047.mem)[write_iv_184044] = write_iv_184046;
                }
                if (sle64((int64_t) 0, write_iv_184044) && slt64(write_iv_184044, window_sizze_132667)) {
                    ((int32_t *) mem_185045.mem)[write_iv_184044] = write_iv_184047;
                }
            }
            
            int64_t index_concat_branch_183276;
            
            if (index_concat_cmp_181616) {
                int64_t index_concat_183277 = ((int64_t *) mem_184667)[index_concat_i_181617];
                
                index_concat_branch_183276 = index_concat_183277;
            } else {
                index_concat_branch_183276 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_183278;
            
            if (index_concat_cmp_181616) {
                int64_t index_concat_183279 = ((int64_t *) mem_184669)[index_concat_i_181617];
                
                index_concat_branch_183278 = index_concat_183279;
            } else {
                index_concat_branch_183278 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_185075, &mem_185048, "mem_185048") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_185072, &mem_185047, "mem_185047") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_185069, &mem_185045, "mem_185045") != 0)
                return 1;
            loopres_178852 = index_concat_branch_183276;
            loopres_178853 = index_concat_branch_183278;
        } else {
            int32_t leq_lhs_179843 = ((int32_t *) a_list_mem_184305.mem)[p_178824];
            int32_t leq_rhs_179846 = ((int32_t *) b_list_mem_184306.mem)[p_178825];
            bool defunc_0_leq_res_179847 = sle32(leq_lhs_179843, leq_rhs_179846);
            int32_t lowest_179848;
            
            if (defunc_0_leq_res_179847) {
                bool index_certs_183280;
                
                if (!y_179841) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:143:44-49\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_179848 = leq_lhs_179843;
            } else {
                bool index_certs_179853;
                
                if (!y_179841) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:143:55-60\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_179848 = leq_rhs_179846;
            }
            if (mem_184322_cached_sizze_186155 < bytes_184321) {
                err = lexical_realloc(ctx, &mem_184322, &mem_184322_cached_sizze_186155, bytes_184321);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184324_cached_sizze_186156 < bytes_184321) {
                err = lexical_realloc(ctx, &mem_184324, &mem_184324_cached_sizze_186156, bytes_184321);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_184055 = 0; i_184055 < threads_132668; i_184055++) {
                int64_t index_primexp_184271 = add64((int64_t) 1, i_184055);
                int64_t zs_lhs_179867 = mul64(zt_rhs_179860, index_primexp_184271);
                int64_t index_179868 = sdiv64(zs_lhs_179867, partitionFunc_arg0_179839);
                bool cond_179869 = slt64(window_sizze_132667, index_179868);
                int64_t loop_over_179870;
                
                if (cond_179869) {
                    loop_over_179870 = window_sizze_132667;
                } else {
                    loop_over_179870 = index_179868;
                }
                
                int64_t loop_over_179871;
                
                if (cond_179869) {
                    int64_t loop_over_t_res_183281 = sub64(index_179868, window_sizze_132667);
                    
                    loop_over_179871 = loop_over_t_res_183281;
                } else {
                    loop_over_179871 = (int64_t) 0;
                }
                
                int64_t loop_over_179873;
                
                if (cond_179869) {
                    int64_t zm_lhs_183282 = sub64(index_179868, window_sizze_132667);
                    int64_t loop_over_t_res_183283 = sub64(zm_lhs_183282, (int64_t) 1);
                    
                    loop_over_179873 = loop_over_t_res_183283;
                } else {
                    loop_over_179873 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_179876;
                int64_t defunc_0_f_res_179877;
                int64_t defunc_0_f_res_179878;
                int64_t defunc_0_f_res_179879;
                bool loop_while_179880;
                int64_t p_179881;
                int64_t p_179882;
                int64_t p_179883;
                
                loop_while_179880 = 1;
                p_179881 = loop_over_179873;
                p_179882 = loop_over_179870;
                p_179883 = loop_over_179871;
                while (loop_while_179880) {
                    int64_t zs_lhs_179884 = sub64(p_179882, p_179881);
                    int64_t offset_179885 = sdiv64(zs_lhs_179884, (int64_t) 2);
                    int64_t ai_179886 = sub64(p_179882, offset_179885);
                    int64_t max_arg1_179887 = add64(p_179883, offset_179885);
                    int64_t max_res_179888 = smax64((int64_t) 0, max_arg1_179887);
                    bool cond_179889 = slt64((int64_t) 0, max_res_179888);
                    int32_t b_prev_179890;
                    
                    if (cond_179889) {
                        int64_t tmp_183284 = sub64(max_res_179888, (int64_t) 1);
                        bool x_183285 = sle64((int64_t) 0, tmp_183284);
                        bool y_183286 = slt64(tmp_183284, window_sizze_132667);
                        bool bounds_check_183287 = x_183285 && y_183286;
                        bool index_certs_183288;
                        
                        if (!bounds_check_183287) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_183284, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:160:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_183289 = p_178825 + tmp_183284;
                        int32_t b_prev_t_res_183290 = ((int32_t *) b_list_mem_184306.mem)[slice_183289];
                        
                        b_prev_179890 = b_prev_t_res_183290;
                    } else {
                        b_prev_179890 = lowest_179848;
                    }
                    
                    bool cond_179897 = sle64(ai_179886, (int64_t) 0);
                    int64_t loopres_179898;
                    int64_t loopres_179899;
                    int64_t loopres_179900;
                    bool loopres_179901;
                    
                    if (cond_179897) {
                        loopres_179898 = p_179881;
                        loopres_179899 = (int64_t) 0;
                        loopres_179900 = max_res_179888;
                        loopres_179901 = 0;
                    } else {
                        bool cond_179902 = sle64(window_sizze_132667, max_res_179888);
                        int64_t loopres_f_res_179903;
                        int64_t loopres_f_res_179904;
                        int64_t loopres_f_res_179905;
                        bool loopres_f_res_179906;
                        
                        if (cond_179902) {
                            int64_t min_res_183292 = smin64(m_178813, ai_179886);
                            bool x_183293 = sle64((int64_t) 0, m_178813);
                            bool y_183294 = slt64(m_178813, window_sizze_132667);
                            bool bounds_check_183295 = x_183293 && y_183294;
                            bool index_certs_183296;
                            
                            if (!bounds_check_183295) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_178813, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:171:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_183299 = sle64((int64_t) 0, min_res_183292);
                            bool y_183300 = slt64(min_res_183292, window_sizze_132667);
                            bool bounds_check_183301 = x_183299 && y_183300;
                            bool index_certs_183302;
                            
                            if (!bounds_check_183301) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_183292, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:171:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int32_t leq_lhs_183298 = ((int32_t *) b_list_mem_184306.mem)[i_p_m_t_s_178841];
                            int64_t slice_183303 = p_178824 + min_res_183292;
                            int32_t leq_rhs_183304 = ((int32_t *) a_list_mem_184305.mem)[slice_183303];
                            bool defunc_0_leq_res_183305 = sle32(leq_lhs_183298, leq_rhs_183304);
                            int64_t loopres_f_res_t_res_183306;
                            
                            if (defunc_0_leq_res_183305) {
                                loopres_f_res_t_res_183306 = ai_179886;
                            } else {
                                loopres_f_res_t_res_183306 = p_179882;
                            }
                            
                            bool x_183307 = !defunc_0_leq_res_183305;
                            int64_t loopres_f_res_t_res_183308;
                            
                            if (defunc_0_leq_res_183305) {
                                loopres_f_res_t_res_183308 = window_sizze_132667;
                            } else {
                                int64_t tmp_183309 = sub64(m_178813, offset_179885);
                                
                                loopres_f_res_t_res_183308 = tmp_183309;
                            }
                            loopres_f_res_179903 = p_179881;
                            loopres_f_res_179904 = loopres_f_res_t_res_183306;
                            loopres_f_res_179905 = loopres_f_res_t_res_183308;
                            loopres_f_res_179906 = x_183307;
                        } else {
                            bool cond_179924 = sle64(window_sizze_132667, ai_179886);
                            int64_t loopres_f_res_f_res_179925;
                            int64_t loopres_f_res_f_res_179926;
                            int64_t loopres_f_res_f_res_179927;
                            bool loopres_f_res_f_res_179928;
                            
                            if (cond_179924) {
                                int64_t min_res_183311 = smin64(m_178813, max_res_179888);
                                bool x_183312 = sle64((int64_t) 0, m_178813);
                                bool y_183313 = slt64(m_178813, window_sizze_132667);
                                bool bounds_check_183314 = x_183312 && y_183313;
                                bool index_certs_183315;
                                
                                if (!bounds_check_183314) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_178813, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:178:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_183318 = sle64((int64_t) 0, min_res_183311);
                                bool y_183319 = slt64(min_res_183311, window_sizze_132667);
                                bool bounds_check_183320 = x_183318 && y_183319;
                                bool index_certs_183321;
                                
                                if (!bounds_check_183320) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_183311, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:178:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int32_t leq_lhs_183317 = ((int32_t *) a_list_mem_184305.mem)[i_p_m_t_s_178830];
                                int64_t slice_183322 = p_178825 + min_res_183311;
                                int32_t leq_rhs_183323 = ((int32_t *) b_list_mem_184306.mem)[slice_183322];
                                bool defunc_0_leq_res_183324 = sle32(leq_lhs_183317, leq_rhs_183323);
                                int64_t loopres_f_res_f_res_t_res_183325;
                                
                                if (defunc_0_leq_res_183324) {
                                    loopres_f_res_f_res_t_res_183325 = max_res_179888;
                                } else {
                                    loopres_f_res_f_res_t_res_183325 = p_179883;
                                }
                                
                                bool x_183326 = !defunc_0_leq_res_183324;
                                int64_t loopres_f_res_f_res_t_res_183327;
                                
                                if (defunc_0_leq_res_183324) {
                                    loopres_f_res_f_res_t_res_183327 = window_sizze_132667;
                                } else {
                                    loopres_f_res_f_res_t_res_183327 = m_178813;
                                }
                                loopres_f_res_f_res_179925 = p_179881;
                                loopres_f_res_f_res_179926 = loopres_f_res_f_res_t_res_183327;
                                loopres_f_res_f_res_179927 = loopres_f_res_f_res_t_res_183325;
                                loopres_f_res_f_res_179928 = x_183326;
                            } else {
                                bool cond_179945 = sle64(p_179882, p_179881);
                                int64_t loopres_f_res_f_res_f_res_179946;
                                int64_t loopres_f_res_f_res_f_res_179947;
                                int64_t loopres_f_res_f_res_f_res_179948;
                                bool loopres_f_res_f_res_f_res_179949;
                                
                                if (cond_179945) {
                                    bool cond_183366 = slt64(ai_179886, window_sizze_132667);
                                    int64_t ai_183367;
                                    
                                    if (cond_183366) {
                                        ai_183367 = ai_179886;
                                    } else {
                                        ai_183367 = m_178813;
                                    }
                                    
                                    bool x_183380 = sle64((int64_t) 0, ai_183367);
                                    bool y_183381 = slt64(ai_183367, window_sizze_132667);
                                    bool bounds_check_183382 = x_183380 && y_183381;
                                    bool index_certs_183383;
                                    
                                    if (!bounds_check_183382) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_183367, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:114:8-14\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int32_t b_prev_183369;
                                    
                                    if (cond_179889) {
                                        int64_t tmp_183370 = sub64(max_res_179888, (int64_t) 1);
                                        bool x_183371 = sle64((int64_t) 0, tmp_183370);
                                        bool y_183372 = slt64(tmp_183370, window_sizze_132667);
                                        bool bounds_check_183373 = x_183371 && y_183372;
                                        bool index_certs_183374;
                                        
                                        if (!bounds_check_183373) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_183370, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:112:31-39\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183375 = p_178825 + tmp_183370;
                                        int32_t b_prev_t_res_183376 = ((int32_t *) b_list_mem_184306.mem)[slice_183375];
                                        
                                        b_prev_183369 = b_prev_t_res_183376;
                                    } else {
                                        bool index_certs_183378;
                                        
                                        if (!y_179841) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:112:45-50\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_183369 = leq_rhs_179846;
                                    }
                                    
                                    int64_t slice_183384 = p_178824 + ai_183367;
                                    int32_t gt_lhs_183385 = ((int32_t *) a_list_mem_184305.mem)[slice_183384];
                                    bool defunc_0_gt_res_183386 = slt32(b_prev_183369, gt_lhs_183385);
                                    int64_t defunc_0_partFunc_sequential_search_res_183387;
                                    int64_t defunc_0_partFunc_sequential_search_res_183388;
                                    
                                    if (defunc_0_gt_res_183386) {
                                        int64_t zl_rhs_183389 = sub64(window_sizze_132667, max_res_179888);
                                        bool loop_cond_183390 = slt64((int64_t) 0, zl_rhs_183389);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_183391;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_183392;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_183393;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_183394;
                                        bool loop_while_183395;
                                        int64_t p_183396;
                                        int64_t p_183397;
                                        int64_t p_183398;
                                        
                                        loop_while_183395 = loop_cond_183390;
                                        p_183396 = ai_183367;
                                        p_183397 = max_res_179888;
                                        p_183398 = (int64_t) 0;
                                        while (loop_while_183395) {
                                            int64_t i_a_183399 = sub64(ai_183367, p_183398);
                                            int64_t i_b_183400 = add64(max_res_179888, p_183398);
                                            int64_t leq_lhs_183401 = sub64(i_a_183399, (int64_t) 1);
                                            bool x_183402 = sle64((int64_t) 0, leq_lhs_183401);
                                            bool y_183403 = slt64(leq_lhs_183401, window_sizze_132667);
                                            bool bounds_check_183404 = x_183402 && y_183403;
                                            bool index_certs_183405;
                                            
                                            if (!bounds_check_183404) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_183401, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:120:15-24\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_183408 = sle64((int64_t) 0, i_b_183400);
                                            bool y_183409 = slt64(i_b_183400, window_sizze_132667);
                                            bool bounds_check_183410 = x_183408 && y_183409;
                                            bool index_certs_183411;
                                            
                                            if (!bounds_check_183410) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_183400, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:120:31-38\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_183406 = p_178824 + leq_lhs_183401;
                                            int32_t leq_lhs_183407 = ((int32_t *) a_list_mem_184305.mem)[slice_183406];
                                            int64_t slice_183412 = p_178825 + i_b_183400;
                                            int32_t leq_rhs_183413 = ((int32_t *) b_list_mem_184306.mem)[slice_183412];
                                            bool defunc_0_leq_res_183414 = sle32(leq_lhs_183407, leq_rhs_183413);
                                            int64_t loopres_183415;
                                            
                                            if (defunc_0_leq_res_183414) {
                                                loopres_183415 = i_a_183399;
                                            } else {
                                                loopres_183415 = ai_183367;
                                            }
                                            
                                            int64_t loopres_183416;
                                            
                                            if (defunc_0_leq_res_183414) {
                                                loopres_183416 = i_b_183400;
                                            } else {
                                                loopres_183416 = max_res_179888;
                                            }
                                            
                                            int64_t loopres_183417;
                                            
                                            if (defunc_0_leq_res_183414) {
                                                loopres_183417 = zl_rhs_183389;
                                            } else {
                                                int64_t tmp_183418 = add64((int64_t) 1, p_183398);
                                                
                                                loopres_183417 = tmp_183418;
                                            }
                                            
                                            bool loop_cond_183419 = slt64(loopres_183417, zl_rhs_183389);
                                            bool loop_while_tmp_185831 = loop_cond_183419;
                                            int64_t p_tmp_185832 = loopres_183415;
                                            int64_t p_tmp_185833 = loopres_183416;
                                            int64_t p_tmp_185834 = loopres_183417;
                                            
                                            loop_while_183395 = loop_while_tmp_185831;
                                            p_183396 = p_tmp_185832;
                                            p_183397 = p_tmp_185833;
                                            p_183398 = p_tmp_185834;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_183391 = loop_while_183395;
                                        defunc_0_partFunc_sequential_search_res_t_res_183392 = p_183396;
                                        defunc_0_partFunc_sequential_search_res_t_res_183393 = p_183397;
                                        defunc_0_partFunc_sequential_search_res_t_res_183394 = p_183398;
                                        defunc_0_partFunc_sequential_search_res_183387 = defunc_0_partFunc_sequential_search_res_t_res_183392;
                                        defunc_0_partFunc_sequential_search_res_183388 = defunc_0_partFunc_sequential_search_res_t_res_183393;
                                    } else {
                                        int64_t zl_rhs_183420 = sub64(max_res_179888, (int64_t) 1);
                                        bool loop_cond_183421 = slt64((int64_t) 0, zl_rhs_183420);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_183422;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_183423;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_183424;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_183425;
                                        bool loop_while_183426;
                                        int64_t p_183427;
                                        int64_t p_183428;
                                        int64_t p_183429;
                                        
                                        loop_while_183426 = loop_cond_183421;
                                        p_183427 = ai_183367;
                                        p_183428 = max_res_179888;
                                        p_183429 = (int64_t) 0;
                                        while (loop_while_183426) {
                                            int64_t zp_lhs_183430 = add64(ai_183367, p_183429);
                                            int64_t hi_a_183431 = add64((int64_t) 1, zp_lhs_183430);
                                            bool cond_183432 = slt64(hi_a_183431, window_sizze_132667);
                                            int64_t i_a_183433;
                                            
                                            if (cond_183432) {
                                                i_a_183433 = hi_a_183431;
                                            } else {
                                                i_a_183433 = m_178813;
                                            }
                                            
                                            int64_t zm_lhs_183435 = sub64(max_res_179888, p_183429);
                                            int64_t i_b_183436 = sub64(zm_lhs_183435, (int64_t) 1);
                                            bool x_183437 = sle64((int64_t) 0, i_a_183433);
                                            bool y_183438 = slt64(i_a_183433, window_sizze_132667);
                                            bool bounds_check_183439 = x_183437 && y_183438;
                                            bool index_certs_183440;
                                            
                                            if (!bounds_check_183439) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_183433, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:130:15-22\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_183443 = sle64((int64_t) 0, i_b_183436);
                                            bool y_183444 = slt64(i_b_183436, window_sizze_132667);
                                            bool bounds_check_183445 = x_183443 && y_183444;
                                            bool index_certs_183446;
                                            
                                            if (!bounds_check_183445) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_183436, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:130:28-35\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_183441 = p_178824 + i_a_183433;
                                            int32_t gt_lhs_183442 = ((int32_t *) a_list_mem_184305.mem)[slice_183441];
                                            int64_t slice_183447 = p_178825 + i_b_183436;
                                            int32_t gt_rhs_183448 = ((int32_t *) b_list_mem_184306.mem)[slice_183447];
                                            bool defunc_0_gt_res_183449 = slt32(gt_rhs_183448, gt_lhs_183442);
                                            int64_t loopres_183450;
                                            
                                            if (defunc_0_gt_res_183449) {
                                                loopres_183450 = i_a_183433;
                                            } else {
                                                loopres_183450 = ai_183367;
                                            }
                                            
                                            int64_t loopres_183451;
                                            
                                            if (defunc_0_gt_res_183449) {
                                                loopres_183451 = zm_lhs_183435;
                                            } else {
                                                loopres_183451 = max_res_179888;
                                            }
                                            
                                            int64_t loopres_183452;
                                            
                                            if (defunc_0_gt_res_183449) {
                                                loopres_183452 = zl_rhs_183420;
                                            } else {
                                                int64_t tmp_183453 = add64((int64_t) 1, p_183429);
                                                
                                                loopres_183452 = tmp_183453;
                                            }
                                            
                                            bool loop_cond_183454 = slt64(loopres_183452, zl_rhs_183420);
                                            bool loop_while_tmp_185835 = loop_cond_183454;
                                            int64_t p_tmp_185836 = loopres_183450;
                                            int64_t p_tmp_185837 = loopres_183451;
                                            int64_t p_tmp_185838 = loopres_183452;
                                            
                                            loop_while_183426 = loop_while_tmp_185835;
                                            p_183427 = p_tmp_185836;
                                            p_183428 = p_tmp_185837;
                                            p_183429 = p_tmp_185838;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_183422 = loop_while_183426;
                                        defunc_0_partFunc_sequential_search_res_f_res_183423 = p_183427;
                                        defunc_0_partFunc_sequential_search_res_f_res_183424 = p_183428;
                                        defunc_0_partFunc_sequential_search_res_f_res_183425 = p_183429;
                                        defunc_0_partFunc_sequential_search_res_183387 = defunc_0_partFunc_sequential_search_res_f_res_183423;
                                        defunc_0_partFunc_sequential_search_res_183388 = defunc_0_partFunc_sequential_search_res_f_res_183424;
                                    }
                                    loopres_f_res_f_res_f_res_179946 = p_179881;
                                    loopres_f_res_f_res_f_res_179947 = defunc_0_partFunc_sequential_search_res_183387;
                                    loopres_f_res_f_res_f_res_179948 = defunc_0_partFunc_sequential_search_res_183388;
                                    loopres_f_res_f_res_f_res_179949 = 0;
                                } else {
                                    bool x_180033 = sle64((int64_t) 0, ai_179886);
                                    bool y_180034 = slt64(ai_179886, window_sizze_132667);
                                    bool bounds_check_180035 = x_180033 && y_180034;
                                    bool index_certs_180036;
                                    
                                    if (!bounds_check_180035) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179886, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:186:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_181695 = p_178824 + ai_179886;
                                    int32_t gt_lhs_180037 = ((int32_t *) a_list_mem_184305.mem)[slice_181695];
                                    bool defunc_0_gt_res_180038 = slt32(b_prev_179890, gt_lhs_180037);
                                    int64_t loopres_f_res_f_res_f_res_f_res_180039;
                                    int64_t loopres_f_res_f_res_f_res_f_res_180040;
                                    int64_t loopres_f_res_f_res_f_res_f_res_180041;
                                    bool loopres_f_res_f_res_f_res_f_res_180042;
                                    
                                    if (defunc_0_gt_res_180038) {
                                        int64_t leq_lhs_183455 = sub64(ai_179886, (int64_t) 1);
                                        bool x_183456 = sle64((int64_t) 0, leq_lhs_183455);
                                        bool y_183457 = slt64(leq_lhs_183455, window_sizze_132667);
                                        bool bounds_check_183458 = x_183456 && y_183457;
                                        bool index_certs_183459;
                                        
                                        if (!bounds_check_183458) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_183455, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:187:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_183462 = sle64((int64_t) 0, max_res_179888);
                                        bool y_183463 = slt64(max_res_179888, window_sizze_132667);
                                        bool bounds_check_183464 = x_183462 && y_183463;
                                        bool index_certs_183465;
                                        
                                        if (!bounds_check_183464) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_179888, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:187:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183460 = p_178824 + leq_lhs_183455;
                                        int32_t leq_lhs_183461 = ((int32_t *) a_list_mem_184305.mem)[slice_183460];
                                        int64_t slice_183466 = p_178825 + max_res_179888;
                                        int32_t leq_rhs_183467 = ((int32_t *) b_list_mem_184306.mem)[slice_183466];
                                        bool defunc_0_leq_res_183468 = sle32(leq_lhs_183461, leq_rhs_183467);
                                        bool x_183469 = !defunc_0_leq_res_183468;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_183470;
                                        
                                        if (defunc_0_leq_res_183468) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_183470 = ai_179886;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_183470 = leq_lhs_183455;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_183471;
                                        
                                        if (defunc_0_leq_res_183468) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_183471 = max_res_179888;
                                        } else {
                                            int64_t tmp_183472 = add64((int64_t) 1, max_res_179888);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_183471 = tmp_183472;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_180039 = p_179881;
                                        loopres_f_res_f_res_f_res_f_res_180040 = loopres_f_res_f_res_f_res_f_res_t_res_183470;
                                        loopres_f_res_f_res_f_res_f_res_180041 = loopres_f_res_f_res_f_res_f_res_t_res_183471;
                                        loopres_f_res_f_res_f_res_f_res_180042 = x_183469;
                                    } else {
                                        int64_t tmp_180059 = add64((int64_t) 1, ai_179886);
                                        
                                        loopres_f_res_f_res_f_res_f_res_180039 = tmp_180059;
                                        loopres_f_res_f_res_f_res_f_res_180040 = p_179882;
                                        loopres_f_res_f_res_f_res_f_res_180041 = p_179883;
                                        loopres_f_res_f_res_f_res_f_res_180042 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_179946 = loopres_f_res_f_res_f_res_f_res_180039;
                                    loopres_f_res_f_res_f_res_179947 = loopres_f_res_f_res_f_res_f_res_180040;
                                    loopres_f_res_f_res_f_res_179948 = loopres_f_res_f_res_f_res_f_res_180041;
                                    loopres_f_res_f_res_f_res_179949 = loopres_f_res_f_res_f_res_f_res_180042;
                                }
                                loopres_f_res_f_res_179925 = loopres_f_res_f_res_f_res_179946;
                                loopres_f_res_f_res_179926 = loopres_f_res_f_res_f_res_179947;
                                loopres_f_res_f_res_179927 = loopres_f_res_f_res_f_res_179948;
                                loopres_f_res_f_res_179928 = loopres_f_res_f_res_f_res_179949;
                            }
                            loopres_f_res_179903 = loopres_f_res_f_res_179925;
                            loopres_f_res_179904 = loopres_f_res_f_res_179926;
                            loopres_f_res_179905 = loopres_f_res_f_res_179927;
                            loopres_f_res_179906 = loopres_f_res_f_res_179928;
                        }
                        loopres_179898 = loopres_f_res_179903;
                        loopres_179899 = loopres_f_res_179904;
                        loopres_179900 = loopres_f_res_179905;
                        loopres_179901 = loopres_f_res_179906;
                    }
                    
                    bool loop_while_tmp_185827 = loopres_179901;
                    int64_t p_tmp_185828 = loopres_179898;
                    int64_t p_tmp_185829 = loopres_179899;
                    int64_t p_tmp_185830 = loopres_179900;
                    
                    loop_while_179880 = loop_while_tmp_185827;
                    p_179881 = p_tmp_185828;
                    p_179882 = p_tmp_185829;
                    p_179883 = p_tmp_185830;
                }
                defunc_0_f_res_179876 = loop_while_179880;
                defunc_0_f_res_179877 = p_179881;
                defunc_0_f_res_179878 = p_179882;
                defunc_0_f_res_179879 = p_179883;
                ((int64_t *) mem_184322)[i_184055] = defunc_0_f_res_179878;
                ((int64_t *) mem_184324)[i_184055] = defunc_0_f_res_179879;
            }
            if (memblock_alloc(ctx, &mem_184337, window_sizze_132667, "mem_184337")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185839 = 0; nest_i_185839 < window_sizze_132667; nest_i_185839++) {
                ((int8_t *) mem_184337.mem)[nest_i_185839] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_184339, bytes_184338, "mem_184339")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185840 = 0; nest_i_185840 < window_sizze_132667; nest_i_185840++) {
                ((int64_t *) mem_184339.mem)[nest_i_185840] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_184341, bytes_184340, "mem_184341")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185841 = 0; nest_i_185841 < window_sizze_132667; nest_i_185841++) {
                ((int32_t *) mem_184341.mem)[nest_i_185841] = 0;
            }
            
            bool defunc_0_mergeFunc_seq_res_180079;
            int64_t defunc_0_mergeFunc_seq_res_180080;
            bool loop_while_180084;
            int64_t p_180085;
            
            loop_while_180084 = loop_cond_180078;
            p_180085 = (int64_t) 0;
            while (loop_while_180084) {
                bool x_180089 = sle64((int64_t) 0, p_180085);
                bool y_180090 = slt64(p_180085, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
                bool bounds_check_180091 = x_180089 && y_180090;
                bool index_certs_180092;
                
                if (!bounds_check_180091) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_180085, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:225:19-39\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_181678 = sle64((int64_t) 1, p_180085);
                int64_t index_concat_i_181679 = sub64(p_180085, (int64_t) 1);
                int64_t index_concat_181680;
                
                if (index_concat_cmp_181678) {
                    int64_t x_183473 = ((int64_t *) mem_184322)[index_concat_i_181679];
                    
                    index_concat_181680 = x_183473;
                } else {
                    index_concat_181680 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_181682;
                
                if (index_concat_cmp_181678) {
                    index_concat_branch_181682 = index_concat_181680;
                } else {
                    index_concat_branch_181682 = (int64_t) 0;
                }
                
                int64_t index_concat_181674;
                
                if (index_concat_cmp_181678) {
                    int64_t x_183474 = ((int64_t *) mem_184324)[index_concat_i_181679];
                    
                    index_concat_181674 = x_183474;
                } else {
                    index_concat_181674 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_181676;
                
                if (index_concat_cmp_181678) {
                    index_concat_branch_181676 = index_concat_181674;
                } else {
                    index_concat_branch_181676 = (int64_t) 0;
                }
                
                int64_t ubs_180095 = add64((int64_t) 1, p_180085);
                bool x_180096 = sle64((int64_t) 0, ubs_180095);
                bool y_180097 = slt64(ubs_180095, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
                bool bounds_check_180098 = x_180096 && y_180097;
                bool index_certs_180099;
                
                if (!bounds_check_180098) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_180095, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:226:19-41\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_181666 = sle64((int64_t) 1, ubs_180095);
                int64_t index_concat_181668;
                
                if (index_concat_cmp_181666) {
                    int64_t x_183475 = ((int64_t *) mem_184322)[p_180085];
                    
                    index_concat_181668 = x_183475;
                } else {
                    index_concat_181668 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_181670;
                
                if (index_concat_cmp_181666) {
                    index_concat_branch_181670 = index_concat_181668;
                } else {
                    index_concat_branch_181670 = (int64_t) 0;
                }
                
                int64_t index_concat_181662;
                
                if (index_concat_cmp_181666) {
                    int64_t x_183476 = ((int64_t *) mem_184324)[p_180085];
                    
                    index_concat_181662 = x_183476;
                } else {
                    index_concat_181662 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_181664;
                
                if (index_concat_cmp_181666) {
                    index_concat_branch_181664 = index_concat_181662;
                } else {
                    index_concat_branch_181664 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102 = sub64(index_concat_branch_181664, index_concat_branch_181676);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103 = sub64(index_concat_branch_181670, index_concat_branch_181682);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                int64_t ind_bottom_180105 = add64(index_concat_branch_181676, index_concat_branch_181682);
                int64_t ind_top_180106 = add64(index_concat_branch_181664, index_concat_branch_181670);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107 = sub64(ind_top_180106, ind_bottom_180105);
                bool empty_slice_180108 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103 == (int64_t) 0;
                int64_t m_180109 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, (int64_t) 1);
                int64_t i_p_m_t_s_180110 = add64(m_180109, index_concat_branch_181682);
                bool zzero_leq_i_p_m_t_s_180111 = sle64((int64_t) 0, i_p_m_t_s_180110);
                bool i_p_m_t_s_leq_w_180112 = slt64(i_p_m_t_s_180110, window_sizze_132667);
                bool zzero_lte_i_180113 = sle64((int64_t) 0, index_concat_branch_181682);
                bool i_lte_j_180114 = sle64(index_concat_branch_181682, index_concat_branch_181670);
                bool y_180115 = i_p_m_t_s_leq_w_180112 && zzero_lte_i_180113;
                bool y_180116 = zzero_leq_i_p_m_t_s_180111 && y_180115;
                bool forwards_ok_180117 = i_lte_j_180114 && y_180116;
                bool ok_or_empty_180118 = empty_slice_180108 || forwards_ok_180117;
                bool index_certs_180119;
                
                if (!ok_or_empty_180118) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_181682, ":", (long long) index_concat_branch_181670, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:229:71-86\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_180120 = slt64(index_concat_branch_181670, index_concat_branch_181682);
                bool valid_180121 = !bounds_invalid_upwards_180120;
                bool range_valid_c_180122;
                
                if (!valid_180121) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_181682, "..<", (long long) index_concat_branch_181670, " is invalid.", "-> #0  ftsort.fut:229:52-69\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_180128 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102 == (int64_t) 0;
                int64_t m_180129 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102, (int64_t) 1);
                int64_t i_p_m_t_s_180130 = add64(m_180129, index_concat_branch_181676);
                bool zzero_leq_i_p_m_t_s_180131 = sle64((int64_t) 0, i_p_m_t_s_180130);
                bool i_p_m_t_s_leq_w_180132 = slt64(i_p_m_t_s_180130, window_sizze_132667);
                bool zzero_lte_i_180133 = sle64((int64_t) 0, index_concat_branch_181676);
                bool i_lte_j_180134 = sle64(index_concat_branch_181676, index_concat_branch_181664);
                bool y_180135 = i_p_m_t_s_leq_w_180132 && zzero_lte_i_180133;
                bool y_180136 = zzero_leq_i_p_m_t_s_180131 && y_180135;
                bool forwards_ok_180137 = i_lte_j_180134 && y_180136;
                bool ok_or_empty_180138 = empty_slice_180128 || forwards_ok_180137;
                bool index_certs_180139;
                
                if (!ok_or_empty_180138) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_181676, ":", (long long) index_concat_branch_181664, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:230:71-86\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_180140 = slt64(index_concat_branch_181664, index_concat_branch_181676);
                bool valid_180141 = !bounds_invalid_upwards_180140;
                bool range_valid_c_180142;
                
                if (!valid_180141) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_181676, "..<", (long long) index_concat_branch_181664, " is invalid.", "-> #0  ftsort.fut:230:52-69\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_184358 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104;
                int64_t bytes_184360 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104;
                bool cond_180151 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, (int64_t) 1);
                int64_t zs_lhs_180152 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, (int64_t) 1);
                int64_t zp_rhs_180153 = sdiv_safe64(zs_lhs_180152, (int64_t) 20);
                int64_t min_num_blocks_180154 = add64((int64_t) 1, zp_rhs_180153);
                bool loop_cond_180155 = slt64((int64_t) 1, min_num_blocks_180154);
                bool smallest_pow_2_geq_than_res_180156;
                int64_t smallest_pow_2_geq_than_res_180157;
                bool loop_while_180158;
                int64_t x_180159;
                
                loop_while_180158 = loop_cond_180155;
                x_180159 = (int64_t) 1;
                while (loop_while_180158) {
                    int64_t loopres_180160 = mul64((int64_t) 2, x_180159);
                    bool loop_cond_180161 = slt64(loopres_180160, min_num_blocks_180154);
                    bool loop_while_tmp_185847 = loop_cond_180161;
                    int64_t x_tmp_185848 = loopres_180160;
                    
                    loop_while_180158 = loop_while_tmp_185847;
                    x_180159 = x_tmp_185848;
                }
                smallest_pow_2_geq_than_res_180156 = loop_while_180158;
                smallest_pow_2_geq_than_res_180157 = x_180159;
                
                bool zzero_180162 = smallest_pow_2_geq_than_res_180157 == (int64_t) 0;
                bool nonzzero_180163 = !zzero_180162;
                bool protect_assert_disj_180164 = cond_180151 || nonzzero_180163;
                bool nonzzero_cert_180165;
                
                if (!protect_assert_disj_180164) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_180166 = sdiv_safe64(zs_lhs_180152, smallest_pow_2_geq_than_res_180157);
                int64_t block_sizze_180167 = add64((int64_t) 1, zp_rhs_180166);
                bool y_180174 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104);
                bool protect_assert_disj_185511 = cond_180151 || y_180174;
                bool index_certs_180175;
                
                if (!protect_assert_disj_185511) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_180201 = slt64(smallest_pow_2_geq_than_res_180157, (int64_t) 0);
                bool valid_180202 = !bounds_invalid_upwards_180201;
                bool protect_assert_disj_185521 = cond_180151 || valid_180202;
                bool range_valid_c_180203;
                
                if (!protect_assert_disj_185521) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_180157, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_180205 = slt64(block_sizze_180167, (int64_t) 0);
                bool valid_180206 = !bounds_invalid_upwards_180205;
                bool protect_assert_disj_185523 = cond_180151 || valid_180206;
                bool range_valid_c_180207;
                
                if (!protect_assert_disj_185523) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_180167, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_180209 = sle64(block_sizze_180167, (int64_t) 1);
                int64_t tmp_180210 = sub64(block_sizze_180167, (int64_t) 2);
                bool bounds_invalid_upwards_180211 = slt64(tmp_180210, (int64_t) 0);
                bool valid_180213 = !bounds_invalid_upwards_180211;
                bool protect_assert_disj_180214 = cond_180209 || valid_180213;
                bool protect_assert_disj_185525 = cond_180151 || protect_assert_disj_180214;
                bool range_valid_c_180215;
                
                if (!protect_assert_disj_185525) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_180210, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_180776 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104;
                bool empty_or_match_cert_180777;
                
                if (!dim_match_180776) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107, "](i8, i64, i32)`.", "-> #0  ftsort.fut:231:22-237:50\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_180778 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107 == (int64_t) 0;
                int64_t m_180779 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_180780 = sle64((int64_t) 0, m_180779);
                bool i_p_m_t_s_leq_w_180781 = slt64(m_180779, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107);
                bool y_180782 = zzero_leq_i_p_m_t_s_180780 && i_p_m_t_s_leq_w_180781;
                bool ok_or_empty_180783 = empty_slice_180778 || y_180782;
                bool index_certs_180784;
                
                if (!ok_or_empty_180783) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107, "].", "-> #0  ftsort.fut:238:59-89\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_180785 = add64(ind_bottom_180105, m_180779);
                bool zzero_leq_i_p_m_t_s_180786 = sle64((int64_t) 0, i_p_m_t_s_180785);
                bool i_p_m_t_s_leq_w_180787 = slt64(i_p_m_t_s_180785, window_sizze_132667);
                bool zzero_lte_i_180788 = sle64((int64_t) 0, ind_bottom_180105);
                bool i_lte_j_180789 = sle64(ind_bottom_180105, ind_top_180106);
                bool y_180790 = i_p_m_t_s_leq_w_180787 && zzero_lte_i_180788;
                bool y_180791 = zzero_leq_i_p_m_t_s_180786 && y_180790;
                bool forwards_ok_180792 = i_lte_j_180789 && y_180791;
                bool ok_or_empty_180793 = empty_slice_180778 || forwards_ok_180792;
                bool index_certs_180794;
                
                if (!ok_or_empty_180793) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_180105, ":", (long long) ind_top_180106, "] out of bounds for array of shape [", (long long) window_sizze_132667, "].", "-> #0  ftsort.fut:238:27-89\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_181658 = p_178824 + index_concat_branch_181682;
                
                if (memblock_alloc(ctx, &mem_184357, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "mem_184357")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_185849 = 0; nest_i_185849 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103; nest_i_185849++) {
                    ((int8_t *) mem_184357.mem)[nest_i_185849] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_184359, bytes_184358, "mem_184359")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_185850 = 0; i_185850 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103; i_185850++) {
                    int64_t x_185851 = index_concat_branch_181682 + i_185850 * (int64_t) 1;
                    
                    ((int64_t *) mem_184359.mem)[i_185850] = x_185851;
                }
                
                int64_t slice_181657 = p_178825 + index_concat_branch_181676;
                
                for (int64_t nest_i_185852 = 0; nest_i_185852 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102; nest_i_185852++) {
                    ((int8_t *) mem_184357.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103 + nest_i_185852] = (int8_t) 1;
                }
                for (int64_t i_185853 = 0; i_185853 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102; i_185853++) {
                    int64_t x_185854 = index_concat_branch_181676 + i_185853 * (int64_t) 1;
                    
                    ((int64_t *) mem_184359.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103 + i_185853] = x_185854;
                }
                
                int64_t tmp_offs_185855 = (int64_t) 0;
                
                if (!(tmp_offs_185855 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184357.mem, tmp_offs_185855, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184357.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103});
                }
                tmp_offs_185855 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103;
                if (!(tmp_offs_185855 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184357.mem, tmp_offs_185855, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184357.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102});
                }
                tmp_offs_185855 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102;
                
                int64_t tmp_offs_185856 = (int64_t) 0;
                
                if (!(tmp_offs_185856 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184359.mem, tmp_offs_185856, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184359.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103});
                }
                tmp_offs_185856 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103;
                if (!(tmp_offs_185856 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184359.mem, tmp_offs_185856, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184359.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102});
                }
                tmp_offs_185856 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102;
                if (memblock_alloc(ctx, &mem_184361, bytes_184360, "mem_184361")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_185857 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_184361.mem, tmp_offs_185857, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_184305.mem, slice_181658, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103});
                tmp_offs_185857 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_184361.mem, tmp_offs_185857, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_184306.mem, slice_181657, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102});
                tmp_offs_185857 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102;
                
                int64_t flat_dim_180168 = smallest_pow_2_geq_than_res_180157 * block_sizze_180167;
                bool x_185506 = !cond_180151;
                int64_t greatest_divisor_leq_than_arg1_180172 = mul64((int64_t) 2, block_sizze_180167);
                int64_t merge_block_sizze_180173;
                
                if (x_185506) {
                    int64_t x_185508;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_185508, (int64_t) 8, greatest_divisor_leq_than_arg1_180172) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_180173 = x_185508;
                } else {
                    merge_block_sizze_180173 = (int64_t) 0;
                }
                
                bool index_concat_cmp_181652 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, (int64_t) 0);
                int8_t index_concat_branch_181656 = btoi_bool_i8(index_concat_cmp_181652);
                int64_t index_concat_i_183477 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                int64_t index_primexp_183478 = add64(index_concat_branch_181676, index_concat_i_183477);
                int64_t index_concat_branch_181650;
                
                if (index_concat_cmp_181652) {
                    index_concat_branch_181650 = index_primexp_183478;
                } else {
                    index_concat_branch_181650 = index_concat_branch_181682;
                }
                
                bool x_185502 = !index_concat_cmp_181652;
                bool protect_cond_conj_185512 = x_185502 && x_185506;
                int32_t index_concat_181643;
                
                if (protect_cond_conj_185512) {
                    int32_t x_185504 = ((int32_t *) a_list_mem_184305.mem)[slice_181658];
                    
                    index_concat_181643 = x_185504;
                } else {
                    index_concat_181643 = 0;
                }
                
                int64_t slice_183480 = slice_181657 + index_concat_i_183477;
                bool protect_cond_conj_185513 = index_concat_cmp_181652 && x_185506;
                int32_t index_concat_183481;
                
                if (protect_cond_conj_185513) {
                    int32_t x_185500 = ((int32_t *) b_list_mem_184306.mem)[slice_183480];
                    
                    index_concat_183481 = x_185500;
                } else {
                    index_concat_183481 = 0;
                }
                
                int32_t index_concat_branch_181644;
                
                if (index_concat_cmp_181652) {
                    index_concat_branch_181644 = index_concat_183481;
                } else {
                    index_concat_branch_181644 = index_concat_181643;
                }
                
                int8_t defunc_0_reduce_res_183712;
                int64_t defunc_0_reduce_res_183713;
                int32_t defunc_0_reduce_res_183714;
                
                if (x_185506) {
                    int8_t x_185514;
                    int64_t x_185515;
                    int32_t x_185516;
                    int8_t redout_184058;
                    int64_t redout_184059;
                    int32_t redout_184060;
                    
                    redout_184058 = index_concat_branch_181656;
                    redout_184059 = index_concat_branch_181650;
                    redout_184060 = index_concat_branch_181644;
                    for (int64_t i_184061 = 0; i_184061 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104; i_184061++) {
                        bool index_concat_cmp_184265 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, i_184061);
                        int8_t index_concat_branch_184269 = btoi_bool_i8(index_concat_cmp_184265);
                        int64_t index_concat_branch_184263;
                        
                        if (index_concat_cmp_184265) {
                            int64_t index_concat_i_184260 = sub64(i_184061, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                            int64_t index_primexp_184287 = add64(index_concat_branch_181676, index_concat_i_184260);
                            
                            index_concat_branch_184263 = index_primexp_184287;
                        } else {
                            int64_t index_primexp_184289 = add64(index_concat_branch_181682, i_184061);
                            
                            index_concat_branch_184263 = index_primexp_184289;
                        }
                        
                        int32_t index_concat_branch_184257;
                        
                        if (index_concat_cmp_184265) {
                            int64_t index_concat_i_184254 = sub64(i_184061, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                            int64_t slice_184284 = slice_181657 + index_concat_i_184254;
                            int32_t index_concat_184255 = ((int32_t *) b_list_mem_184306.mem)[slice_184284];
                            
                            index_concat_branch_184257 = index_concat_184255;
                        } else {
                            int64_t slice_184285 = slice_181658 + i_184061;
                            int32_t index_concat_184256 = ((int32_t *) a_list_mem_184305.mem)[slice_184285];
                            
                            index_concat_branch_184257 = index_concat_184256;
                        }
                        
                        bool eq_x_y_184300 = redout_184058 == (int8_t) 1;
                        bool eq_x_zz_184301 = redout_184058 == (int8_t) 0;
                        bool p_and_eq_x_y_184302 = index_concat_cmp_184265 && eq_x_y_184300;
                        bool not_p_184303 = !index_concat_cmp_184265;
                        bool p_and_eq_x_y_184304 = eq_x_zz_184301 && not_p_184303;
                        bool cond_180191 = p_and_eq_x_y_184302 || p_and_eq_x_y_184304;
                        bool defunc_0_leq_res_t_res_180192 = sle64(redout_184059, index_concat_branch_184263);
                        bool defunc_0_leq_res_180193 = sle32(redout_184060, index_concat_branch_184257);
                        bool x_180194 = cond_180191 && defunc_0_leq_res_t_res_180192;
                        bool x_180195 = !cond_180191;
                        bool y_180196 = defunc_0_leq_res_180193 && x_180195;
                        bool defunc_0_leq_res_180197 = x_180194 || y_180196;
                        int8_t defunc_0_op_res_180198;
                        
                        if (defunc_0_leq_res_180197) {
                            defunc_0_op_res_180198 = index_concat_branch_184269;
                        } else {
                            defunc_0_op_res_180198 = redout_184058;
                        }
                        
                        int64_t defunc_0_op_res_180199;
                        
                        if (defunc_0_leq_res_180197) {
                            defunc_0_op_res_180199 = index_concat_branch_184263;
                        } else {
                            defunc_0_op_res_180199 = redout_184059;
                        }
                        
                        int32_t defunc_0_op_res_180200;
                        
                        if (defunc_0_leq_res_180197) {
                            defunc_0_op_res_180200 = index_concat_branch_184257;
                        } else {
                            defunc_0_op_res_180200 = redout_184060;
                        }
                        
                        int8_t redout_tmp_185858 = defunc_0_op_res_180198;
                        int64_t redout_tmp_185859 = defunc_0_op_res_180199;
                        int32_t redout_tmp_185860 = defunc_0_op_res_180200;
                        
                        redout_184058 = redout_tmp_185858;
                        redout_184059 = redout_tmp_185859;
                        redout_184060 = redout_tmp_185860;
                    }
                    x_185514 = redout_184058;
                    x_185515 = redout_184059;
                    x_185516 = redout_184060;
                    defunc_0_reduce_res_183712 = x_185514;
                    defunc_0_reduce_res_183713 = x_185515;
                    defunc_0_reduce_res_183714 = x_185516;
                } else {
                    defunc_0_reduce_res_183712 = (int8_t) 0;
                    defunc_0_reduce_res_183713 = (int64_t) 0;
                    defunc_0_reduce_res_183714 = 0;
                }
                
                int64_t distance_180212 = add64((int64_t) 1, tmp_180210);
                int64_t binop_x_184364 = (int64_t) 8 * smallest_pow_2_geq_than_res_180157;
                int64_t bytes_184365 = block_sizze_180167 * binop_x_184364;
                int64_t binop_x_184367 = (int64_t) 4 * smallest_pow_2_geq_than_res_180157;
                int64_t bytes_184368 = block_sizze_180167 * binop_x_184367;
                int64_t bytes_184383 = (int64_t) 8 * block_sizze_180167;
                int64_t bytes_184385 = (int64_t) 4 * block_sizze_180167;
                bool loop_cond_180321 = slt64(block_sizze_180167, flat_dim_180168);
                bool zzero_180322 = merge_block_sizze_180173 == (int64_t) 0;
                bool nonzzero_180323 = !zzero_180322;
                
                if (cond_180151) {
                    if (memblock_set(ctx, &ext_mem_184656, &mem_184357, "mem_184357") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184653, &mem_184359, "mem_184359") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184650, &mem_184361, "mem_184361") != 0)
                        return 1;
                } else {
                    if (mem_184363_cached_sizze_186157 < flat_dim_180168) {
                        err = lexical_realloc(ctx, &mem_184363, &mem_184363_cached_sizze_186157, flat_dim_180168);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184366_cached_sizze_186158 < bytes_184365) {
                        err = lexical_realloc(ctx, &mem_184366, &mem_184366_cached_sizze_186158, bytes_184365);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184369_cached_sizze_186159 < bytes_184368) {
                        err = lexical_realloc(ctx, &mem_184369, &mem_184369_cached_sizze_186159, bytes_184368);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184382_cached_sizze_186160 < block_sizze_180167) {
                        err = lexical_realloc(ctx, &mem_184382, &mem_184382_cached_sizze_186160, block_sizze_180167);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184384_cached_sizze_186161 < bytes_184383) {
                        err = lexical_realloc(ctx, &mem_184384, &mem_184384_cached_sizze_186161, bytes_184383);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184386_cached_sizze_186162 < bytes_184385) {
                        err = lexical_realloc(ctx, &mem_184386, &mem_184386_cached_sizze_186162, bytes_184385);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_184078 = 0; i_184078 < smallest_pow_2_geq_than_res_180157; i_184078++) {
                        int64_t zp_lhs_180220 = mul64(block_sizze_180167, i_184078);
                        
                        for (int64_t i_184068 = 0; i_184068 < block_sizze_180167; i_184068++) {
                            int64_t k_180225 = add64(zp_lhs_180220, i_184068);
                            bool cond_180226 = slt64(k_180225, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104);
                            int8_t lifted_lambda_res_180227;
                            int64_t lifted_lambda_res_180228;
                            int32_t lifted_lambda_res_180229;
                            
                            if (cond_180226) {
                                bool x_183487 = sle64((int64_t) 0, k_180225);
                                bool bounds_check_183488 = cond_180226 && x_183487;
                                bool index_certs_183489;
                                
                                if (!bounds_check_183488) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_180225, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_183490 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, k_180225);
                                int8_t index_concat_branch_183491 = btoi_bool_i8(index_concat_cmp_183490);
                                int64_t index_concat_branch_183492;
                                
                                if (index_concat_cmp_183490) {
                                    int64_t index_concat_i_183493 = sub64(k_180225, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                                    int64_t index_primexp_183494 = add64(index_concat_branch_181676, index_concat_i_183493);
                                    
                                    index_concat_branch_183492 = index_primexp_183494;
                                } else {
                                    int64_t index_primexp_183495 = add64(k_180225, index_concat_branch_181682);
                                    
                                    index_concat_branch_183492 = index_primexp_183495;
                                }
                                
                                int32_t index_concat_branch_183496;
                                
                                if (index_concat_cmp_183490) {
                                    int64_t index_concat_i_183497 = sub64(k_180225, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                                    int64_t slice_183498 = slice_181657 + index_concat_i_183497;
                                    int32_t index_concat_183499 = ((int32_t *) b_list_mem_184306.mem)[slice_183498];
                                    
                                    index_concat_branch_183496 = index_concat_183499;
                                } else {
                                    int64_t slice_183500 = k_180225 + slice_181658;
                                    int32_t index_concat_183501 = ((int32_t *) a_list_mem_184305.mem)[slice_183500];
                                    
                                    index_concat_branch_183496 = index_concat_183501;
                                }
                                lifted_lambda_res_180227 = index_concat_branch_183491;
                                lifted_lambda_res_180228 = index_concat_branch_183492;
                                lifted_lambda_res_180229 = index_concat_branch_183496;
                            } else {
                                lifted_lambda_res_180227 = defunc_0_reduce_res_183712;
                                lifted_lambda_res_180228 = defunc_0_reduce_res_183713;
                                lifted_lambda_res_180229 = defunc_0_reduce_res_183714;
                            }
                            ((int8_t *) mem_184382)[i_184068] = lifted_lambda_res_180227;
                            ((int64_t *) mem_184384)[i_184068] = lifted_lambda_res_180228;
                            ((int32_t *) mem_184386)[i_184068] = lifted_lambda_res_180229;
                        }
                        if (!cond_180209) {
                            for (int64_t i_180242 = 0; i_180242 < distance_180212; i_180242++) {
                                int64_t gt_arg1_180246 = add64((int64_t) 1, i_180242);
                                bool x_180247 = sle64((int64_t) 0, gt_arg1_180246);
                                bool y_180248 = slt64(gt_arg1_180246, block_sizze_180167);
                                bool bounds_check_180249 = x_180247 && y_180248;
                                bool index_certs_180250;
                                
                                if (!bounds_check_180249) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_180246, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_180254 = slt64(i_180242, block_sizze_180167);
                                bool index_certs_180255;
                                
                                if (!y_180254) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180242, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_180251 = ((int8_t *) mem_184382)[gt_arg1_180246];
                                int64_t gt_arg1_180252 = ((int64_t *) mem_184384)[gt_arg1_180246];
                                int32_t gt_arg1_180253 = ((int32_t *) mem_184386)[gt_arg1_180246];
                                int8_t gt_arg0_180256 = ((int8_t *) mem_184382)[i_180242];
                                int64_t gt_arg0_180257 = ((int64_t *) mem_184384)[i_180242];
                                int32_t gt_arg0_180258 = ((int32_t *) mem_184386)[i_180242];
                                bool cond_180259 = gt_arg0_180256 == gt_arg1_180251;
                                bool defunc_0_leq_res_t_res_180260 = sle64(gt_arg0_180257, gt_arg1_180252);
                                bool defunc_0_leq_res_180261 = sle32(gt_arg0_180258, gt_arg1_180253);
                                bool x_180262 = cond_180259 && defunc_0_leq_res_t_res_180260;
                                bool x_180263 = !cond_180259;
                                bool y_180264 = defunc_0_leq_res_180261 && x_180263;
                                bool defunc_0_leq_res_180265 = x_180262 || y_180264;
                                bool defunc_0_lifted_gt_res_180266 = !defunc_0_leq_res_180265;
                                bool s_180267;
                                int64_t s_180271;
                                bool loop_while_180272;
                                int64_t j_180276;
                                
                                loop_while_180272 = defunc_0_lifted_gt_res_180266;
                                j_180276 = i_180242;
                                while (loop_while_180272) {
                                    bool x_180277 = sle64((int64_t) 0, j_180276);
                                    bool y_180278 = slt64(j_180276, block_sizze_180167);
                                    bool bounds_check_180279 = x_180277 && y_180278;
                                    bool index_certs_180280;
                                    
                                    if (!bounds_check_180279) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180276, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_180284 = add64((int64_t) 1, j_180276);
                                    bool x_180285 = sle64((int64_t) 0, copy_arg0_180284);
                                    bool y_180286 = slt64(copy_arg0_180284, block_sizze_180167);
                                    bool bounds_check_180287 = x_180285 && y_180286;
                                    bool index_certs_180288;
                                    
                                    if (!bounds_check_180287) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_180284, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_180281 = ((int8_t *) mem_184382)[j_180276];
                                    int64_t copy_arg0_180282 = ((int64_t *) mem_184384)[j_180276];
                                    int32_t copy_arg0_180283 = ((int32_t *) mem_184386)[j_180276];
                                    int8_t copy_arg0_180289 = ((int8_t *) mem_184382)[copy_arg0_180284];
                                    int64_t copy_arg0_180290 = ((int64_t *) mem_184384)[copy_arg0_180284];
                                    int32_t copy_arg0_180291 = ((int32_t *) mem_184386)[copy_arg0_180284];
                                    
                                    ((int8_t *) mem_184382)[j_180276] = copy_arg0_180289;
                                    ((int64_t *) mem_184384)[j_180276] = copy_arg0_180290;
                                    ((int32_t *) mem_184386)[j_180276] = copy_arg0_180291;
                                    ((int8_t *) mem_184382)[copy_arg0_180284] = copy_arg0_180281;
                                    ((int64_t *) mem_184384)[copy_arg0_180284] = copy_arg0_180282;
                                    ((int32_t *) mem_184386)[copy_arg0_180284] = copy_arg0_180283;
                                    
                                    int64_t tmp_180298 = sub64(j_180276, (int64_t) 1);
                                    bool cond_180299 = sle64((int64_t) 0, tmp_180298);
                                    bool loop_cond_180300;
                                    
                                    if (cond_180299) {
                                        bool y_183505 = slt64(tmp_180298, block_sizze_180167);
                                        bool bounds_check_183506 = cond_180299 && y_183505;
                                        bool index_certs_183507;
                                        
                                        if (!bounds_check_183506) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180298, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_183502 = ((int8_t *) mem_184382)[j_180276];
                                        int64_t gt_arg1_183503 = ((int64_t *) mem_184384)[j_180276];
                                        int32_t gt_arg1_183504 = ((int32_t *) mem_184386)[j_180276];
                                        int8_t gt_arg0_183508 = ((int8_t *) mem_184382)[tmp_180298];
                                        int64_t gt_arg0_183509 = ((int64_t *) mem_184384)[tmp_180298];
                                        int32_t gt_arg0_183510 = ((int32_t *) mem_184386)[tmp_180298];
                                        bool cond_183511 = gt_arg0_183508 == gt_arg1_183502;
                                        bool defunc_0_leq_res_t_res_183512 = sle64(gt_arg0_183509, gt_arg1_183503);
                                        bool defunc_0_leq_res_183513 = sle32(gt_arg0_183510, gt_arg1_183504);
                                        bool x_183514 = cond_183511 && defunc_0_leq_res_t_res_183512;
                                        bool x_183515 = !cond_183511;
                                        bool y_183516 = defunc_0_leq_res_183513 && x_183515;
                                        bool defunc_0_leq_res_183517 = x_183514 || y_183516;
                                        bool defunc_0_lifted_gt_res_183518 = !defunc_0_leq_res_183517;
                                        
                                        loop_cond_180300 = defunc_0_lifted_gt_res_183518;
                                    } else {
                                        loop_cond_180300 = 0;
                                    }
                                    
                                    bool loop_while_tmp_185870 = loop_cond_180300;
                                    int64_t j_tmp_185874 = tmp_180298;
                                    
                                    loop_while_180272 = loop_while_tmp_185870;
                                    j_180276 = j_tmp_185874;
                                }
                                s_180267 = loop_while_180272;
                                s_180271 = j_180276;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_184363, i_184078 * block_sizze_180167, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184382, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180167});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184366, i_184078 * block_sizze_180167, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184384, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180167});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_184369, i_184078 * block_sizze_180167, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_184386, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180167});
                    }
                    if (memblock_alloc(ctx, &mem_184463, flat_dim_180168, "mem_184463")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_184463.mem, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (uint8_t *) mem_184363, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180157, block_sizze_180167});
                    if (memblock_alloc(ctx, &mem_184467, bytes_184365, "mem_184467")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_184467.mem, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (uint64_t *) mem_184366, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180157, block_sizze_180167});
                    if (memblock_alloc(ctx, &mem_184471, bytes_184368, "mem_184471")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_184471.mem, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (uint32_t *) mem_184369, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180157, block_sizze_180167});
                    
                    int64_t data_180324;
                    bool data_180325;
                    int64_t data_180329;
                    int64_t loop_dz2084Uz2082U_180330;
                    bool loop_while_180331;
                    int64_t stride_180335;
                    
                    if (memblock_set(ctx, &mem_param_184475, &mem_184463, "mem_184463") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_184478, &mem_184467, "mem_184467") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_184481, &mem_184471, "mem_184471") != 0)
                        return 1;
                    loop_dz2084Uz2082U_180330 = flat_dim_180168;
                    loop_while_180331 = loop_cond_180321;
                    stride_180335 = block_sizze_180167;
                    while (loop_while_180331) {
                        int64_t next_stride_180336 = mul64((int64_t) 2, stride_180335);
                        bool zzero_180337 = next_stride_180336 == (int64_t) 0;
                        bool nonzzero_180338 = !zzero_180337;
                        bool nonzzero_cert_180339;
                        
                        if (!nonzzero_180338) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_180340 = sdiv64(flat_dim_180168, next_stride_180336);
                        bool bounds_invalid_upwards_180341 = slt64(num_merges_180340, (int64_t) 0);
                        bool valid_180342 = !bounds_invalid_upwards_180341;
                        bool range_valid_c_180343;
                        
                        if (!valid_180342) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_180340, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_180345 = sub64(next_stride_180336, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_180346 = sle64((int64_t) 0, m_180345);
                        bool cond_180348 = slt64(next_stride_180336, (int64_t) 10);
                        bool protect_assert_disj_180349 = nonzzero_180323 || cond_180348;
                        bool nonzzero_cert_180350;
                        
                        if (!protect_assert_disj_180349) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_180351 = smod_safe64(next_stride_180336, merge_block_sizze_180173);
                        bool num_blocks_180352 = zeze_lhs_180351 == (int64_t) 0;
                        bool protect_assert_disj_180353 = cond_180348 || num_blocks_180352;
                        bool assert_c_180354;
                        
                        if (!protect_assert_disj_180353) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_180356 = sdiv_safe64(next_stride_180336, merge_block_sizze_180173);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357 = add64((int64_t) 1, num_blocks_180356);
                        int64_t j_m_i_180358 = sub64(next_stride_180336, stride_180335);
                        int64_t flat_dim_180359 = merge_block_sizze_180173 * num_blocks_180356;
                        bool bounds_invalid_upwards_180360 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357, (int64_t) 0);
                        bool empty_slice_180361 = j_m_i_180358 == (int64_t) 0;
                        int64_t m_180362 = sub64(j_m_i_180358, (int64_t) 1);
                        bool zzero_lte_i_180363 = sle64((int64_t) 0, stride_180335);
                        bool i_lte_j_180364 = sle64(stride_180335, next_stride_180336);
                        bool empty_slice_180365 = stride_180335 == (int64_t) 0;
                        int64_t m_180366 = sub64(stride_180335, (int64_t) 1);
                        bool bounds_invalid_upwards_180367 = slt64(num_blocks_180356, (int64_t) 0);
                        bool cond_180368 = slt64((int64_t) 0, stride_180335);
                        bool valid_180369 = !bounds_invalid_upwards_180360;
                        int64_t i_p_m_t_s_180370 = add64(stride_180335, m_180362);
                        bool zzero_leq_i_p_m_t_s_180371 = sle64((int64_t) 0, m_180366);
                        bool i_p_m_t_s_leq_w_180372 = slt64(m_180366, next_stride_180336);
                        bool valid_180373 = !bounds_invalid_upwards_180367;
                        bool i_p_m_t_s_leq_w_180374 = slt64(m_180345, flat_dim_180359);
                        bool y_180375 = slt64((int64_t) 0, j_m_i_180358);
                        bool protect_assert_disj_180376 = cond_180348 || valid_180369;
                        bool range_valid_c_180377;
                        
                        if (!protect_assert_disj_180376) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:366:63-73\n   #9  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_180378 = sle64((int64_t) 0, i_p_m_t_s_180370);
                        bool i_p_m_t_s_leq_w_180379 = slt64(i_p_m_t_s_180370, next_stride_180336);
                        bool y_180380 = zzero_leq_i_p_m_t_s_180371 && i_p_m_t_s_leq_w_180372;
                        bool protect_assert_disj_180381 = cond_180348 || valid_180373;
                        bool range_valid_c_180382;
                        
                        if (!protect_assert_disj_180381) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_180356, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_180383 = zzero_leq_i_p_m_t_s_180346 && i_p_m_t_s_leq_w_180374;
                        bool y_180384 = zzero_lte_i_180363 && i_p_m_t_s_leq_w_180379;
                        bool forwards_ok_180385 = zzero_lte_i_180363 && y_180380;
                        bool ok_or_empty_180386 = zzero_180337 || y_180383;
                        bool protect_assert_disj_180387 = cond_180368 || y_180375;
                        bool y_180388 = zzero_leq_i_p_m_t_s_180378 && y_180384;
                        bool ok_or_empty_180389 = empty_slice_180365 || forwards_ok_180385;
                        bool protect_assert_disj_180390 = cond_180348 || ok_or_empty_180386;
                        bool index_certs_180391;
                        
                        if (!protect_assert_disj_180390) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_180336, "] out of bounds for array of shape [", (long long) flat_dim_180359, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_180392 = !cond_180348;
                        bool protect_assert_disj_180393 = protect_assert_disj_180387 || loop_not_taken_180392;
                        bool index_certs_180394;
                        
                        if (!protect_assert_disj_180393) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:366:63-73\n   #9  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_180395 = i_lte_j_180364 && y_180388;
                        bool protect_assert_disj_180396 = cond_180348 || ok_or_empty_180389;
                        bool index_certs_180397;
                        
                        if (!protect_assert_disj_180396) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_180335, "] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:366:63-73\n   #10 ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_180398 = ok_or_empty_180389 || loop_not_taken_180392;
                        bool index_certs_180399;
                        
                        if (!protect_assert_disj_180398) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_180335, "] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_180400 = empty_slice_180361 || forwards_ok_180395;
                        bool protect_assert_disj_180401 = cond_180348 || ok_or_empty_180400;
                        bool index_certs_180402;
                        
                        if (!protect_assert_disj_180401) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_180335, ":] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:366:63-73\n   #10 ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_180403 = loop_not_taken_180392 || ok_or_empty_180400;
                        bool index_certs_180404;
                        
                        if (!protect_assert_disj_180403) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_180335, ":] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_184482 = next_stride_180336 * num_merges_180340;
                        int64_t binop_x_184484 = (int64_t) 8 * num_merges_180340;
                        int64_t bytes_184485 = next_stride_180336 * binop_x_184484;
                        int64_t binop_x_184487 = (int64_t) 4 * num_merges_180340;
                        int64_t bytes_184488 = next_stride_180336 * binop_x_184487;
                        bool i_lte_j_180347 = sle64((int64_t) 0, next_stride_180336);
                        
                        if (mem_184483_cached_sizze_186163 < bytes_184482) {
                            err = lexical_realloc(ctx, &mem_184483, &mem_184483_cached_sizze_186163, bytes_184482);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_184486_cached_sizze_186164 < bytes_184485) {
                            err = lexical_realloc(ctx, &mem_184486, &mem_184486_cached_sizze_186164, bytes_184485);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_184489_cached_sizze_186165 < bytes_184488) {
                            err = lexical_realloc(ctx, &mem_184489, &mem_184489_cached_sizze_186165, bytes_184488);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_184502 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357;
                        int64_t binop_x_184520 = (int64_t) 8 * num_blocks_180356;
                        int64_t bytes_184521 = merge_block_sizze_180173 * binop_x_184520;
                        int64_t binop_x_184523 = (int64_t) 4 * num_blocks_180356;
                        int64_t bytes_184524 = merge_block_sizze_180173 * binop_x_184523;
                        int64_t bytes_184585 = (int64_t) 16 * stride_180335;
                        int64_t bytes_184587 = (int64_t) 8 * stride_180335;
                        
                        for (int64_t i_184105 = 0; i_184105 < num_merges_180340; i_184105++) {
                            int64_t start_180409 = mul64(next_stride_180336, i_184105);
                            int64_t j_m_i_180410 = sub64(loop_dz2084Uz2082U_180330, start_180409);
                            bool empty_slice_180411 = j_m_i_180410 == (int64_t) 0;
                            int64_t m_180412 = sub64(j_m_i_180410, (int64_t) 1);
                            int64_t i_p_m_t_s_180413 = add64(start_180409, m_180412);
                            bool zzero_leq_i_p_m_t_s_180414 = sle64((int64_t) 0, i_p_m_t_s_180413);
                            bool i_p_m_t_s_leq_w_180415 = slt64(i_p_m_t_s_180413, loop_dz2084Uz2082U_180330);
                            bool zzero_lte_i_180416 = sle64((int64_t) 0, start_180409);
                            bool i_lte_j_180417 = sle64(start_180409, loop_dz2084Uz2082U_180330);
                            bool y_180418 = i_p_m_t_s_leq_w_180415 && zzero_lte_i_180416;
                            bool y_180419 = zzero_leq_i_p_m_t_s_180414 && y_180418;
                            bool forwards_ok_180420 = i_lte_j_180417 && y_180419;
                            bool ok_or_empty_180421 = empty_slice_180411 || forwards_ok_180420;
                            bool index_certs_180422;
                            
                            if (!ok_or_empty_180421) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_180409, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_180330, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_180423 = slt64(m_180345, j_m_i_180410);
                            bool y_180424 = zzero_leq_i_p_m_t_s_180346 && i_p_m_t_s_leq_w_180423;
                            bool forwards_ok_180425 = i_lte_j_180347 && y_180424;
                            bool ok_or_empty_180426 = zzero_180337 || forwards_ok_180425;
                            bool index_certs_180427;
                            
                            if (!ok_or_empty_180426) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_180336, "] out of bounds for array of shape [", (long long) j_m_i_180410, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_180348) {
                                int8_t dummy_183557;
                                int64_t dummy_183558;
                                int32_t dummy_183559;
                                
                                if (cond_180368) {
                                    int8_t head_res_183560 = ((int8_t *) mem_param_184475.mem)[start_180409];
                                    int64_t head_res_183561 = ((int64_t *) mem_param_184478.mem)[start_180409];
                                    int32_t head_res_183562 = ((int32_t *) mem_param_184481.mem)[start_180409];
                                    
                                    dummy_183557 = head_res_183560;
                                    dummy_183558 = head_res_183561;
                                    dummy_183559 = head_res_183562;
                                } else {
                                    int64_t slice_183563 = stride_180335 + start_180409;
                                    int8_t head_res_183564 = ((int8_t *) mem_param_184475.mem)[slice_183563];
                                    int64_t head_res_183565 = ((int64_t *) mem_param_184478.mem)[slice_183563];
                                    int32_t head_res_183566 = ((int32_t *) mem_param_184481.mem)[slice_183563];
                                    
                                    dummy_183557 = head_res_183564;
                                    dummy_183558 = head_res_183565;
                                    dummy_183559 = head_res_183566;
                                }
                                if (memblock_alloc(ctx, &mem_184584, next_stride_180336, "mem_184584")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185887 = 0; nest_i_185887 < next_stride_180336; nest_i_185887++) {
                                    ((int8_t *) mem_184584.mem)[nest_i_185887] = dummy_183557;
                                }
                                if (memblock_alloc(ctx, &mem_184586, bytes_184585, "mem_184586")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185888 = 0; nest_i_185888 < next_stride_180336; nest_i_185888++) {
                                    ((int64_t *) mem_184586.mem)[nest_i_185888] = dummy_183558;
                                }
                                if (memblock_alloc(ctx, &mem_184588, bytes_184587, "mem_184588")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185889 = 0; nest_i_185889 < next_stride_180336; nest_i_185889++) {
                                    ((int32_t *) mem_184588.mem)[nest_i_185889] = dummy_183559;
                                }
                                
                                int64_t data_183570;
                                int64_t i_183575 = (int64_t) 0;
                                
                                for (int64_t k_183574 = 0; k_183574 < next_stride_180336; k_183574++) {
                                    int64_t j_183579 = sub64(k_183574, i_183575);
                                    bool cond_183580 = j_183579 == j_m_i_180358;
                                    bool cond_183581;
                                    
                                    if (cond_183580) {
                                        cond_183581 = 1;
                                    } else {
                                        bool cond_183582 = slt64(i_183575, stride_180335);
                                        bool cond_f_res_183583;
                                        
                                        if (cond_183582) {
                                            bool x_183584 = sle64((int64_t) 0, j_183579);
                                            bool y_183585 = slt64(j_183579, j_m_i_180358);
                                            bool bounds_check_183586 = x_183584 && y_183585;
                                            bool index_certs_183587;
                                            
                                            if (!bounds_check_183586) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183579, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_183593 = sle64((int64_t) 0, i_183575);
                                            bool bounds_check_183594 = cond_183582 && x_183593;
                                            bool index_certs_183595;
                                            
                                            if (!bounds_check_183594) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183575, "] out of bounds for array of shape [", (long long) stride_180335, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_183588 = stride_180335 + j_183579;
                                            int64_t slice_183589 = start_180409 + slice_183588;
                                            int8_t leq_arg1_183590 = ((int8_t *) mem_param_184475.mem)[slice_183589];
                                            int64_t leq_arg1_183591 = ((int64_t *) mem_param_184478.mem)[slice_183589];
                                            int32_t leq_arg1_183592 = ((int32_t *) mem_param_184481.mem)[slice_183589];
                                            int64_t slice_183596 = start_180409 + i_183575;
                                            int8_t leq_arg0_183597 = ((int8_t *) mem_param_184475.mem)[slice_183596];
                                            int64_t leq_arg0_183598 = ((int64_t *) mem_param_184478.mem)[slice_183596];
                                            int32_t leq_arg0_183599 = ((int32_t *) mem_param_184481.mem)[slice_183596];
                                            bool cond_183600 = leq_arg0_183597 == leq_arg1_183590;
                                            bool defunc_0_leq_res_t_res_183601 = sle64(leq_arg0_183598, leq_arg1_183591);
                                            bool defunc_0_leq_res_183602 = sle32(leq_arg0_183599, leq_arg1_183592);
                                            bool x_183603 = cond_183600 && defunc_0_leq_res_t_res_183601;
                                            bool x_183604 = !cond_183600;
                                            bool y_183605 = defunc_0_leq_res_183602 && x_183604;
                                            bool defunc_0_leq_res_183606 = x_183603 || y_183605;
                                            
                                            cond_f_res_183583 = defunc_0_leq_res_183606;
                                        } else {
                                            cond_f_res_183583 = 0;
                                        }
                                        cond_183581 = cond_f_res_183583;
                                    }
                                    
                                    int64_t loopres_183607;
                                    int8_t loopres_183608;
                                    int64_t loopres_183609;
                                    int32_t loopres_183610;
                                    
                                    if (cond_183581) {
                                        bool x_183612 = sle64((int64_t) 0, i_183575);
                                        bool y_183613 = slt64(i_183575, stride_180335);
                                        bool bounds_check_183614 = x_183612 && y_183613;
                                        bool index_certs_183615;
                                        
                                        if (!bounds_check_183614) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183575, "] out of bounds for array of shape [", (long long) stride_180335, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_183611 = add64((int64_t) 1, i_183575);
                                        int64_t slice_183616 = start_180409 + i_183575;
                                        int8_t tmp_183617 = ((int8_t *) mem_param_184475.mem)[slice_183616];
                                        int64_t tmp_183618 = ((int64_t *) mem_param_184478.mem)[slice_183616];
                                        int32_t tmp_183619 = ((int32_t *) mem_param_184481.mem)[slice_183616];
                                        
                                        loopres_183607 = tmp_183611;
                                        loopres_183608 = tmp_183617;
                                        loopres_183609 = tmp_183618;
                                        loopres_183610 = tmp_183619;
                                    } else {
                                        bool x_183620 = sle64((int64_t) 0, j_183579);
                                        bool y_183621 = slt64(j_183579, j_m_i_180358);
                                        bool bounds_check_183622 = x_183620 && y_183621;
                                        bool index_certs_183623;
                                        
                                        if (!bounds_check_183622) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183579, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183624 = stride_180335 + j_183579;
                                        int64_t slice_183625 = start_180409 + slice_183624;
                                        int8_t tmp_183626 = ((int8_t *) mem_param_184475.mem)[slice_183625];
                                        int64_t tmp_183627 = ((int64_t *) mem_param_184478.mem)[slice_183625];
                                        int32_t tmp_183628 = ((int32_t *) mem_param_184481.mem)[slice_183625];
                                        
                                        loopres_183607 = i_183575;
                                        loopres_183608 = tmp_183626;
                                        loopres_183609 = tmp_183627;
                                        loopres_183610 = tmp_183628;
                                    }
                                    ((int8_t *) mem_184584.mem)[k_183574] = loopres_183608;
                                    ((int64_t *) mem_184586.mem)[k_183574] = loopres_183609;
                                    ((int32_t *) mem_184588.mem)[k_183574] = loopres_183610;
                                    
                                    int64_t i_tmp_185890 = loopres_183607;
                                    
                                    i_183575 = i_tmp_185890;
                                }
                                data_183570 = i_183575;
                                if (memblock_set(ctx, &ext_mem_184615, &mem_184584, "mem_184584") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184612, &mem_184586, "mem_184586") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184609, &mem_184588, "mem_184588") != 0)
                                    return 1;
                            } else {
                                if (mem_184503_cached_sizze_186166 < bytes_184502) {
                                    err = lexical_realloc(ctx, &mem_184503, &mem_184503_cached_sizze_186166, bytes_184502);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184505_cached_sizze_186167 < bytes_184502) {
                                    err = lexical_realloc(ctx, &mem_184505, &mem_184505_cached_sizze_186167, bytes_184502);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_184086 = 0; i_184086 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357; i_184086++) {
                                    int64_t split_count_arg3_180510 = mul64(merge_block_sizze_180173, i_184086);
                                    int64_t defunc_0_split_count_res_180511;
                                    int64_t defunc_0_split_count_res_180512;
                                    int64_t defunc_0_split_count_res_180513;
                                    int64_t defunc_0_split_count_res_180514;
                                    int64_t defunc_0_split_count_res_180515;
                                    
                                    if (futrts_lifted_normalizze_9100(ctx, &defunc_0_split_count_res_180511, &defunc_0_split_count_res_180512, &defunc_0_split_count_res_180513, &defunc_0_split_count_res_180514, &defunc_0_split_count_res_180515, (int64_t) 0, stride_180335, (int64_t) 0, j_m_i_180358, split_count_arg3_180510) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_180516 = slt64((int64_t) 0, defunc_0_split_count_res_180515);
                                    bool defunc_0_split_count_res_180517;
                                    int64_t defunc_0_split_count_res_180518;
                                    int64_t defunc_0_split_count_res_180519;
                                    int64_t defunc_0_split_count_res_180520;
                                    int64_t defunc_0_split_count_res_180521;
                                    int64_t defunc_0_split_count_res_180522;
                                    bool loop_while_180523;
                                    int64_t ss_180524;
                                    int64_t ss_180525;
                                    int64_t tt_180526;
                                    int64_t tt_180527;
                                    int64_t count_180528;
                                    
                                    loop_while_180523 = loop_cond_180516;
                                    ss_180524 = defunc_0_split_count_res_180511;
                                    ss_180525 = defunc_0_split_count_res_180512;
                                    tt_180526 = defunc_0_split_count_res_180513;
                                    tt_180527 = defunc_0_split_count_res_180514;
                                    count_180528 = defunc_0_split_count_res_180515;
                                    while (loop_while_180523) {
                                        int64_t zlze_lhs_180529 = sub64(ss_180525, ss_180524);
                                        bool cond_180530 = sle64(zlze_lhs_180529, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_180531;
                                        int64_t defunc_0_lifted_step_res_180532;
                                        int64_t defunc_0_lifted_step_res_180533;
                                        int64_t defunc_0_lifted_step_res_180534;
                                        
                                        if (cond_180530) {
                                            int64_t tmp_183632 = add64(tt_180526, count_180528);
                                            
                                            defunc_0_lifted_step_res_180531 = ss_180524;
                                            defunc_0_lifted_step_res_180532 = tmp_183632;
                                            defunc_0_lifted_step_res_180533 = tt_180527;
                                            defunc_0_lifted_step_res_180534 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_180536 = sub64(tt_180527, tt_180526);
                                            bool cond_180537 = sle64(zlze_lhs_180536, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_180538;
                                            int64_t defunc_0_lifted_step_res_f_res_180539;
                                            int64_t defunc_0_lifted_step_res_f_res_180540;
                                            int64_t defunc_0_lifted_step_res_f_res_180541;
                                            
                                            if (cond_180537) {
                                                int64_t tmp_183633 = add64(ss_180524, count_180528);
                                                
                                                defunc_0_lifted_step_res_f_res_180538 = tmp_183633;
                                                defunc_0_lifted_step_res_f_res_180539 = tt_180526;
                                                defunc_0_lifted_step_res_f_res_180540 = tt_180527;
                                                defunc_0_lifted_step_res_f_res_180541 = (int64_t) 0;
                                            } else {
                                                bool cond_180543 = count_180528 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_180544;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_180545;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_180546;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_180547;
                                                
                                                if (cond_180543) {
                                                    bool x_183635 = sle64((int64_t) 0, ss_180524);
                                                    bool y_183636 = slt64(ss_180524, stride_180335);
                                                    bool bounds_check_183637 = x_183635 && y_183636;
                                                    bool index_certs_183638;
                                                    
                                                    if (!bounds_check_183637) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_180524, "] out of bounds for array of shape [", (long long) stride_180335, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:366:63-73\n   #12 ftsort.fut:359:1-366:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_183643 = sle64((int64_t) 0, tt_180526);
                                                    bool y_183644 = slt64(tt_180526, j_m_i_180358);
                                                    bool bounds_check_183645 = x_183643 && y_183644;
                                                    bool index_certs_183646;
                                                    
                                                    if (!bounds_check_183645) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_180526, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:366:63-73\n   #12 ftsort.fut:359:1-366:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_183639 = start_180409 + ss_180524;
                                                    int8_t leq_arg1_183640 = ((int8_t *) mem_param_184475.mem)[slice_183639];
                                                    int64_t leq_arg1_183641 = ((int64_t *) mem_param_184478.mem)[slice_183639];
                                                    int32_t leq_arg1_183642 = ((int32_t *) mem_param_184481.mem)[slice_183639];
                                                    int64_t slice_183647 = stride_180335 + tt_180526;
                                                    int64_t slice_183648 = start_180409 + slice_183647;
                                                    int8_t leq_arg0_183649 = ((int8_t *) mem_param_184475.mem)[slice_183648];
                                                    int64_t leq_arg0_183650 = ((int64_t *) mem_param_184478.mem)[slice_183648];
                                                    int32_t leq_arg0_183651 = ((int32_t *) mem_param_184481.mem)[slice_183648];
                                                    bool cond_183652 = leq_arg0_183649 == leq_arg1_183640;
                                                    bool defunc_0_leq_res_t_res_183653 = sle64(leq_arg0_183650, leq_arg1_183641);
                                                    bool defunc_0_leq_res_183654 = sle32(leq_arg0_183651, leq_arg1_183642);
                                                    bool x_183655 = cond_183652 && defunc_0_leq_res_t_res_183653;
                                                    bool x_183656 = !cond_183652;
                                                    bool y_183657 = defunc_0_leq_res_183654 && x_183656;
                                                    bool defunc_0_leq_res_183658 = x_183655 || y_183657;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183659;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183660;
                                                    
                                                    if (defunc_0_leq_res_183658) {
                                                        int64_t tmp_183661 = add64((int64_t) 1, tt_180526);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183659 = ss_180524;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183660 = tmp_183661;
                                                    } else {
                                                        int64_t tmp_183662 = add64((int64_t) 1, ss_180524);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183659 = tmp_183662;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183660 = tt_180526;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_180544 = defunc_0_lifted_step_res_f_res_f_res_t_res_183659;
                                                    defunc_0_lifted_step_res_f_res_f_res_180545 = defunc_0_lifted_step_res_f_res_f_res_t_res_183660;
                                                    defunc_0_lifted_step_res_f_res_f_res_180546 = tt_180527;
                                                    defunc_0_lifted_step_res_f_res_f_res_180547 = (int64_t) 0;
                                                } else {
                                                    int64_t m_180576 = sdiv64(count_180528, (int64_t) 2);
                                                    int64_t n_180577 = sub64(count_180528, m_180576);
                                                    bool cond_180578 = n_180577 == (int64_t) 0;
                                                    int64_t zgze_lhs_180579 = add64(ss_180524, m_180576);
                                                    bool cond_f_res_180580 = sle64(ss_180525, zgze_lhs_180579);
                                                    bool x_180581 = !cond_180578;
                                                    bool y_180582 = cond_f_res_180580 && x_180581;
                                                    bool cond_180583 = cond_180578 || y_180582;
                                                    bool leq_y_x_180584;
                                                    
                                                    if (cond_180583) {
                                                        leq_y_x_180584 = 1;
                                                    } else {
                                                        bool x_180585 = sle64((int64_t) 0, zgze_lhs_180579);
                                                        bool y_180586 = slt64(zgze_lhs_180579, stride_180335);
                                                        bool bounds_check_180587 = x_180585 && y_180586;
                                                        bool index_certs_180588;
                                                        
                                                        if (!bounds_check_180587) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_180579, "] out of bounds for array of shape [", (long long) stride_180335, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:366:63-73\n   #12 ftsort.fut:359:1-366:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_180593 = add64(tt_180526, n_180577);
                                                        int64_t leq_arg0_180594 = sub64(zm_lhs_180593, (int64_t) 1);
                                                        bool x_180595 = sle64((int64_t) 0, leq_arg0_180594);
                                                        bool y_180596 = slt64(leq_arg0_180594, j_m_i_180358);
                                                        bool bounds_check_180597 = x_180595 && y_180596;
                                                        bool index_certs_180598;
                                                        
                                                        if (!bounds_check_180597) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_180594, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:366:63-73\n   #12 ftsort.fut:359:1-366:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_180589 = start_180409 + zgze_lhs_180579;
                                                        int8_t leq_arg1_180590 = ((int8_t *) mem_param_184475.mem)[slice_180589];
                                                        int64_t leq_arg1_180591 = ((int64_t *) mem_param_184478.mem)[slice_180589];
                                                        int32_t leq_arg1_180592 = ((int32_t *) mem_param_184481.mem)[slice_180589];
                                                        int64_t slice_180599 = stride_180335 + leq_arg0_180594;
                                                        int64_t slice_180600 = start_180409 + slice_180599;
                                                        int8_t leq_arg0_180601 = ((int8_t *) mem_param_184475.mem)[slice_180600];
                                                        int64_t leq_arg0_180602 = ((int64_t *) mem_param_184478.mem)[slice_180600];
                                                        int32_t leq_arg0_180603 = ((int32_t *) mem_param_184481.mem)[slice_180600];
                                                        bool cond_180604 = leq_arg0_180601 == leq_arg1_180590;
                                                        bool defunc_0_leq_res_t_res_180605 = sle64(leq_arg0_180602, leq_arg1_180591);
                                                        bool defunc_0_leq_res_180606 = sle32(leq_arg0_180603, leq_arg1_180592);
                                                        bool x_180607 = cond_180604 && defunc_0_leq_res_t_res_180605;
                                                        bool x_180608 = !cond_180604;
                                                        bool y_180609 = defunc_0_leq_res_180606 && x_180608;
                                                        bool defunc_0_leq_res_180610 = x_180607 || y_180609;
                                                        
                                                        leq_y_x_180584 = defunc_0_leq_res_180610;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_180611;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_180612;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_180613;
                                                    
                                                    if (leq_y_x_180584) {
                                                        int64_t tmp_183663 = add64(tt_180526, n_180577);
                                                        int64_t tmp_183664 = sub64(count_180528, n_180577);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180611 = tmp_183663;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180612 = tt_180527;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180613 = tmp_183664;
                                                    } else {
                                                        int64_t tmp_180616 = add64(tt_180526, n_180577);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180611 = tt_180526;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180612 = tmp_180616;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180613 = count_180528;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_180544 = ss_180524;
                                                    defunc_0_lifted_step_res_f_res_f_res_180545 = defunc_0_lifted_step_res_f_res_f_res_f_res_180611;
                                                    defunc_0_lifted_step_res_f_res_f_res_180546 = defunc_0_lifted_step_res_f_res_f_res_f_res_180612;
                                                    defunc_0_lifted_step_res_f_res_f_res_180547 = defunc_0_lifted_step_res_f_res_f_res_f_res_180613;
                                                }
                                                defunc_0_lifted_step_res_f_res_180538 = defunc_0_lifted_step_res_f_res_f_res_180544;
                                                defunc_0_lifted_step_res_f_res_180539 = defunc_0_lifted_step_res_f_res_f_res_180545;
                                                defunc_0_lifted_step_res_f_res_180540 = defunc_0_lifted_step_res_f_res_f_res_180546;
                                                defunc_0_lifted_step_res_f_res_180541 = defunc_0_lifted_step_res_f_res_f_res_180547;
                                            }
                                            defunc_0_lifted_step_res_180531 = defunc_0_lifted_step_res_f_res_180538;
                                            defunc_0_lifted_step_res_180532 = defunc_0_lifted_step_res_f_res_180539;
                                            defunc_0_lifted_step_res_180533 = defunc_0_lifted_step_res_f_res_180540;
                                            defunc_0_lifted_step_res_180534 = defunc_0_lifted_step_res_f_res_180541;
                                        }
                                        
                                        int64_t loopres_180617;
                                        int64_t loopres_180618;
                                        int64_t loopres_180619;
                                        int64_t loopres_180620;
                                        int64_t loopres_180621;
                                        
                                        if (futrts_lifted_normalizze_9100(ctx, &loopres_180617, &loopres_180618, &loopres_180619, &loopres_180620, &loopres_180621, defunc_0_lifted_step_res_180531, ss_180525, defunc_0_lifted_step_res_180532, defunc_0_lifted_step_res_180533, defunc_0_lifted_step_res_180534) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_180622 = slt64((int64_t) 0, loopres_180621);
                                        bool loop_while_tmp_185896 = loop_cond_180622;
                                        int64_t ss_tmp_185897 = loopres_180617;
                                        int64_t ss_tmp_185898 = loopres_180618;
                                        int64_t tt_tmp_185899 = loopres_180619;
                                        int64_t tt_tmp_185900 = loopres_180620;
                                        int64_t count_tmp_185901 = loopres_180621;
                                        
                                        loop_while_180523 = loop_while_tmp_185896;
                                        ss_180524 = ss_tmp_185897;
                                        ss_180525 = ss_tmp_185898;
                                        tt_180526 = tt_tmp_185899;
                                        tt_180527 = tt_tmp_185900;
                                        count_180528 = count_tmp_185901;
                                    }
                                    defunc_0_split_count_res_180517 = loop_while_180523;
                                    defunc_0_split_count_res_180518 = ss_180524;
                                    defunc_0_split_count_res_180519 = ss_180525;
                                    defunc_0_split_count_res_180520 = tt_180526;
                                    defunc_0_split_count_res_180521 = tt_180527;
                                    defunc_0_split_count_res_180522 = count_180528;
                                    ((int64_t *) mem_184503)[i_184086] = defunc_0_split_count_res_180518;
                                    ((int64_t *) mem_184505)[i_184086] = defunc_0_split_count_res_180520;
                                }
                                if (mem_184519_cached_sizze_186168 < flat_dim_180359) {
                                    err = lexical_realloc(ctx, &mem_184519, &mem_184519_cached_sizze_186168, flat_dim_180359);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184522_cached_sizze_186169 < bytes_184521) {
                                    err = lexical_realloc(ctx, &mem_184522, &mem_184522_cached_sizze_186169, bytes_184521);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184525_cached_sizze_186170 < bytes_184524) {
                                    err = lexical_realloc(ctx, &mem_184525, &mem_184525_cached_sizze_186170, bytes_184524);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_184095 = 0; i_184095 < num_blocks_180356; i_184095++) {
                                    bool y_180629 = slt64(i_184095, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357);
                                    bool index_certs_180631;
                                    
                                    if (!y_180629) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_184095, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:366:63-73\n   #9  ftsort.fut:359:1-366:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_180632 = ((int64_t *) mem_184503)[i_184095];
                                    int64_t defunc_0_f_res_180633 = ((int64_t *) mem_184505)[i_184095];
                                    int64_t tmp_180634 = add64((int64_t) 1, i_184095);
                                    bool x_180635 = sle64((int64_t) 0, tmp_180634);
                                    bool y_180636 = slt64(tmp_180634, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357);
                                    bool bounds_check_180637 = x_180635 && y_180636;
                                    bool index_certs_180638;
                                    
                                    if (!bounds_check_180637) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180634, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:366:63-73\n   #9  ftsort.fut:359:1-366:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_180639 = ((int64_t *) mem_184503)[tmp_180634];
                                    int64_t defunc_0_f_res_180640 = ((int64_t *) mem_184505)[tmp_180634];
                                    int64_t merge_sequential_arg2_180641 = add64(stride_180335, defunc_0_f_res_180633);
                                    int64_t merge_sequential_arg2_180642 = add64(stride_180335, defunc_0_f_res_180640);
                                    int64_t j_m_i_180643 = sub64(merge_sequential_arg2_180642, merge_sequential_arg2_180641);
                                    bool empty_slice_180644 = j_m_i_180643 == (int64_t) 0;
                                    int64_t m_180645 = sub64(j_m_i_180643, (int64_t) 1);
                                    int64_t i_p_m_t_s_180646 = add64(merge_sequential_arg2_180641, m_180645);
                                    bool zzero_leq_i_p_m_t_s_180647 = sle64((int64_t) 0, i_p_m_t_s_180646);
                                    bool i_p_m_t_s_leq_w_180648 = slt64(i_p_m_t_s_180646, next_stride_180336);
                                    bool zzero_lte_i_180649 = sle64((int64_t) 0, merge_sequential_arg2_180641);
                                    bool i_lte_j_180650 = sle64(merge_sequential_arg2_180641, merge_sequential_arg2_180642);
                                    bool y_180651 = i_p_m_t_s_leq_w_180648 && zzero_lte_i_180649;
                                    bool y_180652 = zzero_leq_i_p_m_t_s_180647 && y_180651;
                                    bool forwards_ok_180653 = i_lte_j_180650 && y_180652;
                                    bool ok_or_empty_180654 = empty_slice_180644 || forwards_ok_180653;
                                    bool index_certs_180655;
                                    
                                    if (!ok_or_empty_180654) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_180641, ":", (long long) merge_sequential_arg2_180642, "] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:366:63-73\n   #9  ftsort.fut:359:1-366:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_180656 = sub64(defunc_0_f_res_180639, defunc_0_f_res_180632);
                                    bool empty_slice_180657 = j_m_i_180656 == (int64_t) 0;
                                    int64_t m_180658 = sub64(j_m_i_180656, (int64_t) 1);
                                    int64_t i_p_m_t_s_180659 = add64(defunc_0_f_res_180632, m_180658);
                                    bool zzero_leq_i_p_m_t_s_180660 = sle64((int64_t) 0, i_p_m_t_s_180659);
                                    bool i_p_m_t_s_leq_w_180661 = slt64(i_p_m_t_s_180659, next_stride_180336);
                                    bool zzero_lte_i_180662 = sle64((int64_t) 0, defunc_0_f_res_180632);
                                    bool i_lte_j_180663 = sle64(defunc_0_f_res_180632, defunc_0_f_res_180639);
                                    bool y_180664 = i_p_m_t_s_leq_w_180661 && zzero_lte_i_180662;
                                    bool y_180665 = zzero_leq_i_p_m_t_s_180660 && y_180664;
                                    bool forwards_ok_180666 = i_lte_j_180663 && y_180665;
                                    bool ok_or_empty_180667 = empty_slice_180657 || forwards_ok_180666;
                                    bool index_certs_180668;
                                    
                                    if (!ok_or_empty_180667) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_180632, ":", (long long) defunc_0_f_res_180639, "] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:366:63-73\n   #9  ftsort.fut:359:1-366:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_180669 = slt64((int64_t) 0, j_m_i_180656);
                                    int8_t dummy_180670;
                                    int64_t dummy_180671;
                                    int32_t dummy_180672;
                                    
                                    if (cond_180669) {
                                        bool index_certs_183665;
                                        
                                        if (!cond_180669) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_180656, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:366:63-73\n   #11 ftsort.fut:359:1-366:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183666 = start_180409 + defunc_0_f_res_180632;
                                        int8_t head_res_183667 = ((int8_t *) mem_param_184475.mem)[slice_183666];
                                        int64_t head_res_183668 = ((int64_t *) mem_param_184478.mem)[slice_183666];
                                        int32_t head_res_183669 = ((int32_t *) mem_param_184481.mem)[slice_183666];
                                        
                                        dummy_180670 = head_res_183667;
                                        dummy_180671 = head_res_183668;
                                        dummy_180672 = head_res_183669;
                                    } else {
                                        bool y_180678 = slt64((int64_t) 0, j_m_i_180643);
                                        bool index_certs_180679;
                                        
                                        if (!y_180678) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_180643, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:366:63-73\n   #11 ftsort.fut:359:1-366:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180680 = start_180409 + merge_sequential_arg2_180641;
                                        int8_t head_res_180681 = ((int8_t *) mem_param_184475.mem)[slice_180680];
                                        int64_t head_res_180682 = ((int64_t *) mem_param_184478.mem)[slice_180680];
                                        int32_t head_res_180683 = ((int32_t *) mem_param_184481.mem)[slice_180680];
                                        
                                        dummy_180670 = head_res_180681;
                                        dummy_180671 = head_res_180682;
                                        dummy_180672 = head_res_180683;
                                    }
                                    for (int64_t nest_i_185905 = 0; nest_i_185905 < merge_block_sizze_180173; nest_i_185905++) {
                                        ((int8_t *) mem_184519)[i_184095 * merge_block_sizze_180173 + nest_i_185905] = dummy_180670;
                                    }
                                    for (int64_t nest_i_185906 = 0; nest_i_185906 < merge_block_sizze_180173; nest_i_185906++) {
                                        ((int64_t *) mem_184522)[i_184095 * merge_block_sizze_180173 + nest_i_185906] = dummy_180671;
                                    }
                                    for (int64_t nest_i_185907 = 0; nest_i_185907 < merge_block_sizze_180173; nest_i_185907++) {
                                        ((int32_t *) mem_184525)[i_184095 * merge_block_sizze_180173 + nest_i_185907] = dummy_180672;
                                    }
                                    
                                    int64_t data_180687;
                                    int64_t i_180692 = (int64_t) 0;
                                    
                                    for (int64_t k_180691 = 0; k_180691 < merge_block_sizze_180173; k_180691++) {
                                        int64_t j_180696 = sub64(k_180691, i_180692);
                                        bool cond_180697 = j_180696 == j_m_i_180643;
                                        bool cond_180698;
                                        
                                        if (cond_180697) {
                                            cond_180698 = 1;
                                        } else {
                                            bool cond_180699 = slt64(i_180692, j_m_i_180656);
                                            bool cond_f_res_180700;
                                            
                                            if (cond_180699) {
                                                bool x_183670 = sle64((int64_t) 0, j_180696);
                                                bool y_183671 = slt64(j_180696, j_m_i_180643);
                                                bool bounds_check_183672 = x_183670 && y_183671;
                                                bool index_certs_183673;
                                                
                                                if (!bounds_check_183672) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180696, "] out of bounds for array of shape [", (long long) j_m_i_180643, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:366:63-73\n   #10 ftsort.fut:359:1-366:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_183679 = sle64((int64_t) 0, i_180692);
                                                bool bounds_check_183680 = cond_180699 && x_183679;
                                                bool index_certs_183681;
                                                
                                                if (!bounds_check_183680) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180692, "] out of bounds for array of shape [", (long long) j_m_i_180656, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:366:63-73\n   #10 ftsort.fut:359:1-366:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_183674 = merge_sequential_arg2_180641 + j_180696;
                                                int64_t slice_183675 = start_180409 + slice_183674;
                                                int8_t leq_arg1_183676 = ((int8_t *) mem_param_184475.mem)[slice_183675];
                                                int64_t leq_arg1_183677 = ((int64_t *) mem_param_184478.mem)[slice_183675];
                                                int32_t leq_arg1_183678 = ((int32_t *) mem_param_184481.mem)[slice_183675];
                                                int64_t slice_183682 = defunc_0_f_res_180632 + i_180692;
                                                int64_t slice_183683 = start_180409 + slice_183682;
                                                int8_t leq_arg0_183684 = ((int8_t *) mem_param_184475.mem)[slice_183683];
                                                int64_t leq_arg0_183685 = ((int64_t *) mem_param_184478.mem)[slice_183683];
                                                int32_t leq_arg0_183686 = ((int32_t *) mem_param_184481.mem)[slice_183683];
                                                bool cond_183687 = leq_arg0_183684 == leq_arg1_183676;
                                                bool defunc_0_leq_res_t_res_183688 = sle64(leq_arg0_183685, leq_arg1_183677);
                                                bool defunc_0_leq_res_183689 = sle32(leq_arg0_183686, leq_arg1_183678);
                                                bool x_183690 = cond_183687 && defunc_0_leq_res_t_res_183688;
                                                bool x_183691 = !cond_183687;
                                                bool y_183692 = defunc_0_leq_res_183689 && x_183691;
                                                bool defunc_0_leq_res_183693 = x_183690 || y_183692;
                                                
                                                cond_f_res_180700 = defunc_0_leq_res_183693;
                                            } else {
                                                cond_f_res_180700 = 0;
                                            }
                                            cond_180698 = cond_f_res_180700;
                                        }
                                        
                                        int64_t loopres_180725;
                                        int8_t loopres_180726;
                                        int64_t loopres_180727;
                                        int32_t loopres_180728;
                                        
                                        if (cond_180698) {
                                            bool x_183695 = sle64((int64_t) 0, i_180692);
                                            bool y_183696 = slt64(i_180692, j_m_i_180656);
                                            bool bounds_check_183697 = x_183695 && y_183696;
                                            bool index_certs_183698;
                                            
                                            if (!bounds_check_183697) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180692, "] out of bounds for array of shape [", (long long) j_m_i_180656, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:366:63-73\n   #10 ftsort.fut:359:1-366:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_183694 = add64((int64_t) 1, i_180692);
                                            int64_t slice_183699 = defunc_0_f_res_180632 + i_180692;
                                            int64_t slice_183700 = start_180409 + slice_183699;
                                            int8_t tmp_183701 = ((int8_t *) mem_param_184475.mem)[slice_183700];
                                            int64_t tmp_183702 = ((int64_t *) mem_param_184478.mem)[slice_183700];
                                            int32_t tmp_183703 = ((int32_t *) mem_param_184481.mem)[slice_183700];
                                            
                                            loopres_180725 = tmp_183694;
                                            loopres_180726 = tmp_183701;
                                            loopres_180727 = tmp_183702;
                                            loopres_180728 = tmp_183703;
                                        } else {
                                            bool x_180739 = sle64((int64_t) 0, j_180696);
                                            bool y_180740 = slt64(j_180696, j_m_i_180643);
                                            bool bounds_check_180741 = x_180739 && y_180740;
                                            bool index_certs_180742;
                                            
                                            if (!bounds_check_180741) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180696, "] out of bounds for array of shape [", (long long) j_m_i_180643, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:366:63-73\n   #10 ftsort.fut:359:1-366:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180743 = merge_sequential_arg2_180641 + j_180696;
                                            int64_t slice_180744 = start_180409 + slice_180743;
                                            int8_t tmp_180745 = ((int8_t *) mem_param_184475.mem)[slice_180744];
                                            int64_t tmp_180746 = ((int64_t *) mem_param_184478.mem)[slice_180744];
                                            int32_t tmp_180747 = ((int32_t *) mem_param_184481.mem)[slice_180744];
                                            
                                            loopres_180725 = i_180692;
                                            loopres_180726 = tmp_180745;
                                            loopres_180727 = tmp_180746;
                                            loopres_180728 = tmp_180747;
                                        }
                                        ((int8_t *) mem_184519)[i_184095 * merge_block_sizze_180173 + k_180691] = loopres_180726;
                                        ((int64_t *) mem_184522)[i_184095 * merge_block_sizze_180173 + k_180691] = loopres_180727;
                                        ((int32_t *) mem_184525)[i_184095 * merge_block_sizze_180173 + k_180691] = loopres_180728;
                                        
                                        int64_t i_tmp_185908 = loopres_180725;
                                        
                                        i_180692 = i_tmp_185908;
                                    }
                                    data_180687 = i_180692;
                                }
                                if (memblock_alloc(ctx, &mem_184574, flat_dim_180359, "mem_184574")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_184574.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (uint8_t *) mem_184519, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (int64_t []) {num_blocks_180356, merge_block_sizze_180173});
                                if (memblock_alloc(ctx, &mem_184578, bytes_184521, "mem_184578")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_184578.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (uint64_t *) mem_184522, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (int64_t []) {num_blocks_180356, merge_block_sizze_180173});
                                if (memblock_alloc(ctx, &mem_184582, bytes_184524, "mem_184582")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_184582.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (uint32_t *) mem_184525, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (int64_t []) {num_blocks_180356, merge_block_sizze_180173});
                                if (memblock_set(ctx, &ext_mem_184615, &mem_184574, "mem_184574") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184612, &mem_184578, "mem_184578") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184609, &mem_184582, "mem_184582") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_184483, i_184105 * next_stride_180336, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_184615.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_180336});
                            if (memblock_unref(ctx, &ext_mem_184615, "ext_mem_184615") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184486, i_184105 * next_stride_180336, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184612.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_180336});
                            if (memblock_unref(ctx, &ext_mem_184612, "ext_mem_184612") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_184489, i_184105 * next_stride_180336, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_184609.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_180336});
                            if (memblock_unref(ctx, &ext_mem_184609, "ext_mem_184609") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_184629, bytes_184482, "mem_184629")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_184629.mem, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (uint8_t *) mem_184483, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (int64_t []) {num_merges_180340, next_stride_180336});
                        if (memblock_alloc(ctx, &mem_184633, bytes_184485, "mem_184633")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_184633.mem, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (uint64_t *) mem_184486, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (int64_t []) {num_merges_180340, next_stride_180336});
                        if (memblock_alloc(ctx, &mem_184637, bytes_184488, "mem_184637")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_184637.mem, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (uint32_t *) mem_184489, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (int64_t []) {num_merges_180340, next_stride_180336});
                        
                        bool loop_cond_180761 = slt64(next_stride_180336, flat_dim_180168);
                        
                        if (memblock_set(ctx, &mem_param_tmp_185875, &mem_184629, "mem_184629") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_185876, &mem_184633, "mem_184633") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_185877, &mem_184637, "mem_184637") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_185878 = bytes_184482;
                        bool loop_while_tmp_185879 = loop_cond_180761;
                        int64_t stride_tmp_185883 = next_stride_180336;
                        
                        if (memblock_set(ctx, &mem_param_184475, &mem_param_tmp_185875, "mem_param_tmp_185875") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_184478, &mem_param_tmp_185876, "mem_param_tmp_185876") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_184481, &mem_param_tmp_185877, "mem_param_tmp_185877") != 0)
                            return 1;
                        loop_dz2084Uz2082U_180330 = loop_dz2084Uz2082U_tmp_185878;
                        loop_while_180331 = loop_while_tmp_185879;
                        stride_180335 = stride_tmp_185883;
                    }
                    if (memblock_set(ctx, &ext_mem_184647, &mem_param_184475, "mem_param_184475") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184646, &mem_param_184478, "mem_param_184478") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184645, &mem_param_184481, "mem_param_184481") != 0)
                        return 1;
                    data_180324 = loop_dz2084Uz2082U_180330;
                    data_180325 = loop_while_180331;
                    data_180329 = stride_180335;
                    if (memblock_unref(ctx, &mem_184463, "mem_184463") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_184467, "mem_184467") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_184471, "mem_184471") != 0)
                        return 1;
                    
                    bool empty_slice_180762 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_180763 = sle64((int64_t) 0, zs_lhs_180152);
                    bool i_p_m_t_s_leq_w_180764 = slt64(zs_lhs_180152, data_180324);
                    bool y_180765 = zzero_leq_i_p_m_t_s_180763 && i_p_m_t_s_leq_w_180764;
                    bool ok_or_empty_180766 = empty_slice_180762 || y_180765;
                    bool index_certs_180767;
                    
                    if (!ok_or_empty_180766) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "] out of bounds for array of shape [", (long long) data_180324, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_184656, &ext_mem_184647, "ext_mem_184647") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184653, &ext_mem_184646, "ext_mem_184646") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184650, &ext_mem_184645, "ext_mem_184645") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_184357, "mem_184357") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_184359, "mem_184359") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_184361, "mem_184361") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_184337.mem, ind_bottom_180105, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_184656.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107});
                if (memblock_unref(ctx, &ext_mem_184656, "ext_mem_184656") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184339.mem, ind_bottom_180105, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184653.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107});
                if (memblock_unref(ctx, &ext_mem_184653, "ext_mem_184653") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_184341.mem, ind_bottom_180105, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_184650.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107});
                if (memblock_unref(ctx, &ext_mem_184650, "ext_mem_184650") != 0)
                    return 1;
                
                bool loop_cond_180803 = slt64(ubs_180095, threads_132668);
                bool loop_while_tmp_185842 = loop_cond_180803;
                int64_t p_tmp_185843 = ubs_180095;
                
                loop_while_180084 = loop_while_tmp_185842;
                p_180085 = p_tmp_185843;
            }
            defunc_0_mergeFunc_seq_res_180079 = loop_while_180084;
            defunc_0_mergeFunc_seq_res_180080 = p_180085;
            
            int64_t index_concat_branch_181620;
            
            if (index_concat_cmp_181616) {
                int64_t index_concat_183718 = ((int64_t *) mem_184322)[index_concat_i_181617];
                
                index_concat_branch_181620 = index_concat_183718;
            } else {
                index_concat_branch_181620 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_181614;
            
            if (index_concat_cmp_181616) {
                int64_t index_concat_183719 = ((int64_t *) mem_184324)[index_concat_i_181617];
                
                index_concat_branch_181614 = index_concat_183719;
            } else {
                index_concat_branch_181614 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_185075, &mem_184337, "mem_184337") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_185072, &mem_184339, "mem_184339") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_185069, &mem_184341, "mem_184341") != 0)
                return 1;
            loopres_178852 = index_concat_branch_181620;
            loopres_178853 = index_concat_branch_181614;
        }
        for (int64_t i_184111 = 0; i_184111 < window_sizze_132667; i_184111++) {
            int8_t eta_p_180811 = ((int8_t *) ext_mem_185075.mem)[i_184111];
            int64_t eta_p_180812 = ((int64_t *) ext_mem_185072.mem)[i_184111];
            bool cond_180813 = eta_p_180811 == (int8_t) 0;
            int64_t tmp_180814;
            
            if (cond_180813) {
                int64_t tmp_t_res_183722 = add64(p_178824, eta_p_180812);
                
                tmp_180814 = tmp_t_res_183722;
            } else {
                int64_t tmp_f_res_180816 = add64(p_178825, eta_p_180812);
                
                tmp_180814 = tmp_f_res_180816;
            }
            ((int64_t *) mem_184309.mem)[ind_bottom_178828 + i_184111] = tmp_180814;
        }
        if (memblock_unref(ctx, &ext_mem_185072, "ext_mem_185072") != 0)
            return 1;
        
        int64_t next_lbs_180817 = add64(p_178824, loopres_178852);
        int64_t next_lbs_180818 = add64(p_178825, loopres_178853);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_184307.mem, ind_bottom_178828, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_185075.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_132667});
        if (memblock_unref(ctx, &ext_mem_185075, "ext_mem_185075") != 0)
            return 1;
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_184311.mem, ind_bottom_178828, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_185069.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_132667});
        if (memblock_unref(ctx, &ext_mem_185069, "ext_mem_185069") != 0)
            return 1;
        
        bool cond_180832 = slt64(next_lbs_180817, zl_rhs_178807);
        bool loop_cond_t_res_180833 = slt64(next_lbs_180818, zl_rhs_178809);
        bool x_180834 = cond_180832 && loop_cond_t_res_180833;
        bool loop_while_tmp_185726 = x_180834;
        int64_t p_tmp_185730 = next_lbs_180817;
        int64_t p_tmp_185731 = next_lbs_180818;
        
        loop_while_178820 = loop_while_tmp_185726;
        p_178824 = p_tmp_185730;
        p_178825 = p_tmp_185731;
    }
    defunc_0_merge_pipeline_res_178814 = loop_while_178820;
    defunc_0_merge_pipeline_res_178818 = p_178824;
    defunc_0_merge_pipeline_res_178819 = p_178825;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835 = sub64(nb_132666, defunc_0_merge_pipeline_res_178819);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836 = sub64(na_132665, defunc_0_merge_pipeline_res_178818);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
    bool empty_slice_180838 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836 == (int64_t) 0;
    int64_t m_180839 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, (int64_t) 1);
    int64_t i_p_m_t_s_180840 = add64(defunc_0_merge_pipeline_res_178818, m_180839);
    bool zzero_leq_i_p_m_t_s_180841 = sle64((int64_t) 0, i_p_m_t_s_180840);
    bool i_p_m_t_s_leq_w_180842 = slt64(i_p_m_t_s_180840, na_132665);
    bool zzero_lte_i_180843 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_178818);
    bool i_lte_j_180844 = sle64(defunc_0_merge_pipeline_res_178818, na_132665);
    bool y_180845 = i_p_m_t_s_leq_w_180842 && zzero_lte_i_180843;
    bool y_180846 = zzero_leq_i_p_m_t_s_180841 && y_180845;
    bool forwards_ok_180847 = i_lte_j_180844 && y_180846;
    bool ok_or_empty_180848 = empty_slice_180838 || forwards_ok_180847;
    bool index_certs_180849;
    
    if (!ok_or_empty_180848) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_178818, ":", (long long) na_132665, "] out of bounds for array of shape [", (long long) na_132665, "].", "-> #0  ftsort.fut:327:14-34\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_180853 = slt64(na_132665, defunc_0_merge_pipeline_res_178818);
    bool valid_180854 = !bounds_invalid_upwards_180853;
    bool range_valid_c_180855;
    
    if (!valid_180854) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_178818, "..<", (long long) na_132665, " is invalid.", "-> #0  ftsort.fut:331:9-25\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_180859 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835 == (int64_t) 0;
    int64_t m_180860 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835, (int64_t) 1);
    int64_t i_p_m_t_s_180861 = add64(defunc_0_merge_pipeline_res_178819, m_180860);
    bool zzero_leq_i_p_m_t_s_180862 = sle64((int64_t) 0, i_p_m_t_s_180861);
    bool i_p_m_t_s_leq_w_180863 = slt64(i_p_m_t_s_180861, nb_132666);
    bool zzero_lte_i_180864 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_178819);
    bool i_lte_j_180865 = sle64(defunc_0_merge_pipeline_res_178819, nb_132666);
    bool y_180866 = i_p_m_t_s_leq_w_180863 && zzero_lte_i_180864;
    bool y_180867 = zzero_leq_i_p_m_t_s_180862 && y_180866;
    bool forwards_ok_180868 = i_lte_j_180865 && y_180867;
    bool ok_or_empty_180869 = empty_slice_180859 || forwards_ok_180868;
    bool index_certs_180870;
    
    if (!ok_or_empty_180869) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_178819, ":", (long long) nb_132666, "] out of bounds for array of shape [", (long long) nb_132666, "].", "-> #0  ftsort.fut:333:14-34\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_180874 = slt64(nb_132666, defunc_0_merge_pipeline_res_178819);
    bool valid_180875 = !bounds_invalid_upwards_180874;
    bool range_valid_c_180876;
    
    if (!valid_180875) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_178819, "..<", (long long) nb_132666, " is invalid.", "-> #0  ftsort.fut:337:9-25\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_185100 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837;
    int64_t bytes_185102 = (int64_t) 4 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837;
    bool cond_180883 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, (int64_t) 1);
    int64_t zs_lhs_180884 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, (int64_t) 1);
    int64_t zp_rhs_180885 = sdiv_safe64(zs_lhs_180884, (int64_t) 20);
    int64_t min_num_blocks_180886 = add64((int64_t) 1, zp_rhs_180885);
    bool loop_cond_180887 = slt64((int64_t) 1, min_num_blocks_180886);
    bool smallest_pow_2_geq_than_res_180888;
    int64_t smallest_pow_2_geq_than_res_180889;
    bool loop_while_180890;
    int64_t x_180891;
    
    loop_while_180890 = loop_cond_180887;
    x_180891 = (int64_t) 1;
    while (loop_while_180890) {
        int64_t loopres_180892 = mul64((int64_t) 2, x_180891);
        bool loop_cond_180893 = slt64(loopres_180892, min_num_blocks_180886);
        bool loop_while_tmp_185913 = loop_cond_180893;
        int64_t x_tmp_185914 = loopres_180892;
        
        loop_while_180890 = loop_while_tmp_185913;
        x_180891 = x_tmp_185914;
    }
    smallest_pow_2_geq_than_res_180888 = loop_while_180890;
    smallest_pow_2_geq_than_res_180889 = x_180891;
    
    bool zzero_180894 = smallest_pow_2_geq_than_res_180889 == (int64_t) 0;
    bool nonzzero_180895 = !zzero_180894;
    bool protect_assert_disj_180896 = cond_180883 || nonzzero_180895;
    bool nonzzero_cert_180897;
    
    if (!protect_assert_disj_180896) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_180898 = sdiv_safe64(zs_lhs_180884, smallest_pow_2_geq_than_res_180889);
    int64_t block_sizze_180899 = add64((int64_t) 1, zp_rhs_180898);
    bool y_180906 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837);
    bool protect_assert_disj_185428 = cond_180883 || y_180906;
    bool index_certs_180907;
    
    if (!protect_assert_disj_185428) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_180933 = slt64(smallest_pow_2_geq_than_res_180889, (int64_t) 0);
    bool valid_180934 = !bounds_invalid_upwards_180933;
    bool protect_assert_disj_185438 = cond_180883 || valid_180934;
    bool range_valid_c_180935;
    
    if (!protect_assert_disj_185438) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_180889, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_180937 = slt64(block_sizze_180899, (int64_t) 0);
    bool valid_180938 = !bounds_invalid_upwards_180937;
    bool protect_assert_disj_185440 = cond_180883 || valid_180938;
    bool range_valid_c_180939;
    
    if (!protect_assert_disj_185440) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_180899, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_180941 = sle64(block_sizze_180899, (int64_t) 1);
    int64_t tmp_180942 = sub64(block_sizze_180899, (int64_t) 2);
    bool bounds_invalid_upwards_180943 = slt64(tmp_180942, (int64_t) 0);
    bool valid_180945 = !bounds_invalid_upwards_180943;
    bool protect_assert_disj_180946 = cond_180941 || valid_180945;
    bool protect_assert_disj_185442 = cond_180883 || protect_assert_disj_180946;
    bool range_valid_c_180947;
    
    if (!protect_assert_disj_185442) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_180942, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_181508 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_181510 = sle64((int64_t) 0, zs_lhs_180884);
    bool i_p_m_t_s_leq_w_181511 = slt64(zs_lhs_180884, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837);
    bool y_181512 = zzero_leq_i_p_m_t_s_181510 && i_p_m_t_s_leq_w_181511;
    bool ok_or_empty_181513 = empty_slice_181508 || y_181512;
    bool index_certs_181514;
    
    if (!ok_or_empty_181513) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "].", "-> #0  ftsort.fut:346:78-101\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_181515 = add64(defunc_0_merge_pipeline_res_178818, defunc_0_merge_pipeline_res_178819);
    int64_t j_m_i_181516 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, final_buffer_181515);
    bool empty_slice_181517 = j_m_i_181516 == (int64_t) 0;
    int64_t m_181518 = sub64(j_m_i_181516, (int64_t) 1);
    int64_t i_p_m_t_s_181519 = add64(final_buffer_181515, m_181518);
    bool zzero_leq_i_p_m_t_s_181520 = sle64((int64_t) 0, i_p_m_t_s_181519);
    bool i_p_m_t_s_leq_w_181521 = slt64(i_p_m_t_s_181519, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803);
    bool zzero_lte_i_181522 = sle64((int64_t) 0, final_buffer_181515);
    bool i_lte_j_181523 = sle64(final_buffer_181515, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803);
    bool y_181524 = i_p_m_t_s_leq_w_181521 && zzero_lte_i_181522;
    bool y_181525 = zzero_leq_i_p_m_t_s_181520 && y_181524;
    bool forwards_ok_181526 = i_lte_j_181523 && y_181525;
    bool ok_or_empty_181527 = empty_slice_181517 || forwards_ok_181526;
    bool index_certs_181528;
    
    if (!ok_or_empty_181527) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_181515, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, "].", "-> #0  ftsort.fut:346:22-101\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_181529 = j_m_i_181516 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837;
    bool empty_or_match_cert_181530;
    
    if (!dim_match_181529) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_181516, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "]", " of value.", "-> #0  ftsort.fut:346:22-101\n   #1  ftsort.fut:366:63-73\n   #2  ftsort.fut:359:1-366:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_185099, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "mem_185099")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_185915 = 0; nest_i_185915 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836; nest_i_185915++) {
        ((int8_t *) mem_185099.mem)[nest_i_185915] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_185101, bytes_185100, "mem_185101")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_185916 = 0; i_185916 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836; i_185916++) {
        int64_t x_185917 = defunc_0_merge_pipeline_res_178818 + i_185916 * (int64_t) 1;
        
        ((int64_t *) mem_185101.mem)[i_185916] = x_185917;
    }
    for (int64_t nest_i_185918 = 0; nest_i_185918 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835; nest_i_185918++) {
        ((int8_t *) mem_185099.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836 + nest_i_185918] = (int8_t) 1;
    }
    for (int64_t i_185919 = 0; i_185919 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835; i_185919++) {
        int64_t x_185920 = defunc_0_merge_pipeline_res_178819 + i_185919 * (int64_t) 1;
        
        ((int64_t *) mem_185101.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836 + i_185919] = x_185920;
    }
    
    int64_t tmp_offs_185921 = (int64_t) 0;
    
    if (!(tmp_offs_185921 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_185099.mem, tmp_offs_185921, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_185099.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836});
    }
    tmp_offs_185921 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836;
    if (!(tmp_offs_185921 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_185099.mem, tmp_offs_185921, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_185099.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835});
    }
    tmp_offs_185921 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835;
    
    int64_t tmp_offs_185922 = (int64_t) 0;
    
    if (!(tmp_offs_185922 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_185101.mem, tmp_offs_185922, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_185101.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836});
    }
    tmp_offs_185922 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836;
    if (!(tmp_offs_185922 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_185101.mem, tmp_offs_185922, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_185101.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835});
    }
    tmp_offs_185922 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835;
    if (memblock_alloc(ctx, &mem_185103, bytes_185102, "mem_185103")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_185923 = (int64_t) 0;
    
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_185103.mem, tmp_offs_185923, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_184305.mem, defunc_0_merge_pipeline_res_178818, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836});
    tmp_offs_185923 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_185103.mem, tmp_offs_185923, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_184306.mem, defunc_0_merge_pipeline_res_178819, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835});
    tmp_offs_185923 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835;
    
    int64_t flat_dim_180900 = smallest_pow_2_geq_than_res_180889 * block_sizze_180899;
    bool x_185423 = !cond_180883;
    int64_t greatest_divisor_leq_than_arg1_180904 = mul64((int64_t) 2, block_sizze_180899);
    int64_t merge_block_sizze_180905;
    
    if (x_185423) {
        int64_t x_185425;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_185425, (int64_t) 8, greatest_divisor_leq_than_arg1_180904) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_180905 = x_185425;
    } else {
        merge_block_sizze_180905 = (int64_t) 0;
    }
    
    bool index_concat_cmp_181580 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, (int64_t) 0);
    int8_t index_concat_branch_181584 = btoi_bool_i8(index_concat_cmp_181580);
    int64_t index_concat_i_183724 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
    int64_t index_primexp_183725 = add64(defunc_0_merge_pipeline_res_178819, index_concat_i_183724);
    int64_t index_concat_branch_181578;
    
    if (index_concat_cmp_181580) {
        index_concat_branch_181578 = index_primexp_183725;
    } else {
        index_concat_branch_181578 = defunc_0_merge_pipeline_res_178818;
    }
    
    bool x_185419 = !index_concat_cmp_181580;
    bool protect_cond_conj_185429 = x_185419 && x_185423;
    int32_t index_concat_181571;
    
    if (protect_cond_conj_185429) {
        int32_t x_185421 = ((int32_t *) a_list_mem_184305.mem)[defunc_0_merge_pipeline_res_178818];
        
        index_concat_181571 = x_185421;
    } else {
        index_concat_181571 = 0;
    }
    
    bool protect_cond_conj_185430 = index_concat_cmp_181580 && x_185423;
    int32_t index_concat_183728;
    
    if (protect_cond_conj_185430) {
        int32_t x_185417 = ((int32_t *) b_list_mem_184306.mem)[index_primexp_183725];
        
        index_concat_183728 = x_185417;
    } else {
        index_concat_183728 = 0;
    }
    
    int32_t index_concat_branch_181572;
    
    if (index_concat_cmp_181580) {
        index_concat_branch_181572 = index_concat_183728;
    } else {
        index_concat_branch_181572 = index_concat_181571;
    }
    
    int8_t defunc_0_reduce_res_183959;
    int64_t defunc_0_reduce_res_183960;
    int32_t defunc_0_reduce_res_183961;
    
    if (x_185423) {
        int8_t x_185431;
        int64_t x_185432;
        int32_t x_185433;
        int8_t redout_184113;
        int64_t redout_184114;
        int32_t redout_184115;
        
        redout_184113 = index_concat_branch_181584;
        redout_184114 = index_concat_branch_181578;
        redout_184115 = index_concat_branch_181572;
        for (int64_t i_184116 = 0; i_184116 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837; i_184116++) {
            bool index_concat_cmp_184187 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, i_184116);
            int8_t index_concat_branch_184191 = btoi_bool_i8(index_concat_cmp_184187);
            int64_t index_concat_branch_184185;
            
            if (index_concat_cmp_184187) {
                int64_t index_concat_i_184182 = sub64(i_184116, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
                int64_t index_primexp_184275 = add64(defunc_0_merge_pipeline_res_178819, index_concat_i_184182);
                
                index_concat_branch_184185 = index_primexp_184275;
            } else {
                int64_t index_primexp_184277 = add64(defunc_0_merge_pipeline_res_178818, i_184116);
                
                index_concat_branch_184185 = index_primexp_184277;
            }
            
            int32_t index_concat_branch_184179;
            
            if (index_concat_cmp_184187) {
                int64_t index_concat_i_184176 = sub64(i_184116, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
                int64_t slice_184272 = defunc_0_merge_pipeline_res_178819 + index_concat_i_184176;
                int32_t index_concat_184177 = ((int32_t *) b_list_mem_184306.mem)[slice_184272];
                
                index_concat_branch_184179 = index_concat_184177;
            } else {
                int64_t slice_184273 = defunc_0_merge_pipeline_res_178818 + i_184116;
                int32_t index_concat_184178 = ((int32_t *) a_list_mem_184305.mem)[slice_184273];
                
                index_concat_branch_184179 = index_concat_184178;
            }
            
            bool eq_x_y_184290 = redout_184113 == (int8_t) 1;
            bool eq_x_zz_184291 = redout_184113 == (int8_t) 0;
            bool p_and_eq_x_y_184292 = index_concat_cmp_184187 && eq_x_y_184290;
            bool not_p_184293 = !index_concat_cmp_184187;
            bool p_and_eq_x_y_184294 = eq_x_zz_184291 && not_p_184293;
            bool cond_180923 = p_and_eq_x_y_184292 || p_and_eq_x_y_184294;
            bool defunc_0_leq_res_t_res_180924 = sle64(redout_184114, index_concat_branch_184185);
            bool defunc_0_leq_res_180925 = sle32(redout_184115, index_concat_branch_184179);
            bool x_180926 = cond_180923 && defunc_0_leq_res_t_res_180924;
            bool x_180927 = !cond_180923;
            bool y_180928 = defunc_0_leq_res_180925 && x_180927;
            bool defunc_0_leq_res_180929 = x_180926 || y_180928;
            int8_t defunc_0_op_res_180930;
            
            if (defunc_0_leq_res_180929) {
                defunc_0_op_res_180930 = index_concat_branch_184191;
            } else {
                defunc_0_op_res_180930 = redout_184113;
            }
            
            int64_t defunc_0_op_res_180931;
            
            if (defunc_0_leq_res_180929) {
                defunc_0_op_res_180931 = index_concat_branch_184185;
            } else {
                defunc_0_op_res_180931 = redout_184114;
            }
            
            int32_t defunc_0_op_res_180932;
            
            if (defunc_0_leq_res_180929) {
                defunc_0_op_res_180932 = index_concat_branch_184179;
            } else {
                defunc_0_op_res_180932 = redout_184115;
            }
            
            int8_t redout_tmp_185924 = defunc_0_op_res_180930;
            int64_t redout_tmp_185925 = defunc_0_op_res_180931;
            int32_t redout_tmp_185926 = defunc_0_op_res_180932;
            
            redout_184113 = redout_tmp_185924;
            redout_184114 = redout_tmp_185925;
            redout_184115 = redout_tmp_185926;
        }
        x_185431 = redout_184113;
        x_185432 = redout_184114;
        x_185433 = redout_184115;
        defunc_0_reduce_res_183959 = x_185431;
        defunc_0_reduce_res_183960 = x_185432;
        defunc_0_reduce_res_183961 = x_185433;
    } else {
        defunc_0_reduce_res_183959 = (int8_t) 0;
        defunc_0_reduce_res_183960 = (int64_t) 0;
        defunc_0_reduce_res_183961 = 0;
    }
    
    int64_t distance_180944 = add64((int64_t) 1, tmp_180942);
    int64_t binop_x_185106 = (int64_t) 8 * smallest_pow_2_geq_than_res_180889;
    int64_t bytes_185107 = block_sizze_180899 * binop_x_185106;
    int64_t binop_x_185109 = (int64_t) 4 * smallest_pow_2_geq_than_res_180889;
    int64_t bytes_185110 = block_sizze_180899 * binop_x_185109;
    int64_t bytes_185125 = (int64_t) 8 * block_sizze_180899;
    int64_t bytes_185127 = (int64_t) 4 * block_sizze_180899;
    bool loop_cond_181053 = slt64(block_sizze_180899, flat_dim_180900);
    bool zzero_181054 = merge_block_sizze_180905 == (int64_t) 0;
    bool nonzzero_181055 = !zzero_181054;
    
    if (cond_180883) {
        if (memblock_set(ctx, &ext_mem_185398, &mem_185099, "mem_185099") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185395, &mem_185101, "mem_185101") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185392, &mem_185103, "mem_185103") != 0)
            return 1;
    } else {
        if (mem_185105_cached_sizze_186191 < flat_dim_180900) {
            err = lexical_realloc(ctx, &mem_185105, &mem_185105_cached_sizze_186191, flat_dim_180900);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185108_cached_sizze_186192 < bytes_185107) {
            err = lexical_realloc(ctx, &mem_185108, &mem_185108_cached_sizze_186192, bytes_185107);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185111_cached_sizze_186193 < bytes_185110) {
            err = lexical_realloc(ctx, &mem_185111, &mem_185111_cached_sizze_186193, bytes_185110);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185124_cached_sizze_186194 < block_sizze_180899) {
            err = lexical_realloc(ctx, &mem_185124, &mem_185124_cached_sizze_186194, block_sizze_180899);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185126_cached_sizze_186195 < bytes_185125) {
            err = lexical_realloc(ctx, &mem_185126, &mem_185126_cached_sizze_186195, bytes_185125);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185128_cached_sizze_186196 < bytes_185127) {
            err = lexical_realloc(ctx, &mem_185128, &mem_185128_cached_sizze_186196, bytes_185127);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_184133 = 0; i_184133 < smallest_pow_2_geq_than_res_180889; i_184133++) {
            int64_t zp_lhs_180952 = mul64(block_sizze_180899, i_184133);
            
            for (int64_t i_184123 = 0; i_184123 < block_sizze_180899; i_184123++) {
                int64_t k_180957 = add64(zp_lhs_180952, i_184123);
                bool cond_180958 = slt64(k_180957, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837);
                int8_t lifted_lambda_res_180959;
                int64_t lifted_lambda_res_180960;
                int32_t lifted_lambda_res_180961;
                
                if (cond_180958) {
                    bool x_183734 = sle64((int64_t) 0, k_180957);
                    bool bounds_check_183735 = cond_180958 && x_183734;
                    bool index_certs_183736;
                    
                    if (!bounds_check_183735) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_180957, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_183737 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, k_180957);
                    int8_t index_concat_branch_183738 = btoi_bool_i8(index_concat_cmp_183737);
                    int64_t index_concat_branch_183739;
                    
                    if (index_concat_cmp_183737) {
                        int64_t index_concat_i_183740 = sub64(k_180957, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
                        int64_t index_primexp_183741 = add64(defunc_0_merge_pipeline_res_178819, index_concat_i_183740);
                        
                        index_concat_branch_183739 = index_primexp_183741;
                    } else {
                        int64_t index_primexp_183742 = add64(defunc_0_merge_pipeline_res_178818, k_180957);
                        
                        index_concat_branch_183739 = index_primexp_183742;
                    }
                    
                    int32_t index_concat_branch_183743;
                    
                    if (index_concat_cmp_183737) {
                        int64_t index_concat_i_183744 = sub64(k_180957, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
                        int64_t slice_183745 = defunc_0_merge_pipeline_res_178819 + index_concat_i_183744;
                        int32_t index_concat_183746 = ((int32_t *) b_list_mem_184306.mem)[slice_183745];
                        
                        index_concat_branch_183743 = index_concat_183746;
                    } else {
                        int64_t slice_183747 = defunc_0_merge_pipeline_res_178818 + k_180957;
                        int32_t index_concat_183748 = ((int32_t *) a_list_mem_184305.mem)[slice_183747];
                        
                        index_concat_branch_183743 = index_concat_183748;
                    }
                    lifted_lambda_res_180959 = index_concat_branch_183738;
                    lifted_lambda_res_180960 = index_concat_branch_183739;
                    lifted_lambda_res_180961 = index_concat_branch_183743;
                } else {
                    lifted_lambda_res_180959 = defunc_0_reduce_res_183959;
                    lifted_lambda_res_180960 = defunc_0_reduce_res_183960;
                    lifted_lambda_res_180961 = defunc_0_reduce_res_183961;
                }
                ((int8_t *) mem_185124)[i_184123] = lifted_lambda_res_180959;
                ((int64_t *) mem_185126)[i_184123] = lifted_lambda_res_180960;
                ((int32_t *) mem_185128)[i_184123] = lifted_lambda_res_180961;
            }
            if (!cond_180941) {
                for (int64_t i_180974 = 0; i_180974 < distance_180944; i_180974++) {
                    int64_t gt_arg1_180978 = add64((int64_t) 1, i_180974);
                    bool x_180979 = sle64((int64_t) 0, gt_arg1_180978);
                    bool y_180980 = slt64(gt_arg1_180978, block_sizze_180899);
                    bool bounds_check_180981 = x_180979 && y_180980;
                    bool index_certs_180982;
                    
                    if (!bounds_check_180981) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_180978, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_180986 = slt64(i_180974, block_sizze_180899);
                    bool index_certs_180987;
                    
                    if (!y_180986) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180974, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_180983 = ((int8_t *) mem_185124)[gt_arg1_180978];
                    int64_t gt_arg1_180984 = ((int64_t *) mem_185126)[gt_arg1_180978];
                    int32_t gt_arg1_180985 = ((int32_t *) mem_185128)[gt_arg1_180978];
                    int8_t gt_arg0_180988 = ((int8_t *) mem_185124)[i_180974];
                    int64_t gt_arg0_180989 = ((int64_t *) mem_185126)[i_180974];
                    int32_t gt_arg0_180990 = ((int32_t *) mem_185128)[i_180974];
                    bool cond_180991 = gt_arg0_180988 == gt_arg1_180983;
                    bool defunc_0_leq_res_t_res_180992 = sle64(gt_arg0_180989, gt_arg1_180984);
                    bool defunc_0_leq_res_180993 = sle32(gt_arg0_180990, gt_arg1_180985);
                    bool x_180994 = cond_180991 && defunc_0_leq_res_t_res_180992;
                    bool x_180995 = !cond_180991;
                    bool y_180996 = defunc_0_leq_res_180993 && x_180995;
                    bool defunc_0_leq_res_180997 = x_180994 || y_180996;
                    bool defunc_0_lifted_gt_res_180998 = !defunc_0_leq_res_180997;
                    bool s_180999;
                    int64_t s_181003;
                    bool loop_while_181004;
                    int64_t j_181008;
                    
                    loop_while_181004 = defunc_0_lifted_gt_res_180998;
                    j_181008 = i_180974;
                    while (loop_while_181004) {
                        bool x_181009 = sle64((int64_t) 0, j_181008);
                        bool y_181010 = slt64(j_181008, block_sizze_180899);
                        bool bounds_check_181011 = x_181009 && y_181010;
                        bool index_certs_181012;
                        
                        if (!bounds_check_181011) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181008, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_181016 = add64((int64_t) 1, j_181008);
                        bool x_181017 = sle64((int64_t) 0, copy_arg0_181016);
                        bool y_181018 = slt64(copy_arg0_181016, block_sizze_180899);
                        bool bounds_check_181019 = x_181017 && y_181018;
                        bool index_certs_181020;
                        
                        if (!bounds_check_181019) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_181016, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_181013 = ((int8_t *) mem_185124)[j_181008];
                        int64_t copy_arg0_181014 = ((int64_t *) mem_185126)[j_181008];
                        int32_t copy_arg0_181015 = ((int32_t *) mem_185128)[j_181008];
                        int8_t copy_arg0_181021 = ((int8_t *) mem_185124)[copy_arg0_181016];
                        int64_t copy_arg0_181022 = ((int64_t *) mem_185126)[copy_arg0_181016];
                        int32_t copy_arg0_181023 = ((int32_t *) mem_185128)[copy_arg0_181016];
                        
                        ((int8_t *) mem_185124)[j_181008] = copy_arg0_181021;
                        ((int64_t *) mem_185126)[j_181008] = copy_arg0_181022;
                        ((int32_t *) mem_185128)[j_181008] = copy_arg0_181023;
                        ((int8_t *) mem_185124)[copy_arg0_181016] = copy_arg0_181013;
                        ((int64_t *) mem_185126)[copy_arg0_181016] = copy_arg0_181014;
                        ((int32_t *) mem_185128)[copy_arg0_181016] = copy_arg0_181015;
                        
                        int64_t tmp_181030 = sub64(j_181008, (int64_t) 1);
                        bool cond_181031 = sle64((int64_t) 0, tmp_181030);
                        bool loop_cond_181032;
                        
                        if (cond_181031) {
                            bool y_183752 = slt64(tmp_181030, block_sizze_180899);
                            bool bounds_check_183753 = cond_181031 && y_183752;
                            bool index_certs_183754;
                            
                            if (!bounds_check_183753) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_181030, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_183749 = ((int8_t *) mem_185124)[j_181008];
                            int64_t gt_arg1_183750 = ((int64_t *) mem_185126)[j_181008];
                            int32_t gt_arg1_183751 = ((int32_t *) mem_185128)[j_181008];
                            int8_t gt_arg0_183755 = ((int8_t *) mem_185124)[tmp_181030];
                            int64_t gt_arg0_183756 = ((int64_t *) mem_185126)[tmp_181030];
                            int32_t gt_arg0_183757 = ((int32_t *) mem_185128)[tmp_181030];
                            bool cond_183758 = gt_arg0_183755 == gt_arg1_183749;
                            bool defunc_0_leq_res_t_res_183759 = sle64(gt_arg0_183756, gt_arg1_183750);
                            bool defunc_0_leq_res_183760 = sle32(gt_arg0_183757, gt_arg1_183751);
                            bool x_183761 = cond_183758 && defunc_0_leq_res_t_res_183759;
                            bool x_183762 = !cond_183758;
                            bool y_183763 = defunc_0_leq_res_183760 && x_183762;
                            bool defunc_0_leq_res_183764 = x_183761 || y_183763;
                            bool defunc_0_lifted_gt_res_183765 = !defunc_0_leq_res_183764;
                            
                            loop_cond_181032 = defunc_0_lifted_gt_res_183765;
                        } else {
                            loop_cond_181032 = 0;
                        }
                        
                        bool loop_while_tmp_185936 = loop_cond_181032;
                        int64_t j_tmp_185940 = tmp_181030;
                        
                        loop_while_181004 = loop_while_tmp_185936;
                        j_181008 = j_tmp_185940;
                    }
                    s_180999 = loop_while_181004;
                    s_181003 = j_181008;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_185105, i_184133 * block_sizze_180899, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_185124, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180899});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_185108, i_184133 * block_sizze_180899, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_185126, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180899});
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_185111, i_184133 * block_sizze_180899, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_185128, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180899});
        }
        if (memblock_alloc(ctx, &mem_185205, flat_dim_180900, "mem_185205")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_185205.mem, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (uint8_t *) mem_185105, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180889, block_sizze_180899});
        if (memblock_alloc(ctx, &mem_185209, bytes_185107, "mem_185209")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_185209.mem, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (uint64_t *) mem_185108, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180889, block_sizze_180899});
        if (memblock_alloc(ctx, &mem_185213, bytes_185110, "mem_185213")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_185213.mem, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (uint32_t *) mem_185111, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180889, block_sizze_180899});
        
        int64_t data_181056;
        bool data_181057;
        int64_t data_181061;
        int64_t loop_dz2084Uz2082U_181062;
        bool loop_while_181063;
        int64_t stride_181067;
        
        if (memblock_set(ctx, &mem_param_185217, &mem_185205, "mem_185205") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_185220, &mem_185209, "mem_185209") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_185223, &mem_185213, "mem_185213") != 0)
            return 1;
        loop_dz2084Uz2082U_181062 = flat_dim_180900;
        loop_while_181063 = loop_cond_181053;
        stride_181067 = block_sizze_180899;
        while (loop_while_181063) {
            int64_t next_stride_181068 = mul64((int64_t) 2, stride_181067);
            bool zzero_181069 = next_stride_181068 == (int64_t) 0;
            bool nonzzero_181070 = !zzero_181069;
            bool nonzzero_cert_181071;
            
            if (!nonzzero_181070) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:366:63-73\n   #4  ftsort.fut:359:1-366:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_181072 = sdiv64(flat_dim_180900, next_stride_181068);
            bool bounds_invalid_upwards_181073 = slt64(num_merges_181072, (int64_t) 0);
            bool valid_181074 = !bounds_invalid_upwards_181073;
            bool range_valid_c_181075;
            
            if (!valid_181074) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_181072, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_181077 = sub64(next_stride_181068, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_181078 = sle64((int64_t) 0, m_181077);
            bool cond_181080 = slt64(next_stride_181068, (int64_t) 10);
            bool protect_assert_disj_181081 = nonzzero_181055 || cond_181080;
            bool nonzzero_cert_181082;
            
            if (!protect_assert_disj_181081) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_181083 = smod_safe64(next_stride_181068, merge_block_sizze_180905);
            bool num_blocks_181084 = zeze_lhs_181083 == (int64_t) 0;
            bool protect_assert_disj_181085 = cond_181080 || num_blocks_181084;
            bool assert_c_181086;
            
            if (!protect_assert_disj_181085) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_181088 = sdiv_safe64(next_stride_181068, merge_block_sizze_180905);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089 = add64((int64_t) 1, num_blocks_181088);
            int64_t j_m_i_181090 = sub64(next_stride_181068, stride_181067);
            int64_t flat_dim_181091 = merge_block_sizze_180905 * num_blocks_181088;
            bool bounds_invalid_upwards_181092 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089, (int64_t) 0);
            bool empty_slice_181093 = j_m_i_181090 == (int64_t) 0;
            int64_t m_181094 = sub64(j_m_i_181090, (int64_t) 1);
            bool zzero_lte_i_181095 = sle64((int64_t) 0, stride_181067);
            bool i_lte_j_181096 = sle64(stride_181067, next_stride_181068);
            bool empty_slice_181097 = stride_181067 == (int64_t) 0;
            int64_t m_181098 = sub64(stride_181067, (int64_t) 1);
            bool bounds_invalid_upwards_181099 = slt64(num_blocks_181088, (int64_t) 0);
            bool cond_181100 = slt64((int64_t) 0, stride_181067);
            bool valid_181101 = !bounds_invalid_upwards_181092;
            int64_t i_p_m_t_s_181102 = add64(stride_181067, m_181094);
            bool zzero_leq_i_p_m_t_s_181103 = sle64((int64_t) 0, m_181098);
            bool i_p_m_t_s_leq_w_181104 = slt64(m_181098, next_stride_181068);
            bool valid_181105 = !bounds_invalid_upwards_181099;
            bool i_p_m_t_s_leq_w_181106 = slt64(m_181077, flat_dim_181091);
            bool y_181107 = slt64((int64_t) 0, j_m_i_181090);
            bool protect_assert_disj_181108 = cond_181080 || valid_181101;
            bool range_valid_c_181109;
            
            if (!protect_assert_disj_181108) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:366:63-73\n   #9  ftsort.fut:359:1-366:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_181110 = sle64((int64_t) 0, i_p_m_t_s_181102);
            bool i_p_m_t_s_leq_w_181111 = slt64(i_p_m_t_s_181102, next_stride_181068);
            bool y_181112 = zzero_leq_i_p_m_t_s_181103 && i_p_m_t_s_leq_w_181104;
            bool protect_assert_disj_181113 = cond_181080 || valid_181105;
            bool range_valid_c_181114;
            
            if (!protect_assert_disj_181113) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_181088, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_181115 = zzero_leq_i_p_m_t_s_181078 && i_p_m_t_s_leq_w_181106;
            bool y_181116 = zzero_lte_i_181095 && i_p_m_t_s_leq_w_181111;
            bool forwards_ok_181117 = zzero_lte_i_181095 && y_181112;
            bool ok_or_empty_181118 = zzero_181069 || y_181115;
            bool protect_assert_disj_181119 = cond_181100 || y_181107;
            bool y_181120 = zzero_leq_i_p_m_t_s_181110 && y_181116;
            bool ok_or_empty_181121 = empty_slice_181097 || forwards_ok_181117;
            bool protect_assert_disj_181122 = cond_181080 || ok_or_empty_181118;
            bool index_certs_181123;
            
            if (!protect_assert_disj_181122) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_181068, "] out of bounds for array of shape [", (long long) flat_dim_181091, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_181124 = !cond_181080;
            bool protect_assert_disj_181125 = protect_assert_disj_181119 || loop_not_taken_181124;
            bool index_certs_181126;
            
            if (!protect_assert_disj_181125) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:366:63-73\n   #9  ftsort.fut:359:1-366:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_181127 = i_lte_j_181096 && y_181120;
            bool protect_assert_disj_181128 = cond_181080 || ok_or_empty_181121;
            bool index_certs_181129;
            
            if (!protect_assert_disj_181128) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_181067, "] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:366:63-73\n   #10 ftsort.fut:359:1-366:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_181130 = ok_or_empty_181121 || loop_not_taken_181124;
            bool index_certs_181131;
            
            if (!protect_assert_disj_181130) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_181067, "] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_181132 = empty_slice_181093 || forwards_ok_181127;
            bool protect_assert_disj_181133 = cond_181080 || ok_or_empty_181132;
            bool index_certs_181134;
            
            if (!protect_assert_disj_181133) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_181067, ":] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:366:63-73\n   #10 ftsort.fut:359:1-366:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_181135 = loop_not_taken_181124 || ok_or_empty_181132;
            bool index_certs_181136;
            
            if (!protect_assert_disj_181135) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_181067, ":] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_185224 = next_stride_181068 * num_merges_181072;
            int64_t binop_x_185226 = (int64_t) 8 * num_merges_181072;
            int64_t bytes_185227 = next_stride_181068 * binop_x_185226;
            int64_t binop_x_185229 = (int64_t) 4 * num_merges_181072;
            int64_t bytes_185230 = next_stride_181068 * binop_x_185229;
            bool i_lte_j_181079 = sle64((int64_t) 0, next_stride_181068);
            
            if (mem_185225_cached_sizze_186197 < bytes_185224) {
                err = lexical_realloc(ctx, &mem_185225, &mem_185225_cached_sizze_186197, bytes_185224);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_185228_cached_sizze_186198 < bytes_185227) {
                err = lexical_realloc(ctx, &mem_185228, &mem_185228_cached_sizze_186198, bytes_185227);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_185231_cached_sizze_186199 < bytes_185230) {
                err = lexical_realloc(ctx, &mem_185231, &mem_185231_cached_sizze_186199, bytes_185230);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_185244 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089;
            int64_t binop_x_185262 = (int64_t) 8 * num_blocks_181088;
            int64_t bytes_185263 = merge_block_sizze_180905 * binop_x_185262;
            int64_t binop_x_185265 = (int64_t) 4 * num_blocks_181088;
            int64_t bytes_185266 = merge_block_sizze_180905 * binop_x_185265;
            int64_t bytes_185327 = (int64_t) 16 * stride_181067;
            int64_t bytes_185329 = (int64_t) 8 * stride_181067;
            
            for (int64_t i_184160 = 0; i_184160 < num_merges_181072; i_184160++) {
                int64_t start_181141 = mul64(next_stride_181068, i_184160);
                int64_t j_m_i_181142 = sub64(loop_dz2084Uz2082U_181062, start_181141);
                bool empty_slice_181143 = j_m_i_181142 == (int64_t) 0;
                int64_t m_181144 = sub64(j_m_i_181142, (int64_t) 1);
                int64_t i_p_m_t_s_181145 = add64(start_181141, m_181144);
                bool zzero_leq_i_p_m_t_s_181146 = sle64((int64_t) 0, i_p_m_t_s_181145);
                bool i_p_m_t_s_leq_w_181147 = slt64(i_p_m_t_s_181145, loop_dz2084Uz2082U_181062);
                bool zzero_lte_i_181148 = sle64((int64_t) 0, start_181141);
                bool i_lte_j_181149 = sle64(start_181141, loop_dz2084Uz2082U_181062);
                bool y_181150 = i_p_m_t_s_leq_w_181147 && zzero_lte_i_181148;
                bool y_181151 = zzero_leq_i_p_m_t_s_181146 && y_181150;
                bool forwards_ok_181152 = i_lte_j_181149 && y_181151;
                bool ok_or_empty_181153 = empty_slice_181143 || forwards_ok_181152;
                bool index_certs_181154;
                
                if (!ok_or_empty_181153) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_181141, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_181062, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_181155 = slt64(m_181077, j_m_i_181142);
                bool y_181156 = zzero_leq_i_p_m_t_s_181078 && i_p_m_t_s_leq_w_181155;
                bool forwards_ok_181157 = i_lte_j_181079 && y_181156;
                bool ok_or_empty_181158 = zzero_181069 || forwards_ok_181157;
                bool index_certs_181159;
                
                if (!ok_or_empty_181158) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_181068, "] out of bounds for array of shape [", (long long) j_m_i_181142, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:366:63-73\n   #7  ftsort.fut:359:1-366:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_181080) {
                    int8_t dummy_183804;
                    int64_t dummy_183805;
                    int32_t dummy_183806;
                    
                    if (cond_181100) {
                        int8_t head_res_183807 = ((int8_t *) mem_param_185217.mem)[start_181141];
                        int64_t head_res_183808 = ((int64_t *) mem_param_185220.mem)[start_181141];
                        int32_t head_res_183809 = ((int32_t *) mem_param_185223.mem)[start_181141];
                        
                        dummy_183804 = head_res_183807;
                        dummy_183805 = head_res_183808;
                        dummy_183806 = head_res_183809;
                    } else {
                        int64_t slice_183810 = stride_181067 + start_181141;
                        int8_t head_res_183811 = ((int8_t *) mem_param_185217.mem)[slice_183810];
                        int64_t head_res_183812 = ((int64_t *) mem_param_185220.mem)[slice_183810];
                        int32_t head_res_183813 = ((int32_t *) mem_param_185223.mem)[slice_183810];
                        
                        dummy_183804 = head_res_183811;
                        dummy_183805 = head_res_183812;
                        dummy_183806 = head_res_183813;
                    }
                    if (memblock_alloc(ctx, &mem_185326, next_stride_181068, "mem_185326")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185953 = 0; nest_i_185953 < next_stride_181068; nest_i_185953++) {
                        ((int8_t *) mem_185326.mem)[nest_i_185953] = dummy_183804;
                    }
                    if (memblock_alloc(ctx, &mem_185328, bytes_185327, "mem_185328")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185954 = 0; nest_i_185954 < next_stride_181068; nest_i_185954++) {
                        ((int64_t *) mem_185328.mem)[nest_i_185954] = dummy_183805;
                    }
                    if (memblock_alloc(ctx, &mem_185330, bytes_185329, "mem_185330")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185955 = 0; nest_i_185955 < next_stride_181068; nest_i_185955++) {
                        ((int32_t *) mem_185330.mem)[nest_i_185955] = dummy_183806;
                    }
                    
                    int64_t data_183817;
                    int64_t i_183822 = (int64_t) 0;
                    
                    for (int64_t k_183821 = 0; k_183821 < next_stride_181068; k_183821++) {
                        int64_t j_183826 = sub64(k_183821, i_183822);
                        bool cond_183827 = j_183826 == j_m_i_181090;
                        bool cond_183828;
                        
                        if (cond_183827) {
                            cond_183828 = 1;
                        } else {
                            bool cond_183829 = slt64(i_183822, stride_181067);
                            bool cond_f_res_183830;
                            
                            if (cond_183829) {
                                bool x_183831 = sle64((int64_t) 0, j_183826);
                                bool y_183832 = slt64(j_183826, j_m_i_181090);
                                bool bounds_check_183833 = x_183831 && y_183832;
                                bool index_certs_183834;
                                
                                if (!bounds_check_183833) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183826, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_183840 = sle64((int64_t) 0, i_183822);
                                bool bounds_check_183841 = cond_183829 && x_183840;
                                bool index_certs_183842;
                                
                                if (!bounds_check_183841) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183822, "] out of bounds for array of shape [", (long long) stride_181067, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_183835 = stride_181067 + j_183826;
                                int64_t slice_183836 = start_181141 + slice_183835;
                                int8_t leq_arg1_183837 = ((int8_t *) mem_param_185217.mem)[slice_183836];
                                int64_t leq_arg1_183838 = ((int64_t *) mem_param_185220.mem)[slice_183836];
                                int32_t leq_arg1_183839 = ((int32_t *) mem_param_185223.mem)[slice_183836];
                                int64_t slice_183843 = start_181141 + i_183822;
                                int8_t leq_arg0_183844 = ((int8_t *) mem_param_185217.mem)[slice_183843];
                                int64_t leq_arg0_183845 = ((int64_t *) mem_param_185220.mem)[slice_183843];
                                int32_t leq_arg0_183846 = ((int32_t *) mem_param_185223.mem)[slice_183843];
                                bool cond_183847 = leq_arg0_183844 == leq_arg1_183837;
                                bool defunc_0_leq_res_t_res_183848 = sle64(leq_arg0_183845, leq_arg1_183838);
                                bool defunc_0_leq_res_183849 = sle32(leq_arg0_183846, leq_arg1_183839);
                                bool x_183850 = cond_183847 && defunc_0_leq_res_t_res_183848;
                                bool x_183851 = !cond_183847;
                                bool y_183852 = defunc_0_leq_res_183849 && x_183851;
                                bool defunc_0_leq_res_183853 = x_183850 || y_183852;
                                
                                cond_f_res_183830 = defunc_0_leq_res_183853;
                            } else {
                                cond_f_res_183830 = 0;
                            }
                            cond_183828 = cond_f_res_183830;
                        }
                        
                        int64_t loopres_183854;
                        int8_t loopres_183855;
                        int64_t loopres_183856;
                        int32_t loopres_183857;
                        
                        if (cond_183828) {
                            bool x_183859 = sle64((int64_t) 0, i_183822);
                            bool y_183860 = slt64(i_183822, stride_181067);
                            bool bounds_check_183861 = x_183859 && y_183860;
                            bool index_certs_183862;
                            
                            if (!bounds_check_183861) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183822, "] out of bounds for array of shape [", (long long) stride_181067, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_183858 = add64((int64_t) 1, i_183822);
                            int64_t slice_183863 = start_181141 + i_183822;
                            int8_t tmp_183864 = ((int8_t *) mem_param_185217.mem)[slice_183863];
                            int64_t tmp_183865 = ((int64_t *) mem_param_185220.mem)[slice_183863];
                            int32_t tmp_183866 = ((int32_t *) mem_param_185223.mem)[slice_183863];
                            
                            loopres_183854 = tmp_183858;
                            loopres_183855 = tmp_183864;
                            loopres_183856 = tmp_183865;
                            loopres_183857 = tmp_183866;
                        } else {
                            bool x_183867 = sle64((int64_t) 0, j_183826);
                            bool y_183868 = slt64(j_183826, j_m_i_181090);
                            bool bounds_check_183869 = x_183867 && y_183868;
                            bool index_certs_183870;
                            
                            if (!bounds_check_183869) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183826, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:366:63-73\n   #8  ftsort.fut:359:1-366:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_183871 = stride_181067 + j_183826;
                            int64_t slice_183872 = start_181141 + slice_183871;
                            int8_t tmp_183873 = ((int8_t *) mem_param_185217.mem)[slice_183872];
                            int64_t tmp_183874 = ((int64_t *) mem_param_185220.mem)[slice_183872];
                            int32_t tmp_183875 = ((int32_t *) mem_param_185223.mem)[slice_183872];
                            
                            loopres_183854 = i_183822;
                            loopres_183855 = tmp_183873;
                            loopres_183856 = tmp_183874;
                            loopres_183857 = tmp_183875;
                        }
                        ((int8_t *) mem_185326.mem)[k_183821] = loopres_183855;
                        ((int64_t *) mem_185328.mem)[k_183821] = loopres_183856;
                        ((int32_t *) mem_185330.mem)[k_183821] = loopres_183857;
                        
                        int64_t i_tmp_185956 = loopres_183854;
                        
                        i_183822 = i_tmp_185956;
                    }
                    data_183817 = i_183822;
                    if (memblock_set(ctx, &ext_mem_185357, &mem_185326, "mem_185326") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185354, &mem_185328, "mem_185328") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185351, &mem_185330, "mem_185330") != 0)
                        return 1;
                } else {
                    if (mem_185245_cached_sizze_186200 < bytes_185244) {
                        err = lexical_realloc(ctx, &mem_185245, &mem_185245_cached_sizze_186200, bytes_185244);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_185247_cached_sizze_186201 < bytes_185244) {
                        err = lexical_realloc(ctx, &mem_185247, &mem_185247_cached_sizze_186201, bytes_185244);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_184141 = 0; i_184141 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089; i_184141++) {
                        int64_t split_count_arg3_181242 = mul64(merge_block_sizze_180905, i_184141);
                        int64_t defunc_0_split_count_res_181243;
                        int64_t defunc_0_split_count_res_181244;
                        int64_t defunc_0_split_count_res_181245;
                        int64_t defunc_0_split_count_res_181246;
                        int64_t defunc_0_split_count_res_181247;
                        
                        if (futrts_lifted_normalizze_9100(ctx, &defunc_0_split_count_res_181243, &defunc_0_split_count_res_181244, &defunc_0_split_count_res_181245, &defunc_0_split_count_res_181246, &defunc_0_split_count_res_181247, (int64_t) 0, stride_181067, (int64_t) 0, j_m_i_181090, split_count_arg3_181242) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_181248 = slt64((int64_t) 0, defunc_0_split_count_res_181247);
                        bool defunc_0_split_count_res_181249;
                        int64_t defunc_0_split_count_res_181250;
                        int64_t defunc_0_split_count_res_181251;
                        int64_t defunc_0_split_count_res_181252;
                        int64_t defunc_0_split_count_res_181253;
                        int64_t defunc_0_split_count_res_181254;
                        bool loop_while_181255;
                        int64_t ss_181256;
                        int64_t ss_181257;
                        int64_t tt_181258;
                        int64_t tt_181259;
                        int64_t count_181260;
                        
                        loop_while_181255 = loop_cond_181248;
                        ss_181256 = defunc_0_split_count_res_181243;
                        ss_181257 = defunc_0_split_count_res_181244;
                        tt_181258 = defunc_0_split_count_res_181245;
                        tt_181259 = defunc_0_split_count_res_181246;
                        count_181260 = defunc_0_split_count_res_181247;
                        while (loop_while_181255) {
                            int64_t zlze_lhs_181261 = sub64(ss_181257, ss_181256);
                            bool cond_181262 = sle64(zlze_lhs_181261, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_181263;
                            int64_t defunc_0_lifted_step_res_181264;
                            int64_t defunc_0_lifted_step_res_181265;
                            int64_t defunc_0_lifted_step_res_181266;
                            
                            if (cond_181262) {
                                int64_t tmp_183879 = add64(tt_181258, count_181260);
                                
                                defunc_0_lifted_step_res_181263 = ss_181256;
                                defunc_0_lifted_step_res_181264 = tmp_183879;
                                defunc_0_lifted_step_res_181265 = tt_181259;
                                defunc_0_lifted_step_res_181266 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_181268 = sub64(tt_181259, tt_181258);
                                bool cond_181269 = sle64(zlze_lhs_181268, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_181270;
                                int64_t defunc_0_lifted_step_res_f_res_181271;
                                int64_t defunc_0_lifted_step_res_f_res_181272;
                                int64_t defunc_0_lifted_step_res_f_res_181273;
                                
                                if (cond_181269) {
                                    int64_t tmp_183880 = add64(ss_181256, count_181260);
                                    
                                    defunc_0_lifted_step_res_f_res_181270 = tmp_183880;
                                    defunc_0_lifted_step_res_f_res_181271 = tt_181258;
                                    defunc_0_lifted_step_res_f_res_181272 = tt_181259;
                                    defunc_0_lifted_step_res_f_res_181273 = (int64_t) 0;
                                } else {
                                    bool cond_181275 = count_181260 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_181276;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_181277;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_181278;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_181279;
                                    
                                    if (cond_181275) {
                                        bool x_183882 = sle64((int64_t) 0, ss_181256);
                                        bool y_183883 = slt64(ss_181256, stride_181067);
                                        bool bounds_check_183884 = x_183882 && y_183883;
                                        bool index_certs_183885;
                                        
                                        if (!bounds_check_183884) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_181256, "] out of bounds for array of shape [", (long long) stride_181067, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:366:63-73\n   #12 ftsort.fut:359:1-366:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_183890 = sle64((int64_t) 0, tt_181258);
                                        bool y_183891 = slt64(tt_181258, j_m_i_181090);
                                        bool bounds_check_183892 = x_183890 && y_183891;
                                        bool index_certs_183893;
                                        
                                        if (!bounds_check_183892) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_181258, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:366:63-73\n   #12 ftsort.fut:359:1-366:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183886 = start_181141 + ss_181256;
                                        int8_t leq_arg1_183887 = ((int8_t *) mem_param_185217.mem)[slice_183886];
                                        int64_t leq_arg1_183888 = ((int64_t *) mem_param_185220.mem)[slice_183886];
                                        int32_t leq_arg1_183889 = ((int32_t *) mem_param_185223.mem)[slice_183886];
                                        int64_t slice_183894 = stride_181067 + tt_181258;
                                        int64_t slice_183895 = start_181141 + slice_183894;
                                        int8_t leq_arg0_183896 = ((int8_t *) mem_param_185217.mem)[slice_183895];
                                        int64_t leq_arg0_183897 = ((int64_t *) mem_param_185220.mem)[slice_183895];
                                        int32_t leq_arg0_183898 = ((int32_t *) mem_param_185223.mem)[slice_183895];
                                        bool cond_183899 = leq_arg0_183896 == leq_arg1_183887;
                                        bool defunc_0_leq_res_t_res_183900 = sle64(leq_arg0_183897, leq_arg1_183888);
                                        bool defunc_0_leq_res_183901 = sle32(leq_arg0_183898, leq_arg1_183889);
                                        bool x_183902 = cond_183899 && defunc_0_leq_res_t_res_183900;
                                        bool x_183903 = !cond_183899;
                                        bool y_183904 = defunc_0_leq_res_183901 && x_183903;
                                        bool defunc_0_leq_res_183905 = x_183902 || y_183904;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183906;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183907;
                                        
                                        if (defunc_0_leq_res_183905) {
                                            int64_t tmp_183908 = add64((int64_t) 1, tt_181258);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_183906 = ss_181256;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_183907 = tmp_183908;
                                        } else {
                                            int64_t tmp_183909 = add64((int64_t) 1, ss_181256);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_183906 = tmp_183909;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_183907 = tt_181258;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_181276 = defunc_0_lifted_step_res_f_res_f_res_t_res_183906;
                                        defunc_0_lifted_step_res_f_res_f_res_181277 = defunc_0_lifted_step_res_f_res_f_res_t_res_183907;
                                        defunc_0_lifted_step_res_f_res_f_res_181278 = tt_181259;
                                        defunc_0_lifted_step_res_f_res_f_res_181279 = (int64_t) 0;
                                    } else {
                                        int64_t m_181308 = sdiv64(count_181260, (int64_t) 2);
                                        int64_t n_181309 = sub64(count_181260, m_181308);
                                        bool cond_181310 = n_181309 == (int64_t) 0;
                                        int64_t zgze_lhs_181311 = add64(ss_181256, m_181308);
                                        bool cond_f_res_181312 = sle64(ss_181257, zgze_lhs_181311);
                                        bool x_181313 = !cond_181310;
                                        bool y_181314 = cond_f_res_181312 && x_181313;
                                        bool cond_181315 = cond_181310 || y_181314;
                                        bool leq_y_x_181316;
                                        
                                        if (cond_181315) {
                                            leq_y_x_181316 = 1;
                                        } else {
                                            bool x_181317 = sle64((int64_t) 0, zgze_lhs_181311);
                                            bool y_181318 = slt64(zgze_lhs_181311, stride_181067);
                                            bool bounds_check_181319 = x_181317 && y_181318;
                                            bool index_certs_181320;
                                            
                                            if (!bounds_check_181319) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_181311, "] out of bounds for array of shape [", (long long) stride_181067, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:366:63-73\n   #12 ftsort.fut:359:1-366:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_181325 = add64(tt_181258, n_181309);
                                            int64_t leq_arg0_181326 = sub64(zm_lhs_181325, (int64_t) 1);
                                            bool x_181327 = sle64((int64_t) 0, leq_arg0_181326);
                                            bool y_181328 = slt64(leq_arg0_181326, j_m_i_181090);
                                            bool bounds_check_181329 = x_181327 && y_181328;
                                            bool index_certs_181330;
                                            
                                            if (!bounds_check_181329) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_181326, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:366:63-73\n   #12 ftsort.fut:359:1-366:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_181321 = start_181141 + zgze_lhs_181311;
                                            int8_t leq_arg1_181322 = ((int8_t *) mem_param_185217.mem)[slice_181321];
                                            int64_t leq_arg1_181323 = ((int64_t *) mem_param_185220.mem)[slice_181321];
                                            int32_t leq_arg1_181324 = ((int32_t *) mem_param_185223.mem)[slice_181321];
                                            int64_t slice_181331 = stride_181067 + leq_arg0_181326;
                                            int64_t slice_181332 = start_181141 + slice_181331;
                                            int8_t leq_arg0_181333 = ((int8_t *) mem_param_185217.mem)[slice_181332];
                                            int64_t leq_arg0_181334 = ((int64_t *) mem_param_185220.mem)[slice_181332];
                                            int32_t leq_arg0_181335 = ((int32_t *) mem_param_185223.mem)[slice_181332];
                                            bool cond_181336 = leq_arg0_181333 == leq_arg1_181322;
                                            bool defunc_0_leq_res_t_res_181337 = sle64(leq_arg0_181334, leq_arg1_181323);
                                            bool defunc_0_leq_res_181338 = sle32(leq_arg0_181335, leq_arg1_181324);
                                            bool x_181339 = cond_181336 && defunc_0_leq_res_t_res_181337;
                                            bool x_181340 = !cond_181336;
                                            bool y_181341 = defunc_0_leq_res_181338 && x_181340;
                                            bool defunc_0_leq_res_181342 = x_181339 || y_181341;
                                            
                                            leq_y_x_181316 = defunc_0_leq_res_181342;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_181343;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_181344;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_181345;
                                        
                                        if (leq_y_x_181316) {
                                            int64_t tmp_183910 = add64(tt_181258, n_181309);
                                            int64_t tmp_183911 = sub64(count_181260, n_181309);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181343 = tmp_183910;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181344 = tt_181259;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181345 = tmp_183911;
                                        } else {
                                            int64_t tmp_181348 = add64(tt_181258, n_181309);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181343 = tt_181258;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181344 = tmp_181348;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181345 = count_181260;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_181276 = ss_181256;
                                        defunc_0_lifted_step_res_f_res_f_res_181277 = defunc_0_lifted_step_res_f_res_f_res_f_res_181343;
                                        defunc_0_lifted_step_res_f_res_f_res_181278 = defunc_0_lifted_step_res_f_res_f_res_f_res_181344;
                                        defunc_0_lifted_step_res_f_res_f_res_181279 = defunc_0_lifted_step_res_f_res_f_res_f_res_181345;
                                    }
                                    defunc_0_lifted_step_res_f_res_181270 = defunc_0_lifted_step_res_f_res_f_res_181276;
                                    defunc_0_lifted_step_res_f_res_181271 = defunc_0_lifted_step_res_f_res_f_res_181277;
                                    defunc_0_lifted_step_res_f_res_181272 = defunc_0_lifted_step_res_f_res_f_res_181278;
                                    defunc_0_lifted_step_res_f_res_181273 = defunc_0_lifted_step_res_f_res_f_res_181279;
                                }
                                defunc_0_lifted_step_res_181263 = defunc_0_lifted_step_res_f_res_181270;
                                defunc_0_lifted_step_res_181264 = defunc_0_lifted_step_res_f_res_181271;
                                defunc_0_lifted_step_res_181265 = defunc_0_lifted_step_res_f_res_181272;
                                defunc_0_lifted_step_res_181266 = defunc_0_lifted_step_res_f_res_181273;
                            }
                            
                            int64_t loopres_181349;
                            int64_t loopres_181350;
                            int64_t loopres_181351;
                            int64_t loopres_181352;
                            int64_t loopres_181353;
                            
                            if (futrts_lifted_normalizze_9100(ctx, &loopres_181349, &loopres_181350, &loopres_181351, &loopres_181352, &loopres_181353, defunc_0_lifted_step_res_181263, ss_181257, defunc_0_lifted_step_res_181264, defunc_0_lifted_step_res_181265, defunc_0_lifted_step_res_181266) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_181354 = slt64((int64_t) 0, loopres_181353);
                            bool loop_while_tmp_185962 = loop_cond_181354;
                            int64_t ss_tmp_185963 = loopres_181349;
                            int64_t ss_tmp_185964 = loopres_181350;
                            int64_t tt_tmp_185965 = loopres_181351;
                            int64_t tt_tmp_185966 = loopres_181352;
                            int64_t count_tmp_185967 = loopres_181353;
                            
                            loop_while_181255 = loop_while_tmp_185962;
                            ss_181256 = ss_tmp_185963;
                            ss_181257 = ss_tmp_185964;
                            tt_181258 = tt_tmp_185965;
                            tt_181259 = tt_tmp_185966;
                            count_181260 = count_tmp_185967;
                        }
                        defunc_0_split_count_res_181249 = loop_while_181255;
                        defunc_0_split_count_res_181250 = ss_181256;
                        defunc_0_split_count_res_181251 = ss_181257;
                        defunc_0_split_count_res_181252 = tt_181258;
                        defunc_0_split_count_res_181253 = tt_181259;
                        defunc_0_split_count_res_181254 = count_181260;
                        ((int64_t *) mem_185245)[i_184141] = defunc_0_split_count_res_181250;
                        ((int64_t *) mem_185247)[i_184141] = defunc_0_split_count_res_181252;
                    }
                    if (mem_185261_cached_sizze_186202 < flat_dim_181091) {
                        err = lexical_realloc(ctx, &mem_185261, &mem_185261_cached_sizze_186202, flat_dim_181091);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_185264_cached_sizze_186203 < bytes_185263) {
                        err = lexical_realloc(ctx, &mem_185264, &mem_185264_cached_sizze_186203, bytes_185263);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_185267_cached_sizze_186204 < bytes_185266) {
                        err = lexical_realloc(ctx, &mem_185267, &mem_185267_cached_sizze_186204, bytes_185266);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_184150 = 0; i_184150 < num_blocks_181088; i_184150++) {
                        bool y_181361 = slt64(i_184150, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089);
                        bool index_certs_181363;
                        
                        if (!y_181361) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_184150, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:366:63-73\n   #9  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_181364 = ((int64_t *) mem_185245)[i_184150];
                        int64_t defunc_0_f_res_181365 = ((int64_t *) mem_185247)[i_184150];
                        int64_t tmp_181366 = add64((int64_t) 1, i_184150);
                        bool x_181367 = sle64((int64_t) 0, tmp_181366);
                        bool y_181368 = slt64(tmp_181366, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089);
                        bool bounds_check_181369 = x_181367 && y_181368;
                        bool index_certs_181370;
                        
                        if (!bounds_check_181369) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_181366, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:366:63-73\n   #9  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_181371 = ((int64_t *) mem_185245)[tmp_181366];
                        int64_t defunc_0_f_res_181372 = ((int64_t *) mem_185247)[tmp_181366];
                        int64_t merge_sequential_arg2_181373 = add64(stride_181067, defunc_0_f_res_181365);
                        int64_t merge_sequential_arg2_181374 = add64(stride_181067, defunc_0_f_res_181372);
                        int64_t j_m_i_181375 = sub64(merge_sequential_arg2_181374, merge_sequential_arg2_181373);
                        bool empty_slice_181376 = j_m_i_181375 == (int64_t) 0;
                        int64_t m_181377 = sub64(j_m_i_181375, (int64_t) 1);
                        int64_t i_p_m_t_s_181378 = add64(merge_sequential_arg2_181373, m_181377);
                        bool zzero_leq_i_p_m_t_s_181379 = sle64((int64_t) 0, i_p_m_t_s_181378);
                        bool i_p_m_t_s_leq_w_181380 = slt64(i_p_m_t_s_181378, next_stride_181068);
                        bool zzero_lte_i_181381 = sle64((int64_t) 0, merge_sequential_arg2_181373);
                        bool i_lte_j_181382 = sle64(merge_sequential_arg2_181373, merge_sequential_arg2_181374);
                        bool y_181383 = i_p_m_t_s_leq_w_181380 && zzero_lte_i_181381;
                        bool y_181384 = zzero_leq_i_p_m_t_s_181379 && y_181383;
                        bool forwards_ok_181385 = i_lte_j_181382 && y_181384;
                        bool ok_or_empty_181386 = empty_slice_181376 || forwards_ok_181385;
                        bool index_certs_181387;
                        
                        if (!ok_or_empty_181386) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_181373, ":", (long long) merge_sequential_arg2_181374, "] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:366:63-73\n   #9  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_181388 = sub64(defunc_0_f_res_181371, defunc_0_f_res_181364);
                        bool empty_slice_181389 = j_m_i_181388 == (int64_t) 0;
                        int64_t m_181390 = sub64(j_m_i_181388, (int64_t) 1);
                        int64_t i_p_m_t_s_181391 = add64(defunc_0_f_res_181364, m_181390);
                        bool zzero_leq_i_p_m_t_s_181392 = sle64((int64_t) 0, i_p_m_t_s_181391);
                        bool i_p_m_t_s_leq_w_181393 = slt64(i_p_m_t_s_181391, next_stride_181068);
                        bool zzero_lte_i_181394 = sle64((int64_t) 0, defunc_0_f_res_181364);
                        bool i_lte_j_181395 = sle64(defunc_0_f_res_181364, defunc_0_f_res_181371);
                        bool y_181396 = i_p_m_t_s_leq_w_181393 && zzero_lte_i_181394;
                        bool y_181397 = zzero_leq_i_p_m_t_s_181392 && y_181396;
                        bool forwards_ok_181398 = i_lte_j_181395 && y_181397;
                        bool ok_or_empty_181399 = empty_slice_181389 || forwards_ok_181398;
                        bool index_certs_181400;
                        
                        if (!ok_or_empty_181399) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_181364, ":", (long long) defunc_0_f_res_181371, "] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:366:63-73\n   #9  ftsort.fut:359:1-366:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_181401 = slt64((int64_t) 0, j_m_i_181388);
                        int8_t dummy_181402;
                        int64_t dummy_181403;
                        int32_t dummy_181404;
                        
                        if (cond_181401) {
                            bool index_certs_183912;
                            
                            if (!cond_181401) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_181388, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:366:63-73\n   #11 ftsort.fut:359:1-366:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_183913 = start_181141 + defunc_0_f_res_181364;
                            int8_t head_res_183914 = ((int8_t *) mem_param_185217.mem)[slice_183913];
                            int64_t head_res_183915 = ((int64_t *) mem_param_185220.mem)[slice_183913];
                            int32_t head_res_183916 = ((int32_t *) mem_param_185223.mem)[slice_183913];
                            
                            dummy_181402 = head_res_183914;
                            dummy_181403 = head_res_183915;
                            dummy_181404 = head_res_183916;
                        } else {
                            bool y_181410 = slt64((int64_t) 0, j_m_i_181375);
                            bool index_certs_181411;
                            
                            if (!y_181410) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_181375, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:366:63-73\n   #11 ftsort.fut:359:1-366:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_181412 = start_181141 + merge_sequential_arg2_181373;
                            int8_t head_res_181413 = ((int8_t *) mem_param_185217.mem)[slice_181412];
                            int64_t head_res_181414 = ((int64_t *) mem_param_185220.mem)[slice_181412];
                            int32_t head_res_181415 = ((int32_t *) mem_param_185223.mem)[slice_181412];
                            
                            dummy_181402 = head_res_181413;
                            dummy_181403 = head_res_181414;
                            dummy_181404 = head_res_181415;
                        }
                        for (int64_t nest_i_185971 = 0; nest_i_185971 < merge_block_sizze_180905; nest_i_185971++) {
                            ((int8_t *) mem_185261)[i_184150 * merge_block_sizze_180905 + nest_i_185971] = dummy_181402;
                        }
                        for (int64_t nest_i_185972 = 0; nest_i_185972 < merge_block_sizze_180905; nest_i_185972++) {
                            ((int64_t *) mem_185264)[i_184150 * merge_block_sizze_180905 + nest_i_185972] = dummy_181403;
                        }
                        for (int64_t nest_i_185973 = 0; nest_i_185973 < merge_block_sizze_180905; nest_i_185973++) {
                            ((int32_t *) mem_185267)[i_184150 * merge_block_sizze_180905 + nest_i_185973] = dummy_181404;
                        }
                        
                        int64_t data_181419;
                        int64_t i_181424 = (int64_t) 0;
                        
                        for (int64_t k_181423 = 0; k_181423 < merge_block_sizze_180905; k_181423++) {
                            int64_t j_181428 = sub64(k_181423, i_181424);
                            bool cond_181429 = j_181428 == j_m_i_181375;
                            bool cond_181430;
                            
                            if (cond_181429) {
                                cond_181430 = 1;
                            } else {
                                bool cond_181431 = slt64(i_181424, j_m_i_181388);
                                bool cond_f_res_181432;
                                
                                if (cond_181431) {
                                    bool x_183917 = sle64((int64_t) 0, j_181428);
                                    bool y_183918 = slt64(j_181428, j_m_i_181375);
                                    bool bounds_check_183919 = x_183917 && y_183918;
                                    bool index_certs_183920;
                                    
                                    if (!bounds_check_183919) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181428, "] out of bounds for array of shape [", (long long) j_m_i_181375, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:366:63-73\n   #10 ftsort.fut:359:1-366:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_183926 = sle64((int64_t) 0, i_181424);
                                    bool bounds_check_183927 = cond_181431 && x_183926;
                                    bool index_certs_183928;
                                    
                                    if (!bounds_check_183927) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_181424, "] out of bounds for array of shape [", (long long) j_m_i_181388, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:366:63-73\n   #10 ftsort.fut:359:1-366:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_183921 = merge_sequential_arg2_181373 + j_181428;
                                    int64_t slice_183922 = start_181141 + slice_183921;
                                    int8_t leq_arg1_183923 = ((int8_t *) mem_param_185217.mem)[slice_183922];
                                    int64_t leq_arg1_183924 = ((int64_t *) mem_param_185220.mem)[slice_183922];
                                    int32_t leq_arg1_183925 = ((int32_t *) mem_param_185223.mem)[slice_183922];
                                    int64_t slice_183929 = defunc_0_f_res_181364 + i_181424;
                                    int64_t slice_183930 = start_181141 + slice_183929;
                                    int8_t leq_arg0_183931 = ((int8_t *) mem_param_185217.mem)[slice_183930];
                                    int64_t leq_arg0_183932 = ((int64_t *) mem_param_185220.mem)[slice_183930];
                                    int32_t leq_arg0_183933 = ((int32_t *) mem_param_185223.mem)[slice_183930];
                                    bool cond_183934 = leq_arg0_183931 == leq_arg1_183923;
                                    bool defunc_0_leq_res_t_res_183935 = sle64(leq_arg0_183932, leq_arg1_183924);
                                    bool defunc_0_leq_res_183936 = sle32(leq_arg0_183933, leq_arg1_183925);
                                    bool x_183937 = cond_183934 && defunc_0_leq_res_t_res_183935;
                                    bool x_183938 = !cond_183934;
                                    bool y_183939 = defunc_0_leq_res_183936 && x_183938;
                                    bool defunc_0_leq_res_183940 = x_183937 || y_183939;
                                    
                                    cond_f_res_181432 = defunc_0_leq_res_183940;
                                } else {
                                    cond_f_res_181432 = 0;
                                }
                                cond_181430 = cond_f_res_181432;
                            }
                            
                            int64_t loopres_181457;
                            int8_t loopres_181458;
                            int64_t loopres_181459;
                            int32_t loopres_181460;
                            
                            if (cond_181430) {
                                bool x_183942 = sle64((int64_t) 0, i_181424);
                                bool y_183943 = slt64(i_181424, j_m_i_181388);
                                bool bounds_check_183944 = x_183942 && y_183943;
                                bool index_certs_183945;
                                
                                if (!bounds_check_183944) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_181424, "] out of bounds for array of shape [", (long long) j_m_i_181388, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:366:63-73\n   #10 ftsort.fut:359:1-366:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_183941 = add64((int64_t) 1, i_181424);
                                int64_t slice_183946 = defunc_0_f_res_181364 + i_181424;
                                int64_t slice_183947 = start_181141 + slice_183946;
                                int8_t tmp_183948 = ((int8_t *) mem_param_185217.mem)[slice_183947];
                                int64_t tmp_183949 = ((int64_t *) mem_param_185220.mem)[slice_183947];
                                int32_t tmp_183950 = ((int32_t *) mem_param_185223.mem)[slice_183947];
                                
                                loopres_181457 = tmp_183941;
                                loopres_181458 = tmp_183948;
                                loopres_181459 = tmp_183949;
                                loopres_181460 = tmp_183950;
                            } else {
                                bool x_181471 = sle64((int64_t) 0, j_181428);
                                bool y_181472 = slt64(j_181428, j_m_i_181375);
                                bool bounds_check_181473 = x_181471 && y_181472;
                                bool index_certs_181474;
                                
                                if (!bounds_check_181473) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181428, "] out of bounds for array of shape [", (long long) j_m_i_181375, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:366:63-73\n   #10 ftsort.fut:359:1-366:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_181475 = merge_sequential_arg2_181373 + j_181428;
                                int64_t slice_181476 = start_181141 + slice_181475;
                                int8_t tmp_181477 = ((int8_t *) mem_param_185217.mem)[slice_181476];
                                int64_t tmp_181478 = ((int64_t *) mem_param_185220.mem)[slice_181476];
                                int32_t tmp_181479 = ((int32_t *) mem_param_185223.mem)[slice_181476];
                                
                                loopres_181457 = i_181424;
                                loopres_181458 = tmp_181477;
                                loopres_181459 = tmp_181478;
                                loopres_181460 = tmp_181479;
                            }
                            ((int8_t *) mem_185261)[i_184150 * merge_block_sizze_180905 + k_181423] = loopres_181458;
                            ((int64_t *) mem_185264)[i_184150 * merge_block_sizze_180905 + k_181423] = loopres_181459;
                            ((int32_t *) mem_185267)[i_184150 * merge_block_sizze_180905 + k_181423] = loopres_181460;
                            
                            int64_t i_tmp_185974 = loopres_181457;
                            
                            i_181424 = i_tmp_185974;
                        }
                        data_181419 = i_181424;
                    }
                    if (memblock_alloc(ctx, &mem_185316, flat_dim_181091, "mem_185316")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_185316.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (uint8_t *) mem_185261, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (int64_t []) {num_blocks_181088, merge_block_sizze_180905});
                    if (memblock_alloc(ctx, &mem_185320, bytes_185263, "mem_185320")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_185320.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (uint64_t *) mem_185264, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (int64_t []) {num_blocks_181088, merge_block_sizze_180905});
                    if (memblock_alloc(ctx, &mem_185324, bytes_185266, "mem_185324")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_185324.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (uint32_t *) mem_185267, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (int64_t []) {num_blocks_181088, merge_block_sizze_180905});
                    if (memblock_set(ctx, &ext_mem_185357, &mem_185316, "mem_185316") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185354, &mem_185320, "mem_185320") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185351, &mem_185324, "mem_185324") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_185225, i_184160 * next_stride_181068, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_185357.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_181068});
                if (memblock_unref(ctx, &ext_mem_185357, "ext_mem_185357") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_185228, i_184160 * next_stride_181068, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185354.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_181068});
                if (memblock_unref(ctx, &ext_mem_185354, "ext_mem_185354") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_185231, i_184160 * next_stride_181068, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_185351.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_181068});
                if (memblock_unref(ctx, &ext_mem_185351, "ext_mem_185351") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_185371, bytes_185224, "mem_185371")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_185371.mem, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (uint8_t *) mem_185225, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (int64_t []) {num_merges_181072, next_stride_181068});
            if (memblock_alloc(ctx, &mem_185375, bytes_185227, "mem_185375")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_185375.mem, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (uint64_t *) mem_185228, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (int64_t []) {num_merges_181072, next_stride_181068});
            if (memblock_alloc(ctx, &mem_185379, bytes_185230, "mem_185379")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_185379.mem, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (uint32_t *) mem_185231, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (int64_t []) {num_merges_181072, next_stride_181068});
            
            bool loop_cond_181493 = slt64(next_stride_181068, flat_dim_180900);
            
            if (memblock_set(ctx, &mem_param_tmp_185941, &mem_185371, "mem_185371") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_185942, &mem_185375, "mem_185375") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_185943, &mem_185379, "mem_185379") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_185944 = bytes_185224;
            bool loop_while_tmp_185945 = loop_cond_181493;
            int64_t stride_tmp_185949 = next_stride_181068;
            
            if (memblock_set(ctx, &mem_param_185217, &mem_param_tmp_185941, "mem_param_tmp_185941") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_185220, &mem_param_tmp_185942, "mem_param_tmp_185942") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_185223, &mem_param_tmp_185943, "mem_param_tmp_185943") != 0)
                return 1;
            loop_dz2084Uz2082U_181062 = loop_dz2084Uz2082U_tmp_185944;
            loop_while_181063 = loop_while_tmp_185945;
            stride_181067 = stride_tmp_185949;
        }
        if (memblock_set(ctx, &ext_mem_185389, &mem_param_185217, "mem_param_185217") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185388, &mem_param_185220, "mem_param_185220") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185387, &mem_param_185223, "mem_param_185223") != 0)
            return 1;
        data_181056 = loop_dz2084Uz2082U_181062;
        data_181057 = loop_while_181063;
        data_181061 = stride_181067;
        if (memblock_unref(ctx, &mem_185205, "mem_185205") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185209, "mem_185209") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185213, "mem_185213") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_181496 = slt64(zs_lhs_180884, data_181056);
        bool y_181497 = i_p_m_t_s_leq_w_181496 && zzero_leq_i_p_m_t_s_181510;
        bool ok_or_empty_181498 = y_181497 || empty_slice_181508;
        bool index_certs_181499;
        
        if (!ok_or_empty_181498) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "] out of bounds for array of shape [", (long long) data_181056, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:366:63-73\n   #5  ftsort.fut:359:1-366:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_185398, &ext_mem_185389, "ext_mem_185389") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185395, &ext_mem_185388, "ext_mem_185388") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185392, &ext_mem_185387, "ext_mem_185387") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_185099, "mem_185099") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_185101, "mem_185101") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_185103, "mem_185103") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184307.mem, final_buffer_181515, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_185398.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_181516});
    if (memblock_unref(ctx, &ext_mem_185398, "ext_mem_185398") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184309.mem, final_buffer_181515, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185395.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_181516});
    if (memblock_unref(ctx, &ext_mem_185395, "ext_mem_185395") != 0)
        return 1;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_184311.mem, final_buffer_181515, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_185392.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_181516});
    if (memblock_unref(ctx, &ext_mem_185392, "ext_mem_185392") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185719, &mem_184309, "mem_184309") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185720, &mem_184307, "mem_184307") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185721, &mem_184311, "mem_184311") != 0)
        return 1;
    prim_out_185722 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803;
    if (memblock_set(ctx, &*mem_out_p_186151, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186152, &mem_out_185720, "mem_out_185720") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186153, &mem_out_185721, "mem_out_185721") != 0)
        return 1;
    *out_prim_out_186154 = prim_out_185722;
    
  cleanup:
    {
        free(mem_184322);
        free(mem_184324);
        free(mem_184363);
        free(mem_184366);
        free(mem_184369);
        free(mem_184382);
        free(mem_184384);
        free(mem_184386);
        free(mem_184483);
        free(mem_184486);
        free(mem_184489);
        free(mem_184503);
        free(mem_184505);
        free(mem_184519);
        free(mem_184522);
        free(mem_184525);
        free(mem_184667);
        free(mem_184669);
        free(mem_184684);
        free(mem_184686);
        free(mem_184689);
        free(mem_184692);
        free(mem_184726);
        free(mem_184729);
        free(mem_184732);
        free(mem_184745);
        free(mem_184747);
        free(mem_184749);
        free(mem_184846);
        free(mem_184849);
        free(mem_184852);
        free(mem_184866);
        free(mem_184868);
        free(mem_184882);
        free(mem_184885);
        free(mem_184888);
        free(mem_185105);
        free(mem_185108);
        free(mem_185111);
        free(mem_185124);
        free(mem_185126);
        free(mem_185128);
        free(mem_185225);
        free(mem_185228);
        free(mem_185231);
        free(mem_185245);
        free(mem_185247);
        free(mem_185261);
        free(mem_185264);
        free(mem_185267);
        if (memblock_unref(ctx, &mem_param_tmp_185943, "mem_param_tmp_185943") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185942, "mem_param_tmp_185942") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185941, "mem_param_tmp_185941") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185379, "mem_185379") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185375, "mem_185375") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185371, "mem_185371") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185324, "mem_185324") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185320, "mem_185320") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185316, "mem_185316") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185330, "mem_185330") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185328, "mem_185328") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185326, "mem_185326") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185351, "ext_mem_185351") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185354, "ext_mem_185354") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185357, "ext_mem_185357") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_185223, "mem_param_185223") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_185220, "mem_param_185220") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_185217, "mem_param_185217") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185387, "ext_mem_185387") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185388, "ext_mem_185388") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185389, "ext_mem_185389") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185213, "mem_185213") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185209, "mem_185209") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185205, "mem_185205") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185392, "ext_mem_185392") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185395, "ext_mem_185395") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185398, "ext_mem_185398") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185103, "mem_185103") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185101, "mem_185101") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185099, "mem_185099") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185877, "mem_param_tmp_185877") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185876, "mem_param_tmp_185876") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185875, "mem_param_tmp_185875") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184637, "mem_184637") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184633, "mem_184633") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184629, "mem_184629") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184582, "mem_184582") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184578, "mem_184578") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184574, "mem_184574") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184588, "mem_184588") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184586, "mem_184586") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184584, "mem_184584") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184609, "ext_mem_184609") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184612, "ext_mem_184612") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184615, "ext_mem_184615") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184481, "mem_param_184481") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184478, "mem_param_184478") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184475, "mem_param_184475") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184645, "ext_mem_184645") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184646, "ext_mem_184646") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184647, "ext_mem_184647") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184471, "mem_184471") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184467, "mem_184467") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184463, "mem_184463") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184650, "ext_mem_184650") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184653, "ext_mem_184653") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184656, "ext_mem_184656") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184361, "mem_184361") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184359, "mem_184359") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184357, "mem_184357") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184341, "mem_184341") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184339, "mem_184339") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184337, "mem_184337") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185048, "mem_185048") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185047, "mem_185047") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185045, "mem_185045") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185783, "mem_param_tmp_185783") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185782, "mem_param_tmp_185782") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185781, "mem_param_tmp_185781") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185000, "mem_185000") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184996, "mem_184996") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184992, "mem_184992") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184945, "mem_184945") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184941, "mem_184941") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184937, "mem_184937") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184951, "mem_184951") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184949, "mem_184949") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184947, "mem_184947") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184972, "ext_mem_184972") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184975, "ext_mem_184975") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184978, "ext_mem_184978") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184844, "mem_param_184844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184841, "mem_param_184841") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184838, "mem_param_184838") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185008, "ext_mem_185008") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185009, "ext_mem_185009") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185010, "ext_mem_185010") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184834, "mem_184834") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184830, "mem_184830") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184826, "mem_184826") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185013, "ext_mem_185013") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185016, "ext_mem_185016") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185019, "ext_mem_185019") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184724, "mem_184724") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184722, "mem_184722") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184720, "mem_184720") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185069, "ext_mem_185069") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185072, "ext_mem_185072") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185075, "ext_mem_185075") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184311, "mem_184311") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184309, "mem_184309") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184307, "mem_184307") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185721, "mem_out_185721") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185720, "mem_out_185720") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_long(struct futhark_context *ctx, struct memblock *mem_out_p_186205, struct memblock *mem_out_p_186206, struct memblock *mem_out_p_186207, int64_t *out_prim_out_186208, struct memblock a_list_mem_184305, struct memblock b_list_mem_184306, int64_t na_143131, int64_t nb_143132, int64_t window_sizze_143133, int64_t threads_143134, bool inParallel_143137)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_184322_cached_sizze_186209 = 0;
    unsigned char *mem_184322 = NULL;
    int64_t mem_184324_cached_sizze_186210 = 0;
    unsigned char *mem_184324 = NULL;
    int64_t mem_184363_cached_sizze_186211 = 0;
    unsigned char *mem_184363 = NULL;
    int64_t mem_184366_cached_sizze_186212 = 0;
    unsigned char *mem_184366 = NULL;
    int64_t mem_184369_cached_sizze_186213 = 0;
    unsigned char *mem_184369 = NULL;
    int64_t mem_184382_cached_sizze_186214 = 0;
    unsigned char *mem_184382 = NULL;
    int64_t mem_184384_cached_sizze_186215 = 0;
    unsigned char *mem_184384 = NULL;
    int64_t mem_184386_cached_sizze_186216 = 0;
    unsigned char *mem_184386 = NULL;
    int64_t mem_184483_cached_sizze_186217 = 0;
    unsigned char *mem_184483 = NULL;
    int64_t mem_184486_cached_sizze_186218 = 0;
    unsigned char *mem_184486 = NULL;
    int64_t mem_184489_cached_sizze_186219 = 0;
    unsigned char *mem_184489 = NULL;
    int64_t mem_184503_cached_sizze_186220 = 0;
    unsigned char *mem_184503 = NULL;
    int64_t mem_184505_cached_sizze_186221 = 0;
    unsigned char *mem_184505 = NULL;
    int64_t mem_184519_cached_sizze_186222 = 0;
    unsigned char *mem_184519 = NULL;
    int64_t mem_184522_cached_sizze_186223 = 0;
    unsigned char *mem_184522 = NULL;
    int64_t mem_184525_cached_sizze_186224 = 0;
    unsigned char *mem_184525 = NULL;
    int64_t mem_184667_cached_sizze_186225 = 0;
    unsigned char *mem_184667 = NULL;
    int64_t mem_184669_cached_sizze_186226 = 0;
    unsigned char *mem_184669 = NULL;
    int64_t mem_184684_cached_sizze_186227 = 0;
    unsigned char *mem_184684 = NULL;
    int64_t mem_184686_cached_sizze_186228 = 0;
    unsigned char *mem_184686 = NULL;
    int64_t mem_184689_cached_sizze_186229 = 0;
    unsigned char *mem_184689 = NULL;
    int64_t mem_184692_cached_sizze_186230 = 0;
    unsigned char *mem_184692 = NULL;
    int64_t mem_184726_cached_sizze_186231 = 0;
    unsigned char *mem_184726 = NULL;
    int64_t mem_184729_cached_sizze_186232 = 0;
    unsigned char *mem_184729 = NULL;
    int64_t mem_184732_cached_sizze_186233 = 0;
    unsigned char *mem_184732 = NULL;
    int64_t mem_184745_cached_sizze_186234 = 0;
    unsigned char *mem_184745 = NULL;
    int64_t mem_184747_cached_sizze_186235 = 0;
    unsigned char *mem_184747 = NULL;
    int64_t mem_184749_cached_sizze_186236 = 0;
    unsigned char *mem_184749 = NULL;
    int64_t mem_184846_cached_sizze_186237 = 0;
    unsigned char *mem_184846 = NULL;
    int64_t mem_184849_cached_sizze_186238 = 0;
    unsigned char *mem_184849 = NULL;
    int64_t mem_184852_cached_sizze_186239 = 0;
    unsigned char *mem_184852 = NULL;
    int64_t mem_184866_cached_sizze_186240 = 0;
    unsigned char *mem_184866 = NULL;
    int64_t mem_184868_cached_sizze_186241 = 0;
    unsigned char *mem_184868 = NULL;
    int64_t mem_184882_cached_sizze_186242 = 0;
    unsigned char *mem_184882 = NULL;
    int64_t mem_184885_cached_sizze_186243 = 0;
    unsigned char *mem_184885 = NULL;
    int64_t mem_184888_cached_sizze_186244 = 0;
    unsigned char *mem_184888 = NULL;
    int64_t mem_185105_cached_sizze_186245 = 0;
    unsigned char *mem_185105 = NULL;
    int64_t mem_185108_cached_sizze_186246 = 0;
    unsigned char *mem_185108 = NULL;
    int64_t mem_185111_cached_sizze_186247 = 0;
    unsigned char *mem_185111 = NULL;
    int64_t mem_185124_cached_sizze_186248 = 0;
    unsigned char *mem_185124 = NULL;
    int64_t mem_185126_cached_sizze_186249 = 0;
    unsigned char *mem_185126 = NULL;
    int64_t mem_185128_cached_sizze_186250 = 0;
    unsigned char *mem_185128 = NULL;
    int64_t mem_185225_cached_sizze_186251 = 0;
    unsigned char *mem_185225 = NULL;
    int64_t mem_185228_cached_sizze_186252 = 0;
    unsigned char *mem_185228 = NULL;
    int64_t mem_185231_cached_sizze_186253 = 0;
    unsigned char *mem_185231 = NULL;
    int64_t mem_185245_cached_sizze_186254 = 0;
    unsigned char *mem_185245 = NULL;
    int64_t mem_185247_cached_sizze_186255 = 0;
    unsigned char *mem_185247 = NULL;
    int64_t mem_185261_cached_sizze_186256 = 0;
    unsigned char *mem_185261 = NULL;
    int64_t mem_185264_cached_sizze_186257 = 0;
    unsigned char *mem_185264 = NULL;
    int64_t mem_185267_cached_sizze_186258 = 0;
    unsigned char *mem_185267 = NULL;
    struct memblock mem_param_tmp_185943;
    
    mem_param_tmp_185943.references = NULL;
    
    struct memblock mem_param_tmp_185942;
    
    mem_param_tmp_185942.references = NULL;
    
    struct memblock mem_param_tmp_185941;
    
    mem_param_tmp_185941.references = NULL;
    
    struct memblock mem_185379;
    
    mem_185379.references = NULL;
    
    struct memblock mem_185375;
    
    mem_185375.references = NULL;
    
    struct memblock mem_185371;
    
    mem_185371.references = NULL;
    
    struct memblock mem_185324;
    
    mem_185324.references = NULL;
    
    struct memblock mem_185320;
    
    mem_185320.references = NULL;
    
    struct memblock mem_185316;
    
    mem_185316.references = NULL;
    
    struct memblock mem_185330;
    
    mem_185330.references = NULL;
    
    struct memblock mem_185328;
    
    mem_185328.references = NULL;
    
    struct memblock mem_185326;
    
    mem_185326.references = NULL;
    
    struct memblock ext_mem_185351;
    
    ext_mem_185351.references = NULL;
    
    struct memblock ext_mem_185354;
    
    ext_mem_185354.references = NULL;
    
    struct memblock ext_mem_185357;
    
    ext_mem_185357.references = NULL;
    
    struct memblock mem_param_185223;
    
    mem_param_185223.references = NULL;
    
    struct memblock mem_param_185220;
    
    mem_param_185220.references = NULL;
    
    struct memblock mem_param_185217;
    
    mem_param_185217.references = NULL;
    
    struct memblock ext_mem_185387;
    
    ext_mem_185387.references = NULL;
    
    struct memblock ext_mem_185388;
    
    ext_mem_185388.references = NULL;
    
    struct memblock ext_mem_185389;
    
    ext_mem_185389.references = NULL;
    
    struct memblock mem_185213;
    
    mem_185213.references = NULL;
    
    struct memblock mem_185209;
    
    mem_185209.references = NULL;
    
    struct memblock mem_185205;
    
    mem_185205.references = NULL;
    
    struct memblock ext_mem_185392;
    
    ext_mem_185392.references = NULL;
    
    struct memblock ext_mem_185395;
    
    ext_mem_185395.references = NULL;
    
    struct memblock ext_mem_185398;
    
    ext_mem_185398.references = NULL;
    
    struct memblock mem_185103;
    
    mem_185103.references = NULL;
    
    struct memblock mem_185101;
    
    mem_185101.references = NULL;
    
    struct memblock mem_185099;
    
    mem_185099.references = NULL;
    
    struct memblock mem_param_tmp_185877;
    
    mem_param_tmp_185877.references = NULL;
    
    struct memblock mem_param_tmp_185876;
    
    mem_param_tmp_185876.references = NULL;
    
    struct memblock mem_param_tmp_185875;
    
    mem_param_tmp_185875.references = NULL;
    
    struct memblock mem_184637;
    
    mem_184637.references = NULL;
    
    struct memblock mem_184633;
    
    mem_184633.references = NULL;
    
    struct memblock mem_184629;
    
    mem_184629.references = NULL;
    
    struct memblock mem_184582;
    
    mem_184582.references = NULL;
    
    struct memblock mem_184578;
    
    mem_184578.references = NULL;
    
    struct memblock mem_184574;
    
    mem_184574.references = NULL;
    
    struct memblock mem_184588;
    
    mem_184588.references = NULL;
    
    struct memblock mem_184586;
    
    mem_184586.references = NULL;
    
    struct memblock mem_184584;
    
    mem_184584.references = NULL;
    
    struct memblock ext_mem_184609;
    
    ext_mem_184609.references = NULL;
    
    struct memblock ext_mem_184612;
    
    ext_mem_184612.references = NULL;
    
    struct memblock ext_mem_184615;
    
    ext_mem_184615.references = NULL;
    
    struct memblock mem_param_184481;
    
    mem_param_184481.references = NULL;
    
    struct memblock mem_param_184478;
    
    mem_param_184478.references = NULL;
    
    struct memblock mem_param_184475;
    
    mem_param_184475.references = NULL;
    
    struct memblock ext_mem_184645;
    
    ext_mem_184645.references = NULL;
    
    struct memblock ext_mem_184646;
    
    ext_mem_184646.references = NULL;
    
    struct memblock ext_mem_184647;
    
    ext_mem_184647.references = NULL;
    
    struct memblock mem_184471;
    
    mem_184471.references = NULL;
    
    struct memblock mem_184467;
    
    mem_184467.references = NULL;
    
    struct memblock mem_184463;
    
    mem_184463.references = NULL;
    
    struct memblock ext_mem_184650;
    
    ext_mem_184650.references = NULL;
    
    struct memblock ext_mem_184653;
    
    ext_mem_184653.references = NULL;
    
    struct memblock ext_mem_184656;
    
    ext_mem_184656.references = NULL;
    
    struct memblock mem_184361;
    
    mem_184361.references = NULL;
    
    struct memblock mem_184359;
    
    mem_184359.references = NULL;
    
    struct memblock mem_184357;
    
    mem_184357.references = NULL;
    
    struct memblock mem_184341;
    
    mem_184341.references = NULL;
    
    struct memblock mem_184339;
    
    mem_184339.references = NULL;
    
    struct memblock mem_184337;
    
    mem_184337.references = NULL;
    
    struct memblock mem_185048;
    
    mem_185048.references = NULL;
    
    struct memblock mem_185047;
    
    mem_185047.references = NULL;
    
    struct memblock mem_185045;
    
    mem_185045.references = NULL;
    
    struct memblock mem_param_tmp_185783;
    
    mem_param_tmp_185783.references = NULL;
    
    struct memblock mem_param_tmp_185782;
    
    mem_param_tmp_185782.references = NULL;
    
    struct memblock mem_param_tmp_185781;
    
    mem_param_tmp_185781.references = NULL;
    
    struct memblock mem_185000;
    
    mem_185000.references = NULL;
    
    struct memblock mem_184996;
    
    mem_184996.references = NULL;
    
    struct memblock mem_184992;
    
    mem_184992.references = NULL;
    
    struct memblock mem_184945;
    
    mem_184945.references = NULL;
    
    struct memblock mem_184941;
    
    mem_184941.references = NULL;
    
    struct memblock mem_184937;
    
    mem_184937.references = NULL;
    
    struct memblock mem_184951;
    
    mem_184951.references = NULL;
    
    struct memblock mem_184949;
    
    mem_184949.references = NULL;
    
    struct memblock mem_184947;
    
    mem_184947.references = NULL;
    
    struct memblock ext_mem_184972;
    
    ext_mem_184972.references = NULL;
    
    struct memblock ext_mem_184975;
    
    ext_mem_184975.references = NULL;
    
    struct memblock ext_mem_184978;
    
    ext_mem_184978.references = NULL;
    
    struct memblock mem_param_184844;
    
    mem_param_184844.references = NULL;
    
    struct memblock mem_param_184841;
    
    mem_param_184841.references = NULL;
    
    struct memblock mem_param_184838;
    
    mem_param_184838.references = NULL;
    
    struct memblock ext_mem_185008;
    
    ext_mem_185008.references = NULL;
    
    struct memblock ext_mem_185009;
    
    ext_mem_185009.references = NULL;
    
    struct memblock ext_mem_185010;
    
    ext_mem_185010.references = NULL;
    
    struct memblock mem_184834;
    
    mem_184834.references = NULL;
    
    struct memblock mem_184830;
    
    mem_184830.references = NULL;
    
    struct memblock mem_184826;
    
    mem_184826.references = NULL;
    
    struct memblock ext_mem_185013;
    
    ext_mem_185013.references = NULL;
    
    struct memblock ext_mem_185016;
    
    ext_mem_185016.references = NULL;
    
    struct memblock ext_mem_185019;
    
    ext_mem_185019.references = NULL;
    
    struct memblock mem_184724;
    
    mem_184724.references = NULL;
    
    struct memblock mem_184722;
    
    mem_184722.references = NULL;
    
    struct memblock mem_184720;
    
    mem_184720.references = NULL;
    
    struct memblock ext_mem_185069;
    
    ext_mem_185069.references = NULL;
    
    struct memblock ext_mem_185072;
    
    ext_mem_185072.references = NULL;
    
    struct memblock ext_mem_185075;
    
    ext_mem_185075.references = NULL;
    
    struct memblock mem_184311;
    
    mem_184311.references = NULL;
    
    struct memblock mem_184309;
    
    mem_184309.references = NULL;
    
    struct memblock mem_184307;
    
    mem_184307.references = NULL;
    
    struct memblock mem_out_185721;
    
    mem_out_185721.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t prim_out_185722;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803 = add64(na_143131, nb_143132);
    
    if (memblock_alloc(ctx, &mem_184307, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, "mem_184307")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_185723 = 0; nest_i_185723 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803; nest_i_185723++) {
        ((int8_t *) mem_184307.mem)[nest_i_185723] = (int8_t) -1;
    }
    
    int64_t bytes_184308 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803;
    
    if (memblock_alloc(ctx, &mem_184309, bytes_184308, "mem_184309")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_185724 = 0; nest_i_185724 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803; nest_i_185724++) {
        ((int64_t *) mem_184309.mem)[nest_i_185724] = (int64_t) -1;
    }
    if (memblock_alloc(ctx, &mem_184311, bytes_184308, "mem_184311")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_185725 = 0; nest_i_185725 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803; nest_i_185725++) {
        ((int64_t *) mem_184311.mem)[nest_i_185725] = (int64_t) 0;
    }
    
    int64_t zl_rhs_178807 = sub64(na_143131, window_sizze_143133);
    bool cond_178808 = slt64((int64_t) 0, zl_rhs_178807);
    int64_t zl_rhs_178809 = sub64(nb_143132, window_sizze_143133);
    bool loop_cond_t_res_178810 = slt64((int64_t) 0, zl_rhs_178809);
    bool x_178811 = cond_178808 && loop_cond_t_res_178810;
    bool empty_slice_178812 = window_sizze_143133 == (int64_t) 0;
    int64_t m_178813 = sub64(window_sizze_143133, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838 = add64((int64_t) 1, threads_143134);
    int64_t partitionFunc_arg0_179839 = mul64((int64_t) 2, threads_143134);
    bool y_179841 = slt64((int64_t) 0, window_sizze_143133);
    bool loop_cond_180078 = slt64((int64_t) 0, threads_143134);
    bool zzero_178858 = threads_143134 == (int64_t) 0;
    bool nonzzero_178859 = !zzero_178858;
    bool loop_not_taken_181607 = !inParallel_143137;
    bool protect_assert_disj_181608 = nonzzero_178859 || loop_not_taken_181607;
    bool loop_not_taken_181697 = !x_178811;
    bool protect_assert_disj_181698 = protect_assert_disj_181608 || loop_not_taken_181697;
    bool nonzzero_cert_178860;
    
    if (!protect_assert_disj_181698) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:251:24-32\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_178861 = sdiv_safe64(window_sizze_143133, threads_143134);
    int64_t perThread_178862 = add64((int64_t) 1, zp_rhs_178861);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_178863 = mul64(threads_143134, perThread_178862);
    bool protect_assert_disj_181744 = inParallel_143137 || y_179841;
    bool protect_assert_disj_181748 = loop_not_taken_181697 || protect_assert_disj_181744;
    bool index_certs_179842;
    
    if (!protect_assert_disj_181748) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:143:20-25\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_179855 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, (int64_t) 1);
    bool y_180805 = slt64(threads_143134, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
    bool protect_assert_disj_181713 = y_179841 || loop_not_taken_181607;
    bool protect_assert_disj_181752 = loop_not_taken_181697 || protect_assert_disj_181713;
    bool index_certs_178866;
    
    if (!protect_assert_disj_181752) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:143:20-25\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_179857 = !bounds_invalid_upwards_179855;
    bool protect_assert_disj_181760 = inParallel_143137 || y_180805;
    bool protect_assert_disj_181762 = loop_not_taken_181697 || protect_assert_disj_181760;
    bool index_certs_180807;
    
    if (!protect_assert_disj_181762) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_143134, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:241:7-31\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_181756 = y_180805 || loop_not_taken_181607;
    bool protect_assert_disj_181764 = loop_not_taken_181697 || protect_assert_disj_181756;
    bool index_certs_179820;
    
    if (!protect_assert_disj_181764) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_143134, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:279:7-31\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_181772 = inParallel_143137 || valid_179857;
    bool protect_assert_disj_181774 = loop_not_taken_181697 || protect_assert_disj_181772;
    bool range_valid_c_179858;
    
    if (!protect_assert_disj_181774) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, " is invalid.", "-> #0  ftsort.fut:145:36-50\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_181616 = sle64((int64_t) 1, threads_143134);
    bool protect_assert_disj_181768 = valid_179857 || loop_not_taken_181607;
    bool protect_assert_disj_181776 = loop_not_taken_181697 || protect_assert_disj_181768;
    bool range_valid_c_178873;
    
    if (!protect_assert_disj_181776) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, " is invalid.", "-> #0  ftsort.fut:145:36-50\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_179860 = add64(window_sizze_143133, window_sizze_143133);
    bool zzero_179861 = partitionFunc_arg0_179839 == (int64_t) 0;
    int64_t index_concat_i_181617 = sub64(threads_143134, (int64_t) 1);
    bool nonzzero_179862 = !zzero_179861;
    bool protect_assert_disj_181784 = inParallel_143137 || nonzzero_179862;
    bool protect_assert_disj_181790 = loop_not_taken_181697 || protect_assert_disj_181784;
    bool nonzzero_cert_179863;
    
    if (!protect_assert_disj_181790) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:148:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_181780 = nonzzero_179862 || loop_not_taken_181607;
    bool protect_assert_disj_181796 = loop_not_taken_181697 || protect_assert_disj_181780;
    bool nonzzero_cert_178878;
    
    if (!protect_assert_disj_181796) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:148:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184321 = (int64_t) 8 * threads_143134;
    int64_t bytes_184338 = (int64_t) 8 * window_sizze_143133;
    int64_t bytes_184683 = perThread_178862 * bytes_184321;
    bool defunc_0_merge_pipeline_res_178814;
    int64_t defunc_0_merge_pipeline_res_178818;
    int64_t defunc_0_merge_pipeline_res_178819;
    bool loop_while_178820;
    int64_t p_178824;
    int64_t p_178825;
    
    loop_while_178820 = x_178811;
    p_178824 = (int64_t) 0;
    p_178825 = (int64_t) 0;
    while (loop_while_178820) {
        int64_t ubs_178826 = add64(window_sizze_143133, p_178824);
        int64_t ubs_178827 = add64(window_sizze_143133, p_178825);
        int64_t ind_bottom_178828 = add64(p_178824, p_178825);
        int64_t ind_top_178829 = add64(window_sizze_143133, ind_bottom_178828);
        int64_t i_p_m_t_s_178830 = add64(m_178813, p_178824);
        bool zzero_leq_i_p_m_t_s_178831 = sle64((int64_t) 0, i_p_m_t_s_178830);
        bool i_p_m_t_s_leq_w_178832 = slt64(i_p_m_t_s_178830, na_143131);
        bool zzero_lte_i_178833 = sle64((int64_t) 0, p_178824);
        bool i_lte_j_178834 = sle64(p_178824, ubs_178826);
        bool y_178835 = i_p_m_t_s_leq_w_178832 && zzero_lte_i_178833;
        bool y_178836 = zzero_leq_i_p_m_t_s_178831 && y_178835;
        bool forwards_ok_178837 = i_lte_j_178834 && y_178836;
        bool ok_or_empty_178838 = empty_slice_178812 || forwards_ok_178837;
        bool index_certs_178839;
        
        if (!ok_or_empty_178838) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_178824, ":", (long long) ubs_178826, "] out of bounds for array of shape [", (long long) na_143131, "].", "-> #0  ftsort.fut:312:14-35\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_178841 = add64(m_178813, p_178825);
        bool zzero_leq_i_p_m_t_s_178842 = sle64((int64_t) 0, i_p_m_t_s_178841);
        bool i_p_m_t_s_leq_w_178843 = slt64(i_p_m_t_s_178841, nb_143132);
        bool zzero_lte_i_178844 = sle64((int64_t) 0, p_178825);
        bool i_lte_j_178845 = sle64(p_178825, ubs_178827);
        bool y_178846 = i_p_m_t_s_leq_w_178843 && zzero_lte_i_178844;
        bool y_178847 = zzero_leq_i_p_m_t_s_178842 && y_178846;
        bool forwards_ok_178848 = i_lte_j_178845 && y_178847;
        bool ok_or_empty_178849 = empty_slice_178812 || forwards_ok_178848;
        bool index_certs_178850;
        
        if (!ok_or_empty_178849) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_178825, ":", (long long) ubs_178827, "] out of bounds for array of shape [", (long long) nb_143132, "].", "-> #0  ftsort.fut:313:14-35\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_180819 = add64(m_178813, ind_bottom_178828);
        bool zzero_leq_i_p_m_t_s_180820 = sle64((int64_t) 0, i_p_m_t_s_180819);
        bool i_p_m_t_s_leq_w_180821 = slt64(i_p_m_t_s_180819, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803);
        bool zzero_lte_i_180822 = sle64((int64_t) 0, ind_bottom_178828);
        bool i_lte_j_180823 = sle64(ind_bottom_178828, ind_top_178829);
        bool y_180824 = i_p_m_t_s_leq_w_180821 && zzero_lte_i_180822;
        bool y_180825 = zzero_leq_i_p_m_t_s_180820 && y_180824;
        bool forwards_ok_180826 = i_lte_j_180823 && y_180825;
        bool ok_or_empty_180827 = empty_slice_178812 || forwards_ok_180826;
        bool index_certs_180828;
        
        if (!ok_or_empty_180827) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_178828, ":", (long long) ind_top_178829, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, "].", "-> #0  ftsort.fut:322:21-79\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_178852;
        int64_t loopres_178853;
        
        if (inParallel_143137) {
            int64_t leq_lhs_182277 = ((int64_t *) a_list_mem_184305.mem)[p_178824];
            int64_t leq_rhs_182278 = ((int64_t *) b_list_mem_184306.mem)[p_178825];
            bool defunc_0_leq_res_182279 = sle64(leq_lhs_182277, leq_rhs_182278);
            int64_t lowest_182280;
            
            if (defunc_0_leq_res_182279) {
                lowest_182280 = leq_lhs_182277;
            } else {
                lowest_182280 = leq_rhs_182278;
            }
            if (mem_184667_cached_sizze_186225 < bytes_184321) {
                err = lexical_realloc(ctx, &mem_184667, &mem_184667_cached_sizze_186225, bytes_184321);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184669_cached_sizze_186226 < bytes_184321) {
                err = lexical_realloc(ctx, &mem_184669, &mem_184669_cached_sizze_186226, bytes_184321);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_183969 = 0; i_183969 < threads_143134; i_183969++) {
                int64_t index_primexp_184241 = add64((int64_t) 1, i_183969);
                int64_t zs_lhs_182285 = mul64(zt_rhs_179860, index_primexp_184241);
                int64_t index_182286 = sdiv64(zs_lhs_182285, partitionFunc_arg0_179839);
                bool cond_182287 = slt64(window_sizze_143133, index_182286);
                int64_t loop_over_182288;
                
                if (cond_182287) {
                    loop_over_182288 = window_sizze_143133;
                } else {
                    loop_over_182288 = index_182286;
                }
                
                int64_t loop_over_182289;
                
                if (cond_182287) {
                    int64_t loop_over_t_res_182290 = sub64(index_182286, window_sizze_143133);
                    
                    loop_over_182289 = loop_over_t_res_182290;
                } else {
                    loop_over_182289 = (int64_t) 0;
                }
                
                int64_t loop_over_182291;
                
                if (cond_182287) {
                    int64_t zm_lhs_182292 = sub64(index_182286, window_sizze_143133);
                    int64_t loop_over_t_res_182293 = sub64(zm_lhs_182292, (int64_t) 1);
                    
                    loop_over_182291 = loop_over_t_res_182293;
                } else {
                    loop_over_182291 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_182294;
                int64_t defunc_0_f_res_182295;
                int64_t defunc_0_f_res_182296;
                int64_t defunc_0_f_res_182297;
                bool loop_while_182298;
                int64_t p_182299;
                int64_t p_182300;
                int64_t p_182301;
                
                loop_while_182298 = 1;
                p_182299 = loop_over_182291;
                p_182300 = loop_over_182288;
                p_182301 = loop_over_182289;
                while (loop_while_182298) {
                    int64_t zs_lhs_182302 = sub64(p_182300, p_182299);
                    int64_t offset_182303 = sdiv64(zs_lhs_182302, (int64_t) 2);
                    int64_t ai_182304 = sub64(p_182300, offset_182303);
                    int64_t max_arg1_182305 = add64(p_182301, offset_182303);
                    int64_t max_res_182306 = smax64((int64_t) 0, max_arg1_182305);
                    bool cond_182307 = slt64((int64_t) 0, max_res_182306);
                    int64_t b_prev_182308;
                    
                    if (cond_182307) {
                        int64_t tmp_182309 = sub64(max_res_182306, (int64_t) 1);
                        bool x_182310 = sle64((int64_t) 0, tmp_182309);
                        bool y_182311 = slt64(tmp_182309, window_sizze_143133);
                        bool bounds_check_182312 = x_182310 && y_182311;
                        bool index_certs_182313;
                        
                        if (!bounds_check_182312) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_182309, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:160:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_182314 = p_178825 + tmp_182309;
                        int64_t b_prev_t_res_182315 = ((int64_t *) b_list_mem_184306.mem)[slice_182314];
                        
                        b_prev_182308 = b_prev_t_res_182315;
                    } else {
                        b_prev_182308 = lowest_182280;
                    }
                    
                    bool cond_182316 = sle64(ai_182304, (int64_t) 0);
                    int64_t loopres_182317;
                    int64_t loopres_182318;
                    int64_t loopres_182319;
                    bool loopres_182320;
                    
                    if (cond_182316) {
                        loopres_182317 = p_182299;
                        loopres_182318 = (int64_t) 0;
                        loopres_182319 = max_res_182306;
                        loopres_182320 = 0;
                    } else {
                        bool cond_182321 = sle64(window_sizze_143133, max_res_182306);
                        int64_t loopres_f_res_182322;
                        int64_t loopres_f_res_182323;
                        int64_t loopres_f_res_182324;
                        bool loopres_f_res_182325;
                        
                        if (cond_182321) {
                            int64_t min_res_182327 = smin64(m_178813, ai_182304);
                            bool x_182328 = sle64((int64_t) 0, m_178813);
                            bool y_182329 = slt64(m_178813, window_sizze_143133);
                            bool bounds_check_182330 = x_182328 && y_182329;
                            bool index_certs_182331;
                            
                            if (!bounds_check_182330) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_178813, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:171:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_182334 = sle64((int64_t) 0, min_res_182327);
                            bool y_182335 = slt64(min_res_182327, window_sizze_143133);
                            bool bounds_check_182336 = x_182334 && y_182335;
                            bool index_certs_182337;
                            
                            if (!bounds_check_182336) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_182327, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:171:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t leq_lhs_182333 = ((int64_t *) b_list_mem_184306.mem)[i_p_m_t_s_178841];
                            int64_t slice_182338 = p_178824 + min_res_182327;
                            int64_t leq_rhs_182339 = ((int64_t *) a_list_mem_184305.mem)[slice_182338];
                            bool defunc_0_leq_res_182340 = sle64(leq_lhs_182333, leq_rhs_182339);
                            int64_t loopres_f_res_t_res_182341;
                            
                            if (defunc_0_leq_res_182340) {
                                loopres_f_res_t_res_182341 = ai_182304;
                            } else {
                                loopres_f_res_t_res_182341 = p_182300;
                            }
                            
                            bool x_182342 = !defunc_0_leq_res_182340;
                            int64_t loopres_f_res_t_res_182343;
                            
                            if (defunc_0_leq_res_182340) {
                                loopres_f_res_t_res_182343 = window_sizze_143133;
                            } else {
                                int64_t tmp_182344 = sub64(m_178813, offset_182303);
                                
                                loopres_f_res_t_res_182343 = tmp_182344;
                            }
                            loopres_f_res_182322 = p_182299;
                            loopres_f_res_182323 = loopres_f_res_t_res_182341;
                            loopres_f_res_182324 = loopres_f_res_t_res_182343;
                            loopres_f_res_182325 = x_182342;
                        } else {
                            bool cond_182345 = sle64(window_sizze_143133, ai_182304);
                            int64_t loopres_f_res_f_res_182346;
                            int64_t loopres_f_res_f_res_182347;
                            int64_t loopres_f_res_f_res_182348;
                            bool loopres_f_res_f_res_182349;
                            
                            if (cond_182345) {
                                int64_t min_res_182351 = smin64(m_178813, max_res_182306);
                                bool x_182352 = sle64((int64_t) 0, m_178813);
                                bool y_182353 = slt64(m_178813, window_sizze_143133);
                                bool bounds_check_182354 = x_182352 && y_182353;
                                bool index_certs_182355;
                                
                                if (!bounds_check_182354) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_178813, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:178:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_182358 = sle64((int64_t) 0, min_res_182351);
                                bool y_182359 = slt64(min_res_182351, window_sizze_143133);
                                bool bounds_check_182360 = x_182358 && y_182359;
                                bool index_certs_182361;
                                
                                if (!bounds_check_182360) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_182351, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:178:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t leq_lhs_182357 = ((int64_t *) a_list_mem_184305.mem)[i_p_m_t_s_178830];
                                int64_t slice_182362 = p_178825 + min_res_182351;
                                int64_t leq_rhs_182363 = ((int64_t *) b_list_mem_184306.mem)[slice_182362];
                                bool defunc_0_leq_res_182364 = sle64(leq_lhs_182357, leq_rhs_182363);
                                int64_t loopres_f_res_f_res_t_res_182365;
                                
                                if (defunc_0_leq_res_182364) {
                                    loopres_f_res_f_res_t_res_182365 = max_res_182306;
                                } else {
                                    loopres_f_res_f_res_t_res_182365 = p_182301;
                                }
                                
                                bool x_182366 = !defunc_0_leq_res_182364;
                                int64_t loopres_f_res_f_res_t_res_182367;
                                
                                if (defunc_0_leq_res_182364) {
                                    loopres_f_res_f_res_t_res_182367 = window_sizze_143133;
                                } else {
                                    loopres_f_res_f_res_t_res_182367 = m_178813;
                                }
                                loopres_f_res_f_res_182346 = p_182299;
                                loopres_f_res_f_res_182347 = loopres_f_res_f_res_t_res_182367;
                                loopres_f_res_f_res_182348 = loopres_f_res_f_res_t_res_182365;
                                loopres_f_res_f_res_182349 = x_182366;
                            } else {
                                bool cond_182368 = sle64(p_182300, p_182299);
                                int64_t loopres_f_res_f_res_f_res_182369;
                                int64_t loopres_f_res_f_res_f_res_182370;
                                int64_t loopres_f_res_f_res_f_res_182371;
                                bool loopres_f_res_f_res_f_res_182372;
                                
                                if (cond_182368) {
                                    bool cond_182373 = slt64(ai_182304, window_sizze_143133);
                                    int64_t ai_182374;
                                    
                                    if (cond_182373) {
                                        ai_182374 = ai_182304;
                                    } else {
                                        ai_182374 = m_178813;
                                    }
                                    
                                    bool x_182387 = sle64((int64_t) 0, ai_182374);
                                    bool y_182388 = slt64(ai_182374, window_sizze_143133);
                                    bool bounds_check_182389 = x_182387 && y_182388;
                                    bool index_certs_182390;
                                    
                                    if (!bounds_check_182389) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_182374, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:114:8-14\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t b_prev_182376;
                                    
                                    if (cond_182307) {
                                        int64_t tmp_182377 = sub64(max_res_182306, (int64_t) 1);
                                        bool x_182378 = sle64((int64_t) 0, tmp_182377);
                                        bool y_182379 = slt64(tmp_182377, window_sizze_143133);
                                        bool bounds_check_182380 = x_182378 && y_182379;
                                        bool index_certs_182381;
                                        
                                        if (!bounds_check_182380) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_182377, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:112:31-39\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_182382 = p_178825 + tmp_182377;
                                        int64_t b_prev_t_res_182383 = ((int64_t *) b_list_mem_184306.mem)[slice_182382];
                                        
                                        b_prev_182376 = b_prev_t_res_182383;
                                    } else {
                                        bool index_certs_182385;
                                        
                                        if (!y_179841) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:112:45-50\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_182376 = leq_rhs_182278;
                                    }
                                    
                                    int64_t slice_182391 = p_178824 + ai_182374;
                                    int64_t gt_lhs_182392 = ((int64_t *) a_list_mem_184305.mem)[slice_182391];
                                    bool defunc_0_gt_res_182393 = slt64(b_prev_182376, gt_lhs_182392);
                                    int64_t defunc_0_partFunc_sequential_search_res_182394;
                                    int64_t defunc_0_partFunc_sequential_search_res_182395;
                                    
                                    if (defunc_0_gt_res_182393) {
                                        int64_t zl_rhs_182396 = sub64(window_sizze_143133, max_res_182306);
                                        bool loop_cond_182397 = slt64((int64_t) 0, zl_rhs_182396);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_182398;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_182399;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_182400;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_182401;
                                        bool loop_while_182402;
                                        int64_t p_182403;
                                        int64_t p_182404;
                                        int64_t p_182405;
                                        
                                        loop_while_182402 = loop_cond_182397;
                                        p_182403 = ai_182374;
                                        p_182404 = max_res_182306;
                                        p_182405 = (int64_t) 0;
                                        while (loop_while_182402) {
                                            int64_t i_a_182406 = sub64(ai_182374, p_182405);
                                            int64_t i_b_182407 = add64(max_res_182306, p_182405);
                                            int64_t leq_lhs_182408 = sub64(i_a_182406, (int64_t) 1);
                                            bool x_182409 = sle64((int64_t) 0, leq_lhs_182408);
                                            bool y_182410 = slt64(leq_lhs_182408, window_sizze_143133);
                                            bool bounds_check_182411 = x_182409 && y_182410;
                                            bool index_certs_182412;
                                            
                                            if (!bounds_check_182411) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_182408, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:120:15-24\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_182415 = sle64((int64_t) 0, i_b_182407);
                                            bool y_182416 = slt64(i_b_182407, window_sizze_143133);
                                            bool bounds_check_182417 = x_182415 && y_182416;
                                            bool index_certs_182418;
                                            
                                            if (!bounds_check_182417) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_182407, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:120:31-38\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_182413 = p_178824 + leq_lhs_182408;
                                            int64_t leq_lhs_182414 = ((int64_t *) a_list_mem_184305.mem)[slice_182413];
                                            int64_t slice_182419 = p_178825 + i_b_182407;
                                            int64_t leq_rhs_182420 = ((int64_t *) b_list_mem_184306.mem)[slice_182419];
                                            bool defunc_0_leq_res_182421 = sle64(leq_lhs_182414, leq_rhs_182420);
                                            int64_t loopres_182422;
                                            
                                            if (defunc_0_leq_res_182421) {
                                                loopres_182422 = i_a_182406;
                                            } else {
                                                loopres_182422 = ai_182374;
                                            }
                                            
                                            int64_t loopres_182423;
                                            
                                            if (defunc_0_leq_res_182421) {
                                                loopres_182423 = i_b_182407;
                                            } else {
                                                loopres_182423 = max_res_182306;
                                            }
                                            
                                            int64_t loopres_182424;
                                            
                                            if (defunc_0_leq_res_182421) {
                                                loopres_182424 = zl_rhs_182396;
                                            } else {
                                                int64_t tmp_182425 = add64((int64_t) 1, p_182405);
                                                
                                                loopres_182424 = tmp_182425;
                                            }
                                            
                                            bool loop_cond_182426 = slt64(loopres_182424, zl_rhs_182396);
                                            bool loop_while_tmp_185738 = loop_cond_182426;
                                            int64_t p_tmp_185739 = loopres_182422;
                                            int64_t p_tmp_185740 = loopres_182423;
                                            int64_t p_tmp_185741 = loopres_182424;
                                            
                                            loop_while_182402 = loop_while_tmp_185738;
                                            p_182403 = p_tmp_185739;
                                            p_182404 = p_tmp_185740;
                                            p_182405 = p_tmp_185741;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_182398 = loop_while_182402;
                                        defunc_0_partFunc_sequential_search_res_t_res_182399 = p_182403;
                                        defunc_0_partFunc_sequential_search_res_t_res_182400 = p_182404;
                                        defunc_0_partFunc_sequential_search_res_t_res_182401 = p_182405;
                                        defunc_0_partFunc_sequential_search_res_182394 = defunc_0_partFunc_sequential_search_res_t_res_182399;
                                        defunc_0_partFunc_sequential_search_res_182395 = defunc_0_partFunc_sequential_search_res_t_res_182400;
                                    } else {
                                        int64_t zl_rhs_182427 = sub64(max_res_182306, (int64_t) 1);
                                        bool loop_cond_182428 = slt64((int64_t) 0, zl_rhs_182427);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_182429;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_182430;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_182431;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_182432;
                                        bool loop_while_182433;
                                        int64_t p_182434;
                                        int64_t p_182435;
                                        int64_t p_182436;
                                        
                                        loop_while_182433 = loop_cond_182428;
                                        p_182434 = ai_182374;
                                        p_182435 = max_res_182306;
                                        p_182436 = (int64_t) 0;
                                        while (loop_while_182433) {
                                            int64_t zp_lhs_182437 = add64(ai_182374, p_182436);
                                            int64_t hi_a_182438 = add64((int64_t) 1, zp_lhs_182437);
                                            bool cond_182439 = slt64(hi_a_182438, window_sizze_143133);
                                            int64_t i_a_182440;
                                            
                                            if (cond_182439) {
                                                i_a_182440 = hi_a_182438;
                                            } else {
                                                i_a_182440 = m_178813;
                                            }
                                            
                                            int64_t zm_lhs_182442 = sub64(max_res_182306, p_182436);
                                            int64_t i_b_182443 = sub64(zm_lhs_182442, (int64_t) 1);
                                            bool x_182444 = sle64((int64_t) 0, i_a_182440);
                                            bool y_182445 = slt64(i_a_182440, window_sizze_143133);
                                            bool bounds_check_182446 = x_182444 && y_182445;
                                            bool index_certs_182447;
                                            
                                            if (!bounds_check_182446) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_182440, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:130:15-22\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_182450 = sle64((int64_t) 0, i_b_182443);
                                            bool y_182451 = slt64(i_b_182443, window_sizze_143133);
                                            bool bounds_check_182452 = x_182450 && y_182451;
                                            bool index_certs_182453;
                                            
                                            if (!bounds_check_182452) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_182443, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:130:28-35\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_182448 = p_178824 + i_a_182440;
                                            int64_t gt_lhs_182449 = ((int64_t *) a_list_mem_184305.mem)[slice_182448];
                                            int64_t slice_182454 = p_178825 + i_b_182443;
                                            int64_t gt_rhs_182455 = ((int64_t *) b_list_mem_184306.mem)[slice_182454];
                                            bool defunc_0_gt_res_182456 = slt64(gt_rhs_182455, gt_lhs_182449);
                                            int64_t loopres_182457;
                                            
                                            if (defunc_0_gt_res_182456) {
                                                loopres_182457 = i_a_182440;
                                            } else {
                                                loopres_182457 = ai_182374;
                                            }
                                            
                                            int64_t loopres_182458;
                                            
                                            if (defunc_0_gt_res_182456) {
                                                loopres_182458 = zm_lhs_182442;
                                            } else {
                                                loopres_182458 = max_res_182306;
                                            }
                                            
                                            int64_t loopres_182459;
                                            
                                            if (defunc_0_gt_res_182456) {
                                                loopres_182459 = zl_rhs_182427;
                                            } else {
                                                int64_t tmp_182460 = add64((int64_t) 1, p_182436);
                                                
                                                loopres_182459 = tmp_182460;
                                            }
                                            
                                            bool loop_cond_182461 = slt64(loopres_182459, zl_rhs_182427);
                                            bool loop_while_tmp_185742 = loop_cond_182461;
                                            int64_t p_tmp_185743 = loopres_182457;
                                            int64_t p_tmp_185744 = loopres_182458;
                                            int64_t p_tmp_185745 = loopres_182459;
                                            
                                            loop_while_182433 = loop_while_tmp_185742;
                                            p_182434 = p_tmp_185743;
                                            p_182435 = p_tmp_185744;
                                            p_182436 = p_tmp_185745;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_182429 = loop_while_182433;
                                        defunc_0_partFunc_sequential_search_res_f_res_182430 = p_182434;
                                        defunc_0_partFunc_sequential_search_res_f_res_182431 = p_182435;
                                        defunc_0_partFunc_sequential_search_res_f_res_182432 = p_182436;
                                        defunc_0_partFunc_sequential_search_res_182394 = defunc_0_partFunc_sequential_search_res_f_res_182430;
                                        defunc_0_partFunc_sequential_search_res_182395 = defunc_0_partFunc_sequential_search_res_f_res_182431;
                                    }
                                    loopres_f_res_f_res_f_res_182369 = p_182299;
                                    loopres_f_res_f_res_f_res_182370 = defunc_0_partFunc_sequential_search_res_182394;
                                    loopres_f_res_f_res_f_res_182371 = defunc_0_partFunc_sequential_search_res_182395;
                                    loopres_f_res_f_res_f_res_182372 = 0;
                                } else {
                                    bool x_182462 = sle64((int64_t) 0, ai_182304);
                                    bool y_182463 = slt64(ai_182304, window_sizze_143133);
                                    bool bounds_check_182464 = x_182462 && y_182463;
                                    bool index_certs_182465;
                                    
                                    if (!bounds_check_182464) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_182304, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:186:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_182466 = p_178824 + ai_182304;
                                    int64_t gt_lhs_182467 = ((int64_t *) a_list_mem_184305.mem)[slice_182466];
                                    bool defunc_0_gt_res_182468 = slt64(b_prev_182308, gt_lhs_182467);
                                    int64_t loopres_f_res_f_res_f_res_f_res_182469;
                                    int64_t loopres_f_res_f_res_f_res_f_res_182470;
                                    int64_t loopres_f_res_f_res_f_res_f_res_182471;
                                    bool loopres_f_res_f_res_f_res_f_res_182472;
                                    
                                    if (defunc_0_gt_res_182468) {
                                        int64_t leq_lhs_182473 = sub64(ai_182304, (int64_t) 1);
                                        bool x_182474 = sle64((int64_t) 0, leq_lhs_182473);
                                        bool y_182475 = slt64(leq_lhs_182473, window_sizze_143133);
                                        bool bounds_check_182476 = x_182474 && y_182475;
                                        bool index_certs_182477;
                                        
                                        if (!bounds_check_182476) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_182473, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:187:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_182480 = sle64((int64_t) 0, max_res_182306);
                                        bool y_182481 = slt64(max_res_182306, window_sizze_143133);
                                        bool bounds_check_182482 = x_182480 && y_182481;
                                        bool index_certs_182483;
                                        
                                        if (!bounds_check_182482) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_182306, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:187:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_182478 = p_178824 + leq_lhs_182473;
                                        int64_t leq_lhs_182479 = ((int64_t *) a_list_mem_184305.mem)[slice_182478];
                                        int64_t slice_182484 = p_178825 + max_res_182306;
                                        int64_t leq_rhs_182485 = ((int64_t *) b_list_mem_184306.mem)[slice_182484];
                                        bool defunc_0_leq_res_182486 = sle64(leq_lhs_182479, leq_rhs_182485);
                                        bool x_182487 = !defunc_0_leq_res_182486;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_182488;
                                        
                                        if (defunc_0_leq_res_182486) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_182488 = ai_182304;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_182488 = leq_lhs_182473;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_182489;
                                        
                                        if (defunc_0_leq_res_182486) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_182489 = max_res_182306;
                                        } else {
                                            int64_t tmp_182490 = add64((int64_t) 1, max_res_182306);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_182489 = tmp_182490;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_182469 = p_182299;
                                        loopres_f_res_f_res_f_res_f_res_182470 = loopres_f_res_f_res_f_res_f_res_t_res_182488;
                                        loopres_f_res_f_res_f_res_f_res_182471 = loopres_f_res_f_res_f_res_f_res_t_res_182489;
                                        loopres_f_res_f_res_f_res_f_res_182472 = x_182487;
                                    } else {
                                        int64_t tmp_182491 = add64((int64_t) 1, ai_182304);
                                        
                                        loopres_f_res_f_res_f_res_f_res_182469 = tmp_182491;
                                        loopres_f_res_f_res_f_res_f_res_182470 = p_182300;
                                        loopres_f_res_f_res_f_res_f_res_182471 = p_182301;
                                        loopres_f_res_f_res_f_res_f_res_182472 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_182369 = loopres_f_res_f_res_f_res_f_res_182469;
                                    loopres_f_res_f_res_f_res_182370 = loopres_f_res_f_res_f_res_f_res_182470;
                                    loopres_f_res_f_res_f_res_182371 = loopres_f_res_f_res_f_res_f_res_182471;
                                    loopres_f_res_f_res_f_res_182372 = loopres_f_res_f_res_f_res_f_res_182472;
                                }
                                loopres_f_res_f_res_182346 = loopres_f_res_f_res_f_res_182369;
                                loopres_f_res_f_res_182347 = loopres_f_res_f_res_f_res_182370;
                                loopres_f_res_f_res_182348 = loopres_f_res_f_res_f_res_182371;
                                loopres_f_res_f_res_182349 = loopres_f_res_f_res_f_res_182372;
                            }
                            loopres_f_res_182322 = loopres_f_res_f_res_182346;
                            loopres_f_res_182323 = loopres_f_res_f_res_182347;
                            loopres_f_res_182324 = loopres_f_res_f_res_182348;
                            loopres_f_res_182325 = loopres_f_res_f_res_182349;
                        }
                        loopres_182317 = loopres_f_res_182322;
                        loopres_182318 = loopres_f_res_182323;
                        loopres_182319 = loopres_f_res_182324;
                        loopres_182320 = loopres_f_res_182325;
                    }
                    
                    bool loop_while_tmp_185734 = loopres_182320;
                    int64_t p_tmp_185735 = loopres_182317;
                    int64_t p_tmp_185736 = loopres_182318;
                    int64_t p_tmp_185737 = loopres_182319;
                    
                    loop_while_182298 = loop_while_tmp_185734;
                    p_182299 = p_tmp_185735;
                    p_182300 = p_tmp_185736;
                    p_182301 = p_tmp_185737;
                }
                defunc_0_f_res_182294 = loop_while_182298;
                defunc_0_f_res_182295 = p_182299;
                defunc_0_f_res_182296 = p_182300;
                defunc_0_f_res_182297 = p_182301;
                ((int64_t *) mem_184667)[i_183969] = defunc_0_f_res_182296;
                ((int64_t *) mem_184669)[i_183969] = defunc_0_f_res_182297;
            }
            if (mem_184684_cached_sizze_186227 < bytes_184683) {
                err = lexical_realloc(ctx, &mem_184684, &mem_184684_cached_sizze_186227, bytes_184683);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184686_cached_sizze_186228 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_178863) {
                err = lexical_realloc(ctx, &mem_184686, &mem_184686_cached_sizze_186228, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_178863);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184689_cached_sizze_186229 < bytes_184683) {
                err = lexical_realloc(ctx, &mem_184689, &mem_184689_cached_sizze_186229, bytes_184683);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184692_cached_sizze_186230 < bytes_184683) {
                err = lexical_realloc(ctx, &mem_184692, &mem_184692_cached_sizze_186230, bytes_184683);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_184035 = 0; i_184035 < threads_143134; i_184035++) {
                bool y_182505 = slt64(i_184035, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
                bool index_certs_182507;
                
                if (!y_182505) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_184035, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:257:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:375:63-73\n   #3  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_182508 = sle64((int64_t) 1, i_184035);
                int64_t index_concat_i_182509 = sub64(i_184035, (int64_t) 1);
                int64_t index_concat_182510;
                
                if (index_concat_cmp_182508) {
                    int64_t x_182511 = ((int64_t *) mem_184667)[index_concat_i_182509];
                    
                    index_concat_182510 = x_182511;
                } else {
                    index_concat_182510 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_182512;
                
                if (index_concat_cmp_182508) {
                    index_concat_branch_182512 = index_concat_182510;
                } else {
                    index_concat_branch_182512 = (int64_t) 0;
                }
                
                int64_t index_concat_182513;
                
                if (index_concat_cmp_182508) {
                    int64_t x_182514 = ((int64_t *) mem_184669)[index_concat_i_182509];
                    
                    index_concat_182513 = x_182514;
                } else {
                    index_concat_182513 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_182515;
                
                if (index_concat_cmp_182508) {
                    index_concat_branch_182515 = index_concat_182513;
                } else {
                    index_concat_branch_182515 = (int64_t) 0;
                }
                
                int64_t ubs_182516 = add64((int64_t) 1, i_184035);
                bool x_182517 = sle64((int64_t) 0, ubs_182516);
                bool y_182518 = slt64(ubs_182516, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
                bool bounds_check_182519 = x_182517 && y_182518;
                bool index_certs_182520;
                
                if (!bounds_check_182519) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_182516, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:258:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:375:63-73\n   #3  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_182521 = sle64((int64_t) 1, ubs_182516);
                int64_t index_concat_182522;
                
                if (index_concat_cmp_182521) {
                    int64_t x_182523 = ((int64_t *) mem_184667)[i_184035];
                    
                    index_concat_182522 = x_182523;
                } else {
                    index_concat_182522 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_182524;
                
                if (index_concat_cmp_182521) {
                    index_concat_branch_182524 = index_concat_182522;
                } else {
                    index_concat_branch_182524 = (int64_t) 0;
                }
                
                int64_t index_concat_182525;
                
                if (index_concat_cmp_182521) {
                    int64_t x_182526 = ((int64_t *) mem_184669)[i_184035];
                    
                    index_concat_182525 = x_182526;
                } else {
                    index_concat_182525 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_182527;
                
                if (index_concat_cmp_182521) {
                    index_concat_branch_182527 = index_concat_182525;
                } else {
                    index_concat_branch_182527 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528 = sub64(index_concat_branch_182527, index_concat_branch_182515);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529 = sub64(index_concat_branch_182524, index_concat_branch_182512);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                int64_t zm_lhs_182531 = add64(index_concat_branch_182524, index_concat_branch_182527);
                int64_t zm_rhs_182532 = add64(index_concat_branch_182512, index_concat_branch_182515);
                int64_t card_182533 = sub64(zm_lhs_182531, zm_rhs_182532);
                bool empty_slice_182534 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529 == (int64_t) 0;
                int64_t m_182535 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, (int64_t) 1);
                int64_t i_p_m_t_s_182536 = add64(index_concat_branch_182512, m_182535);
                bool zzero_leq_i_p_m_t_s_182537 = sle64((int64_t) 0, i_p_m_t_s_182536);
                bool i_p_m_t_s_leq_w_182538 = slt64(i_p_m_t_s_182536, window_sizze_143133);
                bool zzero_lte_i_182539 = sle64((int64_t) 0, index_concat_branch_182512);
                bool i_lte_j_182540 = sle64(index_concat_branch_182512, index_concat_branch_182524);
                bool y_182541 = i_p_m_t_s_leq_w_182538 && zzero_lte_i_182539;
                bool y_182542 = zzero_leq_i_p_m_t_s_182537 && y_182541;
                bool forwards_ok_182543 = i_lte_j_182540 && y_182542;
                bool ok_or_empty_182544 = empty_slice_182534 || forwards_ok_182543;
                bool index_certs_182545;
                
                if (!ok_or_empty_182544) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_182512, ":", (long long) index_concat_branch_182524, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:260:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:375:63-73\n   #3  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_182546 = slt64(index_concat_branch_182524, index_concat_branch_182512);
                bool valid_182547 = !bounds_invalid_upwards_182546;
                bool range_valid_c_182548;
                
                if (!valid_182547) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_182512, "..<", (long long) index_concat_branch_182524, " is invalid.", "-> #0  ftsort.fut:260:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:375:63-73\n   #3  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_182553 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528 == (int64_t) 0;
                int64_t m_182554 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528, (int64_t) 1);
                int64_t i_p_m_t_s_182555 = add64(index_concat_branch_182515, m_182554);
                bool zzero_leq_i_p_m_t_s_182556 = sle64((int64_t) 0, i_p_m_t_s_182555);
                bool i_p_m_t_s_leq_w_182557 = slt64(i_p_m_t_s_182555, window_sizze_143133);
                bool zzero_lte_i_182558 = sle64((int64_t) 0, index_concat_branch_182515);
                bool i_lte_j_182559 = sle64(index_concat_branch_182515, index_concat_branch_182527);
                bool y_182560 = i_p_m_t_s_leq_w_182557 && zzero_lte_i_182558;
                bool y_182561 = zzero_leq_i_p_m_t_s_182556 && y_182560;
                bool forwards_ok_182562 = i_lte_j_182559 && y_182561;
                bool ok_or_empty_182563 = empty_slice_182553 || forwards_ok_182562;
                bool index_certs_182564;
                
                if (!ok_or_empty_182563) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_182515, ":", (long long) index_concat_branch_182527, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:261:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:375:63-73\n   #3  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_182565 = slt64(index_concat_branch_182527, index_concat_branch_182515);
                bool valid_182566 = !bounds_invalid_upwards_182565;
                bool range_valid_c_182567;
                
                if (!valid_182566) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_182515, "..<", (long long) index_concat_branch_182527, " is invalid.", "-> #0  ftsort.fut:261:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:375:63-73\n   #3  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_184721 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530;
                bool cond_182575 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, (int64_t) 1);
                int64_t zs_lhs_182576 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, (int64_t) 1);
                int64_t zp_rhs_182577 = sdiv_safe64(zs_lhs_182576, (int64_t) 20);
                int64_t min_num_blocks_182578 = add64((int64_t) 1, zp_rhs_182577);
                bool loop_cond_182579 = slt64((int64_t) 1, min_num_blocks_182578);
                bool smallest_pow_2_geq_than_res_182580;
                int64_t smallest_pow_2_geq_than_res_182581;
                bool loop_while_182582;
                int64_t x_182583;
                
                loop_while_182582 = loop_cond_182579;
                x_182583 = (int64_t) 1;
                while (loop_while_182582) {
                    int64_t loopres_182584 = mul64((int64_t) 2, x_182583);
                    bool loop_cond_182585 = slt64(loopres_182584, min_num_blocks_182578);
                    bool loop_while_tmp_185750 = loop_cond_182585;
                    int64_t x_tmp_185751 = loopres_182584;
                    
                    loop_while_182582 = loop_while_tmp_185750;
                    x_182583 = x_tmp_185751;
                }
                smallest_pow_2_geq_than_res_182580 = loop_while_182582;
                smallest_pow_2_geq_than_res_182581 = x_182583;
                
                bool zzero_182586 = smallest_pow_2_geq_than_res_182581 == (int64_t) 0;
                bool nonzzero_182587 = !zzero_182586;
                bool protect_assert_disj_182588 = cond_182575 || nonzzero_182587;
                bool nonzzero_cert_182589;
                
                if (!protect_assert_disj_182588) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_182590 = sdiv_safe64(zs_lhs_182576, smallest_pow_2_geq_than_res_182581);
                int64_t block_sizze_182591 = add64((int64_t) 1, zp_rhs_182590);
                bool y_182598 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530);
                bool protect_assert_disj_185467 = cond_182575 || y_182598;
                bool index_certs_182599;
                
                if (!protect_assert_disj_185467) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_182636 = slt64(smallest_pow_2_geq_than_res_182581, (int64_t) 0);
                bool valid_182637 = !bounds_invalid_upwards_182636;
                bool protect_assert_disj_185477 = cond_182575 || valid_182637;
                bool range_valid_c_182638;
                
                if (!protect_assert_disj_185477) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_182581, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:375:63-73\n   #6  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_182640 = slt64(block_sizze_182591, (int64_t) 0);
                bool valid_182641 = !bounds_invalid_upwards_182640;
                bool protect_assert_disj_185479 = cond_182575 || valid_182641;
                bool range_valid_c_182642;
                
                if (!protect_assert_disj_185479) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_182591, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_182644 = sle64(block_sizze_182591, (int64_t) 1);
                int64_t tmp_182645 = sub64(block_sizze_182591, (int64_t) 2);
                bool bounds_invalid_upwards_182646 = slt64(tmp_182645, (int64_t) 0);
                bool valid_182648 = !bounds_invalid_upwards_182646;
                bool protect_assert_disj_182649 = cond_182644 || valid_182648;
                bool protect_assert_disj_185481 = cond_182575 || protect_assert_disj_182649;
                bool range_valid_c_182650;
                
                if (!protect_assert_disj_185481) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_182645, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_183230 = card_182533 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530;
                bool empty_or_match_cert_183231;
                
                if (!dim_match_183230) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "] cannot match shape of type `[", (long long) card_182533, "](i8, i64, i64)`.", "-> #0  ftsort.fut:262:20-268:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:375:63-73\n   #3  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_183232 = card_182533 == (int64_t) 0;
                int64_t m_183233 = sub64(card_182533, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_183234 = sle64((int64_t) 0, m_183233);
                bool i_p_m_t_s_leq_w_183235 = slt64(m_183233, card_182533);
                bool y_183236 = zzero_leq_i_p_m_t_s_183234 && i_p_m_t_s_leq_w_183235;
                bool ok_or_empty_183237 = empty_slice_183232 || y_183236;
                bool index_certs_183238;
                
                if (!ok_or_empty_183237) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_182533, "] out of bounds for array of shape [", (long long) card_182533, "].", "-> #0  ftsort.fut:269:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:375:63-73\n   #3  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_183239 = slt64(m_183233, perThread_178862);
                bool y_183240 = zzero_leq_i_p_m_t_s_183234 && i_p_m_t_s_leq_w_183239;
                bool ok_or_empty_183241 = empty_slice_183232 || y_183240;
                bool index_certs_183242;
                
                if (!ok_or_empty_183241) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_182533, "] out of bounds for array of shape [", (long long) perThread_178862, "].", "-> #0  ftsort.fut:269:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:375:63-73\n   #3  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_185752 = 0; nest_i_185752 < perThread_178862; nest_i_185752++) {
                    ((int8_t *) mem_184686)[i_184035 * perThread_178862 + nest_i_185752] = (int8_t) -1;
                }
                for (int64_t nest_i_185753 = 0; nest_i_185753 < perThread_178862; nest_i_185753++) {
                    ((int64_t *) mem_184689)[i_184035 * perThread_178862 + nest_i_185753] = (int64_t) -1;
                }
                for (int64_t nest_i_185754 = 0; nest_i_185754 < perThread_178862; nest_i_185754++) {
                    ((int64_t *) mem_184692)[i_184035 * perThread_178862 + nest_i_185754] = (int64_t) 0;
                }
                
                int64_t slice_182549 = p_178824 + index_concat_branch_182512;
                
                if (memblock_alloc(ctx, &mem_184720, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "mem_184720")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_185755 = 0; nest_i_185755 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529; nest_i_185755++) {
                    ((int8_t *) mem_184720.mem)[nest_i_185755] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_184722, bytes_184721, "mem_184722")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_185756 = 0; i_185756 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529; i_185756++) {
                    int64_t x_185757 = index_concat_branch_182512 + i_185756 * (int64_t) 1;
                    
                    ((int64_t *) mem_184722.mem)[i_185756] = x_185757;
                }
                
                int64_t slice_182568 = p_178825 + index_concat_branch_182515;
                
                for (int64_t nest_i_185758 = 0; nest_i_185758 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528; nest_i_185758++) {
                    ((int8_t *) mem_184720.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529 + nest_i_185758] = (int8_t) 1;
                }
                for (int64_t i_185759 = 0; i_185759 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528; i_185759++) {
                    int64_t x_185760 = index_concat_branch_182515 + i_185759 * (int64_t) 1;
                    
                    ((int64_t *) mem_184722.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529 + i_185759] = x_185760;
                }
                
                int64_t tmp_offs_185761 = (int64_t) 0;
                
                if (!(tmp_offs_185761 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184720.mem, tmp_offs_185761, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184720.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529});
                }
                tmp_offs_185761 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529;
                if (!(tmp_offs_185761 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184720.mem, tmp_offs_185761, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184720.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528});
                }
                tmp_offs_185761 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528;
                
                int64_t tmp_offs_185762 = (int64_t) 0;
                
                if (!(tmp_offs_185762 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184722.mem, tmp_offs_185762, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184722.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529});
                }
                tmp_offs_185762 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529;
                if (!(tmp_offs_185762 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184722.mem, tmp_offs_185762, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184722.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528});
                }
                tmp_offs_185762 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528;
                if (memblock_alloc(ctx, &mem_184724, bytes_184721, "mem_184724")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_185763 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184724.mem, tmp_offs_185763, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_184305.mem, slice_182549, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529});
                tmp_offs_185763 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184724.mem, tmp_offs_185763, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_184306.mem, slice_182568, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528});
                tmp_offs_185763 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528;
                
                int64_t flat_dim_182592 = smallest_pow_2_geq_than_res_182581 * block_sizze_182591;
                bool x_185462 = !cond_182575;
                int64_t greatest_divisor_leq_than_arg1_182596 = mul64((int64_t) 2, block_sizze_182591);
                int64_t merge_block_sizze_182597;
                
                if (x_185462) {
                    int64_t x_185464;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_185464, (int64_t) 8, greatest_divisor_leq_than_arg1_182596) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_182597 = x_185464;
                } else {
                    merge_block_sizze_182597 = (int64_t) 0;
                }
                
                bool index_concat_cmp_182600 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, (int64_t) 0);
                int8_t index_concat_branch_182601 = btoi_bool_i8(index_concat_cmp_182600);
                int64_t index_concat_i_182603 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                int64_t index_primexp_182604 = add64(index_concat_branch_182515, index_concat_i_182603);
                int64_t index_concat_branch_182602;
                
                if (index_concat_cmp_182600) {
                    index_concat_branch_182602 = index_primexp_182604;
                } else {
                    index_concat_branch_182602 = index_concat_branch_182512;
                }
                
                bool x_185458 = !index_concat_cmp_182600;
                bool protect_cond_conj_185468 = x_185458 && x_185462;
                int64_t index_concat_182610;
                
                if (protect_cond_conj_185468) {
                    int64_t x_185460 = ((int64_t *) a_list_mem_184305.mem)[slice_182549];
                    
                    index_concat_182610 = x_185460;
                } else {
                    index_concat_182610 = (int64_t) 0;
                }
                
                int64_t slice_182608 = p_178825 + index_primexp_182604;
                bool protect_cond_conj_185469 = index_concat_cmp_182600 && x_185462;
                int64_t index_concat_182609;
                
                if (protect_cond_conj_185469) {
                    int64_t x_185456 = ((int64_t *) b_list_mem_184306.mem)[slice_182608];
                    
                    index_concat_182609 = x_185456;
                } else {
                    index_concat_182609 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_182605;
                
                if (index_concat_cmp_182600) {
                    index_concat_branch_182605 = index_concat_182609;
                } else {
                    index_concat_branch_182605 = index_concat_182610;
                }
                
                int8_t defunc_0_reduce_res_182611;
                int64_t defunc_0_reduce_res_182612;
                int64_t defunc_0_reduce_res_182613;
                
                if (x_185462) {
                    int8_t x_185470;
                    int64_t x_185471;
                    int64_t x_185472;
                    int8_t redout_183972;
                    int64_t redout_183973;
                    int64_t redout_183974;
                    
                    redout_183972 = index_concat_branch_182601;
                    redout_183973 = index_concat_branch_182602;
                    redout_183974 = index_concat_branch_182605;
                    for (int64_t i_183975 = 0; i_183975 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530; i_183975++) {
                        bool index_concat_cmp_184233 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, i_183975);
                        int8_t index_concat_branch_184237 = btoi_bool_i8(index_concat_cmp_184233);
                        int64_t index_concat_branch_184231;
                        
                        if (index_concat_cmp_184233) {
                            int64_t index_concat_i_184228 = sub64(i_183975, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                            int64_t index_primexp_184281 = add64(index_concat_branch_182515, index_concat_i_184228);
                            
                            index_concat_branch_184231 = index_primexp_184281;
                        } else {
                            int64_t index_primexp_184283 = add64(index_concat_branch_182512, i_183975);
                            
                            index_concat_branch_184231 = index_primexp_184283;
                        }
                        
                        int64_t index_concat_branch_184225;
                        
                        if (index_concat_cmp_184233) {
                            int64_t index_concat_i_184222 = sub64(i_183975, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                            int64_t slice_184278 = slice_182568 + index_concat_i_184222;
                            int64_t index_concat_184223 = ((int64_t *) b_list_mem_184306.mem)[slice_184278];
                            
                            index_concat_branch_184225 = index_concat_184223;
                        } else {
                            int64_t slice_184279 = slice_182549 + i_183975;
                            int64_t index_concat_184224 = ((int64_t *) a_list_mem_184305.mem)[slice_184279];
                            
                            index_concat_branch_184225 = index_concat_184224;
                        }
                        
                        bool eq_x_y_184295 = redout_183972 == (int8_t) 1;
                        bool eq_x_zz_184296 = redout_183972 == (int8_t) 0;
                        bool p_and_eq_x_y_184297 = index_concat_cmp_184233 && eq_x_y_184295;
                        bool not_p_184298 = !index_concat_cmp_184233;
                        bool p_and_eq_x_y_184299 = eq_x_zz_184296 && not_p_184298;
                        bool cond_182623 = p_and_eq_x_y_184297 || p_and_eq_x_y_184299;
                        bool defunc_0_leq_res_t_res_182624 = sle64(redout_183973, index_concat_branch_184231);
                        bool defunc_0_leq_res_182625 = sle64(redout_183974, index_concat_branch_184225);
                        bool x_182626 = cond_182623 && defunc_0_leq_res_t_res_182624;
                        bool x_182627 = !cond_182623;
                        bool y_182628 = defunc_0_leq_res_182625 && x_182627;
                        bool defunc_0_leq_res_182629 = x_182626 || y_182628;
                        int8_t defunc_0_op_res_182630;
                        
                        if (defunc_0_leq_res_182629) {
                            defunc_0_op_res_182630 = index_concat_branch_184237;
                        } else {
                            defunc_0_op_res_182630 = redout_183972;
                        }
                        
                        int64_t defunc_0_op_res_182631;
                        
                        if (defunc_0_leq_res_182629) {
                            defunc_0_op_res_182631 = index_concat_branch_184231;
                        } else {
                            defunc_0_op_res_182631 = redout_183973;
                        }
                        
                        int64_t defunc_0_op_res_182632;
                        
                        if (defunc_0_leq_res_182629) {
                            defunc_0_op_res_182632 = index_concat_branch_184225;
                        } else {
                            defunc_0_op_res_182632 = redout_183974;
                        }
                        
                        int8_t redout_tmp_185764 = defunc_0_op_res_182630;
                        int64_t redout_tmp_185765 = defunc_0_op_res_182631;
                        int64_t redout_tmp_185766 = defunc_0_op_res_182632;
                        
                        redout_183972 = redout_tmp_185764;
                        redout_183973 = redout_tmp_185765;
                        redout_183974 = redout_tmp_185766;
                    }
                    x_185470 = redout_183972;
                    x_185471 = redout_183973;
                    x_185472 = redout_183974;
                    defunc_0_reduce_res_182611 = x_185470;
                    defunc_0_reduce_res_182612 = x_185471;
                    defunc_0_reduce_res_182613 = x_185472;
                } else {
                    defunc_0_reduce_res_182611 = (int8_t) 0;
                    defunc_0_reduce_res_182612 = (int64_t) 0;
                    defunc_0_reduce_res_182613 = (int64_t) 0;
                }
                
                int64_t distance_182647 = add64((int64_t) 1, tmp_182645);
                int64_t binop_x_184727 = (int64_t) 8 * smallest_pow_2_geq_than_res_182581;
                int64_t bytes_184728 = block_sizze_182591 * binop_x_184727;
                int64_t bytes_184746 = (int64_t) 8 * block_sizze_182591;
                bool loop_cond_182773 = slt64(block_sizze_182591, flat_dim_182592);
                bool zzero_182774 = merge_block_sizze_182597 == (int64_t) 0;
                bool nonzzero_182775 = !zzero_182774;
                
                if (cond_182575) {
                    if (memblock_set(ctx, &ext_mem_185019, &mem_184720, "mem_184720") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185016, &mem_184722, "mem_184722") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185013, &mem_184724, "mem_184724") != 0)
                        return 1;
                } else {
                    if (mem_184726_cached_sizze_186231 < flat_dim_182592) {
                        err = lexical_realloc(ctx, &mem_184726, &mem_184726_cached_sizze_186231, flat_dim_182592);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184729_cached_sizze_186232 < bytes_184728) {
                        err = lexical_realloc(ctx, &mem_184729, &mem_184729_cached_sizze_186232, bytes_184728);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184732_cached_sizze_186233 < bytes_184728) {
                        err = lexical_realloc(ctx, &mem_184732, &mem_184732_cached_sizze_186233, bytes_184728);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184745_cached_sizze_186234 < block_sizze_182591) {
                        err = lexical_realloc(ctx, &mem_184745, &mem_184745_cached_sizze_186234, block_sizze_182591);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184747_cached_sizze_186235 < bytes_184746) {
                        err = lexical_realloc(ctx, &mem_184747, &mem_184747_cached_sizze_186235, bytes_184746);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184749_cached_sizze_186236 < bytes_184746) {
                        err = lexical_realloc(ctx, &mem_184749, &mem_184749_cached_sizze_186236, bytes_184746);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_183992 = 0; i_183992 < smallest_pow_2_geq_than_res_182581; i_183992++) {
                        int64_t zp_lhs_182655 = mul64(block_sizze_182591, i_183992);
                        
                        for (int64_t i_183982 = 0; i_183982 < block_sizze_182591; i_183982++) {
                            int64_t k_182660 = add64(zp_lhs_182655, i_183982);
                            bool cond_182661 = slt64(k_182660, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530);
                            int8_t lifted_lambda_res_182662;
                            int64_t lifted_lambda_res_182663;
                            int64_t lifted_lambda_res_182664;
                            
                            if (cond_182661) {
                                bool x_182665 = sle64((int64_t) 0, k_182660);
                                bool bounds_check_182666 = cond_182661 && x_182665;
                                bool index_certs_182667;
                                
                                if (!bounds_check_182666) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_182660, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:375:63-73\n   #9  ftsort.fut:368:1-375:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_182668 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, k_182660);
                                int8_t index_concat_branch_182669 = btoi_bool_i8(index_concat_cmp_182668);
                                int64_t index_concat_branch_182670;
                                
                                if (index_concat_cmp_182668) {
                                    int64_t index_concat_i_182671 = sub64(k_182660, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                                    int64_t index_primexp_182672 = add64(index_concat_branch_182515, index_concat_i_182671);
                                    
                                    index_concat_branch_182670 = index_primexp_182672;
                                } else {
                                    int64_t index_primexp_182673 = add64(index_concat_branch_182512, k_182660);
                                    
                                    index_concat_branch_182670 = index_primexp_182673;
                                }
                                
                                int64_t index_concat_branch_182674;
                                
                                if (index_concat_cmp_182668) {
                                    int64_t index_concat_i_182675 = sub64(k_182660, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                                    int64_t slice_182676 = index_concat_branch_182515 + index_concat_i_182675;
                                    int64_t slice_182677 = p_178825 + slice_182676;
                                    int64_t index_concat_182678 = ((int64_t *) b_list_mem_184306.mem)[slice_182677];
                                    
                                    index_concat_branch_182674 = index_concat_182678;
                                } else {
                                    int64_t slice_182679 = index_concat_branch_182512 + k_182660;
                                    int64_t slice_182680 = p_178824 + slice_182679;
                                    int64_t index_concat_182681 = ((int64_t *) a_list_mem_184305.mem)[slice_182680];
                                    
                                    index_concat_branch_182674 = index_concat_182681;
                                }
                                lifted_lambda_res_182662 = index_concat_branch_182669;
                                lifted_lambda_res_182663 = index_concat_branch_182670;
                                lifted_lambda_res_182664 = index_concat_branch_182674;
                            } else {
                                lifted_lambda_res_182662 = defunc_0_reduce_res_182611;
                                lifted_lambda_res_182663 = defunc_0_reduce_res_182612;
                                lifted_lambda_res_182664 = defunc_0_reduce_res_182613;
                            }
                            ((int8_t *) mem_184745)[i_183982] = lifted_lambda_res_182662;
                            ((int64_t *) mem_184747)[i_183982] = lifted_lambda_res_182663;
                            ((int64_t *) mem_184749)[i_183982] = lifted_lambda_res_182664;
                        }
                        if (!cond_182644) {
                            for (int64_t i_182691 = 0; i_182691 < distance_182647; i_182691++) {
                                int64_t gt_arg1_182695 = add64((int64_t) 1, i_182691);
                                bool x_182696 = sle64((int64_t) 0, gt_arg1_182695);
                                bool y_182697 = slt64(gt_arg1_182695, block_sizze_182591);
                                bool bounds_check_182698 = x_182696 && y_182697;
                                bool index_certs_182699;
                                
                                if (!bounds_check_182698) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_182695, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_182703 = slt64(i_182691, block_sizze_182591);
                                bool index_certs_182704;
                                
                                if (!y_182703) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_182691, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_182700 = ((int8_t *) mem_184745)[gt_arg1_182695];
                                int64_t gt_arg1_182701 = ((int64_t *) mem_184747)[gt_arg1_182695];
                                int64_t gt_arg1_182702 = ((int64_t *) mem_184749)[gt_arg1_182695];
                                int8_t gt_arg0_182705 = ((int8_t *) mem_184745)[i_182691];
                                int64_t gt_arg0_182706 = ((int64_t *) mem_184747)[i_182691];
                                int64_t gt_arg0_182707 = ((int64_t *) mem_184749)[i_182691];
                                bool cond_182708 = gt_arg0_182705 == gt_arg1_182700;
                                bool defunc_0_leq_res_t_res_182709 = sle64(gt_arg0_182706, gt_arg1_182701);
                                bool defunc_0_leq_res_182710 = sle64(gt_arg0_182707, gt_arg1_182702);
                                bool x_182711 = cond_182708 && defunc_0_leq_res_t_res_182709;
                                bool x_182712 = !cond_182708;
                                bool y_182713 = defunc_0_leq_res_182710 && x_182712;
                                bool defunc_0_leq_res_182714 = x_182711 || y_182713;
                                bool defunc_0_lifted_gt_res_182715 = !defunc_0_leq_res_182714;
                                bool s_182716;
                                int64_t s_182720;
                                bool loop_while_182721;
                                int64_t j_182725;
                                
                                loop_while_182721 = defunc_0_lifted_gt_res_182715;
                                j_182725 = i_182691;
                                while (loop_while_182721) {
                                    bool x_182726 = sle64((int64_t) 0, j_182725);
                                    bool y_182727 = slt64(j_182725, block_sizze_182591);
                                    bool bounds_check_182728 = x_182726 && y_182727;
                                    bool index_certs_182729;
                                    
                                    if (!bounds_check_182728) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_182725, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_182733 = add64((int64_t) 1, j_182725);
                                    bool x_182734 = sle64((int64_t) 0, copy_arg0_182733);
                                    bool y_182735 = slt64(copy_arg0_182733, block_sizze_182591);
                                    bool bounds_check_182736 = x_182734 && y_182735;
                                    bool index_certs_182737;
                                    
                                    if (!bounds_check_182736) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_182733, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_182730 = ((int8_t *) mem_184745)[j_182725];
                                    int64_t copy_arg0_182731 = ((int64_t *) mem_184747)[j_182725];
                                    int64_t copy_arg0_182732 = ((int64_t *) mem_184749)[j_182725];
                                    int8_t copy_arg0_182738 = ((int8_t *) mem_184745)[copy_arg0_182733];
                                    int64_t copy_arg0_182739 = ((int64_t *) mem_184747)[copy_arg0_182733];
                                    int64_t copy_arg0_182740 = ((int64_t *) mem_184749)[copy_arg0_182733];
                                    
                                    ((int8_t *) mem_184745)[j_182725] = copy_arg0_182738;
                                    ((int64_t *) mem_184747)[j_182725] = copy_arg0_182739;
                                    ((int64_t *) mem_184749)[j_182725] = copy_arg0_182740;
                                    ((int8_t *) mem_184745)[copy_arg0_182733] = copy_arg0_182730;
                                    ((int64_t *) mem_184747)[copy_arg0_182733] = copy_arg0_182731;
                                    ((int64_t *) mem_184749)[copy_arg0_182733] = copy_arg0_182732;
                                    
                                    int64_t tmp_182747 = sub64(j_182725, (int64_t) 1);
                                    bool cond_182748 = sle64((int64_t) 0, tmp_182747);
                                    bool loop_cond_182749;
                                    
                                    if (cond_182748) {
                                        bool y_182753 = slt64(tmp_182747, block_sizze_182591);
                                        bool bounds_check_182754 = cond_182748 && y_182753;
                                        bool index_certs_182755;
                                        
                                        if (!bounds_check_182754) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_182747, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_182750 = ((int8_t *) mem_184745)[j_182725];
                                        int64_t gt_arg1_182751 = ((int64_t *) mem_184747)[j_182725];
                                        int64_t gt_arg1_182752 = ((int64_t *) mem_184749)[j_182725];
                                        int8_t gt_arg0_182756 = ((int8_t *) mem_184745)[tmp_182747];
                                        int64_t gt_arg0_182757 = ((int64_t *) mem_184747)[tmp_182747];
                                        int64_t gt_arg0_182758 = ((int64_t *) mem_184749)[tmp_182747];
                                        bool cond_182759 = gt_arg0_182756 == gt_arg1_182750;
                                        bool defunc_0_leq_res_t_res_182760 = sle64(gt_arg0_182757, gt_arg1_182751);
                                        bool defunc_0_leq_res_182761 = sle64(gt_arg0_182758, gt_arg1_182752);
                                        bool x_182762 = cond_182759 && defunc_0_leq_res_t_res_182760;
                                        bool x_182763 = !cond_182759;
                                        bool y_182764 = defunc_0_leq_res_182761 && x_182763;
                                        bool defunc_0_leq_res_182765 = x_182762 || y_182764;
                                        bool defunc_0_lifted_gt_res_182766 = !defunc_0_leq_res_182765;
                                        
                                        loop_cond_182749 = defunc_0_lifted_gt_res_182766;
                                    } else {
                                        loop_cond_182749 = 0;
                                    }
                                    
                                    bool loop_while_tmp_185776 = loop_cond_182749;
                                    int64_t j_tmp_185780 = tmp_182747;
                                    
                                    loop_while_182721 = loop_while_tmp_185776;
                                    j_182725 = j_tmp_185780;
                                }
                                s_182716 = loop_while_182721;
                                s_182720 = j_182725;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_184726, i_183992 * block_sizze_182591, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184745, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_182591});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184729, i_183992 * block_sizze_182591, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184747, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_182591});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184732, i_183992 * block_sizze_182591, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184749, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_182591});
                    }
                    if (memblock_alloc(ctx, &mem_184826, flat_dim_182592, "mem_184826")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_184826.mem, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (uint8_t *) mem_184726, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_182581, block_sizze_182591});
                    if (memblock_alloc(ctx, &mem_184830, bytes_184728, "mem_184830")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_184830.mem, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (uint64_t *) mem_184729, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_182581, block_sizze_182591});
                    if (memblock_alloc(ctx, &mem_184834, bytes_184728, "mem_184834")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_184834.mem, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (uint64_t *) mem_184732, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_182581, block_sizze_182591});
                    
                    int64_t data_182776;
                    bool data_182777;
                    int64_t data_182781;
                    int64_t loop_dz2084Uz2082U_182782;
                    bool loop_while_182783;
                    int64_t stride_182787;
                    
                    if (memblock_set(ctx, &mem_param_184838, &mem_184826, "mem_184826") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_184841, &mem_184830, "mem_184830") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_184844, &mem_184834, "mem_184834") != 0)
                        return 1;
                    loop_dz2084Uz2082U_182782 = flat_dim_182592;
                    loop_while_182783 = loop_cond_182773;
                    stride_182787 = block_sizze_182591;
                    while (loop_while_182783) {
                        int64_t next_stride_182788 = mul64((int64_t) 2, stride_182787);
                        bool zzero_182789 = next_stride_182788 == (int64_t) 0;
                        bool nonzzero_182790 = !zzero_182789;
                        bool nonzzero_cert_182791;
                        
                        if (!nonzzero_182790) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_182792 = sdiv64(flat_dim_182592, next_stride_182788);
                        bool bounds_invalid_upwards_182793 = slt64(num_merges_182792, (int64_t) 0);
                        bool valid_182794 = !bounds_invalid_upwards_182793;
                        bool range_valid_c_182795;
                        
                        if (!valid_182794) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_182792, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:375:63-73\n   #6  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_182797 = sub64(next_stride_182788, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_182798 = sle64((int64_t) 0, m_182797);
                        bool cond_182800 = slt64(next_stride_182788, (int64_t) 10);
                        bool protect_assert_disj_182801 = nonzzero_182775 || cond_182800;
                        bool nonzzero_cert_182802;
                        
                        if (!protect_assert_disj_182801) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_182803 = smod_safe64(next_stride_182788, merge_block_sizze_182597);
                        bool num_blocks_182804 = zeze_lhs_182803 == (int64_t) 0;
                        bool protect_assert_disj_182805 = cond_182800 || num_blocks_182804;
                        bool assert_c_182806;
                        
                        if (!protect_assert_disj_182805) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_182807 = sdiv_safe64(next_stride_182788, merge_block_sizze_182597);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808 = add64((int64_t) 1, num_blocks_182807);
                        int64_t j_m_i_182809 = sub64(next_stride_182788, stride_182787);
                        int64_t flat_dim_182810 = merge_block_sizze_182597 * num_blocks_182807;
                        bool bounds_invalid_upwards_182811 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808, (int64_t) 0);
                        bool empty_slice_182812 = j_m_i_182809 == (int64_t) 0;
                        int64_t m_182813 = sub64(j_m_i_182809, (int64_t) 1);
                        bool zzero_lte_i_182814 = sle64((int64_t) 0, stride_182787);
                        bool i_lte_j_182815 = sle64(stride_182787, next_stride_182788);
                        bool empty_slice_182816 = stride_182787 == (int64_t) 0;
                        int64_t m_182817 = sub64(stride_182787, (int64_t) 1);
                        bool bounds_invalid_upwards_182818 = slt64(num_blocks_182807, (int64_t) 0);
                        bool cond_182819 = slt64((int64_t) 0, stride_182787);
                        bool valid_182820 = !bounds_invalid_upwards_182811;
                        int64_t i_p_m_t_s_182821 = add64(stride_182787, m_182813);
                        bool zzero_leq_i_p_m_t_s_182822 = sle64((int64_t) 0, m_182817);
                        bool i_p_m_t_s_leq_w_182823 = slt64(m_182817, next_stride_182788);
                        bool valid_182824 = !bounds_invalid_upwards_182818;
                        bool i_p_m_t_s_leq_w_182825 = slt64(m_182797, flat_dim_182810);
                        bool y_182826 = slt64((int64_t) 0, j_m_i_182809);
                        bool protect_assert_disj_182827 = cond_182800 || valid_182820;
                        bool range_valid_c_182828;
                        
                        if (!protect_assert_disj_182827) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:375:63-73\n   #10 ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_182829 = sle64((int64_t) 0, i_p_m_t_s_182821);
                        bool i_p_m_t_s_leq_w_182830 = slt64(i_p_m_t_s_182821, next_stride_182788);
                        bool y_182831 = zzero_leq_i_p_m_t_s_182822 && i_p_m_t_s_leq_w_182823;
                        bool protect_assert_disj_182832 = cond_182800 || valid_182824;
                        bool range_valid_c_182833;
                        
                        if (!protect_assert_disj_182832) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_182807, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:375:63-73\n   #9  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_182834 = zzero_leq_i_p_m_t_s_182798 && i_p_m_t_s_leq_w_182825;
                        bool y_182835 = zzero_lte_i_182814 && i_p_m_t_s_leq_w_182830;
                        bool forwards_ok_182836 = zzero_lte_i_182814 && y_182831;
                        bool ok_or_empty_182837 = zzero_182789 || y_182834;
                        bool protect_assert_disj_182838 = cond_182819 || y_182826;
                        bool y_182839 = zzero_leq_i_p_m_t_s_182829 && y_182835;
                        bool ok_or_empty_182840 = empty_slice_182816 || forwards_ok_182836;
                        bool protect_assert_disj_182841 = cond_182800 || ok_or_empty_182837;
                        bool index_certs_182842;
                        
                        if (!protect_assert_disj_182841) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_182788, "] out of bounds for array of shape [", (long long) flat_dim_182810, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:375:63-73\n   #9  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_182843 = !cond_182800;
                        bool protect_assert_disj_182844 = protect_assert_disj_182838 || loop_not_taken_182843;
                        bool index_certs_182845;
                        
                        if (!protect_assert_disj_182844) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:375:63-73\n   #10 ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_182846 = i_lte_j_182815 && y_182839;
                        bool protect_assert_disj_182847 = cond_182800 || ok_or_empty_182840;
                        bool index_certs_182848;
                        
                        if (!protect_assert_disj_182847) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_182787, "] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:375:63-73\n   #11 ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_182849 = ok_or_empty_182840 || loop_not_taken_182843;
                        bool index_certs_182850;
                        
                        if (!protect_assert_disj_182849) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_182787, "] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_182851 = empty_slice_182812 || forwards_ok_182846;
                        bool protect_assert_disj_182852 = cond_182800 || ok_or_empty_182851;
                        bool index_certs_182853;
                        
                        if (!protect_assert_disj_182852) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_182787, ":] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:375:63-73\n   #11 ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_182854 = loop_not_taken_182843 || ok_or_empty_182851;
                        bool index_certs_182855;
                        
                        if (!protect_assert_disj_182854) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_182787, ":] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_184845 = next_stride_182788 * num_merges_182792;
                        int64_t binop_x_184847 = (int64_t) 8 * num_merges_182792;
                        int64_t bytes_184848 = next_stride_182788 * binop_x_184847;
                        bool i_lte_j_182799 = sle64((int64_t) 0, next_stride_182788);
                        
                        if (mem_184846_cached_sizze_186237 < bytes_184845) {
                            err = lexical_realloc(ctx, &mem_184846, &mem_184846_cached_sizze_186237, bytes_184845);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_184849_cached_sizze_186238 < bytes_184848) {
                            err = lexical_realloc(ctx, &mem_184849, &mem_184849_cached_sizze_186238, bytes_184848);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_184852_cached_sizze_186239 < bytes_184848) {
                            err = lexical_realloc(ctx, &mem_184852, &mem_184852_cached_sizze_186239, bytes_184848);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_184865 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808;
                        int64_t binop_x_184883 = (int64_t) 8 * num_blocks_182807;
                        int64_t bytes_184884 = merge_block_sizze_182597 * binop_x_184883;
                        int64_t bytes_184948 = (int64_t) 16 * stride_182787;
                        
                        for (int64_t i_184019 = 0; i_184019 < num_merges_182792; i_184019++) {
                            int64_t start_182860 = mul64(next_stride_182788, i_184019);
                            int64_t j_m_i_182861 = sub64(loop_dz2084Uz2082U_182782, start_182860);
                            bool empty_slice_182862 = j_m_i_182861 == (int64_t) 0;
                            int64_t m_182863 = sub64(j_m_i_182861, (int64_t) 1);
                            int64_t i_p_m_t_s_182864 = add64(start_182860, m_182863);
                            bool zzero_leq_i_p_m_t_s_182865 = sle64((int64_t) 0, i_p_m_t_s_182864);
                            bool i_p_m_t_s_leq_w_182866 = slt64(i_p_m_t_s_182864, loop_dz2084Uz2082U_182782);
                            bool zzero_lte_i_182867 = sle64((int64_t) 0, start_182860);
                            bool i_lte_j_182868 = sle64(start_182860, loop_dz2084Uz2082U_182782);
                            bool y_182869 = i_p_m_t_s_leq_w_182866 && zzero_lte_i_182867;
                            bool y_182870 = zzero_leq_i_p_m_t_s_182865 && y_182869;
                            bool forwards_ok_182871 = i_lte_j_182868 && y_182870;
                            bool ok_or_empty_182872 = empty_slice_182862 || forwards_ok_182871;
                            bool index_certs_182873;
                            
                            if (!ok_or_empty_182872) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_182860, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_182782, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_182874 = slt64(m_182797, j_m_i_182861);
                            bool y_182875 = zzero_leq_i_p_m_t_s_182798 && i_p_m_t_s_leq_w_182874;
                            bool forwards_ok_182876 = i_lte_j_182799 && y_182875;
                            bool ok_or_empty_182877 = zzero_182789 || forwards_ok_182876;
                            bool index_certs_182878;
                            
                            if (!ok_or_empty_182877) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_182788, "] out of bounds for array of shape [", (long long) j_m_i_182861, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_182800) {
                                int8_t dummy_182882;
                                int64_t dummy_182883;
                                int64_t dummy_182884;
                                
                                if (cond_182819) {
                                    int8_t head_res_182885 = ((int8_t *) mem_param_184838.mem)[start_182860];
                                    int64_t head_res_182886 = ((int64_t *) mem_param_184841.mem)[start_182860];
                                    int64_t head_res_182887 = ((int64_t *) mem_param_184844.mem)[start_182860];
                                    
                                    dummy_182882 = head_res_182885;
                                    dummy_182883 = head_res_182886;
                                    dummy_182884 = head_res_182887;
                                } else {
                                    int64_t slice_182888 = stride_182787 + start_182860;
                                    int8_t head_res_182889 = ((int8_t *) mem_param_184838.mem)[slice_182888];
                                    int64_t head_res_182890 = ((int64_t *) mem_param_184841.mem)[slice_182888];
                                    int64_t head_res_182891 = ((int64_t *) mem_param_184844.mem)[slice_182888];
                                    
                                    dummy_182882 = head_res_182889;
                                    dummy_182883 = head_res_182890;
                                    dummy_182884 = head_res_182891;
                                }
                                if (memblock_alloc(ctx, &mem_184947, next_stride_182788, "mem_184947")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185793 = 0; nest_i_185793 < next_stride_182788; nest_i_185793++) {
                                    ((int8_t *) mem_184947.mem)[nest_i_185793] = dummy_182882;
                                }
                                if (memblock_alloc(ctx, &mem_184949, bytes_184948, "mem_184949")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185794 = 0; nest_i_185794 < next_stride_182788; nest_i_185794++) {
                                    ((int64_t *) mem_184949.mem)[nest_i_185794] = dummy_182883;
                                }
                                if (memblock_alloc(ctx, &mem_184951, bytes_184948, "mem_184951")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185795 = 0; nest_i_185795 < next_stride_182788; nest_i_185795++) {
                                    ((int64_t *) mem_184951.mem)[nest_i_185795] = dummy_182884;
                                }
                                
                                int64_t data_182895;
                                int64_t i_182900 = (int64_t) 0;
                                
                                for (int64_t k_182899 = 0; k_182899 < next_stride_182788; k_182899++) {
                                    int64_t j_182904 = sub64(k_182899, i_182900);
                                    bool cond_182905 = j_182904 == j_m_i_182809;
                                    bool cond_182906;
                                    
                                    if (cond_182905) {
                                        cond_182906 = 1;
                                    } else {
                                        bool cond_182907 = slt64(i_182900, stride_182787);
                                        bool cond_f_res_182908;
                                        
                                        if (cond_182907) {
                                            bool x_182909 = sle64((int64_t) 0, j_182904);
                                            bool y_182910 = slt64(j_182904, j_m_i_182809);
                                            bool bounds_check_182911 = x_182909 && y_182910;
                                            bool index_certs_182912;
                                            
                                            if (!bounds_check_182911) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_182904, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:375:63-73\n   #9  ftsort.fut:368:1-375:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_182918 = sle64((int64_t) 0, i_182900);
                                            bool bounds_check_182919 = cond_182907 && x_182918;
                                            bool index_certs_182920;
                                            
                                            if (!bounds_check_182919) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_182900, "] out of bounds for array of shape [", (long long) stride_182787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:375:63-73\n   #9  ftsort.fut:368:1-375:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_182913 = stride_182787 + j_182904;
                                            int64_t slice_182914 = start_182860 + slice_182913;
                                            int8_t leq_arg1_182915 = ((int8_t *) mem_param_184838.mem)[slice_182914];
                                            int64_t leq_arg1_182916 = ((int64_t *) mem_param_184841.mem)[slice_182914];
                                            int64_t leq_arg1_182917 = ((int64_t *) mem_param_184844.mem)[slice_182914];
                                            int64_t slice_182921 = start_182860 + i_182900;
                                            int8_t leq_arg0_182922 = ((int8_t *) mem_param_184838.mem)[slice_182921];
                                            int64_t leq_arg0_182923 = ((int64_t *) mem_param_184841.mem)[slice_182921];
                                            int64_t leq_arg0_182924 = ((int64_t *) mem_param_184844.mem)[slice_182921];
                                            bool cond_182925 = leq_arg0_182922 == leq_arg1_182915;
                                            bool defunc_0_leq_res_t_res_182926 = sle64(leq_arg0_182923, leq_arg1_182916);
                                            bool defunc_0_leq_res_182927 = sle64(leq_arg0_182924, leq_arg1_182917);
                                            bool x_182928 = cond_182925 && defunc_0_leq_res_t_res_182926;
                                            bool x_182929 = !cond_182925;
                                            bool y_182930 = defunc_0_leq_res_182927 && x_182929;
                                            bool defunc_0_leq_res_182931 = x_182928 || y_182930;
                                            
                                            cond_f_res_182908 = defunc_0_leq_res_182931;
                                        } else {
                                            cond_f_res_182908 = 0;
                                        }
                                        cond_182906 = cond_f_res_182908;
                                    }
                                    
                                    int64_t loopres_182932;
                                    int8_t loopres_182933;
                                    int64_t loopres_182934;
                                    int64_t loopres_182935;
                                    
                                    if (cond_182906) {
                                        bool x_182937 = sle64((int64_t) 0, i_182900);
                                        bool y_182938 = slt64(i_182900, stride_182787);
                                        bool bounds_check_182939 = x_182937 && y_182938;
                                        bool index_certs_182940;
                                        
                                        if (!bounds_check_182939) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_182900, "] out of bounds for array of shape [", (long long) stride_182787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:375:63-73\n   #9  ftsort.fut:368:1-375:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_182936 = add64((int64_t) 1, i_182900);
                                        int64_t slice_182941 = start_182860 + i_182900;
                                        int8_t tmp_182942 = ((int8_t *) mem_param_184838.mem)[slice_182941];
                                        int64_t tmp_182943 = ((int64_t *) mem_param_184841.mem)[slice_182941];
                                        int64_t tmp_182944 = ((int64_t *) mem_param_184844.mem)[slice_182941];
                                        
                                        loopres_182932 = tmp_182936;
                                        loopres_182933 = tmp_182942;
                                        loopres_182934 = tmp_182943;
                                        loopres_182935 = tmp_182944;
                                    } else {
                                        bool x_182945 = sle64((int64_t) 0, j_182904);
                                        bool y_182946 = slt64(j_182904, j_m_i_182809);
                                        bool bounds_check_182947 = x_182945 && y_182946;
                                        bool index_certs_182948;
                                        
                                        if (!bounds_check_182947) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_182904, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:375:63-73\n   #9  ftsort.fut:368:1-375:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_182949 = stride_182787 + j_182904;
                                        int64_t slice_182950 = start_182860 + slice_182949;
                                        int8_t tmp_182951 = ((int8_t *) mem_param_184838.mem)[slice_182950];
                                        int64_t tmp_182952 = ((int64_t *) mem_param_184841.mem)[slice_182950];
                                        int64_t tmp_182953 = ((int64_t *) mem_param_184844.mem)[slice_182950];
                                        
                                        loopres_182932 = i_182900;
                                        loopres_182933 = tmp_182951;
                                        loopres_182934 = tmp_182952;
                                        loopres_182935 = tmp_182953;
                                    }
                                    ((int8_t *) mem_184947.mem)[k_182899] = loopres_182933;
                                    ((int64_t *) mem_184949.mem)[k_182899] = loopres_182934;
                                    ((int64_t *) mem_184951.mem)[k_182899] = loopres_182935;
                                    
                                    int64_t i_tmp_185796 = loopres_182932;
                                    
                                    i_182900 = i_tmp_185796;
                                }
                                data_182895 = i_182900;
                                if (memblock_set(ctx, &ext_mem_184978, &mem_184947, "mem_184947") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184975, &mem_184949, "mem_184949") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184972, &mem_184951, "mem_184951") != 0)
                                    return 1;
                            } else {
                                if (mem_184866_cached_sizze_186240 < bytes_184865) {
                                    err = lexical_realloc(ctx, &mem_184866, &mem_184866_cached_sizze_186240, bytes_184865);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184868_cached_sizze_186241 < bytes_184865) {
                                    err = lexical_realloc(ctx, &mem_184868, &mem_184868_cached_sizze_186241, bytes_184865);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_184000 = 0; i_184000 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808; i_184000++) {
                                    int64_t split_count_arg3_182961 = mul64(merge_block_sizze_182597, i_184000);
                                    int64_t defunc_0_split_count_res_182962;
                                    int64_t defunc_0_split_count_res_182963;
                                    int64_t defunc_0_split_count_res_182964;
                                    int64_t defunc_0_split_count_res_182965;
                                    int64_t defunc_0_split_count_res_182966;
                                    
                                    if (futrts_lifted_normalizze_9100(ctx, &defunc_0_split_count_res_182962, &defunc_0_split_count_res_182963, &defunc_0_split_count_res_182964, &defunc_0_split_count_res_182965, &defunc_0_split_count_res_182966, (int64_t) 0, stride_182787, (int64_t) 0, j_m_i_182809, split_count_arg3_182961) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_182967 = slt64((int64_t) 0, defunc_0_split_count_res_182966);
                                    bool defunc_0_split_count_res_182968;
                                    int64_t defunc_0_split_count_res_182969;
                                    int64_t defunc_0_split_count_res_182970;
                                    int64_t defunc_0_split_count_res_182971;
                                    int64_t defunc_0_split_count_res_182972;
                                    int64_t defunc_0_split_count_res_182973;
                                    bool loop_while_182974;
                                    int64_t ss_182975;
                                    int64_t ss_182976;
                                    int64_t tt_182977;
                                    int64_t tt_182978;
                                    int64_t count_182979;
                                    
                                    loop_while_182974 = loop_cond_182967;
                                    ss_182975 = defunc_0_split_count_res_182962;
                                    ss_182976 = defunc_0_split_count_res_182963;
                                    tt_182977 = defunc_0_split_count_res_182964;
                                    tt_182978 = defunc_0_split_count_res_182965;
                                    count_182979 = defunc_0_split_count_res_182966;
                                    while (loop_while_182974) {
                                        int64_t zlze_lhs_182980 = sub64(ss_182976, ss_182975);
                                        bool cond_182981 = sle64(zlze_lhs_182980, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_182982;
                                        int64_t defunc_0_lifted_step_res_182983;
                                        int64_t defunc_0_lifted_step_res_182984;
                                        int64_t defunc_0_lifted_step_res_182985;
                                        
                                        if (cond_182981) {
                                            int64_t tmp_182986 = add64(tt_182977, count_182979);
                                            
                                            defunc_0_lifted_step_res_182982 = ss_182975;
                                            defunc_0_lifted_step_res_182983 = tmp_182986;
                                            defunc_0_lifted_step_res_182984 = tt_182978;
                                            defunc_0_lifted_step_res_182985 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_182987 = sub64(tt_182978, tt_182977);
                                            bool cond_182988 = sle64(zlze_lhs_182987, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_182989;
                                            int64_t defunc_0_lifted_step_res_f_res_182990;
                                            int64_t defunc_0_lifted_step_res_f_res_182991;
                                            int64_t defunc_0_lifted_step_res_f_res_182992;
                                            
                                            if (cond_182988) {
                                                int64_t tmp_182993 = add64(ss_182975, count_182979);
                                                
                                                defunc_0_lifted_step_res_f_res_182989 = tmp_182993;
                                                defunc_0_lifted_step_res_f_res_182990 = tt_182977;
                                                defunc_0_lifted_step_res_f_res_182991 = tt_182978;
                                                defunc_0_lifted_step_res_f_res_182992 = (int64_t) 0;
                                            } else {
                                                bool cond_182994 = count_182979 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_182995;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_182996;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_182997;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_182998;
                                                
                                                if (cond_182994) {
                                                    bool x_182999 = sle64((int64_t) 0, ss_182975);
                                                    bool y_183000 = slt64(ss_182975, stride_182787);
                                                    bool bounds_check_183001 = x_182999 && y_183000;
                                                    bool index_certs_183002;
                                                    
                                                    if (!bounds_check_183001) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_182975, "] out of bounds for array of shape [", (long long) stride_182787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:375:63-73\n   #13 ftsort.fut:368:1-375:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_183007 = sle64((int64_t) 0, tt_182977);
                                                    bool y_183008 = slt64(tt_182977, j_m_i_182809);
                                                    bool bounds_check_183009 = x_183007 && y_183008;
                                                    bool index_certs_183010;
                                                    
                                                    if (!bounds_check_183009) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_182977, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:375:63-73\n   #13 ftsort.fut:368:1-375:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_183003 = start_182860 + ss_182975;
                                                    int8_t leq_arg1_183004 = ((int8_t *) mem_param_184838.mem)[slice_183003];
                                                    int64_t leq_arg1_183005 = ((int64_t *) mem_param_184841.mem)[slice_183003];
                                                    int64_t leq_arg1_183006 = ((int64_t *) mem_param_184844.mem)[slice_183003];
                                                    int64_t slice_183011 = stride_182787 + tt_182977;
                                                    int64_t slice_183012 = start_182860 + slice_183011;
                                                    int8_t leq_arg0_183013 = ((int8_t *) mem_param_184838.mem)[slice_183012];
                                                    int64_t leq_arg0_183014 = ((int64_t *) mem_param_184841.mem)[slice_183012];
                                                    int64_t leq_arg0_183015 = ((int64_t *) mem_param_184844.mem)[slice_183012];
                                                    bool cond_183016 = leq_arg0_183013 == leq_arg1_183004;
                                                    bool defunc_0_leq_res_t_res_183017 = sle64(leq_arg0_183014, leq_arg1_183005);
                                                    bool defunc_0_leq_res_183018 = sle64(leq_arg0_183015, leq_arg1_183006);
                                                    bool x_183019 = cond_183016 && defunc_0_leq_res_t_res_183017;
                                                    bool x_183020 = !cond_183016;
                                                    bool y_183021 = defunc_0_leq_res_183018 && x_183020;
                                                    bool defunc_0_leq_res_183022 = x_183019 || y_183021;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183023;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183024;
                                                    
                                                    if (defunc_0_leq_res_183022) {
                                                        int64_t tmp_183025 = add64((int64_t) 1, tt_182977);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183023 = ss_182975;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183024 = tmp_183025;
                                                    } else {
                                                        int64_t tmp_183026 = add64((int64_t) 1, ss_182975);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183023 = tmp_183026;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183024 = tt_182977;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_182995 = defunc_0_lifted_step_res_f_res_f_res_t_res_183023;
                                                    defunc_0_lifted_step_res_f_res_f_res_182996 = defunc_0_lifted_step_res_f_res_f_res_t_res_183024;
                                                    defunc_0_lifted_step_res_f_res_f_res_182997 = tt_182978;
                                                    defunc_0_lifted_step_res_f_res_f_res_182998 = (int64_t) 0;
                                                } else {
                                                    int64_t m_183027 = sdiv64(count_182979, (int64_t) 2);
                                                    int64_t n_183028 = sub64(count_182979, m_183027);
                                                    bool cond_183029 = n_183028 == (int64_t) 0;
                                                    int64_t zgze_lhs_183030 = add64(ss_182975, m_183027);
                                                    bool cond_f_res_183031 = sle64(ss_182976, zgze_lhs_183030);
                                                    bool x_183032 = !cond_183029;
                                                    bool y_183033 = cond_f_res_183031 && x_183032;
                                                    bool cond_183034 = cond_183029 || y_183033;
                                                    bool leq_y_x_183035;
                                                    
                                                    if (cond_183034) {
                                                        leq_y_x_183035 = 1;
                                                    } else {
                                                        bool x_183036 = sle64((int64_t) 0, zgze_lhs_183030);
                                                        bool y_183037 = slt64(zgze_lhs_183030, stride_182787);
                                                        bool bounds_check_183038 = x_183036 && y_183037;
                                                        bool index_certs_183039;
                                                        
                                                        if (!bounds_check_183038) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_183030, "] out of bounds for array of shape [", (long long) stride_182787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:375:63-73\n   #13 ftsort.fut:368:1-375:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_183044 = add64(tt_182977, n_183028);
                                                        int64_t leq_arg0_183045 = sub64(zm_lhs_183044, (int64_t) 1);
                                                        bool x_183046 = sle64((int64_t) 0, leq_arg0_183045);
                                                        bool y_183047 = slt64(leq_arg0_183045, j_m_i_182809);
                                                        bool bounds_check_183048 = x_183046 && y_183047;
                                                        bool index_certs_183049;
                                                        
                                                        if (!bounds_check_183048) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_183045, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:375:63-73\n   #13 ftsort.fut:368:1-375:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_183040 = start_182860 + zgze_lhs_183030;
                                                        int8_t leq_arg1_183041 = ((int8_t *) mem_param_184838.mem)[slice_183040];
                                                        int64_t leq_arg1_183042 = ((int64_t *) mem_param_184841.mem)[slice_183040];
                                                        int64_t leq_arg1_183043 = ((int64_t *) mem_param_184844.mem)[slice_183040];
                                                        int64_t slice_183050 = stride_182787 + leq_arg0_183045;
                                                        int64_t slice_183051 = start_182860 + slice_183050;
                                                        int8_t leq_arg0_183052 = ((int8_t *) mem_param_184838.mem)[slice_183051];
                                                        int64_t leq_arg0_183053 = ((int64_t *) mem_param_184841.mem)[slice_183051];
                                                        int64_t leq_arg0_183054 = ((int64_t *) mem_param_184844.mem)[slice_183051];
                                                        bool cond_183055 = leq_arg0_183052 == leq_arg1_183041;
                                                        bool defunc_0_leq_res_t_res_183056 = sle64(leq_arg0_183053, leq_arg1_183042);
                                                        bool defunc_0_leq_res_183057 = sle64(leq_arg0_183054, leq_arg1_183043);
                                                        bool x_183058 = cond_183055 && defunc_0_leq_res_t_res_183056;
                                                        bool x_183059 = !cond_183055;
                                                        bool y_183060 = defunc_0_leq_res_183057 && x_183059;
                                                        bool defunc_0_leq_res_183061 = x_183058 || y_183060;
                                                        
                                                        leq_y_x_183035 = defunc_0_leq_res_183061;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_183062;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_183063;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_183064;
                                                    
                                                    if (leq_y_x_183035) {
                                                        int64_t tmp_183065 = add64(tt_182977, n_183028);
                                                        int64_t tmp_183066 = sub64(count_182979, n_183028);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183062 = tmp_183065;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183063 = tt_182978;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183064 = tmp_183066;
                                                    } else {
                                                        int64_t tmp_183067 = add64(tt_182977, n_183028);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183062 = tt_182977;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183063 = tmp_183067;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183064 = count_182979;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_182995 = ss_182975;
                                                    defunc_0_lifted_step_res_f_res_f_res_182996 = defunc_0_lifted_step_res_f_res_f_res_f_res_183062;
                                                    defunc_0_lifted_step_res_f_res_f_res_182997 = defunc_0_lifted_step_res_f_res_f_res_f_res_183063;
                                                    defunc_0_lifted_step_res_f_res_f_res_182998 = defunc_0_lifted_step_res_f_res_f_res_f_res_183064;
                                                }
                                                defunc_0_lifted_step_res_f_res_182989 = defunc_0_lifted_step_res_f_res_f_res_182995;
                                                defunc_0_lifted_step_res_f_res_182990 = defunc_0_lifted_step_res_f_res_f_res_182996;
                                                defunc_0_lifted_step_res_f_res_182991 = defunc_0_lifted_step_res_f_res_f_res_182997;
                                                defunc_0_lifted_step_res_f_res_182992 = defunc_0_lifted_step_res_f_res_f_res_182998;
                                            }
                                            defunc_0_lifted_step_res_182982 = defunc_0_lifted_step_res_f_res_182989;
                                            defunc_0_lifted_step_res_182983 = defunc_0_lifted_step_res_f_res_182990;
                                            defunc_0_lifted_step_res_182984 = defunc_0_lifted_step_res_f_res_182991;
                                            defunc_0_lifted_step_res_182985 = defunc_0_lifted_step_res_f_res_182992;
                                        }
                                        
                                        int64_t loopres_183068;
                                        int64_t loopres_183069;
                                        int64_t loopres_183070;
                                        int64_t loopres_183071;
                                        int64_t loopres_183072;
                                        
                                        if (futrts_lifted_normalizze_9100(ctx, &loopres_183068, &loopres_183069, &loopres_183070, &loopres_183071, &loopres_183072, defunc_0_lifted_step_res_182982, ss_182976, defunc_0_lifted_step_res_182983, defunc_0_lifted_step_res_182984, defunc_0_lifted_step_res_182985) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_183073 = slt64((int64_t) 0, loopres_183072);
                                        bool loop_while_tmp_185802 = loop_cond_183073;
                                        int64_t ss_tmp_185803 = loopres_183068;
                                        int64_t ss_tmp_185804 = loopres_183069;
                                        int64_t tt_tmp_185805 = loopres_183070;
                                        int64_t tt_tmp_185806 = loopres_183071;
                                        int64_t count_tmp_185807 = loopres_183072;
                                        
                                        loop_while_182974 = loop_while_tmp_185802;
                                        ss_182975 = ss_tmp_185803;
                                        ss_182976 = ss_tmp_185804;
                                        tt_182977 = tt_tmp_185805;
                                        tt_182978 = tt_tmp_185806;
                                        count_182979 = count_tmp_185807;
                                    }
                                    defunc_0_split_count_res_182968 = loop_while_182974;
                                    defunc_0_split_count_res_182969 = ss_182975;
                                    defunc_0_split_count_res_182970 = ss_182976;
                                    defunc_0_split_count_res_182971 = tt_182977;
                                    defunc_0_split_count_res_182972 = tt_182978;
                                    defunc_0_split_count_res_182973 = count_182979;
                                    ((int64_t *) mem_184866)[i_184000] = defunc_0_split_count_res_182969;
                                    ((int64_t *) mem_184868)[i_184000] = defunc_0_split_count_res_182971;
                                }
                                if (mem_184882_cached_sizze_186242 < flat_dim_182810) {
                                    err = lexical_realloc(ctx, &mem_184882, &mem_184882_cached_sizze_186242, flat_dim_182810);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184885_cached_sizze_186243 < bytes_184884) {
                                    err = lexical_realloc(ctx, &mem_184885, &mem_184885_cached_sizze_186243, bytes_184884);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184888_cached_sizze_186244 < bytes_184884) {
                                    err = lexical_realloc(ctx, &mem_184888, &mem_184888_cached_sizze_186244, bytes_184884);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_184009 = 0; i_184009 < num_blocks_182807; i_184009++) {
                                    bool y_183082 = slt64(i_184009, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808);
                                    bool index_certs_183084;
                                    
                                    if (!y_183082) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_184009, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:375:63-73\n   #10 ftsort.fut:368:1-375:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_183085 = ((int64_t *) mem_184866)[i_184009];
                                    int64_t defunc_0_f_res_183086 = ((int64_t *) mem_184868)[i_184009];
                                    int64_t tmp_183087 = add64((int64_t) 1, i_184009);
                                    bool x_183088 = sle64((int64_t) 0, tmp_183087);
                                    bool y_183089 = slt64(tmp_183087, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808);
                                    bool bounds_check_183090 = x_183088 && y_183089;
                                    bool index_certs_183091;
                                    
                                    if (!bounds_check_183090) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_183087, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:375:63-73\n   #10 ftsort.fut:368:1-375:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_183092 = ((int64_t *) mem_184866)[tmp_183087];
                                    int64_t defunc_0_f_res_183093 = ((int64_t *) mem_184868)[tmp_183087];
                                    int64_t merge_sequential_arg2_183094 = add64(stride_182787, defunc_0_f_res_183086);
                                    int64_t merge_sequential_arg2_183095 = add64(stride_182787, defunc_0_f_res_183093);
                                    int64_t j_m_i_183096 = sub64(merge_sequential_arg2_183095, merge_sequential_arg2_183094);
                                    bool empty_slice_183097 = j_m_i_183096 == (int64_t) 0;
                                    int64_t m_183098 = sub64(j_m_i_183096, (int64_t) 1);
                                    int64_t i_p_m_t_s_183099 = add64(merge_sequential_arg2_183094, m_183098);
                                    bool zzero_leq_i_p_m_t_s_183100 = sle64((int64_t) 0, i_p_m_t_s_183099);
                                    bool i_p_m_t_s_leq_w_183101 = slt64(i_p_m_t_s_183099, next_stride_182788);
                                    bool zzero_lte_i_183102 = sle64((int64_t) 0, merge_sequential_arg2_183094);
                                    bool i_lte_j_183103 = sle64(merge_sequential_arg2_183094, merge_sequential_arg2_183095);
                                    bool y_183104 = i_p_m_t_s_leq_w_183101 && zzero_lte_i_183102;
                                    bool y_183105 = zzero_leq_i_p_m_t_s_183100 && y_183104;
                                    bool forwards_ok_183106 = i_lte_j_183103 && y_183105;
                                    bool ok_or_empty_183107 = empty_slice_183097 || forwards_ok_183106;
                                    bool index_certs_183108;
                                    
                                    if (!ok_or_empty_183107) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_183094, ":", (long long) merge_sequential_arg2_183095, "] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:375:63-73\n   #10 ftsort.fut:368:1-375:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_183109 = sub64(defunc_0_f_res_183092, defunc_0_f_res_183085);
                                    bool empty_slice_183110 = j_m_i_183109 == (int64_t) 0;
                                    int64_t m_183111 = sub64(j_m_i_183109, (int64_t) 1);
                                    int64_t i_p_m_t_s_183112 = add64(defunc_0_f_res_183085, m_183111);
                                    bool zzero_leq_i_p_m_t_s_183113 = sle64((int64_t) 0, i_p_m_t_s_183112);
                                    bool i_p_m_t_s_leq_w_183114 = slt64(i_p_m_t_s_183112, next_stride_182788);
                                    bool zzero_lte_i_183115 = sle64((int64_t) 0, defunc_0_f_res_183085);
                                    bool i_lte_j_183116 = sle64(defunc_0_f_res_183085, defunc_0_f_res_183092);
                                    bool y_183117 = i_p_m_t_s_leq_w_183114 && zzero_lte_i_183115;
                                    bool y_183118 = zzero_leq_i_p_m_t_s_183113 && y_183117;
                                    bool forwards_ok_183119 = i_lte_j_183116 && y_183118;
                                    bool ok_or_empty_183120 = empty_slice_183110 || forwards_ok_183119;
                                    bool index_certs_183121;
                                    
                                    if (!ok_or_empty_183120) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_183085, ":", (long long) defunc_0_f_res_183092, "] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:375:63-73\n   #10 ftsort.fut:368:1-375:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_183122 = slt64((int64_t) 0, j_m_i_183109);
                                    int8_t dummy_183123;
                                    int64_t dummy_183124;
                                    int64_t dummy_183125;
                                    
                                    if (cond_183122) {
                                        bool index_certs_183126;
                                        
                                        if (!cond_183122) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_183109, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:375:63-73\n   #12 ftsort.fut:368:1-375:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183127 = start_182860 + defunc_0_f_res_183085;
                                        int8_t head_res_183128 = ((int8_t *) mem_param_184838.mem)[slice_183127];
                                        int64_t head_res_183129 = ((int64_t *) mem_param_184841.mem)[slice_183127];
                                        int64_t head_res_183130 = ((int64_t *) mem_param_184844.mem)[slice_183127];
                                        
                                        dummy_183123 = head_res_183128;
                                        dummy_183124 = head_res_183129;
                                        dummy_183125 = head_res_183130;
                                    } else {
                                        bool y_183131 = slt64((int64_t) 0, j_m_i_183096);
                                        bool index_certs_183132;
                                        
                                        if (!y_183131) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_183096, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:375:63-73\n   #12 ftsort.fut:368:1-375:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183133 = start_182860 + merge_sequential_arg2_183094;
                                        int8_t head_res_183134 = ((int8_t *) mem_param_184838.mem)[slice_183133];
                                        int64_t head_res_183135 = ((int64_t *) mem_param_184841.mem)[slice_183133];
                                        int64_t head_res_183136 = ((int64_t *) mem_param_184844.mem)[slice_183133];
                                        
                                        dummy_183123 = head_res_183134;
                                        dummy_183124 = head_res_183135;
                                        dummy_183125 = head_res_183136;
                                    }
                                    for (int64_t nest_i_185811 = 0; nest_i_185811 < merge_block_sizze_182597; nest_i_185811++) {
                                        ((int8_t *) mem_184882)[i_184009 * merge_block_sizze_182597 + nest_i_185811] = dummy_183123;
                                    }
                                    for (int64_t nest_i_185812 = 0; nest_i_185812 < merge_block_sizze_182597; nest_i_185812++) {
                                        ((int64_t *) mem_184885)[i_184009 * merge_block_sizze_182597 + nest_i_185812] = dummy_183124;
                                    }
                                    for (int64_t nest_i_185813 = 0; nest_i_185813 < merge_block_sizze_182597; nest_i_185813++) {
                                        ((int64_t *) mem_184888)[i_184009 * merge_block_sizze_182597 + nest_i_185813] = dummy_183125;
                                    }
                                    
                                    int64_t data_183140;
                                    int64_t i_183145 = (int64_t) 0;
                                    
                                    for (int64_t k_183144 = 0; k_183144 < merge_block_sizze_182597; k_183144++) {
                                        int64_t j_183149 = sub64(k_183144, i_183145);
                                        bool cond_183150 = j_183149 == j_m_i_183096;
                                        bool cond_183151;
                                        
                                        if (cond_183150) {
                                            cond_183151 = 1;
                                        } else {
                                            bool cond_183152 = slt64(i_183145, j_m_i_183109);
                                            bool cond_f_res_183153;
                                            
                                            if (cond_183152) {
                                                bool x_183154 = sle64((int64_t) 0, j_183149);
                                                bool y_183155 = slt64(j_183149, j_m_i_183096);
                                                bool bounds_check_183156 = x_183154 && y_183155;
                                                bool index_certs_183157;
                                                
                                                if (!bounds_check_183156) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183149, "] out of bounds for array of shape [", (long long) j_m_i_183096, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:375:63-73\n   #11 ftsort.fut:368:1-375:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_183163 = sle64((int64_t) 0, i_183145);
                                                bool bounds_check_183164 = cond_183152 && x_183163;
                                                bool index_certs_183165;
                                                
                                                if (!bounds_check_183164) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183145, "] out of bounds for array of shape [", (long long) j_m_i_183109, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:375:63-73\n   #11 ftsort.fut:368:1-375:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_183158 = merge_sequential_arg2_183094 + j_183149;
                                                int64_t slice_183159 = start_182860 + slice_183158;
                                                int8_t leq_arg1_183160 = ((int8_t *) mem_param_184838.mem)[slice_183159];
                                                int64_t leq_arg1_183161 = ((int64_t *) mem_param_184841.mem)[slice_183159];
                                                int64_t leq_arg1_183162 = ((int64_t *) mem_param_184844.mem)[slice_183159];
                                                int64_t slice_183166 = defunc_0_f_res_183085 + i_183145;
                                                int64_t slice_183167 = start_182860 + slice_183166;
                                                int8_t leq_arg0_183168 = ((int8_t *) mem_param_184838.mem)[slice_183167];
                                                int64_t leq_arg0_183169 = ((int64_t *) mem_param_184841.mem)[slice_183167];
                                                int64_t leq_arg0_183170 = ((int64_t *) mem_param_184844.mem)[slice_183167];
                                                bool cond_183171 = leq_arg0_183168 == leq_arg1_183160;
                                                bool defunc_0_leq_res_t_res_183172 = sle64(leq_arg0_183169, leq_arg1_183161);
                                                bool defunc_0_leq_res_183173 = sle64(leq_arg0_183170, leq_arg1_183162);
                                                bool x_183174 = cond_183171 && defunc_0_leq_res_t_res_183172;
                                                bool x_183175 = !cond_183171;
                                                bool y_183176 = defunc_0_leq_res_183173 && x_183175;
                                                bool defunc_0_leq_res_183177 = x_183174 || y_183176;
                                                
                                                cond_f_res_183153 = defunc_0_leq_res_183177;
                                            } else {
                                                cond_f_res_183153 = 0;
                                            }
                                            cond_183151 = cond_f_res_183153;
                                        }
                                        
                                        int64_t loopres_183178;
                                        int8_t loopres_183179;
                                        int64_t loopres_183180;
                                        int64_t loopres_183181;
                                        
                                        if (cond_183151) {
                                            bool x_183183 = sle64((int64_t) 0, i_183145);
                                            bool y_183184 = slt64(i_183145, j_m_i_183109);
                                            bool bounds_check_183185 = x_183183 && y_183184;
                                            bool index_certs_183186;
                                            
                                            if (!bounds_check_183185) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183145, "] out of bounds for array of shape [", (long long) j_m_i_183109, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:375:63-73\n   #11 ftsort.fut:368:1-375:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_183182 = add64((int64_t) 1, i_183145);
                                            int64_t slice_183187 = defunc_0_f_res_183085 + i_183145;
                                            int64_t slice_183188 = start_182860 + slice_183187;
                                            int8_t tmp_183189 = ((int8_t *) mem_param_184838.mem)[slice_183188];
                                            int64_t tmp_183190 = ((int64_t *) mem_param_184841.mem)[slice_183188];
                                            int64_t tmp_183191 = ((int64_t *) mem_param_184844.mem)[slice_183188];
                                            
                                            loopres_183178 = tmp_183182;
                                            loopres_183179 = tmp_183189;
                                            loopres_183180 = tmp_183190;
                                            loopres_183181 = tmp_183191;
                                        } else {
                                            bool x_183192 = sle64((int64_t) 0, j_183149);
                                            bool y_183193 = slt64(j_183149, j_m_i_183096);
                                            bool bounds_check_183194 = x_183192 && y_183193;
                                            bool index_certs_183195;
                                            
                                            if (!bounds_check_183194) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183149, "] out of bounds for array of shape [", (long long) j_m_i_183096, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:375:63-73\n   #11 ftsort.fut:368:1-375:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_183196 = merge_sequential_arg2_183094 + j_183149;
                                            int64_t slice_183197 = start_182860 + slice_183196;
                                            int8_t tmp_183198 = ((int8_t *) mem_param_184838.mem)[slice_183197];
                                            int64_t tmp_183199 = ((int64_t *) mem_param_184841.mem)[slice_183197];
                                            int64_t tmp_183200 = ((int64_t *) mem_param_184844.mem)[slice_183197];
                                            
                                            loopres_183178 = i_183145;
                                            loopres_183179 = tmp_183198;
                                            loopres_183180 = tmp_183199;
                                            loopres_183181 = tmp_183200;
                                        }
                                        ((int8_t *) mem_184882)[i_184009 * merge_block_sizze_182597 + k_183144] = loopres_183179;
                                        ((int64_t *) mem_184885)[i_184009 * merge_block_sizze_182597 + k_183144] = loopres_183180;
                                        ((int64_t *) mem_184888)[i_184009 * merge_block_sizze_182597 + k_183144] = loopres_183181;
                                        
                                        int64_t i_tmp_185814 = loopres_183178;
                                        
                                        i_183145 = i_tmp_185814;
                                    }
                                    data_183140 = i_183145;
                                }
                                if (memblock_alloc(ctx, &mem_184937, flat_dim_182810, "mem_184937")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_184937.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (uint8_t *) mem_184882, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (int64_t []) {num_blocks_182807, merge_block_sizze_182597});
                                if (memblock_alloc(ctx, &mem_184941, bytes_184884, "mem_184941")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_184941.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (uint64_t *) mem_184885, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (int64_t []) {num_blocks_182807, merge_block_sizze_182597});
                                if (memblock_alloc(ctx, &mem_184945, bytes_184884, "mem_184945")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_184945.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (uint64_t *) mem_184888, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (int64_t []) {num_blocks_182807, merge_block_sizze_182597});
                                if (memblock_set(ctx, &ext_mem_184978, &mem_184937, "mem_184937") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184975, &mem_184941, "mem_184941") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184972, &mem_184945, "mem_184945") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_184846, i_184019 * next_stride_182788, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_184978.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_182788});
                            if (memblock_unref(ctx, &ext_mem_184978, "ext_mem_184978") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184849, i_184019 * next_stride_182788, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184975.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_182788});
                            if (memblock_unref(ctx, &ext_mem_184975, "ext_mem_184975") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184852, i_184019 * next_stride_182788, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184972.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_182788});
                            if (memblock_unref(ctx, &ext_mem_184972, "ext_mem_184972") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_184992, bytes_184845, "mem_184992")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_184992.mem, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (uint8_t *) mem_184846, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (int64_t []) {num_merges_182792, next_stride_182788});
                        if (memblock_alloc(ctx, &mem_184996, bytes_184848, "mem_184996")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_184996.mem, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (uint64_t *) mem_184849, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (int64_t []) {num_merges_182792, next_stride_182788});
                        if (memblock_alloc(ctx, &mem_185000, bytes_184848, "mem_185000")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_185000.mem, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (uint64_t *) mem_184852, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (int64_t []) {num_merges_182792, next_stride_182788});
                        
                        bool loop_cond_183220 = slt64(next_stride_182788, flat_dim_182592);
                        
                        if (memblock_set(ctx, &mem_param_tmp_185781, &mem_184992, "mem_184992") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_185782, &mem_184996, "mem_184996") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_185783, &mem_185000, "mem_185000") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_185784 = bytes_184845;
                        bool loop_while_tmp_185785 = loop_cond_183220;
                        int64_t stride_tmp_185789 = next_stride_182788;
                        
                        if (memblock_set(ctx, &mem_param_184838, &mem_param_tmp_185781, "mem_param_tmp_185781") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_184841, &mem_param_tmp_185782, "mem_param_tmp_185782") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_184844, &mem_param_tmp_185783, "mem_param_tmp_185783") != 0)
                            return 1;
                        loop_dz2084Uz2082U_182782 = loop_dz2084Uz2082U_tmp_185784;
                        loop_while_182783 = loop_while_tmp_185785;
                        stride_182787 = stride_tmp_185789;
                    }
                    if (memblock_set(ctx, &ext_mem_185010, &mem_param_184838, "mem_param_184838") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185009, &mem_param_184841, "mem_param_184841") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185008, &mem_param_184844, "mem_param_184844") != 0)
                        return 1;
                    data_182776 = loop_dz2084Uz2082U_182782;
                    data_182777 = loop_while_182783;
                    data_182781 = stride_182787;
                    if (memblock_unref(ctx, &mem_184826, "mem_184826") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_184830, "mem_184830") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_184834, "mem_184834") != 0)
                        return 1;
                    
                    bool empty_slice_183221 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_183222 = sle64((int64_t) 0, zs_lhs_182576);
                    bool i_p_m_t_s_leq_w_183223 = slt64(zs_lhs_182576, data_182776);
                    bool y_183224 = zzero_leq_i_p_m_t_s_183222 && i_p_m_t_s_leq_w_183223;
                    bool ok_or_empty_183225 = empty_slice_183221 || y_183224;
                    bool index_certs_183226;
                    
                    if (!ok_or_empty_183225) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "] out of bounds for array of shape [", (long long) data_182776, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:375:63-73\n   #6  ftsort.fut:368:1-375:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_185019, &ext_mem_185010, "ext_mem_185010") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185016, &ext_mem_185009, "ext_mem_185009") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185013, &ext_mem_185008, "ext_mem_185008") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_184720, "mem_184720") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_184722, "mem_184722") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_184724, "mem_184724") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_184686, i_184035 * perThread_178862, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_185019.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530});
                if (memblock_unref(ctx, &ext_mem_185019, "ext_mem_185019") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184689, i_184035 * perThread_178862, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185016.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530});
                if (memblock_unref(ctx, &ext_mem_185016, "ext_mem_185016") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184692, i_184035 * perThread_178862, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185013.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530});
                if (memblock_unref(ctx, &ext_mem_185013, "ext_mem_185013") != 0)
                    return 1;
                for (int64_t i_184025 = 0; i_184025 < perThread_178862; i_184025++) {
                    int64_t lifted_lambda_res_183248 = add64(zm_rhs_182532, i_184025);
                    
                    ((int64_t *) mem_184684)[i_184035 * perThread_178862 + i_184025] = lifted_lambda_res_183248;
                }
                
                bool cond_183250 = card_182533 == zp_rhs_178861;
                
                if (cond_183250) {
                    bool y_183252 = slt64(card_182533, perThread_178862);
                    bool index_certs_183253;
                    
                    if (!y_183252) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_182533, "] out of bounds for array of shape [", (long long) perThread_178862, "].", "-> #0  ftsort.fut:271:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:375:63-73\n   #3  ftsort.fut:368:1-375:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_184684)[i_184035 * perThread_178862 + card_182533] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_185045, bytes_184338, "mem_185045")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185819 = 0; nest_i_185819 < window_sizze_143133; nest_i_185819++) {
                ((int64_t *) mem_185045.mem)[nest_i_185819] = (int64_t) 0;
            }
            if (memblock_alloc(ctx, &mem_185047, bytes_184338, "mem_185047")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185820 = 0; nest_i_185820 < window_sizze_143133; nest_i_185820++) {
                ((int64_t *) mem_185047.mem)[nest_i_185820] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_185048, window_sizze_143133, "mem_185048")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185821 = 0; nest_i_185821 < window_sizze_143133; nest_i_185821++) {
                ((int8_t *) mem_185048.mem)[nest_i_185821] = (int8_t) -1;
            }
            for (int64_t write_iter_184040 = 0; write_iter_184040 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_178863; write_iter_184040++) {
                int64_t new_index_184192 = squot64(write_iter_184040, perThread_178862);
                int64_t binop_y_184194 = perThread_178862 * new_index_184192;
                int64_t new_index_184195 = write_iter_184040 - binop_y_184194;
                int64_t write_iv_184044 = ((int64_t *) mem_184684)[new_index_184192 * perThread_178862 + new_index_184195];
                int8_t write_iv_184045 = ((int8_t *) mem_184686)[new_index_184192 * perThread_178862 + new_index_184195];
                int64_t write_iv_184046 = ((int64_t *) mem_184689)[new_index_184192 * perThread_178862 + new_index_184195];
                int64_t write_iv_184047 = ((int64_t *) mem_184692)[new_index_184192 * perThread_178862 + new_index_184195];
                
                if (sle64((int64_t) 0, write_iv_184044) && slt64(write_iv_184044, window_sizze_143133)) {
                    ((int8_t *) mem_185048.mem)[write_iv_184044] = write_iv_184045;
                }
                if (sle64((int64_t) 0, write_iv_184044) && slt64(write_iv_184044, window_sizze_143133)) {
                    ((int64_t *) mem_185047.mem)[write_iv_184044] = write_iv_184046;
                }
                if (sle64((int64_t) 0, write_iv_184044) && slt64(write_iv_184044, window_sizze_143133)) {
                    ((int64_t *) mem_185045.mem)[write_iv_184044] = write_iv_184047;
                }
            }
            
            int64_t index_concat_branch_183276;
            
            if (index_concat_cmp_181616) {
                int64_t index_concat_183277 = ((int64_t *) mem_184667)[index_concat_i_181617];
                
                index_concat_branch_183276 = index_concat_183277;
            } else {
                index_concat_branch_183276 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_183278;
            
            if (index_concat_cmp_181616) {
                int64_t index_concat_183279 = ((int64_t *) mem_184669)[index_concat_i_181617];
                
                index_concat_branch_183278 = index_concat_183279;
            } else {
                index_concat_branch_183278 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_185075, &mem_185048, "mem_185048") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_185072, &mem_185047, "mem_185047") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_185069, &mem_185045, "mem_185045") != 0)
                return 1;
            loopres_178852 = index_concat_branch_183276;
            loopres_178853 = index_concat_branch_183278;
        } else {
            int64_t leq_lhs_179843 = ((int64_t *) a_list_mem_184305.mem)[p_178824];
            int64_t leq_rhs_179846 = ((int64_t *) b_list_mem_184306.mem)[p_178825];
            bool defunc_0_leq_res_179847 = sle64(leq_lhs_179843, leq_rhs_179846);
            int64_t lowest_179848;
            
            if (defunc_0_leq_res_179847) {
                bool index_certs_183280;
                
                if (!y_179841) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:143:44-49\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_179848 = leq_lhs_179843;
            } else {
                bool index_certs_179853;
                
                if (!y_179841) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:143:55-60\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_179848 = leq_rhs_179846;
            }
            if (mem_184322_cached_sizze_186209 < bytes_184321) {
                err = lexical_realloc(ctx, &mem_184322, &mem_184322_cached_sizze_186209, bytes_184321);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184324_cached_sizze_186210 < bytes_184321) {
                err = lexical_realloc(ctx, &mem_184324, &mem_184324_cached_sizze_186210, bytes_184321);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_184055 = 0; i_184055 < threads_143134; i_184055++) {
                int64_t index_primexp_184271 = add64((int64_t) 1, i_184055);
                int64_t zs_lhs_179867 = mul64(zt_rhs_179860, index_primexp_184271);
                int64_t index_179868 = sdiv64(zs_lhs_179867, partitionFunc_arg0_179839);
                bool cond_179869 = slt64(window_sizze_143133, index_179868);
                int64_t loop_over_179870;
                
                if (cond_179869) {
                    loop_over_179870 = window_sizze_143133;
                } else {
                    loop_over_179870 = index_179868;
                }
                
                int64_t loop_over_179871;
                
                if (cond_179869) {
                    int64_t loop_over_t_res_183281 = sub64(index_179868, window_sizze_143133);
                    
                    loop_over_179871 = loop_over_t_res_183281;
                } else {
                    loop_over_179871 = (int64_t) 0;
                }
                
                int64_t loop_over_179873;
                
                if (cond_179869) {
                    int64_t zm_lhs_183282 = sub64(index_179868, window_sizze_143133);
                    int64_t loop_over_t_res_183283 = sub64(zm_lhs_183282, (int64_t) 1);
                    
                    loop_over_179873 = loop_over_t_res_183283;
                } else {
                    loop_over_179873 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_179876;
                int64_t defunc_0_f_res_179877;
                int64_t defunc_0_f_res_179878;
                int64_t defunc_0_f_res_179879;
                bool loop_while_179880;
                int64_t p_179881;
                int64_t p_179882;
                int64_t p_179883;
                
                loop_while_179880 = 1;
                p_179881 = loop_over_179873;
                p_179882 = loop_over_179870;
                p_179883 = loop_over_179871;
                while (loop_while_179880) {
                    int64_t zs_lhs_179884 = sub64(p_179882, p_179881);
                    int64_t offset_179885 = sdiv64(zs_lhs_179884, (int64_t) 2);
                    int64_t ai_179886 = sub64(p_179882, offset_179885);
                    int64_t max_arg1_179887 = add64(p_179883, offset_179885);
                    int64_t max_res_179888 = smax64((int64_t) 0, max_arg1_179887);
                    bool cond_179889 = slt64((int64_t) 0, max_res_179888);
                    int64_t b_prev_179890;
                    
                    if (cond_179889) {
                        int64_t tmp_183284 = sub64(max_res_179888, (int64_t) 1);
                        bool x_183285 = sle64((int64_t) 0, tmp_183284);
                        bool y_183286 = slt64(tmp_183284, window_sizze_143133);
                        bool bounds_check_183287 = x_183285 && y_183286;
                        bool index_certs_183288;
                        
                        if (!bounds_check_183287) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_183284, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:160:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_183289 = p_178825 + tmp_183284;
                        int64_t b_prev_t_res_183290 = ((int64_t *) b_list_mem_184306.mem)[slice_183289];
                        
                        b_prev_179890 = b_prev_t_res_183290;
                    } else {
                        b_prev_179890 = lowest_179848;
                    }
                    
                    bool cond_179897 = sle64(ai_179886, (int64_t) 0);
                    int64_t loopres_179898;
                    int64_t loopres_179899;
                    int64_t loopres_179900;
                    bool loopres_179901;
                    
                    if (cond_179897) {
                        loopres_179898 = p_179881;
                        loopres_179899 = (int64_t) 0;
                        loopres_179900 = max_res_179888;
                        loopres_179901 = 0;
                    } else {
                        bool cond_179902 = sle64(window_sizze_143133, max_res_179888);
                        int64_t loopres_f_res_179903;
                        int64_t loopres_f_res_179904;
                        int64_t loopres_f_res_179905;
                        bool loopres_f_res_179906;
                        
                        if (cond_179902) {
                            int64_t min_res_183292 = smin64(m_178813, ai_179886);
                            bool x_183293 = sle64((int64_t) 0, m_178813);
                            bool y_183294 = slt64(m_178813, window_sizze_143133);
                            bool bounds_check_183295 = x_183293 && y_183294;
                            bool index_certs_183296;
                            
                            if (!bounds_check_183295) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_178813, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:171:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_183299 = sle64((int64_t) 0, min_res_183292);
                            bool y_183300 = slt64(min_res_183292, window_sizze_143133);
                            bool bounds_check_183301 = x_183299 && y_183300;
                            bool index_certs_183302;
                            
                            if (!bounds_check_183301) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_183292, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:171:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t leq_lhs_183298 = ((int64_t *) b_list_mem_184306.mem)[i_p_m_t_s_178841];
                            int64_t slice_183303 = p_178824 + min_res_183292;
                            int64_t leq_rhs_183304 = ((int64_t *) a_list_mem_184305.mem)[slice_183303];
                            bool defunc_0_leq_res_183305 = sle64(leq_lhs_183298, leq_rhs_183304);
                            int64_t loopres_f_res_t_res_183306;
                            
                            if (defunc_0_leq_res_183305) {
                                loopres_f_res_t_res_183306 = ai_179886;
                            } else {
                                loopres_f_res_t_res_183306 = p_179882;
                            }
                            
                            bool x_183307 = !defunc_0_leq_res_183305;
                            int64_t loopres_f_res_t_res_183308;
                            
                            if (defunc_0_leq_res_183305) {
                                loopres_f_res_t_res_183308 = window_sizze_143133;
                            } else {
                                int64_t tmp_183309 = sub64(m_178813, offset_179885);
                                
                                loopres_f_res_t_res_183308 = tmp_183309;
                            }
                            loopres_f_res_179903 = p_179881;
                            loopres_f_res_179904 = loopres_f_res_t_res_183306;
                            loopres_f_res_179905 = loopres_f_res_t_res_183308;
                            loopres_f_res_179906 = x_183307;
                        } else {
                            bool cond_179924 = sle64(window_sizze_143133, ai_179886);
                            int64_t loopres_f_res_f_res_179925;
                            int64_t loopres_f_res_f_res_179926;
                            int64_t loopres_f_res_f_res_179927;
                            bool loopres_f_res_f_res_179928;
                            
                            if (cond_179924) {
                                int64_t min_res_183311 = smin64(m_178813, max_res_179888);
                                bool x_183312 = sle64((int64_t) 0, m_178813);
                                bool y_183313 = slt64(m_178813, window_sizze_143133);
                                bool bounds_check_183314 = x_183312 && y_183313;
                                bool index_certs_183315;
                                
                                if (!bounds_check_183314) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_178813, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:178:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_183318 = sle64((int64_t) 0, min_res_183311);
                                bool y_183319 = slt64(min_res_183311, window_sizze_143133);
                                bool bounds_check_183320 = x_183318 && y_183319;
                                bool index_certs_183321;
                                
                                if (!bounds_check_183320) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_183311, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:178:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t leq_lhs_183317 = ((int64_t *) a_list_mem_184305.mem)[i_p_m_t_s_178830];
                                int64_t slice_183322 = p_178825 + min_res_183311;
                                int64_t leq_rhs_183323 = ((int64_t *) b_list_mem_184306.mem)[slice_183322];
                                bool defunc_0_leq_res_183324 = sle64(leq_lhs_183317, leq_rhs_183323);
                                int64_t loopres_f_res_f_res_t_res_183325;
                                
                                if (defunc_0_leq_res_183324) {
                                    loopres_f_res_f_res_t_res_183325 = max_res_179888;
                                } else {
                                    loopres_f_res_f_res_t_res_183325 = p_179883;
                                }
                                
                                bool x_183326 = !defunc_0_leq_res_183324;
                                int64_t loopres_f_res_f_res_t_res_183327;
                                
                                if (defunc_0_leq_res_183324) {
                                    loopres_f_res_f_res_t_res_183327 = window_sizze_143133;
                                } else {
                                    loopres_f_res_f_res_t_res_183327 = m_178813;
                                }
                                loopres_f_res_f_res_179925 = p_179881;
                                loopres_f_res_f_res_179926 = loopres_f_res_f_res_t_res_183327;
                                loopres_f_res_f_res_179927 = loopres_f_res_f_res_t_res_183325;
                                loopres_f_res_f_res_179928 = x_183326;
                            } else {
                                bool cond_179945 = sle64(p_179882, p_179881);
                                int64_t loopres_f_res_f_res_f_res_179946;
                                int64_t loopres_f_res_f_res_f_res_179947;
                                int64_t loopres_f_res_f_res_f_res_179948;
                                bool loopres_f_res_f_res_f_res_179949;
                                
                                if (cond_179945) {
                                    bool cond_183366 = slt64(ai_179886, window_sizze_143133);
                                    int64_t ai_183367;
                                    
                                    if (cond_183366) {
                                        ai_183367 = ai_179886;
                                    } else {
                                        ai_183367 = m_178813;
                                    }
                                    
                                    bool x_183380 = sle64((int64_t) 0, ai_183367);
                                    bool y_183381 = slt64(ai_183367, window_sizze_143133);
                                    bool bounds_check_183382 = x_183380 && y_183381;
                                    bool index_certs_183383;
                                    
                                    if (!bounds_check_183382) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_183367, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:114:8-14\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t b_prev_183369;
                                    
                                    if (cond_179889) {
                                        int64_t tmp_183370 = sub64(max_res_179888, (int64_t) 1);
                                        bool x_183371 = sle64((int64_t) 0, tmp_183370);
                                        bool y_183372 = slt64(tmp_183370, window_sizze_143133);
                                        bool bounds_check_183373 = x_183371 && y_183372;
                                        bool index_certs_183374;
                                        
                                        if (!bounds_check_183373) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_183370, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:112:31-39\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183375 = p_178825 + tmp_183370;
                                        int64_t b_prev_t_res_183376 = ((int64_t *) b_list_mem_184306.mem)[slice_183375];
                                        
                                        b_prev_183369 = b_prev_t_res_183376;
                                    } else {
                                        bool index_certs_183378;
                                        
                                        if (!y_179841) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:112:45-50\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_183369 = leq_rhs_179846;
                                    }
                                    
                                    int64_t slice_183384 = p_178824 + ai_183367;
                                    int64_t gt_lhs_183385 = ((int64_t *) a_list_mem_184305.mem)[slice_183384];
                                    bool defunc_0_gt_res_183386 = slt64(b_prev_183369, gt_lhs_183385);
                                    int64_t defunc_0_partFunc_sequential_search_res_183387;
                                    int64_t defunc_0_partFunc_sequential_search_res_183388;
                                    
                                    if (defunc_0_gt_res_183386) {
                                        int64_t zl_rhs_183389 = sub64(window_sizze_143133, max_res_179888);
                                        bool loop_cond_183390 = slt64((int64_t) 0, zl_rhs_183389);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_183391;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_183392;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_183393;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_183394;
                                        bool loop_while_183395;
                                        int64_t p_183396;
                                        int64_t p_183397;
                                        int64_t p_183398;
                                        
                                        loop_while_183395 = loop_cond_183390;
                                        p_183396 = ai_183367;
                                        p_183397 = max_res_179888;
                                        p_183398 = (int64_t) 0;
                                        while (loop_while_183395) {
                                            int64_t i_a_183399 = sub64(ai_183367, p_183398);
                                            int64_t i_b_183400 = add64(max_res_179888, p_183398);
                                            int64_t leq_lhs_183401 = sub64(i_a_183399, (int64_t) 1);
                                            bool x_183402 = sle64((int64_t) 0, leq_lhs_183401);
                                            bool y_183403 = slt64(leq_lhs_183401, window_sizze_143133);
                                            bool bounds_check_183404 = x_183402 && y_183403;
                                            bool index_certs_183405;
                                            
                                            if (!bounds_check_183404) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_183401, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:120:15-24\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_183408 = sle64((int64_t) 0, i_b_183400);
                                            bool y_183409 = slt64(i_b_183400, window_sizze_143133);
                                            bool bounds_check_183410 = x_183408 && y_183409;
                                            bool index_certs_183411;
                                            
                                            if (!bounds_check_183410) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_183400, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:120:31-38\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_183406 = p_178824 + leq_lhs_183401;
                                            int64_t leq_lhs_183407 = ((int64_t *) a_list_mem_184305.mem)[slice_183406];
                                            int64_t slice_183412 = p_178825 + i_b_183400;
                                            int64_t leq_rhs_183413 = ((int64_t *) b_list_mem_184306.mem)[slice_183412];
                                            bool defunc_0_leq_res_183414 = sle64(leq_lhs_183407, leq_rhs_183413);
                                            int64_t loopres_183415;
                                            
                                            if (defunc_0_leq_res_183414) {
                                                loopres_183415 = i_a_183399;
                                            } else {
                                                loopres_183415 = ai_183367;
                                            }
                                            
                                            int64_t loopres_183416;
                                            
                                            if (defunc_0_leq_res_183414) {
                                                loopres_183416 = i_b_183400;
                                            } else {
                                                loopres_183416 = max_res_179888;
                                            }
                                            
                                            int64_t loopres_183417;
                                            
                                            if (defunc_0_leq_res_183414) {
                                                loopres_183417 = zl_rhs_183389;
                                            } else {
                                                int64_t tmp_183418 = add64((int64_t) 1, p_183398);
                                                
                                                loopres_183417 = tmp_183418;
                                            }
                                            
                                            bool loop_cond_183419 = slt64(loopres_183417, zl_rhs_183389);
                                            bool loop_while_tmp_185831 = loop_cond_183419;
                                            int64_t p_tmp_185832 = loopres_183415;
                                            int64_t p_tmp_185833 = loopres_183416;
                                            int64_t p_tmp_185834 = loopres_183417;
                                            
                                            loop_while_183395 = loop_while_tmp_185831;
                                            p_183396 = p_tmp_185832;
                                            p_183397 = p_tmp_185833;
                                            p_183398 = p_tmp_185834;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_183391 = loop_while_183395;
                                        defunc_0_partFunc_sequential_search_res_t_res_183392 = p_183396;
                                        defunc_0_partFunc_sequential_search_res_t_res_183393 = p_183397;
                                        defunc_0_partFunc_sequential_search_res_t_res_183394 = p_183398;
                                        defunc_0_partFunc_sequential_search_res_183387 = defunc_0_partFunc_sequential_search_res_t_res_183392;
                                        defunc_0_partFunc_sequential_search_res_183388 = defunc_0_partFunc_sequential_search_res_t_res_183393;
                                    } else {
                                        int64_t zl_rhs_183420 = sub64(max_res_179888, (int64_t) 1);
                                        bool loop_cond_183421 = slt64((int64_t) 0, zl_rhs_183420);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_183422;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_183423;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_183424;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_183425;
                                        bool loop_while_183426;
                                        int64_t p_183427;
                                        int64_t p_183428;
                                        int64_t p_183429;
                                        
                                        loop_while_183426 = loop_cond_183421;
                                        p_183427 = ai_183367;
                                        p_183428 = max_res_179888;
                                        p_183429 = (int64_t) 0;
                                        while (loop_while_183426) {
                                            int64_t zp_lhs_183430 = add64(ai_183367, p_183429);
                                            int64_t hi_a_183431 = add64((int64_t) 1, zp_lhs_183430);
                                            bool cond_183432 = slt64(hi_a_183431, window_sizze_143133);
                                            int64_t i_a_183433;
                                            
                                            if (cond_183432) {
                                                i_a_183433 = hi_a_183431;
                                            } else {
                                                i_a_183433 = m_178813;
                                            }
                                            
                                            int64_t zm_lhs_183435 = sub64(max_res_179888, p_183429);
                                            int64_t i_b_183436 = sub64(zm_lhs_183435, (int64_t) 1);
                                            bool x_183437 = sle64((int64_t) 0, i_a_183433);
                                            bool y_183438 = slt64(i_a_183433, window_sizze_143133);
                                            bool bounds_check_183439 = x_183437 && y_183438;
                                            bool index_certs_183440;
                                            
                                            if (!bounds_check_183439) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_183433, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:130:15-22\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_183443 = sle64((int64_t) 0, i_b_183436);
                                            bool y_183444 = slt64(i_b_183436, window_sizze_143133);
                                            bool bounds_check_183445 = x_183443 && y_183444;
                                            bool index_certs_183446;
                                            
                                            if (!bounds_check_183445) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_183436, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:130:28-35\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_183441 = p_178824 + i_a_183433;
                                            int64_t gt_lhs_183442 = ((int64_t *) a_list_mem_184305.mem)[slice_183441];
                                            int64_t slice_183447 = p_178825 + i_b_183436;
                                            int64_t gt_rhs_183448 = ((int64_t *) b_list_mem_184306.mem)[slice_183447];
                                            bool defunc_0_gt_res_183449 = slt64(gt_rhs_183448, gt_lhs_183442);
                                            int64_t loopres_183450;
                                            
                                            if (defunc_0_gt_res_183449) {
                                                loopres_183450 = i_a_183433;
                                            } else {
                                                loopres_183450 = ai_183367;
                                            }
                                            
                                            int64_t loopres_183451;
                                            
                                            if (defunc_0_gt_res_183449) {
                                                loopres_183451 = zm_lhs_183435;
                                            } else {
                                                loopres_183451 = max_res_179888;
                                            }
                                            
                                            int64_t loopres_183452;
                                            
                                            if (defunc_0_gt_res_183449) {
                                                loopres_183452 = zl_rhs_183420;
                                            } else {
                                                int64_t tmp_183453 = add64((int64_t) 1, p_183429);
                                                
                                                loopres_183452 = tmp_183453;
                                            }
                                            
                                            bool loop_cond_183454 = slt64(loopres_183452, zl_rhs_183420);
                                            bool loop_while_tmp_185835 = loop_cond_183454;
                                            int64_t p_tmp_185836 = loopres_183450;
                                            int64_t p_tmp_185837 = loopres_183451;
                                            int64_t p_tmp_185838 = loopres_183452;
                                            
                                            loop_while_183426 = loop_while_tmp_185835;
                                            p_183427 = p_tmp_185836;
                                            p_183428 = p_tmp_185837;
                                            p_183429 = p_tmp_185838;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_183422 = loop_while_183426;
                                        defunc_0_partFunc_sequential_search_res_f_res_183423 = p_183427;
                                        defunc_0_partFunc_sequential_search_res_f_res_183424 = p_183428;
                                        defunc_0_partFunc_sequential_search_res_f_res_183425 = p_183429;
                                        defunc_0_partFunc_sequential_search_res_183387 = defunc_0_partFunc_sequential_search_res_f_res_183423;
                                        defunc_0_partFunc_sequential_search_res_183388 = defunc_0_partFunc_sequential_search_res_f_res_183424;
                                    }
                                    loopres_f_res_f_res_f_res_179946 = p_179881;
                                    loopres_f_res_f_res_f_res_179947 = defunc_0_partFunc_sequential_search_res_183387;
                                    loopres_f_res_f_res_f_res_179948 = defunc_0_partFunc_sequential_search_res_183388;
                                    loopres_f_res_f_res_f_res_179949 = 0;
                                } else {
                                    bool x_180033 = sle64((int64_t) 0, ai_179886);
                                    bool y_180034 = slt64(ai_179886, window_sizze_143133);
                                    bool bounds_check_180035 = x_180033 && y_180034;
                                    bool index_certs_180036;
                                    
                                    if (!bounds_check_180035) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179886, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:186:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_181695 = p_178824 + ai_179886;
                                    int64_t gt_lhs_180037 = ((int64_t *) a_list_mem_184305.mem)[slice_181695];
                                    bool defunc_0_gt_res_180038 = slt64(b_prev_179890, gt_lhs_180037);
                                    int64_t loopres_f_res_f_res_f_res_f_res_180039;
                                    int64_t loopres_f_res_f_res_f_res_f_res_180040;
                                    int64_t loopres_f_res_f_res_f_res_f_res_180041;
                                    bool loopres_f_res_f_res_f_res_f_res_180042;
                                    
                                    if (defunc_0_gt_res_180038) {
                                        int64_t leq_lhs_183455 = sub64(ai_179886, (int64_t) 1);
                                        bool x_183456 = sle64((int64_t) 0, leq_lhs_183455);
                                        bool y_183457 = slt64(leq_lhs_183455, window_sizze_143133);
                                        bool bounds_check_183458 = x_183456 && y_183457;
                                        bool index_certs_183459;
                                        
                                        if (!bounds_check_183458) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_183455, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:187:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_183462 = sle64((int64_t) 0, max_res_179888);
                                        bool y_183463 = slt64(max_res_179888, window_sizze_143133);
                                        bool bounds_check_183464 = x_183462 && y_183463;
                                        bool index_certs_183465;
                                        
                                        if (!bounds_check_183464) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_179888, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:187:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183460 = p_178824 + leq_lhs_183455;
                                        int64_t leq_lhs_183461 = ((int64_t *) a_list_mem_184305.mem)[slice_183460];
                                        int64_t slice_183466 = p_178825 + max_res_179888;
                                        int64_t leq_rhs_183467 = ((int64_t *) b_list_mem_184306.mem)[slice_183466];
                                        bool defunc_0_leq_res_183468 = sle64(leq_lhs_183461, leq_rhs_183467);
                                        bool x_183469 = !defunc_0_leq_res_183468;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_183470;
                                        
                                        if (defunc_0_leq_res_183468) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_183470 = ai_179886;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_183470 = leq_lhs_183455;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_183471;
                                        
                                        if (defunc_0_leq_res_183468) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_183471 = max_res_179888;
                                        } else {
                                            int64_t tmp_183472 = add64((int64_t) 1, max_res_179888);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_183471 = tmp_183472;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_180039 = p_179881;
                                        loopres_f_res_f_res_f_res_f_res_180040 = loopres_f_res_f_res_f_res_f_res_t_res_183470;
                                        loopres_f_res_f_res_f_res_f_res_180041 = loopres_f_res_f_res_f_res_f_res_t_res_183471;
                                        loopres_f_res_f_res_f_res_f_res_180042 = x_183469;
                                    } else {
                                        int64_t tmp_180059 = add64((int64_t) 1, ai_179886);
                                        
                                        loopres_f_res_f_res_f_res_f_res_180039 = tmp_180059;
                                        loopres_f_res_f_res_f_res_f_res_180040 = p_179882;
                                        loopres_f_res_f_res_f_res_f_res_180041 = p_179883;
                                        loopres_f_res_f_res_f_res_f_res_180042 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_179946 = loopres_f_res_f_res_f_res_f_res_180039;
                                    loopres_f_res_f_res_f_res_179947 = loopres_f_res_f_res_f_res_f_res_180040;
                                    loopres_f_res_f_res_f_res_179948 = loopres_f_res_f_res_f_res_f_res_180041;
                                    loopres_f_res_f_res_f_res_179949 = loopres_f_res_f_res_f_res_f_res_180042;
                                }
                                loopres_f_res_f_res_179925 = loopres_f_res_f_res_f_res_179946;
                                loopres_f_res_f_res_179926 = loopres_f_res_f_res_f_res_179947;
                                loopres_f_res_f_res_179927 = loopres_f_res_f_res_f_res_179948;
                                loopres_f_res_f_res_179928 = loopres_f_res_f_res_f_res_179949;
                            }
                            loopres_f_res_179903 = loopres_f_res_f_res_179925;
                            loopres_f_res_179904 = loopres_f_res_f_res_179926;
                            loopres_f_res_179905 = loopres_f_res_f_res_179927;
                            loopres_f_res_179906 = loopres_f_res_f_res_179928;
                        }
                        loopres_179898 = loopres_f_res_179903;
                        loopres_179899 = loopres_f_res_179904;
                        loopres_179900 = loopres_f_res_179905;
                        loopres_179901 = loopres_f_res_179906;
                    }
                    
                    bool loop_while_tmp_185827 = loopres_179901;
                    int64_t p_tmp_185828 = loopres_179898;
                    int64_t p_tmp_185829 = loopres_179899;
                    int64_t p_tmp_185830 = loopres_179900;
                    
                    loop_while_179880 = loop_while_tmp_185827;
                    p_179881 = p_tmp_185828;
                    p_179882 = p_tmp_185829;
                    p_179883 = p_tmp_185830;
                }
                defunc_0_f_res_179876 = loop_while_179880;
                defunc_0_f_res_179877 = p_179881;
                defunc_0_f_res_179878 = p_179882;
                defunc_0_f_res_179879 = p_179883;
                ((int64_t *) mem_184322)[i_184055] = defunc_0_f_res_179878;
                ((int64_t *) mem_184324)[i_184055] = defunc_0_f_res_179879;
            }
            if (memblock_alloc(ctx, &mem_184337, window_sizze_143133, "mem_184337")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185839 = 0; nest_i_185839 < window_sizze_143133; nest_i_185839++) {
                ((int8_t *) mem_184337.mem)[nest_i_185839] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_184339, bytes_184338, "mem_184339")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185840 = 0; nest_i_185840 < window_sizze_143133; nest_i_185840++) {
                ((int64_t *) mem_184339.mem)[nest_i_185840] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_184341, bytes_184338, "mem_184341")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185841 = 0; nest_i_185841 < window_sizze_143133; nest_i_185841++) {
                ((int64_t *) mem_184341.mem)[nest_i_185841] = (int64_t) 0;
            }
            
            bool defunc_0_mergeFunc_seq_res_180079;
            int64_t defunc_0_mergeFunc_seq_res_180080;
            bool loop_while_180084;
            int64_t p_180085;
            
            loop_while_180084 = loop_cond_180078;
            p_180085 = (int64_t) 0;
            while (loop_while_180084) {
                bool x_180089 = sle64((int64_t) 0, p_180085);
                bool y_180090 = slt64(p_180085, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
                bool bounds_check_180091 = x_180089 && y_180090;
                bool index_certs_180092;
                
                if (!bounds_check_180091) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_180085, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:225:19-39\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_181678 = sle64((int64_t) 1, p_180085);
                int64_t index_concat_i_181679 = sub64(p_180085, (int64_t) 1);
                int64_t index_concat_181680;
                
                if (index_concat_cmp_181678) {
                    int64_t x_183473 = ((int64_t *) mem_184322)[index_concat_i_181679];
                    
                    index_concat_181680 = x_183473;
                } else {
                    index_concat_181680 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_181682;
                
                if (index_concat_cmp_181678) {
                    index_concat_branch_181682 = index_concat_181680;
                } else {
                    index_concat_branch_181682 = (int64_t) 0;
                }
                
                int64_t index_concat_181674;
                
                if (index_concat_cmp_181678) {
                    int64_t x_183474 = ((int64_t *) mem_184324)[index_concat_i_181679];
                    
                    index_concat_181674 = x_183474;
                } else {
                    index_concat_181674 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_181676;
                
                if (index_concat_cmp_181678) {
                    index_concat_branch_181676 = index_concat_181674;
                } else {
                    index_concat_branch_181676 = (int64_t) 0;
                }
                
                int64_t ubs_180095 = add64((int64_t) 1, p_180085);
                bool x_180096 = sle64((int64_t) 0, ubs_180095);
                bool y_180097 = slt64(ubs_180095, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
                bool bounds_check_180098 = x_180096 && y_180097;
                bool index_certs_180099;
                
                if (!bounds_check_180098) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_180095, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:226:19-41\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_181666 = sle64((int64_t) 1, ubs_180095);
                int64_t index_concat_181668;
                
                if (index_concat_cmp_181666) {
                    int64_t x_183475 = ((int64_t *) mem_184322)[p_180085];
                    
                    index_concat_181668 = x_183475;
                } else {
                    index_concat_181668 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_181670;
                
                if (index_concat_cmp_181666) {
                    index_concat_branch_181670 = index_concat_181668;
                } else {
                    index_concat_branch_181670 = (int64_t) 0;
                }
                
                int64_t index_concat_181662;
                
                if (index_concat_cmp_181666) {
                    int64_t x_183476 = ((int64_t *) mem_184324)[p_180085];
                    
                    index_concat_181662 = x_183476;
                } else {
                    index_concat_181662 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_181664;
                
                if (index_concat_cmp_181666) {
                    index_concat_branch_181664 = index_concat_181662;
                } else {
                    index_concat_branch_181664 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102 = sub64(index_concat_branch_181664, index_concat_branch_181676);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103 = sub64(index_concat_branch_181670, index_concat_branch_181682);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                int64_t ind_bottom_180105 = add64(index_concat_branch_181676, index_concat_branch_181682);
                int64_t ind_top_180106 = add64(index_concat_branch_181664, index_concat_branch_181670);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107 = sub64(ind_top_180106, ind_bottom_180105);
                bool empty_slice_180108 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103 == (int64_t) 0;
                int64_t m_180109 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, (int64_t) 1);
                int64_t i_p_m_t_s_180110 = add64(m_180109, index_concat_branch_181682);
                bool zzero_leq_i_p_m_t_s_180111 = sle64((int64_t) 0, i_p_m_t_s_180110);
                bool i_p_m_t_s_leq_w_180112 = slt64(i_p_m_t_s_180110, window_sizze_143133);
                bool zzero_lte_i_180113 = sle64((int64_t) 0, index_concat_branch_181682);
                bool i_lte_j_180114 = sle64(index_concat_branch_181682, index_concat_branch_181670);
                bool y_180115 = i_p_m_t_s_leq_w_180112 && zzero_lte_i_180113;
                bool y_180116 = zzero_leq_i_p_m_t_s_180111 && y_180115;
                bool forwards_ok_180117 = i_lte_j_180114 && y_180116;
                bool ok_or_empty_180118 = empty_slice_180108 || forwards_ok_180117;
                bool index_certs_180119;
                
                if (!ok_or_empty_180118) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_181682, ":", (long long) index_concat_branch_181670, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:229:71-86\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_180120 = slt64(index_concat_branch_181670, index_concat_branch_181682);
                bool valid_180121 = !bounds_invalid_upwards_180120;
                bool range_valid_c_180122;
                
                if (!valid_180121) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_181682, "..<", (long long) index_concat_branch_181670, " is invalid.", "-> #0  ftsort.fut:229:52-69\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_180128 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102 == (int64_t) 0;
                int64_t m_180129 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102, (int64_t) 1);
                int64_t i_p_m_t_s_180130 = add64(m_180129, index_concat_branch_181676);
                bool zzero_leq_i_p_m_t_s_180131 = sle64((int64_t) 0, i_p_m_t_s_180130);
                bool i_p_m_t_s_leq_w_180132 = slt64(i_p_m_t_s_180130, window_sizze_143133);
                bool zzero_lte_i_180133 = sle64((int64_t) 0, index_concat_branch_181676);
                bool i_lte_j_180134 = sle64(index_concat_branch_181676, index_concat_branch_181664);
                bool y_180135 = i_p_m_t_s_leq_w_180132 && zzero_lte_i_180133;
                bool y_180136 = zzero_leq_i_p_m_t_s_180131 && y_180135;
                bool forwards_ok_180137 = i_lte_j_180134 && y_180136;
                bool ok_or_empty_180138 = empty_slice_180128 || forwards_ok_180137;
                bool index_certs_180139;
                
                if (!ok_or_empty_180138) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_181676, ":", (long long) index_concat_branch_181664, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:230:71-86\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_180140 = slt64(index_concat_branch_181664, index_concat_branch_181676);
                bool valid_180141 = !bounds_invalid_upwards_180140;
                bool range_valid_c_180142;
                
                if (!valid_180141) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_181676, "..<", (long long) index_concat_branch_181664, " is invalid.", "-> #0  ftsort.fut:230:52-69\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_184358 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104;
                bool cond_180151 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, (int64_t) 1);
                int64_t zs_lhs_180152 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, (int64_t) 1);
                int64_t zp_rhs_180153 = sdiv_safe64(zs_lhs_180152, (int64_t) 20);
                int64_t min_num_blocks_180154 = add64((int64_t) 1, zp_rhs_180153);
                bool loop_cond_180155 = slt64((int64_t) 1, min_num_blocks_180154);
                bool smallest_pow_2_geq_than_res_180156;
                int64_t smallest_pow_2_geq_than_res_180157;
                bool loop_while_180158;
                int64_t x_180159;
                
                loop_while_180158 = loop_cond_180155;
                x_180159 = (int64_t) 1;
                while (loop_while_180158) {
                    int64_t loopres_180160 = mul64((int64_t) 2, x_180159);
                    bool loop_cond_180161 = slt64(loopres_180160, min_num_blocks_180154);
                    bool loop_while_tmp_185847 = loop_cond_180161;
                    int64_t x_tmp_185848 = loopres_180160;
                    
                    loop_while_180158 = loop_while_tmp_185847;
                    x_180159 = x_tmp_185848;
                }
                smallest_pow_2_geq_than_res_180156 = loop_while_180158;
                smallest_pow_2_geq_than_res_180157 = x_180159;
                
                bool zzero_180162 = smallest_pow_2_geq_than_res_180157 == (int64_t) 0;
                bool nonzzero_180163 = !zzero_180162;
                bool protect_assert_disj_180164 = cond_180151 || nonzzero_180163;
                bool nonzzero_cert_180165;
                
                if (!protect_assert_disj_180164) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_180166 = sdiv_safe64(zs_lhs_180152, smallest_pow_2_geq_than_res_180157);
                int64_t block_sizze_180167 = add64((int64_t) 1, zp_rhs_180166);
                bool y_180174 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104);
                bool protect_assert_disj_185511 = cond_180151 || y_180174;
                bool index_certs_180175;
                
                if (!protect_assert_disj_185511) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_180201 = slt64(smallest_pow_2_geq_than_res_180157, (int64_t) 0);
                bool valid_180202 = !bounds_invalid_upwards_180201;
                bool protect_assert_disj_185521 = cond_180151 || valid_180202;
                bool range_valid_c_180203;
                
                if (!protect_assert_disj_185521) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_180157, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_180205 = slt64(block_sizze_180167, (int64_t) 0);
                bool valid_180206 = !bounds_invalid_upwards_180205;
                bool protect_assert_disj_185523 = cond_180151 || valid_180206;
                bool range_valid_c_180207;
                
                if (!protect_assert_disj_185523) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_180167, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_180209 = sle64(block_sizze_180167, (int64_t) 1);
                int64_t tmp_180210 = sub64(block_sizze_180167, (int64_t) 2);
                bool bounds_invalid_upwards_180211 = slt64(tmp_180210, (int64_t) 0);
                bool valid_180213 = !bounds_invalid_upwards_180211;
                bool protect_assert_disj_180214 = cond_180209 || valid_180213;
                bool protect_assert_disj_185525 = cond_180151 || protect_assert_disj_180214;
                bool range_valid_c_180215;
                
                if (!protect_assert_disj_185525) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_180210, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_180776 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104;
                bool empty_or_match_cert_180777;
                
                if (!dim_match_180776) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107, "](i8, i64, i64)`.", "-> #0  ftsort.fut:231:22-237:50\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_180778 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107 == (int64_t) 0;
                int64_t m_180779 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_180780 = sle64((int64_t) 0, m_180779);
                bool i_p_m_t_s_leq_w_180781 = slt64(m_180779, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107);
                bool y_180782 = zzero_leq_i_p_m_t_s_180780 && i_p_m_t_s_leq_w_180781;
                bool ok_or_empty_180783 = empty_slice_180778 || y_180782;
                bool index_certs_180784;
                
                if (!ok_or_empty_180783) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107, "].", "-> #0  ftsort.fut:238:59-89\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_180785 = add64(ind_bottom_180105, m_180779);
                bool zzero_leq_i_p_m_t_s_180786 = sle64((int64_t) 0, i_p_m_t_s_180785);
                bool i_p_m_t_s_leq_w_180787 = slt64(i_p_m_t_s_180785, window_sizze_143133);
                bool zzero_lte_i_180788 = sle64((int64_t) 0, ind_bottom_180105);
                bool i_lte_j_180789 = sle64(ind_bottom_180105, ind_top_180106);
                bool y_180790 = i_p_m_t_s_leq_w_180787 && zzero_lte_i_180788;
                bool y_180791 = zzero_leq_i_p_m_t_s_180786 && y_180790;
                bool forwards_ok_180792 = i_lte_j_180789 && y_180791;
                bool ok_or_empty_180793 = empty_slice_180778 || forwards_ok_180792;
                bool index_certs_180794;
                
                if (!ok_or_empty_180793) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_180105, ":", (long long) ind_top_180106, "] out of bounds for array of shape [", (long long) window_sizze_143133, "].", "-> #0  ftsort.fut:238:27-89\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_181658 = p_178824 + index_concat_branch_181682;
                
                if (memblock_alloc(ctx, &mem_184357, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "mem_184357")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_185849 = 0; nest_i_185849 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103; nest_i_185849++) {
                    ((int8_t *) mem_184357.mem)[nest_i_185849] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_184359, bytes_184358, "mem_184359")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_185850 = 0; i_185850 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103; i_185850++) {
                    int64_t x_185851 = index_concat_branch_181682 + i_185850 * (int64_t) 1;
                    
                    ((int64_t *) mem_184359.mem)[i_185850] = x_185851;
                }
                
                int64_t slice_181657 = p_178825 + index_concat_branch_181676;
                
                for (int64_t nest_i_185852 = 0; nest_i_185852 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102; nest_i_185852++) {
                    ((int8_t *) mem_184357.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103 + nest_i_185852] = (int8_t) 1;
                }
                for (int64_t i_185853 = 0; i_185853 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102; i_185853++) {
                    int64_t x_185854 = index_concat_branch_181676 + i_185853 * (int64_t) 1;
                    
                    ((int64_t *) mem_184359.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103 + i_185853] = x_185854;
                }
                
                int64_t tmp_offs_185855 = (int64_t) 0;
                
                if (!(tmp_offs_185855 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184357.mem, tmp_offs_185855, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184357.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103});
                }
                tmp_offs_185855 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103;
                if (!(tmp_offs_185855 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184357.mem, tmp_offs_185855, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184357.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102});
                }
                tmp_offs_185855 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102;
                
                int64_t tmp_offs_185856 = (int64_t) 0;
                
                if (!(tmp_offs_185856 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184359.mem, tmp_offs_185856, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184359.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103});
                }
                tmp_offs_185856 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103;
                if (!(tmp_offs_185856 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184359.mem, tmp_offs_185856, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184359.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102});
                }
                tmp_offs_185856 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102;
                if (memblock_alloc(ctx, &mem_184361, bytes_184358, "mem_184361")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_185857 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184361.mem, tmp_offs_185857, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_184305.mem, slice_181658, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103});
                tmp_offs_185857 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184361.mem, tmp_offs_185857, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_184306.mem, slice_181657, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102});
                tmp_offs_185857 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102;
                
                int64_t flat_dim_180168 = smallest_pow_2_geq_than_res_180157 * block_sizze_180167;
                bool x_185506 = !cond_180151;
                int64_t greatest_divisor_leq_than_arg1_180172 = mul64((int64_t) 2, block_sizze_180167);
                int64_t merge_block_sizze_180173;
                
                if (x_185506) {
                    int64_t x_185508;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_185508, (int64_t) 8, greatest_divisor_leq_than_arg1_180172) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_180173 = x_185508;
                } else {
                    merge_block_sizze_180173 = (int64_t) 0;
                }
                
                bool index_concat_cmp_181652 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, (int64_t) 0);
                int8_t index_concat_branch_181656 = btoi_bool_i8(index_concat_cmp_181652);
                int64_t index_concat_i_183477 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                int64_t index_primexp_183478 = add64(index_concat_branch_181676, index_concat_i_183477);
                int64_t index_concat_branch_181650;
                
                if (index_concat_cmp_181652) {
                    index_concat_branch_181650 = index_primexp_183478;
                } else {
                    index_concat_branch_181650 = index_concat_branch_181682;
                }
                
                bool x_185502 = !index_concat_cmp_181652;
                bool protect_cond_conj_185512 = x_185502 && x_185506;
                int64_t index_concat_181643;
                
                if (protect_cond_conj_185512) {
                    int64_t x_185504 = ((int64_t *) a_list_mem_184305.mem)[slice_181658];
                    
                    index_concat_181643 = x_185504;
                } else {
                    index_concat_181643 = (int64_t) 0;
                }
                
                int64_t slice_183480 = slice_181657 + index_concat_i_183477;
                bool protect_cond_conj_185513 = index_concat_cmp_181652 && x_185506;
                int64_t index_concat_183481;
                
                if (protect_cond_conj_185513) {
                    int64_t x_185500 = ((int64_t *) b_list_mem_184306.mem)[slice_183480];
                    
                    index_concat_183481 = x_185500;
                } else {
                    index_concat_183481 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_181644;
                
                if (index_concat_cmp_181652) {
                    index_concat_branch_181644 = index_concat_183481;
                } else {
                    index_concat_branch_181644 = index_concat_181643;
                }
                
                int8_t defunc_0_reduce_res_183712;
                int64_t defunc_0_reduce_res_183713;
                int64_t defunc_0_reduce_res_183714;
                
                if (x_185506) {
                    int8_t x_185514;
                    int64_t x_185515;
                    int64_t x_185516;
                    int8_t redout_184058;
                    int64_t redout_184059;
                    int64_t redout_184060;
                    
                    redout_184058 = index_concat_branch_181656;
                    redout_184059 = index_concat_branch_181650;
                    redout_184060 = index_concat_branch_181644;
                    for (int64_t i_184061 = 0; i_184061 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104; i_184061++) {
                        bool index_concat_cmp_184265 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, i_184061);
                        int8_t index_concat_branch_184269 = btoi_bool_i8(index_concat_cmp_184265);
                        int64_t index_concat_branch_184263;
                        
                        if (index_concat_cmp_184265) {
                            int64_t index_concat_i_184260 = sub64(i_184061, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                            int64_t index_primexp_184287 = add64(index_concat_branch_181676, index_concat_i_184260);
                            
                            index_concat_branch_184263 = index_primexp_184287;
                        } else {
                            int64_t index_primexp_184289 = add64(index_concat_branch_181682, i_184061);
                            
                            index_concat_branch_184263 = index_primexp_184289;
                        }
                        
                        int64_t index_concat_branch_184257;
                        
                        if (index_concat_cmp_184265) {
                            int64_t index_concat_i_184254 = sub64(i_184061, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                            int64_t slice_184284 = slice_181657 + index_concat_i_184254;
                            int64_t index_concat_184255 = ((int64_t *) b_list_mem_184306.mem)[slice_184284];
                            
                            index_concat_branch_184257 = index_concat_184255;
                        } else {
                            int64_t slice_184285 = slice_181658 + i_184061;
                            int64_t index_concat_184256 = ((int64_t *) a_list_mem_184305.mem)[slice_184285];
                            
                            index_concat_branch_184257 = index_concat_184256;
                        }
                        
                        bool eq_x_y_184300 = redout_184058 == (int8_t) 1;
                        bool eq_x_zz_184301 = redout_184058 == (int8_t) 0;
                        bool p_and_eq_x_y_184302 = index_concat_cmp_184265 && eq_x_y_184300;
                        bool not_p_184303 = !index_concat_cmp_184265;
                        bool p_and_eq_x_y_184304 = eq_x_zz_184301 && not_p_184303;
                        bool cond_180191 = p_and_eq_x_y_184302 || p_and_eq_x_y_184304;
                        bool defunc_0_leq_res_t_res_180192 = sle64(redout_184059, index_concat_branch_184263);
                        bool defunc_0_leq_res_180193 = sle64(redout_184060, index_concat_branch_184257);
                        bool x_180194 = cond_180191 && defunc_0_leq_res_t_res_180192;
                        bool x_180195 = !cond_180191;
                        bool y_180196 = defunc_0_leq_res_180193 && x_180195;
                        bool defunc_0_leq_res_180197 = x_180194 || y_180196;
                        int8_t defunc_0_op_res_180198;
                        
                        if (defunc_0_leq_res_180197) {
                            defunc_0_op_res_180198 = index_concat_branch_184269;
                        } else {
                            defunc_0_op_res_180198 = redout_184058;
                        }
                        
                        int64_t defunc_0_op_res_180199;
                        
                        if (defunc_0_leq_res_180197) {
                            defunc_0_op_res_180199 = index_concat_branch_184263;
                        } else {
                            defunc_0_op_res_180199 = redout_184059;
                        }
                        
                        int64_t defunc_0_op_res_180200;
                        
                        if (defunc_0_leq_res_180197) {
                            defunc_0_op_res_180200 = index_concat_branch_184257;
                        } else {
                            defunc_0_op_res_180200 = redout_184060;
                        }
                        
                        int8_t redout_tmp_185858 = defunc_0_op_res_180198;
                        int64_t redout_tmp_185859 = defunc_0_op_res_180199;
                        int64_t redout_tmp_185860 = defunc_0_op_res_180200;
                        
                        redout_184058 = redout_tmp_185858;
                        redout_184059 = redout_tmp_185859;
                        redout_184060 = redout_tmp_185860;
                    }
                    x_185514 = redout_184058;
                    x_185515 = redout_184059;
                    x_185516 = redout_184060;
                    defunc_0_reduce_res_183712 = x_185514;
                    defunc_0_reduce_res_183713 = x_185515;
                    defunc_0_reduce_res_183714 = x_185516;
                } else {
                    defunc_0_reduce_res_183712 = (int8_t) 0;
                    defunc_0_reduce_res_183713 = (int64_t) 0;
                    defunc_0_reduce_res_183714 = (int64_t) 0;
                }
                
                int64_t distance_180212 = add64((int64_t) 1, tmp_180210);
                int64_t binop_x_184364 = (int64_t) 8 * smallest_pow_2_geq_than_res_180157;
                int64_t bytes_184365 = block_sizze_180167 * binop_x_184364;
                int64_t bytes_184383 = (int64_t) 8 * block_sizze_180167;
                bool loop_cond_180321 = slt64(block_sizze_180167, flat_dim_180168);
                bool zzero_180322 = merge_block_sizze_180173 == (int64_t) 0;
                bool nonzzero_180323 = !zzero_180322;
                
                if (cond_180151) {
                    if (memblock_set(ctx, &ext_mem_184656, &mem_184357, "mem_184357") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184653, &mem_184359, "mem_184359") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184650, &mem_184361, "mem_184361") != 0)
                        return 1;
                } else {
                    if (mem_184363_cached_sizze_186211 < flat_dim_180168) {
                        err = lexical_realloc(ctx, &mem_184363, &mem_184363_cached_sizze_186211, flat_dim_180168);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184366_cached_sizze_186212 < bytes_184365) {
                        err = lexical_realloc(ctx, &mem_184366, &mem_184366_cached_sizze_186212, bytes_184365);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184369_cached_sizze_186213 < bytes_184365) {
                        err = lexical_realloc(ctx, &mem_184369, &mem_184369_cached_sizze_186213, bytes_184365);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184382_cached_sizze_186214 < block_sizze_180167) {
                        err = lexical_realloc(ctx, &mem_184382, &mem_184382_cached_sizze_186214, block_sizze_180167);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184384_cached_sizze_186215 < bytes_184383) {
                        err = lexical_realloc(ctx, &mem_184384, &mem_184384_cached_sizze_186215, bytes_184383);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184386_cached_sizze_186216 < bytes_184383) {
                        err = lexical_realloc(ctx, &mem_184386, &mem_184386_cached_sizze_186216, bytes_184383);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_184078 = 0; i_184078 < smallest_pow_2_geq_than_res_180157; i_184078++) {
                        int64_t zp_lhs_180220 = mul64(block_sizze_180167, i_184078);
                        
                        for (int64_t i_184068 = 0; i_184068 < block_sizze_180167; i_184068++) {
                            int64_t k_180225 = add64(zp_lhs_180220, i_184068);
                            bool cond_180226 = slt64(k_180225, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104);
                            int8_t lifted_lambda_res_180227;
                            int64_t lifted_lambda_res_180228;
                            int64_t lifted_lambda_res_180229;
                            
                            if (cond_180226) {
                                bool x_183487 = sle64((int64_t) 0, k_180225);
                                bool bounds_check_183488 = cond_180226 && x_183487;
                                bool index_certs_183489;
                                
                                if (!bounds_check_183488) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_180225, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_183490 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, k_180225);
                                int8_t index_concat_branch_183491 = btoi_bool_i8(index_concat_cmp_183490);
                                int64_t index_concat_branch_183492;
                                
                                if (index_concat_cmp_183490) {
                                    int64_t index_concat_i_183493 = sub64(k_180225, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                                    int64_t index_primexp_183494 = add64(index_concat_branch_181676, index_concat_i_183493);
                                    
                                    index_concat_branch_183492 = index_primexp_183494;
                                } else {
                                    int64_t index_primexp_183495 = add64(k_180225, index_concat_branch_181682);
                                    
                                    index_concat_branch_183492 = index_primexp_183495;
                                }
                                
                                int64_t index_concat_branch_183496;
                                
                                if (index_concat_cmp_183490) {
                                    int64_t index_concat_i_183497 = sub64(k_180225, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                                    int64_t slice_183498 = slice_181657 + index_concat_i_183497;
                                    int64_t index_concat_183499 = ((int64_t *) b_list_mem_184306.mem)[slice_183498];
                                    
                                    index_concat_branch_183496 = index_concat_183499;
                                } else {
                                    int64_t slice_183500 = k_180225 + slice_181658;
                                    int64_t index_concat_183501 = ((int64_t *) a_list_mem_184305.mem)[slice_183500];
                                    
                                    index_concat_branch_183496 = index_concat_183501;
                                }
                                lifted_lambda_res_180227 = index_concat_branch_183491;
                                lifted_lambda_res_180228 = index_concat_branch_183492;
                                lifted_lambda_res_180229 = index_concat_branch_183496;
                            } else {
                                lifted_lambda_res_180227 = defunc_0_reduce_res_183712;
                                lifted_lambda_res_180228 = defunc_0_reduce_res_183713;
                                lifted_lambda_res_180229 = defunc_0_reduce_res_183714;
                            }
                            ((int8_t *) mem_184382)[i_184068] = lifted_lambda_res_180227;
                            ((int64_t *) mem_184384)[i_184068] = lifted_lambda_res_180228;
                            ((int64_t *) mem_184386)[i_184068] = lifted_lambda_res_180229;
                        }
                        if (!cond_180209) {
                            for (int64_t i_180242 = 0; i_180242 < distance_180212; i_180242++) {
                                int64_t gt_arg1_180246 = add64((int64_t) 1, i_180242);
                                bool x_180247 = sle64((int64_t) 0, gt_arg1_180246);
                                bool y_180248 = slt64(gt_arg1_180246, block_sizze_180167);
                                bool bounds_check_180249 = x_180247 && y_180248;
                                bool index_certs_180250;
                                
                                if (!bounds_check_180249) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_180246, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_180254 = slt64(i_180242, block_sizze_180167);
                                bool index_certs_180255;
                                
                                if (!y_180254) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180242, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_180251 = ((int8_t *) mem_184382)[gt_arg1_180246];
                                int64_t gt_arg1_180252 = ((int64_t *) mem_184384)[gt_arg1_180246];
                                int64_t gt_arg1_180253 = ((int64_t *) mem_184386)[gt_arg1_180246];
                                int8_t gt_arg0_180256 = ((int8_t *) mem_184382)[i_180242];
                                int64_t gt_arg0_180257 = ((int64_t *) mem_184384)[i_180242];
                                int64_t gt_arg0_180258 = ((int64_t *) mem_184386)[i_180242];
                                bool cond_180259 = gt_arg0_180256 == gt_arg1_180251;
                                bool defunc_0_leq_res_t_res_180260 = sle64(gt_arg0_180257, gt_arg1_180252);
                                bool defunc_0_leq_res_180261 = sle64(gt_arg0_180258, gt_arg1_180253);
                                bool x_180262 = cond_180259 && defunc_0_leq_res_t_res_180260;
                                bool x_180263 = !cond_180259;
                                bool y_180264 = defunc_0_leq_res_180261 && x_180263;
                                bool defunc_0_leq_res_180265 = x_180262 || y_180264;
                                bool defunc_0_lifted_gt_res_180266 = !defunc_0_leq_res_180265;
                                bool s_180267;
                                int64_t s_180271;
                                bool loop_while_180272;
                                int64_t j_180276;
                                
                                loop_while_180272 = defunc_0_lifted_gt_res_180266;
                                j_180276 = i_180242;
                                while (loop_while_180272) {
                                    bool x_180277 = sle64((int64_t) 0, j_180276);
                                    bool y_180278 = slt64(j_180276, block_sizze_180167);
                                    bool bounds_check_180279 = x_180277 && y_180278;
                                    bool index_certs_180280;
                                    
                                    if (!bounds_check_180279) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180276, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_180284 = add64((int64_t) 1, j_180276);
                                    bool x_180285 = sle64((int64_t) 0, copy_arg0_180284);
                                    bool y_180286 = slt64(copy_arg0_180284, block_sizze_180167);
                                    bool bounds_check_180287 = x_180285 && y_180286;
                                    bool index_certs_180288;
                                    
                                    if (!bounds_check_180287) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_180284, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_180281 = ((int8_t *) mem_184382)[j_180276];
                                    int64_t copy_arg0_180282 = ((int64_t *) mem_184384)[j_180276];
                                    int64_t copy_arg0_180283 = ((int64_t *) mem_184386)[j_180276];
                                    int8_t copy_arg0_180289 = ((int8_t *) mem_184382)[copy_arg0_180284];
                                    int64_t copy_arg0_180290 = ((int64_t *) mem_184384)[copy_arg0_180284];
                                    int64_t copy_arg0_180291 = ((int64_t *) mem_184386)[copy_arg0_180284];
                                    
                                    ((int8_t *) mem_184382)[j_180276] = copy_arg0_180289;
                                    ((int64_t *) mem_184384)[j_180276] = copy_arg0_180290;
                                    ((int64_t *) mem_184386)[j_180276] = copy_arg0_180291;
                                    ((int8_t *) mem_184382)[copy_arg0_180284] = copy_arg0_180281;
                                    ((int64_t *) mem_184384)[copy_arg0_180284] = copy_arg0_180282;
                                    ((int64_t *) mem_184386)[copy_arg0_180284] = copy_arg0_180283;
                                    
                                    int64_t tmp_180298 = sub64(j_180276, (int64_t) 1);
                                    bool cond_180299 = sle64((int64_t) 0, tmp_180298);
                                    bool loop_cond_180300;
                                    
                                    if (cond_180299) {
                                        bool y_183505 = slt64(tmp_180298, block_sizze_180167);
                                        bool bounds_check_183506 = cond_180299 && y_183505;
                                        bool index_certs_183507;
                                        
                                        if (!bounds_check_183506) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180298, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_183502 = ((int8_t *) mem_184382)[j_180276];
                                        int64_t gt_arg1_183503 = ((int64_t *) mem_184384)[j_180276];
                                        int64_t gt_arg1_183504 = ((int64_t *) mem_184386)[j_180276];
                                        int8_t gt_arg0_183508 = ((int8_t *) mem_184382)[tmp_180298];
                                        int64_t gt_arg0_183509 = ((int64_t *) mem_184384)[tmp_180298];
                                        int64_t gt_arg0_183510 = ((int64_t *) mem_184386)[tmp_180298];
                                        bool cond_183511 = gt_arg0_183508 == gt_arg1_183502;
                                        bool defunc_0_leq_res_t_res_183512 = sle64(gt_arg0_183509, gt_arg1_183503);
                                        bool defunc_0_leq_res_183513 = sle64(gt_arg0_183510, gt_arg1_183504);
                                        bool x_183514 = cond_183511 && defunc_0_leq_res_t_res_183512;
                                        bool x_183515 = !cond_183511;
                                        bool y_183516 = defunc_0_leq_res_183513 && x_183515;
                                        bool defunc_0_leq_res_183517 = x_183514 || y_183516;
                                        bool defunc_0_lifted_gt_res_183518 = !defunc_0_leq_res_183517;
                                        
                                        loop_cond_180300 = defunc_0_lifted_gt_res_183518;
                                    } else {
                                        loop_cond_180300 = 0;
                                    }
                                    
                                    bool loop_while_tmp_185870 = loop_cond_180300;
                                    int64_t j_tmp_185874 = tmp_180298;
                                    
                                    loop_while_180272 = loop_while_tmp_185870;
                                    j_180276 = j_tmp_185874;
                                }
                                s_180267 = loop_while_180272;
                                s_180271 = j_180276;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_184363, i_184078 * block_sizze_180167, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184382, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180167});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184366, i_184078 * block_sizze_180167, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184384, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180167});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184369, i_184078 * block_sizze_180167, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184386, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180167});
                    }
                    if (memblock_alloc(ctx, &mem_184463, flat_dim_180168, "mem_184463")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_184463.mem, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (uint8_t *) mem_184363, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180157, block_sizze_180167});
                    if (memblock_alloc(ctx, &mem_184467, bytes_184365, "mem_184467")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_184467.mem, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (uint64_t *) mem_184366, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180157, block_sizze_180167});
                    if (memblock_alloc(ctx, &mem_184471, bytes_184365, "mem_184471")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_184471.mem, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (uint64_t *) mem_184369, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180157, block_sizze_180167});
                    
                    int64_t data_180324;
                    bool data_180325;
                    int64_t data_180329;
                    int64_t loop_dz2084Uz2082U_180330;
                    bool loop_while_180331;
                    int64_t stride_180335;
                    
                    if (memblock_set(ctx, &mem_param_184475, &mem_184463, "mem_184463") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_184478, &mem_184467, "mem_184467") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_184481, &mem_184471, "mem_184471") != 0)
                        return 1;
                    loop_dz2084Uz2082U_180330 = flat_dim_180168;
                    loop_while_180331 = loop_cond_180321;
                    stride_180335 = block_sizze_180167;
                    while (loop_while_180331) {
                        int64_t next_stride_180336 = mul64((int64_t) 2, stride_180335);
                        bool zzero_180337 = next_stride_180336 == (int64_t) 0;
                        bool nonzzero_180338 = !zzero_180337;
                        bool nonzzero_cert_180339;
                        
                        if (!nonzzero_180338) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_180340 = sdiv64(flat_dim_180168, next_stride_180336);
                        bool bounds_invalid_upwards_180341 = slt64(num_merges_180340, (int64_t) 0);
                        bool valid_180342 = !bounds_invalid_upwards_180341;
                        bool range_valid_c_180343;
                        
                        if (!valid_180342) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_180340, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_180345 = sub64(next_stride_180336, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_180346 = sle64((int64_t) 0, m_180345);
                        bool cond_180348 = slt64(next_stride_180336, (int64_t) 10);
                        bool protect_assert_disj_180349 = nonzzero_180323 || cond_180348;
                        bool nonzzero_cert_180350;
                        
                        if (!protect_assert_disj_180349) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_180351 = smod_safe64(next_stride_180336, merge_block_sizze_180173);
                        bool num_blocks_180352 = zeze_lhs_180351 == (int64_t) 0;
                        bool protect_assert_disj_180353 = cond_180348 || num_blocks_180352;
                        bool assert_c_180354;
                        
                        if (!protect_assert_disj_180353) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_180356 = sdiv_safe64(next_stride_180336, merge_block_sizze_180173);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357 = add64((int64_t) 1, num_blocks_180356);
                        int64_t j_m_i_180358 = sub64(next_stride_180336, stride_180335);
                        int64_t flat_dim_180359 = merge_block_sizze_180173 * num_blocks_180356;
                        bool bounds_invalid_upwards_180360 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357, (int64_t) 0);
                        bool empty_slice_180361 = j_m_i_180358 == (int64_t) 0;
                        int64_t m_180362 = sub64(j_m_i_180358, (int64_t) 1);
                        bool zzero_lte_i_180363 = sle64((int64_t) 0, stride_180335);
                        bool i_lte_j_180364 = sle64(stride_180335, next_stride_180336);
                        bool empty_slice_180365 = stride_180335 == (int64_t) 0;
                        int64_t m_180366 = sub64(stride_180335, (int64_t) 1);
                        bool bounds_invalid_upwards_180367 = slt64(num_blocks_180356, (int64_t) 0);
                        bool cond_180368 = slt64((int64_t) 0, stride_180335);
                        bool valid_180369 = !bounds_invalid_upwards_180360;
                        int64_t i_p_m_t_s_180370 = add64(stride_180335, m_180362);
                        bool zzero_leq_i_p_m_t_s_180371 = sle64((int64_t) 0, m_180366);
                        bool i_p_m_t_s_leq_w_180372 = slt64(m_180366, next_stride_180336);
                        bool valid_180373 = !bounds_invalid_upwards_180367;
                        bool i_p_m_t_s_leq_w_180374 = slt64(m_180345, flat_dim_180359);
                        bool y_180375 = slt64((int64_t) 0, j_m_i_180358);
                        bool protect_assert_disj_180376 = cond_180348 || valid_180369;
                        bool range_valid_c_180377;
                        
                        if (!protect_assert_disj_180376) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:375:63-73\n   #9  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_180378 = sle64((int64_t) 0, i_p_m_t_s_180370);
                        bool i_p_m_t_s_leq_w_180379 = slt64(i_p_m_t_s_180370, next_stride_180336);
                        bool y_180380 = zzero_leq_i_p_m_t_s_180371 && i_p_m_t_s_leq_w_180372;
                        bool protect_assert_disj_180381 = cond_180348 || valid_180373;
                        bool range_valid_c_180382;
                        
                        if (!protect_assert_disj_180381) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_180356, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_180383 = zzero_leq_i_p_m_t_s_180346 && i_p_m_t_s_leq_w_180374;
                        bool y_180384 = zzero_lte_i_180363 && i_p_m_t_s_leq_w_180379;
                        bool forwards_ok_180385 = zzero_lte_i_180363 && y_180380;
                        bool ok_or_empty_180386 = zzero_180337 || y_180383;
                        bool protect_assert_disj_180387 = cond_180368 || y_180375;
                        bool y_180388 = zzero_leq_i_p_m_t_s_180378 && y_180384;
                        bool ok_or_empty_180389 = empty_slice_180365 || forwards_ok_180385;
                        bool protect_assert_disj_180390 = cond_180348 || ok_or_empty_180386;
                        bool index_certs_180391;
                        
                        if (!protect_assert_disj_180390) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_180336, "] out of bounds for array of shape [", (long long) flat_dim_180359, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_180392 = !cond_180348;
                        bool protect_assert_disj_180393 = protect_assert_disj_180387 || loop_not_taken_180392;
                        bool index_certs_180394;
                        
                        if (!protect_assert_disj_180393) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:375:63-73\n   #9  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_180395 = i_lte_j_180364 && y_180388;
                        bool protect_assert_disj_180396 = cond_180348 || ok_or_empty_180389;
                        bool index_certs_180397;
                        
                        if (!protect_assert_disj_180396) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_180335, "] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:375:63-73\n   #10 ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_180398 = ok_or_empty_180389 || loop_not_taken_180392;
                        bool index_certs_180399;
                        
                        if (!protect_assert_disj_180398) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_180335, "] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_180400 = empty_slice_180361 || forwards_ok_180395;
                        bool protect_assert_disj_180401 = cond_180348 || ok_or_empty_180400;
                        bool index_certs_180402;
                        
                        if (!protect_assert_disj_180401) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_180335, ":] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:375:63-73\n   #10 ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_180403 = loop_not_taken_180392 || ok_or_empty_180400;
                        bool index_certs_180404;
                        
                        if (!protect_assert_disj_180403) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_180335, ":] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_184482 = next_stride_180336 * num_merges_180340;
                        int64_t binop_x_184484 = (int64_t) 8 * num_merges_180340;
                        int64_t bytes_184485 = next_stride_180336 * binop_x_184484;
                        bool i_lte_j_180347 = sle64((int64_t) 0, next_stride_180336);
                        
                        if (mem_184483_cached_sizze_186217 < bytes_184482) {
                            err = lexical_realloc(ctx, &mem_184483, &mem_184483_cached_sizze_186217, bytes_184482);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_184486_cached_sizze_186218 < bytes_184485) {
                            err = lexical_realloc(ctx, &mem_184486, &mem_184486_cached_sizze_186218, bytes_184485);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_184489_cached_sizze_186219 < bytes_184485) {
                            err = lexical_realloc(ctx, &mem_184489, &mem_184489_cached_sizze_186219, bytes_184485);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_184502 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357;
                        int64_t binop_x_184520 = (int64_t) 8 * num_blocks_180356;
                        int64_t bytes_184521 = merge_block_sizze_180173 * binop_x_184520;
                        int64_t bytes_184585 = (int64_t) 16 * stride_180335;
                        
                        for (int64_t i_184105 = 0; i_184105 < num_merges_180340; i_184105++) {
                            int64_t start_180409 = mul64(next_stride_180336, i_184105);
                            int64_t j_m_i_180410 = sub64(loop_dz2084Uz2082U_180330, start_180409);
                            bool empty_slice_180411 = j_m_i_180410 == (int64_t) 0;
                            int64_t m_180412 = sub64(j_m_i_180410, (int64_t) 1);
                            int64_t i_p_m_t_s_180413 = add64(start_180409, m_180412);
                            bool zzero_leq_i_p_m_t_s_180414 = sle64((int64_t) 0, i_p_m_t_s_180413);
                            bool i_p_m_t_s_leq_w_180415 = slt64(i_p_m_t_s_180413, loop_dz2084Uz2082U_180330);
                            bool zzero_lte_i_180416 = sle64((int64_t) 0, start_180409);
                            bool i_lte_j_180417 = sle64(start_180409, loop_dz2084Uz2082U_180330);
                            bool y_180418 = i_p_m_t_s_leq_w_180415 && zzero_lte_i_180416;
                            bool y_180419 = zzero_leq_i_p_m_t_s_180414 && y_180418;
                            bool forwards_ok_180420 = i_lte_j_180417 && y_180419;
                            bool ok_or_empty_180421 = empty_slice_180411 || forwards_ok_180420;
                            bool index_certs_180422;
                            
                            if (!ok_or_empty_180421) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_180409, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_180330, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_180423 = slt64(m_180345, j_m_i_180410);
                            bool y_180424 = zzero_leq_i_p_m_t_s_180346 && i_p_m_t_s_leq_w_180423;
                            bool forwards_ok_180425 = i_lte_j_180347 && y_180424;
                            bool ok_or_empty_180426 = zzero_180337 || forwards_ok_180425;
                            bool index_certs_180427;
                            
                            if (!ok_or_empty_180426) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_180336, "] out of bounds for array of shape [", (long long) j_m_i_180410, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_180348) {
                                int8_t dummy_183557;
                                int64_t dummy_183558;
                                int64_t dummy_183559;
                                
                                if (cond_180368) {
                                    int8_t head_res_183560 = ((int8_t *) mem_param_184475.mem)[start_180409];
                                    int64_t head_res_183561 = ((int64_t *) mem_param_184478.mem)[start_180409];
                                    int64_t head_res_183562 = ((int64_t *) mem_param_184481.mem)[start_180409];
                                    
                                    dummy_183557 = head_res_183560;
                                    dummy_183558 = head_res_183561;
                                    dummy_183559 = head_res_183562;
                                } else {
                                    int64_t slice_183563 = stride_180335 + start_180409;
                                    int8_t head_res_183564 = ((int8_t *) mem_param_184475.mem)[slice_183563];
                                    int64_t head_res_183565 = ((int64_t *) mem_param_184478.mem)[slice_183563];
                                    int64_t head_res_183566 = ((int64_t *) mem_param_184481.mem)[slice_183563];
                                    
                                    dummy_183557 = head_res_183564;
                                    dummy_183558 = head_res_183565;
                                    dummy_183559 = head_res_183566;
                                }
                                if (memblock_alloc(ctx, &mem_184584, next_stride_180336, "mem_184584")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185887 = 0; nest_i_185887 < next_stride_180336; nest_i_185887++) {
                                    ((int8_t *) mem_184584.mem)[nest_i_185887] = dummy_183557;
                                }
                                if (memblock_alloc(ctx, &mem_184586, bytes_184585, "mem_184586")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185888 = 0; nest_i_185888 < next_stride_180336; nest_i_185888++) {
                                    ((int64_t *) mem_184586.mem)[nest_i_185888] = dummy_183558;
                                }
                                if (memblock_alloc(ctx, &mem_184588, bytes_184585, "mem_184588")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185889 = 0; nest_i_185889 < next_stride_180336; nest_i_185889++) {
                                    ((int64_t *) mem_184588.mem)[nest_i_185889] = dummy_183559;
                                }
                                
                                int64_t data_183570;
                                int64_t i_183575 = (int64_t) 0;
                                
                                for (int64_t k_183574 = 0; k_183574 < next_stride_180336; k_183574++) {
                                    int64_t j_183579 = sub64(k_183574, i_183575);
                                    bool cond_183580 = j_183579 == j_m_i_180358;
                                    bool cond_183581;
                                    
                                    if (cond_183580) {
                                        cond_183581 = 1;
                                    } else {
                                        bool cond_183582 = slt64(i_183575, stride_180335);
                                        bool cond_f_res_183583;
                                        
                                        if (cond_183582) {
                                            bool x_183584 = sle64((int64_t) 0, j_183579);
                                            bool y_183585 = slt64(j_183579, j_m_i_180358);
                                            bool bounds_check_183586 = x_183584 && y_183585;
                                            bool index_certs_183587;
                                            
                                            if (!bounds_check_183586) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183579, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_183593 = sle64((int64_t) 0, i_183575);
                                            bool bounds_check_183594 = cond_183582 && x_183593;
                                            bool index_certs_183595;
                                            
                                            if (!bounds_check_183594) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183575, "] out of bounds for array of shape [", (long long) stride_180335, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_183588 = stride_180335 + j_183579;
                                            int64_t slice_183589 = start_180409 + slice_183588;
                                            int8_t leq_arg1_183590 = ((int8_t *) mem_param_184475.mem)[slice_183589];
                                            int64_t leq_arg1_183591 = ((int64_t *) mem_param_184478.mem)[slice_183589];
                                            int64_t leq_arg1_183592 = ((int64_t *) mem_param_184481.mem)[slice_183589];
                                            int64_t slice_183596 = start_180409 + i_183575;
                                            int8_t leq_arg0_183597 = ((int8_t *) mem_param_184475.mem)[slice_183596];
                                            int64_t leq_arg0_183598 = ((int64_t *) mem_param_184478.mem)[slice_183596];
                                            int64_t leq_arg0_183599 = ((int64_t *) mem_param_184481.mem)[slice_183596];
                                            bool cond_183600 = leq_arg0_183597 == leq_arg1_183590;
                                            bool defunc_0_leq_res_t_res_183601 = sle64(leq_arg0_183598, leq_arg1_183591);
                                            bool defunc_0_leq_res_183602 = sle64(leq_arg0_183599, leq_arg1_183592);
                                            bool x_183603 = cond_183600 && defunc_0_leq_res_t_res_183601;
                                            bool x_183604 = !cond_183600;
                                            bool y_183605 = defunc_0_leq_res_183602 && x_183604;
                                            bool defunc_0_leq_res_183606 = x_183603 || y_183605;
                                            
                                            cond_f_res_183583 = defunc_0_leq_res_183606;
                                        } else {
                                            cond_f_res_183583 = 0;
                                        }
                                        cond_183581 = cond_f_res_183583;
                                    }
                                    
                                    int64_t loopres_183607;
                                    int8_t loopres_183608;
                                    int64_t loopres_183609;
                                    int64_t loopres_183610;
                                    
                                    if (cond_183581) {
                                        bool x_183612 = sle64((int64_t) 0, i_183575);
                                        bool y_183613 = slt64(i_183575, stride_180335);
                                        bool bounds_check_183614 = x_183612 && y_183613;
                                        bool index_certs_183615;
                                        
                                        if (!bounds_check_183614) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183575, "] out of bounds for array of shape [", (long long) stride_180335, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_183611 = add64((int64_t) 1, i_183575);
                                        int64_t slice_183616 = start_180409 + i_183575;
                                        int8_t tmp_183617 = ((int8_t *) mem_param_184475.mem)[slice_183616];
                                        int64_t tmp_183618 = ((int64_t *) mem_param_184478.mem)[slice_183616];
                                        int64_t tmp_183619 = ((int64_t *) mem_param_184481.mem)[slice_183616];
                                        
                                        loopres_183607 = tmp_183611;
                                        loopres_183608 = tmp_183617;
                                        loopres_183609 = tmp_183618;
                                        loopres_183610 = tmp_183619;
                                    } else {
                                        bool x_183620 = sle64((int64_t) 0, j_183579);
                                        bool y_183621 = slt64(j_183579, j_m_i_180358);
                                        bool bounds_check_183622 = x_183620 && y_183621;
                                        bool index_certs_183623;
                                        
                                        if (!bounds_check_183622) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183579, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183624 = stride_180335 + j_183579;
                                        int64_t slice_183625 = start_180409 + slice_183624;
                                        int8_t tmp_183626 = ((int8_t *) mem_param_184475.mem)[slice_183625];
                                        int64_t tmp_183627 = ((int64_t *) mem_param_184478.mem)[slice_183625];
                                        int64_t tmp_183628 = ((int64_t *) mem_param_184481.mem)[slice_183625];
                                        
                                        loopres_183607 = i_183575;
                                        loopres_183608 = tmp_183626;
                                        loopres_183609 = tmp_183627;
                                        loopres_183610 = tmp_183628;
                                    }
                                    ((int8_t *) mem_184584.mem)[k_183574] = loopres_183608;
                                    ((int64_t *) mem_184586.mem)[k_183574] = loopres_183609;
                                    ((int64_t *) mem_184588.mem)[k_183574] = loopres_183610;
                                    
                                    int64_t i_tmp_185890 = loopres_183607;
                                    
                                    i_183575 = i_tmp_185890;
                                }
                                data_183570 = i_183575;
                                if (memblock_set(ctx, &ext_mem_184615, &mem_184584, "mem_184584") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184612, &mem_184586, "mem_184586") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184609, &mem_184588, "mem_184588") != 0)
                                    return 1;
                            } else {
                                if (mem_184503_cached_sizze_186220 < bytes_184502) {
                                    err = lexical_realloc(ctx, &mem_184503, &mem_184503_cached_sizze_186220, bytes_184502);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184505_cached_sizze_186221 < bytes_184502) {
                                    err = lexical_realloc(ctx, &mem_184505, &mem_184505_cached_sizze_186221, bytes_184502);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_184086 = 0; i_184086 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357; i_184086++) {
                                    int64_t split_count_arg3_180510 = mul64(merge_block_sizze_180173, i_184086);
                                    int64_t defunc_0_split_count_res_180511;
                                    int64_t defunc_0_split_count_res_180512;
                                    int64_t defunc_0_split_count_res_180513;
                                    int64_t defunc_0_split_count_res_180514;
                                    int64_t defunc_0_split_count_res_180515;
                                    
                                    if (futrts_lifted_normalizze_9100(ctx, &defunc_0_split_count_res_180511, &defunc_0_split_count_res_180512, &defunc_0_split_count_res_180513, &defunc_0_split_count_res_180514, &defunc_0_split_count_res_180515, (int64_t) 0, stride_180335, (int64_t) 0, j_m_i_180358, split_count_arg3_180510) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_180516 = slt64((int64_t) 0, defunc_0_split_count_res_180515);
                                    bool defunc_0_split_count_res_180517;
                                    int64_t defunc_0_split_count_res_180518;
                                    int64_t defunc_0_split_count_res_180519;
                                    int64_t defunc_0_split_count_res_180520;
                                    int64_t defunc_0_split_count_res_180521;
                                    int64_t defunc_0_split_count_res_180522;
                                    bool loop_while_180523;
                                    int64_t ss_180524;
                                    int64_t ss_180525;
                                    int64_t tt_180526;
                                    int64_t tt_180527;
                                    int64_t count_180528;
                                    
                                    loop_while_180523 = loop_cond_180516;
                                    ss_180524 = defunc_0_split_count_res_180511;
                                    ss_180525 = defunc_0_split_count_res_180512;
                                    tt_180526 = defunc_0_split_count_res_180513;
                                    tt_180527 = defunc_0_split_count_res_180514;
                                    count_180528 = defunc_0_split_count_res_180515;
                                    while (loop_while_180523) {
                                        int64_t zlze_lhs_180529 = sub64(ss_180525, ss_180524);
                                        bool cond_180530 = sle64(zlze_lhs_180529, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_180531;
                                        int64_t defunc_0_lifted_step_res_180532;
                                        int64_t defunc_0_lifted_step_res_180533;
                                        int64_t defunc_0_lifted_step_res_180534;
                                        
                                        if (cond_180530) {
                                            int64_t tmp_183632 = add64(tt_180526, count_180528);
                                            
                                            defunc_0_lifted_step_res_180531 = ss_180524;
                                            defunc_0_lifted_step_res_180532 = tmp_183632;
                                            defunc_0_lifted_step_res_180533 = tt_180527;
                                            defunc_0_lifted_step_res_180534 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_180536 = sub64(tt_180527, tt_180526);
                                            bool cond_180537 = sle64(zlze_lhs_180536, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_180538;
                                            int64_t defunc_0_lifted_step_res_f_res_180539;
                                            int64_t defunc_0_lifted_step_res_f_res_180540;
                                            int64_t defunc_0_lifted_step_res_f_res_180541;
                                            
                                            if (cond_180537) {
                                                int64_t tmp_183633 = add64(ss_180524, count_180528);
                                                
                                                defunc_0_lifted_step_res_f_res_180538 = tmp_183633;
                                                defunc_0_lifted_step_res_f_res_180539 = tt_180526;
                                                defunc_0_lifted_step_res_f_res_180540 = tt_180527;
                                                defunc_0_lifted_step_res_f_res_180541 = (int64_t) 0;
                                            } else {
                                                bool cond_180543 = count_180528 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_180544;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_180545;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_180546;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_180547;
                                                
                                                if (cond_180543) {
                                                    bool x_183635 = sle64((int64_t) 0, ss_180524);
                                                    bool y_183636 = slt64(ss_180524, stride_180335);
                                                    bool bounds_check_183637 = x_183635 && y_183636;
                                                    bool index_certs_183638;
                                                    
                                                    if (!bounds_check_183637) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_180524, "] out of bounds for array of shape [", (long long) stride_180335, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:375:63-73\n   #12 ftsort.fut:368:1-375:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_183643 = sle64((int64_t) 0, tt_180526);
                                                    bool y_183644 = slt64(tt_180526, j_m_i_180358);
                                                    bool bounds_check_183645 = x_183643 && y_183644;
                                                    bool index_certs_183646;
                                                    
                                                    if (!bounds_check_183645) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_180526, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:375:63-73\n   #12 ftsort.fut:368:1-375:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_183639 = start_180409 + ss_180524;
                                                    int8_t leq_arg1_183640 = ((int8_t *) mem_param_184475.mem)[slice_183639];
                                                    int64_t leq_arg1_183641 = ((int64_t *) mem_param_184478.mem)[slice_183639];
                                                    int64_t leq_arg1_183642 = ((int64_t *) mem_param_184481.mem)[slice_183639];
                                                    int64_t slice_183647 = stride_180335 + tt_180526;
                                                    int64_t slice_183648 = start_180409 + slice_183647;
                                                    int8_t leq_arg0_183649 = ((int8_t *) mem_param_184475.mem)[slice_183648];
                                                    int64_t leq_arg0_183650 = ((int64_t *) mem_param_184478.mem)[slice_183648];
                                                    int64_t leq_arg0_183651 = ((int64_t *) mem_param_184481.mem)[slice_183648];
                                                    bool cond_183652 = leq_arg0_183649 == leq_arg1_183640;
                                                    bool defunc_0_leq_res_t_res_183653 = sle64(leq_arg0_183650, leq_arg1_183641);
                                                    bool defunc_0_leq_res_183654 = sle64(leq_arg0_183651, leq_arg1_183642);
                                                    bool x_183655 = cond_183652 && defunc_0_leq_res_t_res_183653;
                                                    bool x_183656 = !cond_183652;
                                                    bool y_183657 = defunc_0_leq_res_183654 && x_183656;
                                                    bool defunc_0_leq_res_183658 = x_183655 || y_183657;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183659;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183660;
                                                    
                                                    if (defunc_0_leq_res_183658) {
                                                        int64_t tmp_183661 = add64((int64_t) 1, tt_180526);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183659 = ss_180524;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183660 = tmp_183661;
                                                    } else {
                                                        int64_t tmp_183662 = add64((int64_t) 1, ss_180524);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183659 = tmp_183662;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183660 = tt_180526;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_180544 = defunc_0_lifted_step_res_f_res_f_res_t_res_183659;
                                                    defunc_0_lifted_step_res_f_res_f_res_180545 = defunc_0_lifted_step_res_f_res_f_res_t_res_183660;
                                                    defunc_0_lifted_step_res_f_res_f_res_180546 = tt_180527;
                                                    defunc_0_lifted_step_res_f_res_f_res_180547 = (int64_t) 0;
                                                } else {
                                                    int64_t m_180576 = sdiv64(count_180528, (int64_t) 2);
                                                    int64_t n_180577 = sub64(count_180528, m_180576);
                                                    bool cond_180578 = n_180577 == (int64_t) 0;
                                                    int64_t zgze_lhs_180579 = add64(ss_180524, m_180576);
                                                    bool cond_f_res_180580 = sle64(ss_180525, zgze_lhs_180579);
                                                    bool x_180581 = !cond_180578;
                                                    bool y_180582 = cond_f_res_180580 && x_180581;
                                                    bool cond_180583 = cond_180578 || y_180582;
                                                    bool leq_y_x_180584;
                                                    
                                                    if (cond_180583) {
                                                        leq_y_x_180584 = 1;
                                                    } else {
                                                        bool x_180585 = sle64((int64_t) 0, zgze_lhs_180579);
                                                        bool y_180586 = slt64(zgze_lhs_180579, stride_180335);
                                                        bool bounds_check_180587 = x_180585 && y_180586;
                                                        bool index_certs_180588;
                                                        
                                                        if (!bounds_check_180587) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_180579, "] out of bounds for array of shape [", (long long) stride_180335, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:375:63-73\n   #12 ftsort.fut:368:1-375:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_180593 = add64(tt_180526, n_180577);
                                                        int64_t leq_arg0_180594 = sub64(zm_lhs_180593, (int64_t) 1);
                                                        bool x_180595 = sle64((int64_t) 0, leq_arg0_180594);
                                                        bool y_180596 = slt64(leq_arg0_180594, j_m_i_180358);
                                                        bool bounds_check_180597 = x_180595 && y_180596;
                                                        bool index_certs_180598;
                                                        
                                                        if (!bounds_check_180597) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_180594, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:375:63-73\n   #12 ftsort.fut:368:1-375:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_180589 = start_180409 + zgze_lhs_180579;
                                                        int8_t leq_arg1_180590 = ((int8_t *) mem_param_184475.mem)[slice_180589];
                                                        int64_t leq_arg1_180591 = ((int64_t *) mem_param_184478.mem)[slice_180589];
                                                        int64_t leq_arg1_180592 = ((int64_t *) mem_param_184481.mem)[slice_180589];
                                                        int64_t slice_180599 = stride_180335 + leq_arg0_180594;
                                                        int64_t slice_180600 = start_180409 + slice_180599;
                                                        int8_t leq_arg0_180601 = ((int8_t *) mem_param_184475.mem)[slice_180600];
                                                        int64_t leq_arg0_180602 = ((int64_t *) mem_param_184478.mem)[slice_180600];
                                                        int64_t leq_arg0_180603 = ((int64_t *) mem_param_184481.mem)[slice_180600];
                                                        bool cond_180604 = leq_arg0_180601 == leq_arg1_180590;
                                                        bool defunc_0_leq_res_t_res_180605 = sle64(leq_arg0_180602, leq_arg1_180591);
                                                        bool defunc_0_leq_res_180606 = sle64(leq_arg0_180603, leq_arg1_180592);
                                                        bool x_180607 = cond_180604 && defunc_0_leq_res_t_res_180605;
                                                        bool x_180608 = !cond_180604;
                                                        bool y_180609 = defunc_0_leq_res_180606 && x_180608;
                                                        bool defunc_0_leq_res_180610 = x_180607 || y_180609;
                                                        
                                                        leq_y_x_180584 = defunc_0_leq_res_180610;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_180611;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_180612;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_180613;
                                                    
                                                    if (leq_y_x_180584) {
                                                        int64_t tmp_183663 = add64(tt_180526, n_180577);
                                                        int64_t tmp_183664 = sub64(count_180528, n_180577);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180611 = tmp_183663;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180612 = tt_180527;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180613 = tmp_183664;
                                                    } else {
                                                        int64_t tmp_180616 = add64(tt_180526, n_180577);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180611 = tt_180526;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180612 = tmp_180616;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180613 = count_180528;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_180544 = ss_180524;
                                                    defunc_0_lifted_step_res_f_res_f_res_180545 = defunc_0_lifted_step_res_f_res_f_res_f_res_180611;
                                                    defunc_0_lifted_step_res_f_res_f_res_180546 = defunc_0_lifted_step_res_f_res_f_res_f_res_180612;
                                                    defunc_0_lifted_step_res_f_res_f_res_180547 = defunc_0_lifted_step_res_f_res_f_res_f_res_180613;
                                                }
                                                defunc_0_lifted_step_res_f_res_180538 = defunc_0_lifted_step_res_f_res_f_res_180544;
                                                defunc_0_lifted_step_res_f_res_180539 = defunc_0_lifted_step_res_f_res_f_res_180545;
                                                defunc_0_lifted_step_res_f_res_180540 = defunc_0_lifted_step_res_f_res_f_res_180546;
                                                defunc_0_lifted_step_res_f_res_180541 = defunc_0_lifted_step_res_f_res_f_res_180547;
                                            }
                                            defunc_0_lifted_step_res_180531 = defunc_0_lifted_step_res_f_res_180538;
                                            defunc_0_lifted_step_res_180532 = defunc_0_lifted_step_res_f_res_180539;
                                            defunc_0_lifted_step_res_180533 = defunc_0_lifted_step_res_f_res_180540;
                                            defunc_0_lifted_step_res_180534 = defunc_0_lifted_step_res_f_res_180541;
                                        }
                                        
                                        int64_t loopres_180617;
                                        int64_t loopres_180618;
                                        int64_t loopres_180619;
                                        int64_t loopres_180620;
                                        int64_t loopres_180621;
                                        
                                        if (futrts_lifted_normalizze_9100(ctx, &loopres_180617, &loopres_180618, &loopres_180619, &loopres_180620, &loopres_180621, defunc_0_lifted_step_res_180531, ss_180525, defunc_0_lifted_step_res_180532, defunc_0_lifted_step_res_180533, defunc_0_lifted_step_res_180534) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_180622 = slt64((int64_t) 0, loopres_180621);
                                        bool loop_while_tmp_185896 = loop_cond_180622;
                                        int64_t ss_tmp_185897 = loopres_180617;
                                        int64_t ss_tmp_185898 = loopres_180618;
                                        int64_t tt_tmp_185899 = loopres_180619;
                                        int64_t tt_tmp_185900 = loopres_180620;
                                        int64_t count_tmp_185901 = loopres_180621;
                                        
                                        loop_while_180523 = loop_while_tmp_185896;
                                        ss_180524 = ss_tmp_185897;
                                        ss_180525 = ss_tmp_185898;
                                        tt_180526 = tt_tmp_185899;
                                        tt_180527 = tt_tmp_185900;
                                        count_180528 = count_tmp_185901;
                                    }
                                    defunc_0_split_count_res_180517 = loop_while_180523;
                                    defunc_0_split_count_res_180518 = ss_180524;
                                    defunc_0_split_count_res_180519 = ss_180525;
                                    defunc_0_split_count_res_180520 = tt_180526;
                                    defunc_0_split_count_res_180521 = tt_180527;
                                    defunc_0_split_count_res_180522 = count_180528;
                                    ((int64_t *) mem_184503)[i_184086] = defunc_0_split_count_res_180518;
                                    ((int64_t *) mem_184505)[i_184086] = defunc_0_split_count_res_180520;
                                }
                                if (mem_184519_cached_sizze_186222 < flat_dim_180359) {
                                    err = lexical_realloc(ctx, &mem_184519, &mem_184519_cached_sizze_186222, flat_dim_180359);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184522_cached_sizze_186223 < bytes_184521) {
                                    err = lexical_realloc(ctx, &mem_184522, &mem_184522_cached_sizze_186223, bytes_184521);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184525_cached_sizze_186224 < bytes_184521) {
                                    err = lexical_realloc(ctx, &mem_184525, &mem_184525_cached_sizze_186224, bytes_184521);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_184095 = 0; i_184095 < num_blocks_180356; i_184095++) {
                                    bool y_180629 = slt64(i_184095, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357);
                                    bool index_certs_180631;
                                    
                                    if (!y_180629) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_184095, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:375:63-73\n   #9  ftsort.fut:368:1-375:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_180632 = ((int64_t *) mem_184503)[i_184095];
                                    int64_t defunc_0_f_res_180633 = ((int64_t *) mem_184505)[i_184095];
                                    int64_t tmp_180634 = add64((int64_t) 1, i_184095);
                                    bool x_180635 = sle64((int64_t) 0, tmp_180634);
                                    bool y_180636 = slt64(tmp_180634, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357);
                                    bool bounds_check_180637 = x_180635 && y_180636;
                                    bool index_certs_180638;
                                    
                                    if (!bounds_check_180637) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180634, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:375:63-73\n   #9  ftsort.fut:368:1-375:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_180639 = ((int64_t *) mem_184503)[tmp_180634];
                                    int64_t defunc_0_f_res_180640 = ((int64_t *) mem_184505)[tmp_180634];
                                    int64_t merge_sequential_arg2_180641 = add64(stride_180335, defunc_0_f_res_180633);
                                    int64_t merge_sequential_arg2_180642 = add64(stride_180335, defunc_0_f_res_180640);
                                    int64_t j_m_i_180643 = sub64(merge_sequential_arg2_180642, merge_sequential_arg2_180641);
                                    bool empty_slice_180644 = j_m_i_180643 == (int64_t) 0;
                                    int64_t m_180645 = sub64(j_m_i_180643, (int64_t) 1);
                                    int64_t i_p_m_t_s_180646 = add64(merge_sequential_arg2_180641, m_180645);
                                    bool zzero_leq_i_p_m_t_s_180647 = sle64((int64_t) 0, i_p_m_t_s_180646);
                                    bool i_p_m_t_s_leq_w_180648 = slt64(i_p_m_t_s_180646, next_stride_180336);
                                    bool zzero_lte_i_180649 = sle64((int64_t) 0, merge_sequential_arg2_180641);
                                    bool i_lte_j_180650 = sle64(merge_sequential_arg2_180641, merge_sequential_arg2_180642);
                                    bool y_180651 = i_p_m_t_s_leq_w_180648 && zzero_lte_i_180649;
                                    bool y_180652 = zzero_leq_i_p_m_t_s_180647 && y_180651;
                                    bool forwards_ok_180653 = i_lte_j_180650 && y_180652;
                                    bool ok_or_empty_180654 = empty_slice_180644 || forwards_ok_180653;
                                    bool index_certs_180655;
                                    
                                    if (!ok_or_empty_180654) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_180641, ":", (long long) merge_sequential_arg2_180642, "] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:375:63-73\n   #9  ftsort.fut:368:1-375:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_180656 = sub64(defunc_0_f_res_180639, defunc_0_f_res_180632);
                                    bool empty_slice_180657 = j_m_i_180656 == (int64_t) 0;
                                    int64_t m_180658 = sub64(j_m_i_180656, (int64_t) 1);
                                    int64_t i_p_m_t_s_180659 = add64(defunc_0_f_res_180632, m_180658);
                                    bool zzero_leq_i_p_m_t_s_180660 = sle64((int64_t) 0, i_p_m_t_s_180659);
                                    bool i_p_m_t_s_leq_w_180661 = slt64(i_p_m_t_s_180659, next_stride_180336);
                                    bool zzero_lte_i_180662 = sle64((int64_t) 0, defunc_0_f_res_180632);
                                    bool i_lte_j_180663 = sle64(defunc_0_f_res_180632, defunc_0_f_res_180639);
                                    bool y_180664 = i_p_m_t_s_leq_w_180661 && zzero_lte_i_180662;
                                    bool y_180665 = zzero_leq_i_p_m_t_s_180660 && y_180664;
                                    bool forwards_ok_180666 = i_lte_j_180663 && y_180665;
                                    bool ok_or_empty_180667 = empty_slice_180657 || forwards_ok_180666;
                                    bool index_certs_180668;
                                    
                                    if (!ok_or_empty_180667) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_180632, ":", (long long) defunc_0_f_res_180639, "] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:375:63-73\n   #9  ftsort.fut:368:1-375:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_180669 = slt64((int64_t) 0, j_m_i_180656);
                                    int8_t dummy_180670;
                                    int64_t dummy_180671;
                                    int64_t dummy_180672;
                                    
                                    if (cond_180669) {
                                        bool index_certs_183665;
                                        
                                        if (!cond_180669) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_180656, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:375:63-73\n   #11 ftsort.fut:368:1-375:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183666 = start_180409 + defunc_0_f_res_180632;
                                        int8_t head_res_183667 = ((int8_t *) mem_param_184475.mem)[slice_183666];
                                        int64_t head_res_183668 = ((int64_t *) mem_param_184478.mem)[slice_183666];
                                        int64_t head_res_183669 = ((int64_t *) mem_param_184481.mem)[slice_183666];
                                        
                                        dummy_180670 = head_res_183667;
                                        dummy_180671 = head_res_183668;
                                        dummy_180672 = head_res_183669;
                                    } else {
                                        bool y_180678 = slt64((int64_t) 0, j_m_i_180643);
                                        bool index_certs_180679;
                                        
                                        if (!y_180678) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_180643, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:375:63-73\n   #11 ftsort.fut:368:1-375:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180680 = start_180409 + merge_sequential_arg2_180641;
                                        int8_t head_res_180681 = ((int8_t *) mem_param_184475.mem)[slice_180680];
                                        int64_t head_res_180682 = ((int64_t *) mem_param_184478.mem)[slice_180680];
                                        int64_t head_res_180683 = ((int64_t *) mem_param_184481.mem)[slice_180680];
                                        
                                        dummy_180670 = head_res_180681;
                                        dummy_180671 = head_res_180682;
                                        dummy_180672 = head_res_180683;
                                    }
                                    for (int64_t nest_i_185905 = 0; nest_i_185905 < merge_block_sizze_180173; nest_i_185905++) {
                                        ((int8_t *) mem_184519)[i_184095 * merge_block_sizze_180173 + nest_i_185905] = dummy_180670;
                                    }
                                    for (int64_t nest_i_185906 = 0; nest_i_185906 < merge_block_sizze_180173; nest_i_185906++) {
                                        ((int64_t *) mem_184522)[i_184095 * merge_block_sizze_180173 + nest_i_185906] = dummy_180671;
                                    }
                                    for (int64_t nest_i_185907 = 0; nest_i_185907 < merge_block_sizze_180173; nest_i_185907++) {
                                        ((int64_t *) mem_184525)[i_184095 * merge_block_sizze_180173 + nest_i_185907] = dummy_180672;
                                    }
                                    
                                    int64_t data_180687;
                                    int64_t i_180692 = (int64_t) 0;
                                    
                                    for (int64_t k_180691 = 0; k_180691 < merge_block_sizze_180173; k_180691++) {
                                        int64_t j_180696 = sub64(k_180691, i_180692);
                                        bool cond_180697 = j_180696 == j_m_i_180643;
                                        bool cond_180698;
                                        
                                        if (cond_180697) {
                                            cond_180698 = 1;
                                        } else {
                                            bool cond_180699 = slt64(i_180692, j_m_i_180656);
                                            bool cond_f_res_180700;
                                            
                                            if (cond_180699) {
                                                bool x_183670 = sle64((int64_t) 0, j_180696);
                                                bool y_183671 = slt64(j_180696, j_m_i_180643);
                                                bool bounds_check_183672 = x_183670 && y_183671;
                                                bool index_certs_183673;
                                                
                                                if (!bounds_check_183672) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180696, "] out of bounds for array of shape [", (long long) j_m_i_180643, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:375:63-73\n   #10 ftsort.fut:368:1-375:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_183679 = sle64((int64_t) 0, i_180692);
                                                bool bounds_check_183680 = cond_180699 && x_183679;
                                                bool index_certs_183681;
                                                
                                                if (!bounds_check_183680) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180692, "] out of bounds for array of shape [", (long long) j_m_i_180656, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:375:63-73\n   #10 ftsort.fut:368:1-375:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_183674 = merge_sequential_arg2_180641 + j_180696;
                                                int64_t slice_183675 = start_180409 + slice_183674;
                                                int8_t leq_arg1_183676 = ((int8_t *) mem_param_184475.mem)[slice_183675];
                                                int64_t leq_arg1_183677 = ((int64_t *) mem_param_184478.mem)[slice_183675];
                                                int64_t leq_arg1_183678 = ((int64_t *) mem_param_184481.mem)[slice_183675];
                                                int64_t slice_183682 = defunc_0_f_res_180632 + i_180692;
                                                int64_t slice_183683 = start_180409 + slice_183682;
                                                int8_t leq_arg0_183684 = ((int8_t *) mem_param_184475.mem)[slice_183683];
                                                int64_t leq_arg0_183685 = ((int64_t *) mem_param_184478.mem)[slice_183683];
                                                int64_t leq_arg0_183686 = ((int64_t *) mem_param_184481.mem)[slice_183683];
                                                bool cond_183687 = leq_arg0_183684 == leq_arg1_183676;
                                                bool defunc_0_leq_res_t_res_183688 = sle64(leq_arg0_183685, leq_arg1_183677);
                                                bool defunc_0_leq_res_183689 = sle64(leq_arg0_183686, leq_arg1_183678);
                                                bool x_183690 = cond_183687 && defunc_0_leq_res_t_res_183688;
                                                bool x_183691 = !cond_183687;
                                                bool y_183692 = defunc_0_leq_res_183689 && x_183691;
                                                bool defunc_0_leq_res_183693 = x_183690 || y_183692;
                                                
                                                cond_f_res_180700 = defunc_0_leq_res_183693;
                                            } else {
                                                cond_f_res_180700 = 0;
                                            }
                                            cond_180698 = cond_f_res_180700;
                                        }
                                        
                                        int64_t loopres_180725;
                                        int8_t loopres_180726;
                                        int64_t loopres_180727;
                                        int64_t loopres_180728;
                                        
                                        if (cond_180698) {
                                            bool x_183695 = sle64((int64_t) 0, i_180692);
                                            bool y_183696 = slt64(i_180692, j_m_i_180656);
                                            bool bounds_check_183697 = x_183695 && y_183696;
                                            bool index_certs_183698;
                                            
                                            if (!bounds_check_183697) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180692, "] out of bounds for array of shape [", (long long) j_m_i_180656, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:375:63-73\n   #10 ftsort.fut:368:1-375:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_183694 = add64((int64_t) 1, i_180692);
                                            int64_t slice_183699 = defunc_0_f_res_180632 + i_180692;
                                            int64_t slice_183700 = start_180409 + slice_183699;
                                            int8_t tmp_183701 = ((int8_t *) mem_param_184475.mem)[slice_183700];
                                            int64_t tmp_183702 = ((int64_t *) mem_param_184478.mem)[slice_183700];
                                            int64_t tmp_183703 = ((int64_t *) mem_param_184481.mem)[slice_183700];
                                            
                                            loopres_180725 = tmp_183694;
                                            loopres_180726 = tmp_183701;
                                            loopres_180727 = tmp_183702;
                                            loopres_180728 = tmp_183703;
                                        } else {
                                            bool x_180739 = sle64((int64_t) 0, j_180696);
                                            bool y_180740 = slt64(j_180696, j_m_i_180643);
                                            bool bounds_check_180741 = x_180739 && y_180740;
                                            bool index_certs_180742;
                                            
                                            if (!bounds_check_180741) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180696, "] out of bounds for array of shape [", (long long) j_m_i_180643, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:375:63-73\n   #10 ftsort.fut:368:1-375:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180743 = merge_sequential_arg2_180641 + j_180696;
                                            int64_t slice_180744 = start_180409 + slice_180743;
                                            int8_t tmp_180745 = ((int8_t *) mem_param_184475.mem)[slice_180744];
                                            int64_t tmp_180746 = ((int64_t *) mem_param_184478.mem)[slice_180744];
                                            int64_t tmp_180747 = ((int64_t *) mem_param_184481.mem)[slice_180744];
                                            
                                            loopres_180725 = i_180692;
                                            loopres_180726 = tmp_180745;
                                            loopres_180727 = tmp_180746;
                                            loopres_180728 = tmp_180747;
                                        }
                                        ((int8_t *) mem_184519)[i_184095 * merge_block_sizze_180173 + k_180691] = loopres_180726;
                                        ((int64_t *) mem_184522)[i_184095 * merge_block_sizze_180173 + k_180691] = loopres_180727;
                                        ((int64_t *) mem_184525)[i_184095 * merge_block_sizze_180173 + k_180691] = loopres_180728;
                                        
                                        int64_t i_tmp_185908 = loopres_180725;
                                        
                                        i_180692 = i_tmp_185908;
                                    }
                                    data_180687 = i_180692;
                                }
                                if (memblock_alloc(ctx, &mem_184574, flat_dim_180359, "mem_184574")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_184574.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (uint8_t *) mem_184519, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (int64_t []) {num_blocks_180356, merge_block_sizze_180173});
                                if (memblock_alloc(ctx, &mem_184578, bytes_184521, "mem_184578")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_184578.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (uint64_t *) mem_184522, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (int64_t []) {num_blocks_180356, merge_block_sizze_180173});
                                if (memblock_alloc(ctx, &mem_184582, bytes_184521, "mem_184582")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_184582.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (uint64_t *) mem_184525, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (int64_t []) {num_blocks_180356, merge_block_sizze_180173});
                                if (memblock_set(ctx, &ext_mem_184615, &mem_184574, "mem_184574") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184612, &mem_184578, "mem_184578") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184609, &mem_184582, "mem_184582") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_184483, i_184105 * next_stride_180336, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_184615.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_180336});
                            if (memblock_unref(ctx, &ext_mem_184615, "ext_mem_184615") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184486, i_184105 * next_stride_180336, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184612.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_180336});
                            if (memblock_unref(ctx, &ext_mem_184612, "ext_mem_184612") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184489, i_184105 * next_stride_180336, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184609.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_180336});
                            if (memblock_unref(ctx, &ext_mem_184609, "ext_mem_184609") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_184629, bytes_184482, "mem_184629")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_184629.mem, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (uint8_t *) mem_184483, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (int64_t []) {num_merges_180340, next_stride_180336});
                        if (memblock_alloc(ctx, &mem_184633, bytes_184485, "mem_184633")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_184633.mem, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (uint64_t *) mem_184486, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (int64_t []) {num_merges_180340, next_stride_180336});
                        if (memblock_alloc(ctx, &mem_184637, bytes_184485, "mem_184637")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_184637.mem, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (uint64_t *) mem_184489, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (int64_t []) {num_merges_180340, next_stride_180336});
                        
                        bool loop_cond_180761 = slt64(next_stride_180336, flat_dim_180168);
                        
                        if (memblock_set(ctx, &mem_param_tmp_185875, &mem_184629, "mem_184629") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_185876, &mem_184633, "mem_184633") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_185877, &mem_184637, "mem_184637") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_185878 = bytes_184482;
                        bool loop_while_tmp_185879 = loop_cond_180761;
                        int64_t stride_tmp_185883 = next_stride_180336;
                        
                        if (memblock_set(ctx, &mem_param_184475, &mem_param_tmp_185875, "mem_param_tmp_185875") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_184478, &mem_param_tmp_185876, "mem_param_tmp_185876") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_184481, &mem_param_tmp_185877, "mem_param_tmp_185877") != 0)
                            return 1;
                        loop_dz2084Uz2082U_180330 = loop_dz2084Uz2082U_tmp_185878;
                        loop_while_180331 = loop_while_tmp_185879;
                        stride_180335 = stride_tmp_185883;
                    }
                    if (memblock_set(ctx, &ext_mem_184647, &mem_param_184475, "mem_param_184475") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184646, &mem_param_184478, "mem_param_184478") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184645, &mem_param_184481, "mem_param_184481") != 0)
                        return 1;
                    data_180324 = loop_dz2084Uz2082U_180330;
                    data_180325 = loop_while_180331;
                    data_180329 = stride_180335;
                    if (memblock_unref(ctx, &mem_184463, "mem_184463") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_184467, "mem_184467") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_184471, "mem_184471") != 0)
                        return 1;
                    
                    bool empty_slice_180762 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_180763 = sle64((int64_t) 0, zs_lhs_180152);
                    bool i_p_m_t_s_leq_w_180764 = slt64(zs_lhs_180152, data_180324);
                    bool y_180765 = zzero_leq_i_p_m_t_s_180763 && i_p_m_t_s_leq_w_180764;
                    bool ok_or_empty_180766 = empty_slice_180762 || y_180765;
                    bool index_certs_180767;
                    
                    if (!ok_or_empty_180766) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "] out of bounds for array of shape [", (long long) data_180324, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_184656, &ext_mem_184647, "ext_mem_184647") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184653, &ext_mem_184646, "ext_mem_184646") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184650, &ext_mem_184645, "ext_mem_184645") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_184357, "mem_184357") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_184359, "mem_184359") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_184361, "mem_184361") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_184337.mem, ind_bottom_180105, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_184656.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107});
                if (memblock_unref(ctx, &ext_mem_184656, "ext_mem_184656") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184339.mem, ind_bottom_180105, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184653.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107});
                if (memblock_unref(ctx, &ext_mem_184653, "ext_mem_184653") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184341.mem, ind_bottom_180105, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184650.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107});
                if (memblock_unref(ctx, &ext_mem_184650, "ext_mem_184650") != 0)
                    return 1;
                
                bool loop_cond_180803 = slt64(ubs_180095, threads_143134);
                bool loop_while_tmp_185842 = loop_cond_180803;
                int64_t p_tmp_185843 = ubs_180095;
                
                loop_while_180084 = loop_while_tmp_185842;
                p_180085 = p_tmp_185843;
            }
            defunc_0_mergeFunc_seq_res_180079 = loop_while_180084;
            defunc_0_mergeFunc_seq_res_180080 = p_180085;
            
            int64_t index_concat_branch_181620;
            
            if (index_concat_cmp_181616) {
                int64_t index_concat_183718 = ((int64_t *) mem_184322)[index_concat_i_181617];
                
                index_concat_branch_181620 = index_concat_183718;
            } else {
                index_concat_branch_181620 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_181614;
            
            if (index_concat_cmp_181616) {
                int64_t index_concat_183719 = ((int64_t *) mem_184324)[index_concat_i_181617];
                
                index_concat_branch_181614 = index_concat_183719;
            } else {
                index_concat_branch_181614 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_185075, &mem_184337, "mem_184337") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_185072, &mem_184339, "mem_184339") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_185069, &mem_184341, "mem_184341") != 0)
                return 1;
            loopres_178852 = index_concat_branch_181620;
            loopres_178853 = index_concat_branch_181614;
        }
        for (int64_t i_184111 = 0; i_184111 < window_sizze_143133; i_184111++) {
            int8_t eta_p_180811 = ((int8_t *) ext_mem_185075.mem)[i_184111];
            int64_t eta_p_180812 = ((int64_t *) ext_mem_185072.mem)[i_184111];
            bool cond_180813 = eta_p_180811 == (int8_t) 0;
            int64_t tmp_180814;
            
            if (cond_180813) {
                int64_t tmp_t_res_183722 = add64(p_178824, eta_p_180812);
                
                tmp_180814 = tmp_t_res_183722;
            } else {
                int64_t tmp_f_res_180816 = add64(p_178825, eta_p_180812);
                
                tmp_180814 = tmp_f_res_180816;
            }
            ((int64_t *) mem_184309.mem)[ind_bottom_178828 + i_184111] = tmp_180814;
        }
        if (memblock_unref(ctx, &ext_mem_185072, "ext_mem_185072") != 0)
            return 1;
        
        int64_t next_lbs_180817 = add64(p_178824, loopres_178852);
        int64_t next_lbs_180818 = add64(p_178825, loopres_178853);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_184307.mem, ind_bottom_178828, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_185075.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_143133});
        if (memblock_unref(ctx, &ext_mem_185075, "ext_mem_185075") != 0)
            return 1;
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184311.mem, ind_bottom_178828, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185069.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_143133});
        if (memblock_unref(ctx, &ext_mem_185069, "ext_mem_185069") != 0)
            return 1;
        
        bool cond_180832 = slt64(next_lbs_180817, zl_rhs_178807);
        bool loop_cond_t_res_180833 = slt64(next_lbs_180818, zl_rhs_178809);
        bool x_180834 = cond_180832 && loop_cond_t_res_180833;
        bool loop_while_tmp_185726 = x_180834;
        int64_t p_tmp_185730 = next_lbs_180817;
        int64_t p_tmp_185731 = next_lbs_180818;
        
        loop_while_178820 = loop_while_tmp_185726;
        p_178824 = p_tmp_185730;
        p_178825 = p_tmp_185731;
    }
    defunc_0_merge_pipeline_res_178814 = loop_while_178820;
    defunc_0_merge_pipeline_res_178818 = p_178824;
    defunc_0_merge_pipeline_res_178819 = p_178825;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835 = sub64(nb_143132, defunc_0_merge_pipeline_res_178819);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836 = sub64(na_143131, defunc_0_merge_pipeline_res_178818);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
    bool empty_slice_180838 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836 == (int64_t) 0;
    int64_t m_180839 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, (int64_t) 1);
    int64_t i_p_m_t_s_180840 = add64(defunc_0_merge_pipeline_res_178818, m_180839);
    bool zzero_leq_i_p_m_t_s_180841 = sle64((int64_t) 0, i_p_m_t_s_180840);
    bool i_p_m_t_s_leq_w_180842 = slt64(i_p_m_t_s_180840, na_143131);
    bool zzero_lte_i_180843 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_178818);
    bool i_lte_j_180844 = sle64(defunc_0_merge_pipeline_res_178818, na_143131);
    bool y_180845 = i_p_m_t_s_leq_w_180842 && zzero_lte_i_180843;
    bool y_180846 = zzero_leq_i_p_m_t_s_180841 && y_180845;
    bool forwards_ok_180847 = i_lte_j_180844 && y_180846;
    bool ok_or_empty_180848 = empty_slice_180838 || forwards_ok_180847;
    bool index_certs_180849;
    
    if (!ok_or_empty_180848) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_178818, ":", (long long) na_143131, "] out of bounds for array of shape [", (long long) na_143131, "].", "-> #0  ftsort.fut:327:14-34\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_180853 = slt64(na_143131, defunc_0_merge_pipeline_res_178818);
    bool valid_180854 = !bounds_invalid_upwards_180853;
    bool range_valid_c_180855;
    
    if (!valid_180854) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_178818, "..<", (long long) na_143131, " is invalid.", "-> #0  ftsort.fut:331:9-25\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_180859 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835 == (int64_t) 0;
    int64_t m_180860 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835, (int64_t) 1);
    int64_t i_p_m_t_s_180861 = add64(defunc_0_merge_pipeline_res_178819, m_180860);
    bool zzero_leq_i_p_m_t_s_180862 = sle64((int64_t) 0, i_p_m_t_s_180861);
    bool i_p_m_t_s_leq_w_180863 = slt64(i_p_m_t_s_180861, nb_143132);
    bool zzero_lte_i_180864 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_178819);
    bool i_lte_j_180865 = sle64(defunc_0_merge_pipeline_res_178819, nb_143132);
    bool y_180866 = i_p_m_t_s_leq_w_180863 && zzero_lte_i_180864;
    bool y_180867 = zzero_leq_i_p_m_t_s_180862 && y_180866;
    bool forwards_ok_180868 = i_lte_j_180865 && y_180867;
    bool ok_or_empty_180869 = empty_slice_180859 || forwards_ok_180868;
    bool index_certs_180870;
    
    if (!ok_or_empty_180869) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_178819, ":", (long long) nb_143132, "] out of bounds for array of shape [", (long long) nb_143132, "].", "-> #0  ftsort.fut:333:14-34\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_180874 = slt64(nb_143132, defunc_0_merge_pipeline_res_178819);
    bool valid_180875 = !bounds_invalid_upwards_180874;
    bool range_valid_c_180876;
    
    if (!valid_180875) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_178819, "..<", (long long) nb_143132, " is invalid.", "-> #0  ftsort.fut:337:9-25\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_185100 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837;
    bool cond_180883 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, (int64_t) 1);
    int64_t zs_lhs_180884 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, (int64_t) 1);
    int64_t zp_rhs_180885 = sdiv_safe64(zs_lhs_180884, (int64_t) 20);
    int64_t min_num_blocks_180886 = add64((int64_t) 1, zp_rhs_180885);
    bool loop_cond_180887 = slt64((int64_t) 1, min_num_blocks_180886);
    bool smallest_pow_2_geq_than_res_180888;
    int64_t smallest_pow_2_geq_than_res_180889;
    bool loop_while_180890;
    int64_t x_180891;
    
    loop_while_180890 = loop_cond_180887;
    x_180891 = (int64_t) 1;
    while (loop_while_180890) {
        int64_t loopres_180892 = mul64((int64_t) 2, x_180891);
        bool loop_cond_180893 = slt64(loopres_180892, min_num_blocks_180886);
        bool loop_while_tmp_185913 = loop_cond_180893;
        int64_t x_tmp_185914 = loopres_180892;
        
        loop_while_180890 = loop_while_tmp_185913;
        x_180891 = x_tmp_185914;
    }
    smallest_pow_2_geq_than_res_180888 = loop_while_180890;
    smallest_pow_2_geq_than_res_180889 = x_180891;
    
    bool zzero_180894 = smallest_pow_2_geq_than_res_180889 == (int64_t) 0;
    bool nonzzero_180895 = !zzero_180894;
    bool protect_assert_disj_180896 = cond_180883 || nonzzero_180895;
    bool nonzzero_cert_180897;
    
    if (!protect_assert_disj_180896) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_180898 = sdiv_safe64(zs_lhs_180884, smallest_pow_2_geq_than_res_180889);
    int64_t block_sizze_180899 = add64((int64_t) 1, zp_rhs_180898);
    bool y_180906 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837);
    bool protect_assert_disj_185428 = cond_180883 || y_180906;
    bool index_certs_180907;
    
    if (!protect_assert_disj_185428) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_180933 = slt64(smallest_pow_2_geq_than_res_180889, (int64_t) 0);
    bool valid_180934 = !bounds_invalid_upwards_180933;
    bool protect_assert_disj_185438 = cond_180883 || valid_180934;
    bool range_valid_c_180935;
    
    if (!protect_assert_disj_185438) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_180889, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_180937 = slt64(block_sizze_180899, (int64_t) 0);
    bool valid_180938 = !bounds_invalid_upwards_180937;
    bool protect_assert_disj_185440 = cond_180883 || valid_180938;
    bool range_valid_c_180939;
    
    if (!protect_assert_disj_185440) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_180899, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_180941 = sle64(block_sizze_180899, (int64_t) 1);
    int64_t tmp_180942 = sub64(block_sizze_180899, (int64_t) 2);
    bool bounds_invalid_upwards_180943 = slt64(tmp_180942, (int64_t) 0);
    bool valid_180945 = !bounds_invalid_upwards_180943;
    bool protect_assert_disj_180946 = cond_180941 || valid_180945;
    bool protect_assert_disj_185442 = cond_180883 || protect_assert_disj_180946;
    bool range_valid_c_180947;
    
    if (!protect_assert_disj_185442) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_180942, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_181508 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_181510 = sle64((int64_t) 0, zs_lhs_180884);
    bool i_p_m_t_s_leq_w_181511 = slt64(zs_lhs_180884, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837);
    bool y_181512 = zzero_leq_i_p_m_t_s_181510 && i_p_m_t_s_leq_w_181511;
    bool ok_or_empty_181513 = empty_slice_181508 || y_181512;
    bool index_certs_181514;
    
    if (!ok_or_empty_181513) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "].", "-> #0  ftsort.fut:346:78-101\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_181515 = add64(defunc_0_merge_pipeline_res_178818, defunc_0_merge_pipeline_res_178819);
    int64_t j_m_i_181516 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, final_buffer_181515);
    bool empty_slice_181517 = j_m_i_181516 == (int64_t) 0;
    int64_t m_181518 = sub64(j_m_i_181516, (int64_t) 1);
    int64_t i_p_m_t_s_181519 = add64(final_buffer_181515, m_181518);
    bool zzero_leq_i_p_m_t_s_181520 = sle64((int64_t) 0, i_p_m_t_s_181519);
    bool i_p_m_t_s_leq_w_181521 = slt64(i_p_m_t_s_181519, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803);
    bool zzero_lte_i_181522 = sle64((int64_t) 0, final_buffer_181515);
    bool i_lte_j_181523 = sle64(final_buffer_181515, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803);
    bool y_181524 = i_p_m_t_s_leq_w_181521 && zzero_lte_i_181522;
    bool y_181525 = zzero_leq_i_p_m_t_s_181520 && y_181524;
    bool forwards_ok_181526 = i_lte_j_181523 && y_181525;
    bool ok_or_empty_181527 = empty_slice_181517 || forwards_ok_181526;
    bool index_certs_181528;
    
    if (!ok_or_empty_181527) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_181515, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, "].", "-> #0  ftsort.fut:346:22-101\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_181529 = j_m_i_181516 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837;
    bool empty_or_match_cert_181530;
    
    if (!dim_match_181529) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_181516, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "]", " of value.", "-> #0  ftsort.fut:346:22-101\n   #1  ftsort.fut:375:63-73\n   #2  ftsort.fut:368:1-375:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_185099, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "mem_185099")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_185915 = 0; nest_i_185915 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836; nest_i_185915++) {
        ((int8_t *) mem_185099.mem)[nest_i_185915] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_185101, bytes_185100, "mem_185101")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_185916 = 0; i_185916 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836; i_185916++) {
        int64_t x_185917 = defunc_0_merge_pipeline_res_178818 + i_185916 * (int64_t) 1;
        
        ((int64_t *) mem_185101.mem)[i_185916] = x_185917;
    }
    for (int64_t nest_i_185918 = 0; nest_i_185918 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835; nest_i_185918++) {
        ((int8_t *) mem_185099.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836 + nest_i_185918] = (int8_t) 1;
    }
    for (int64_t i_185919 = 0; i_185919 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835; i_185919++) {
        int64_t x_185920 = defunc_0_merge_pipeline_res_178819 + i_185919 * (int64_t) 1;
        
        ((int64_t *) mem_185101.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836 + i_185919] = x_185920;
    }
    
    int64_t tmp_offs_185921 = (int64_t) 0;
    
    if (!(tmp_offs_185921 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_185099.mem, tmp_offs_185921, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_185099.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836});
    }
    tmp_offs_185921 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836;
    if (!(tmp_offs_185921 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_185099.mem, tmp_offs_185921, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_185099.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835});
    }
    tmp_offs_185921 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835;
    
    int64_t tmp_offs_185922 = (int64_t) 0;
    
    if (!(tmp_offs_185922 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_185101.mem, tmp_offs_185922, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_185101.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836});
    }
    tmp_offs_185922 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836;
    if (!(tmp_offs_185922 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_185101.mem, tmp_offs_185922, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_185101.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835});
    }
    tmp_offs_185922 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835;
    if (memblock_alloc(ctx, &mem_185103, bytes_185100, "mem_185103")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_185923 = (int64_t) 0;
    
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_185103.mem, tmp_offs_185923, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_184305.mem, defunc_0_merge_pipeline_res_178818, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836});
    tmp_offs_185923 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_185103.mem, tmp_offs_185923, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_184306.mem, defunc_0_merge_pipeline_res_178819, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835});
    tmp_offs_185923 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835;
    
    int64_t flat_dim_180900 = smallest_pow_2_geq_than_res_180889 * block_sizze_180899;
    bool x_185423 = !cond_180883;
    int64_t greatest_divisor_leq_than_arg1_180904 = mul64((int64_t) 2, block_sizze_180899);
    int64_t merge_block_sizze_180905;
    
    if (x_185423) {
        int64_t x_185425;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_185425, (int64_t) 8, greatest_divisor_leq_than_arg1_180904) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_180905 = x_185425;
    } else {
        merge_block_sizze_180905 = (int64_t) 0;
    }
    
    bool index_concat_cmp_181580 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, (int64_t) 0);
    int8_t index_concat_branch_181584 = btoi_bool_i8(index_concat_cmp_181580);
    int64_t index_concat_i_183724 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
    int64_t index_primexp_183725 = add64(defunc_0_merge_pipeline_res_178819, index_concat_i_183724);
    int64_t index_concat_branch_181578;
    
    if (index_concat_cmp_181580) {
        index_concat_branch_181578 = index_primexp_183725;
    } else {
        index_concat_branch_181578 = defunc_0_merge_pipeline_res_178818;
    }
    
    bool x_185419 = !index_concat_cmp_181580;
    bool protect_cond_conj_185429 = x_185419 && x_185423;
    int64_t index_concat_181571;
    
    if (protect_cond_conj_185429) {
        int64_t x_185421 = ((int64_t *) a_list_mem_184305.mem)[defunc_0_merge_pipeline_res_178818];
        
        index_concat_181571 = x_185421;
    } else {
        index_concat_181571 = (int64_t) 0;
    }
    
    bool protect_cond_conj_185430 = index_concat_cmp_181580 && x_185423;
    int64_t index_concat_183728;
    
    if (protect_cond_conj_185430) {
        int64_t x_185417 = ((int64_t *) b_list_mem_184306.mem)[index_primexp_183725];
        
        index_concat_183728 = x_185417;
    } else {
        index_concat_183728 = (int64_t) 0;
    }
    
    int64_t index_concat_branch_181572;
    
    if (index_concat_cmp_181580) {
        index_concat_branch_181572 = index_concat_183728;
    } else {
        index_concat_branch_181572 = index_concat_181571;
    }
    
    int8_t defunc_0_reduce_res_183959;
    int64_t defunc_0_reduce_res_183960;
    int64_t defunc_0_reduce_res_183961;
    
    if (x_185423) {
        int8_t x_185431;
        int64_t x_185432;
        int64_t x_185433;
        int8_t redout_184113;
        int64_t redout_184114;
        int64_t redout_184115;
        
        redout_184113 = index_concat_branch_181584;
        redout_184114 = index_concat_branch_181578;
        redout_184115 = index_concat_branch_181572;
        for (int64_t i_184116 = 0; i_184116 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837; i_184116++) {
            bool index_concat_cmp_184187 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, i_184116);
            int8_t index_concat_branch_184191 = btoi_bool_i8(index_concat_cmp_184187);
            int64_t index_concat_branch_184185;
            
            if (index_concat_cmp_184187) {
                int64_t index_concat_i_184182 = sub64(i_184116, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
                int64_t index_primexp_184275 = add64(defunc_0_merge_pipeline_res_178819, index_concat_i_184182);
                
                index_concat_branch_184185 = index_primexp_184275;
            } else {
                int64_t index_primexp_184277 = add64(defunc_0_merge_pipeline_res_178818, i_184116);
                
                index_concat_branch_184185 = index_primexp_184277;
            }
            
            int64_t index_concat_branch_184179;
            
            if (index_concat_cmp_184187) {
                int64_t index_concat_i_184176 = sub64(i_184116, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
                int64_t slice_184272 = defunc_0_merge_pipeline_res_178819 + index_concat_i_184176;
                int64_t index_concat_184177 = ((int64_t *) b_list_mem_184306.mem)[slice_184272];
                
                index_concat_branch_184179 = index_concat_184177;
            } else {
                int64_t slice_184273 = defunc_0_merge_pipeline_res_178818 + i_184116;
                int64_t index_concat_184178 = ((int64_t *) a_list_mem_184305.mem)[slice_184273];
                
                index_concat_branch_184179 = index_concat_184178;
            }
            
            bool eq_x_y_184290 = redout_184113 == (int8_t) 1;
            bool eq_x_zz_184291 = redout_184113 == (int8_t) 0;
            bool p_and_eq_x_y_184292 = index_concat_cmp_184187 && eq_x_y_184290;
            bool not_p_184293 = !index_concat_cmp_184187;
            bool p_and_eq_x_y_184294 = eq_x_zz_184291 && not_p_184293;
            bool cond_180923 = p_and_eq_x_y_184292 || p_and_eq_x_y_184294;
            bool defunc_0_leq_res_t_res_180924 = sle64(redout_184114, index_concat_branch_184185);
            bool defunc_0_leq_res_180925 = sle64(redout_184115, index_concat_branch_184179);
            bool x_180926 = cond_180923 && defunc_0_leq_res_t_res_180924;
            bool x_180927 = !cond_180923;
            bool y_180928 = defunc_0_leq_res_180925 && x_180927;
            bool defunc_0_leq_res_180929 = x_180926 || y_180928;
            int8_t defunc_0_op_res_180930;
            
            if (defunc_0_leq_res_180929) {
                defunc_0_op_res_180930 = index_concat_branch_184191;
            } else {
                defunc_0_op_res_180930 = redout_184113;
            }
            
            int64_t defunc_0_op_res_180931;
            
            if (defunc_0_leq_res_180929) {
                defunc_0_op_res_180931 = index_concat_branch_184185;
            } else {
                defunc_0_op_res_180931 = redout_184114;
            }
            
            int64_t defunc_0_op_res_180932;
            
            if (defunc_0_leq_res_180929) {
                defunc_0_op_res_180932 = index_concat_branch_184179;
            } else {
                defunc_0_op_res_180932 = redout_184115;
            }
            
            int8_t redout_tmp_185924 = defunc_0_op_res_180930;
            int64_t redout_tmp_185925 = defunc_0_op_res_180931;
            int64_t redout_tmp_185926 = defunc_0_op_res_180932;
            
            redout_184113 = redout_tmp_185924;
            redout_184114 = redout_tmp_185925;
            redout_184115 = redout_tmp_185926;
        }
        x_185431 = redout_184113;
        x_185432 = redout_184114;
        x_185433 = redout_184115;
        defunc_0_reduce_res_183959 = x_185431;
        defunc_0_reduce_res_183960 = x_185432;
        defunc_0_reduce_res_183961 = x_185433;
    } else {
        defunc_0_reduce_res_183959 = (int8_t) 0;
        defunc_0_reduce_res_183960 = (int64_t) 0;
        defunc_0_reduce_res_183961 = (int64_t) 0;
    }
    
    int64_t distance_180944 = add64((int64_t) 1, tmp_180942);
    int64_t binop_x_185106 = (int64_t) 8 * smallest_pow_2_geq_than_res_180889;
    int64_t bytes_185107 = block_sizze_180899 * binop_x_185106;
    int64_t bytes_185125 = (int64_t) 8 * block_sizze_180899;
    bool loop_cond_181053 = slt64(block_sizze_180899, flat_dim_180900);
    bool zzero_181054 = merge_block_sizze_180905 == (int64_t) 0;
    bool nonzzero_181055 = !zzero_181054;
    
    if (cond_180883) {
        if (memblock_set(ctx, &ext_mem_185398, &mem_185099, "mem_185099") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185395, &mem_185101, "mem_185101") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185392, &mem_185103, "mem_185103") != 0)
            return 1;
    } else {
        if (mem_185105_cached_sizze_186245 < flat_dim_180900) {
            err = lexical_realloc(ctx, &mem_185105, &mem_185105_cached_sizze_186245, flat_dim_180900);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185108_cached_sizze_186246 < bytes_185107) {
            err = lexical_realloc(ctx, &mem_185108, &mem_185108_cached_sizze_186246, bytes_185107);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185111_cached_sizze_186247 < bytes_185107) {
            err = lexical_realloc(ctx, &mem_185111, &mem_185111_cached_sizze_186247, bytes_185107);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185124_cached_sizze_186248 < block_sizze_180899) {
            err = lexical_realloc(ctx, &mem_185124, &mem_185124_cached_sizze_186248, block_sizze_180899);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185126_cached_sizze_186249 < bytes_185125) {
            err = lexical_realloc(ctx, &mem_185126, &mem_185126_cached_sizze_186249, bytes_185125);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185128_cached_sizze_186250 < bytes_185125) {
            err = lexical_realloc(ctx, &mem_185128, &mem_185128_cached_sizze_186250, bytes_185125);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_184133 = 0; i_184133 < smallest_pow_2_geq_than_res_180889; i_184133++) {
            int64_t zp_lhs_180952 = mul64(block_sizze_180899, i_184133);
            
            for (int64_t i_184123 = 0; i_184123 < block_sizze_180899; i_184123++) {
                int64_t k_180957 = add64(zp_lhs_180952, i_184123);
                bool cond_180958 = slt64(k_180957, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837);
                int8_t lifted_lambda_res_180959;
                int64_t lifted_lambda_res_180960;
                int64_t lifted_lambda_res_180961;
                
                if (cond_180958) {
                    bool x_183734 = sle64((int64_t) 0, k_180957);
                    bool bounds_check_183735 = cond_180958 && x_183734;
                    bool index_certs_183736;
                    
                    if (!bounds_check_183735) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_180957, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_183737 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, k_180957);
                    int8_t index_concat_branch_183738 = btoi_bool_i8(index_concat_cmp_183737);
                    int64_t index_concat_branch_183739;
                    
                    if (index_concat_cmp_183737) {
                        int64_t index_concat_i_183740 = sub64(k_180957, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
                        int64_t index_primexp_183741 = add64(defunc_0_merge_pipeline_res_178819, index_concat_i_183740);
                        
                        index_concat_branch_183739 = index_primexp_183741;
                    } else {
                        int64_t index_primexp_183742 = add64(defunc_0_merge_pipeline_res_178818, k_180957);
                        
                        index_concat_branch_183739 = index_primexp_183742;
                    }
                    
                    int64_t index_concat_branch_183743;
                    
                    if (index_concat_cmp_183737) {
                        int64_t index_concat_i_183744 = sub64(k_180957, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
                        int64_t slice_183745 = defunc_0_merge_pipeline_res_178819 + index_concat_i_183744;
                        int64_t index_concat_183746 = ((int64_t *) b_list_mem_184306.mem)[slice_183745];
                        
                        index_concat_branch_183743 = index_concat_183746;
                    } else {
                        int64_t slice_183747 = defunc_0_merge_pipeline_res_178818 + k_180957;
                        int64_t index_concat_183748 = ((int64_t *) a_list_mem_184305.mem)[slice_183747];
                        
                        index_concat_branch_183743 = index_concat_183748;
                    }
                    lifted_lambda_res_180959 = index_concat_branch_183738;
                    lifted_lambda_res_180960 = index_concat_branch_183739;
                    lifted_lambda_res_180961 = index_concat_branch_183743;
                } else {
                    lifted_lambda_res_180959 = defunc_0_reduce_res_183959;
                    lifted_lambda_res_180960 = defunc_0_reduce_res_183960;
                    lifted_lambda_res_180961 = defunc_0_reduce_res_183961;
                }
                ((int8_t *) mem_185124)[i_184123] = lifted_lambda_res_180959;
                ((int64_t *) mem_185126)[i_184123] = lifted_lambda_res_180960;
                ((int64_t *) mem_185128)[i_184123] = lifted_lambda_res_180961;
            }
            if (!cond_180941) {
                for (int64_t i_180974 = 0; i_180974 < distance_180944; i_180974++) {
                    int64_t gt_arg1_180978 = add64((int64_t) 1, i_180974);
                    bool x_180979 = sle64((int64_t) 0, gt_arg1_180978);
                    bool y_180980 = slt64(gt_arg1_180978, block_sizze_180899);
                    bool bounds_check_180981 = x_180979 && y_180980;
                    bool index_certs_180982;
                    
                    if (!bounds_check_180981) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_180978, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_180986 = slt64(i_180974, block_sizze_180899);
                    bool index_certs_180987;
                    
                    if (!y_180986) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180974, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_180983 = ((int8_t *) mem_185124)[gt_arg1_180978];
                    int64_t gt_arg1_180984 = ((int64_t *) mem_185126)[gt_arg1_180978];
                    int64_t gt_arg1_180985 = ((int64_t *) mem_185128)[gt_arg1_180978];
                    int8_t gt_arg0_180988 = ((int8_t *) mem_185124)[i_180974];
                    int64_t gt_arg0_180989 = ((int64_t *) mem_185126)[i_180974];
                    int64_t gt_arg0_180990 = ((int64_t *) mem_185128)[i_180974];
                    bool cond_180991 = gt_arg0_180988 == gt_arg1_180983;
                    bool defunc_0_leq_res_t_res_180992 = sle64(gt_arg0_180989, gt_arg1_180984);
                    bool defunc_0_leq_res_180993 = sle64(gt_arg0_180990, gt_arg1_180985);
                    bool x_180994 = cond_180991 && defunc_0_leq_res_t_res_180992;
                    bool x_180995 = !cond_180991;
                    bool y_180996 = defunc_0_leq_res_180993 && x_180995;
                    bool defunc_0_leq_res_180997 = x_180994 || y_180996;
                    bool defunc_0_lifted_gt_res_180998 = !defunc_0_leq_res_180997;
                    bool s_180999;
                    int64_t s_181003;
                    bool loop_while_181004;
                    int64_t j_181008;
                    
                    loop_while_181004 = defunc_0_lifted_gt_res_180998;
                    j_181008 = i_180974;
                    while (loop_while_181004) {
                        bool x_181009 = sle64((int64_t) 0, j_181008);
                        bool y_181010 = slt64(j_181008, block_sizze_180899);
                        bool bounds_check_181011 = x_181009 && y_181010;
                        bool index_certs_181012;
                        
                        if (!bounds_check_181011) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181008, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_181016 = add64((int64_t) 1, j_181008);
                        bool x_181017 = sle64((int64_t) 0, copy_arg0_181016);
                        bool y_181018 = slt64(copy_arg0_181016, block_sizze_180899);
                        bool bounds_check_181019 = x_181017 && y_181018;
                        bool index_certs_181020;
                        
                        if (!bounds_check_181019) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_181016, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_181013 = ((int8_t *) mem_185124)[j_181008];
                        int64_t copy_arg0_181014 = ((int64_t *) mem_185126)[j_181008];
                        int64_t copy_arg0_181015 = ((int64_t *) mem_185128)[j_181008];
                        int8_t copy_arg0_181021 = ((int8_t *) mem_185124)[copy_arg0_181016];
                        int64_t copy_arg0_181022 = ((int64_t *) mem_185126)[copy_arg0_181016];
                        int64_t copy_arg0_181023 = ((int64_t *) mem_185128)[copy_arg0_181016];
                        
                        ((int8_t *) mem_185124)[j_181008] = copy_arg0_181021;
                        ((int64_t *) mem_185126)[j_181008] = copy_arg0_181022;
                        ((int64_t *) mem_185128)[j_181008] = copy_arg0_181023;
                        ((int8_t *) mem_185124)[copy_arg0_181016] = copy_arg0_181013;
                        ((int64_t *) mem_185126)[copy_arg0_181016] = copy_arg0_181014;
                        ((int64_t *) mem_185128)[copy_arg0_181016] = copy_arg0_181015;
                        
                        int64_t tmp_181030 = sub64(j_181008, (int64_t) 1);
                        bool cond_181031 = sle64((int64_t) 0, tmp_181030);
                        bool loop_cond_181032;
                        
                        if (cond_181031) {
                            bool y_183752 = slt64(tmp_181030, block_sizze_180899);
                            bool bounds_check_183753 = cond_181031 && y_183752;
                            bool index_certs_183754;
                            
                            if (!bounds_check_183753) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_181030, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_183749 = ((int8_t *) mem_185124)[j_181008];
                            int64_t gt_arg1_183750 = ((int64_t *) mem_185126)[j_181008];
                            int64_t gt_arg1_183751 = ((int64_t *) mem_185128)[j_181008];
                            int8_t gt_arg0_183755 = ((int8_t *) mem_185124)[tmp_181030];
                            int64_t gt_arg0_183756 = ((int64_t *) mem_185126)[tmp_181030];
                            int64_t gt_arg0_183757 = ((int64_t *) mem_185128)[tmp_181030];
                            bool cond_183758 = gt_arg0_183755 == gt_arg1_183749;
                            bool defunc_0_leq_res_t_res_183759 = sle64(gt_arg0_183756, gt_arg1_183750);
                            bool defunc_0_leq_res_183760 = sle64(gt_arg0_183757, gt_arg1_183751);
                            bool x_183761 = cond_183758 && defunc_0_leq_res_t_res_183759;
                            bool x_183762 = !cond_183758;
                            bool y_183763 = defunc_0_leq_res_183760 && x_183762;
                            bool defunc_0_leq_res_183764 = x_183761 || y_183763;
                            bool defunc_0_lifted_gt_res_183765 = !defunc_0_leq_res_183764;
                            
                            loop_cond_181032 = defunc_0_lifted_gt_res_183765;
                        } else {
                            loop_cond_181032 = 0;
                        }
                        
                        bool loop_while_tmp_185936 = loop_cond_181032;
                        int64_t j_tmp_185940 = tmp_181030;
                        
                        loop_while_181004 = loop_while_tmp_185936;
                        j_181008 = j_tmp_185940;
                    }
                    s_180999 = loop_while_181004;
                    s_181003 = j_181008;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_185105, i_184133 * block_sizze_180899, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_185124, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180899});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_185108, i_184133 * block_sizze_180899, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_185126, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180899});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_185111, i_184133 * block_sizze_180899, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_185128, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180899});
        }
        if (memblock_alloc(ctx, &mem_185205, flat_dim_180900, "mem_185205")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_185205.mem, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (uint8_t *) mem_185105, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180889, block_sizze_180899});
        if (memblock_alloc(ctx, &mem_185209, bytes_185107, "mem_185209")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_185209.mem, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (uint64_t *) mem_185108, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180889, block_sizze_180899});
        if (memblock_alloc(ctx, &mem_185213, bytes_185107, "mem_185213")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_185213.mem, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (uint64_t *) mem_185111, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180889, block_sizze_180899});
        
        int64_t data_181056;
        bool data_181057;
        int64_t data_181061;
        int64_t loop_dz2084Uz2082U_181062;
        bool loop_while_181063;
        int64_t stride_181067;
        
        if (memblock_set(ctx, &mem_param_185217, &mem_185205, "mem_185205") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_185220, &mem_185209, "mem_185209") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_185223, &mem_185213, "mem_185213") != 0)
            return 1;
        loop_dz2084Uz2082U_181062 = flat_dim_180900;
        loop_while_181063 = loop_cond_181053;
        stride_181067 = block_sizze_180899;
        while (loop_while_181063) {
            int64_t next_stride_181068 = mul64((int64_t) 2, stride_181067);
            bool zzero_181069 = next_stride_181068 == (int64_t) 0;
            bool nonzzero_181070 = !zzero_181069;
            bool nonzzero_cert_181071;
            
            if (!nonzzero_181070) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:375:63-73\n   #4  ftsort.fut:368:1-375:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_181072 = sdiv64(flat_dim_180900, next_stride_181068);
            bool bounds_invalid_upwards_181073 = slt64(num_merges_181072, (int64_t) 0);
            bool valid_181074 = !bounds_invalid_upwards_181073;
            bool range_valid_c_181075;
            
            if (!valid_181074) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_181072, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_181077 = sub64(next_stride_181068, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_181078 = sle64((int64_t) 0, m_181077);
            bool cond_181080 = slt64(next_stride_181068, (int64_t) 10);
            bool protect_assert_disj_181081 = nonzzero_181055 || cond_181080;
            bool nonzzero_cert_181082;
            
            if (!protect_assert_disj_181081) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_181083 = smod_safe64(next_stride_181068, merge_block_sizze_180905);
            bool num_blocks_181084 = zeze_lhs_181083 == (int64_t) 0;
            bool protect_assert_disj_181085 = cond_181080 || num_blocks_181084;
            bool assert_c_181086;
            
            if (!protect_assert_disj_181085) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_181088 = sdiv_safe64(next_stride_181068, merge_block_sizze_180905);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089 = add64((int64_t) 1, num_blocks_181088);
            int64_t j_m_i_181090 = sub64(next_stride_181068, stride_181067);
            int64_t flat_dim_181091 = merge_block_sizze_180905 * num_blocks_181088;
            bool bounds_invalid_upwards_181092 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089, (int64_t) 0);
            bool empty_slice_181093 = j_m_i_181090 == (int64_t) 0;
            int64_t m_181094 = sub64(j_m_i_181090, (int64_t) 1);
            bool zzero_lte_i_181095 = sle64((int64_t) 0, stride_181067);
            bool i_lte_j_181096 = sle64(stride_181067, next_stride_181068);
            bool empty_slice_181097 = stride_181067 == (int64_t) 0;
            int64_t m_181098 = sub64(stride_181067, (int64_t) 1);
            bool bounds_invalid_upwards_181099 = slt64(num_blocks_181088, (int64_t) 0);
            bool cond_181100 = slt64((int64_t) 0, stride_181067);
            bool valid_181101 = !bounds_invalid_upwards_181092;
            int64_t i_p_m_t_s_181102 = add64(stride_181067, m_181094);
            bool zzero_leq_i_p_m_t_s_181103 = sle64((int64_t) 0, m_181098);
            bool i_p_m_t_s_leq_w_181104 = slt64(m_181098, next_stride_181068);
            bool valid_181105 = !bounds_invalid_upwards_181099;
            bool i_p_m_t_s_leq_w_181106 = slt64(m_181077, flat_dim_181091);
            bool y_181107 = slt64((int64_t) 0, j_m_i_181090);
            bool protect_assert_disj_181108 = cond_181080 || valid_181101;
            bool range_valid_c_181109;
            
            if (!protect_assert_disj_181108) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:375:63-73\n   #9  ftsort.fut:368:1-375:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_181110 = sle64((int64_t) 0, i_p_m_t_s_181102);
            bool i_p_m_t_s_leq_w_181111 = slt64(i_p_m_t_s_181102, next_stride_181068);
            bool y_181112 = zzero_leq_i_p_m_t_s_181103 && i_p_m_t_s_leq_w_181104;
            bool protect_assert_disj_181113 = cond_181080 || valid_181105;
            bool range_valid_c_181114;
            
            if (!protect_assert_disj_181113) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_181088, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_181115 = zzero_leq_i_p_m_t_s_181078 && i_p_m_t_s_leq_w_181106;
            bool y_181116 = zzero_lte_i_181095 && i_p_m_t_s_leq_w_181111;
            bool forwards_ok_181117 = zzero_lte_i_181095 && y_181112;
            bool ok_or_empty_181118 = zzero_181069 || y_181115;
            bool protect_assert_disj_181119 = cond_181100 || y_181107;
            bool y_181120 = zzero_leq_i_p_m_t_s_181110 && y_181116;
            bool ok_or_empty_181121 = empty_slice_181097 || forwards_ok_181117;
            bool protect_assert_disj_181122 = cond_181080 || ok_or_empty_181118;
            bool index_certs_181123;
            
            if (!protect_assert_disj_181122) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_181068, "] out of bounds for array of shape [", (long long) flat_dim_181091, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_181124 = !cond_181080;
            bool protect_assert_disj_181125 = protect_assert_disj_181119 || loop_not_taken_181124;
            bool index_certs_181126;
            
            if (!protect_assert_disj_181125) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:375:63-73\n   #9  ftsort.fut:368:1-375:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_181127 = i_lte_j_181096 && y_181120;
            bool protect_assert_disj_181128 = cond_181080 || ok_or_empty_181121;
            bool index_certs_181129;
            
            if (!protect_assert_disj_181128) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_181067, "] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:375:63-73\n   #10 ftsort.fut:368:1-375:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_181130 = ok_or_empty_181121 || loop_not_taken_181124;
            bool index_certs_181131;
            
            if (!protect_assert_disj_181130) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_181067, "] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_181132 = empty_slice_181093 || forwards_ok_181127;
            bool protect_assert_disj_181133 = cond_181080 || ok_or_empty_181132;
            bool index_certs_181134;
            
            if (!protect_assert_disj_181133) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_181067, ":] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:375:63-73\n   #10 ftsort.fut:368:1-375:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_181135 = loop_not_taken_181124 || ok_or_empty_181132;
            bool index_certs_181136;
            
            if (!protect_assert_disj_181135) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_181067, ":] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_185224 = next_stride_181068 * num_merges_181072;
            int64_t binop_x_185226 = (int64_t) 8 * num_merges_181072;
            int64_t bytes_185227 = next_stride_181068 * binop_x_185226;
            bool i_lte_j_181079 = sle64((int64_t) 0, next_stride_181068);
            
            if (mem_185225_cached_sizze_186251 < bytes_185224) {
                err = lexical_realloc(ctx, &mem_185225, &mem_185225_cached_sizze_186251, bytes_185224);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_185228_cached_sizze_186252 < bytes_185227) {
                err = lexical_realloc(ctx, &mem_185228, &mem_185228_cached_sizze_186252, bytes_185227);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_185231_cached_sizze_186253 < bytes_185227) {
                err = lexical_realloc(ctx, &mem_185231, &mem_185231_cached_sizze_186253, bytes_185227);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_185244 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089;
            int64_t binop_x_185262 = (int64_t) 8 * num_blocks_181088;
            int64_t bytes_185263 = merge_block_sizze_180905 * binop_x_185262;
            int64_t bytes_185327 = (int64_t) 16 * stride_181067;
            
            for (int64_t i_184160 = 0; i_184160 < num_merges_181072; i_184160++) {
                int64_t start_181141 = mul64(next_stride_181068, i_184160);
                int64_t j_m_i_181142 = sub64(loop_dz2084Uz2082U_181062, start_181141);
                bool empty_slice_181143 = j_m_i_181142 == (int64_t) 0;
                int64_t m_181144 = sub64(j_m_i_181142, (int64_t) 1);
                int64_t i_p_m_t_s_181145 = add64(start_181141, m_181144);
                bool zzero_leq_i_p_m_t_s_181146 = sle64((int64_t) 0, i_p_m_t_s_181145);
                bool i_p_m_t_s_leq_w_181147 = slt64(i_p_m_t_s_181145, loop_dz2084Uz2082U_181062);
                bool zzero_lte_i_181148 = sle64((int64_t) 0, start_181141);
                bool i_lte_j_181149 = sle64(start_181141, loop_dz2084Uz2082U_181062);
                bool y_181150 = i_p_m_t_s_leq_w_181147 && zzero_lte_i_181148;
                bool y_181151 = zzero_leq_i_p_m_t_s_181146 && y_181150;
                bool forwards_ok_181152 = i_lte_j_181149 && y_181151;
                bool ok_or_empty_181153 = empty_slice_181143 || forwards_ok_181152;
                bool index_certs_181154;
                
                if (!ok_or_empty_181153) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_181141, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_181062, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_181155 = slt64(m_181077, j_m_i_181142);
                bool y_181156 = zzero_leq_i_p_m_t_s_181078 && i_p_m_t_s_leq_w_181155;
                bool forwards_ok_181157 = i_lte_j_181079 && y_181156;
                bool ok_or_empty_181158 = zzero_181069 || forwards_ok_181157;
                bool index_certs_181159;
                
                if (!ok_or_empty_181158) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_181068, "] out of bounds for array of shape [", (long long) j_m_i_181142, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:375:63-73\n   #7  ftsort.fut:368:1-375:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_181080) {
                    int8_t dummy_183804;
                    int64_t dummy_183805;
                    int64_t dummy_183806;
                    
                    if (cond_181100) {
                        int8_t head_res_183807 = ((int8_t *) mem_param_185217.mem)[start_181141];
                        int64_t head_res_183808 = ((int64_t *) mem_param_185220.mem)[start_181141];
                        int64_t head_res_183809 = ((int64_t *) mem_param_185223.mem)[start_181141];
                        
                        dummy_183804 = head_res_183807;
                        dummy_183805 = head_res_183808;
                        dummy_183806 = head_res_183809;
                    } else {
                        int64_t slice_183810 = stride_181067 + start_181141;
                        int8_t head_res_183811 = ((int8_t *) mem_param_185217.mem)[slice_183810];
                        int64_t head_res_183812 = ((int64_t *) mem_param_185220.mem)[slice_183810];
                        int64_t head_res_183813 = ((int64_t *) mem_param_185223.mem)[slice_183810];
                        
                        dummy_183804 = head_res_183811;
                        dummy_183805 = head_res_183812;
                        dummy_183806 = head_res_183813;
                    }
                    if (memblock_alloc(ctx, &mem_185326, next_stride_181068, "mem_185326")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185953 = 0; nest_i_185953 < next_stride_181068; nest_i_185953++) {
                        ((int8_t *) mem_185326.mem)[nest_i_185953] = dummy_183804;
                    }
                    if (memblock_alloc(ctx, &mem_185328, bytes_185327, "mem_185328")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185954 = 0; nest_i_185954 < next_stride_181068; nest_i_185954++) {
                        ((int64_t *) mem_185328.mem)[nest_i_185954] = dummy_183805;
                    }
                    if (memblock_alloc(ctx, &mem_185330, bytes_185327, "mem_185330")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185955 = 0; nest_i_185955 < next_stride_181068; nest_i_185955++) {
                        ((int64_t *) mem_185330.mem)[nest_i_185955] = dummy_183806;
                    }
                    
                    int64_t data_183817;
                    int64_t i_183822 = (int64_t) 0;
                    
                    for (int64_t k_183821 = 0; k_183821 < next_stride_181068; k_183821++) {
                        int64_t j_183826 = sub64(k_183821, i_183822);
                        bool cond_183827 = j_183826 == j_m_i_181090;
                        bool cond_183828;
                        
                        if (cond_183827) {
                            cond_183828 = 1;
                        } else {
                            bool cond_183829 = slt64(i_183822, stride_181067);
                            bool cond_f_res_183830;
                            
                            if (cond_183829) {
                                bool x_183831 = sle64((int64_t) 0, j_183826);
                                bool y_183832 = slt64(j_183826, j_m_i_181090);
                                bool bounds_check_183833 = x_183831 && y_183832;
                                bool index_certs_183834;
                                
                                if (!bounds_check_183833) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183826, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_183840 = sle64((int64_t) 0, i_183822);
                                bool bounds_check_183841 = cond_183829 && x_183840;
                                bool index_certs_183842;
                                
                                if (!bounds_check_183841) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183822, "] out of bounds for array of shape [", (long long) stride_181067, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_183835 = stride_181067 + j_183826;
                                int64_t slice_183836 = start_181141 + slice_183835;
                                int8_t leq_arg1_183837 = ((int8_t *) mem_param_185217.mem)[slice_183836];
                                int64_t leq_arg1_183838 = ((int64_t *) mem_param_185220.mem)[slice_183836];
                                int64_t leq_arg1_183839 = ((int64_t *) mem_param_185223.mem)[slice_183836];
                                int64_t slice_183843 = start_181141 + i_183822;
                                int8_t leq_arg0_183844 = ((int8_t *) mem_param_185217.mem)[slice_183843];
                                int64_t leq_arg0_183845 = ((int64_t *) mem_param_185220.mem)[slice_183843];
                                int64_t leq_arg0_183846 = ((int64_t *) mem_param_185223.mem)[slice_183843];
                                bool cond_183847 = leq_arg0_183844 == leq_arg1_183837;
                                bool defunc_0_leq_res_t_res_183848 = sle64(leq_arg0_183845, leq_arg1_183838);
                                bool defunc_0_leq_res_183849 = sle64(leq_arg0_183846, leq_arg1_183839);
                                bool x_183850 = cond_183847 && defunc_0_leq_res_t_res_183848;
                                bool x_183851 = !cond_183847;
                                bool y_183852 = defunc_0_leq_res_183849 && x_183851;
                                bool defunc_0_leq_res_183853 = x_183850 || y_183852;
                                
                                cond_f_res_183830 = defunc_0_leq_res_183853;
                            } else {
                                cond_f_res_183830 = 0;
                            }
                            cond_183828 = cond_f_res_183830;
                        }
                        
                        int64_t loopres_183854;
                        int8_t loopres_183855;
                        int64_t loopres_183856;
                        int64_t loopres_183857;
                        
                        if (cond_183828) {
                            bool x_183859 = sle64((int64_t) 0, i_183822);
                            bool y_183860 = slt64(i_183822, stride_181067);
                            bool bounds_check_183861 = x_183859 && y_183860;
                            bool index_certs_183862;
                            
                            if (!bounds_check_183861) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183822, "] out of bounds for array of shape [", (long long) stride_181067, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_183858 = add64((int64_t) 1, i_183822);
                            int64_t slice_183863 = start_181141 + i_183822;
                            int8_t tmp_183864 = ((int8_t *) mem_param_185217.mem)[slice_183863];
                            int64_t tmp_183865 = ((int64_t *) mem_param_185220.mem)[slice_183863];
                            int64_t tmp_183866 = ((int64_t *) mem_param_185223.mem)[slice_183863];
                            
                            loopres_183854 = tmp_183858;
                            loopres_183855 = tmp_183864;
                            loopres_183856 = tmp_183865;
                            loopres_183857 = tmp_183866;
                        } else {
                            bool x_183867 = sle64((int64_t) 0, j_183826);
                            bool y_183868 = slt64(j_183826, j_m_i_181090);
                            bool bounds_check_183869 = x_183867 && y_183868;
                            bool index_certs_183870;
                            
                            if (!bounds_check_183869) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183826, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:375:63-73\n   #8  ftsort.fut:368:1-375:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_183871 = stride_181067 + j_183826;
                            int64_t slice_183872 = start_181141 + slice_183871;
                            int8_t tmp_183873 = ((int8_t *) mem_param_185217.mem)[slice_183872];
                            int64_t tmp_183874 = ((int64_t *) mem_param_185220.mem)[slice_183872];
                            int64_t tmp_183875 = ((int64_t *) mem_param_185223.mem)[slice_183872];
                            
                            loopres_183854 = i_183822;
                            loopres_183855 = tmp_183873;
                            loopres_183856 = tmp_183874;
                            loopres_183857 = tmp_183875;
                        }
                        ((int8_t *) mem_185326.mem)[k_183821] = loopres_183855;
                        ((int64_t *) mem_185328.mem)[k_183821] = loopres_183856;
                        ((int64_t *) mem_185330.mem)[k_183821] = loopres_183857;
                        
                        int64_t i_tmp_185956 = loopres_183854;
                        
                        i_183822 = i_tmp_185956;
                    }
                    data_183817 = i_183822;
                    if (memblock_set(ctx, &ext_mem_185357, &mem_185326, "mem_185326") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185354, &mem_185328, "mem_185328") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185351, &mem_185330, "mem_185330") != 0)
                        return 1;
                } else {
                    if (mem_185245_cached_sizze_186254 < bytes_185244) {
                        err = lexical_realloc(ctx, &mem_185245, &mem_185245_cached_sizze_186254, bytes_185244);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_185247_cached_sizze_186255 < bytes_185244) {
                        err = lexical_realloc(ctx, &mem_185247, &mem_185247_cached_sizze_186255, bytes_185244);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_184141 = 0; i_184141 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089; i_184141++) {
                        int64_t split_count_arg3_181242 = mul64(merge_block_sizze_180905, i_184141);
                        int64_t defunc_0_split_count_res_181243;
                        int64_t defunc_0_split_count_res_181244;
                        int64_t defunc_0_split_count_res_181245;
                        int64_t defunc_0_split_count_res_181246;
                        int64_t defunc_0_split_count_res_181247;
                        
                        if (futrts_lifted_normalizze_9100(ctx, &defunc_0_split_count_res_181243, &defunc_0_split_count_res_181244, &defunc_0_split_count_res_181245, &defunc_0_split_count_res_181246, &defunc_0_split_count_res_181247, (int64_t) 0, stride_181067, (int64_t) 0, j_m_i_181090, split_count_arg3_181242) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_181248 = slt64((int64_t) 0, defunc_0_split_count_res_181247);
                        bool defunc_0_split_count_res_181249;
                        int64_t defunc_0_split_count_res_181250;
                        int64_t defunc_0_split_count_res_181251;
                        int64_t defunc_0_split_count_res_181252;
                        int64_t defunc_0_split_count_res_181253;
                        int64_t defunc_0_split_count_res_181254;
                        bool loop_while_181255;
                        int64_t ss_181256;
                        int64_t ss_181257;
                        int64_t tt_181258;
                        int64_t tt_181259;
                        int64_t count_181260;
                        
                        loop_while_181255 = loop_cond_181248;
                        ss_181256 = defunc_0_split_count_res_181243;
                        ss_181257 = defunc_0_split_count_res_181244;
                        tt_181258 = defunc_0_split_count_res_181245;
                        tt_181259 = defunc_0_split_count_res_181246;
                        count_181260 = defunc_0_split_count_res_181247;
                        while (loop_while_181255) {
                            int64_t zlze_lhs_181261 = sub64(ss_181257, ss_181256);
                            bool cond_181262 = sle64(zlze_lhs_181261, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_181263;
                            int64_t defunc_0_lifted_step_res_181264;
                            int64_t defunc_0_lifted_step_res_181265;
                            int64_t defunc_0_lifted_step_res_181266;
                            
                            if (cond_181262) {
                                int64_t tmp_183879 = add64(tt_181258, count_181260);
                                
                                defunc_0_lifted_step_res_181263 = ss_181256;
                                defunc_0_lifted_step_res_181264 = tmp_183879;
                                defunc_0_lifted_step_res_181265 = tt_181259;
                                defunc_0_lifted_step_res_181266 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_181268 = sub64(tt_181259, tt_181258);
                                bool cond_181269 = sle64(zlze_lhs_181268, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_181270;
                                int64_t defunc_0_lifted_step_res_f_res_181271;
                                int64_t defunc_0_lifted_step_res_f_res_181272;
                                int64_t defunc_0_lifted_step_res_f_res_181273;
                                
                                if (cond_181269) {
                                    int64_t tmp_183880 = add64(ss_181256, count_181260);
                                    
                                    defunc_0_lifted_step_res_f_res_181270 = tmp_183880;
                                    defunc_0_lifted_step_res_f_res_181271 = tt_181258;
                                    defunc_0_lifted_step_res_f_res_181272 = tt_181259;
                                    defunc_0_lifted_step_res_f_res_181273 = (int64_t) 0;
                                } else {
                                    bool cond_181275 = count_181260 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_181276;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_181277;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_181278;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_181279;
                                    
                                    if (cond_181275) {
                                        bool x_183882 = sle64((int64_t) 0, ss_181256);
                                        bool y_183883 = slt64(ss_181256, stride_181067);
                                        bool bounds_check_183884 = x_183882 && y_183883;
                                        bool index_certs_183885;
                                        
                                        if (!bounds_check_183884) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_181256, "] out of bounds for array of shape [", (long long) stride_181067, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:375:63-73\n   #12 ftsort.fut:368:1-375:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_183890 = sle64((int64_t) 0, tt_181258);
                                        bool y_183891 = slt64(tt_181258, j_m_i_181090);
                                        bool bounds_check_183892 = x_183890 && y_183891;
                                        bool index_certs_183893;
                                        
                                        if (!bounds_check_183892) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_181258, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:375:63-73\n   #12 ftsort.fut:368:1-375:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183886 = start_181141 + ss_181256;
                                        int8_t leq_arg1_183887 = ((int8_t *) mem_param_185217.mem)[slice_183886];
                                        int64_t leq_arg1_183888 = ((int64_t *) mem_param_185220.mem)[slice_183886];
                                        int64_t leq_arg1_183889 = ((int64_t *) mem_param_185223.mem)[slice_183886];
                                        int64_t slice_183894 = stride_181067 + tt_181258;
                                        int64_t slice_183895 = start_181141 + slice_183894;
                                        int8_t leq_arg0_183896 = ((int8_t *) mem_param_185217.mem)[slice_183895];
                                        int64_t leq_arg0_183897 = ((int64_t *) mem_param_185220.mem)[slice_183895];
                                        int64_t leq_arg0_183898 = ((int64_t *) mem_param_185223.mem)[slice_183895];
                                        bool cond_183899 = leq_arg0_183896 == leq_arg1_183887;
                                        bool defunc_0_leq_res_t_res_183900 = sle64(leq_arg0_183897, leq_arg1_183888);
                                        bool defunc_0_leq_res_183901 = sle64(leq_arg0_183898, leq_arg1_183889);
                                        bool x_183902 = cond_183899 && defunc_0_leq_res_t_res_183900;
                                        bool x_183903 = !cond_183899;
                                        bool y_183904 = defunc_0_leq_res_183901 && x_183903;
                                        bool defunc_0_leq_res_183905 = x_183902 || y_183904;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183906;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183907;
                                        
                                        if (defunc_0_leq_res_183905) {
                                            int64_t tmp_183908 = add64((int64_t) 1, tt_181258);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_183906 = ss_181256;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_183907 = tmp_183908;
                                        } else {
                                            int64_t tmp_183909 = add64((int64_t) 1, ss_181256);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_183906 = tmp_183909;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_183907 = tt_181258;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_181276 = defunc_0_lifted_step_res_f_res_f_res_t_res_183906;
                                        defunc_0_lifted_step_res_f_res_f_res_181277 = defunc_0_lifted_step_res_f_res_f_res_t_res_183907;
                                        defunc_0_lifted_step_res_f_res_f_res_181278 = tt_181259;
                                        defunc_0_lifted_step_res_f_res_f_res_181279 = (int64_t) 0;
                                    } else {
                                        int64_t m_181308 = sdiv64(count_181260, (int64_t) 2);
                                        int64_t n_181309 = sub64(count_181260, m_181308);
                                        bool cond_181310 = n_181309 == (int64_t) 0;
                                        int64_t zgze_lhs_181311 = add64(ss_181256, m_181308);
                                        bool cond_f_res_181312 = sle64(ss_181257, zgze_lhs_181311);
                                        bool x_181313 = !cond_181310;
                                        bool y_181314 = cond_f_res_181312 && x_181313;
                                        bool cond_181315 = cond_181310 || y_181314;
                                        bool leq_y_x_181316;
                                        
                                        if (cond_181315) {
                                            leq_y_x_181316 = 1;
                                        } else {
                                            bool x_181317 = sle64((int64_t) 0, zgze_lhs_181311);
                                            bool y_181318 = slt64(zgze_lhs_181311, stride_181067);
                                            bool bounds_check_181319 = x_181317 && y_181318;
                                            bool index_certs_181320;
                                            
                                            if (!bounds_check_181319) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_181311, "] out of bounds for array of shape [", (long long) stride_181067, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:375:63-73\n   #12 ftsort.fut:368:1-375:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_181325 = add64(tt_181258, n_181309);
                                            int64_t leq_arg0_181326 = sub64(zm_lhs_181325, (int64_t) 1);
                                            bool x_181327 = sle64((int64_t) 0, leq_arg0_181326);
                                            bool y_181328 = slt64(leq_arg0_181326, j_m_i_181090);
                                            bool bounds_check_181329 = x_181327 && y_181328;
                                            bool index_certs_181330;
                                            
                                            if (!bounds_check_181329) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_181326, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:375:63-73\n   #12 ftsort.fut:368:1-375:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_181321 = start_181141 + zgze_lhs_181311;
                                            int8_t leq_arg1_181322 = ((int8_t *) mem_param_185217.mem)[slice_181321];
                                            int64_t leq_arg1_181323 = ((int64_t *) mem_param_185220.mem)[slice_181321];
                                            int64_t leq_arg1_181324 = ((int64_t *) mem_param_185223.mem)[slice_181321];
                                            int64_t slice_181331 = stride_181067 + leq_arg0_181326;
                                            int64_t slice_181332 = start_181141 + slice_181331;
                                            int8_t leq_arg0_181333 = ((int8_t *) mem_param_185217.mem)[slice_181332];
                                            int64_t leq_arg0_181334 = ((int64_t *) mem_param_185220.mem)[slice_181332];
                                            int64_t leq_arg0_181335 = ((int64_t *) mem_param_185223.mem)[slice_181332];
                                            bool cond_181336 = leq_arg0_181333 == leq_arg1_181322;
                                            bool defunc_0_leq_res_t_res_181337 = sle64(leq_arg0_181334, leq_arg1_181323);
                                            bool defunc_0_leq_res_181338 = sle64(leq_arg0_181335, leq_arg1_181324);
                                            bool x_181339 = cond_181336 && defunc_0_leq_res_t_res_181337;
                                            bool x_181340 = !cond_181336;
                                            bool y_181341 = defunc_0_leq_res_181338 && x_181340;
                                            bool defunc_0_leq_res_181342 = x_181339 || y_181341;
                                            
                                            leq_y_x_181316 = defunc_0_leq_res_181342;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_181343;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_181344;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_181345;
                                        
                                        if (leq_y_x_181316) {
                                            int64_t tmp_183910 = add64(tt_181258, n_181309);
                                            int64_t tmp_183911 = sub64(count_181260, n_181309);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181343 = tmp_183910;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181344 = tt_181259;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181345 = tmp_183911;
                                        } else {
                                            int64_t tmp_181348 = add64(tt_181258, n_181309);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181343 = tt_181258;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181344 = tmp_181348;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181345 = count_181260;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_181276 = ss_181256;
                                        defunc_0_lifted_step_res_f_res_f_res_181277 = defunc_0_lifted_step_res_f_res_f_res_f_res_181343;
                                        defunc_0_lifted_step_res_f_res_f_res_181278 = defunc_0_lifted_step_res_f_res_f_res_f_res_181344;
                                        defunc_0_lifted_step_res_f_res_f_res_181279 = defunc_0_lifted_step_res_f_res_f_res_f_res_181345;
                                    }
                                    defunc_0_lifted_step_res_f_res_181270 = defunc_0_lifted_step_res_f_res_f_res_181276;
                                    defunc_0_lifted_step_res_f_res_181271 = defunc_0_lifted_step_res_f_res_f_res_181277;
                                    defunc_0_lifted_step_res_f_res_181272 = defunc_0_lifted_step_res_f_res_f_res_181278;
                                    defunc_0_lifted_step_res_f_res_181273 = defunc_0_lifted_step_res_f_res_f_res_181279;
                                }
                                defunc_0_lifted_step_res_181263 = defunc_0_lifted_step_res_f_res_181270;
                                defunc_0_lifted_step_res_181264 = defunc_0_lifted_step_res_f_res_181271;
                                defunc_0_lifted_step_res_181265 = defunc_0_lifted_step_res_f_res_181272;
                                defunc_0_lifted_step_res_181266 = defunc_0_lifted_step_res_f_res_181273;
                            }
                            
                            int64_t loopres_181349;
                            int64_t loopres_181350;
                            int64_t loopres_181351;
                            int64_t loopres_181352;
                            int64_t loopres_181353;
                            
                            if (futrts_lifted_normalizze_9100(ctx, &loopres_181349, &loopres_181350, &loopres_181351, &loopres_181352, &loopres_181353, defunc_0_lifted_step_res_181263, ss_181257, defunc_0_lifted_step_res_181264, defunc_0_lifted_step_res_181265, defunc_0_lifted_step_res_181266) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_181354 = slt64((int64_t) 0, loopres_181353);
                            bool loop_while_tmp_185962 = loop_cond_181354;
                            int64_t ss_tmp_185963 = loopres_181349;
                            int64_t ss_tmp_185964 = loopres_181350;
                            int64_t tt_tmp_185965 = loopres_181351;
                            int64_t tt_tmp_185966 = loopres_181352;
                            int64_t count_tmp_185967 = loopres_181353;
                            
                            loop_while_181255 = loop_while_tmp_185962;
                            ss_181256 = ss_tmp_185963;
                            ss_181257 = ss_tmp_185964;
                            tt_181258 = tt_tmp_185965;
                            tt_181259 = tt_tmp_185966;
                            count_181260 = count_tmp_185967;
                        }
                        defunc_0_split_count_res_181249 = loop_while_181255;
                        defunc_0_split_count_res_181250 = ss_181256;
                        defunc_0_split_count_res_181251 = ss_181257;
                        defunc_0_split_count_res_181252 = tt_181258;
                        defunc_0_split_count_res_181253 = tt_181259;
                        defunc_0_split_count_res_181254 = count_181260;
                        ((int64_t *) mem_185245)[i_184141] = defunc_0_split_count_res_181250;
                        ((int64_t *) mem_185247)[i_184141] = defunc_0_split_count_res_181252;
                    }
                    if (mem_185261_cached_sizze_186256 < flat_dim_181091) {
                        err = lexical_realloc(ctx, &mem_185261, &mem_185261_cached_sizze_186256, flat_dim_181091);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_185264_cached_sizze_186257 < bytes_185263) {
                        err = lexical_realloc(ctx, &mem_185264, &mem_185264_cached_sizze_186257, bytes_185263);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_185267_cached_sizze_186258 < bytes_185263) {
                        err = lexical_realloc(ctx, &mem_185267, &mem_185267_cached_sizze_186258, bytes_185263);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_184150 = 0; i_184150 < num_blocks_181088; i_184150++) {
                        bool y_181361 = slt64(i_184150, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089);
                        bool index_certs_181363;
                        
                        if (!y_181361) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_184150, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:375:63-73\n   #9  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_181364 = ((int64_t *) mem_185245)[i_184150];
                        int64_t defunc_0_f_res_181365 = ((int64_t *) mem_185247)[i_184150];
                        int64_t tmp_181366 = add64((int64_t) 1, i_184150);
                        bool x_181367 = sle64((int64_t) 0, tmp_181366);
                        bool y_181368 = slt64(tmp_181366, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089);
                        bool bounds_check_181369 = x_181367 && y_181368;
                        bool index_certs_181370;
                        
                        if (!bounds_check_181369) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_181366, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:375:63-73\n   #9  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_181371 = ((int64_t *) mem_185245)[tmp_181366];
                        int64_t defunc_0_f_res_181372 = ((int64_t *) mem_185247)[tmp_181366];
                        int64_t merge_sequential_arg2_181373 = add64(stride_181067, defunc_0_f_res_181365);
                        int64_t merge_sequential_arg2_181374 = add64(stride_181067, defunc_0_f_res_181372);
                        int64_t j_m_i_181375 = sub64(merge_sequential_arg2_181374, merge_sequential_arg2_181373);
                        bool empty_slice_181376 = j_m_i_181375 == (int64_t) 0;
                        int64_t m_181377 = sub64(j_m_i_181375, (int64_t) 1);
                        int64_t i_p_m_t_s_181378 = add64(merge_sequential_arg2_181373, m_181377);
                        bool zzero_leq_i_p_m_t_s_181379 = sle64((int64_t) 0, i_p_m_t_s_181378);
                        bool i_p_m_t_s_leq_w_181380 = slt64(i_p_m_t_s_181378, next_stride_181068);
                        bool zzero_lte_i_181381 = sle64((int64_t) 0, merge_sequential_arg2_181373);
                        bool i_lte_j_181382 = sle64(merge_sequential_arg2_181373, merge_sequential_arg2_181374);
                        bool y_181383 = i_p_m_t_s_leq_w_181380 && zzero_lte_i_181381;
                        bool y_181384 = zzero_leq_i_p_m_t_s_181379 && y_181383;
                        bool forwards_ok_181385 = i_lte_j_181382 && y_181384;
                        bool ok_or_empty_181386 = empty_slice_181376 || forwards_ok_181385;
                        bool index_certs_181387;
                        
                        if (!ok_or_empty_181386) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_181373, ":", (long long) merge_sequential_arg2_181374, "] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:375:63-73\n   #9  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_181388 = sub64(defunc_0_f_res_181371, defunc_0_f_res_181364);
                        bool empty_slice_181389 = j_m_i_181388 == (int64_t) 0;
                        int64_t m_181390 = sub64(j_m_i_181388, (int64_t) 1);
                        int64_t i_p_m_t_s_181391 = add64(defunc_0_f_res_181364, m_181390);
                        bool zzero_leq_i_p_m_t_s_181392 = sle64((int64_t) 0, i_p_m_t_s_181391);
                        bool i_p_m_t_s_leq_w_181393 = slt64(i_p_m_t_s_181391, next_stride_181068);
                        bool zzero_lte_i_181394 = sle64((int64_t) 0, defunc_0_f_res_181364);
                        bool i_lte_j_181395 = sle64(defunc_0_f_res_181364, defunc_0_f_res_181371);
                        bool y_181396 = i_p_m_t_s_leq_w_181393 && zzero_lte_i_181394;
                        bool y_181397 = zzero_leq_i_p_m_t_s_181392 && y_181396;
                        bool forwards_ok_181398 = i_lte_j_181395 && y_181397;
                        bool ok_or_empty_181399 = empty_slice_181389 || forwards_ok_181398;
                        bool index_certs_181400;
                        
                        if (!ok_or_empty_181399) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_181364, ":", (long long) defunc_0_f_res_181371, "] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:375:63-73\n   #9  ftsort.fut:368:1-375:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_181401 = slt64((int64_t) 0, j_m_i_181388);
                        int8_t dummy_181402;
                        int64_t dummy_181403;
                        int64_t dummy_181404;
                        
                        if (cond_181401) {
                            bool index_certs_183912;
                            
                            if (!cond_181401) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_181388, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:375:63-73\n   #11 ftsort.fut:368:1-375:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_183913 = start_181141 + defunc_0_f_res_181364;
                            int8_t head_res_183914 = ((int8_t *) mem_param_185217.mem)[slice_183913];
                            int64_t head_res_183915 = ((int64_t *) mem_param_185220.mem)[slice_183913];
                            int64_t head_res_183916 = ((int64_t *) mem_param_185223.mem)[slice_183913];
                            
                            dummy_181402 = head_res_183914;
                            dummy_181403 = head_res_183915;
                            dummy_181404 = head_res_183916;
                        } else {
                            bool y_181410 = slt64((int64_t) 0, j_m_i_181375);
                            bool index_certs_181411;
                            
                            if (!y_181410) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_181375, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:375:63-73\n   #11 ftsort.fut:368:1-375:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_181412 = start_181141 + merge_sequential_arg2_181373;
                            int8_t head_res_181413 = ((int8_t *) mem_param_185217.mem)[slice_181412];
                            int64_t head_res_181414 = ((int64_t *) mem_param_185220.mem)[slice_181412];
                            int64_t head_res_181415 = ((int64_t *) mem_param_185223.mem)[slice_181412];
                            
                            dummy_181402 = head_res_181413;
                            dummy_181403 = head_res_181414;
                            dummy_181404 = head_res_181415;
                        }
                        for (int64_t nest_i_185971 = 0; nest_i_185971 < merge_block_sizze_180905; nest_i_185971++) {
                            ((int8_t *) mem_185261)[i_184150 * merge_block_sizze_180905 + nest_i_185971] = dummy_181402;
                        }
                        for (int64_t nest_i_185972 = 0; nest_i_185972 < merge_block_sizze_180905; nest_i_185972++) {
                            ((int64_t *) mem_185264)[i_184150 * merge_block_sizze_180905 + nest_i_185972] = dummy_181403;
                        }
                        for (int64_t nest_i_185973 = 0; nest_i_185973 < merge_block_sizze_180905; nest_i_185973++) {
                            ((int64_t *) mem_185267)[i_184150 * merge_block_sizze_180905 + nest_i_185973] = dummy_181404;
                        }
                        
                        int64_t data_181419;
                        int64_t i_181424 = (int64_t) 0;
                        
                        for (int64_t k_181423 = 0; k_181423 < merge_block_sizze_180905; k_181423++) {
                            int64_t j_181428 = sub64(k_181423, i_181424);
                            bool cond_181429 = j_181428 == j_m_i_181375;
                            bool cond_181430;
                            
                            if (cond_181429) {
                                cond_181430 = 1;
                            } else {
                                bool cond_181431 = slt64(i_181424, j_m_i_181388);
                                bool cond_f_res_181432;
                                
                                if (cond_181431) {
                                    bool x_183917 = sle64((int64_t) 0, j_181428);
                                    bool y_183918 = slt64(j_181428, j_m_i_181375);
                                    bool bounds_check_183919 = x_183917 && y_183918;
                                    bool index_certs_183920;
                                    
                                    if (!bounds_check_183919) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181428, "] out of bounds for array of shape [", (long long) j_m_i_181375, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:375:63-73\n   #10 ftsort.fut:368:1-375:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_183926 = sle64((int64_t) 0, i_181424);
                                    bool bounds_check_183927 = cond_181431 && x_183926;
                                    bool index_certs_183928;
                                    
                                    if (!bounds_check_183927) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_181424, "] out of bounds for array of shape [", (long long) j_m_i_181388, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:375:63-73\n   #10 ftsort.fut:368:1-375:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_183921 = merge_sequential_arg2_181373 + j_181428;
                                    int64_t slice_183922 = start_181141 + slice_183921;
                                    int8_t leq_arg1_183923 = ((int8_t *) mem_param_185217.mem)[slice_183922];
                                    int64_t leq_arg1_183924 = ((int64_t *) mem_param_185220.mem)[slice_183922];
                                    int64_t leq_arg1_183925 = ((int64_t *) mem_param_185223.mem)[slice_183922];
                                    int64_t slice_183929 = defunc_0_f_res_181364 + i_181424;
                                    int64_t slice_183930 = start_181141 + slice_183929;
                                    int8_t leq_arg0_183931 = ((int8_t *) mem_param_185217.mem)[slice_183930];
                                    int64_t leq_arg0_183932 = ((int64_t *) mem_param_185220.mem)[slice_183930];
                                    int64_t leq_arg0_183933 = ((int64_t *) mem_param_185223.mem)[slice_183930];
                                    bool cond_183934 = leq_arg0_183931 == leq_arg1_183923;
                                    bool defunc_0_leq_res_t_res_183935 = sle64(leq_arg0_183932, leq_arg1_183924);
                                    bool defunc_0_leq_res_183936 = sle64(leq_arg0_183933, leq_arg1_183925);
                                    bool x_183937 = cond_183934 && defunc_0_leq_res_t_res_183935;
                                    bool x_183938 = !cond_183934;
                                    bool y_183939 = defunc_0_leq_res_183936 && x_183938;
                                    bool defunc_0_leq_res_183940 = x_183937 || y_183939;
                                    
                                    cond_f_res_181432 = defunc_0_leq_res_183940;
                                } else {
                                    cond_f_res_181432 = 0;
                                }
                                cond_181430 = cond_f_res_181432;
                            }
                            
                            int64_t loopres_181457;
                            int8_t loopres_181458;
                            int64_t loopres_181459;
                            int64_t loopres_181460;
                            
                            if (cond_181430) {
                                bool x_183942 = sle64((int64_t) 0, i_181424);
                                bool y_183943 = slt64(i_181424, j_m_i_181388);
                                bool bounds_check_183944 = x_183942 && y_183943;
                                bool index_certs_183945;
                                
                                if (!bounds_check_183944) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_181424, "] out of bounds for array of shape [", (long long) j_m_i_181388, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:375:63-73\n   #10 ftsort.fut:368:1-375:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_183941 = add64((int64_t) 1, i_181424);
                                int64_t slice_183946 = defunc_0_f_res_181364 + i_181424;
                                int64_t slice_183947 = start_181141 + slice_183946;
                                int8_t tmp_183948 = ((int8_t *) mem_param_185217.mem)[slice_183947];
                                int64_t tmp_183949 = ((int64_t *) mem_param_185220.mem)[slice_183947];
                                int64_t tmp_183950 = ((int64_t *) mem_param_185223.mem)[slice_183947];
                                
                                loopres_181457 = tmp_183941;
                                loopres_181458 = tmp_183948;
                                loopres_181459 = tmp_183949;
                                loopres_181460 = tmp_183950;
                            } else {
                                bool x_181471 = sle64((int64_t) 0, j_181428);
                                bool y_181472 = slt64(j_181428, j_m_i_181375);
                                bool bounds_check_181473 = x_181471 && y_181472;
                                bool index_certs_181474;
                                
                                if (!bounds_check_181473) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181428, "] out of bounds for array of shape [", (long long) j_m_i_181375, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:375:63-73\n   #10 ftsort.fut:368:1-375:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_181475 = merge_sequential_arg2_181373 + j_181428;
                                int64_t slice_181476 = start_181141 + slice_181475;
                                int8_t tmp_181477 = ((int8_t *) mem_param_185217.mem)[slice_181476];
                                int64_t tmp_181478 = ((int64_t *) mem_param_185220.mem)[slice_181476];
                                int64_t tmp_181479 = ((int64_t *) mem_param_185223.mem)[slice_181476];
                                
                                loopres_181457 = i_181424;
                                loopres_181458 = tmp_181477;
                                loopres_181459 = tmp_181478;
                                loopres_181460 = tmp_181479;
                            }
                            ((int8_t *) mem_185261)[i_184150 * merge_block_sizze_180905 + k_181423] = loopres_181458;
                            ((int64_t *) mem_185264)[i_184150 * merge_block_sizze_180905 + k_181423] = loopres_181459;
                            ((int64_t *) mem_185267)[i_184150 * merge_block_sizze_180905 + k_181423] = loopres_181460;
                            
                            int64_t i_tmp_185974 = loopres_181457;
                            
                            i_181424 = i_tmp_185974;
                        }
                        data_181419 = i_181424;
                    }
                    if (memblock_alloc(ctx, &mem_185316, flat_dim_181091, "mem_185316")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_185316.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (uint8_t *) mem_185261, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (int64_t []) {num_blocks_181088, merge_block_sizze_180905});
                    if (memblock_alloc(ctx, &mem_185320, bytes_185263, "mem_185320")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_185320.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (uint64_t *) mem_185264, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (int64_t []) {num_blocks_181088, merge_block_sizze_180905});
                    if (memblock_alloc(ctx, &mem_185324, bytes_185263, "mem_185324")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_185324.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (uint64_t *) mem_185267, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (int64_t []) {num_blocks_181088, merge_block_sizze_180905});
                    if (memblock_set(ctx, &ext_mem_185357, &mem_185316, "mem_185316") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185354, &mem_185320, "mem_185320") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185351, &mem_185324, "mem_185324") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_185225, i_184160 * next_stride_181068, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_185357.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_181068});
                if (memblock_unref(ctx, &ext_mem_185357, "ext_mem_185357") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_185228, i_184160 * next_stride_181068, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185354.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_181068});
                if (memblock_unref(ctx, &ext_mem_185354, "ext_mem_185354") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_185231, i_184160 * next_stride_181068, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185351.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_181068});
                if (memblock_unref(ctx, &ext_mem_185351, "ext_mem_185351") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_185371, bytes_185224, "mem_185371")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_185371.mem, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (uint8_t *) mem_185225, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (int64_t []) {num_merges_181072, next_stride_181068});
            if (memblock_alloc(ctx, &mem_185375, bytes_185227, "mem_185375")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_185375.mem, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (uint64_t *) mem_185228, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (int64_t []) {num_merges_181072, next_stride_181068});
            if (memblock_alloc(ctx, &mem_185379, bytes_185227, "mem_185379")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_185379.mem, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (uint64_t *) mem_185231, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (int64_t []) {num_merges_181072, next_stride_181068});
            
            bool loop_cond_181493 = slt64(next_stride_181068, flat_dim_180900);
            
            if (memblock_set(ctx, &mem_param_tmp_185941, &mem_185371, "mem_185371") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_185942, &mem_185375, "mem_185375") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_185943, &mem_185379, "mem_185379") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_185944 = bytes_185224;
            bool loop_while_tmp_185945 = loop_cond_181493;
            int64_t stride_tmp_185949 = next_stride_181068;
            
            if (memblock_set(ctx, &mem_param_185217, &mem_param_tmp_185941, "mem_param_tmp_185941") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_185220, &mem_param_tmp_185942, "mem_param_tmp_185942") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_185223, &mem_param_tmp_185943, "mem_param_tmp_185943") != 0)
                return 1;
            loop_dz2084Uz2082U_181062 = loop_dz2084Uz2082U_tmp_185944;
            loop_while_181063 = loop_while_tmp_185945;
            stride_181067 = stride_tmp_185949;
        }
        if (memblock_set(ctx, &ext_mem_185389, &mem_param_185217, "mem_param_185217") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185388, &mem_param_185220, "mem_param_185220") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185387, &mem_param_185223, "mem_param_185223") != 0)
            return 1;
        data_181056 = loop_dz2084Uz2082U_181062;
        data_181057 = loop_while_181063;
        data_181061 = stride_181067;
        if (memblock_unref(ctx, &mem_185205, "mem_185205") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185209, "mem_185209") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185213, "mem_185213") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_181496 = slt64(zs_lhs_180884, data_181056);
        bool y_181497 = i_p_m_t_s_leq_w_181496 && zzero_leq_i_p_m_t_s_181510;
        bool ok_or_empty_181498 = y_181497 || empty_slice_181508;
        bool index_certs_181499;
        
        if (!ok_or_empty_181498) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "] out of bounds for array of shape [", (long long) data_181056, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:375:63-73\n   #5  ftsort.fut:368:1-375:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_185398, &ext_mem_185389, "ext_mem_185389") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185395, &ext_mem_185388, "ext_mem_185388") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185392, &ext_mem_185387, "ext_mem_185387") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_185099, "mem_185099") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_185101, "mem_185101") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_185103, "mem_185103") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184307.mem, final_buffer_181515, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_185398.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_181516});
    if (memblock_unref(ctx, &ext_mem_185398, "ext_mem_185398") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184309.mem, final_buffer_181515, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185395.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_181516});
    if (memblock_unref(ctx, &ext_mem_185395, "ext_mem_185395") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184311.mem, final_buffer_181515, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185392.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_181516});
    if (memblock_unref(ctx, &ext_mem_185392, "ext_mem_185392") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185719, &mem_184309, "mem_184309") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185720, &mem_184307, "mem_184307") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185721, &mem_184311, "mem_184311") != 0)
        return 1;
    prim_out_185722 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803;
    if (memblock_set(ctx, &*mem_out_p_186205, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186206, &mem_out_185720, "mem_out_185720") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186207, &mem_out_185721, "mem_out_185721") != 0)
        return 1;
    *out_prim_out_186208 = prim_out_185722;
    
  cleanup:
    {
        free(mem_184322);
        free(mem_184324);
        free(mem_184363);
        free(mem_184366);
        free(mem_184369);
        free(mem_184382);
        free(mem_184384);
        free(mem_184386);
        free(mem_184483);
        free(mem_184486);
        free(mem_184489);
        free(mem_184503);
        free(mem_184505);
        free(mem_184519);
        free(mem_184522);
        free(mem_184525);
        free(mem_184667);
        free(mem_184669);
        free(mem_184684);
        free(mem_184686);
        free(mem_184689);
        free(mem_184692);
        free(mem_184726);
        free(mem_184729);
        free(mem_184732);
        free(mem_184745);
        free(mem_184747);
        free(mem_184749);
        free(mem_184846);
        free(mem_184849);
        free(mem_184852);
        free(mem_184866);
        free(mem_184868);
        free(mem_184882);
        free(mem_184885);
        free(mem_184888);
        free(mem_185105);
        free(mem_185108);
        free(mem_185111);
        free(mem_185124);
        free(mem_185126);
        free(mem_185128);
        free(mem_185225);
        free(mem_185228);
        free(mem_185231);
        free(mem_185245);
        free(mem_185247);
        free(mem_185261);
        free(mem_185264);
        free(mem_185267);
        if (memblock_unref(ctx, &mem_param_tmp_185943, "mem_param_tmp_185943") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185942, "mem_param_tmp_185942") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185941, "mem_param_tmp_185941") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185379, "mem_185379") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185375, "mem_185375") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185371, "mem_185371") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185324, "mem_185324") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185320, "mem_185320") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185316, "mem_185316") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185330, "mem_185330") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185328, "mem_185328") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185326, "mem_185326") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185351, "ext_mem_185351") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185354, "ext_mem_185354") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185357, "ext_mem_185357") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_185223, "mem_param_185223") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_185220, "mem_param_185220") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_185217, "mem_param_185217") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185387, "ext_mem_185387") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185388, "ext_mem_185388") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185389, "ext_mem_185389") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185213, "mem_185213") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185209, "mem_185209") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185205, "mem_185205") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185392, "ext_mem_185392") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185395, "ext_mem_185395") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185398, "ext_mem_185398") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185103, "mem_185103") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185101, "mem_185101") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185099, "mem_185099") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185877, "mem_param_tmp_185877") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185876, "mem_param_tmp_185876") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185875, "mem_param_tmp_185875") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184637, "mem_184637") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184633, "mem_184633") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184629, "mem_184629") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184582, "mem_184582") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184578, "mem_184578") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184574, "mem_184574") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184588, "mem_184588") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184586, "mem_184586") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184584, "mem_184584") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184609, "ext_mem_184609") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184612, "ext_mem_184612") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184615, "ext_mem_184615") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184481, "mem_param_184481") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184478, "mem_param_184478") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184475, "mem_param_184475") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184645, "ext_mem_184645") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184646, "ext_mem_184646") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184647, "ext_mem_184647") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184471, "mem_184471") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184467, "mem_184467") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184463, "mem_184463") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184650, "ext_mem_184650") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184653, "ext_mem_184653") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184656, "ext_mem_184656") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184361, "mem_184361") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184359, "mem_184359") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184357, "mem_184357") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184341, "mem_184341") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184339, "mem_184339") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184337, "mem_184337") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185048, "mem_185048") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185047, "mem_185047") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185045, "mem_185045") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185783, "mem_param_tmp_185783") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185782, "mem_param_tmp_185782") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185781, "mem_param_tmp_185781") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185000, "mem_185000") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184996, "mem_184996") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184992, "mem_184992") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184945, "mem_184945") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184941, "mem_184941") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184937, "mem_184937") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184951, "mem_184951") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184949, "mem_184949") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184947, "mem_184947") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184972, "ext_mem_184972") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184975, "ext_mem_184975") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184978, "ext_mem_184978") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184844, "mem_param_184844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184841, "mem_param_184841") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184838, "mem_param_184838") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185008, "ext_mem_185008") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185009, "ext_mem_185009") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185010, "ext_mem_185010") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184834, "mem_184834") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184830, "mem_184830") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184826, "mem_184826") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185013, "ext_mem_185013") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185016, "ext_mem_185016") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185019, "ext_mem_185019") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184724, "mem_184724") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184722, "mem_184722") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184720, "mem_184720") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185069, "ext_mem_185069") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185072, "ext_mem_185072") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185075, "ext_mem_185075") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184311, "mem_184311") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184309, "mem_184309") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184307, "mem_184307") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185721, "mem_out_185721") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185720, "mem_out_185720") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_short(struct futhark_context *ctx, struct memblock *mem_out_p_186259, struct memblock *mem_out_p_186260, struct memblock *mem_out_p_186261, int64_t *out_prim_out_186262, struct memblock a_list_mem_184305, struct memblock b_list_mem_184306, int64_t na_122199, int64_t nb_122200, int64_t window_sizze_122201, int64_t threads_122202, bool inParallel_122205)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_184322_cached_sizze_186263 = 0;
    unsigned char *mem_184322 = NULL;
    int64_t mem_184324_cached_sizze_186264 = 0;
    unsigned char *mem_184324 = NULL;
    int64_t mem_184363_cached_sizze_186265 = 0;
    unsigned char *mem_184363 = NULL;
    int64_t mem_184366_cached_sizze_186266 = 0;
    unsigned char *mem_184366 = NULL;
    int64_t mem_184369_cached_sizze_186267 = 0;
    unsigned char *mem_184369 = NULL;
    int64_t mem_184382_cached_sizze_186268 = 0;
    unsigned char *mem_184382 = NULL;
    int64_t mem_184384_cached_sizze_186269 = 0;
    unsigned char *mem_184384 = NULL;
    int64_t mem_184386_cached_sizze_186270 = 0;
    unsigned char *mem_184386 = NULL;
    int64_t mem_184483_cached_sizze_186271 = 0;
    unsigned char *mem_184483 = NULL;
    int64_t mem_184486_cached_sizze_186272 = 0;
    unsigned char *mem_184486 = NULL;
    int64_t mem_184489_cached_sizze_186273 = 0;
    unsigned char *mem_184489 = NULL;
    int64_t mem_184503_cached_sizze_186274 = 0;
    unsigned char *mem_184503 = NULL;
    int64_t mem_184505_cached_sizze_186275 = 0;
    unsigned char *mem_184505 = NULL;
    int64_t mem_184519_cached_sizze_186276 = 0;
    unsigned char *mem_184519 = NULL;
    int64_t mem_184522_cached_sizze_186277 = 0;
    unsigned char *mem_184522 = NULL;
    int64_t mem_184525_cached_sizze_186278 = 0;
    unsigned char *mem_184525 = NULL;
    int64_t mem_184667_cached_sizze_186279 = 0;
    unsigned char *mem_184667 = NULL;
    int64_t mem_184669_cached_sizze_186280 = 0;
    unsigned char *mem_184669 = NULL;
    int64_t mem_184684_cached_sizze_186281 = 0;
    unsigned char *mem_184684 = NULL;
    int64_t mem_184686_cached_sizze_186282 = 0;
    unsigned char *mem_184686 = NULL;
    int64_t mem_184689_cached_sizze_186283 = 0;
    unsigned char *mem_184689 = NULL;
    int64_t mem_184692_cached_sizze_186284 = 0;
    unsigned char *mem_184692 = NULL;
    int64_t mem_184726_cached_sizze_186285 = 0;
    unsigned char *mem_184726 = NULL;
    int64_t mem_184729_cached_sizze_186286 = 0;
    unsigned char *mem_184729 = NULL;
    int64_t mem_184732_cached_sizze_186287 = 0;
    unsigned char *mem_184732 = NULL;
    int64_t mem_184745_cached_sizze_186288 = 0;
    unsigned char *mem_184745 = NULL;
    int64_t mem_184747_cached_sizze_186289 = 0;
    unsigned char *mem_184747 = NULL;
    int64_t mem_184749_cached_sizze_186290 = 0;
    unsigned char *mem_184749 = NULL;
    int64_t mem_184846_cached_sizze_186291 = 0;
    unsigned char *mem_184846 = NULL;
    int64_t mem_184849_cached_sizze_186292 = 0;
    unsigned char *mem_184849 = NULL;
    int64_t mem_184852_cached_sizze_186293 = 0;
    unsigned char *mem_184852 = NULL;
    int64_t mem_184866_cached_sizze_186294 = 0;
    unsigned char *mem_184866 = NULL;
    int64_t mem_184868_cached_sizze_186295 = 0;
    unsigned char *mem_184868 = NULL;
    int64_t mem_184882_cached_sizze_186296 = 0;
    unsigned char *mem_184882 = NULL;
    int64_t mem_184885_cached_sizze_186297 = 0;
    unsigned char *mem_184885 = NULL;
    int64_t mem_184888_cached_sizze_186298 = 0;
    unsigned char *mem_184888 = NULL;
    int64_t mem_185105_cached_sizze_186299 = 0;
    unsigned char *mem_185105 = NULL;
    int64_t mem_185108_cached_sizze_186300 = 0;
    unsigned char *mem_185108 = NULL;
    int64_t mem_185111_cached_sizze_186301 = 0;
    unsigned char *mem_185111 = NULL;
    int64_t mem_185124_cached_sizze_186302 = 0;
    unsigned char *mem_185124 = NULL;
    int64_t mem_185126_cached_sizze_186303 = 0;
    unsigned char *mem_185126 = NULL;
    int64_t mem_185128_cached_sizze_186304 = 0;
    unsigned char *mem_185128 = NULL;
    int64_t mem_185225_cached_sizze_186305 = 0;
    unsigned char *mem_185225 = NULL;
    int64_t mem_185228_cached_sizze_186306 = 0;
    unsigned char *mem_185228 = NULL;
    int64_t mem_185231_cached_sizze_186307 = 0;
    unsigned char *mem_185231 = NULL;
    int64_t mem_185245_cached_sizze_186308 = 0;
    unsigned char *mem_185245 = NULL;
    int64_t mem_185247_cached_sizze_186309 = 0;
    unsigned char *mem_185247 = NULL;
    int64_t mem_185261_cached_sizze_186310 = 0;
    unsigned char *mem_185261 = NULL;
    int64_t mem_185264_cached_sizze_186311 = 0;
    unsigned char *mem_185264 = NULL;
    int64_t mem_185267_cached_sizze_186312 = 0;
    unsigned char *mem_185267 = NULL;
    struct memblock mem_param_tmp_185943;
    
    mem_param_tmp_185943.references = NULL;
    
    struct memblock mem_param_tmp_185942;
    
    mem_param_tmp_185942.references = NULL;
    
    struct memblock mem_param_tmp_185941;
    
    mem_param_tmp_185941.references = NULL;
    
    struct memblock mem_185379;
    
    mem_185379.references = NULL;
    
    struct memblock mem_185375;
    
    mem_185375.references = NULL;
    
    struct memblock mem_185371;
    
    mem_185371.references = NULL;
    
    struct memblock mem_185324;
    
    mem_185324.references = NULL;
    
    struct memblock mem_185320;
    
    mem_185320.references = NULL;
    
    struct memblock mem_185316;
    
    mem_185316.references = NULL;
    
    struct memblock mem_185330;
    
    mem_185330.references = NULL;
    
    struct memblock mem_185328;
    
    mem_185328.references = NULL;
    
    struct memblock mem_185326;
    
    mem_185326.references = NULL;
    
    struct memblock ext_mem_185351;
    
    ext_mem_185351.references = NULL;
    
    struct memblock ext_mem_185354;
    
    ext_mem_185354.references = NULL;
    
    struct memblock ext_mem_185357;
    
    ext_mem_185357.references = NULL;
    
    struct memblock mem_param_185223;
    
    mem_param_185223.references = NULL;
    
    struct memblock mem_param_185220;
    
    mem_param_185220.references = NULL;
    
    struct memblock mem_param_185217;
    
    mem_param_185217.references = NULL;
    
    struct memblock ext_mem_185387;
    
    ext_mem_185387.references = NULL;
    
    struct memblock ext_mem_185388;
    
    ext_mem_185388.references = NULL;
    
    struct memblock ext_mem_185389;
    
    ext_mem_185389.references = NULL;
    
    struct memblock mem_185213;
    
    mem_185213.references = NULL;
    
    struct memblock mem_185209;
    
    mem_185209.references = NULL;
    
    struct memblock mem_185205;
    
    mem_185205.references = NULL;
    
    struct memblock ext_mem_185392;
    
    ext_mem_185392.references = NULL;
    
    struct memblock ext_mem_185395;
    
    ext_mem_185395.references = NULL;
    
    struct memblock ext_mem_185398;
    
    ext_mem_185398.references = NULL;
    
    struct memblock mem_185103;
    
    mem_185103.references = NULL;
    
    struct memblock mem_185101;
    
    mem_185101.references = NULL;
    
    struct memblock mem_185099;
    
    mem_185099.references = NULL;
    
    struct memblock mem_param_tmp_185877;
    
    mem_param_tmp_185877.references = NULL;
    
    struct memblock mem_param_tmp_185876;
    
    mem_param_tmp_185876.references = NULL;
    
    struct memblock mem_param_tmp_185875;
    
    mem_param_tmp_185875.references = NULL;
    
    struct memblock mem_184637;
    
    mem_184637.references = NULL;
    
    struct memblock mem_184633;
    
    mem_184633.references = NULL;
    
    struct memblock mem_184629;
    
    mem_184629.references = NULL;
    
    struct memblock mem_184582;
    
    mem_184582.references = NULL;
    
    struct memblock mem_184578;
    
    mem_184578.references = NULL;
    
    struct memblock mem_184574;
    
    mem_184574.references = NULL;
    
    struct memblock mem_184588;
    
    mem_184588.references = NULL;
    
    struct memblock mem_184586;
    
    mem_184586.references = NULL;
    
    struct memblock mem_184584;
    
    mem_184584.references = NULL;
    
    struct memblock ext_mem_184609;
    
    ext_mem_184609.references = NULL;
    
    struct memblock ext_mem_184612;
    
    ext_mem_184612.references = NULL;
    
    struct memblock ext_mem_184615;
    
    ext_mem_184615.references = NULL;
    
    struct memblock mem_param_184481;
    
    mem_param_184481.references = NULL;
    
    struct memblock mem_param_184478;
    
    mem_param_184478.references = NULL;
    
    struct memblock mem_param_184475;
    
    mem_param_184475.references = NULL;
    
    struct memblock ext_mem_184645;
    
    ext_mem_184645.references = NULL;
    
    struct memblock ext_mem_184646;
    
    ext_mem_184646.references = NULL;
    
    struct memblock ext_mem_184647;
    
    ext_mem_184647.references = NULL;
    
    struct memblock mem_184471;
    
    mem_184471.references = NULL;
    
    struct memblock mem_184467;
    
    mem_184467.references = NULL;
    
    struct memblock mem_184463;
    
    mem_184463.references = NULL;
    
    struct memblock ext_mem_184650;
    
    ext_mem_184650.references = NULL;
    
    struct memblock ext_mem_184653;
    
    ext_mem_184653.references = NULL;
    
    struct memblock ext_mem_184656;
    
    ext_mem_184656.references = NULL;
    
    struct memblock mem_184361;
    
    mem_184361.references = NULL;
    
    struct memblock mem_184359;
    
    mem_184359.references = NULL;
    
    struct memblock mem_184357;
    
    mem_184357.references = NULL;
    
    struct memblock mem_184341;
    
    mem_184341.references = NULL;
    
    struct memblock mem_184339;
    
    mem_184339.references = NULL;
    
    struct memblock mem_184337;
    
    mem_184337.references = NULL;
    
    struct memblock mem_185048;
    
    mem_185048.references = NULL;
    
    struct memblock mem_185047;
    
    mem_185047.references = NULL;
    
    struct memblock mem_185045;
    
    mem_185045.references = NULL;
    
    struct memblock mem_param_tmp_185783;
    
    mem_param_tmp_185783.references = NULL;
    
    struct memblock mem_param_tmp_185782;
    
    mem_param_tmp_185782.references = NULL;
    
    struct memblock mem_param_tmp_185781;
    
    mem_param_tmp_185781.references = NULL;
    
    struct memblock mem_185000;
    
    mem_185000.references = NULL;
    
    struct memblock mem_184996;
    
    mem_184996.references = NULL;
    
    struct memblock mem_184992;
    
    mem_184992.references = NULL;
    
    struct memblock mem_184945;
    
    mem_184945.references = NULL;
    
    struct memblock mem_184941;
    
    mem_184941.references = NULL;
    
    struct memblock mem_184937;
    
    mem_184937.references = NULL;
    
    struct memblock mem_184951;
    
    mem_184951.references = NULL;
    
    struct memblock mem_184949;
    
    mem_184949.references = NULL;
    
    struct memblock mem_184947;
    
    mem_184947.references = NULL;
    
    struct memblock ext_mem_184972;
    
    ext_mem_184972.references = NULL;
    
    struct memblock ext_mem_184975;
    
    ext_mem_184975.references = NULL;
    
    struct memblock ext_mem_184978;
    
    ext_mem_184978.references = NULL;
    
    struct memblock mem_param_184844;
    
    mem_param_184844.references = NULL;
    
    struct memblock mem_param_184841;
    
    mem_param_184841.references = NULL;
    
    struct memblock mem_param_184838;
    
    mem_param_184838.references = NULL;
    
    struct memblock ext_mem_185008;
    
    ext_mem_185008.references = NULL;
    
    struct memblock ext_mem_185009;
    
    ext_mem_185009.references = NULL;
    
    struct memblock ext_mem_185010;
    
    ext_mem_185010.references = NULL;
    
    struct memblock mem_184834;
    
    mem_184834.references = NULL;
    
    struct memblock mem_184830;
    
    mem_184830.references = NULL;
    
    struct memblock mem_184826;
    
    mem_184826.references = NULL;
    
    struct memblock ext_mem_185013;
    
    ext_mem_185013.references = NULL;
    
    struct memblock ext_mem_185016;
    
    ext_mem_185016.references = NULL;
    
    struct memblock ext_mem_185019;
    
    ext_mem_185019.references = NULL;
    
    struct memblock mem_184724;
    
    mem_184724.references = NULL;
    
    struct memblock mem_184722;
    
    mem_184722.references = NULL;
    
    struct memblock mem_184720;
    
    mem_184720.references = NULL;
    
    struct memblock ext_mem_185069;
    
    ext_mem_185069.references = NULL;
    
    struct memblock ext_mem_185072;
    
    ext_mem_185072.references = NULL;
    
    struct memblock ext_mem_185075;
    
    ext_mem_185075.references = NULL;
    
    struct memblock mem_184311;
    
    mem_184311.references = NULL;
    
    struct memblock mem_184309;
    
    mem_184309.references = NULL;
    
    struct memblock mem_184307;
    
    mem_184307.references = NULL;
    
    struct memblock mem_out_185721;
    
    mem_out_185721.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t prim_out_185722;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803 = add64(na_122199, nb_122200);
    
    if (memblock_alloc(ctx, &mem_184307, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, "mem_184307")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_185723 = 0; nest_i_185723 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803; nest_i_185723++) {
        ((int8_t *) mem_184307.mem)[nest_i_185723] = (int8_t) -1;
    }
    
    int64_t bytes_184308 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803;
    
    if (memblock_alloc(ctx, &mem_184309, bytes_184308, "mem_184309")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_185724 = 0; nest_i_185724 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803; nest_i_185724++) {
        ((int64_t *) mem_184309.mem)[nest_i_185724] = (int64_t) -1;
    }
    
    int64_t bytes_184310 = (int64_t) 2 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803;
    
    if (memblock_alloc(ctx, &mem_184311, bytes_184310, "mem_184311")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_185725 = 0; nest_i_185725 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803; nest_i_185725++) {
        ((int16_t *) mem_184311.mem)[nest_i_185725] = (int16_t) 0;
    }
    
    int64_t zl_rhs_178807 = sub64(na_122199, window_sizze_122201);
    bool cond_178808 = slt64((int64_t) 0, zl_rhs_178807);
    int64_t zl_rhs_178809 = sub64(nb_122200, window_sizze_122201);
    bool loop_cond_t_res_178810 = slt64((int64_t) 0, zl_rhs_178809);
    bool x_178811 = cond_178808 && loop_cond_t_res_178810;
    bool empty_slice_178812 = window_sizze_122201 == (int64_t) 0;
    int64_t m_178813 = sub64(window_sizze_122201, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838 = add64((int64_t) 1, threads_122202);
    int64_t partitionFunc_arg0_179839 = mul64((int64_t) 2, threads_122202);
    bool y_179841 = slt64((int64_t) 0, window_sizze_122201);
    bool loop_cond_180078 = slt64((int64_t) 0, threads_122202);
    bool zzero_178858 = threads_122202 == (int64_t) 0;
    bool nonzzero_178859 = !zzero_178858;
    bool loop_not_taken_181607 = !inParallel_122205;
    bool protect_assert_disj_181608 = nonzzero_178859 || loop_not_taken_181607;
    bool loop_not_taken_181697 = !x_178811;
    bool protect_assert_disj_181698 = protect_assert_disj_181608 || loop_not_taken_181697;
    bool nonzzero_cert_178860;
    
    if (!protect_assert_disj_181698) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:251:24-32\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_178861 = sdiv_safe64(window_sizze_122201, threads_122202);
    int64_t perThread_178862 = add64((int64_t) 1, zp_rhs_178861);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_178863 = mul64(threads_122202, perThread_178862);
    bool protect_assert_disj_181744 = inParallel_122205 || y_179841;
    bool protect_assert_disj_181748 = loop_not_taken_181697 || protect_assert_disj_181744;
    bool index_certs_179842;
    
    if (!protect_assert_disj_181748) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:143:20-25\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_179855 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, (int64_t) 1);
    bool y_180805 = slt64(threads_122202, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
    bool protect_assert_disj_181713 = y_179841 || loop_not_taken_181607;
    bool protect_assert_disj_181752 = loop_not_taken_181697 || protect_assert_disj_181713;
    bool index_certs_178866;
    
    if (!protect_assert_disj_181752) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:143:20-25\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_179857 = !bounds_invalid_upwards_179855;
    bool protect_assert_disj_181760 = inParallel_122205 || y_180805;
    bool protect_assert_disj_181762 = loop_not_taken_181697 || protect_assert_disj_181760;
    bool index_certs_180807;
    
    if (!protect_assert_disj_181762) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_122202, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:241:7-31\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_181756 = y_180805 || loop_not_taken_181607;
    bool protect_assert_disj_181764 = loop_not_taken_181697 || protect_assert_disj_181756;
    bool index_certs_179820;
    
    if (!protect_assert_disj_181764) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_122202, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:279:7-31\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_181772 = inParallel_122205 || valid_179857;
    bool protect_assert_disj_181774 = loop_not_taken_181697 || protect_assert_disj_181772;
    bool range_valid_c_179858;
    
    if (!protect_assert_disj_181774) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, " is invalid.", "-> #0  ftsort.fut:145:36-50\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_181616 = sle64((int64_t) 1, threads_122202);
    bool protect_assert_disj_181768 = valid_179857 || loop_not_taken_181607;
    bool protect_assert_disj_181776 = loop_not_taken_181697 || protect_assert_disj_181768;
    bool range_valid_c_178873;
    
    if (!protect_assert_disj_181776) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, " is invalid.", "-> #0  ftsort.fut:145:36-50\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_179860 = add64(window_sizze_122201, window_sizze_122201);
    bool zzero_179861 = partitionFunc_arg0_179839 == (int64_t) 0;
    int64_t index_concat_i_181617 = sub64(threads_122202, (int64_t) 1);
    bool nonzzero_179862 = !zzero_179861;
    bool protect_assert_disj_181784 = inParallel_122205 || nonzzero_179862;
    bool protect_assert_disj_181790 = loop_not_taken_181697 || protect_assert_disj_181784;
    bool nonzzero_cert_179863;
    
    if (!protect_assert_disj_181790) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:148:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_181780 = nonzzero_179862 || loop_not_taken_181607;
    bool protect_assert_disj_181796 = loop_not_taken_181697 || protect_assert_disj_181780;
    bool nonzzero_cert_178878;
    
    if (!protect_assert_disj_181796) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:148:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184321 = (int64_t) 8 * threads_122202;
    int64_t bytes_184338 = (int64_t) 8 * window_sizze_122201;
    int64_t bytes_184340 = (int64_t) 2 * window_sizze_122201;
    int64_t bytes_184683 = perThread_178862 * bytes_184321;
    int64_t bytes_184691 = perThread_178862 * partitionFunc_arg0_179839;
    bool defunc_0_merge_pipeline_res_178814;
    int64_t defunc_0_merge_pipeline_res_178818;
    int64_t defunc_0_merge_pipeline_res_178819;
    bool loop_while_178820;
    int64_t p_178824;
    int64_t p_178825;
    
    loop_while_178820 = x_178811;
    p_178824 = (int64_t) 0;
    p_178825 = (int64_t) 0;
    while (loop_while_178820) {
        int64_t ubs_178826 = add64(window_sizze_122201, p_178824);
        int64_t ubs_178827 = add64(window_sizze_122201, p_178825);
        int64_t ind_bottom_178828 = add64(p_178824, p_178825);
        int64_t ind_top_178829 = add64(window_sizze_122201, ind_bottom_178828);
        int64_t i_p_m_t_s_178830 = add64(m_178813, p_178824);
        bool zzero_leq_i_p_m_t_s_178831 = sle64((int64_t) 0, i_p_m_t_s_178830);
        bool i_p_m_t_s_leq_w_178832 = slt64(i_p_m_t_s_178830, na_122199);
        bool zzero_lte_i_178833 = sle64((int64_t) 0, p_178824);
        bool i_lte_j_178834 = sle64(p_178824, ubs_178826);
        bool y_178835 = i_p_m_t_s_leq_w_178832 && zzero_lte_i_178833;
        bool y_178836 = zzero_leq_i_p_m_t_s_178831 && y_178835;
        bool forwards_ok_178837 = i_lte_j_178834 && y_178836;
        bool ok_or_empty_178838 = empty_slice_178812 || forwards_ok_178837;
        bool index_certs_178839;
        
        if (!ok_or_empty_178838) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_178824, ":", (long long) ubs_178826, "] out of bounds for array of shape [", (long long) na_122199, "].", "-> #0  ftsort.fut:312:14-35\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_178841 = add64(m_178813, p_178825);
        bool zzero_leq_i_p_m_t_s_178842 = sle64((int64_t) 0, i_p_m_t_s_178841);
        bool i_p_m_t_s_leq_w_178843 = slt64(i_p_m_t_s_178841, nb_122200);
        bool zzero_lte_i_178844 = sle64((int64_t) 0, p_178825);
        bool i_lte_j_178845 = sle64(p_178825, ubs_178827);
        bool y_178846 = i_p_m_t_s_leq_w_178843 && zzero_lte_i_178844;
        bool y_178847 = zzero_leq_i_p_m_t_s_178842 && y_178846;
        bool forwards_ok_178848 = i_lte_j_178845 && y_178847;
        bool ok_or_empty_178849 = empty_slice_178812 || forwards_ok_178848;
        bool index_certs_178850;
        
        if (!ok_or_empty_178849) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_178825, ":", (long long) ubs_178827, "] out of bounds for array of shape [", (long long) nb_122200, "].", "-> #0  ftsort.fut:313:14-35\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_180819 = add64(m_178813, ind_bottom_178828);
        bool zzero_leq_i_p_m_t_s_180820 = sle64((int64_t) 0, i_p_m_t_s_180819);
        bool i_p_m_t_s_leq_w_180821 = slt64(i_p_m_t_s_180819, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803);
        bool zzero_lte_i_180822 = sle64((int64_t) 0, ind_bottom_178828);
        bool i_lte_j_180823 = sle64(ind_bottom_178828, ind_top_178829);
        bool y_180824 = i_p_m_t_s_leq_w_180821 && zzero_lte_i_180822;
        bool y_180825 = zzero_leq_i_p_m_t_s_180820 && y_180824;
        bool forwards_ok_180826 = i_lte_j_180823 && y_180825;
        bool ok_or_empty_180827 = empty_slice_178812 || forwards_ok_180826;
        bool index_certs_180828;
        
        if (!ok_or_empty_180827) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_178828, ":", (long long) ind_top_178829, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, "].", "-> #0  ftsort.fut:322:21-79\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_178852;
        int64_t loopres_178853;
        
        if (inParallel_122205) {
            int16_t leq_lhs_182277 = ((int16_t *) a_list_mem_184305.mem)[p_178824];
            int16_t leq_rhs_182278 = ((int16_t *) b_list_mem_184306.mem)[p_178825];
            bool defunc_0_leq_res_182279 = sle16(leq_lhs_182277, leq_rhs_182278);
            int16_t lowest_182280;
            
            if (defunc_0_leq_res_182279) {
                lowest_182280 = leq_lhs_182277;
            } else {
                lowest_182280 = leq_rhs_182278;
            }
            if (mem_184667_cached_sizze_186279 < bytes_184321) {
                err = lexical_realloc(ctx, &mem_184667, &mem_184667_cached_sizze_186279, bytes_184321);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184669_cached_sizze_186280 < bytes_184321) {
                err = lexical_realloc(ctx, &mem_184669, &mem_184669_cached_sizze_186280, bytes_184321);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_183969 = 0; i_183969 < threads_122202; i_183969++) {
                int64_t index_primexp_184241 = add64((int64_t) 1, i_183969);
                int64_t zs_lhs_182285 = mul64(zt_rhs_179860, index_primexp_184241);
                int64_t index_182286 = sdiv64(zs_lhs_182285, partitionFunc_arg0_179839);
                bool cond_182287 = slt64(window_sizze_122201, index_182286);
                int64_t loop_over_182288;
                
                if (cond_182287) {
                    loop_over_182288 = window_sizze_122201;
                } else {
                    loop_over_182288 = index_182286;
                }
                
                int64_t loop_over_182289;
                
                if (cond_182287) {
                    int64_t loop_over_t_res_182290 = sub64(index_182286, window_sizze_122201);
                    
                    loop_over_182289 = loop_over_t_res_182290;
                } else {
                    loop_over_182289 = (int64_t) 0;
                }
                
                int64_t loop_over_182291;
                
                if (cond_182287) {
                    int64_t zm_lhs_182292 = sub64(index_182286, window_sizze_122201);
                    int64_t loop_over_t_res_182293 = sub64(zm_lhs_182292, (int64_t) 1);
                    
                    loop_over_182291 = loop_over_t_res_182293;
                } else {
                    loop_over_182291 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_182294;
                int64_t defunc_0_f_res_182295;
                int64_t defunc_0_f_res_182296;
                int64_t defunc_0_f_res_182297;
                bool loop_while_182298;
                int64_t p_182299;
                int64_t p_182300;
                int64_t p_182301;
                
                loop_while_182298 = 1;
                p_182299 = loop_over_182291;
                p_182300 = loop_over_182288;
                p_182301 = loop_over_182289;
                while (loop_while_182298) {
                    int64_t zs_lhs_182302 = sub64(p_182300, p_182299);
                    int64_t offset_182303 = sdiv64(zs_lhs_182302, (int64_t) 2);
                    int64_t ai_182304 = sub64(p_182300, offset_182303);
                    int64_t max_arg1_182305 = add64(p_182301, offset_182303);
                    int64_t max_res_182306 = smax64((int64_t) 0, max_arg1_182305);
                    bool cond_182307 = slt64((int64_t) 0, max_res_182306);
                    int16_t b_prev_182308;
                    
                    if (cond_182307) {
                        int64_t tmp_182309 = sub64(max_res_182306, (int64_t) 1);
                        bool x_182310 = sle64((int64_t) 0, tmp_182309);
                        bool y_182311 = slt64(tmp_182309, window_sizze_122201);
                        bool bounds_check_182312 = x_182310 && y_182311;
                        bool index_certs_182313;
                        
                        if (!bounds_check_182312) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_182309, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:160:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_182314 = p_178825 + tmp_182309;
                        int16_t b_prev_t_res_182315 = ((int16_t *) b_list_mem_184306.mem)[slice_182314];
                        
                        b_prev_182308 = b_prev_t_res_182315;
                    } else {
                        b_prev_182308 = lowest_182280;
                    }
                    
                    bool cond_182316 = sle64(ai_182304, (int64_t) 0);
                    int64_t loopres_182317;
                    int64_t loopres_182318;
                    int64_t loopres_182319;
                    bool loopres_182320;
                    
                    if (cond_182316) {
                        loopres_182317 = p_182299;
                        loopres_182318 = (int64_t) 0;
                        loopres_182319 = max_res_182306;
                        loopres_182320 = 0;
                    } else {
                        bool cond_182321 = sle64(window_sizze_122201, max_res_182306);
                        int64_t loopres_f_res_182322;
                        int64_t loopres_f_res_182323;
                        int64_t loopres_f_res_182324;
                        bool loopres_f_res_182325;
                        
                        if (cond_182321) {
                            int64_t min_res_182327 = smin64(m_178813, ai_182304);
                            bool x_182328 = sle64((int64_t) 0, m_178813);
                            bool y_182329 = slt64(m_178813, window_sizze_122201);
                            bool bounds_check_182330 = x_182328 && y_182329;
                            bool index_certs_182331;
                            
                            if (!bounds_check_182330) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_178813, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:171:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_182334 = sle64((int64_t) 0, min_res_182327);
                            bool y_182335 = slt64(min_res_182327, window_sizze_122201);
                            bool bounds_check_182336 = x_182334 && y_182335;
                            bool index_certs_182337;
                            
                            if (!bounds_check_182336) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_182327, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:171:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int16_t leq_lhs_182333 = ((int16_t *) b_list_mem_184306.mem)[i_p_m_t_s_178841];
                            int64_t slice_182338 = p_178824 + min_res_182327;
                            int16_t leq_rhs_182339 = ((int16_t *) a_list_mem_184305.mem)[slice_182338];
                            bool defunc_0_leq_res_182340 = sle16(leq_lhs_182333, leq_rhs_182339);
                            int64_t loopres_f_res_t_res_182341;
                            
                            if (defunc_0_leq_res_182340) {
                                loopres_f_res_t_res_182341 = ai_182304;
                            } else {
                                loopres_f_res_t_res_182341 = p_182300;
                            }
                            
                            bool x_182342 = !defunc_0_leq_res_182340;
                            int64_t loopres_f_res_t_res_182343;
                            
                            if (defunc_0_leq_res_182340) {
                                loopres_f_res_t_res_182343 = window_sizze_122201;
                            } else {
                                int64_t tmp_182344 = sub64(m_178813, offset_182303);
                                
                                loopres_f_res_t_res_182343 = tmp_182344;
                            }
                            loopres_f_res_182322 = p_182299;
                            loopres_f_res_182323 = loopres_f_res_t_res_182341;
                            loopres_f_res_182324 = loopres_f_res_t_res_182343;
                            loopres_f_res_182325 = x_182342;
                        } else {
                            bool cond_182345 = sle64(window_sizze_122201, ai_182304);
                            int64_t loopres_f_res_f_res_182346;
                            int64_t loopres_f_res_f_res_182347;
                            int64_t loopres_f_res_f_res_182348;
                            bool loopres_f_res_f_res_182349;
                            
                            if (cond_182345) {
                                int64_t min_res_182351 = smin64(m_178813, max_res_182306);
                                bool x_182352 = sle64((int64_t) 0, m_178813);
                                bool y_182353 = slt64(m_178813, window_sizze_122201);
                                bool bounds_check_182354 = x_182352 && y_182353;
                                bool index_certs_182355;
                                
                                if (!bounds_check_182354) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_178813, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:178:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_182358 = sle64((int64_t) 0, min_res_182351);
                                bool y_182359 = slt64(min_res_182351, window_sizze_122201);
                                bool bounds_check_182360 = x_182358 && y_182359;
                                bool index_certs_182361;
                                
                                if (!bounds_check_182360) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_182351, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:178:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int16_t leq_lhs_182357 = ((int16_t *) a_list_mem_184305.mem)[i_p_m_t_s_178830];
                                int64_t slice_182362 = p_178825 + min_res_182351;
                                int16_t leq_rhs_182363 = ((int16_t *) b_list_mem_184306.mem)[slice_182362];
                                bool defunc_0_leq_res_182364 = sle16(leq_lhs_182357, leq_rhs_182363);
                                int64_t loopres_f_res_f_res_t_res_182365;
                                
                                if (defunc_0_leq_res_182364) {
                                    loopres_f_res_f_res_t_res_182365 = max_res_182306;
                                } else {
                                    loopres_f_res_f_res_t_res_182365 = p_182301;
                                }
                                
                                bool x_182366 = !defunc_0_leq_res_182364;
                                int64_t loopres_f_res_f_res_t_res_182367;
                                
                                if (defunc_0_leq_res_182364) {
                                    loopres_f_res_f_res_t_res_182367 = window_sizze_122201;
                                } else {
                                    loopres_f_res_f_res_t_res_182367 = m_178813;
                                }
                                loopres_f_res_f_res_182346 = p_182299;
                                loopres_f_res_f_res_182347 = loopres_f_res_f_res_t_res_182367;
                                loopres_f_res_f_res_182348 = loopres_f_res_f_res_t_res_182365;
                                loopres_f_res_f_res_182349 = x_182366;
                            } else {
                                bool cond_182368 = sle64(p_182300, p_182299);
                                int64_t loopres_f_res_f_res_f_res_182369;
                                int64_t loopres_f_res_f_res_f_res_182370;
                                int64_t loopres_f_res_f_res_f_res_182371;
                                bool loopres_f_res_f_res_f_res_182372;
                                
                                if (cond_182368) {
                                    bool cond_182373 = slt64(ai_182304, window_sizze_122201);
                                    int64_t ai_182374;
                                    
                                    if (cond_182373) {
                                        ai_182374 = ai_182304;
                                    } else {
                                        ai_182374 = m_178813;
                                    }
                                    
                                    bool x_182387 = sle64((int64_t) 0, ai_182374);
                                    bool y_182388 = slt64(ai_182374, window_sizze_122201);
                                    bool bounds_check_182389 = x_182387 && y_182388;
                                    bool index_certs_182390;
                                    
                                    if (!bounds_check_182389) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_182374, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:114:8-14\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int16_t b_prev_182376;
                                    
                                    if (cond_182307) {
                                        int64_t tmp_182377 = sub64(max_res_182306, (int64_t) 1);
                                        bool x_182378 = sle64((int64_t) 0, tmp_182377);
                                        bool y_182379 = slt64(tmp_182377, window_sizze_122201);
                                        bool bounds_check_182380 = x_182378 && y_182379;
                                        bool index_certs_182381;
                                        
                                        if (!bounds_check_182380) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_182377, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:112:31-39\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_182382 = p_178825 + tmp_182377;
                                        int16_t b_prev_t_res_182383 = ((int16_t *) b_list_mem_184306.mem)[slice_182382];
                                        
                                        b_prev_182376 = b_prev_t_res_182383;
                                    } else {
                                        bool index_certs_182385;
                                        
                                        if (!y_179841) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:112:45-50\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_182376 = leq_rhs_182278;
                                    }
                                    
                                    int64_t slice_182391 = p_178824 + ai_182374;
                                    int16_t gt_lhs_182392 = ((int16_t *) a_list_mem_184305.mem)[slice_182391];
                                    bool defunc_0_gt_res_182393 = slt16(b_prev_182376, gt_lhs_182392);
                                    int64_t defunc_0_partFunc_sequential_search_res_182394;
                                    int64_t defunc_0_partFunc_sequential_search_res_182395;
                                    
                                    if (defunc_0_gt_res_182393) {
                                        int64_t zl_rhs_182396 = sub64(window_sizze_122201, max_res_182306);
                                        bool loop_cond_182397 = slt64((int64_t) 0, zl_rhs_182396);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_182398;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_182399;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_182400;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_182401;
                                        bool loop_while_182402;
                                        int64_t p_182403;
                                        int64_t p_182404;
                                        int64_t p_182405;
                                        
                                        loop_while_182402 = loop_cond_182397;
                                        p_182403 = ai_182374;
                                        p_182404 = max_res_182306;
                                        p_182405 = (int64_t) 0;
                                        while (loop_while_182402) {
                                            int64_t i_a_182406 = sub64(ai_182374, p_182405);
                                            int64_t i_b_182407 = add64(max_res_182306, p_182405);
                                            int64_t leq_lhs_182408 = sub64(i_a_182406, (int64_t) 1);
                                            bool x_182409 = sle64((int64_t) 0, leq_lhs_182408);
                                            bool y_182410 = slt64(leq_lhs_182408, window_sizze_122201);
                                            bool bounds_check_182411 = x_182409 && y_182410;
                                            bool index_certs_182412;
                                            
                                            if (!bounds_check_182411) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_182408, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:120:15-24\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_182415 = sle64((int64_t) 0, i_b_182407);
                                            bool y_182416 = slt64(i_b_182407, window_sizze_122201);
                                            bool bounds_check_182417 = x_182415 && y_182416;
                                            bool index_certs_182418;
                                            
                                            if (!bounds_check_182417) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_182407, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:120:31-38\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_182413 = p_178824 + leq_lhs_182408;
                                            int16_t leq_lhs_182414 = ((int16_t *) a_list_mem_184305.mem)[slice_182413];
                                            int64_t slice_182419 = p_178825 + i_b_182407;
                                            int16_t leq_rhs_182420 = ((int16_t *) b_list_mem_184306.mem)[slice_182419];
                                            bool defunc_0_leq_res_182421 = sle16(leq_lhs_182414, leq_rhs_182420);
                                            int64_t loopres_182422;
                                            
                                            if (defunc_0_leq_res_182421) {
                                                loopres_182422 = i_a_182406;
                                            } else {
                                                loopres_182422 = ai_182374;
                                            }
                                            
                                            int64_t loopres_182423;
                                            
                                            if (defunc_0_leq_res_182421) {
                                                loopres_182423 = i_b_182407;
                                            } else {
                                                loopres_182423 = max_res_182306;
                                            }
                                            
                                            int64_t loopres_182424;
                                            
                                            if (defunc_0_leq_res_182421) {
                                                loopres_182424 = zl_rhs_182396;
                                            } else {
                                                int64_t tmp_182425 = add64((int64_t) 1, p_182405);
                                                
                                                loopres_182424 = tmp_182425;
                                            }
                                            
                                            bool loop_cond_182426 = slt64(loopres_182424, zl_rhs_182396);
                                            bool loop_while_tmp_185738 = loop_cond_182426;
                                            int64_t p_tmp_185739 = loopres_182422;
                                            int64_t p_tmp_185740 = loopres_182423;
                                            int64_t p_tmp_185741 = loopres_182424;
                                            
                                            loop_while_182402 = loop_while_tmp_185738;
                                            p_182403 = p_tmp_185739;
                                            p_182404 = p_tmp_185740;
                                            p_182405 = p_tmp_185741;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_182398 = loop_while_182402;
                                        defunc_0_partFunc_sequential_search_res_t_res_182399 = p_182403;
                                        defunc_0_partFunc_sequential_search_res_t_res_182400 = p_182404;
                                        defunc_0_partFunc_sequential_search_res_t_res_182401 = p_182405;
                                        defunc_0_partFunc_sequential_search_res_182394 = defunc_0_partFunc_sequential_search_res_t_res_182399;
                                        defunc_0_partFunc_sequential_search_res_182395 = defunc_0_partFunc_sequential_search_res_t_res_182400;
                                    } else {
                                        int64_t zl_rhs_182427 = sub64(max_res_182306, (int64_t) 1);
                                        bool loop_cond_182428 = slt64((int64_t) 0, zl_rhs_182427);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_182429;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_182430;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_182431;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_182432;
                                        bool loop_while_182433;
                                        int64_t p_182434;
                                        int64_t p_182435;
                                        int64_t p_182436;
                                        
                                        loop_while_182433 = loop_cond_182428;
                                        p_182434 = ai_182374;
                                        p_182435 = max_res_182306;
                                        p_182436 = (int64_t) 0;
                                        while (loop_while_182433) {
                                            int64_t zp_lhs_182437 = add64(ai_182374, p_182436);
                                            int64_t hi_a_182438 = add64((int64_t) 1, zp_lhs_182437);
                                            bool cond_182439 = slt64(hi_a_182438, window_sizze_122201);
                                            int64_t i_a_182440;
                                            
                                            if (cond_182439) {
                                                i_a_182440 = hi_a_182438;
                                            } else {
                                                i_a_182440 = m_178813;
                                            }
                                            
                                            int64_t zm_lhs_182442 = sub64(max_res_182306, p_182436);
                                            int64_t i_b_182443 = sub64(zm_lhs_182442, (int64_t) 1);
                                            bool x_182444 = sle64((int64_t) 0, i_a_182440);
                                            bool y_182445 = slt64(i_a_182440, window_sizze_122201);
                                            bool bounds_check_182446 = x_182444 && y_182445;
                                            bool index_certs_182447;
                                            
                                            if (!bounds_check_182446) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_182440, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:130:15-22\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_182450 = sle64((int64_t) 0, i_b_182443);
                                            bool y_182451 = slt64(i_b_182443, window_sizze_122201);
                                            bool bounds_check_182452 = x_182450 && y_182451;
                                            bool index_certs_182453;
                                            
                                            if (!bounds_check_182452) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_182443, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:130:28-35\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_182448 = p_178824 + i_a_182440;
                                            int16_t gt_lhs_182449 = ((int16_t *) a_list_mem_184305.mem)[slice_182448];
                                            int64_t slice_182454 = p_178825 + i_b_182443;
                                            int16_t gt_rhs_182455 = ((int16_t *) b_list_mem_184306.mem)[slice_182454];
                                            bool defunc_0_gt_res_182456 = slt16(gt_rhs_182455, gt_lhs_182449);
                                            int64_t loopres_182457;
                                            
                                            if (defunc_0_gt_res_182456) {
                                                loopres_182457 = i_a_182440;
                                            } else {
                                                loopres_182457 = ai_182374;
                                            }
                                            
                                            int64_t loopres_182458;
                                            
                                            if (defunc_0_gt_res_182456) {
                                                loopres_182458 = zm_lhs_182442;
                                            } else {
                                                loopres_182458 = max_res_182306;
                                            }
                                            
                                            int64_t loopres_182459;
                                            
                                            if (defunc_0_gt_res_182456) {
                                                loopres_182459 = zl_rhs_182427;
                                            } else {
                                                int64_t tmp_182460 = add64((int64_t) 1, p_182436);
                                                
                                                loopres_182459 = tmp_182460;
                                            }
                                            
                                            bool loop_cond_182461 = slt64(loopres_182459, zl_rhs_182427);
                                            bool loop_while_tmp_185742 = loop_cond_182461;
                                            int64_t p_tmp_185743 = loopres_182457;
                                            int64_t p_tmp_185744 = loopres_182458;
                                            int64_t p_tmp_185745 = loopres_182459;
                                            
                                            loop_while_182433 = loop_while_tmp_185742;
                                            p_182434 = p_tmp_185743;
                                            p_182435 = p_tmp_185744;
                                            p_182436 = p_tmp_185745;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_182429 = loop_while_182433;
                                        defunc_0_partFunc_sequential_search_res_f_res_182430 = p_182434;
                                        defunc_0_partFunc_sequential_search_res_f_res_182431 = p_182435;
                                        defunc_0_partFunc_sequential_search_res_f_res_182432 = p_182436;
                                        defunc_0_partFunc_sequential_search_res_182394 = defunc_0_partFunc_sequential_search_res_f_res_182430;
                                        defunc_0_partFunc_sequential_search_res_182395 = defunc_0_partFunc_sequential_search_res_f_res_182431;
                                    }
                                    loopres_f_res_f_res_f_res_182369 = p_182299;
                                    loopres_f_res_f_res_f_res_182370 = defunc_0_partFunc_sequential_search_res_182394;
                                    loopres_f_res_f_res_f_res_182371 = defunc_0_partFunc_sequential_search_res_182395;
                                    loopres_f_res_f_res_f_res_182372 = 0;
                                } else {
                                    bool x_182462 = sle64((int64_t) 0, ai_182304);
                                    bool y_182463 = slt64(ai_182304, window_sizze_122201);
                                    bool bounds_check_182464 = x_182462 && y_182463;
                                    bool index_certs_182465;
                                    
                                    if (!bounds_check_182464) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_182304, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:186:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_182466 = p_178824 + ai_182304;
                                    int16_t gt_lhs_182467 = ((int16_t *) a_list_mem_184305.mem)[slice_182466];
                                    bool defunc_0_gt_res_182468 = slt16(b_prev_182308, gt_lhs_182467);
                                    int64_t loopres_f_res_f_res_f_res_f_res_182469;
                                    int64_t loopres_f_res_f_res_f_res_f_res_182470;
                                    int64_t loopres_f_res_f_res_f_res_f_res_182471;
                                    bool loopres_f_res_f_res_f_res_f_res_182472;
                                    
                                    if (defunc_0_gt_res_182468) {
                                        int64_t leq_lhs_182473 = sub64(ai_182304, (int64_t) 1);
                                        bool x_182474 = sle64((int64_t) 0, leq_lhs_182473);
                                        bool y_182475 = slt64(leq_lhs_182473, window_sizze_122201);
                                        bool bounds_check_182476 = x_182474 && y_182475;
                                        bool index_certs_182477;
                                        
                                        if (!bounds_check_182476) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_182473, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:187:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_182480 = sle64((int64_t) 0, max_res_182306);
                                        bool y_182481 = slt64(max_res_182306, window_sizze_122201);
                                        bool bounds_check_182482 = x_182480 && y_182481;
                                        bool index_certs_182483;
                                        
                                        if (!bounds_check_182482) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_182306, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:187:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_182478 = p_178824 + leq_lhs_182473;
                                        int16_t leq_lhs_182479 = ((int16_t *) a_list_mem_184305.mem)[slice_182478];
                                        int64_t slice_182484 = p_178825 + max_res_182306;
                                        int16_t leq_rhs_182485 = ((int16_t *) b_list_mem_184306.mem)[slice_182484];
                                        bool defunc_0_leq_res_182486 = sle16(leq_lhs_182479, leq_rhs_182485);
                                        bool x_182487 = !defunc_0_leq_res_182486;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_182488;
                                        
                                        if (defunc_0_leq_res_182486) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_182488 = ai_182304;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_182488 = leq_lhs_182473;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_182489;
                                        
                                        if (defunc_0_leq_res_182486) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_182489 = max_res_182306;
                                        } else {
                                            int64_t tmp_182490 = add64((int64_t) 1, max_res_182306);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_182489 = tmp_182490;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_182469 = p_182299;
                                        loopres_f_res_f_res_f_res_f_res_182470 = loopres_f_res_f_res_f_res_f_res_t_res_182488;
                                        loopres_f_res_f_res_f_res_f_res_182471 = loopres_f_res_f_res_f_res_f_res_t_res_182489;
                                        loopres_f_res_f_res_f_res_f_res_182472 = x_182487;
                                    } else {
                                        int64_t tmp_182491 = add64((int64_t) 1, ai_182304);
                                        
                                        loopres_f_res_f_res_f_res_f_res_182469 = tmp_182491;
                                        loopres_f_res_f_res_f_res_f_res_182470 = p_182300;
                                        loopres_f_res_f_res_f_res_f_res_182471 = p_182301;
                                        loopres_f_res_f_res_f_res_f_res_182472 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_182369 = loopres_f_res_f_res_f_res_f_res_182469;
                                    loopres_f_res_f_res_f_res_182370 = loopres_f_res_f_res_f_res_f_res_182470;
                                    loopres_f_res_f_res_f_res_182371 = loopres_f_res_f_res_f_res_f_res_182471;
                                    loopres_f_res_f_res_f_res_182372 = loopres_f_res_f_res_f_res_f_res_182472;
                                }
                                loopres_f_res_f_res_182346 = loopres_f_res_f_res_f_res_182369;
                                loopres_f_res_f_res_182347 = loopres_f_res_f_res_f_res_182370;
                                loopres_f_res_f_res_182348 = loopres_f_res_f_res_f_res_182371;
                                loopres_f_res_f_res_182349 = loopres_f_res_f_res_f_res_182372;
                            }
                            loopres_f_res_182322 = loopres_f_res_f_res_182346;
                            loopres_f_res_182323 = loopres_f_res_f_res_182347;
                            loopres_f_res_182324 = loopres_f_res_f_res_182348;
                            loopres_f_res_182325 = loopres_f_res_f_res_182349;
                        }
                        loopres_182317 = loopres_f_res_182322;
                        loopres_182318 = loopres_f_res_182323;
                        loopres_182319 = loopres_f_res_182324;
                        loopres_182320 = loopres_f_res_182325;
                    }
                    
                    bool loop_while_tmp_185734 = loopres_182320;
                    int64_t p_tmp_185735 = loopres_182317;
                    int64_t p_tmp_185736 = loopres_182318;
                    int64_t p_tmp_185737 = loopres_182319;
                    
                    loop_while_182298 = loop_while_tmp_185734;
                    p_182299 = p_tmp_185735;
                    p_182300 = p_tmp_185736;
                    p_182301 = p_tmp_185737;
                }
                defunc_0_f_res_182294 = loop_while_182298;
                defunc_0_f_res_182295 = p_182299;
                defunc_0_f_res_182296 = p_182300;
                defunc_0_f_res_182297 = p_182301;
                ((int64_t *) mem_184667)[i_183969] = defunc_0_f_res_182296;
                ((int64_t *) mem_184669)[i_183969] = defunc_0_f_res_182297;
            }
            if (mem_184684_cached_sizze_186281 < bytes_184683) {
                err = lexical_realloc(ctx, &mem_184684, &mem_184684_cached_sizze_186281, bytes_184683);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184686_cached_sizze_186282 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_178863) {
                err = lexical_realloc(ctx, &mem_184686, &mem_184686_cached_sizze_186282, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_178863);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184689_cached_sizze_186283 < bytes_184683) {
                err = lexical_realloc(ctx, &mem_184689, &mem_184689_cached_sizze_186283, bytes_184683);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184692_cached_sizze_186284 < bytes_184691) {
                err = lexical_realloc(ctx, &mem_184692, &mem_184692_cached_sizze_186284, bytes_184691);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_184035 = 0; i_184035 < threads_122202; i_184035++) {
                bool y_182505 = slt64(i_184035, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
                bool index_certs_182507;
                
                if (!y_182505) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_184035, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:257:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:357:63-73\n   #3  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_182508 = sle64((int64_t) 1, i_184035);
                int64_t index_concat_i_182509 = sub64(i_184035, (int64_t) 1);
                int64_t index_concat_182510;
                
                if (index_concat_cmp_182508) {
                    int64_t x_182511 = ((int64_t *) mem_184667)[index_concat_i_182509];
                    
                    index_concat_182510 = x_182511;
                } else {
                    index_concat_182510 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_182512;
                
                if (index_concat_cmp_182508) {
                    index_concat_branch_182512 = index_concat_182510;
                } else {
                    index_concat_branch_182512 = (int64_t) 0;
                }
                
                int64_t index_concat_182513;
                
                if (index_concat_cmp_182508) {
                    int64_t x_182514 = ((int64_t *) mem_184669)[index_concat_i_182509];
                    
                    index_concat_182513 = x_182514;
                } else {
                    index_concat_182513 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_182515;
                
                if (index_concat_cmp_182508) {
                    index_concat_branch_182515 = index_concat_182513;
                } else {
                    index_concat_branch_182515 = (int64_t) 0;
                }
                
                int64_t ubs_182516 = add64((int64_t) 1, i_184035);
                bool x_182517 = sle64((int64_t) 0, ubs_182516);
                bool y_182518 = slt64(ubs_182516, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
                bool bounds_check_182519 = x_182517 && y_182518;
                bool index_certs_182520;
                
                if (!bounds_check_182519) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_182516, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:258:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:357:63-73\n   #3  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_182521 = sle64((int64_t) 1, ubs_182516);
                int64_t index_concat_182522;
                
                if (index_concat_cmp_182521) {
                    int64_t x_182523 = ((int64_t *) mem_184667)[i_184035];
                    
                    index_concat_182522 = x_182523;
                } else {
                    index_concat_182522 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_182524;
                
                if (index_concat_cmp_182521) {
                    index_concat_branch_182524 = index_concat_182522;
                } else {
                    index_concat_branch_182524 = (int64_t) 0;
                }
                
                int64_t index_concat_182525;
                
                if (index_concat_cmp_182521) {
                    int64_t x_182526 = ((int64_t *) mem_184669)[i_184035];
                    
                    index_concat_182525 = x_182526;
                } else {
                    index_concat_182525 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_182527;
                
                if (index_concat_cmp_182521) {
                    index_concat_branch_182527 = index_concat_182525;
                } else {
                    index_concat_branch_182527 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528 = sub64(index_concat_branch_182527, index_concat_branch_182515);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529 = sub64(index_concat_branch_182524, index_concat_branch_182512);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                int64_t zm_lhs_182531 = add64(index_concat_branch_182524, index_concat_branch_182527);
                int64_t zm_rhs_182532 = add64(index_concat_branch_182512, index_concat_branch_182515);
                int64_t card_182533 = sub64(zm_lhs_182531, zm_rhs_182532);
                bool empty_slice_182534 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529 == (int64_t) 0;
                int64_t m_182535 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, (int64_t) 1);
                int64_t i_p_m_t_s_182536 = add64(index_concat_branch_182512, m_182535);
                bool zzero_leq_i_p_m_t_s_182537 = sle64((int64_t) 0, i_p_m_t_s_182536);
                bool i_p_m_t_s_leq_w_182538 = slt64(i_p_m_t_s_182536, window_sizze_122201);
                bool zzero_lte_i_182539 = sle64((int64_t) 0, index_concat_branch_182512);
                bool i_lte_j_182540 = sle64(index_concat_branch_182512, index_concat_branch_182524);
                bool y_182541 = i_p_m_t_s_leq_w_182538 && zzero_lte_i_182539;
                bool y_182542 = zzero_leq_i_p_m_t_s_182537 && y_182541;
                bool forwards_ok_182543 = i_lte_j_182540 && y_182542;
                bool ok_or_empty_182544 = empty_slice_182534 || forwards_ok_182543;
                bool index_certs_182545;
                
                if (!ok_or_empty_182544) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_182512, ":", (long long) index_concat_branch_182524, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:260:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:357:63-73\n   #3  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_182546 = slt64(index_concat_branch_182524, index_concat_branch_182512);
                bool valid_182547 = !bounds_invalid_upwards_182546;
                bool range_valid_c_182548;
                
                if (!valid_182547) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_182512, "..<", (long long) index_concat_branch_182524, " is invalid.", "-> #0  ftsort.fut:260:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:357:63-73\n   #3  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_182553 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528 == (int64_t) 0;
                int64_t m_182554 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528, (int64_t) 1);
                int64_t i_p_m_t_s_182555 = add64(index_concat_branch_182515, m_182554);
                bool zzero_leq_i_p_m_t_s_182556 = sle64((int64_t) 0, i_p_m_t_s_182555);
                bool i_p_m_t_s_leq_w_182557 = slt64(i_p_m_t_s_182555, window_sizze_122201);
                bool zzero_lte_i_182558 = sle64((int64_t) 0, index_concat_branch_182515);
                bool i_lte_j_182559 = sle64(index_concat_branch_182515, index_concat_branch_182527);
                bool y_182560 = i_p_m_t_s_leq_w_182557 && zzero_lte_i_182558;
                bool y_182561 = zzero_leq_i_p_m_t_s_182556 && y_182560;
                bool forwards_ok_182562 = i_lte_j_182559 && y_182561;
                bool ok_or_empty_182563 = empty_slice_182553 || forwards_ok_182562;
                bool index_certs_182564;
                
                if (!ok_or_empty_182563) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_182515, ":", (long long) index_concat_branch_182527, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:261:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:357:63-73\n   #3  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_182565 = slt64(index_concat_branch_182527, index_concat_branch_182515);
                bool valid_182566 = !bounds_invalid_upwards_182565;
                bool range_valid_c_182567;
                
                if (!valid_182566) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_182515, "..<", (long long) index_concat_branch_182527, " is invalid.", "-> #0  ftsort.fut:261:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:357:63-73\n   #3  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_184721 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530;
                int64_t bytes_184723 = (int64_t) 2 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530;
                bool cond_182575 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, (int64_t) 1);
                int64_t zs_lhs_182576 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, (int64_t) 1);
                int64_t zp_rhs_182577 = sdiv_safe64(zs_lhs_182576, (int64_t) 20);
                int64_t min_num_blocks_182578 = add64((int64_t) 1, zp_rhs_182577);
                bool loop_cond_182579 = slt64((int64_t) 1, min_num_blocks_182578);
                bool smallest_pow_2_geq_than_res_182580;
                int64_t smallest_pow_2_geq_than_res_182581;
                bool loop_while_182582;
                int64_t x_182583;
                
                loop_while_182582 = loop_cond_182579;
                x_182583 = (int64_t) 1;
                while (loop_while_182582) {
                    int64_t loopres_182584 = mul64((int64_t) 2, x_182583);
                    bool loop_cond_182585 = slt64(loopres_182584, min_num_blocks_182578);
                    bool loop_while_tmp_185750 = loop_cond_182585;
                    int64_t x_tmp_185751 = loopres_182584;
                    
                    loop_while_182582 = loop_while_tmp_185750;
                    x_182583 = x_tmp_185751;
                }
                smallest_pow_2_geq_than_res_182580 = loop_while_182582;
                smallest_pow_2_geq_than_res_182581 = x_182583;
                
                bool zzero_182586 = smallest_pow_2_geq_than_res_182581 == (int64_t) 0;
                bool nonzzero_182587 = !zzero_182586;
                bool protect_assert_disj_182588 = cond_182575 || nonzzero_182587;
                bool nonzzero_cert_182589;
                
                if (!protect_assert_disj_182588) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_182590 = sdiv_safe64(zs_lhs_182576, smallest_pow_2_geq_than_res_182581);
                int64_t block_sizze_182591 = add64((int64_t) 1, zp_rhs_182590);
                bool y_182598 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530);
                bool protect_assert_disj_185467 = cond_182575 || y_182598;
                bool index_certs_182599;
                
                if (!protect_assert_disj_185467) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_182636 = slt64(smallest_pow_2_geq_than_res_182581, (int64_t) 0);
                bool valid_182637 = !bounds_invalid_upwards_182636;
                bool protect_assert_disj_185477 = cond_182575 || valid_182637;
                bool range_valid_c_182638;
                
                if (!protect_assert_disj_185477) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_182581, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:357:63-73\n   #6  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_182640 = slt64(block_sizze_182591, (int64_t) 0);
                bool valid_182641 = !bounds_invalid_upwards_182640;
                bool protect_assert_disj_185479 = cond_182575 || valid_182641;
                bool range_valid_c_182642;
                
                if (!protect_assert_disj_185479) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_182591, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_182644 = sle64(block_sizze_182591, (int64_t) 1);
                int64_t tmp_182645 = sub64(block_sizze_182591, (int64_t) 2);
                bool bounds_invalid_upwards_182646 = slt64(tmp_182645, (int64_t) 0);
                bool valid_182648 = !bounds_invalid_upwards_182646;
                bool protect_assert_disj_182649 = cond_182644 || valid_182648;
                bool protect_assert_disj_185481 = cond_182575 || protect_assert_disj_182649;
                bool range_valid_c_182650;
                
                if (!protect_assert_disj_185481) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_182645, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_183230 = card_182533 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530;
                bool empty_or_match_cert_183231;
                
                if (!dim_match_183230) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "] cannot match shape of type `[", (long long) card_182533, "](i8, i64, i16)`.", "-> #0  ftsort.fut:262:20-268:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:357:63-73\n   #3  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_183232 = card_182533 == (int64_t) 0;
                int64_t m_183233 = sub64(card_182533, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_183234 = sle64((int64_t) 0, m_183233);
                bool i_p_m_t_s_leq_w_183235 = slt64(m_183233, card_182533);
                bool y_183236 = zzero_leq_i_p_m_t_s_183234 && i_p_m_t_s_leq_w_183235;
                bool ok_or_empty_183237 = empty_slice_183232 || y_183236;
                bool index_certs_183238;
                
                if (!ok_or_empty_183237) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_182533, "] out of bounds for array of shape [", (long long) card_182533, "].", "-> #0  ftsort.fut:269:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:357:63-73\n   #3  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_183239 = slt64(m_183233, perThread_178862);
                bool y_183240 = zzero_leq_i_p_m_t_s_183234 && i_p_m_t_s_leq_w_183239;
                bool ok_or_empty_183241 = empty_slice_183232 || y_183240;
                bool index_certs_183242;
                
                if (!ok_or_empty_183241) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_182533, "] out of bounds for array of shape [", (long long) perThread_178862, "].", "-> #0  ftsort.fut:269:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:357:63-73\n   #3  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_185752 = 0; nest_i_185752 < perThread_178862; nest_i_185752++) {
                    ((int8_t *) mem_184686)[i_184035 * perThread_178862 + nest_i_185752] = (int8_t) -1;
                }
                for (int64_t nest_i_185753 = 0; nest_i_185753 < perThread_178862; nest_i_185753++) {
                    ((int64_t *) mem_184689)[i_184035 * perThread_178862 + nest_i_185753] = (int64_t) -1;
                }
                for (int64_t nest_i_185754 = 0; nest_i_185754 < perThread_178862; nest_i_185754++) {
                    ((int16_t *) mem_184692)[i_184035 * perThread_178862 + nest_i_185754] = (int16_t) 0;
                }
                
                int64_t slice_182549 = p_178824 + index_concat_branch_182512;
                
                if (memblock_alloc(ctx, &mem_184720, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "mem_184720")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_185755 = 0; nest_i_185755 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529; nest_i_185755++) {
                    ((int8_t *) mem_184720.mem)[nest_i_185755] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_184722, bytes_184721, "mem_184722")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_185756 = 0; i_185756 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529; i_185756++) {
                    int64_t x_185757 = index_concat_branch_182512 + i_185756 * (int64_t) 1;
                    
                    ((int64_t *) mem_184722.mem)[i_185756] = x_185757;
                }
                
                int64_t slice_182568 = p_178825 + index_concat_branch_182515;
                
                for (int64_t nest_i_185758 = 0; nest_i_185758 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528; nest_i_185758++) {
                    ((int8_t *) mem_184720.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529 + nest_i_185758] = (int8_t) 1;
                }
                for (int64_t i_185759 = 0; i_185759 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528; i_185759++) {
                    int64_t x_185760 = index_concat_branch_182515 + i_185759 * (int64_t) 1;
                    
                    ((int64_t *) mem_184722.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529 + i_185759] = x_185760;
                }
                
                int64_t tmp_offs_185761 = (int64_t) 0;
                
                if (!(tmp_offs_185761 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184720.mem, tmp_offs_185761, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184720.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529});
                }
                tmp_offs_185761 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529;
                if (!(tmp_offs_185761 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184720.mem, tmp_offs_185761, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184720.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528});
                }
                tmp_offs_185761 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528;
                
                int64_t tmp_offs_185762 = (int64_t) 0;
                
                if (!(tmp_offs_185762 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184722.mem, tmp_offs_185762, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184722.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529});
                }
                tmp_offs_185762 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529;
                if (!(tmp_offs_185762 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184722.mem, tmp_offs_185762, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184722.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528});
                }
                tmp_offs_185762 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528;
                if (memblock_alloc(ctx, &mem_184724, bytes_184723, "mem_184724")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_185763 = (int64_t) 0;
                
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_184724.mem, tmp_offs_185763, (int64_t []) {(int64_t) 1}, (uint16_t *) a_list_mem_184305.mem, slice_182549, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529});
                tmp_offs_185763 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_184724.mem, tmp_offs_185763, (int64_t []) {(int64_t) 1}, (uint16_t *) b_list_mem_184306.mem, slice_182568, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528});
                tmp_offs_185763 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_182528;
                
                int64_t flat_dim_182592 = smallest_pow_2_geq_than_res_182581 * block_sizze_182591;
                bool x_185462 = !cond_182575;
                int64_t greatest_divisor_leq_than_arg1_182596 = mul64((int64_t) 2, block_sizze_182591);
                int64_t merge_block_sizze_182597;
                
                if (x_185462) {
                    int64_t x_185464;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_185464, (int64_t) 8, greatest_divisor_leq_than_arg1_182596) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_182597 = x_185464;
                } else {
                    merge_block_sizze_182597 = (int64_t) 0;
                }
                
                bool index_concat_cmp_182600 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, (int64_t) 0);
                int8_t index_concat_branch_182601 = btoi_bool_i8(index_concat_cmp_182600);
                int64_t index_concat_i_182603 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                int64_t index_primexp_182604 = add64(index_concat_branch_182515, index_concat_i_182603);
                int64_t index_concat_branch_182602;
                
                if (index_concat_cmp_182600) {
                    index_concat_branch_182602 = index_primexp_182604;
                } else {
                    index_concat_branch_182602 = index_concat_branch_182512;
                }
                
                bool x_185458 = !index_concat_cmp_182600;
                bool protect_cond_conj_185468 = x_185458 && x_185462;
                int16_t index_concat_182610;
                
                if (protect_cond_conj_185468) {
                    int16_t x_185460 = ((int16_t *) a_list_mem_184305.mem)[slice_182549];
                    
                    index_concat_182610 = x_185460;
                } else {
                    index_concat_182610 = (int16_t) 0;
                }
                
                int64_t slice_182608 = p_178825 + index_primexp_182604;
                bool protect_cond_conj_185469 = index_concat_cmp_182600 && x_185462;
                int16_t index_concat_182609;
                
                if (protect_cond_conj_185469) {
                    int16_t x_185456 = ((int16_t *) b_list_mem_184306.mem)[slice_182608];
                    
                    index_concat_182609 = x_185456;
                } else {
                    index_concat_182609 = (int16_t) 0;
                }
                
                int16_t index_concat_branch_182605;
                
                if (index_concat_cmp_182600) {
                    index_concat_branch_182605 = index_concat_182609;
                } else {
                    index_concat_branch_182605 = index_concat_182610;
                }
                
                int8_t defunc_0_reduce_res_182611;
                int64_t defunc_0_reduce_res_182612;
                int16_t defunc_0_reduce_res_182613;
                
                if (x_185462) {
                    int8_t x_185470;
                    int64_t x_185471;
                    int16_t x_185472;
                    int8_t redout_183972;
                    int64_t redout_183973;
                    int16_t redout_183974;
                    
                    redout_183972 = index_concat_branch_182601;
                    redout_183973 = index_concat_branch_182602;
                    redout_183974 = index_concat_branch_182605;
                    for (int64_t i_183975 = 0; i_183975 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530; i_183975++) {
                        bool index_concat_cmp_184233 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, i_183975);
                        int8_t index_concat_branch_184237 = btoi_bool_i8(index_concat_cmp_184233);
                        int64_t index_concat_branch_184231;
                        
                        if (index_concat_cmp_184233) {
                            int64_t index_concat_i_184228 = sub64(i_183975, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                            int64_t index_primexp_184281 = add64(index_concat_branch_182515, index_concat_i_184228);
                            
                            index_concat_branch_184231 = index_primexp_184281;
                        } else {
                            int64_t index_primexp_184283 = add64(index_concat_branch_182512, i_183975);
                            
                            index_concat_branch_184231 = index_primexp_184283;
                        }
                        
                        int16_t index_concat_branch_184225;
                        
                        if (index_concat_cmp_184233) {
                            int64_t index_concat_i_184222 = sub64(i_183975, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                            int64_t slice_184278 = slice_182568 + index_concat_i_184222;
                            int16_t index_concat_184223 = ((int16_t *) b_list_mem_184306.mem)[slice_184278];
                            
                            index_concat_branch_184225 = index_concat_184223;
                        } else {
                            int64_t slice_184279 = slice_182549 + i_183975;
                            int16_t index_concat_184224 = ((int16_t *) a_list_mem_184305.mem)[slice_184279];
                            
                            index_concat_branch_184225 = index_concat_184224;
                        }
                        
                        bool eq_x_y_184295 = redout_183972 == (int8_t) 1;
                        bool eq_x_zz_184296 = redout_183972 == (int8_t) 0;
                        bool p_and_eq_x_y_184297 = index_concat_cmp_184233 && eq_x_y_184295;
                        bool not_p_184298 = !index_concat_cmp_184233;
                        bool p_and_eq_x_y_184299 = eq_x_zz_184296 && not_p_184298;
                        bool cond_182623 = p_and_eq_x_y_184297 || p_and_eq_x_y_184299;
                        bool defunc_0_leq_res_t_res_182624 = sle64(redout_183973, index_concat_branch_184231);
                        bool defunc_0_leq_res_182625 = sle16(redout_183974, index_concat_branch_184225);
                        bool x_182626 = cond_182623 && defunc_0_leq_res_t_res_182624;
                        bool x_182627 = !cond_182623;
                        bool y_182628 = defunc_0_leq_res_182625 && x_182627;
                        bool defunc_0_leq_res_182629 = x_182626 || y_182628;
                        int8_t defunc_0_op_res_182630;
                        
                        if (defunc_0_leq_res_182629) {
                            defunc_0_op_res_182630 = index_concat_branch_184237;
                        } else {
                            defunc_0_op_res_182630 = redout_183972;
                        }
                        
                        int64_t defunc_0_op_res_182631;
                        
                        if (defunc_0_leq_res_182629) {
                            defunc_0_op_res_182631 = index_concat_branch_184231;
                        } else {
                            defunc_0_op_res_182631 = redout_183973;
                        }
                        
                        int16_t defunc_0_op_res_182632;
                        
                        if (defunc_0_leq_res_182629) {
                            defunc_0_op_res_182632 = index_concat_branch_184225;
                        } else {
                            defunc_0_op_res_182632 = redout_183974;
                        }
                        
                        int8_t redout_tmp_185764 = defunc_0_op_res_182630;
                        int64_t redout_tmp_185765 = defunc_0_op_res_182631;
                        int16_t redout_tmp_185766 = defunc_0_op_res_182632;
                        
                        redout_183972 = redout_tmp_185764;
                        redout_183973 = redout_tmp_185765;
                        redout_183974 = redout_tmp_185766;
                    }
                    x_185470 = redout_183972;
                    x_185471 = redout_183973;
                    x_185472 = redout_183974;
                    defunc_0_reduce_res_182611 = x_185470;
                    defunc_0_reduce_res_182612 = x_185471;
                    defunc_0_reduce_res_182613 = x_185472;
                } else {
                    defunc_0_reduce_res_182611 = (int8_t) 0;
                    defunc_0_reduce_res_182612 = (int64_t) 0;
                    defunc_0_reduce_res_182613 = (int16_t) 0;
                }
                
                int64_t distance_182647 = add64((int64_t) 1, tmp_182645);
                int64_t binop_x_184727 = (int64_t) 8 * smallest_pow_2_geq_than_res_182581;
                int64_t bytes_184728 = block_sizze_182591 * binop_x_184727;
                int64_t binop_x_184730 = (int64_t) 2 * smallest_pow_2_geq_than_res_182581;
                int64_t bytes_184731 = block_sizze_182591 * binop_x_184730;
                int64_t bytes_184746 = (int64_t) 8 * block_sizze_182591;
                bool loop_cond_182773 = slt64(block_sizze_182591, flat_dim_182592);
                bool zzero_182774 = merge_block_sizze_182597 == (int64_t) 0;
                bool nonzzero_182775 = !zzero_182774;
                
                if (cond_182575) {
                    if (memblock_set(ctx, &ext_mem_185019, &mem_184720, "mem_184720") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185016, &mem_184722, "mem_184722") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185013, &mem_184724, "mem_184724") != 0)
                        return 1;
                } else {
                    if (mem_184726_cached_sizze_186285 < flat_dim_182592) {
                        err = lexical_realloc(ctx, &mem_184726, &mem_184726_cached_sizze_186285, flat_dim_182592);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184729_cached_sizze_186286 < bytes_184728) {
                        err = lexical_realloc(ctx, &mem_184729, &mem_184729_cached_sizze_186286, bytes_184728);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184732_cached_sizze_186287 < bytes_184731) {
                        err = lexical_realloc(ctx, &mem_184732, &mem_184732_cached_sizze_186287, bytes_184731);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184745_cached_sizze_186288 < block_sizze_182591) {
                        err = lexical_realloc(ctx, &mem_184745, &mem_184745_cached_sizze_186288, block_sizze_182591);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184747_cached_sizze_186289 < bytes_184746) {
                        err = lexical_realloc(ctx, &mem_184747, &mem_184747_cached_sizze_186289, bytes_184746);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184749_cached_sizze_186290 < greatest_divisor_leq_than_arg1_182596) {
                        err = lexical_realloc(ctx, &mem_184749, &mem_184749_cached_sizze_186290, greatest_divisor_leq_than_arg1_182596);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_183992 = 0; i_183992 < smallest_pow_2_geq_than_res_182581; i_183992++) {
                        int64_t zp_lhs_182655 = mul64(block_sizze_182591, i_183992);
                        
                        for (int64_t i_183982 = 0; i_183982 < block_sizze_182591; i_183982++) {
                            int64_t k_182660 = add64(zp_lhs_182655, i_183982);
                            bool cond_182661 = slt64(k_182660, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530);
                            int8_t lifted_lambda_res_182662;
                            int64_t lifted_lambda_res_182663;
                            int16_t lifted_lambda_res_182664;
                            
                            if (cond_182661) {
                                bool x_182665 = sle64((int64_t) 0, k_182660);
                                bool bounds_check_182666 = cond_182661 && x_182665;
                                bool index_certs_182667;
                                
                                if (!bounds_check_182666) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_182660, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:357:63-73\n   #9  ftsort.fut:350:1-357:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_182668 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529, k_182660);
                                int8_t index_concat_branch_182669 = btoi_bool_i8(index_concat_cmp_182668);
                                int64_t index_concat_branch_182670;
                                
                                if (index_concat_cmp_182668) {
                                    int64_t index_concat_i_182671 = sub64(k_182660, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                                    int64_t index_primexp_182672 = add64(index_concat_branch_182515, index_concat_i_182671);
                                    
                                    index_concat_branch_182670 = index_primexp_182672;
                                } else {
                                    int64_t index_primexp_182673 = add64(index_concat_branch_182512, k_182660);
                                    
                                    index_concat_branch_182670 = index_primexp_182673;
                                }
                                
                                int16_t index_concat_branch_182674;
                                
                                if (index_concat_cmp_182668) {
                                    int64_t index_concat_i_182675 = sub64(k_182660, dzlz7bUZLzmZRz20U0z20U0z7dUzg_182529);
                                    int64_t slice_182676 = index_concat_branch_182515 + index_concat_i_182675;
                                    int64_t slice_182677 = p_178825 + slice_182676;
                                    int16_t index_concat_182678 = ((int16_t *) b_list_mem_184306.mem)[slice_182677];
                                    
                                    index_concat_branch_182674 = index_concat_182678;
                                } else {
                                    int64_t slice_182679 = index_concat_branch_182512 + k_182660;
                                    int64_t slice_182680 = p_178824 + slice_182679;
                                    int16_t index_concat_182681 = ((int16_t *) a_list_mem_184305.mem)[slice_182680];
                                    
                                    index_concat_branch_182674 = index_concat_182681;
                                }
                                lifted_lambda_res_182662 = index_concat_branch_182669;
                                lifted_lambda_res_182663 = index_concat_branch_182670;
                                lifted_lambda_res_182664 = index_concat_branch_182674;
                            } else {
                                lifted_lambda_res_182662 = defunc_0_reduce_res_182611;
                                lifted_lambda_res_182663 = defunc_0_reduce_res_182612;
                                lifted_lambda_res_182664 = defunc_0_reduce_res_182613;
                            }
                            ((int8_t *) mem_184745)[i_183982] = lifted_lambda_res_182662;
                            ((int64_t *) mem_184747)[i_183982] = lifted_lambda_res_182663;
                            ((int16_t *) mem_184749)[i_183982] = lifted_lambda_res_182664;
                        }
                        if (!cond_182644) {
                            for (int64_t i_182691 = 0; i_182691 < distance_182647; i_182691++) {
                                int64_t gt_arg1_182695 = add64((int64_t) 1, i_182691);
                                bool x_182696 = sle64((int64_t) 0, gt_arg1_182695);
                                bool y_182697 = slt64(gt_arg1_182695, block_sizze_182591);
                                bool bounds_check_182698 = x_182696 && y_182697;
                                bool index_certs_182699;
                                
                                if (!bounds_check_182698) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_182695, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_182703 = slt64(i_182691, block_sizze_182591);
                                bool index_certs_182704;
                                
                                if (!y_182703) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_182691, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_182700 = ((int8_t *) mem_184745)[gt_arg1_182695];
                                int64_t gt_arg1_182701 = ((int64_t *) mem_184747)[gt_arg1_182695];
                                int16_t gt_arg1_182702 = ((int16_t *) mem_184749)[gt_arg1_182695];
                                int8_t gt_arg0_182705 = ((int8_t *) mem_184745)[i_182691];
                                int64_t gt_arg0_182706 = ((int64_t *) mem_184747)[i_182691];
                                int16_t gt_arg0_182707 = ((int16_t *) mem_184749)[i_182691];
                                bool cond_182708 = gt_arg0_182705 == gt_arg1_182700;
                                bool defunc_0_leq_res_t_res_182709 = sle64(gt_arg0_182706, gt_arg1_182701);
                                bool defunc_0_leq_res_182710 = sle16(gt_arg0_182707, gt_arg1_182702);
                                bool x_182711 = cond_182708 && defunc_0_leq_res_t_res_182709;
                                bool x_182712 = !cond_182708;
                                bool y_182713 = defunc_0_leq_res_182710 && x_182712;
                                bool defunc_0_leq_res_182714 = x_182711 || y_182713;
                                bool defunc_0_lifted_gt_res_182715 = !defunc_0_leq_res_182714;
                                bool s_182716;
                                int64_t s_182720;
                                bool loop_while_182721;
                                int64_t j_182725;
                                
                                loop_while_182721 = defunc_0_lifted_gt_res_182715;
                                j_182725 = i_182691;
                                while (loop_while_182721) {
                                    bool x_182726 = sle64((int64_t) 0, j_182725);
                                    bool y_182727 = slt64(j_182725, block_sizze_182591);
                                    bool bounds_check_182728 = x_182726 && y_182727;
                                    bool index_certs_182729;
                                    
                                    if (!bounds_check_182728) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_182725, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_182733 = add64((int64_t) 1, j_182725);
                                    bool x_182734 = sle64((int64_t) 0, copy_arg0_182733);
                                    bool y_182735 = slt64(copy_arg0_182733, block_sizze_182591);
                                    bool bounds_check_182736 = x_182734 && y_182735;
                                    bool index_certs_182737;
                                    
                                    if (!bounds_check_182736) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_182733, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_182730 = ((int8_t *) mem_184745)[j_182725];
                                    int64_t copy_arg0_182731 = ((int64_t *) mem_184747)[j_182725];
                                    int16_t copy_arg0_182732 = ((int16_t *) mem_184749)[j_182725];
                                    int8_t copy_arg0_182738 = ((int8_t *) mem_184745)[copy_arg0_182733];
                                    int64_t copy_arg0_182739 = ((int64_t *) mem_184747)[copy_arg0_182733];
                                    int16_t copy_arg0_182740 = ((int16_t *) mem_184749)[copy_arg0_182733];
                                    
                                    ((int8_t *) mem_184745)[j_182725] = copy_arg0_182738;
                                    ((int64_t *) mem_184747)[j_182725] = copy_arg0_182739;
                                    ((int16_t *) mem_184749)[j_182725] = copy_arg0_182740;
                                    ((int8_t *) mem_184745)[copy_arg0_182733] = copy_arg0_182730;
                                    ((int64_t *) mem_184747)[copy_arg0_182733] = copy_arg0_182731;
                                    ((int16_t *) mem_184749)[copy_arg0_182733] = copy_arg0_182732;
                                    
                                    int64_t tmp_182747 = sub64(j_182725, (int64_t) 1);
                                    bool cond_182748 = sle64((int64_t) 0, tmp_182747);
                                    bool loop_cond_182749;
                                    
                                    if (cond_182748) {
                                        bool y_182753 = slt64(tmp_182747, block_sizze_182591);
                                        bool bounds_check_182754 = cond_182748 && y_182753;
                                        bool index_certs_182755;
                                        
                                        if (!bounds_check_182754) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_182747, "] out of bounds for array of shape [", (long long) block_sizze_182591, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_182750 = ((int8_t *) mem_184745)[j_182725];
                                        int64_t gt_arg1_182751 = ((int64_t *) mem_184747)[j_182725];
                                        int16_t gt_arg1_182752 = ((int16_t *) mem_184749)[j_182725];
                                        int8_t gt_arg0_182756 = ((int8_t *) mem_184745)[tmp_182747];
                                        int64_t gt_arg0_182757 = ((int64_t *) mem_184747)[tmp_182747];
                                        int16_t gt_arg0_182758 = ((int16_t *) mem_184749)[tmp_182747];
                                        bool cond_182759 = gt_arg0_182756 == gt_arg1_182750;
                                        bool defunc_0_leq_res_t_res_182760 = sle64(gt_arg0_182757, gt_arg1_182751);
                                        bool defunc_0_leq_res_182761 = sle16(gt_arg0_182758, gt_arg1_182752);
                                        bool x_182762 = cond_182759 && defunc_0_leq_res_t_res_182760;
                                        bool x_182763 = !cond_182759;
                                        bool y_182764 = defunc_0_leq_res_182761 && x_182763;
                                        bool defunc_0_leq_res_182765 = x_182762 || y_182764;
                                        bool defunc_0_lifted_gt_res_182766 = !defunc_0_leq_res_182765;
                                        
                                        loop_cond_182749 = defunc_0_lifted_gt_res_182766;
                                    } else {
                                        loop_cond_182749 = 0;
                                    }
                                    
                                    bool loop_while_tmp_185776 = loop_cond_182749;
                                    int64_t j_tmp_185780 = tmp_182747;
                                    
                                    loop_while_182721 = loop_while_tmp_185776;
                                    j_182725 = j_tmp_185780;
                                }
                                s_182716 = loop_while_182721;
                                s_182720 = j_182725;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_184726, i_183992 * block_sizze_182591, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184745, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_182591});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184729, i_183992 * block_sizze_182591, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184747, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_182591});
                        lmad_copy_2b(ctx, 1, (uint16_t *) mem_184732, i_183992 * block_sizze_182591, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_184749, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_182591});
                    }
                    if (memblock_alloc(ctx, &mem_184826, flat_dim_182592, "mem_184826")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_184826.mem, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (uint8_t *) mem_184726, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_182581, block_sizze_182591});
                    if (memblock_alloc(ctx, &mem_184830, bytes_184728, "mem_184830")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_184830.mem, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (uint64_t *) mem_184729, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_182581, block_sizze_182591});
                    if (memblock_alloc(ctx, &mem_184834, bytes_184731, "mem_184834")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_184834.mem, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (uint16_t *) mem_184732, (int64_t) 0, (int64_t []) {block_sizze_182591, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_182581, block_sizze_182591});
                    
                    int64_t data_182776;
                    bool data_182777;
                    int64_t data_182781;
                    int64_t loop_dz2084Uz2082U_182782;
                    bool loop_while_182783;
                    int64_t stride_182787;
                    
                    if (memblock_set(ctx, &mem_param_184838, &mem_184826, "mem_184826") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_184841, &mem_184830, "mem_184830") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_184844, &mem_184834, "mem_184834") != 0)
                        return 1;
                    loop_dz2084Uz2082U_182782 = flat_dim_182592;
                    loop_while_182783 = loop_cond_182773;
                    stride_182787 = block_sizze_182591;
                    while (loop_while_182783) {
                        int64_t next_stride_182788 = mul64((int64_t) 2, stride_182787);
                        bool zzero_182789 = next_stride_182788 == (int64_t) 0;
                        bool nonzzero_182790 = !zzero_182789;
                        bool nonzzero_cert_182791;
                        
                        if (!nonzzero_182790) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_182792 = sdiv64(flat_dim_182592, next_stride_182788);
                        bool bounds_invalid_upwards_182793 = slt64(num_merges_182792, (int64_t) 0);
                        bool valid_182794 = !bounds_invalid_upwards_182793;
                        bool range_valid_c_182795;
                        
                        if (!valid_182794) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_182792, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:357:63-73\n   #6  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_182797 = sub64(next_stride_182788, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_182798 = sle64((int64_t) 0, m_182797);
                        bool cond_182800 = slt64(next_stride_182788, (int64_t) 10);
                        bool protect_assert_disj_182801 = nonzzero_182775 || cond_182800;
                        bool nonzzero_cert_182802;
                        
                        if (!protect_assert_disj_182801) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_182803 = smod_safe64(next_stride_182788, merge_block_sizze_182597);
                        bool num_blocks_182804 = zeze_lhs_182803 == (int64_t) 0;
                        bool protect_assert_disj_182805 = cond_182800 || num_blocks_182804;
                        bool assert_c_182806;
                        
                        if (!protect_assert_disj_182805) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_182807 = sdiv_safe64(next_stride_182788, merge_block_sizze_182597);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808 = add64((int64_t) 1, num_blocks_182807);
                        int64_t j_m_i_182809 = sub64(next_stride_182788, stride_182787);
                        int64_t flat_dim_182810 = merge_block_sizze_182597 * num_blocks_182807;
                        bool bounds_invalid_upwards_182811 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808, (int64_t) 0);
                        bool empty_slice_182812 = j_m_i_182809 == (int64_t) 0;
                        int64_t m_182813 = sub64(j_m_i_182809, (int64_t) 1);
                        bool zzero_lte_i_182814 = sle64((int64_t) 0, stride_182787);
                        bool i_lte_j_182815 = sle64(stride_182787, next_stride_182788);
                        bool empty_slice_182816 = stride_182787 == (int64_t) 0;
                        int64_t m_182817 = sub64(stride_182787, (int64_t) 1);
                        bool bounds_invalid_upwards_182818 = slt64(num_blocks_182807, (int64_t) 0);
                        bool cond_182819 = slt64((int64_t) 0, stride_182787);
                        bool valid_182820 = !bounds_invalid_upwards_182811;
                        int64_t i_p_m_t_s_182821 = add64(stride_182787, m_182813);
                        bool zzero_leq_i_p_m_t_s_182822 = sle64((int64_t) 0, m_182817);
                        bool i_p_m_t_s_leq_w_182823 = slt64(m_182817, next_stride_182788);
                        bool valid_182824 = !bounds_invalid_upwards_182818;
                        bool i_p_m_t_s_leq_w_182825 = slt64(m_182797, flat_dim_182810);
                        bool y_182826 = slt64((int64_t) 0, j_m_i_182809);
                        bool protect_assert_disj_182827 = cond_182800 || valid_182820;
                        bool range_valid_c_182828;
                        
                        if (!protect_assert_disj_182827) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:357:63-73\n   #10 ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_182829 = sle64((int64_t) 0, i_p_m_t_s_182821);
                        bool i_p_m_t_s_leq_w_182830 = slt64(i_p_m_t_s_182821, next_stride_182788);
                        bool y_182831 = zzero_leq_i_p_m_t_s_182822 && i_p_m_t_s_leq_w_182823;
                        bool protect_assert_disj_182832 = cond_182800 || valid_182824;
                        bool range_valid_c_182833;
                        
                        if (!protect_assert_disj_182832) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_182807, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:357:63-73\n   #9  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_182834 = zzero_leq_i_p_m_t_s_182798 && i_p_m_t_s_leq_w_182825;
                        bool y_182835 = zzero_lte_i_182814 && i_p_m_t_s_leq_w_182830;
                        bool forwards_ok_182836 = zzero_lte_i_182814 && y_182831;
                        bool ok_or_empty_182837 = zzero_182789 || y_182834;
                        bool protect_assert_disj_182838 = cond_182819 || y_182826;
                        bool y_182839 = zzero_leq_i_p_m_t_s_182829 && y_182835;
                        bool ok_or_empty_182840 = empty_slice_182816 || forwards_ok_182836;
                        bool protect_assert_disj_182841 = cond_182800 || ok_or_empty_182837;
                        bool index_certs_182842;
                        
                        if (!protect_assert_disj_182841) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_182788, "] out of bounds for array of shape [", (long long) flat_dim_182810, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:357:63-73\n   #9  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_182843 = !cond_182800;
                        bool protect_assert_disj_182844 = protect_assert_disj_182838 || loop_not_taken_182843;
                        bool index_certs_182845;
                        
                        if (!protect_assert_disj_182844) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:357:63-73\n   #10 ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_182846 = i_lte_j_182815 && y_182839;
                        bool protect_assert_disj_182847 = cond_182800 || ok_or_empty_182840;
                        bool index_certs_182848;
                        
                        if (!protect_assert_disj_182847) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_182787, "] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:357:63-73\n   #11 ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_182849 = ok_or_empty_182840 || loop_not_taken_182843;
                        bool index_certs_182850;
                        
                        if (!protect_assert_disj_182849) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_182787, "] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_182851 = empty_slice_182812 || forwards_ok_182846;
                        bool protect_assert_disj_182852 = cond_182800 || ok_or_empty_182851;
                        bool index_certs_182853;
                        
                        if (!protect_assert_disj_182852) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_182787, ":] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:357:63-73\n   #11 ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_182854 = loop_not_taken_182843 || ok_or_empty_182851;
                        bool index_certs_182855;
                        
                        if (!protect_assert_disj_182854) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_182787, ":] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_184845 = next_stride_182788 * num_merges_182792;
                        int64_t binop_x_184847 = (int64_t) 8 * num_merges_182792;
                        int64_t bytes_184848 = next_stride_182788 * binop_x_184847;
                        int64_t binop_x_184850 = (int64_t) 2 * num_merges_182792;
                        int64_t bytes_184851 = next_stride_182788 * binop_x_184850;
                        bool i_lte_j_182799 = sle64((int64_t) 0, next_stride_182788);
                        
                        if (mem_184846_cached_sizze_186291 < bytes_184845) {
                            err = lexical_realloc(ctx, &mem_184846, &mem_184846_cached_sizze_186291, bytes_184845);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_184849_cached_sizze_186292 < bytes_184848) {
                            err = lexical_realloc(ctx, &mem_184849, &mem_184849_cached_sizze_186292, bytes_184848);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_184852_cached_sizze_186293 < bytes_184851) {
                            err = lexical_realloc(ctx, &mem_184852, &mem_184852_cached_sizze_186293, bytes_184851);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_184865 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808;
                        int64_t binop_x_184883 = (int64_t) 8 * num_blocks_182807;
                        int64_t bytes_184884 = merge_block_sizze_182597 * binop_x_184883;
                        int64_t binop_x_184886 = (int64_t) 2 * num_blocks_182807;
                        int64_t bytes_184887 = merge_block_sizze_182597 * binop_x_184886;
                        int64_t bytes_184948 = (int64_t) 16 * stride_182787;
                        int64_t bytes_184950 = (int64_t) 4 * stride_182787;
                        
                        for (int64_t i_184019 = 0; i_184019 < num_merges_182792; i_184019++) {
                            int64_t start_182860 = mul64(next_stride_182788, i_184019);
                            int64_t j_m_i_182861 = sub64(loop_dz2084Uz2082U_182782, start_182860);
                            bool empty_slice_182862 = j_m_i_182861 == (int64_t) 0;
                            int64_t m_182863 = sub64(j_m_i_182861, (int64_t) 1);
                            int64_t i_p_m_t_s_182864 = add64(start_182860, m_182863);
                            bool zzero_leq_i_p_m_t_s_182865 = sle64((int64_t) 0, i_p_m_t_s_182864);
                            bool i_p_m_t_s_leq_w_182866 = slt64(i_p_m_t_s_182864, loop_dz2084Uz2082U_182782);
                            bool zzero_lte_i_182867 = sle64((int64_t) 0, start_182860);
                            bool i_lte_j_182868 = sle64(start_182860, loop_dz2084Uz2082U_182782);
                            bool y_182869 = i_p_m_t_s_leq_w_182866 && zzero_lte_i_182867;
                            bool y_182870 = zzero_leq_i_p_m_t_s_182865 && y_182869;
                            bool forwards_ok_182871 = i_lte_j_182868 && y_182870;
                            bool ok_or_empty_182872 = empty_slice_182862 || forwards_ok_182871;
                            bool index_certs_182873;
                            
                            if (!ok_or_empty_182872) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_182860, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_182782, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_182874 = slt64(m_182797, j_m_i_182861);
                            bool y_182875 = zzero_leq_i_p_m_t_s_182798 && i_p_m_t_s_leq_w_182874;
                            bool forwards_ok_182876 = i_lte_j_182799 && y_182875;
                            bool ok_or_empty_182877 = zzero_182789 || forwards_ok_182876;
                            bool index_certs_182878;
                            
                            if (!ok_or_empty_182877) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_182788, "] out of bounds for array of shape [", (long long) j_m_i_182861, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_182800) {
                                int8_t dummy_182882;
                                int64_t dummy_182883;
                                int16_t dummy_182884;
                                
                                if (cond_182819) {
                                    int8_t head_res_182885 = ((int8_t *) mem_param_184838.mem)[start_182860];
                                    int64_t head_res_182886 = ((int64_t *) mem_param_184841.mem)[start_182860];
                                    int16_t head_res_182887 = ((int16_t *) mem_param_184844.mem)[start_182860];
                                    
                                    dummy_182882 = head_res_182885;
                                    dummy_182883 = head_res_182886;
                                    dummy_182884 = head_res_182887;
                                } else {
                                    int64_t slice_182888 = stride_182787 + start_182860;
                                    int8_t head_res_182889 = ((int8_t *) mem_param_184838.mem)[slice_182888];
                                    int64_t head_res_182890 = ((int64_t *) mem_param_184841.mem)[slice_182888];
                                    int16_t head_res_182891 = ((int16_t *) mem_param_184844.mem)[slice_182888];
                                    
                                    dummy_182882 = head_res_182889;
                                    dummy_182883 = head_res_182890;
                                    dummy_182884 = head_res_182891;
                                }
                                if (memblock_alloc(ctx, &mem_184947, next_stride_182788, "mem_184947")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185793 = 0; nest_i_185793 < next_stride_182788; nest_i_185793++) {
                                    ((int8_t *) mem_184947.mem)[nest_i_185793] = dummy_182882;
                                }
                                if (memblock_alloc(ctx, &mem_184949, bytes_184948, "mem_184949")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185794 = 0; nest_i_185794 < next_stride_182788; nest_i_185794++) {
                                    ((int64_t *) mem_184949.mem)[nest_i_185794] = dummy_182883;
                                }
                                if (memblock_alloc(ctx, &mem_184951, bytes_184950, "mem_184951")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185795 = 0; nest_i_185795 < next_stride_182788; nest_i_185795++) {
                                    ((int16_t *) mem_184951.mem)[nest_i_185795] = dummy_182884;
                                }
                                
                                int64_t data_182895;
                                int64_t i_182900 = (int64_t) 0;
                                
                                for (int64_t k_182899 = 0; k_182899 < next_stride_182788; k_182899++) {
                                    int64_t j_182904 = sub64(k_182899, i_182900);
                                    bool cond_182905 = j_182904 == j_m_i_182809;
                                    bool cond_182906;
                                    
                                    if (cond_182905) {
                                        cond_182906 = 1;
                                    } else {
                                        bool cond_182907 = slt64(i_182900, stride_182787);
                                        bool cond_f_res_182908;
                                        
                                        if (cond_182907) {
                                            bool x_182909 = sle64((int64_t) 0, j_182904);
                                            bool y_182910 = slt64(j_182904, j_m_i_182809);
                                            bool bounds_check_182911 = x_182909 && y_182910;
                                            bool index_certs_182912;
                                            
                                            if (!bounds_check_182911) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_182904, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:357:63-73\n   #9  ftsort.fut:350:1-357:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_182918 = sle64((int64_t) 0, i_182900);
                                            bool bounds_check_182919 = cond_182907 && x_182918;
                                            bool index_certs_182920;
                                            
                                            if (!bounds_check_182919) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_182900, "] out of bounds for array of shape [", (long long) stride_182787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:357:63-73\n   #9  ftsort.fut:350:1-357:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_182913 = stride_182787 + j_182904;
                                            int64_t slice_182914 = start_182860 + slice_182913;
                                            int8_t leq_arg1_182915 = ((int8_t *) mem_param_184838.mem)[slice_182914];
                                            int64_t leq_arg1_182916 = ((int64_t *) mem_param_184841.mem)[slice_182914];
                                            int16_t leq_arg1_182917 = ((int16_t *) mem_param_184844.mem)[slice_182914];
                                            int64_t slice_182921 = start_182860 + i_182900;
                                            int8_t leq_arg0_182922 = ((int8_t *) mem_param_184838.mem)[slice_182921];
                                            int64_t leq_arg0_182923 = ((int64_t *) mem_param_184841.mem)[slice_182921];
                                            int16_t leq_arg0_182924 = ((int16_t *) mem_param_184844.mem)[slice_182921];
                                            bool cond_182925 = leq_arg0_182922 == leq_arg1_182915;
                                            bool defunc_0_leq_res_t_res_182926 = sle64(leq_arg0_182923, leq_arg1_182916);
                                            bool defunc_0_leq_res_182927 = sle16(leq_arg0_182924, leq_arg1_182917);
                                            bool x_182928 = cond_182925 && defunc_0_leq_res_t_res_182926;
                                            bool x_182929 = !cond_182925;
                                            bool y_182930 = defunc_0_leq_res_182927 && x_182929;
                                            bool defunc_0_leq_res_182931 = x_182928 || y_182930;
                                            
                                            cond_f_res_182908 = defunc_0_leq_res_182931;
                                        } else {
                                            cond_f_res_182908 = 0;
                                        }
                                        cond_182906 = cond_f_res_182908;
                                    }
                                    
                                    int64_t loopres_182932;
                                    int8_t loopres_182933;
                                    int64_t loopres_182934;
                                    int16_t loopres_182935;
                                    
                                    if (cond_182906) {
                                        bool x_182937 = sle64((int64_t) 0, i_182900);
                                        bool y_182938 = slt64(i_182900, stride_182787);
                                        bool bounds_check_182939 = x_182937 && y_182938;
                                        bool index_certs_182940;
                                        
                                        if (!bounds_check_182939) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_182900, "] out of bounds for array of shape [", (long long) stride_182787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:357:63-73\n   #9  ftsort.fut:350:1-357:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_182936 = add64((int64_t) 1, i_182900);
                                        int64_t slice_182941 = start_182860 + i_182900;
                                        int8_t tmp_182942 = ((int8_t *) mem_param_184838.mem)[slice_182941];
                                        int64_t tmp_182943 = ((int64_t *) mem_param_184841.mem)[slice_182941];
                                        int16_t tmp_182944 = ((int16_t *) mem_param_184844.mem)[slice_182941];
                                        
                                        loopres_182932 = tmp_182936;
                                        loopres_182933 = tmp_182942;
                                        loopres_182934 = tmp_182943;
                                        loopres_182935 = tmp_182944;
                                    } else {
                                        bool x_182945 = sle64((int64_t) 0, j_182904);
                                        bool y_182946 = slt64(j_182904, j_m_i_182809);
                                        bool bounds_check_182947 = x_182945 && y_182946;
                                        bool index_certs_182948;
                                        
                                        if (!bounds_check_182947) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_182904, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:357:63-73\n   #9  ftsort.fut:350:1-357:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_182949 = stride_182787 + j_182904;
                                        int64_t slice_182950 = start_182860 + slice_182949;
                                        int8_t tmp_182951 = ((int8_t *) mem_param_184838.mem)[slice_182950];
                                        int64_t tmp_182952 = ((int64_t *) mem_param_184841.mem)[slice_182950];
                                        int16_t tmp_182953 = ((int16_t *) mem_param_184844.mem)[slice_182950];
                                        
                                        loopres_182932 = i_182900;
                                        loopres_182933 = tmp_182951;
                                        loopres_182934 = tmp_182952;
                                        loopres_182935 = tmp_182953;
                                    }
                                    ((int8_t *) mem_184947.mem)[k_182899] = loopres_182933;
                                    ((int64_t *) mem_184949.mem)[k_182899] = loopres_182934;
                                    ((int16_t *) mem_184951.mem)[k_182899] = loopres_182935;
                                    
                                    int64_t i_tmp_185796 = loopres_182932;
                                    
                                    i_182900 = i_tmp_185796;
                                }
                                data_182895 = i_182900;
                                if (memblock_set(ctx, &ext_mem_184978, &mem_184947, "mem_184947") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184975, &mem_184949, "mem_184949") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184972, &mem_184951, "mem_184951") != 0)
                                    return 1;
                            } else {
                                if (mem_184866_cached_sizze_186294 < bytes_184865) {
                                    err = lexical_realloc(ctx, &mem_184866, &mem_184866_cached_sizze_186294, bytes_184865);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184868_cached_sizze_186295 < bytes_184865) {
                                    err = lexical_realloc(ctx, &mem_184868, &mem_184868_cached_sizze_186295, bytes_184865);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_184000 = 0; i_184000 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808; i_184000++) {
                                    int64_t split_count_arg3_182961 = mul64(merge_block_sizze_182597, i_184000);
                                    int64_t defunc_0_split_count_res_182962;
                                    int64_t defunc_0_split_count_res_182963;
                                    int64_t defunc_0_split_count_res_182964;
                                    int64_t defunc_0_split_count_res_182965;
                                    int64_t defunc_0_split_count_res_182966;
                                    
                                    if (futrts_lifted_normalizze_9100(ctx, &defunc_0_split_count_res_182962, &defunc_0_split_count_res_182963, &defunc_0_split_count_res_182964, &defunc_0_split_count_res_182965, &defunc_0_split_count_res_182966, (int64_t) 0, stride_182787, (int64_t) 0, j_m_i_182809, split_count_arg3_182961) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_182967 = slt64((int64_t) 0, defunc_0_split_count_res_182966);
                                    bool defunc_0_split_count_res_182968;
                                    int64_t defunc_0_split_count_res_182969;
                                    int64_t defunc_0_split_count_res_182970;
                                    int64_t defunc_0_split_count_res_182971;
                                    int64_t defunc_0_split_count_res_182972;
                                    int64_t defunc_0_split_count_res_182973;
                                    bool loop_while_182974;
                                    int64_t ss_182975;
                                    int64_t ss_182976;
                                    int64_t tt_182977;
                                    int64_t tt_182978;
                                    int64_t count_182979;
                                    
                                    loop_while_182974 = loop_cond_182967;
                                    ss_182975 = defunc_0_split_count_res_182962;
                                    ss_182976 = defunc_0_split_count_res_182963;
                                    tt_182977 = defunc_0_split_count_res_182964;
                                    tt_182978 = defunc_0_split_count_res_182965;
                                    count_182979 = defunc_0_split_count_res_182966;
                                    while (loop_while_182974) {
                                        int64_t zlze_lhs_182980 = sub64(ss_182976, ss_182975);
                                        bool cond_182981 = sle64(zlze_lhs_182980, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_182982;
                                        int64_t defunc_0_lifted_step_res_182983;
                                        int64_t defunc_0_lifted_step_res_182984;
                                        int64_t defunc_0_lifted_step_res_182985;
                                        
                                        if (cond_182981) {
                                            int64_t tmp_182986 = add64(tt_182977, count_182979);
                                            
                                            defunc_0_lifted_step_res_182982 = ss_182975;
                                            defunc_0_lifted_step_res_182983 = tmp_182986;
                                            defunc_0_lifted_step_res_182984 = tt_182978;
                                            defunc_0_lifted_step_res_182985 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_182987 = sub64(tt_182978, tt_182977);
                                            bool cond_182988 = sle64(zlze_lhs_182987, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_182989;
                                            int64_t defunc_0_lifted_step_res_f_res_182990;
                                            int64_t defunc_0_lifted_step_res_f_res_182991;
                                            int64_t defunc_0_lifted_step_res_f_res_182992;
                                            
                                            if (cond_182988) {
                                                int64_t tmp_182993 = add64(ss_182975, count_182979);
                                                
                                                defunc_0_lifted_step_res_f_res_182989 = tmp_182993;
                                                defunc_0_lifted_step_res_f_res_182990 = tt_182977;
                                                defunc_0_lifted_step_res_f_res_182991 = tt_182978;
                                                defunc_0_lifted_step_res_f_res_182992 = (int64_t) 0;
                                            } else {
                                                bool cond_182994 = count_182979 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_182995;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_182996;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_182997;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_182998;
                                                
                                                if (cond_182994) {
                                                    bool x_182999 = sle64((int64_t) 0, ss_182975);
                                                    bool y_183000 = slt64(ss_182975, stride_182787);
                                                    bool bounds_check_183001 = x_182999 && y_183000;
                                                    bool index_certs_183002;
                                                    
                                                    if (!bounds_check_183001) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_182975, "] out of bounds for array of shape [", (long long) stride_182787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:357:63-73\n   #13 ftsort.fut:350:1-357:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_183007 = sle64((int64_t) 0, tt_182977);
                                                    bool y_183008 = slt64(tt_182977, j_m_i_182809);
                                                    bool bounds_check_183009 = x_183007 && y_183008;
                                                    bool index_certs_183010;
                                                    
                                                    if (!bounds_check_183009) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_182977, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:357:63-73\n   #13 ftsort.fut:350:1-357:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_183003 = start_182860 + ss_182975;
                                                    int8_t leq_arg1_183004 = ((int8_t *) mem_param_184838.mem)[slice_183003];
                                                    int64_t leq_arg1_183005 = ((int64_t *) mem_param_184841.mem)[slice_183003];
                                                    int16_t leq_arg1_183006 = ((int16_t *) mem_param_184844.mem)[slice_183003];
                                                    int64_t slice_183011 = stride_182787 + tt_182977;
                                                    int64_t slice_183012 = start_182860 + slice_183011;
                                                    int8_t leq_arg0_183013 = ((int8_t *) mem_param_184838.mem)[slice_183012];
                                                    int64_t leq_arg0_183014 = ((int64_t *) mem_param_184841.mem)[slice_183012];
                                                    int16_t leq_arg0_183015 = ((int16_t *) mem_param_184844.mem)[slice_183012];
                                                    bool cond_183016 = leq_arg0_183013 == leq_arg1_183004;
                                                    bool defunc_0_leq_res_t_res_183017 = sle64(leq_arg0_183014, leq_arg1_183005);
                                                    bool defunc_0_leq_res_183018 = sle16(leq_arg0_183015, leq_arg1_183006);
                                                    bool x_183019 = cond_183016 && defunc_0_leq_res_t_res_183017;
                                                    bool x_183020 = !cond_183016;
                                                    bool y_183021 = defunc_0_leq_res_183018 && x_183020;
                                                    bool defunc_0_leq_res_183022 = x_183019 || y_183021;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183023;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183024;
                                                    
                                                    if (defunc_0_leq_res_183022) {
                                                        int64_t tmp_183025 = add64((int64_t) 1, tt_182977);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183023 = ss_182975;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183024 = tmp_183025;
                                                    } else {
                                                        int64_t tmp_183026 = add64((int64_t) 1, ss_182975);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183023 = tmp_183026;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183024 = tt_182977;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_182995 = defunc_0_lifted_step_res_f_res_f_res_t_res_183023;
                                                    defunc_0_lifted_step_res_f_res_f_res_182996 = defunc_0_lifted_step_res_f_res_f_res_t_res_183024;
                                                    defunc_0_lifted_step_res_f_res_f_res_182997 = tt_182978;
                                                    defunc_0_lifted_step_res_f_res_f_res_182998 = (int64_t) 0;
                                                } else {
                                                    int64_t m_183027 = sdiv64(count_182979, (int64_t) 2);
                                                    int64_t n_183028 = sub64(count_182979, m_183027);
                                                    bool cond_183029 = n_183028 == (int64_t) 0;
                                                    int64_t zgze_lhs_183030 = add64(ss_182975, m_183027);
                                                    bool cond_f_res_183031 = sle64(ss_182976, zgze_lhs_183030);
                                                    bool x_183032 = !cond_183029;
                                                    bool y_183033 = cond_f_res_183031 && x_183032;
                                                    bool cond_183034 = cond_183029 || y_183033;
                                                    bool leq_y_x_183035;
                                                    
                                                    if (cond_183034) {
                                                        leq_y_x_183035 = 1;
                                                    } else {
                                                        bool x_183036 = sle64((int64_t) 0, zgze_lhs_183030);
                                                        bool y_183037 = slt64(zgze_lhs_183030, stride_182787);
                                                        bool bounds_check_183038 = x_183036 && y_183037;
                                                        bool index_certs_183039;
                                                        
                                                        if (!bounds_check_183038) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_183030, "] out of bounds for array of shape [", (long long) stride_182787, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:357:63-73\n   #13 ftsort.fut:350:1-357:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_183044 = add64(tt_182977, n_183028);
                                                        int64_t leq_arg0_183045 = sub64(zm_lhs_183044, (int64_t) 1);
                                                        bool x_183046 = sle64((int64_t) 0, leq_arg0_183045);
                                                        bool y_183047 = slt64(leq_arg0_183045, j_m_i_182809);
                                                        bool bounds_check_183048 = x_183046 && y_183047;
                                                        bool index_certs_183049;
                                                        
                                                        if (!bounds_check_183048) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_183045, "] out of bounds for array of shape [", (long long) j_m_i_182809, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:357:63-73\n   #13 ftsort.fut:350:1-357:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_183040 = start_182860 + zgze_lhs_183030;
                                                        int8_t leq_arg1_183041 = ((int8_t *) mem_param_184838.mem)[slice_183040];
                                                        int64_t leq_arg1_183042 = ((int64_t *) mem_param_184841.mem)[slice_183040];
                                                        int16_t leq_arg1_183043 = ((int16_t *) mem_param_184844.mem)[slice_183040];
                                                        int64_t slice_183050 = stride_182787 + leq_arg0_183045;
                                                        int64_t slice_183051 = start_182860 + slice_183050;
                                                        int8_t leq_arg0_183052 = ((int8_t *) mem_param_184838.mem)[slice_183051];
                                                        int64_t leq_arg0_183053 = ((int64_t *) mem_param_184841.mem)[slice_183051];
                                                        int16_t leq_arg0_183054 = ((int16_t *) mem_param_184844.mem)[slice_183051];
                                                        bool cond_183055 = leq_arg0_183052 == leq_arg1_183041;
                                                        bool defunc_0_leq_res_t_res_183056 = sle64(leq_arg0_183053, leq_arg1_183042);
                                                        bool defunc_0_leq_res_183057 = sle16(leq_arg0_183054, leq_arg1_183043);
                                                        bool x_183058 = cond_183055 && defunc_0_leq_res_t_res_183056;
                                                        bool x_183059 = !cond_183055;
                                                        bool y_183060 = defunc_0_leq_res_183057 && x_183059;
                                                        bool defunc_0_leq_res_183061 = x_183058 || y_183060;
                                                        
                                                        leq_y_x_183035 = defunc_0_leq_res_183061;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_183062;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_183063;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_183064;
                                                    
                                                    if (leq_y_x_183035) {
                                                        int64_t tmp_183065 = add64(tt_182977, n_183028);
                                                        int64_t tmp_183066 = sub64(count_182979, n_183028);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183062 = tmp_183065;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183063 = tt_182978;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183064 = tmp_183066;
                                                    } else {
                                                        int64_t tmp_183067 = add64(tt_182977, n_183028);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183062 = tt_182977;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183063 = tmp_183067;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_183064 = count_182979;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_182995 = ss_182975;
                                                    defunc_0_lifted_step_res_f_res_f_res_182996 = defunc_0_lifted_step_res_f_res_f_res_f_res_183062;
                                                    defunc_0_lifted_step_res_f_res_f_res_182997 = defunc_0_lifted_step_res_f_res_f_res_f_res_183063;
                                                    defunc_0_lifted_step_res_f_res_f_res_182998 = defunc_0_lifted_step_res_f_res_f_res_f_res_183064;
                                                }
                                                defunc_0_lifted_step_res_f_res_182989 = defunc_0_lifted_step_res_f_res_f_res_182995;
                                                defunc_0_lifted_step_res_f_res_182990 = defunc_0_lifted_step_res_f_res_f_res_182996;
                                                defunc_0_lifted_step_res_f_res_182991 = defunc_0_lifted_step_res_f_res_f_res_182997;
                                                defunc_0_lifted_step_res_f_res_182992 = defunc_0_lifted_step_res_f_res_f_res_182998;
                                            }
                                            defunc_0_lifted_step_res_182982 = defunc_0_lifted_step_res_f_res_182989;
                                            defunc_0_lifted_step_res_182983 = defunc_0_lifted_step_res_f_res_182990;
                                            defunc_0_lifted_step_res_182984 = defunc_0_lifted_step_res_f_res_182991;
                                            defunc_0_lifted_step_res_182985 = defunc_0_lifted_step_res_f_res_182992;
                                        }
                                        
                                        int64_t loopres_183068;
                                        int64_t loopres_183069;
                                        int64_t loopres_183070;
                                        int64_t loopres_183071;
                                        int64_t loopres_183072;
                                        
                                        if (futrts_lifted_normalizze_9100(ctx, &loopres_183068, &loopres_183069, &loopres_183070, &loopres_183071, &loopres_183072, defunc_0_lifted_step_res_182982, ss_182976, defunc_0_lifted_step_res_182983, defunc_0_lifted_step_res_182984, defunc_0_lifted_step_res_182985) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_183073 = slt64((int64_t) 0, loopres_183072);
                                        bool loop_while_tmp_185802 = loop_cond_183073;
                                        int64_t ss_tmp_185803 = loopres_183068;
                                        int64_t ss_tmp_185804 = loopres_183069;
                                        int64_t tt_tmp_185805 = loopres_183070;
                                        int64_t tt_tmp_185806 = loopres_183071;
                                        int64_t count_tmp_185807 = loopres_183072;
                                        
                                        loop_while_182974 = loop_while_tmp_185802;
                                        ss_182975 = ss_tmp_185803;
                                        ss_182976 = ss_tmp_185804;
                                        tt_182977 = tt_tmp_185805;
                                        tt_182978 = tt_tmp_185806;
                                        count_182979 = count_tmp_185807;
                                    }
                                    defunc_0_split_count_res_182968 = loop_while_182974;
                                    defunc_0_split_count_res_182969 = ss_182975;
                                    defunc_0_split_count_res_182970 = ss_182976;
                                    defunc_0_split_count_res_182971 = tt_182977;
                                    defunc_0_split_count_res_182972 = tt_182978;
                                    defunc_0_split_count_res_182973 = count_182979;
                                    ((int64_t *) mem_184866)[i_184000] = defunc_0_split_count_res_182969;
                                    ((int64_t *) mem_184868)[i_184000] = defunc_0_split_count_res_182971;
                                }
                                if (mem_184882_cached_sizze_186296 < flat_dim_182810) {
                                    err = lexical_realloc(ctx, &mem_184882, &mem_184882_cached_sizze_186296, flat_dim_182810);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184885_cached_sizze_186297 < bytes_184884) {
                                    err = lexical_realloc(ctx, &mem_184885, &mem_184885_cached_sizze_186297, bytes_184884);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184888_cached_sizze_186298 < bytes_184887) {
                                    err = lexical_realloc(ctx, &mem_184888, &mem_184888_cached_sizze_186298, bytes_184887);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_184009 = 0; i_184009 < num_blocks_182807; i_184009++) {
                                    bool y_183082 = slt64(i_184009, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808);
                                    bool index_certs_183084;
                                    
                                    if (!y_183082) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_184009, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:357:63-73\n   #10 ftsort.fut:350:1-357:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_183085 = ((int64_t *) mem_184866)[i_184009];
                                    int64_t defunc_0_f_res_183086 = ((int64_t *) mem_184868)[i_184009];
                                    int64_t tmp_183087 = add64((int64_t) 1, i_184009);
                                    bool x_183088 = sle64((int64_t) 0, tmp_183087);
                                    bool y_183089 = slt64(tmp_183087, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808);
                                    bool bounds_check_183090 = x_183088 && y_183089;
                                    bool index_certs_183091;
                                    
                                    if (!bounds_check_183090) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_183087, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_182808, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:357:63-73\n   #10 ftsort.fut:350:1-357:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_183092 = ((int64_t *) mem_184866)[tmp_183087];
                                    int64_t defunc_0_f_res_183093 = ((int64_t *) mem_184868)[tmp_183087];
                                    int64_t merge_sequential_arg2_183094 = add64(stride_182787, defunc_0_f_res_183086);
                                    int64_t merge_sequential_arg2_183095 = add64(stride_182787, defunc_0_f_res_183093);
                                    int64_t j_m_i_183096 = sub64(merge_sequential_arg2_183095, merge_sequential_arg2_183094);
                                    bool empty_slice_183097 = j_m_i_183096 == (int64_t) 0;
                                    int64_t m_183098 = sub64(j_m_i_183096, (int64_t) 1);
                                    int64_t i_p_m_t_s_183099 = add64(merge_sequential_arg2_183094, m_183098);
                                    bool zzero_leq_i_p_m_t_s_183100 = sle64((int64_t) 0, i_p_m_t_s_183099);
                                    bool i_p_m_t_s_leq_w_183101 = slt64(i_p_m_t_s_183099, next_stride_182788);
                                    bool zzero_lte_i_183102 = sle64((int64_t) 0, merge_sequential_arg2_183094);
                                    bool i_lte_j_183103 = sle64(merge_sequential_arg2_183094, merge_sequential_arg2_183095);
                                    bool y_183104 = i_p_m_t_s_leq_w_183101 && zzero_lte_i_183102;
                                    bool y_183105 = zzero_leq_i_p_m_t_s_183100 && y_183104;
                                    bool forwards_ok_183106 = i_lte_j_183103 && y_183105;
                                    bool ok_or_empty_183107 = empty_slice_183097 || forwards_ok_183106;
                                    bool index_certs_183108;
                                    
                                    if (!ok_or_empty_183107) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_183094, ":", (long long) merge_sequential_arg2_183095, "] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:357:63-73\n   #10 ftsort.fut:350:1-357:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_183109 = sub64(defunc_0_f_res_183092, defunc_0_f_res_183085);
                                    bool empty_slice_183110 = j_m_i_183109 == (int64_t) 0;
                                    int64_t m_183111 = sub64(j_m_i_183109, (int64_t) 1);
                                    int64_t i_p_m_t_s_183112 = add64(defunc_0_f_res_183085, m_183111);
                                    bool zzero_leq_i_p_m_t_s_183113 = sle64((int64_t) 0, i_p_m_t_s_183112);
                                    bool i_p_m_t_s_leq_w_183114 = slt64(i_p_m_t_s_183112, next_stride_182788);
                                    bool zzero_lte_i_183115 = sle64((int64_t) 0, defunc_0_f_res_183085);
                                    bool i_lte_j_183116 = sle64(defunc_0_f_res_183085, defunc_0_f_res_183092);
                                    bool y_183117 = i_p_m_t_s_leq_w_183114 && zzero_lte_i_183115;
                                    bool y_183118 = zzero_leq_i_p_m_t_s_183113 && y_183117;
                                    bool forwards_ok_183119 = i_lte_j_183116 && y_183118;
                                    bool ok_or_empty_183120 = empty_slice_183110 || forwards_ok_183119;
                                    bool index_certs_183121;
                                    
                                    if (!ok_or_empty_183120) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_183085, ":", (long long) defunc_0_f_res_183092, "] out of bounds for array of shape [", (long long) next_stride_182788, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:357:63-73\n   #10 ftsort.fut:350:1-357:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_183122 = slt64((int64_t) 0, j_m_i_183109);
                                    int8_t dummy_183123;
                                    int64_t dummy_183124;
                                    int16_t dummy_183125;
                                    
                                    if (cond_183122) {
                                        bool index_certs_183126;
                                        
                                        if (!cond_183122) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_183109, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:357:63-73\n   #12 ftsort.fut:350:1-357:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183127 = start_182860 + defunc_0_f_res_183085;
                                        int8_t head_res_183128 = ((int8_t *) mem_param_184838.mem)[slice_183127];
                                        int64_t head_res_183129 = ((int64_t *) mem_param_184841.mem)[slice_183127];
                                        int16_t head_res_183130 = ((int16_t *) mem_param_184844.mem)[slice_183127];
                                        
                                        dummy_183123 = head_res_183128;
                                        dummy_183124 = head_res_183129;
                                        dummy_183125 = head_res_183130;
                                    } else {
                                        bool y_183131 = slt64((int64_t) 0, j_m_i_183096);
                                        bool index_certs_183132;
                                        
                                        if (!y_183131) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_183096, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:357:63-73\n   #12 ftsort.fut:350:1-357:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183133 = start_182860 + merge_sequential_arg2_183094;
                                        int8_t head_res_183134 = ((int8_t *) mem_param_184838.mem)[slice_183133];
                                        int64_t head_res_183135 = ((int64_t *) mem_param_184841.mem)[slice_183133];
                                        int16_t head_res_183136 = ((int16_t *) mem_param_184844.mem)[slice_183133];
                                        
                                        dummy_183123 = head_res_183134;
                                        dummy_183124 = head_res_183135;
                                        dummy_183125 = head_res_183136;
                                    }
                                    for (int64_t nest_i_185811 = 0; nest_i_185811 < merge_block_sizze_182597; nest_i_185811++) {
                                        ((int8_t *) mem_184882)[i_184009 * merge_block_sizze_182597 + nest_i_185811] = dummy_183123;
                                    }
                                    for (int64_t nest_i_185812 = 0; nest_i_185812 < merge_block_sizze_182597; nest_i_185812++) {
                                        ((int64_t *) mem_184885)[i_184009 * merge_block_sizze_182597 + nest_i_185812] = dummy_183124;
                                    }
                                    for (int64_t nest_i_185813 = 0; nest_i_185813 < merge_block_sizze_182597; nest_i_185813++) {
                                        ((int16_t *) mem_184888)[i_184009 * merge_block_sizze_182597 + nest_i_185813] = dummy_183125;
                                    }
                                    
                                    int64_t data_183140;
                                    int64_t i_183145 = (int64_t) 0;
                                    
                                    for (int64_t k_183144 = 0; k_183144 < merge_block_sizze_182597; k_183144++) {
                                        int64_t j_183149 = sub64(k_183144, i_183145);
                                        bool cond_183150 = j_183149 == j_m_i_183096;
                                        bool cond_183151;
                                        
                                        if (cond_183150) {
                                            cond_183151 = 1;
                                        } else {
                                            bool cond_183152 = slt64(i_183145, j_m_i_183109);
                                            bool cond_f_res_183153;
                                            
                                            if (cond_183152) {
                                                bool x_183154 = sle64((int64_t) 0, j_183149);
                                                bool y_183155 = slt64(j_183149, j_m_i_183096);
                                                bool bounds_check_183156 = x_183154 && y_183155;
                                                bool index_certs_183157;
                                                
                                                if (!bounds_check_183156) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183149, "] out of bounds for array of shape [", (long long) j_m_i_183096, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:357:63-73\n   #11 ftsort.fut:350:1-357:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_183163 = sle64((int64_t) 0, i_183145);
                                                bool bounds_check_183164 = cond_183152 && x_183163;
                                                bool index_certs_183165;
                                                
                                                if (!bounds_check_183164) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183145, "] out of bounds for array of shape [", (long long) j_m_i_183109, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:357:63-73\n   #11 ftsort.fut:350:1-357:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_183158 = merge_sequential_arg2_183094 + j_183149;
                                                int64_t slice_183159 = start_182860 + slice_183158;
                                                int8_t leq_arg1_183160 = ((int8_t *) mem_param_184838.mem)[slice_183159];
                                                int64_t leq_arg1_183161 = ((int64_t *) mem_param_184841.mem)[slice_183159];
                                                int16_t leq_arg1_183162 = ((int16_t *) mem_param_184844.mem)[slice_183159];
                                                int64_t slice_183166 = defunc_0_f_res_183085 + i_183145;
                                                int64_t slice_183167 = start_182860 + slice_183166;
                                                int8_t leq_arg0_183168 = ((int8_t *) mem_param_184838.mem)[slice_183167];
                                                int64_t leq_arg0_183169 = ((int64_t *) mem_param_184841.mem)[slice_183167];
                                                int16_t leq_arg0_183170 = ((int16_t *) mem_param_184844.mem)[slice_183167];
                                                bool cond_183171 = leq_arg0_183168 == leq_arg1_183160;
                                                bool defunc_0_leq_res_t_res_183172 = sle64(leq_arg0_183169, leq_arg1_183161);
                                                bool defunc_0_leq_res_183173 = sle16(leq_arg0_183170, leq_arg1_183162);
                                                bool x_183174 = cond_183171 && defunc_0_leq_res_t_res_183172;
                                                bool x_183175 = !cond_183171;
                                                bool y_183176 = defunc_0_leq_res_183173 && x_183175;
                                                bool defunc_0_leq_res_183177 = x_183174 || y_183176;
                                                
                                                cond_f_res_183153 = defunc_0_leq_res_183177;
                                            } else {
                                                cond_f_res_183153 = 0;
                                            }
                                            cond_183151 = cond_f_res_183153;
                                        }
                                        
                                        int64_t loopres_183178;
                                        int8_t loopres_183179;
                                        int64_t loopres_183180;
                                        int16_t loopres_183181;
                                        
                                        if (cond_183151) {
                                            bool x_183183 = sle64((int64_t) 0, i_183145);
                                            bool y_183184 = slt64(i_183145, j_m_i_183109);
                                            bool bounds_check_183185 = x_183183 && y_183184;
                                            bool index_certs_183186;
                                            
                                            if (!bounds_check_183185) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183145, "] out of bounds for array of shape [", (long long) j_m_i_183109, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:357:63-73\n   #11 ftsort.fut:350:1-357:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_183182 = add64((int64_t) 1, i_183145);
                                            int64_t slice_183187 = defunc_0_f_res_183085 + i_183145;
                                            int64_t slice_183188 = start_182860 + slice_183187;
                                            int8_t tmp_183189 = ((int8_t *) mem_param_184838.mem)[slice_183188];
                                            int64_t tmp_183190 = ((int64_t *) mem_param_184841.mem)[slice_183188];
                                            int16_t tmp_183191 = ((int16_t *) mem_param_184844.mem)[slice_183188];
                                            
                                            loopres_183178 = tmp_183182;
                                            loopres_183179 = tmp_183189;
                                            loopres_183180 = tmp_183190;
                                            loopres_183181 = tmp_183191;
                                        } else {
                                            bool x_183192 = sle64((int64_t) 0, j_183149);
                                            bool y_183193 = slt64(j_183149, j_m_i_183096);
                                            bool bounds_check_183194 = x_183192 && y_183193;
                                            bool index_certs_183195;
                                            
                                            if (!bounds_check_183194) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183149, "] out of bounds for array of shape [", (long long) j_m_i_183096, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:357:63-73\n   #11 ftsort.fut:350:1-357:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_183196 = merge_sequential_arg2_183094 + j_183149;
                                            int64_t slice_183197 = start_182860 + slice_183196;
                                            int8_t tmp_183198 = ((int8_t *) mem_param_184838.mem)[slice_183197];
                                            int64_t tmp_183199 = ((int64_t *) mem_param_184841.mem)[slice_183197];
                                            int16_t tmp_183200 = ((int16_t *) mem_param_184844.mem)[slice_183197];
                                            
                                            loopres_183178 = i_183145;
                                            loopres_183179 = tmp_183198;
                                            loopres_183180 = tmp_183199;
                                            loopres_183181 = tmp_183200;
                                        }
                                        ((int8_t *) mem_184882)[i_184009 * merge_block_sizze_182597 + k_183144] = loopres_183179;
                                        ((int64_t *) mem_184885)[i_184009 * merge_block_sizze_182597 + k_183144] = loopres_183180;
                                        ((int16_t *) mem_184888)[i_184009 * merge_block_sizze_182597 + k_183144] = loopres_183181;
                                        
                                        int64_t i_tmp_185814 = loopres_183178;
                                        
                                        i_183145 = i_tmp_185814;
                                    }
                                    data_183140 = i_183145;
                                }
                                if (memblock_alloc(ctx, &mem_184937, flat_dim_182810, "mem_184937")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_184937.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (uint8_t *) mem_184882, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (int64_t []) {num_blocks_182807, merge_block_sizze_182597});
                                if (memblock_alloc(ctx, &mem_184941, bytes_184884, "mem_184941")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_184941.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (uint64_t *) mem_184885, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (int64_t []) {num_blocks_182807, merge_block_sizze_182597});
                                if (memblock_alloc(ctx, &mem_184945, bytes_184887, "mem_184945")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_2b(ctx, 2, (uint16_t *) mem_184945.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (uint16_t *) mem_184888, (int64_t) 0, (int64_t []) {merge_block_sizze_182597, (int64_t) 1}, (int64_t []) {num_blocks_182807, merge_block_sizze_182597});
                                if (memblock_set(ctx, &ext_mem_184978, &mem_184937, "mem_184937") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184975, &mem_184941, "mem_184941") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184972, &mem_184945, "mem_184945") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_184846, i_184019 * next_stride_182788, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_184978.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_182788});
                            if (memblock_unref(ctx, &ext_mem_184978, "ext_mem_184978") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184849, i_184019 * next_stride_182788, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184975.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_182788});
                            if (memblock_unref(ctx, &ext_mem_184975, "ext_mem_184975") != 0)
                                return 1;
                            lmad_copy_2b(ctx, 1, (uint16_t *) mem_184852, i_184019 * next_stride_182788, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_184972.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_182788});
                            if (memblock_unref(ctx, &ext_mem_184972, "ext_mem_184972") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_184992, bytes_184845, "mem_184992")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_184992.mem, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (uint8_t *) mem_184846, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (int64_t []) {num_merges_182792, next_stride_182788});
                        if (memblock_alloc(ctx, &mem_184996, bytes_184848, "mem_184996")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_184996.mem, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (uint64_t *) mem_184849, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (int64_t []) {num_merges_182792, next_stride_182788});
                        if (memblock_alloc(ctx, &mem_185000, bytes_184851, "mem_185000")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_2b(ctx, 2, (uint16_t *) mem_185000.mem, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (uint16_t *) mem_184852, (int64_t) 0, (int64_t []) {next_stride_182788, (int64_t) 1}, (int64_t []) {num_merges_182792, next_stride_182788});
                        
                        bool loop_cond_183220 = slt64(next_stride_182788, flat_dim_182592);
                        
                        if (memblock_set(ctx, &mem_param_tmp_185781, &mem_184992, "mem_184992") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_185782, &mem_184996, "mem_184996") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_185783, &mem_185000, "mem_185000") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_185784 = bytes_184845;
                        bool loop_while_tmp_185785 = loop_cond_183220;
                        int64_t stride_tmp_185789 = next_stride_182788;
                        
                        if (memblock_set(ctx, &mem_param_184838, &mem_param_tmp_185781, "mem_param_tmp_185781") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_184841, &mem_param_tmp_185782, "mem_param_tmp_185782") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_184844, &mem_param_tmp_185783, "mem_param_tmp_185783") != 0)
                            return 1;
                        loop_dz2084Uz2082U_182782 = loop_dz2084Uz2082U_tmp_185784;
                        loop_while_182783 = loop_while_tmp_185785;
                        stride_182787 = stride_tmp_185789;
                    }
                    if (memblock_set(ctx, &ext_mem_185010, &mem_param_184838, "mem_param_184838") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185009, &mem_param_184841, "mem_param_184841") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185008, &mem_param_184844, "mem_param_184844") != 0)
                        return 1;
                    data_182776 = loop_dz2084Uz2082U_182782;
                    data_182777 = loop_while_182783;
                    data_182781 = stride_182787;
                    if (memblock_unref(ctx, &mem_184826, "mem_184826") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_184830, "mem_184830") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_184834, "mem_184834") != 0)
                        return 1;
                    
                    bool empty_slice_183221 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_183222 = sle64((int64_t) 0, zs_lhs_182576);
                    bool i_p_m_t_s_leq_w_183223 = slt64(zs_lhs_182576, data_182776);
                    bool y_183224 = zzero_leq_i_p_m_t_s_183222 && i_p_m_t_s_leq_w_183223;
                    bool ok_or_empty_183225 = empty_slice_183221 || y_183224;
                    bool index_certs_183226;
                    
                    if (!ok_or_empty_183225) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530, "] out of bounds for array of shape [", (long long) data_182776, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:357:63-73\n   #6  ftsort.fut:350:1-357:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_185019, &ext_mem_185010, "ext_mem_185010") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185016, &ext_mem_185009, "ext_mem_185009") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185013, &ext_mem_185008, "ext_mem_185008") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_184720, "mem_184720") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_184722, "mem_184722") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_184724, "mem_184724") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_184686, i_184035 * perThread_178862, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_185019.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530});
                if (memblock_unref(ctx, &ext_mem_185019, "ext_mem_185019") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184689, i_184035 * perThread_178862, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185016.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530});
                if (memblock_unref(ctx, &ext_mem_185016, "ext_mem_185016") != 0)
                    return 1;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_184692, i_184035 * perThread_178862, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_185013.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_182530});
                if (memblock_unref(ctx, &ext_mem_185013, "ext_mem_185013") != 0)
                    return 1;
                for (int64_t i_184025 = 0; i_184025 < perThread_178862; i_184025++) {
                    int64_t lifted_lambda_res_183248 = add64(zm_rhs_182532, i_184025);
                    
                    ((int64_t *) mem_184684)[i_184035 * perThread_178862 + i_184025] = lifted_lambda_res_183248;
                }
                
                bool cond_183250 = card_182533 == zp_rhs_178861;
                
                if (cond_183250) {
                    bool y_183252 = slt64(card_182533, perThread_178862);
                    bool index_certs_183253;
                    
                    if (!y_183252) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_182533, "] out of bounds for array of shape [", (long long) perThread_178862, "].", "-> #0  ftsort.fut:271:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:357:63-73\n   #3  ftsort.fut:350:1-357:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_184684)[i_184035 * perThread_178862 + card_182533] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_185045, bytes_184340, "mem_185045")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185819 = 0; nest_i_185819 < window_sizze_122201; nest_i_185819++) {
                ((int16_t *) mem_185045.mem)[nest_i_185819] = (int16_t) 0;
            }
            if (memblock_alloc(ctx, &mem_185047, bytes_184338, "mem_185047")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185820 = 0; nest_i_185820 < window_sizze_122201; nest_i_185820++) {
                ((int64_t *) mem_185047.mem)[nest_i_185820] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_185048, window_sizze_122201, "mem_185048")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185821 = 0; nest_i_185821 < window_sizze_122201; nest_i_185821++) {
                ((int8_t *) mem_185048.mem)[nest_i_185821] = (int8_t) -1;
            }
            for (int64_t write_iter_184040 = 0; write_iter_184040 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_178863; write_iter_184040++) {
                int64_t new_index_184192 = squot64(write_iter_184040, perThread_178862);
                int64_t binop_y_184194 = perThread_178862 * new_index_184192;
                int64_t new_index_184195 = write_iter_184040 - binop_y_184194;
                int64_t write_iv_184044 = ((int64_t *) mem_184684)[new_index_184192 * perThread_178862 + new_index_184195];
                int8_t write_iv_184045 = ((int8_t *) mem_184686)[new_index_184192 * perThread_178862 + new_index_184195];
                int64_t write_iv_184046 = ((int64_t *) mem_184689)[new_index_184192 * perThread_178862 + new_index_184195];
                int16_t write_iv_184047 = ((int16_t *) mem_184692)[new_index_184192 * perThread_178862 + new_index_184195];
                
                if (sle64((int64_t) 0, write_iv_184044) && slt64(write_iv_184044, window_sizze_122201)) {
                    ((int8_t *) mem_185048.mem)[write_iv_184044] = write_iv_184045;
                }
                if (sle64((int64_t) 0, write_iv_184044) && slt64(write_iv_184044, window_sizze_122201)) {
                    ((int64_t *) mem_185047.mem)[write_iv_184044] = write_iv_184046;
                }
                if (sle64((int64_t) 0, write_iv_184044) && slt64(write_iv_184044, window_sizze_122201)) {
                    ((int16_t *) mem_185045.mem)[write_iv_184044] = write_iv_184047;
                }
            }
            
            int64_t index_concat_branch_183276;
            
            if (index_concat_cmp_181616) {
                int64_t index_concat_183277 = ((int64_t *) mem_184667)[index_concat_i_181617];
                
                index_concat_branch_183276 = index_concat_183277;
            } else {
                index_concat_branch_183276 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_183278;
            
            if (index_concat_cmp_181616) {
                int64_t index_concat_183279 = ((int64_t *) mem_184669)[index_concat_i_181617];
                
                index_concat_branch_183278 = index_concat_183279;
            } else {
                index_concat_branch_183278 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_185075, &mem_185048, "mem_185048") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_185072, &mem_185047, "mem_185047") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_185069, &mem_185045, "mem_185045") != 0)
                return 1;
            loopres_178852 = index_concat_branch_183276;
            loopres_178853 = index_concat_branch_183278;
        } else {
            int16_t leq_lhs_179843 = ((int16_t *) a_list_mem_184305.mem)[p_178824];
            int16_t leq_rhs_179846 = ((int16_t *) b_list_mem_184306.mem)[p_178825];
            bool defunc_0_leq_res_179847 = sle16(leq_lhs_179843, leq_rhs_179846);
            int16_t lowest_179848;
            
            if (defunc_0_leq_res_179847) {
                bool index_certs_183280;
                
                if (!y_179841) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:143:44-49\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_179848 = leq_lhs_179843;
            } else {
                bool index_certs_179853;
                
                if (!y_179841) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:143:55-60\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_179848 = leq_rhs_179846;
            }
            if (mem_184322_cached_sizze_186263 < bytes_184321) {
                err = lexical_realloc(ctx, &mem_184322, &mem_184322_cached_sizze_186263, bytes_184321);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_184324_cached_sizze_186264 < bytes_184321) {
                err = lexical_realloc(ctx, &mem_184324, &mem_184324_cached_sizze_186264, bytes_184321);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_184055 = 0; i_184055 < threads_122202; i_184055++) {
                int64_t index_primexp_184271 = add64((int64_t) 1, i_184055);
                int64_t zs_lhs_179867 = mul64(zt_rhs_179860, index_primexp_184271);
                int64_t index_179868 = sdiv64(zs_lhs_179867, partitionFunc_arg0_179839);
                bool cond_179869 = slt64(window_sizze_122201, index_179868);
                int64_t loop_over_179870;
                
                if (cond_179869) {
                    loop_over_179870 = window_sizze_122201;
                } else {
                    loop_over_179870 = index_179868;
                }
                
                int64_t loop_over_179871;
                
                if (cond_179869) {
                    int64_t loop_over_t_res_183281 = sub64(index_179868, window_sizze_122201);
                    
                    loop_over_179871 = loop_over_t_res_183281;
                } else {
                    loop_over_179871 = (int64_t) 0;
                }
                
                int64_t loop_over_179873;
                
                if (cond_179869) {
                    int64_t zm_lhs_183282 = sub64(index_179868, window_sizze_122201);
                    int64_t loop_over_t_res_183283 = sub64(zm_lhs_183282, (int64_t) 1);
                    
                    loop_over_179873 = loop_over_t_res_183283;
                } else {
                    loop_over_179873 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_179876;
                int64_t defunc_0_f_res_179877;
                int64_t defunc_0_f_res_179878;
                int64_t defunc_0_f_res_179879;
                bool loop_while_179880;
                int64_t p_179881;
                int64_t p_179882;
                int64_t p_179883;
                
                loop_while_179880 = 1;
                p_179881 = loop_over_179873;
                p_179882 = loop_over_179870;
                p_179883 = loop_over_179871;
                while (loop_while_179880) {
                    int64_t zs_lhs_179884 = sub64(p_179882, p_179881);
                    int64_t offset_179885 = sdiv64(zs_lhs_179884, (int64_t) 2);
                    int64_t ai_179886 = sub64(p_179882, offset_179885);
                    int64_t max_arg1_179887 = add64(p_179883, offset_179885);
                    int64_t max_res_179888 = smax64((int64_t) 0, max_arg1_179887);
                    bool cond_179889 = slt64((int64_t) 0, max_res_179888);
                    int16_t b_prev_179890;
                    
                    if (cond_179889) {
                        int64_t tmp_183284 = sub64(max_res_179888, (int64_t) 1);
                        bool x_183285 = sle64((int64_t) 0, tmp_183284);
                        bool y_183286 = slt64(tmp_183284, window_sizze_122201);
                        bool bounds_check_183287 = x_183285 && y_183286;
                        bool index_certs_183288;
                        
                        if (!bounds_check_183287) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_183284, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:160:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_183289 = p_178825 + tmp_183284;
                        int16_t b_prev_t_res_183290 = ((int16_t *) b_list_mem_184306.mem)[slice_183289];
                        
                        b_prev_179890 = b_prev_t_res_183290;
                    } else {
                        b_prev_179890 = lowest_179848;
                    }
                    
                    bool cond_179897 = sle64(ai_179886, (int64_t) 0);
                    int64_t loopres_179898;
                    int64_t loopres_179899;
                    int64_t loopres_179900;
                    bool loopres_179901;
                    
                    if (cond_179897) {
                        loopres_179898 = p_179881;
                        loopres_179899 = (int64_t) 0;
                        loopres_179900 = max_res_179888;
                        loopres_179901 = 0;
                    } else {
                        bool cond_179902 = sle64(window_sizze_122201, max_res_179888);
                        int64_t loopres_f_res_179903;
                        int64_t loopres_f_res_179904;
                        int64_t loopres_f_res_179905;
                        bool loopres_f_res_179906;
                        
                        if (cond_179902) {
                            int64_t min_res_183292 = smin64(m_178813, ai_179886);
                            bool x_183293 = sle64((int64_t) 0, m_178813);
                            bool y_183294 = slt64(m_178813, window_sizze_122201);
                            bool bounds_check_183295 = x_183293 && y_183294;
                            bool index_certs_183296;
                            
                            if (!bounds_check_183295) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_178813, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:171:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_183299 = sle64((int64_t) 0, min_res_183292);
                            bool y_183300 = slt64(min_res_183292, window_sizze_122201);
                            bool bounds_check_183301 = x_183299 && y_183300;
                            bool index_certs_183302;
                            
                            if (!bounds_check_183301) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_183292, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:171:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int16_t leq_lhs_183298 = ((int16_t *) b_list_mem_184306.mem)[i_p_m_t_s_178841];
                            int64_t slice_183303 = p_178824 + min_res_183292;
                            int16_t leq_rhs_183304 = ((int16_t *) a_list_mem_184305.mem)[slice_183303];
                            bool defunc_0_leq_res_183305 = sle16(leq_lhs_183298, leq_rhs_183304);
                            int64_t loopres_f_res_t_res_183306;
                            
                            if (defunc_0_leq_res_183305) {
                                loopres_f_res_t_res_183306 = ai_179886;
                            } else {
                                loopres_f_res_t_res_183306 = p_179882;
                            }
                            
                            bool x_183307 = !defunc_0_leq_res_183305;
                            int64_t loopres_f_res_t_res_183308;
                            
                            if (defunc_0_leq_res_183305) {
                                loopres_f_res_t_res_183308 = window_sizze_122201;
                            } else {
                                int64_t tmp_183309 = sub64(m_178813, offset_179885);
                                
                                loopres_f_res_t_res_183308 = tmp_183309;
                            }
                            loopres_f_res_179903 = p_179881;
                            loopres_f_res_179904 = loopres_f_res_t_res_183306;
                            loopres_f_res_179905 = loopres_f_res_t_res_183308;
                            loopres_f_res_179906 = x_183307;
                        } else {
                            bool cond_179924 = sle64(window_sizze_122201, ai_179886);
                            int64_t loopres_f_res_f_res_179925;
                            int64_t loopres_f_res_f_res_179926;
                            int64_t loopres_f_res_f_res_179927;
                            bool loopres_f_res_f_res_179928;
                            
                            if (cond_179924) {
                                int64_t min_res_183311 = smin64(m_178813, max_res_179888);
                                bool x_183312 = sle64((int64_t) 0, m_178813);
                                bool y_183313 = slt64(m_178813, window_sizze_122201);
                                bool bounds_check_183314 = x_183312 && y_183313;
                                bool index_certs_183315;
                                
                                if (!bounds_check_183314) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_178813, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:178:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_183318 = sle64((int64_t) 0, min_res_183311);
                                bool y_183319 = slt64(min_res_183311, window_sizze_122201);
                                bool bounds_check_183320 = x_183318 && y_183319;
                                bool index_certs_183321;
                                
                                if (!bounds_check_183320) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_183311, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:178:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int16_t leq_lhs_183317 = ((int16_t *) a_list_mem_184305.mem)[i_p_m_t_s_178830];
                                int64_t slice_183322 = p_178825 + min_res_183311;
                                int16_t leq_rhs_183323 = ((int16_t *) b_list_mem_184306.mem)[slice_183322];
                                bool defunc_0_leq_res_183324 = sle16(leq_lhs_183317, leq_rhs_183323);
                                int64_t loopres_f_res_f_res_t_res_183325;
                                
                                if (defunc_0_leq_res_183324) {
                                    loopres_f_res_f_res_t_res_183325 = max_res_179888;
                                } else {
                                    loopres_f_res_f_res_t_res_183325 = p_179883;
                                }
                                
                                bool x_183326 = !defunc_0_leq_res_183324;
                                int64_t loopres_f_res_f_res_t_res_183327;
                                
                                if (defunc_0_leq_res_183324) {
                                    loopres_f_res_f_res_t_res_183327 = window_sizze_122201;
                                } else {
                                    loopres_f_res_f_res_t_res_183327 = m_178813;
                                }
                                loopres_f_res_f_res_179925 = p_179881;
                                loopres_f_res_f_res_179926 = loopres_f_res_f_res_t_res_183327;
                                loopres_f_res_f_res_179927 = loopres_f_res_f_res_t_res_183325;
                                loopres_f_res_f_res_179928 = x_183326;
                            } else {
                                bool cond_179945 = sle64(p_179882, p_179881);
                                int64_t loopres_f_res_f_res_f_res_179946;
                                int64_t loopres_f_res_f_res_f_res_179947;
                                int64_t loopres_f_res_f_res_f_res_179948;
                                bool loopres_f_res_f_res_f_res_179949;
                                
                                if (cond_179945) {
                                    bool cond_183366 = slt64(ai_179886, window_sizze_122201);
                                    int64_t ai_183367;
                                    
                                    if (cond_183366) {
                                        ai_183367 = ai_179886;
                                    } else {
                                        ai_183367 = m_178813;
                                    }
                                    
                                    bool x_183380 = sle64((int64_t) 0, ai_183367);
                                    bool y_183381 = slt64(ai_183367, window_sizze_122201);
                                    bool bounds_check_183382 = x_183380 && y_183381;
                                    bool index_certs_183383;
                                    
                                    if (!bounds_check_183382) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_183367, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:114:8-14\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int16_t b_prev_183369;
                                    
                                    if (cond_179889) {
                                        int64_t tmp_183370 = sub64(max_res_179888, (int64_t) 1);
                                        bool x_183371 = sle64((int64_t) 0, tmp_183370);
                                        bool y_183372 = slt64(tmp_183370, window_sizze_122201);
                                        bool bounds_check_183373 = x_183371 && y_183372;
                                        bool index_certs_183374;
                                        
                                        if (!bounds_check_183373) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_183370, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:112:31-39\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183375 = p_178825 + tmp_183370;
                                        int16_t b_prev_t_res_183376 = ((int16_t *) b_list_mem_184306.mem)[slice_183375];
                                        
                                        b_prev_183369 = b_prev_t_res_183376;
                                    } else {
                                        bool index_certs_183378;
                                        
                                        if (!y_179841) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:112:45-50\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_183369 = leq_rhs_179846;
                                    }
                                    
                                    int64_t slice_183384 = p_178824 + ai_183367;
                                    int16_t gt_lhs_183385 = ((int16_t *) a_list_mem_184305.mem)[slice_183384];
                                    bool defunc_0_gt_res_183386 = slt16(b_prev_183369, gt_lhs_183385);
                                    int64_t defunc_0_partFunc_sequential_search_res_183387;
                                    int64_t defunc_0_partFunc_sequential_search_res_183388;
                                    
                                    if (defunc_0_gt_res_183386) {
                                        int64_t zl_rhs_183389 = sub64(window_sizze_122201, max_res_179888);
                                        bool loop_cond_183390 = slt64((int64_t) 0, zl_rhs_183389);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_183391;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_183392;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_183393;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_183394;
                                        bool loop_while_183395;
                                        int64_t p_183396;
                                        int64_t p_183397;
                                        int64_t p_183398;
                                        
                                        loop_while_183395 = loop_cond_183390;
                                        p_183396 = ai_183367;
                                        p_183397 = max_res_179888;
                                        p_183398 = (int64_t) 0;
                                        while (loop_while_183395) {
                                            int64_t i_a_183399 = sub64(ai_183367, p_183398);
                                            int64_t i_b_183400 = add64(max_res_179888, p_183398);
                                            int64_t leq_lhs_183401 = sub64(i_a_183399, (int64_t) 1);
                                            bool x_183402 = sle64((int64_t) 0, leq_lhs_183401);
                                            bool y_183403 = slt64(leq_lhs_183401, window_sizze_122201);
                                            bool bounds_check_183404 = x_183402 && y_183403;
                                            bool index_certs_183405;
                                            
                                            if (!bounds_check_183404) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_183401, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:120:15-24\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_183408 = sle64((int64_t) 0, i_b_183400);
                                            bool y_183409 = slt64(i_b_183400, window_sizze_122201);
                                            bool bounds_check_183410 = x_183408 && y_183409;
                                            bool index_certs_183411;
                                            
                                            if (!bounds_check_183410) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_183400, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:120:31-38\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_183406 = p_178824 + leq_lhs_183401;
                                            int16_t leq_lhs_183407 = ((int16_t *) a_list_mem_184305.mem)[slice_183406];
                                            int64_t slice_183412 = p_178825 + i_b_183400;
                                            int16_t leq_rhs_183413 = ((int16_t *) b_list_mem_184306.mem)[slice_183412];
                                            bool defunc_0_leq_res_183414 = sle16(leq_lhs_183407, leq_rhs_183413);
                                            int64_t loopres_183415;
                                            
                                            if (defunc_0_leq_res_183414) {
                                                loopres_183415 = i_a_183399;
                                            } else {
                                                loopres_183415 = ai_183367;
                                            }
                                            
                                            int64_t loopres_183416;
                                            
                                            if (defunc_0_leq_res_183414) {
                                                loopres_183416 = i_b_183400;
                                            } else {
                                                loopres_183416 = max_res_179888;
                                            }
                                            
                                            int64_t loopres_183417;
                                            
                                            if (defunc_0_leq_res_183414) {
                                                loopres_183417 = zl_rhs_183389;
                                            } else {
                                                int64_t tmp_183418 = add64((int64_t) 1, p_183398);
                                                
                                                loopres_183417 = tmp_183418;
                                            }
                                            
                                            bool loop_cond_183419 = slt64(loopres_183417, zl_rhs_183389);
                                            bool loop_while_tmp_185831 = loop_cond_183419;
                                            int64_t p_tmp_185832 = loopres_183415;
                                            int64_t p_tmp_185833 = loopres_183416;
                                            int64_t p_tmp_185834 = loopres_183417;
                                            
                                            loop_while_183395 = loop_while_tmp_185831;
                                            p_183396 = p_tmp_185832;
                                            p_183397 = p_tmp_185833;
                                            p_183398 = p_tmp_185834;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_183391 = loop_while_183395;
                                        defunc_0_partFunc_sequential_search_res_t_res_183392 = p_183396;
                                        defunc_0_partFunc_sequential_search_res_t_res_183393 = p_183397;
                                        defunc_0_partFunc_sequential_search_res_t_res_183394 = p_183398;
                                        defunc_0_partFunc_sequential_search_res_183387 = defunc_0_partFunc_sequential_search_res_t_res_183392;
                                        defunc_0_partFunc_sequential_search_res_183388 = defunc_0_partFunc_sequential_search_res_t_res_183393;
                                    } else {
                                        int64_t zl_rhs_183420 = sub64(max_res_179888, (int64_t) 1);
                                        bool loop_cond_183421 = slt64((int64_t) 0, zl_rhs_183420);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_183422;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_183423;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_183424;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_183425;
                                        bool loop_while_183426;
                                        int64_t p_183427;
                                        int64_t p_183428;
                                        int64_t p_183429;
                                        
                                        loop_while_183426 = loop_cond_183421;
                                        p_183427 = ai_183367;
                                        p_183428 = max_res_179888;
                                        p_183429 = (int64_t) 0;
                                        while (loop_while_183426) {
                                            int64_t zp_lhs_183430 = add64(ai_183367, p_183429);
                                            int64_t hi_a_183431 = add64((int64_t) 1, zp_lhs_183430);
                                            bool cond_183432 = slt64(hi_a_183431, window_sizze_122201);
                                            int64_t i_a_183433;
                                            
                                            if (cond_183432) {
                                                i_a_183433 = hi_a_183431;
                                            } else {
                                                i_a_183433 = m_178813;
                                            }
                                            
                                            int64_t zm_lhs_183435 = sub64(max_res_179888, p_183429);
                                            int64_t i_b_183436 = sub64(zm_lhs_183435, (int64_t) 1);
                                            bool x_183437 = sle64((int64_t) 0, i_a_183433);
                                            bool y_183438 = slt64(i_a_183433, window_sizze_122201);
                                            bool bounds_check_183439 = x_183437 && y_183438;
                                            bool index_certs_183440;
                                            
                                            if (!bounds_check_183439) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_183433, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:130:15-22\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_183443 = sle64((int64_t) 0, i_b_183436);
                                            bool y_183444 = slt64(i_b_183436, window_sizze_122201);
                                            bool bounds_check_183445 = x_183443 && y_183444;
                                            bool index_certs_183446;
                                            
                                            if (!bounds_check_183445) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_183436, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:130:28-35\n   #1  ftsort.fut:182:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:147:8-207:8\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_183441 = p_178824 + i_a_183433;
                                            int16_t gt_lhs_183442 = ((int16_t *) a_list_mem_184305.mem)[slice_183441];
                                            int64_t slice_183447 = p_178825 + i_b_183436;
                                            int16_t gt_rhs_183448 = ((int16_t *) b_list_mem_184306.mem)[slice_183447];
                                            bool defunc_0_gt_res_183449 = slt16(gt_rhs_183448, gt_lhs_183442);
                                            int64_t loopres_183450;
                                            
                                            if (defunc_0_gt_res_183449) {
                                                loopres_183450 = i_a_183433;
                                            } else {
                                                loopres_183450 = ai_183367;
                                            }
                                            
                                            int64_t loopres_183451;
                                            
                                            if (defunc_0_gt_res_183449) {
                                                loopres_183451 = zm_lhs_183435;
                                            } else {
                                                loopres_183451 = max_res_179888;
                                            }
                                            
                                            int64_t loopres_183452;
                                            
                                            if (defunc_0_gt_res_183449) {
                                                loopres_183452 = zl_rhs_183420;
                                            } else {
                                                int64_t tmp_183453 = add64((int64_t) 1, p_183429);
                                                
                                                loopres_183452 = tmp_183453;
                                            }
                                            
                                            bool loop_cond_183454 = slt64(loopres_183452, zl_rhs_183420);
                                            bool loop_while_tmp_185835 = loop_cond_183454;
                                            int64_t p_tmp_185836 = loopres_183450;
                                            int64_t p_tmp_185837 = loopres_183451;
                                            int64_t p_tmp_185838 = loopres_183452;
                                            
                                            loop_while_183426 = loop_while_tmp_185835;
                                            p_183427 = p_tmp_185836;
                                            p_183428 = p_tmp_185837;
                                            p_183429 = p_tmp_185838;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_183422 = loop_while_183426;
                                        defunc_0_partFunc_sequential_search_res_f_res_183423 = p_183427;
                                        defunc_0_partFunc_sequential_search_res_f_res_183424 = p_183428;
                                        defunc_0_partFunc_sequential_search_res_f_res_183425 = p_183429;
                                        defunc_0_partFunc_sequential_search_res_183387 = defunc_0_partFunc_sequential_search_res_f_res_183423;
                                        defunc_0_partFunc_sequential_search_res_183388 = defunc_0_partFunc_sequential_search_res_f_res_183424;
                                    }
                                    loopres_f_res_f_res_f_res_179946 = p_179881;
                                    loopres_f_res_f_res_f_res_179947 = defunc_0_partFunc_sequential_search_res_183387;
                                    loopres_f_res_f_res_f_res_179948 = defunc_0_partFunc_sequential_search_res_183388;
                                    loopres_f_res_f_res_f_res_179949 = 0;
                                } else {
                                    bool x_180033 = sle64((int64_t) 0, ai_179886);
                                    bool y_180034 = slt64(ai_179886, window_sizze_122201);
                                    bool bounds_check_180035 = x_180033 && y_180034;
                                    bool index_certs_180036;
                                    
                                    if (!bounds_check_180035) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179886, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:186:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_181695 = p_178824 + ai_179886;
                                    int16_t gt_lhs_180037 = ((int16_t *) a_list_mem_184305.mem)[slice_181695];
                                    bool defunc_0_gt_res_180038 = slt16(b_prev_179890, gt_lhs_180037);
                                    int64_t loopres_f_res_f_res_f_res_f_res_180039;
                                    int64_t loopres_f_res_f_res_f_res_f_res_180040;
                                    int64_t loopres_f_res_f_res_f_res_f_res_180041;
                                    bool loopres_f_res_f_res_f_res_f_res_180042;
                                    
                                    if (defunc_0_gt_res_180038) {
                                        int64_t leq_lhs_183455 = sub64(ai_179886, (int64_t) 1);
                                        bool x_183456 = sle64((int64_t) 0, leq_lhs_183455);
                                        bool y_183457 = slt64(leq_lhs_183455, window_sizze_122201);
                                        bool bounds_check_183458 = x_183456 && y_183457;
                                        bool index_certs_183459;
                                        
                                        if (!bounds_check_183458) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_183455, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:187:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_183462 = sle64((int64_t) 0, max_res_179888);
                                        bool y_183463 = slt64(max_res_179888, window_sizze_122201);
                                        bool bounds_check_183464 = x_183462 && y_183463;
                                        bool index_certs_183465;
                                        
                                        if (!bounds_check_183464) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_179888, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:187:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:147:8-207:8\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183460 = p_178824 + leq_lhs_183455;
                                        int16_t leq_lhs_183461 = ((int16_t *) a_list_mem_184305.mem)[slice_183460];
                                        int64_t slice_183466 = p_178825 + max_res_179888;
                                        int16_t leq_rhs_183467 = ((int16_t *) b_list_mem_184306.mem)[slice_183466];
                                        bool defunc_0_leq_res_183468 = sle16(leq_lhs_183461, leq_rhs_183467);
                                        bool x_183469 = !defunc_0_leq_res_183468;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_183470;
                                        
                                        if (defunc_0_leq_res_183468) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_183470 = ai_179886;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_183470 = leq_lhs_183455;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_183471;
                                        
                                        if (defunc_0_leq_res_183468) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_183471 = max_res_179888;
                                        } else {
                                            int64_t tmp_183472 = add64((int64_t) 1, max_res_179888);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_183471 = tmp_183472;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_180039 = p_179881;
                                        loopres_f_res_f_res_f_res_f_res_180040 = loopres_f_res_f_res_f_res_f_res_t_res_183470;
                                        loopres_f_res_f_res_f_res_f_res_180041 = loopres_f_res_f_res_f_res_f_res_t_res_183471;
                                        loopres_f_res_f_res_f_res_f_res_180042 = x_183469;
                                    } else {
                                        int64_t tmp_180059 = add64((int64_t) 1, ai_179886);
                                        
                                        loopres_f_res_f_res_f_res_f_res_180039 = tmp_180059;
                                        loopres_f_res_f_res_f_res_f_res_180040 = p_179882;
                                        loopres_f_res_f_res_f_res_f_res_180041 = p_179883;
                                        loopres_f_res_f_res_f_res_f_res_180042 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_179946 = loopres_f_res_f_res_f_res_f_res_180039;
                                    loopres_f_res_f_res_f_res_179947 = loopres_f_res_f_res_f_res_f_res_180040;
                                    loopres_f_res_f_res_f_res_179948 = loopres_f_res_f_res_f_res_f_res_180041;
                                    loopres_f_res_f_res_f_res_179949 = loopres_f_res_f_res_f_res_f_res_180042;
                                }
                                loopres_f_res_f_res_179925 = loopres_f_res_f_res_f_res_179946;
                                loopres_f_res_f_res_179926 = loopres_f_res_f_res_f_res_179947;
                                loopres_f_res_f_res_179927 = loopres_f_res_f_res_f_res_179948;
                                loopres_f_res_f_res_179928 = loopres_f_res_f_res_f_res_179949;
                            }
                            loopres_f_res_179903 = loopres_f_res_f_res_179925;
                            loopres_f_res_179904 = loopres_f_res_f_res_179926;
                            loopres_f_res_179905 = loopres_f_res_f_res_179927;
                            loopres_f_res_179906 = loopres_f_res_f_res_179928;
                        }
                        loopres_179898 = loopres_f_res_179903;
                        loopres_179899 = loopres_f_res_179904;
                        loopres_179900 = loopres_f_res_179905;
                        loopres_179901 = loopres_f_res_179906;
                    }
                    
                    bool loop_while_tmp_185827 = loopres_179901;
                    int64_t p_tmp_185828 = loopres_179898;
                    int64_t p_tmp_185829 = loopres_179899;
                    int64_t p_tmp_185830 = loopres_179900;
                    
                    loop_while_179880 = loop_while_tmp_185827;
                    p_179881 = p_tmp_185828;
                    p_179882 = p_tmp_185829;
                    p_179883 = p_tmp_185830;
                }
                defunc_0_f_res_179876 = loop_while_179880;
                defunc_0_f_res_179877 = p_179881;
                defunc_0_f_res_179878 = p_179882;
                defunc_0_f_res_179879 = p_179883;
                ((int64_t *) mem_184322)[i_184055] = defunc_0_f_res_179878;
                ((int64_t *) mem_184324)[i_184055] = defunc_0_f_res_179879;
            }
            if (memblock_alloc(ctx, &mem_184337, window_sizze_122201, "mem_184337")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185839 = 0; nest_i_185839 < window_sizze_122201; nest_i_185839++) {
                ((int8_t *) mem_184337.mem)[nest_i_185839] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_184339, bytes_184338, "mem_184339")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185840 = 0; nest_i_185840 < window_sizze_122201; nest_i_185840++) {
                ((int64_t *) mem_184339.mem)[nest_i_185840] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_184341, bytes_184340, "mem_184341")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_185841 = 0; nest_i_185841 < window_sizze_122201; nest_i_185841++) {
                ((int16_t *) mem_184341.mem)[nest_i_185841] = (int16_t) 0;
            }
            
            bool defunc_0_mergeFunc_seq_res_180079;
            int64_t defunc_0_mergeFunc_seq_res_180080;
            bool loop_while_180084;
            int64_t p_180085;
            
            loop_while_180084 = loop_cond_180078;
            p_180085 = (int64_t) 0;
            while (loop_while_180084) {
                bool x_180089 = sle64((int64_t) 0, p_180085);
                bool y_180090 = slt64(p_180085, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
                bool bounds_check_180091 = x_180089 && y_180090;
                bool index_certs_180092;
                
                if (!bounds_check_180091) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_180085, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:225:19-39\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_181678 = sle64((int64_t) 1, p_180085);
                int64_t index_concat_i_181679 = sub64(p_180085, (int64_t) 1);
                int64_t index_concat_181680;
                
                if (index_concat_cmp_181678) {
                    int64_t x_183473 = ((int64_t *) mem_184322)[index_concat_i_181679];
                    
                    index_concat_181680 = x_183473;
                } else {
                    index_concat_181680 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_181682;
                
                if (index_concat_cmp_181678) {
                    index_concat_branch_181682 = index_concat_181680;
                } else {
                    index_concat_branch_181682 = (int64_t) 0;
                }
                
                int64_t index_concat_181674;
                
                if (index_concat_cmp_181678) {
                    int64_t x_183474 = ((int64_t *) mem_184324)[index_concat_i_181679];
                    
                    index_concat_181674 = x_183474;
                } else {
                    index_concat_181674 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_181676;
                
                if (index_concat_cmp_181678) {
                    index_concat_branch_181676 = index_concat_181674;
                } else {
                    index_concat_branch_181676 = (int64_t) 0;
                }
                
                int64_t ubs_180095 = add64((int64_t) 1, p_180085);
                bool x_180096 = sle64((int64_t) 0, ubs_180095);
                bool y_180097 = slt64(ubs_180095, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838);
                bool bounds_check_180098 = x_180096 && y_180097;
                bool index_certs_180099;
                
                if (!bounds_check_180098) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_180095, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_179838, "].", "-> #0  ftsort.fut:226:19-41\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_181666 = sle64((int64_t) 1, ubs_180095);
                int64_t index_concat_181668;
                
                if (index_concat_cmp_181666) {
                    int64_t x_183475 = ((int64_t *) mem_184322)[p_180085];
                    
                    index_concat_181668 = x_183475;
                } else {
                    index_concat_181668 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_181670;
                
                if (index_concat_cmp_181666) {
                    index_concat_branch_181670 = index_concat_181668;
                } else {
                    index_concat_branch_181670 = (int64_t) 0;
                }
                
                int64_t index_concat_181662;
                
                if (index_concat_cmp_181666) {
                    int64_t x_183476 = ((int64_t *) mem_184324)[p_180085];
                    
                    index_concat_181662 = x_183476;
                } else {
                    index_concat_181662 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_181664;
                
                if (index_concat_cmp_181666) {
                    index_concat_branch_181664 = index_concat_181662;
                } else {
                    index_concat_branch_181664 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102 = sub64(index_concat_branch_181664, index_concat_branch_181676);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103 = sub64(index_concat_branch_181670, index_concat_branch_181682);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                int64_t ind_bottom_180105 = add64(index_concat_branch_181676, index_concat_branch_181682);
                int64_t ind_top_180106 = add64(index_concat_branch_181664, index_concat_branch_181670);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107 = sub64(ind_top_180106, ind_bottom_180105);
                bool empty_slice_180108 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103 == (int64_t) 0;
                int64_t m_180109 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, (int64_t) 1);
                int64_t i_p_m_t_s_180110 = add64(m_180109, index_concat_branch_181682);
                bool zzero_leq_i_p_m_t_s_180111 = sle64((int64_t) 0, i_p_m_t_s_180110);
                bool i_p_m_t_s_leq_w_180112 = slt64(i_p_m_t_s_180110, window_sizze_122201);
                bool zzero_lte_i_180113 = sle64((int64_t) 0, index_concat_branch_181682);
                bool i_lte_j_180114 = sle64(index_concat_branch_181682, index_concat_branch_181670);
                bool y_180115 = i_p_m_t_s_leq_w_180112 && zzero_lte_i_180113;
                bool y_180116 = zzero_leq_i_p_m_t_s_180111 && y_180115;
                bool forwards_ok_180117 = i_lte_j_180114 && y_180116;
                bool ok_or_empty_180118 = empty_slice_180108 || forwards_ok_180117;
                bool index_certs_180119;
                
                if (!ok_or_empty_180118) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_181682, ":", (long long) index_concat_branch_181670, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:229:71-86\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_180120 = slt64(index_concat_branch_181670, index_concat_branch_181682);
                bool valid_180121 = !bounds_invalid_upwards_180120;
                bool range_valid_c_180122;
                
                if (!valid_180121) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_181682, "..<", (long long) index_concat_branch_181670, " is invalid.", "-> #0  ftsort.fut:229:52-69\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_180128 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102 == (int64_t) 0;
                int64_t m_180129 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102, (int64_t) 1);
                int64_t i_p_m_t_s_180130 = add64(m_180129, index_concat_branch_181676);
                bool zzero_leq_i_p_m_t_s_180131 = sle64((int64_t) 0, i_p_m_t_s_180130);
                bool i_p_m_t_s_leq_w_180132 = slt64(i_p_m_t_s_180130, window_sizze_122201);
                bool zzero_lte_i_180133 = sle64((int64_t) 0, index_concat_branch_181676);
                bool i_lte_j_180134 = sle64(index_concat_branch_181676, index_concat_branch_181664);
                bool y_180135 = i_p_m_t_s_leq_w_180132 && zzero_lte_i_180133;
                bool y_180136 = zzero_leq_i_p_m_t_s_180131 && y_180135;
                bool forwards_ok_180137 = i_lte_j_180134 && y_180136;
                bool ok_or_empty_180138 = empty_slice_180128 || forwards_ok_180137;
                bool index_certs_180139;
                
                if (!ok_or_empty_180138) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_181676, ":", (long long) index_concat_branch_181664, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:230:71-86\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_180140 = slt64(index_concat_branch_181664, index_concat_branch_181676);
                bool valid_180141 = !bounds_invalid_upwards_180140;
                bool range_valid_c_180142;
                
                if (!valid_180141) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_181676, "..<", (long long) index_concat_branch_181664, " is invalid.", "-> #0  ftsort.fut:230:52-69\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_184358 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104;
                int64_t bytes_184360 = (int64_t) 2 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104;
                bool cond_180151 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, (int64_t) 1);
                int64_t zs_lhs_180152 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, (int64_t) 1);
                int64_t zp_rhs_180153 = sdiv_safe64(zs_lhs_180152, (int64_t) 20);
                int64_t min_num_blocks_180154 = add64((int64_t) 1, zp_rhs_180153);
                bool loop_cond_180155 = slt64((int64_t) 1, min_num_blocks_180154);
                bool smallest_pow_2_geq_than_res_180156;
                int64_t smallest_pow_2_geq_than_res_180157;
                bool loop_while_180158;
                int64_t x_180159;
                
                loop_while_180158 = loop_cond_180155;
                x_180159 = (int64_t) 1;
                while (loop_while_180158) {
                    int64_t loopres_180160 = mul64((int64_t) 2, x_180159);
                    bool loop_cond_180161 = slt64(loopres_180160, min_num_blocks_180154);
                    bool loop_while_tmp_185847 = loop_cond_180161;
                    int64_t x_tmp_185848 = loopres_180160;
                    
                    loop_while_180158 = loop_while_tmp_185847;
                    x_180159 = x_tmp_185848;
                }
                smallest_pow_2_geq_than_res_180156 = loop_while_180158;
                smallest_pow_2_geq_than_res_180157 = x_180159;
                
                bool zzero_180162 = smallest_pow_2_geq_than_res_180157 == (int64_t) 0;
                bool nonzzero_180163 = !zzero_180162;
                bool protect_assert_disj_180164 = cond_180151 || nonzzero_180163;
                bool nonzzero_cert_180165;
                
                if (!protect_assert_disj_180164) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_180166 = sdiv_safe64(zs_lhs_180152, smallest_pow_2_geq_than_res_180157);
                int64_t block_sizze_180167 = add64((int64_t) 1, zp_rhs_180166);
                bool y_180174 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104);
                bool protect_assert_disj_185511 = cond_180151 || y_180174;
                bool index_certs_180175;
                
                if (!protect_assert_disj_185511) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_180201 = slt64(smallest_pow_2_geq_than_res_180157, (int64_t) 0);
                bool valid_180202 = !bounds_invalid_upwards_180201;
                bool protect_assert_disj_185521 = cond_180151 || valid_180202;
                bool range_valid_c_180203;
                
                if (!protect_assert_disj_185521) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_180157, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_180205 = slt64(block_sizze_180167, (int64_t) 0);
                bool valid_180206 = !bounds_invalid_upwards_180205;
                bool protect_assert_disj_185523 = cond_180151 || valid_180206;
                bool range_valid_c_180207;
                
                if (!protect_assert_disj_185523) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_180167, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_180209 = sle64(block_sizze_180167, (int64_t) 1);
                int64_t tmp_180210 = sub64(block_sizze_180167, (int64_t) 2);
                bool bounds_invalid_upwards_180211 = slt64(tmp_180210, (int64_t) 0);
                bool valid_180213 = !bounds_invalid_upwards_180211;
                bool protect_assert_disj_180214 = cond_180209 || valid_180213;
                bool protect_assert_disj_185525 = cond_180151 || protect_assert_disj_180214;
                bool range_valid_c_180215;
                
                if (!protect_assert_disj_185525) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_180210, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_180776 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104;
                bool empty_or_match_cert_180777;
                
                if (!dim_match_180776) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107, "](i8, i64, i16)`.", "-> #0  ftsort.fut:231:22-237:50\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_180778 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107 == (int64_t) 0;
                int64_t m_180779 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_180780 = sle64((int64_t) 0, m_180779);
                bool i_p_m_t_s_leq_w_180781 = slt64(m_180779, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107);
                bool y_180782 = zzero_leq_i_p_m_t_s_180780 && i_p_m_t_s_leq_w_180781;
                bool ok_or_empty_180783 = empty_slice_180778 || y_180782;
                bool index_certs_180784;
                
                if (!ok_or_empty_180783) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107, "].", "-> #0  ftsort.fut:238:59-89\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_180785 = add64(ind_bottom_180105, m_180779);
                bool zzero_leq_i_p_m_t_s_180786 = sle64((int64_t) 0, i_p_m_t_s_180785);
                bool i_p_m_t_s_leq_w_180787 = slt64(i_p_m_t_s_180785, window_sizze_122201);
                bool zzero_lte_i_180788 = sle64((int64_t) 0, ind_bottom_180105);
                bool i_lte_j_180789 = sle64(ind_bottom_180105, ind_top_180106);
                bool y_180790 = i_p_m_t_s_leq_w_180787 && zzero_lte_i_180788;
                bool y_180791 = zzero_leq_i_p_m_t_s_180786 && y_180790;
                bool forwards_ok_180792 = i_lte_j_180789 && y_180791;
                bool ok_or_empty_180793 = empty_slice_180778 || forwards_ok_180792;
                bool index_certs_180794;
                
                if (!ok_or_empty_180793) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_180105, ":", (long long) ind_top_180106, "] out of bounds for array of shape [", (long long) window_sizze_122201, "].", "-> #0  ftsort.fut:238:27-89\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_181658 = p_178824 + index_concat_branch_181682;
                
                if (memblock_alloc(ctx, &mem_184357, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "mem_184357")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_185849 = 0; nest_i_185849 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103; nest_i_185849++) {
                    ((int8_t *) mem_184357.mem)[nest_i_185849] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_184359, bytes_184358, "mem_184359")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_185850 = 0; i_185850 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103; i_185850++) {
                    int64_t x_185851 = index_concat_branch_181682 + i_185850 * (int64_t) 1;
                    
                    ((int64_t *) mem_184359.mem)[i_185850] = x_185851;
                }
                
                int64_t slice_181657 = p_178825 + index_concat_branch_181676;
                
                for (int64_t nest_i_185852 = 0; nest_i_185852 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102; nest_i_185852++) {
                    ((int8_t *) mem_184357.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103 + nest_i_185852] = (int8_t) 1;
                }
                for (int64_t i_185853 = 0; i_185853 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102; i_185853++) {
                    int64_t x_185854 = index_concat_branch_181676 + i_185853 * (int64_t) 1;
                    
                    ((int64_t *) mem_184359.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103 + i_185853] = x_185854;
                }
                
                int64_t tmp_offs_185855 = (int64_t) 0;
                
                if (!(tmp_offs_185855 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184357.mem, tmp_offs_185855, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184357.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103});
                }
                tmp_offs_185855 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103;
                if (!(tmp_offs_185855 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184357.mem, tmp_offs_185855, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184357.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102});
                }
                tmp_offs_185855 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102;
                
                int64_t tmp_offs_185856 = (int64_t) 0;
                
                if (!(tmp_offs_185856 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184359.mem, tmp_offs_185856, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184359.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103});
                }
                tmp_offs_185856 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103;
                if (!(tmp_offs_185856 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184359.mem, tmp_offs_185856, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184359.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102});
                }
                tmp_offs_185856 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102;
                if (memblock_alloc(ctx, &mem_184361, bytes_184360, "mem_184361")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_185857 = (int64_t) 0;
                
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_184361.mem, tmp_offs_185857, (int64_t []) {(int64_t) 1}, (uint16_t *) a_list_mem_184305.mem, slice_181658, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103});
                tmp_offs_185857 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_184361.mem, tmp_offs_185857, (int64_t []) {(int64_t) 1}, (uint16_t *) b_list_mem_184306.mem, slice_181657, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102});
                tmp_offs_185857 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_180102;
                
                int64_t flat_dim_180168 = smallest_pow_2_geq_than_res_180157 * block_sizze_180167;
                bool x_185506 = !cond_180151;
                int64_t greatest_divisor_leq_than_arg1_180172 = mul64((int64_t) 2, block_sizze_180167);
                int64_t merge_block_sizze_180173;
                
                if (x_185506) {
                    int64_t x_185508;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_185508, (int64_t) 8, greatest_divisor_leq_than_arg1_180172) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_180173 = x_185508;
                } else {
                    merge_block_sizze_180173 = (int64_t) 0;
                }
                
                bool index_concat_cmp_181652 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, (int64_t) 0);
                int8_t index_concat_branch_181656 = btoi_bool_i8(index_concat_cmp_181652);
                int64_t index_concat_i_183477 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                int64_t index_primexp_183478 = add64(index_concat_branch_181676, index_concat_i_183477);
                int64_t index_concat_branch_181650;
                
                if (index_concat_cmp_181652) {
                    index_concat_branch_181650 = index_primexp_183478;
                } else {
                    index_concat_branch_181650 = index_concat_branch_181682;
                }
                
                bool x_185502 = !index_concat_cmp_181652;
                bool protect_cond_conj_185512 = x_185502 && x_185506;
                int16_t index_concat_181643;
                
                if (protect_cond_conj_185512) {
                    int16_t x_185504 = ((int16_t *) a_list_mem_184305.mem)[slice_181658];
                    
                    index_concat_181643 = x_185504;
                } else {
                    index_concat_181643 = (int16_t) 0;
                }
                
                int64_t slice_183480 = slice_181657 + index_concat_i_183477;
                bool protect_cond_conj_185513 = index_concat_cmp_181652 && x_185506;
                int16_t index_concat_183481;
                
                if (protect_cond_conj_185513) {
                    int16_t x_185500 = ((int16_t *) b_list_mem_184306.mem)[slice_183480];
                    
                    index_concat_183481 = x_185500;
                } else {
                    index_concat_183481 = (int16_t) 0;
                }
                
                int16_t index_concat_branch_181644;
                
                if (index_concat_cmp_181652) {
                    index_concat_branch_181644 = index_concat_183481;
                } else {
                    index_concat_branch_181644 = index_concat_181643;
                }
                
                int8_t defunc_0_reduce_res_183712;
                int64_t defunc_0_reduce_res_183713;
                int16_t defunc_0_reduce_res_183714;
                
                if (x_185506) {
                    int8_t x_185514;
                    int64_t x_185515;
                    int16_t x_185516;
                    int8_t redout_184058;
                    int64_t redout_184059;
                    int16_t redout_184060;
                    
                    redout_184058 = index_concat_branch_181656;
                    redout_184059 = index_concat_branch_181650;
                    redout_184060 = index_concat_branch_181644;
                    for (int64_t i_184061 = 0; i_184061 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104; i_184061++) {
                        bool index_concat_cmp_184265 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, i_184061);
                        int8_t index_concat_branch_184269 = btoi_bool_i8(index_concat_cmp_184265);
                        int64_t index_concat_branch_184263;
                        
                        if (index_concat_cmp_184265) {
                            int64_t index_concat_i_184260 = sub64(i_184061, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                            int64_t index_primexp_184287 = add64(index_concat_branch_181676, index_concat_i_184260);
                            
                            index_concat_branch_184263 = index_primexp_184287;
                        } else {
                            int64_t index_primexp_184289 = add64(index_concat_branch_181682, i_184061);
                            
                            index_concat_branch_184263 = index_primexp_184289;
                        }
                        
                        int16_t index_concat_branch_184257;
                        
                        if (index_concat_cmp_184265) {
                            int64_t index_concat_i_184254 = sub64(i_184061, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                            int64_t slice_184284 = slice_181657 + index_concat_i_184254;
                            int16_t index_concat_184255 = ((int16_t *) b_list_mem_184306.mem)[slice_184284];
                            
                            index_concat_branch_184257 = index_concat_184255;
                        } else {
                            int64_t slice_184285 = slice_181658 + i_184061;
                            int16_t index_concat_184256 = ((int16_t *) a_list_mem_184305.mem)[slice_184285];
                            
                            index_concat_branch_184257 = index_concat_184256;
                        }
                        
                        bool eq_x_y_184300 = redout_184058 == (int8_t) 1;
                        bool eq_x_zz_184301 = redout_184058 == (int8_t) 0;
                        bool p_and_eq_x_y_184302 = index_concat_cmp_184265 && eq_x_y_184300;
                        bool not_p_184303 = !index_concat_cmp_184265;
                        bool p_and_eq_x_y_184304 = eq_x_zz_184301 && not_p_184303;
                        bool cond_180191 = p_and_eq_x_y_184302 || p_and_eq_x_y_184304;
                        bool defunc_0_leq_res_t_res_180192 = sle64(redout_184059, index_concat_branch_184263);
                        bool defunc_0_leq_res_180193 = sle16(redout_184060, index_concat_branch_184257);
                        bool x_180194 = cond_180191 && defunc_0_leq_res_t_res_180192;
                        bool x_180195 = !cond_180191;
                        bool y_180196 = defunc_0_leq_res_180193 && x_180195;
                        bool defunc_0_leq_res_180197 = x_180194 || y_180196;
                        int8_t defunc_0_op_res_180198;
                        
                        if (defunc_0_leq_res_180197) {
                            defunc_0_op_res_180198 = index_concat_branch_184269;
                        } else {
                            defunc_0_op_res_180198 = redout_184058;
                        }
                        
                        int64_t defunc_0_op_res_180199;
                        
                        if (defunc_0_leq_res_180197) {
                            defunc_0_op_res_180199 = index_concat_branch_184263;
                        } else {
                            defunc_0_op_res_180199 = redout_184059;
                        }
                        
                        int16_t defunc_0_op_res_180200;
                        
                        if (defunc_0_leq_res_180197) {
                            defunc_0_op_res_180200 = index_concat_branch_184257;
                        } else {
                            defunc_0_op_res_180200 = redout_184060;
                        }
                        
                        int8_t redout_tmp_185858 = defunc_0_op_res_180198;
                        int64_t redout_tmp_185859 = defunc_0_op_res_180199;
                        int16_t redout_tmp_185860 = defunc_0_op_res_180200;
                        
                        redout_184058 = redout_tmp_185858;
                        redout_184059 = redout_tmp_185859;
                        redout_184060 = redout_tmp_185860;
                    }
                    x_185514 = redout_184058;
                    x_185515 = redout_184059;
                    x_185516 = redout_184060;
                    defunc_0_reduce_res_183712 = x_185514;
                    defunc_0_reduce_res_183713 = x_185515;
                    defunc_0_reduce_res_183714 = x_185516;
                } else {
                    defunc_0_reduce_res_183712 = (int8_t) 0;
                    defunc_0_reduce_res_183713 = (int64_t) 0;
                    defunc_0_reduce_res_183714 = (int16_t) 0;
                }
                
                int64_t distance_180212 = add64((int64_t) 1, tmp_180210);
                int64_t binop_x_184364 = (int64_t) 8 * smallest_pow_2_geq_than_res_180157;
                int64_t bytes_184365 = block_sizze_180167 * binop_x_184364;
                int64_t binop_x_184367 = (int64_t) 2 * smallest_pow_2_geq_than_res_180157;
                int64_t bytes_184368 = block_sizze_180167 * binop_x_184367;
                int64_t bytes_184383 = (int64_t) 8 * block_sizze_180167;
                bool loop_cond_180321 = slt64(block_sizze_180167, flat_dim_180168);
                bool zzero_180322 = merge_block_sizze_180173 == (int64_t) 0;
                bool nonzzero_180323 = !zzero_180322;
                
                if (cond_180151) {
                    if (memblock_set(ctx, &ext_mem_184656, &mem_184357, "mem_184357") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184653, &mem_184359, "mem_184359") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184650, &mem_184361, "mem_184361") != 0)
                        return 1;
                } else {
                    if (mem_184363_cached_sizze_186265 < flat_dim_180168) {
                        err = lexical_realloc(ctx, &mem_184363, &mem_184363_cached_sizze_186265, flat_dim_180168);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184366_cached_sizze_186266 < bytes_184365) {
                        err = lexical_realloc(ctx, &mem_184366, &mem_184366_cached_sizze_186266, bytes_184365);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184369_cached_sizze_186267 < bytes_184368) {
                        err = lexical_realloc(ctx, &mem_184369, &mem_184369_cached_sizze_186267, bytes_184368);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184382_cached_sizze_186268 < block_sizze_180167) {
                        err = lexical_realloc(ctx, &mem_184382, &mem_184382_cached_sizze_186268, block_sizze_180167);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184384_cached_sizze_186269 < bytes_184383) {
                        err = lexical_realloc(ctx, &mem_184384, &mem_184384_cached_sizze_186269, bytes_184383);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_184386_cached_sizze_186270 < greatest_divisor_leq_than_arg1_180172) {
                        err = lexical_realloc(ctx, &mem_184386, &mem_184386_cached_sizze_186270, greatest_divisor_leq_than_arg1_180172);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_184078 = 0; i_184078 < smallest_pow_2_geq_than_res_180157; i_184078++) {
                        int64_t zp_lhs_180220 = mul64(block_sizze_180167, i_184078);
                        
                        for (int64_t i_184068 = 0; i_184068 < block_sizze_180167; i_184068++) {
                            int64_t k_180225 = add64(zp_lhs_180220, i_184068);
                            bool cond_180226 = slt64(k_180225, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104);
                            int8_t lifted_lambda_res_180227;
                            int64_t lifted_lambda_res_180228;
                            int16_t lifted_lambda_res_180229;
                            
                            if (cond_180226) {
                                bool x_183487 = sle64((int64_t) 0, k_180225);
                                bool bounds_check_183488 = cond_180226 && x_183487;
                                bool index_certs_183489;
                                
                                if (!bounds_check_183488) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_180225, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_183490 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103, k_180225);
                                int8_t index_concat_branch_183491 = btoi_bool_i8(index_concat_cmp_183490);
                                int64_t index_concat_branch_183492;
                                
                                if (index_concat_cmp_183490) {
                                    int64_t index_concat_i_183493 = sub64(k_180225, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                                    int64_t index_primexp_183494 = add64(index_concat_branch_181676, index_concat_i_183493);
                                    
                                    index_concat_branch_183492 = index_primexp_183494;
                                } else {
                                    int64_t index_primexp_183495 = add64(k_180225, index_concat_branch_181682);
                                    
                                    index_concat_branch_183492 = index_primexp_183495;
                                }
                                
                                int16_t index_concat_branch_183496;
                                
                                if (index_concat_cmp_183490) {
                                    int64_t index_concat_i_183497 = sub64(k_180225, dzlz7bUZLzmZRz20U0z20U0z7dUzg_180103);
                                    int64_t slice_183498 = slice_181657 + index_concat_i_183497;
                                    int16_t index_concat_183499 = ((int16_t *) b_list_mem_184306.mem)[slice_183498];
                                    
                                    index_concat_branch_183496 = index_concat_183499;
                                } else {
                                    int64_t slice_183500 = k_180225 + slice_181658;
                                    int16_t index_concat_183501 = ((int16_t *) a_list_mem_184305.mem)[slice_183500];
                                    
                                    index_concat_branch_183496 = index_concat_183501;
                                }
                                lifted_lambda_res_180227 = index_concat_branch_183491;
                                lifted_lambda_res_180228 = index_concat_branch_183492;
                                lifted_lambda_res_180229 = index_concat_branch_183496;
                            } else {
                                lifted_lambda_res_180227 = defunc_0_reduce_res_183712;
                                lifted_lambda_res_180228 = defunc_0_reduce_res_183713;
                                lifted_lambda_res_180229 = defunc_0_reduce_res_183714;
                            }
                            ((int8_t *) mem_184382)[i_184068] = lifted_lambda_res_180227;
                            ((int64_t *) mem_184384)[i_184068] = lifted_lambda_res_180228;
                            ((int16_t *) mem_184386)[i_184068] = lifted_lambda_res_180229;
                        }
                        if (!cond_180209) {
                            for (int64_t i_180242 = 0; i_180242 < distance_180212; i_180242++) {
                                int64_t gt_arg1_180246 = add64((int64_t) 1, i_180242);
                                bool x_180247 = sle64((int64_t) 0, gt_arg1_180246);
                                bool y_180248 = slt64(gt_arg1_180246, block_sizze_180167);
                                bool bounds_check_180249 = x_180247 && y_180248;
                                bool index_certs_180250;
                                
                                if (!bounds_check_180249) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_180246, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_180254 = slt64(i_180242, block_sizze_180167);
                                bool index_certs_180255;
                                
                                if (!y_180254) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180242, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_180251 = ((int8_t *) mem_184382)[gt_arg1_180246];
                                int64_t gt_arg1_180252 = ((int64_t *) mem_184384)[gt_arg1_180246];
                                int16_t gt_arg1_180253 = ((int16_t *) mem_184386)[gt_arg1_180246];
                                int8_t gt_arg0_180256 = ((int8_t *) mem_184382)[i_180242];
                                int64_t gt_arg0_180257 = ((int64_t *) mem_184384)[i_180242];
                                int16_t gt_arg0_180258 = ((int16_t *) mem_184386)[i_180242];
                                bool cond_180259 = gt_arg0_180256 == gt_arg1_180251;
                                bool defunc_0_leq_res_t_res_180260 = sle64(gt_arg0_180257, gt_arg1_180252);
                                bool defunc_0_leq_res_180261 = sle16(gt_arg0_180258, gt_arg1_180253);
                                bool x_180262 = cond_180259 && defunc_0_leq_res_t_res_180260;
                                bool x_180263 = !cond_180259;
                                bool y_180264 = defunc_0_leq_res_180261 && x_180263;
                                bool defunc_0_leq_res_180265 = x_180262 || y_180264;
                                bool defunc_0_lifted_gt_res_180266 = !defunc_0_leq_res_180265;
                                bool s_180267;
                                int64_t s_180271;
                                bool loop_while_180272;
                                int64_t j_180276;
                                
                                loop_while_180272 = defunc_0_lifted_gt_res_180266;
                                j_180276 = i_180242;
                                while (loop_while_180272) {
                                    bool x_180277 = sle64((int64_t) 0, j_180276);
                                    bool y_180278 = slt64(j_180276, block_sizze_180167);
                                    bool bounds_check_180279 = x_180277 && y_180278;
                                    bool index_certs_180280;
                                    
                                    if (!bounds_check_180279) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180276, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_180284 = add64((int64_t) 1, j_180276);
                                    bool x_180285 = sle64((int64_t) 0, copy_arg0_180284);
                                    bool y_180286 = slt64(copy_arg0_180284, block_sizze_180167);
                                    bool bounds_check_180287 = x_180285 && y_180286;
                                    bool index_certs_180288;
                                    
                                    if (!bounds_check_180287) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_180284, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_180281 = ((int8_t *) mem_184382)[j_180276];
                                    int64_t copy_arg0_180282 = ((int64_t *) mem_184384)[j_180276];
                                    int16_t copy_arg0_180283 = ((int16_t *) mem_184386)[j_180276];
                                    int8_t copy_arg0_180289 = ((int8_t *) mem_184382)[copy_arg0_180284];
                                    int64_t copy_arg0_180290 = ((int64_t *) mem_184384)[copy_arg0_180284];
                                    int16_t copy_arg0_180291 = ((int16_t *) mem_184386)[copy_arg0_180284];
                                    
                                    ((int8_t *) mem_184382)[j_180276] = copy_arg0_180289;
                                    ((int64_t *) mem_184384)[j_180276] = copy_arg0_180290;
                                    ((int16_t *) mem_184386)[j_180276] = copy_arg0_180291;
                                    ((int8_t *) mem_184382)[copy_arg0_180284] = copy_arg0_180281;
                                    ((int64_t *) mem_184384)[copy_arg0_180284] = copy_arg0_180282;
                                    ((int16_t *) mem_184386)[copy_arg0_180284] = copy_arg0_180283;
                                    
                                    int64_t tmp_180298 = sub64(j_180276, (int64_t) 1);
                                    bool cond_180299 = sle64((int64_t) 0, tmp_180298);
                                    bool loop_cond_180300;
                                    
                                    if (cond_180299) {
                                        bool y_183505 = slt64(tmp_180298, block_sizze_180167);
                                        bool bounds_check_183506 = cond_180299 && y_183505;
                                        bool index_certs_183507;
                                        
                                        if (!bounds_check_183506) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180298, "] out of bounds for array of shape [", (long long) block_sizze_180167, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_183502 = ((int8_t *) mem_184382)[j_180276];
                                        int64_t gt_arg1_183503 = ((int64_t *) mem_184384)[j_180276];
                                        int16_t gt_arg1_183504 = ((int16_t *) mem_184386)[j_180276];
                                        int8_t gt_arg0_183508 = ((int8_t *) mem_184382)[tmp_180298];
                                        int64_t gt_arg0_183509 = ((int64_t *) mem_184384)[tmp_180298];
                                        int16_t gt_arg0_183510 = ((int16_t *) mem_184386)[tmp_180298];
                                        bool cond_183511 = gt_arg0_183508 == gt_arg1_183502;
                                        bool defunc_0_leq_res_t_res_183512 = sle64(gt_arg0_183509, gt_arg1_183503);
                                        bool defunc_0_leq_res_183513 = sle16(gt_arg0_183510, gt_arg1_183504);
                                        bool x_183514 = cond_183511 && defunc_0_leq_res_t_res_183512;
                                        bool x_183515 = !cond_183511;
                                        bool y_183516 = defunc_0_leq_res_183513 && x_183515;
                                        bool defunc_0_leq_res_183517 = x_183514 || y_183516;
                                        bool defunc_0_lifted_gt_res_183518 = !defunc_0_leq_res_183517;
                                        
                                        loop_cond_180300 = defunc_0_lifted_gt_res_183518;
                                    } else {
                                        loop_cond_180300 = 0;
                                    }
                                    
                                    bool loop_while_tmp_185870 = loop_cond_180300;
                                    int64_t j_tmp_185874 = tmp_180298;
                                    
                                    loop_while_180272 = loop_while_tmp_185870;
                                    j_180276 = j_tmp_185874;
                                }
                                s_180267 = loop_while_180272;
                                s_180271 = j_180276;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_184363, i_184078 * block_sizze_180167, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_184382, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180167});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184366, i_184078 * block_sizze_180167, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184384, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180167});
                        lmad_copy_2b(ctx, 1, (uint16_t *) mem_184369, i_184078 * block_sizze_180167, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_184386, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180167});
                    }
                    if (memblock_alloc(ctx, &mem_184463, flat_dim_180168, "mem_184463")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_184463.mem, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (uint8_t *) mem_184363, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180157, block_sizze_180167});
                    if (memblock_alloc(ctx, &mem_184467, bytes_184365, "mem_184467")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_184467.mem, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (uint64_t *) mem_184366, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180157, block_sizze_180167});
                    if (memblock_alloc(ctx, &mem_184471, bytes_184368, "mem_184471")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_184471.mem, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (uint16_t *) mem_184369, (int64_t) 0, (int64_t []) {block_sizze_180167, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180157, block_sizze_180167});
                    
                    int64_t data_180324;
                    bool data_180325;
                    int64_t data_180329;
                    int64_t loop_dz2084Uz2082U_180330;
                    bool loop_while_180331;
                    int64_t stride_180335;
                    
                    if (memblock_set(ctx, &mem_param_184475, &mem_184463, "mem_184463") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_184478, &mem_184467, "mem_184467") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_184481, &mem_184471, "mem_184471") != 0)
                        return 1;
                    loop_dz2084Uz2082U_180330 = flat_dim_180168;
                    loop_while_180331 = loop_cond_180321;
                    stride_180335 = block_sizze_180167;
                    while (loop_while_180331) {
                        int64_t next_stride_180336 = mul64((int64_t) 2, stride_180335);
                        bool zzero_180337 = next_stride_180336 == (int64_t) 0;
                        bool nonzzero_180338 = !zzero_180337;
                        bool nonzzero_cert_180339;
                        
                        if (!nonzzero_180338) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_180340 = sdiv64(flat_dim_180168, next_stride_180336);
                        bool bounds_invalid_upwards_180341 = slt64(num_merges_180340, (int64_t) 0);
                        bool valid_180342 = !bounds_invalid_upwards_180341;
                        bool range_valid_c_180343;
                        
                        if (!valid_180342) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_180340, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_180345 = sub64(next_stride_180336, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_180346 = sle64((int64_t) 0, m_180345);
                        bool cond_180348 = slt64(next_stride_180336, (int64_t) 10);
                        bool protect_assert_disj_180349 = nonzzero_180323 || cond_180348;
                        bool nonzzero_cert_180350;
                        
                        if (!protect_assert_disj_180349) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_180351 = smod_safe64(next_stride_180336, merge_block_sizze_180173);
                        bool num_blocks_180352 = zeze_lhs_180351 == (int64_t) 0;
                        bool protect_assert_disj_180353 = cond_180348 || num_blocks_180352;
                        bool assert_c_180354;
                        
                        if (!protect_assert_disj_180353) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_180356 = sdiv_safe64(next_stride_180336, merge_block_sizze_180173);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357 = add64((int64_t) 1, num_blocks_180356);
                        int64_t j_m_i_180358 = sub64(next_stride_180336, stride_180335);
                        int64_t flat_dim_180359 = merge_block_sizze_180173 * num_blocks_180356;
                        bool bounds_invalid_upwards_180360 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357, (int64_t) 0);
                        bool empty_slice_180361 = j_m_i_180358 == (int64_t) 0;
                        int64_t m_180362 = sub64(j_m_i_180358, (int64_t) 1);
                        bool zzero_lte_i_180363 = sle64((int64_t) 0, stride_180335);
                        bool i_lte_j_180364 = sle64(stride_180335, next_stride_180336);
                        bool empty_slice_180365 = stride_180335 == (int64_t) 0;
                        int64_t m_180366 = sub64(stride_180335, (int64_t) 1);
                        bool bounds_invalid_upwards_180367 = slt64(num_blocks_180356, (int64_t) 0);
                        bool cond_180368 = slt64((int64_t) 0, stride_180335);
                        bool valid_180369 = !bounds_invalid_upwards_180360;
                        int64_t i_p_m_t_s_180370 = add64(stride_180335, m_180362);
                        bool zzero_leq_i_p_m_t_s_180371 = sle64((int64_t) 0, m_180366);
                        bool i_p_m_t_s_leq_w_180372 = slt64(m_180366, next_stride_180336);
                        bool valid_180373 = !bounds_invalid_upwards_180367;
                        bool i_p_m_t_s_leq_w_180374 = slt64(m_180345, flat_dim_180359);
                        bool y_180375 = slt64((int64_t) 0, j_m_i_180358);
                        bool protect_assert_disj_180376 = cond_180348 || valid_180369;
                        bool range_valid_c_180377;
                        
                        if (!protect_assert_disj_180376) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:357:63-73\n   #9  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_180378 = sle64((int64_t) 0, i_p_m_t_s_180370);
                        bool i_p_m_t_s_leq_w_180379 = slt64(i_p_m_t_s_180370, next_stride_180336);
                        bool y_180380 = zzero_leq_i_p_m_t_s_180371 && i_p_m_t_s_leq_w_180372;
                        bool protect_assert_disj_180381 = cond_180348 || valid_180373;
                        bool range_valid_c_180382;
                        
                        if (!protect_assert_disj_180381) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_180356, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_180383 = zzero_leq_i_p_m_t_s_180346 && i_p_m_t_s_leq_w_180374;
                        bool y_180384 = zzero_lte_i_180363 && i_p_m_t_s_leq_w_180379;
                        bool forwards_ok_180385 = zzero_lte_i_180363 && y_180380;
                        bool ok_or_empty_180386 = zzero_180337 || y_180383;
                        bool protect_assert_disj_180387 = cond_180368 || y_180375;
                        bool y_180388 = zzero_leq_i_p_m_t_s_180378 && y_180384;
                        bool ok_or_empty_180389 = empty_slice_180365 || forwards_ok_180385;
                        bool protect_assert_disj_180390 = cond_180348 || ok_or_empty_180386;
                        bool index_certs_180391;
                        
                        if (!protect_assert_disj_180390) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_180336, "] out of bounds for array of shape [", (long long) flat_dim_180359, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_180392 = !cond_180348;
                        bool protect_assert_disj_180393 = protect_assert_disj_180387 || loop_not_taken_180392;
                        bool index_certs_180394;
                        
                        if (!protect_assert_disj_180393) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:357:63-73\n   #9  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_180395 = i_lte_j_180364 && y_180388;
                        bool protect_assert_disj_180396 = cond_180348 || ok_or_empty_180389;
                        bool index_certs_180397;
                        
                        if (!protect_assert_disj_180396) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_180335, "] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:357:63-73\n   #10 ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_180398 = ok_or_empty_180389 || loop_not_taken_180392;
                        bool index_certs_180399;
                        
                        if (!protect_assert_disj_180398) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_180335, "] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_180400 = empty_slice_180361 || forwards_ok_180395;
                        bool protect_assert_disj_180401 = cond_180348 || ok_or_empty_180400;
                        bool index_certs_180402;
                        
                        if (!protect_assert_disj_180401) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_180335, ":] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:357:63-73\n   #10 ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_180403 = loop_not_taken_180392 || ok_or_empty_180400;
                        bool index_certs_180404;
                        
                        if (!protect_assert_disj_180403) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_180335, ":] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_184482 = next_stride_180336 * num_merges_180340;
                        int64_t binop_x_184484 = (int64_t) 8 * num_merges_180340;
                        int64_t bytes_184485 = next_stride_180336 * binop_x_184484;
                        int64_t binop_x_184487 = (int64_t) 2 * num_merges_180340;
                        int64_t bytes_184488 = next_stride_180336 * binop_x_184487;
                        bool i_lte_j_180347 = sle64((int64_t) 0, next_stride_180336);
                        
                        if (mem_184483_cached_sizze_186271 < bytes_184482) {
                            err = lexical_realloc(ctx, &mem_184483, &mem_184483_cached_sizze_186271, bytes_184482);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_184486_cached_sizze_186272 < bytes_184485) {
                            err = lexical_realloc(ctx, &mem_184486, &mem_184486_cached_sizze_186272, bytes_184485);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_184489_cached_sizze_186273 < bytes_184488) {
                            err = lexical_realloc(ctx, &mem_184489, &mem_184489_cached_sizze_186273, bytes_184488);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_184502 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357;
                        int64_t binop_x_184520 = (int64_t) 8 * num_blocks_180356;
                        int64_t bytes_184521 = merge_block_sizze_180173 * binop_x_184520;
                        int64_t binop_x_184523 = (int64_t) 2 * num_blocks_180356;
                        int64_t bytes_184524 = merge_block_sizze_180173 * binop_x_184523;
                        int64_t bytes_184585 = (int64_t) 16 * stride_180335;
                        int64_t bytes_184587 = (int64_t) 4 * stride_180335;
                        
                        for (int64_t i_184105 = 0; i_184105 < num_merges_180340; i_184105++) {
                            int64_t start_180409 = mul64(next_stride_180336, i_184105);
                            int64_t j_m_i_180410 = sub64(loop_dz2084Uz2082U_180330, start_180409);
                            bool empty_slice_180411 = j_m_i_180410 == (int64_t) 0;
                            int64_t m_180412 = sub64(j_m_i_180410, (int64_t) 1);
                            int64_t i_p_m_t_s_180413 = add64(start_180409, m_180412);
                            bool zzero_leq_i_p_m_t_s_180414 = sle64((int64_t) 0, i_p_m_t_s_180413);
                            bool i_p_m_t_s_leq_w_180415 = slt64(i_p_m_t_s_180413, loop_dz2084Uz2082U_180330);
                            bool zzero_lte_i_180416 = sle64((int64_t) 0, start_180409);
                            bool i_lte_j_180417 = sle64(start_180409, loop_dz2084Uz2082U_180330);
                            bool y_180418 = i_p_m_t_s_leq_w_180415 && zzero_lte_i_180416;
                            bool y_180419 = zzero_leq_i_p_m_t_s_180414 && y_180418;
                            bool forwards_ok_180420 = i_lte_j_180417 && y_180419;
                            bool ok_or_empty_180421 = empty_slice_180411 || forwards_ok_180420;
                            bool index_certs_180422;
                            
                            if (!ok_or_empty_180421) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_180409, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_180330, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_180423 = slt64(m_180345, j_m_i_180410);
                            bool y_180424 = zzero_leq_i_p_m_t_s_180346 && i_p_m_t_s_leq_w_180423;
                            bool forwards_ok_180425 = i_lte_j_180347 && y_180424;
                            bool ok_or_empty_180426 = zzero_180337 || forwards_ok_180425;
                            bool index_certs_180427;
                            
                            if (!ok_or_empty_180426) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_180336, "] out of bounds for array of shape [", (long long) j_m_i_180410, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_180348) {
                                int8_t dummy_183557;
                                int64_t dummy_183558;
                                int16_t dummy_183559;
                                
                                if (cond_180368) {
                                    int8_t head_res_183560 = ((int8_t *) mem_param_184475.mem)[start_180409];
                                    int64_t head_res_183561 = ((int64_t *) mem_param_184478.mem)[start_180409];
                                    int16_t head_res_183562 = ((int16_t *) mem_param_184481.mem)[start_180409];
                                    
                                    dummy_183557 = head_res_183560;
                                    dummy_183558 = head_res_183561;
                                    dummy_183559 = head_res_183562;
                                } else {
                                    int64_t slice_183563 = stride_180335 + start_180409;
                                    int8_t head_res_183564 = ((int8_t *) mem_param_184475.mem)[slice_183563];
                                    int64_t head_res_183565 = ((int64_t *) mem_param_184478.mem)[slice_183563];
                                    int16_t head_res_183566 = ((int16_t *) mem_param_184481.mem)[slice_183563];
                                    
                                    dummy_183557 = head_res_183564;
                                    dummy_183558 = head_res_183565;
                                    dummy_183559 = head_res_183566;
                                }
                                if (memblock_alloc(ctx, &mem_184584, next_stride_180336, "mem_184584")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185887 = 0; nest_i_185887 < next_stride_180336; nest_i_185887++) {
                                    ((int8_t *) mem_184584.mem)[nest_i_185887] = dummy_183557;
                                }
                                if (memblock_alloc(ctx, &mem_184586, bytes_184585, "mem_184586")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185888 = 0; nest_i_185888 < next_stride_180336; nest_i_185888++) {
                                    ((int64_t *) mem_184586.mem)[nest_i_185888] = dummy_183558;
                                }
                                if (memblock_alloc(ctx, &mem_184588, bytes_184587, "mem_184588")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_185889 = 0; nest_i_185889 < next_stride_180336; nest_i_185889++) {
                                    ((int16_t *) mem_184588.mem)[nest_i_185889] = dummy_183559;
                                }
                                
                                int64_t data_183570;
                                int64_t i_183575 = (int64_t) 0;
                                
                                for (int64_t k_183574 = 0; k_183574 < next_stride_180336; k_183574++) {
                                    int64_t j_183579 = sub64(k_183574, i_183575);
                                    bool cond_183580 = j_183579 == j_m_i_180358;
                                    bool cond_183581;
                                    
                                    if (cond_183580) {
                                        cond_183581 = 1;
                                    } else {
                                        bool cond_183582 = slt64(i_183575, stride_180335);
                                        bool cond_f_res_183583;
                                        
                                        if (cond_183582) {
                                            bool x_183584 = sle64((int64_t) 0, j_183579);
                                            bool y_183585 = slt64(j_183579, j_m_i_180358);
                                            bool bounds_check_183586 = x_183584 && y_183585;
                                            bool index_certs_183587;
                                            
                                            if (!bounds_check_183586) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183579, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_183593 = sle64((int64_t) 0, i_183575);
                                            bool bounds_check_183594 = cond_183582 && x_183593;
                                            bool index_certs_183595;
                                            
                                            if (!bounds_check_183594) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183575, "] out of bounds for array of shape [", (long long) stride_180335, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_183588 = stride_180335 + j_183579;
                                            int64_t slice_183589 = start_180409 + slice_183588;
                                            int8_t leq_arg1_183590 = ((int8_t *) mem_param_184475.mem)[slice_183589];
                                            int64_t leq_arg1_183591 = ((int64_t *) mem_param_184478.mem)[slice_183589];
                                            int16_t leq_arg1_183592 = ((int16_t *) mem_param_184481.mem)[slice_183589];
                                            int64_t slice_183596 = start_180409 + i_183575;
                                            int8_t leq_arg0_183597 = ((int8_t *) mem_param_184475.mem)[slice_183596];
                                            int64_t leq_arg0_183598 = ((int64_t *) mem_param_184478.mem)[slice_183596];
                                            int16_t leq_arg0_183599 = ((int16_t *) mem_param_184481.mem)[slice_183596];
                                            bool cond_183600 = leq_arg0_183597 == leq_arg1_183590;
                                            bool defunc_0_leq_res_t_res_183601 = sle64(leq_arg0_183598, leq_arg1_183591);
                                            bool defunc_0_leq_res_183602 = sle16(leq_arg0_183599, leq_arg1_183592);
                                            bool x_183603 = cond_183600 && defunc_0_leq_res_t_res_183601;
                                            bool x_183604 = !cond_183600;
                                            bool y_183605 = defunc_0_leq_res_183602 && x_183604;
                                            bool defunc_0_leq_res_183606 = x_183603 || y_183605;
                                            
                                            cond_f_res_183583 = defunc_0_leq_res_183606;
                                        } else {
                                            cond_f_res_183583 = 0;
                                        }
                                        cond_183581 = cond_f_res_183583;
                                    }
                                    
                                    int64_t loopres_183607;
                                    int8_t loopres_183608;
                                    int64_t loopres_183609;
                                    int16_t loopres_183610;
                                    
                                    if (cond_183581) {
                                        bool x_183612 = sle64((int64_t) 0, i_183575);
                                        bool y_183613 = slt64(i_183575, stride_180335);
                                        bool bounds_check_183614 = x_183612 && y_183613;
                                        bool index_certs_183615;
                                        
                                        if (!bounds_check_183614) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183575, "] out of bounds for array of shape [", (long long) stride_180335, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_183611 = add64((int64_t) 1, i_183575);
                                        int64_t slice_183616 = start_180409 + i_183575;
                                        int8_t tmp_183617 = ((int8_t *) mem_param_184475.mem)[slice_183616];
                                        int64_t tmp_183618 = ((int64_t *) mem_param_184478.mem)[slice_183616];
                                        int16_t tmp_183619 = ((int16_t *) mem_param_184481.mem)[slice_183616];
                                        
                                        loopres_183607 = tmp_183611;
                                        loopres_183608 = tmp_183617;
                                        loopres_183609 = tmp_183618;
                                        loopres_183610 = tmp_183619;
                                    } else {
                                        bool x_183620 = sle64((int64_t) 0, j_183579);
                                        bool y_183621 = slt64(j_183579, j_m_i_180358);
                                        bool bounds_check_183622 = x_183620 && y_183621;
                                        bool index_certs_183623;
                                        
                                        if (!bounds_check_183622) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183579, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183624 = stride_180335 + j_183579;
                                        int64_t slice_183625 = start_180409 + slice_183624;
                                        int8_t tmp_183626 = ((int8_t *) mem_param_184475.mem)[slice_183625];
                                        int64_t tmp_183627 = ((int64_t *) mem_param_184478.mem)[slice_183625];
                                        int16_t tmp_183628 = ((int16_t *) mem_param_184481.mem)[slice_183625];
                                        
                                        loopres_183607 = i_183575;
                                        loopres_183608 = tmp_183626;
                                        loopres_183609 = tmp_183627;
                                        loopres_183610 = tmp_183628;
                                    }
                                    ((int8_t *) mem_184584.mem)[k_183574] = loopres_183608;
                                    ((int64_t *) mem_184586.mem)[k_183574] = loopres_183609;
                                    ((int16_t *) mem_184588.mem)[k_183574] = loopres_183610;
                                    
                                    int64_t i_tmp_185890 = loopres_183607;
                                    
                                    i_183575 = i_tmp_185890;
                                }
                                data_183570 = i_183575;
                                if (memblock_set(ctx, &ext_mem_184615, &mem_184584, "mem_184584") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184612, &mem_184586, "mem_184586") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184609, &mem_184588, "mem_184588") != 0)
                                    return 1;
                            } else {
                                if (mem_184503_cached_sizze_186274 < bytes_184502) {
                                    err = lexical_realloc(ctx, &mem_184503, &mem_184503_cached_sizze_186274, bytes_184502);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184505_cached_sizze_186275 < bytes_184502) {
                                    err = lexical_realloc(ctx, &mem_184505, &mem_184505_cached_sizze_186275, bytes_184502);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_184086 = 0; i_184086 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357; i_184086++) {
                                    int64_t split_count_arg3_180510 = mul64(merge_block_sizze_180173, i_184086);
                                    int64_t defunc_0_split_count_res_180511;
                                    int64_t defunc_0_split_count_res_180512;
                                    int64_t defunc_0_split_count_res_180513;
                                    int64_t defunc_0_split_count_res_180514;
                                    int64_t defunc_0_split_count_res_180515;
                                    
                                    if (futrts_lifted_normalizze_9100(ctx, &defunc_0_split_count_res_180511, &defunc_0_split_count_res_180512, &defunc_0_split_count_res_180513, &defunc_0_split_count_res_180514, &defunc_0_split_count_res_180515, (int64_t) 0, stride_180335, (int64_t) 0, j_m_i_180358, split_count_arg3_180510) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_180516 = slt64((int64_t) 0, defunc_0_split_count_res_180515);
                                    bool defunc_0_split_count_res_180517;
                                    int64_t defunc_0_split_count_res_180518;
                                    int64_t defunc_0_split_count_res_180519;
                                    int64_t defunc_0_split_count_res_180520;
                                    int64_t defunc_0_split_count_res_180521;
                                    int64_t defunc_0_split_count_res_180522;
                                    bool loop_while_180523;
                                    int64_t ss_180524;
                                    int64_t ss_180525;
                                    int64_t tt_180526;
                                    int64_t tt_180527;
                                    int64_t count_180528;
                                    
                                    loop_while_180523 = loop_cond_180516;
                                    ss_180524 = defunc_0_split_count_res_180511;
                                    ss_180525 = defunc_0_split_count_res_180512;
                                    tt_180526 = defunc_0_split_count_res_180513;
                                    tt_180527 = defunc_0_split_count_res_180514;
                                    count_180528 = defunc_0_split_count_res_180515;
                                    while (loop_while_180523) {
                                        int64_t zlze_lhs_180529 = sub64(ss_180525, ss_180524);
                                        bool cond_180530 = sle64(zlze_lhs_180529, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_180531;
                                        int64_t defunc_0_lifted_step_res_180532;
                                        int64_t defunc_0_lifted_step_res_180533;
                                        int64_t defunc_0_lifted_step_res_180534;
                                        
                                        if (cond_180530) {
                                            int64_t tmp_183632 = add64(tt_180526, count_180528);
                                            
                                            defunc_0_lifted_step_res_180531 = ss_180524;
                                            defunc_0_lifted_step_res_180532 = tmp_183632;
                                            defunc_0_lifted_step_res_180533 = tt_180527;
                                            defunc_0_lifted_step_res_180534 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_180536 = sub64(tt_180527, tt_180526);
                                            bool cond_180537 = sle64(zlze_lhs_180536, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_180538;
                                            int64_t defunc_0_lifted_step_res_f_res_180539;
                                            int64_t defunc_0_lifted_step_res_f_res_180540;
                                            int64_t defunc_0_lifted_step_res_f_res_180541;
                                            
                                            if (cond_180537) {
                                                int64_t tmp_183633 = add64(ss_180524, count_180528);
                                                
                                                defunc_0_lifted_step_res_f_res_180538 = tmp_183633;
                                                defunc_0_lifted_step_res_f_res_180539 = tt_180526;
                                                defunc_0_lifted_step_res_f_res_180540 = tt_180527;
                                                defunc_0_lifted_step_res_f_res_180541 = (int64_t) 0;
                                            } else {
                                                bool cond_180543 = count_180528 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_180544;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_180545;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_180546;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_180547;
                                                
                                                if (cond_180543) {
                                                    bool x_183635 = sle64((int64_t) 0, ss_180524);
                                                    bool y_183636 = slt64(ss_180524, stride_180335);
                                                    bool bounds_check_183637 = x_183635 && y_183636;
                                                    bool index_certs_183638;
                                                    
                                                    if (!bounds_check_183637) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_180524, "] out of bounds for array of shape [", (long long) stride_180335, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:357:63-73\n   #12 ftsort.fut:350:1-357:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_183643 = sle64((int64_t) 0, tt_180526);
                                                    bool y_183644 = slt64(tt_180526, j_m_i_180358);
                                                    bool bounds_check_183645 = x_183643 && y_183644;
                                                    bool index_certs_183646;
                                                    
                                                    if (!bounds_check_183645) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_180526, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:357:63-73\n   #12 ftsort.fut:350:1-357:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_183639 = start_180409 + ss_180524;
                                                    int8_t leq_arg1_183640 = ((int8_t *) mem_param_184475.mem)[slice_183639];
                                                    int64_t leq_arg1_183641 = ((int64_t *) mem_param_184478.mem)[slice_183639];
                                                    int16_t leq_arg1_183642 = ((int16_t *) mem_param_184481.mem)[slice_183639];
                                                    int64_t slice_183647 = stride_180335 + tt_180526;
                                                    int64_t slice_183648 = start_180409 + slice_183647;
                                                    int8_t leq_arg0_183649 = ((int8_t *) mem_param_184475.mem)[slice_183648];
                                                    int64_t leq_arg0_183650 = ((int64_t *) mem_param_184478.mem)[slice_183648];
                                                    int16_t leq_arg0_183651 = ((int16_t *) mem_param_184481.mem)[slice_183648];
                                                    bool cond_183652 = leq_arg0_183649 == leq_arg1_183640;
                                                    bool defunc_0_leq_res_t_res_183653 = sle64(leq_arg0_183650, leq_arg1_183641);
                                                    bool defunc_0_leq_res_183654 = sle16(leq_arg0_183651, leq_arg1_183642);
                                                    bool x_183655 = cond_183652 && defunc_0_leq_res_t_res_183653;
                                                    bool x_183656 = !cond_183652;
                                                    bool y_183657 = defunc_0_leq_res_183654 && x_183656;
                                                    bool defunc_0_leq_res_183658 = x_183655 || y_183657;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183659;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183660;
                                                    
                                                    if (defunc_0_leq_res_183658) {
                                                        int64_t tmp_183661 = add64((int64_t) 1, tt_180526);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183659 = ss_180524;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183660 = tmp_183661;
                                                    } else {
                                                        int64_t tmp_183662 = add64((int64_t) 1, ss_180524);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183659 = tmp_183662;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_183660 = tt_180526;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_180544 = defunc_0_lifted_step_res_f_res_f_res_t_res_183659;
                                                    defunc_0_lifted_step_res_f_res_f_res_180545 = defunc_0_lifted_step_res_f_res_f_res_t_res_183660;
                                                    defunc_0_lifted_step_res_f_res_f_res_180546 = tt_180527;
                                                    defunc_0_lifted_step_res_f_res_f_res_180547 = (int64_t) 0;
                                                } else {
                                                    int64_t m_180576 = sdiv64(count_180528, (int64_t) 2);
                                                    int64_t n_180577 = sub64(count_180528, m_180576);
                                                    bool cond_180578 = n_180577 == (int64_t) 0;
                                                    int64_t zgze_lhs_180579 = add64(ss_180524, m_180576);
                                                    bool cond_f_res_180580 = sle64(ss_180525, zgze_lhs_180579);
                                                    bool x_180581 = !cond_180578;
                                                    bool y_180582 = cond_f_res_180580 && x_180581;
                                                    bool cond_180583 = cond_180578 || y_180582;
                                                    bool leq_y_x_180584;
                                                    
                                                    if (cond_180583) {
                                                        leq_y_x_180584 = 1;
                                                    } else {
                                                        bool x_180585 = sle64((int64_t) 0, zgze_lhs_180579);
                                                        bool y_180586 = slt64(zgze_lhs_180579, stride_180335);
                                                        bool bounds_check_180587 = x_180585 && y_180586;
                                                        bool index_certs_180588;
                                                        
                                                        if (!bounds_check_180587) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_180579, "] out of bounds for array of shape [", (long long) stride_180335, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:357:63-73\n   #12 ftsort.fut:350:1-357:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_180593 = add64(tt_180526, n_180577);
                                                        int64_t leq_arg0_180594 = sub64(zm_lhs_180593, (int64_t) 1);
                                                        bool x_180595 = sle64((int64_t) 0, leq_arg0_180594);
                                                        bool y_180596 = slt64(leq_arg0_180594, j_m_i_180358);
                                                        bool bounds_check_180597 = x_180595 && y_180596;
                                                        bool index_certs_180598;
                                                        
                                                        if (!bounds_check_180597) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_180594, "] out of bounds for array of shape [", (long long) j_m_i_180358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:357:63-73\n   #12 ftsort.fut:350:1-357:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_180589 = start_180409 + zgze_lhs_180579;
                                                        int8_t leq_arg1_180590 = ((int8_t *) mem_param_184475.mem)[slice_180589];
                                                        int64_t leq_arg1_180591 = ((int64_t *) mem_param_184478.mem)[slice_180589];
                                                        int16_t leq_arg1_180592 = ((int16_t *) mem_param_184481.mem)[slice_180589];
                                                        int64_t slice_180599 = stride_180335 + leq_arg0_180594;
                                                        int64_t slice_180600 = start_180409 + slice_180599;
                                                        int8_t leq_arg0_180601 = ((int8_t *) mem_param_184475.mem)[slice_180600];
                                                        int64_t leq_arg0_180602 = ((int64_t *) mem_param_184478.mem)[slice_180600];
                                                        int16_t leq_arg0_180603 = ((int16_t *) mem_param_184481.mem)[slice_180600];
                                                        bool cond_180604 = leq_arg0_180601 == leq_arg1_180590;
                                                        bool defunc_0_leq_res_t_res_180605 = sle64(leq_arg0_180602, leq_arg1_180591);
                                                        bool defunc_0_leq_res_180606 = sle16(leq_arg0_180603, leq_arg1_180592);
                                                        bool x_180607 = cond_180604 && defunc_0_leq_res_t_res_180605;
                                                        bool x_180608 = !cond_180604;
                                                        bool y_180609 = defunc_0_leq_res_180606 && x_180608;
                                                        bool defunc_0_leq_res_180610 = x_180607 || y_180609;
                                                        
                                                        leq_y_x_180584 = defunc_0_leq_res_180610;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_180611;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_180612;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_180613;
                                                    
                                                    if (leq_y_x_180584) {
                                                        int64_t tmp_183663 = add64(tt_180526, n_180577);
                                                        int64_t tmp_183664 = sub64(count_180528, n_180577);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180611 = tmp_183663;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180612 = tt_180527;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180613 = tmp_183664;
                                                    } else {
                                                        int64_t tmp_180616 = add64(tt_180526, n_180577);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180611 = tt_180526;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180612 = tmp_180616;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_180613 = count_180528;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_180544 = ss_180524;
                                                    defunc_0_lifted_step_res_f_res_f_res_180545 = defunc_0_lifted_step_res_f_res_f_res_f_res_180611;
                                                    defunc_0_lifted_step_res_f_res_f_res_180546 = defunc_0_lifted_step_res_f_res_f_res_f_res_180612;
                                                    defunc_0_lifted_step_res_f_res_f_res_180547 = defunc_0_lifted_step_res_f_res_f_res_f_res_180613;
                                                }
                                                defunc_0_lifted_step_res_f_res_180538 = defunc_0_lifted_step_res_f_res_f_res_180544;
                                                defunc_0_lifted_step_res_f_res_180539 = defunc_0_lifted_step_res_f_res_f_res_180545;
                                                defunc_0_lifted_step_res_f_res_180540 = defunc_0_lifted_step_res_f_res_f_res_180546;
                                                defunc_0_lifted_step_res_f_res_180541 = defunc_0_lifted_step_res_f_res_f_res_180547;
                                            }
                                            defunc_0_lifted_step_res_180531 = defunc_0_lifted_step_res_f_res_180538;
                                            defunc_0_lifted_step_res_180532 = defunc_0_lifted_step_res_f_res_180539;
                                            defunc_0_lifted_step_res_180533 = defunc_0_lifted_step_res_f_res_180540;
                                            defunc_0_lifted_step_res_180534 = defunc_0_lifted_step_res_f_res_180541;
                                        }
                                        
                                        int64_t loopres_180617;
                                        int64_t loopres_180618;
                                        int64_t loopres_180619;
                                        int64_t loopres_180620;
                                        int64_t loopres_180621;
                                        
                                        if (futrts_lifted_normalizze_9100(ctx, &loopres_180617, &loopres_180618, &loopres_180619, &loopres_180620, &loopres_180621, defunc_0_lifted_step_res_180531, ss_180525, defunc_0_lifted_step_res_180532, defunc_0_lifted_step_res_180533, defunc_0_lifted_step_res_180534) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_180622 = slt64((int64_t) 0, loopres_180621);
                                        bool loop_while_tmp_185896 = loop_cond_180622;
                                        int64_t ss_tmp_185897 = loopres_180617;
                                        int64_t ss_tmp_185898 = loopres_180618;
                                        int64_t tt_tmp_185899 = loopres_180619;
                                        int64_t tt_tmp_185900 = loopres_180620;
                                        int64_t count_tmp_185901 = loopres_180621;
                                        
                                        loop_while_180523 = loop_while_tmp_185896;
                                        ss_180524 = ss_tmp_185897;
                                        ss_180525 = ss_tmp_185898;
                                        tt_180526 = tt_tmp_185899;
                                        tt_180527 = tt_tmp_185900;
                                        count_180528 = count_tmp_185901;
                                    }
                                    defunc_0_split_count_res_180517 = loop_while_180523;
                                    defunc_0_split_count_res_180518 = ss_180524;
                                    defunc_0_split_count_res_180519 = ss_180525;
                                    defunc_0_split_count_res_180520 = tt_180526;
                                    defunc_0_split_count_res_180521 = tt_180527;
                                    defunc_0_split_count_res_180522 = count_180528;
                                    ((int64_t *) mem_184503)[i_184086] = defunc_0_split_count_res_180518;
                                    ((int64_t *) mem_184505)[i_184086] = defunc_0_split_count_res_180520;
                                }
                                if (mem_184519_cached_sizze_186276 < flat_dim_180359) {
                                    err = lexical_realloc(ctx, &mem_184519, &mem_184519_cached_sizze_186276, flat_dim_180359);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184522_cached_sizze_186277 < bytes_184521) {
                                    err = lexical_realloc(ctx, &mem_184522, &mem_184522_cached_sizze_186277, bytes_184521);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_184525_cached_sizze_186278 < bytes_184524) {
                                    err = lexical_realloc(ctx, &mem_184525, &mem_184525_cached_sizze_186278, bytes_184524);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_184095 = 0; i_184095 < num_blocks_180356; i_184095++) {
                                    bool y_180629 = slt64(i_184095, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357);
                                    bool index_certs_180631;
                                    
                                    if (!y_180629) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_184095, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:357:63-73\n   #9  ftsort.fut:350:1-357:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_180632 = ((int64_t *) mem_184503)[i_184095];
                                    int64_t defunc_0_f_res_180633 = ((int64_t *) mem_184505)[i_184095];
                                    int64_t tmp_180634 = add64((int64_t) 1, i_184095);
                                    bool x_180635 = sle64((int64_t) 0, tmp_180634);
                                    bool y_180636 = slt64(tmp_180634, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357);
                                    bool bounds_check_180637 = x_180635 && y_180636;
                                    bool index_certs_180638;
                                    
                                    if (!bounds_check_180637) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180634, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_180357, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:357:63-73\n   #9  ftsort.fut:350:1-357:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_180639 = ((int64_t *) mem_184503)[tmp_180634];
                                    int64_t defunc_0_f_res_180640 = ((int64_t *) mem_184505)[tmp_180634];
                                    int64_t merge_sequential_arg2_180641 = add64(stride_180335, defunc_0_f_res_180633);
                                    int64_t merge_sequential_arg2_180642 = add64(stride_180335, defunc_0_f_res_180640);
                                    int64_t j_m_i_180643 = sub64(merge_sequential_arg2_180642, merge_sequential_arg2_180641);
                                    bool empty_slice_180644 = j_m_i_180643 == (int64_t) 0;
                                    int64_t m_180645 = sub64(j_m_i_180643, (int64_t) 1);
                                    int64_t i_p_m_t_s_180646 = add64(merge_sequential_arg2_180641, m_180645);
                                    bool zzero_leq_i_p_m_t_s_180647 = sle64((int64_t) 0, i_p_m_t_s_180646);
                                    bool i_p_m_t_s_leq_w_180648 = slt64(i_p_m_t_s_180646, next_stride_180336);
                                    bool zzero_lte_i_180649 = sle64((int64_t) 0, merge_sequential_arg2_180641);
                                    bool i_lte_j_180650 = sle64(merge_sequential_arg2_180641, merge_sequential_arg2_180642);
                                    bool y_180651 = i_p_m_t_s_leq_w_180648 && zzero_lte_i_180649;
                                    bool y_180652 = zzero_leq_i_p_m_t_s_180647 && y_180651;
                                    bool forwards_ok_180653 = i_lte_j_180650 && y_180652;
                                    bool ok_or_empty_180654 = empty_slice_180644 || forwards_ok_180653;
                                    bool index_certs_180655;
                                    
                                    if (!ok_or_empty_180654) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_180641, ":", (long long) merge_sequential_arg2_180642, "] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:357:63-73\n   #9  ftsort.fut:350:1-357:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_180656 = sub64(defunc_0_f_res_180639, defunc_0_f_res_180632);
                                    bool empty_slice_180657 = j_m_i_180656 == (int64_t) 0;
                                    int64_t m_180658 = sub64(j_m_i_180656, (int64_t) 1);
                                    int64_t i_p_m_t_s_180659 = add64(defunc_0_f_res_180632, m_180658);
                                    bool zzero_leq_i_p_m_t_s_180660 = sle64((int64_t) 0, i_p_m_t_s_180659);
                                    bool i_p_m_t_s_leq_w_180661 = slt64(i_p_m_t_s_180659, next_stride_180336);
                                    bool zzero_lte_i_180662 = sle64((int64_t) 0, defunc_0_f_res_180632);
                                    bool i_lte_j_180663 = sle64(defunc_0_f_res_180632, defunc_0_f_res_180639);
                                    bool y_180664 = i_p_m_t_s_leq_w_180661 && zzero_lte_i_180662;
                                    bool y_180665 = zzero_leq_i_p_m_t_s_180660 && y_180664;
                                    bool forwards_ok_180666 = i_lte_j_180663 && y_180665;
                                    bool ok_or_empty_180667 = empty_slice_180657 || forwards_ok_180666;
                                    bool index_certs_180668;
                                    
                                    if (!ok_or_empty_180667) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_180632, ":", (long long) defunc_0_f_res_180639, "] out of bounds for array of shape [", (long long) next_stride_180336, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:357:63-73\n   #9  ftsort.fut:350:1-357:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_180669 = slt64((int64_t) 0, j_m_i_180656);
                                    int8_t dummy_180670;
                                    int64_t dummy_180671;
                                    int16_t dummy_180672;
                                    
                                    if (cond_180669) {
                                        bool index_certs_183665;
                                        
                                        if (!cond_180669) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_180656, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:357:63-73\n   #11 ftsort.fut:350:1-357:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183666 = start_180409 + defunc_0_f_res_180632;
                                        int8_t head_res_183667 = ((int8_t *) mem_param_184475.mem)[slice_183666];
                                        int64_t head_res_183668 = ((int64_t *) mem_param_184478.mem)[slice_183666];
                                        int16_t head_res_183669 = ((int16_t *) mem_param_184481.mem)[slice_183666];
                                        
                                        dummy_180670 = head_res_183667;
                                        dummy_180671 = head_res_183668;
                                        dummy_180672 = head_res_183669;
                                    } else {
                                        bool y_180678 = slt64((int64_t) 0, j_m_i_180643);
                                        bool index_certs_180679;
                                        
                                        if (!y_180678) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_180643, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:357:63-73\n   #11 ftsort.fut:350:1-357:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180680 = start_180409 + merge_sequential_arg2_180641;
                                        int8_t head_res_180681 = ((int8_t *) mem_param_184475.mem)[slice_180680];
                                        int64_t head_res_180682 = ((int64_t *) mem_param_184478.mem)[slice_180680];
                                        int16_t head_res_180683 = ((int16_t *) mem_param_184481.mem)[slice_180680];
                                        
                                        dummy_180670 = head_res_180681;
                                        dummy_180671 = head_res_180682;
                                        dummy_180672 = head_res_180683;
                                    }
                                    for (int64_t nest_i_185905 = 0; nest_i_185905 < merge_block_sizze_180173; nest_i_185905++) {
                                        ((int8_t *) mem_184519)[i_184095 * merge_block_sizze_180173 + nest_i_185905] = dummy_180670;
                                    }
                                    for (int64_t nest_i_185906 = 0; nest_i_185906 < merge_block_sizze_180173; nest_i_185906++) {
                                        ((int64_t *) mem_184522)[i_184095 * merge_block_sizze_180173 + nest_i_185906] = dummy_180671;
                                    }
                                    for (int64_t nest_i_185907 = 0; nest_i_185907 < merge_block_sizze_180173; nest_i_185907++) {
                                        ((int16_t *) mem_184525)[i_184095 * merge_block_sizze_180173 + nest_i_185907] = dummy_180672;
                                    }
                                    
                                    int64_t data_180687;
                                    int64_t i_180692 = (int64_t) 0;
                                    
                                    for (int64_t k_180691 = 0; k_180691 < merge_block_sizze_180173; k_180691++) {
                                        int64_t j_180696 = sub64(k_180691, i_180692);
                                        bool cond_180697 = j_180696 == j_m_i_180643;
                                        bool cond_180698;
                                        
                                        if (cond_180697) {
                                            cond_180698 = 1;
                                        } else {
                                            bool cond_180699 = slt64(i_180692, j_m_i_180656);
                                            bool cond_f_res_180700;
                                            
                                            if (cond_180699) {
                                                bool x_183670 = sle64((int64_t) 0, j_180696);
                                                bool y_183671 = slt64(j_180696, j_m_i_180643);
                                                bool bounds_check_183672 = x_183670 && y_183671;
                                                bool index_certs_183673;
                                                
                                                if (!bounds_check_183672) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180696, "] out of bounds for array of shape [", (long long) j_m_i_180643, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:357:63-73\n   #10 ftsort.fut:350:1-357:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_183679 = sle64((int64_t) 0, i_180692);
                                                bool bounds_check_183680 = cond_180699 && x_183679;
                                                bool index_certs_183681;
                                                
                                                if (!bounds_check_183680) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180692, "] out of bounds for array of shape [", (long long) j_m_i_180656, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:357:63-73\n   #10 ftsort.fut:350:1-357:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_183674 = merge_sequential_arg2_180641 + j_180696;
                                                int64_t slice_183675 = start_180409 + slice_183674;
                                                int8_t leq_arg1_183676 = ((int8_t *) mem_param_184475.mem)[slice_183675];
                                                int64_t leq_arg1_183677 = ((int64_t *) mem_param_184478.mem)[slice_183675];
                                                int16_t leq_arg1_183678 = ((int16_t *) mem_param_184481.mem)[slice_183675];
                                                int64_t slice_183682 = defunc_0_f_res_180632 + i_180692;
                                                int64_t slice_183683 = start_180409 + slice_183682;
                                                int8_t leq_arg0_183684 = ((int8_t *) mem_param_184475.mem)[slice_183683];
                                                int64_t leq_arg0_183685 = ((int64_t *) mem_param_184478.mem)[slice_183683];
                                                int16_t leq_arg0_183686 = ((int16_t *) mem_param_184481.mem)[slice_183683];
                                                bool cond_183687 = leq_arg0_183684 == leq_arg1_183676;
                                                bool defunc_0_leq_res_t_res_183688 = sle64(leq_arg0_183685, leq_arg1_183677);
                                                bool defunc_0_leq_res_183689 = sle16(leq_arg0_183686, leq_arg1_183678);
                                                bool x_183690 = cond_183687 && defunc_0_leq_res_t_res_183688;
                                                bool x_183691 = !cond_183687;
                                                bool y_183692 = defunc_0_leq_res_183689 && x_183691;
                                                bool defunc_0_leq_res_183693 = x_183690 || y_183692;
                                                
                                                cond_f_res_180700 = defunc_0_leq_res_183693;
                                            } else {
                                                cond_f_res_180700 = 0;
                                            }
                                            cond_180698 = cond_f_res_180700;
                                        }
                                        
                                        int64_t loopres_180725;
                                        int8_t loopres_180726;
                                        int64_t loopres_180727;
                                        int16_t loopres_180728;
                                        
                                        if (cond_180698) {
                                            bool x_183695 = sle64((int64_t) 0, i_180692);
                                            bool y_183696 = slt64(i_180692, j_m_i_180656);
                                            bool bounds_check_183697 = x_183695 && y_183696;
                                            bool index_certs_183698;
                                            
                                            if (!bounds_check_183697) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180692, "] out of bounds for array of shape [", (long long) j_m_i_180656, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:357:63-73\n   #10 ftsort.fut:350:1-357:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_183694 = add64((int64_t) 1, i_180692);
                                            int64_t slice_183699 = defunc_0_f_res_180632 + i_180692;
                                            int64_t slice_183700 = start_180409 + slice_183699;
                                            int8_t tmp_183701 = ((int8_t *) mem_param_184475.mem)[slice_183700];
                                            int64_t tmp_183702 = ((int64_t *) mem_param_184478.mem)[slice_183700];
                                            int16_t tmp_183703 = ((int16_t *) mem_param_184481.mem)[slice_183700];
                                            
                                            loopres_180725 = tmp_183694;
                                            loopres_180726 = tmp_183701;
                                            loopres_180727 = tmp_183702;
                                            loopres_180728 = tmp_183703;
                                        } else {
                                            bool x_180739 = sle64((int64_t) 0, j_180696);
                                            bool y_180740 = slt64(j_180696, j_m_i_180643);
                                            bool bounds_check_180741 = x_180739 && y_180740;
                                            bool index_certs_180742;
                                            
                                            if (!bounds_check_180741) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180696, "] out of bounds for array of shape [", (long long) j_m_i_180643, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:357:63-73\n   #10 ftsort.fut:350:1-357:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180743 = merge_sequential_arg2_180641 + j_180696;
                                            int64_t slice_180744 = start_180409 + slice_180743;
                                            int8_t tmp_180745 = ((int8_t *) mem_param_184475.mem)[slice_180744];
                                            int64_t tmp_180746 = ((int64_t *) mem_param_184478.mem)[slice_180744];
                                            int16_t tmp_180747 = ((int16_t *) mem_param_184481.mem)[slice_180744];
                                            
                                            loopres_180725 = i_180692;
                                            loopres_180726 = tmp_180745;
                                            loopres_180727 = tmp_180746;
                                            loopres_180728 = tmp_180747;
                                        }
                                        ((int8_t *) mem_184519)[i_184095 * merge_block_sizze_180173 + k_180691] = loopres_180726;
                                        ((int64_t *) mem_184522)[i_184095 * merge_block_sizze_180173 + k_180691] = loopres_180727;
                                        ((int16_t *) mem_184525)[i_184095 * merge_block_sizze_180173 + k_180691] = loopres_180728;
                                        
                                        int64_t i_tmp_185908 = loopres_180725;
                                        
                                        i_180692 = i_tmp_185908;
                                    }
                                    data_180687 = i_180692;
                                }
                                if (memblock_alloc(ctx, &mem_184574, flat_dim_180359, "mem_184574")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_184574.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (uint8_t *) mem_184519, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (int64_t []) {num_blocks_180356, merge_block_sizze_180173});
                                if (memblock_alloc(ctx, &mem_184578, bytes_184521, "mem_184578")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_184578.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (uint64_t *) mem_184522, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (int64_t []) {num_blocks_180356, merge_block_sizze_180173});
                                if (memblock_alloc(ctx, &mem_184582, bytes_184524, "mem_184582")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_2b(ctx, 2, (uint16_t *) mem_184582.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (uint16_t *) mem_184525, (int64_t) 0, (int64_t []) {merge_block_sizze_180173, (int64_t) 1}, (int64_t []) {num_blocks_180356, merge_block_sizze_180173});
                                if (memblock_set(ctx, &ext_mem_184615, &mem_184574, "mem_184574") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184612, &mem_184578, "mem_184578") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_184609, &mem_184582, "mem_184582") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_184483, i_184105 * next_stride_180336, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_184615.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_180336});
                            if (memblock_unref(ctx, &ext_mem_184615, "ext_mem_184615") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184486, i_184105 * next_stride_180336, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184612.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_180336});
                            if (memblock_unref(ctx, &ext_mem_184612, "ext_mem_184612") != 0)
                                return 1;
                            lmad_copy_2b(ctx, 1, (uint16_t *) mem_184489, i_184105 * next_stride_180336, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_184609.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_180336});
                            if (memblock_unref(ctx, &ext_mem_184609, "ext_mem_184609") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_184629, bytes_184482, "mem_184629")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_184629.mem, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (uint8_t *) mem_184483, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (int64_t []) {num_merges_180340, next_stride_180336});
                        if (memblock_alloc(ctx, &mem_184633, bytes_184485, "mem_184633")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_184633.mem, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (uint64_t *) mem_184486, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (int64_t []) {num_merges_180340, next_stride_180336});
                        if (memblock_alloc(ctx, &mem_184637, bytes_184488, "mem_184637")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_2b(ctx, 2, (uint16_t *) mem_184637.mem, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (uint16_t *) mem_184489, (int64_t) 0, (int64_t []) {next_stride_180336, (int64_t) 1}, (int64_t []) {num_merges_180340, next_stride_180336});
                        
                        bool loop_cond_180761 = slt64(next_stride_180336, flat_dim_180168);
                        
                        if (memblock_set(ctx, &mem_param_tmp_185875, &mem_184629, "mem_184629") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_185876, &mem_184633, "mem_184633") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_185877, &mem_184637, "mem_184637") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_185878 = bytes_184482;
                        bool loop_while_tmp_185879 = loop_cond_180761;
                        int64_t stride_tmp_185883 = next_stride_180336;
                        
                        if (memblock_set(ctx, &mem_param_184475, &mem_param_tmp_185875, "mem_param_tmp_185875") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_184478, &mem_param_tmp_185876, "mem_param_tmp_185876") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_184481, &mem_param_tmp_185877, "mem_param_tmp_185877") != 0)
                            return 1;
                        loop_dz2084Uz2082U_180330 = loop_dz2084Uz2082U_tmp_185878;
                        loop_while_180331 = loop_while_tmp_185879;
                        stride_180335 = stride_tmp_185883;
                    }
                    if (memblock_set(ctx, &ext_mem_184647, &mem_param_184475, "mem_param_184475") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184646, &mem_param_184478, "mem_param_184478") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184645, &mem_param_184481, "mem_param_184481") != 0)
                        return 1;
                    data_180324 = loop_dz2084Uz2082U_180330;
                    data_180325 = loop_while_180331;
                    data_180329 = stride_180335;
                    if (memblock_unref(ctx, &mem_184463, "mem_184463") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_184467, "mem_184467") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_184471, "mem_184471") != 0)
                        return 1;
                    
                    bool empty_slice_180762 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_180763 = sle64((int64_t) 0, zs_lhs_180152);
                    bool i_p_m_t_s_leq_w_180764 = slt64(zs_lhs_180152, data_180324);
                    bool y_180765 = zzero_leq_i_p_m_t_s_180763 && i_p_m_t_s_leq_w_180764;
                    bool ok_or_empty_180766 = empty_slice_180762 || y_180765;
                    bool index_certs_180767;
                    
                    if (!ok_or_empty_180766) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_180104, "] out of bounds for array of shape [", (long long) data_180324, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_184656, &ext_mem_184647, "ext_mem_184647") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184653, &ext_mem_184646, "ext_mem_184646") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_184650, &ext_mem_184645, "ext_mem_184645") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_184357, "mem_184357") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_184359, "mem_184359") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_184361, "mem_184361") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_184337.mem, ind_bottom_180105, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_184656.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107});
                if (memblock_unref(ctx, &ext_mem_184656, "ext_mem_184656") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_184339.mem, ind_bottom_180105, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184653.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107});
                if (memblock_unref(ctx, &ext_mem_184653, "ext_mem_184653") != 0)
                    return 1;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_184341.mem, ind_bottom_180105, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_184650.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_180107});
                if (memblock_unref(ctx, &ext_mem_184650, "ext_mem_184650") != 0)
                    return 1;
                
                bool loop_cond_180803 = slt64(ubs_180095, threads_122202);
                bool loop_while_tmp_185842 = loop_cond_180803;
                int64_t p_tmp_185843 = ubs_180095;
                
                loop_while_180084 = loop_while_tmp_185842;
                p_180085 = p_tmp_185843;
            }
            defunc_0_mergeFunc_seq_res_180079 = loop_while_180084;
            defunc_0_mergeFunc_seq_res_180080 = p_180085;
            
            int64_t index_concat_branch_181620;
            
            if (index_concat_cmp_181616) {
                int64_t index_concat_183718 = ((int64_t *) mem_184322)[index_concat_i_181617];
                
                index_concat_branch_181620 = index_concat_183718;
            } else {
                index_concat_branch_181620 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_181614;
            
            if (index_concat_cmp_181616) {
                int64_t index_concat_183719 = ((int64_t *) mem_184324)[index_concat_i_181617];
                
                index_concat_branch_181614 = index_concat_183719;
            } else {
                index_concat_branch_181614 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_185075, &mem_184337, "mem_184337") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_185072, &mem_184339, "mem_184339") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_185069, &mem_184341, "mem_184341") != 0)
                return 1;
            loopres_178852 = index_concat_branch_181620;
            loopres_178853 = index_concat_branch_181614;
        }
        for (int64_t i_184111 = 0; i_184111 < window_sizze_122201; i_184111++) {
            int8_t eta_p_180811 = ((int8_t *) ext_mem_185075.mem)[i_184111];
            int64_t eta_p_180812 = ((int64_t *) ext_mem_185072.mem)[i_184111];
            bool cond_180813 = eta_p_180811 == (int8_t) 0;
            int64_t tmp_180814;
            
            if (cond_180813) {
                int64_t tmp_t_res_183722 = add64(p_178824, eta_p_180812);
                
                tmp_180814 = tmp_t_res_183722;
            } else {
                int64_t tmp_f_res_180816 = add64(p_178825, eta_p_180812);
                
                tmp_180814 = tmp_f_res_180816;
            }
            ((int64_t *) mem_184309.mem)[ind_bottom_178828 + i_184111] = tmp_180814;
        }
        if (memblock_unref(ctx, &ext_mem_185072, "ext_mem_185072") != 0)
            return 1;
        
        int64_t next_lbs_180817 = add64(p_178824, loopres_178852);
        int64_t next_lbs_180818 = add64(p_178825, loopres_178853);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_184307.mem, ind_bottom_178828, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_185075.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_122201});
        if (memblock_unref(ctx, &ext_mem_185075, "ext_mem_185075") != 0)
            return 1;
        lmad_copy_2b(ctx, 1, (uint16_t *) mem_184311.mem, ind_bottom_178828, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_185069.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_122201});
        if (memblock_unref(ctx, &ext_mem_185069, "ext_mem_185069") != 0)
            return 1;
        
        bool cond_180832 = slt64(next_lbs_180817, zl_rhs_178807);
        bool loop_cond_t_res_180833 = slt64(next_lbs_180818, zl_rhs_178809);
        bool x_180834 = cond_180832 && loop_cond_t_res_180833;
        bool loop_while_tmp_185726 = x_180834;
        int64_t p_tmp_185730 = next_lbs_180817;
        int64_t p_tmp_185731 = next_lbs_180818;
        
        loop_while_178820 = loop_while_tmp_185726;
        p_178824 = p_tmp_185730;
        p_178825 = p_tmp_185731;
    }
    defunc_0_merge_pipeline_res_178814 = loop_while_178820;
    defunc_0_merge_pipeline_res_178818 = p_178824;
    defunc_0_merge_pipeline_res_178819 = p_178825;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835 = sub64(nb_122200, defunc_0_merge_pipeline_res_178819);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836 = sub64(na_122199, defunc_0_merge_pipeline_res_178818);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
    bool empty_slice_180838 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836 == (int64_t) 0;
    int64_t m_180839 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, (int64_t) 1);
    int64_t i_p_m_t_s_180840 = add64(defunc_0_merge_pipeline_res_178818, m_180839);
    bool zzero_leq_i_p_m_t_s_180841 = sle64((int64_t) 0, i_p_m_t_s_180840);
    bool i_p_m_t_s_leq_w_180842 = slt64(i_p_m_t_s_180840, na_122199);
    bool zzero_lte_i_180843 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_178818);
    bool i_lte_j_180844 = sle64(defunc_0_merge_pipeline_res_178818, na_122199);
    bool y_180845 = i_p_m_t_s_leq_w_180842 && zzero_lte_i_180843;
    bool y_180846 = zzero_leq_i_p_m_t_s_180841 && y_180845;
    bool forwards_ok_180847 = i_lte_j_180844 && y_180846;
    bool ok_or_empty_180848 = empty_slice_180838 || forwards_ok_180847;
    bool index_certs_180849;
    
    if (!ok_or_empty_180848) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_178818, ":", (long long) na_122199, "] out of bounds for array of shape [", (long long) na_122199, "].", "-> #0  ftsort.fut:327:14-34\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_180853 = slt64(na_122199, defunc_0_merge_pipeline_res_178818);
    bool valid_180854 = !bounds_invalid_upwards_180853;
    bool range_valid_c_180855;
    
    if (!valid_180854) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_178818, "..<", (long long) na_122199, " is invalid.", "-> #0  ftsort.fut:331:9-25\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_180859 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835 == (int64_t) 0;
    int64_t m_180860 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835, (int64_t) 1);
    int64_t i_p_m_t_s_180861 = add64(defunc_0_merge_pipeline_res_178819, m_180860);
    bool zzero_leq_i_p_m_t_s_180862 = sle64((int64_t) 0, i_p_m_t_s_180861);
    bool i_p_m_t_s_leq_w_180863 = slt64(i_p_m_t_s_180861, nb_122200);
    bool zzero_lte_i_180864 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_178819);
    bool i_lte_j_180865 = sle64(defunc_0_merge_pipeline_res_178819, nb_122200);
    bool y_180866 = i_p_m_t_s_leq_w_180863 && zzero_lte_i_180864;
    bool y_180867 = zzero_leq_i_p_m_t_s_180862 && y_180866;
    bool forwards_ok_180868 = i_lte_j_180865 && y_180867;
    bool ok_or_empty_180869 = empty_slice_180859 || forwards_ok_180868;
    bool index_certs_180870;
    
    if (!ok_or_empty_180869) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_178819, ":", (long long) nb_122200, "] out of bounds for array of shape [", (long long) nb_122200, "].", "-> #0  ftsort.fut:333:14-34\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_180874 = slt64(nb_122200, defunc_0_merge_pipeline_res_178819);
    bool valid_180875 = !bounds_invalid_upwards_180874;
    bool range_valid_c_180876;
    
    if (!valid_180875) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_178819, "..<", (long long) nb_122200, " is invalid.", "-> #0  ftsort.fut:337:9-25\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_185100 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837;
    int64_t bytes_185102 = (int64_t) 2 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837;
    bool cond_180883 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, (int64_t) 1);
    int64_t zs_lhs_180884 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, (int64_t) 1);
    int64_t zp_rhs_180885 = sdiv_safe64(zs_lhs_180884, (int64_t) 20);
    int64_t min_num_blocks_180886 = add64((int64_t) 1, zp_rhs_180885);
    bool loop_cond_180887 = slt64((int64_t) 1, min_num_blocks_180886);
    bool smallest_pow_2_geq_than_res_180888;
    int64_t smallest_pow_2_geq_than_res_180889;
    bool loop_while_180890;
    int64_t x_180891;
    
    loop_while_180890 = loop_cond_180887;
    x_180891 = (int64_t) 1;
    while (loop_while_180890) {
        int64_t loopres_180892 = mul64((int64_t) 2, x_180891);
        bool loop_cond_180893 = slt64(loopres_180892, min_num_blocks_180886);
        bool loop_while_tmp_185913 = loop_cond_180893;
        int64_t x_tmp_185914 = loopres_180892;
        
        loop_while_180890 = loop_while_tmp_185913;
        x_180891 = x_tmp_185914;
    }
    smallest_pow_2_geq_than_res_180888 = loop_while_180890;
    smallest_pow_2_geq_than_res_180889 = x_180891;
    
    bool zzero_180894 = smallest_pow_2_geq_than_res_180889 == (int64_t) 0;
    bool nonzzero_180895 = !zzero_180894;
    bool protect_assert_disj_180896 = cond_180883 || nonzzero_180895;
    bool nonzzero_cert_180897;
    
    if (!protect_assert_disj_180896) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_180898 = sdiv_safe64(zs_lhs_180884, smallest_pow_2_geq_than_res_180889);
    int64_t block_sizze_180899 = add64((int64_t) 1, zp_rhs_180898);
    bool y_180906 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837);
    bool protect_assert_disj_185428 = cond_180883 || y_180906;
    bool index_certs_180907;
    
    if (!protect_assert_disj_185428) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_180933 = slt64(smallest_pow_2_geq_than_res_180889, (int64_t) 0);
    bool valid_180934 = !bounds_invalid_upwards_180933;
    bool protect_assert_disj_185438 = cond_180883 || valid_180934;
    bool range_valid_c_180935;
    
    if (!protect_assert_disj_185438) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_180889, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_180937 = slt64(block_sizze_180899, (int64_t) 0);
    bool valid_180938 = !bounds_invalid_upwards_180937;
    bool protect_assert_disj_185440 = cond_180883 || valid_180938;
    bool range_valid_c_180939;
    
    if (!protect_assert_disj_185440) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_180899, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_180941 = sle64(block_sizze_180899, (int64_t) 1);
    int64_t tmp_180942 = sub64(block_sizze_180899, (int64_t) 2);
    bool bounds_invalid_upwards_180943 = slt64(tmp_180942, (int64_t) 0);
    bool valid_180945 = !bounds_invalid_upwards_180943;
    bool protect_assert_disj_180946 = cond_180941 || valid_180945;
    bool protect_assert_disj_185442 = cond_180883 || protect_assert_disj_180946;
    bool range_valid_c_180947;
    
    if (!protect_assert_disj_185442) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_180942, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_181508 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_181510 = sle64((int64_t) 0, zs_lhs_180884);
    bool i_p_m_t_s_leq_w_181511 = slt64(zs_lhs_180884, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837);
    bool y_181512 = zzero_leq_i_p_m_t_s_181510 && i_p_m_t_s_leq_w_181511;
    bool ok_or_empty_181513 = empty_slice_181508 || y_181512;
    bool index_certs_181514;
    
    if (!ok_or_empty_181513) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "].", "-> #0  ftsort.fut:346:78-101\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_181515 = add64(defunc_0_merge_pipeline_res_178818, defunc_0_merge_pipeline_res_178819);
    int64_t j_m_i_181516 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, final_buffer_181515);
    bool empty_slice_181517 = j_m_i_181516 == (int64_t) 0;
    int64_t m_181518 = sub64(j_m_i_181516, (int64_t) 1);
    int64_t i_p_m_t_s_181519 = add64(final_buffer_181515, m_181518);
    bool zzero_leq_i_p_m_t_s_181520 = sle64((int64_t) 0, i_p_m_t_s_181519);
    bool i_p_m_t_s_leq_w_181521 = slt64(i_p_m_t_s_181519, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803);
    bool zzero_lte_i_181522 = sle64((int64_t) 0, final_buffer_181515);
    bool i_lte_j_181523 = sle64(final_buffer_181515, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803);
    bool y_181524 = i_p_m_t_s_leq_w_181521 && zzero_lte_i_181522;
    bool y_181525 = zzero_leq_i_p_m_t_s_181520 && y_181524;
    bool forwards_ok_181526 = i_lte_j_181523 && y_181525;
    bool ok_or_empty_181527 = empty_slice_181517 || forwards_ok_181526;
    bool index_certs_181528;
    
    if (!ok_or_empty_181527) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_181515, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803, "].", "-> #0  ftsort.fut:346:22-101\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_181529 = j_m_i_181516 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837;
    bool empty_or_match_cert_181530;
    
    if (!dim_match_181529) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_181516, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "]", " of value.", "-> #0  ftsort.fut:346:22-101\n   #1  ftsort.fut:357:63-73\n   #2  ftsort.fut:350:1-357:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_185099, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "mem_185099")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_185915 = 0; nest_i_185915 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836; nest_i_185915++) {
        ((int8_t *) mem_185099.mem)[nest_i_185915] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_185101, bytes_185100, "mem_185101")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_185916 = 0; i_185916 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836; i_185916++) {
        int64_t x_185917 = defunc_0_merge_pipeline_res_178818 + i_185916 * (int64_t) 1;
        
        ((int64_t *) mem_185101.mem)[i_185916] = x_185917;
    }
    for (int64_t nest_i_185918 = 0; nest_i_185918 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835; nest_i_185918++) {
        ((int8_t *) mem_185099.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836 + nest_i_185918] = (int8_t) 1;
    }
    for (int64_t i_185919 = 0; i_185919 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835; i_185919++) {
        int64_t x_185920 = defunc_0_merge_pipeline_res_178819 + i_185919 * (int64_t) 1;
        
        ((int64_t *) mem_185101.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836 + i_185919] = x_185920;
    }
    
    int64_t tmp_offs_185921 = (int64_t) 0;
    
    if (!(tmp_offs_185921 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_185099.mem, tmp_offs_185921, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_185099.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836});
    }
    tmp_offs_185921 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836;
    if (!(tmp_offs_185921 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_185099.mem, tmp_offs_185921, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_185099.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835});
    }
    tmp_offs_185921 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835;
    
    int64_t tmp_offs_185922 = (int64_t) 0;
    
    if (!(tmp_offs_185922 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_185101.mem, tmp_offs_185922, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_185101.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836});
    }
    tmp_offs_185922 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836;
    if (!(tmp_offs_185922 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_185101.mem, tmp_offs_185922, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_185101.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835});
    }
    tmp_offs_185922 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835;
    if (memblock_alloc(ctx, &mem_185103, bytes_185102, "mem_185103")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_185923 = (int64_t) 0;
    
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_185103.mem, tmp_offs_185923, (int64_t []) {(int64_t) 1}, (uint16_t *) a_list_mem_184305.mem, defunc_0_merge_pipeline_res_178818, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836});
    tmp_offs_185923 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836;
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_185103.mem, tmp_offs_185923, (int64_t []) {(int64_t) 1}, (uint16_t *) b_list_mem_184306.mem, defunc_0_merge_pipeline_res_178819, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835});
    tmp_offs_185923 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_180835;
    
    int64_t flat_dim_180900 = smallest_pow_2_geq_than_res_180889 * block_sizze_180899;
    bool x_185423 = !cond_180883;
    int64_t greatest_divisor_leq_than_arg1_180904 = mul64((int64_t) 2, block_sizze_180899);
    int64_t merge_block_sizze_180905;
    
    if (x_185423) {
        int64_t x_185425;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_185425, (int64_t) 8, greatest_divisor_leq_than_arg1_180904) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_180905 = x_185425;
    } else {
        merge_block_sizze_180905 = (int64_t) 0;
    }
    
    bool index_concat_cmp_181580 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, (int64_t) 0);
    int8_t index_concat_branch_181584 = btoi_bool_i8(index_concat_cmp_181580);
    int64_t index_concat_i_183724 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
    int64_t index_primexp_183725 = add64(defunc_0_merge_pipeline_res_178819, index_concat_i_183724);
    int64_t index_concat_branch_181578;
    
    if (index_concat_cmp_181580) {
        index_concat_branch_181578 = index_primexp_183725;
    } else {
        index_concat_branch_181578 = defunc_0_merge_pipeline_res_178818;
    }
    
    bool x_185419 = !index_concat_cmp_181580;
    bool protect_cond_conj_185429 = x_185419 && x_185423;
    int16_t index_concat_181571;
    
    if (protect_cond_conj_185429) {
        int16_t x_185421 = ((int16_t *) a_list_mem_184305.mem)[defunc_0_merge_pipeline_res_178818];
        
        index_concat_181571 = x_185421;
    } else {
        index_concat_181571 = (int16_t) 0;
    }
    
    bool protect_cond_conj_185430 = index_concat_cmp_181580 && x_185423;
    int16_t index_concat_183728;
    
    if (protect_cond_conj_185430) {
        int16_t x_185417 = ((int16_t *) b_list_mem_184306.mem)[index_primexp_183725];
        
        index_concat_183728 = x_185417;
    } else {
        index_concat_183728 = (int16_t) 0;
    }
    
    int16_t index_concat_branch_181572;
    
    if (index_concat_cmp_181580) {
        index_concat_branch_181572 = index_concat_183728;
    } else {
        index_concat_branch_181572 = index_concat_181571;
    }
    
    int8_t defunc_0_reduce_res_183959;
    int64_t defunc_0_reduce_res_183960;
    int16_t defunc_0_reduce_res_183961;
    
    if (x_185423) {
        int8_t x_185431;
        int64_t x_185432;
        int16_t x_185433;
        int8_t redout_184113;
        int64_t redout_184114;
        int16_t redout_184115;
        
        redout_184113 = index_concat_branch_181584;
        redout_184114 = index_concat_branch_181578;
        redout_184115 = index_concat_branch_181572;
        for (int64_t i_184116 = 0; i_184116 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837; i_184116++) {
            bool index_concat_cmp_184187 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, i_184116);
            int8_t index_concat_branch_184191 = btoi_bool_i8(index_concat_cmp_184187);
            int64_t index_concat_branch_184185;
            
            if (index_concat_cmp_184187) {
                int64_t index_concat_i_184182 = sub64(i_184116, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
                int64_t index_primexp_184275 = add64(defunc_0_merge_pipeline_res_178819, index_concat_i_184182);
                
                index_concat_branch_184185 = index_primexp_184275;
            } else {
                int64_t index_primexp_184277 = add64(defunc_0_merge_pipeline_res_178818, i_184116);
                
                index_concat_branch_184185 = index_primexp_184277;
            }
            
            int16_t index_concat_branch_184179;
            
            if (index_concat_cmp_184187) {
                int64_t index_concat_i_184176 = sub64(i_184116, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
                int64_t slice_184272 = defunc_0_merge_pipeline_res_178819 + index_concat_i_184176;
                int16_t index_concat_184177 = ((int16_t *) b_list_mem_184306.mem)[slice_184272];
                
                index_concat_branch_184179 = index_concat_184177;
            } else {
                int64_t slice_184273 = defunc_0_merge_pipeline_res_178818 + i_184116;
                int16_t index_concat_184178 = ((int16_t *) a_list_mem_184305.mem)[slice_184273];
                
                index_concat_branch_184179 = index_concat_184178;
            }
            
            bool eq_x_y_184290 = redout_184113 == (int8_t) 1;
            bool eq_x_zz_184291 = redout_184113 == (int8_t) 0;
            bool p_and_eq_x_y_184292 = index_concat_cmp_184187 && eq_x_y_184290;
            bool not_p_184293 = !index_concat_cmp_184187;
            bool p_and_eq_x_y_184294 = eq_x_zz_184291 && not_p_184293;
            bool cond_180923 = p_and_eq_x_y_184292 || p_and_eq_x_y_184294;
            bool defunc_0_leq_res_t_res_180924 = sle64(redout_184114, index_concat_branch_184185);
            bool defunc_0_leq_res_180925 = sle16(redout_184115, index_concat_branch_184179);
            bool x_180926 = cond_180923 && defunc_0_leq_res_t_res_180924;
            bool x_180927 = !cond_180923;
            bool y_180928 = defunc_0_leq_res_180925 && x_180927;
            bool defunc_0_leq_res_180929 = x_180926 || y_180928;
            int8_t defunc_0_op_res_180930;
            
            if (defunc_0_leq_res_180929) {
                defunc_0_op_res_180930 = index_concat_branch_184191;
            } else {
                defunc_0_op_res_180930 = redout_184113;
            }
            
            int64_t defunc_0_op_res_180931;
            
            if (defunc_0_leq_res_180929) {
                defunc_0_op_res_180931 = index_concat_branch_184185;
            } else {
                defunc_0_op_res_180931 = redout_184114;
            }
            
            int16_t defunc_0_op_res_180932;
            
            if (defunc_0_leq_res_180929) {
                defunc_0_op_res_180932 = index_concat_branch_184179;
            } else {
                defunc_0_op_res_180932 = redout_184115;
            }
            
            int8_t redout_tmp_185924 = defunc_0_op_res_180930;
            int64_t redout_tmp_185925 = defunc_0_op_res_180931;
            int16_t redout_tmp_185926 = defunc_0_op_res_180932;
            
            redout_184113 = redout_tmp_185924;
            redout_184114 = redout_tmp_185925;
            redout_184115 = redout_tmp_185926;
        }
        x_185431 = redout_184113;
        x_185432 = redout_184114;
        x_185433 = redout_184115;
        defunc_0_reduce_res_183959 = x_185431;
        defunc_0_reduce_res_183960 = x_185432;
        defunc_0_reduce_res_183961 = x_185433;
    } else {
        defunc_0_reduce_res_183959 = (int8_t) 0;
        defunc_0_reduce_res_183960 = (int64_t) 0;
        defunc_0_reduce_res_183961 = (int16_t) 0;
    }
    
    int64_t distance_180944 = add64((int64_t) 1, tmp_180942);
    int64_t binop_x_185106 = (int64_t) 8 * smallest_pow_2_geq_than_res_180889;
    int64_t bytes_185107 = block_sizze_180899 * binop_x_185106;
    int64_t binop_x_185109 = (int64_t) 2 * smallest_pow_2_geq_than_res_180889;
    int64_t bytes_185110 = block_sizze_180899 * binop_x_185109;
    int64_t bytes_185125 = (int64_t) 8 * block_sizze_180899;
    bool loop_cond_181053 = slt64(block_sizze_180899, flat_dim_180900);
    bool zzero_181054 = merge_block_sizze_180905 == (int64_t) 0;
    bool nonzzero_181055 = !zzero_181054;
    
    if (cond_180883) {
        if (memblock_set(ctx, &ext_mem_185398, &mem_185099, "mem_185099") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185395, &mem_185101, "mem_185101") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185392, &mem_185103, "mem_185103") != 0)
            return 1;
    } else {
        if (mem_185105_cached_sizze_186299 < flat_dim_180900) {
            err = lexical_realloc(ctx, &mem_185105, &mem_185105_cached_sizze_186299, flat_dim_180900);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185108_cached_sizze_186300 < bytes_185107) {
            err = lexical_realloc(ctx, &mem_185108, &mem_185108_cached_sizze_186300, bytes_185107);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185111_cached_sizze_186301 < bytes_185110) {
            err = lexical_realloc(ctx, &mem_185111, &mem_185111_cached_sizze_186301, bytes_185110);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185124_cached_sizze_186302 < block_sizze_180899) {
            err = lexical_realloc(ctx, &mem_185124, &mem_185124_cached_sizze_186302, block_sizze_180899);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185126_cached_sizze_186303 < bytes_185125) {
            err = lexical_realloc(ctx, &mem_185126, &mem_185126_cached_sizze_186303, bytes_185125);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_185128_cached_sizze_186304 < greatest_divisor_leq_than_arg1_180904) {
            err = lexical_realloc(ctx, &mem_185128, &mem_185128_cached_sizze_186304, greatest_divisor_leq_than_arg1_180904);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_184133 = 0; i_184133 < smallest_pow_2_geq_than_res_180889; i_184133++) {
            int64_t zp_lhs_180952 = mul64(block_sizze_180899, i_184133);
            
            for (int64_t i_184123 = 0; i_184123 < block_sizze_180899; i_184123++) {
                int64_t k_180957 = add64(zp_lhs_180952, i_184123);
                bool cond_180958 = slt64(k_180957, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837);
                int8_t lifted_lambda_res_180959;
                int64_t lifted_lambda_res_180960;
                int16_t lifted_lambda_res_180961;
                
                if (cond_180958) {
                    bool x_183734 = sle64((int64_t) 0, k_180957);
                    bool bounds_check_183735 = cond_180958 && x_183734;
                    bool index_certs_183736;
                    
                    if (!bounds_check_183735) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_180957, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_183737 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836, k_180957);
                    int8_t index_concat_branch_183738 = btoi_bool_i8(index_concat_cmp_183737);
                    int64_t index_concat_branch_183739;
                    
                    if (index_concat_cmp_183737) {
                        int64_t index_concat_i_183740 = sub64(k_180957, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
                        int64_t index_primexp_183741 = add64(defunc_0_merge_pipeline_res_178819, index_concat_i_183740);
                        
                        index_concat_branch_183739 = index_primexp_183741;
                    } else {
                        int64_t index_primexp_183742 = add64(defunc_0_merge_pipeline_res_178818, k_180957);
                        
                        index_concat_branch_183739 = index_primexp_183742;
                    }
                    
                    int16_t index_concat_branch_183743;
                    
                    if (index_concat_cmp_183737) {
                        int64_t index_concat_i_183744 = sub64(k_180957, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_180836);
                        int64_t slice_183745 = defunc_0_merge_pipeline_res_178819 + index_concat_i_183744;
                        int16_t index_concat_183746 = ((int16_t *) b_list_mem_184306.mem)[slice_183745];
                        
                        index_concat_branch_183743 = index_concat_183746;
                    } else {
                        int64_t slice_183747 = defunc_0_merge_pipeline_res_178818 + k_180957;
                        int16_t index_concat_183748 = ((int16_t *) a_list_mem_184305.mem)[slice_183747];
                        
                        index_concat_branch_183743 = index_concat_183748;
                    }
                    lifted_lambda_res_180959 = index_concat_branch_183738;
                    lifted_lambda_res_180960 = index_concat_branch_183739;
                    lifted_lambda_res_180961 = index_concat_branch_183743;
                } else {
                    lifted_lambda_res_180959 = defunc_0_reduce_res_183959;
                    lifted_lambda_res_180960 = defunc_0_reduce_res_183960;
                    lifted_lambda_res_180961 = defunc_0_reduce_res_183961;
                }
                ((int8_t *) mem_185124)[i_184123] = lifted_lambda_res_180959;
                ((int64_t *) mem_185126)[i_184123] = lifted_lambda_res_180960;
                ((int16_t *) mem_185128)[i_184123] = lifted_lambda_res_180961;
            }
            if (!cond_180941) {
                for (int64_t i_180974 = 0; i_180974 < distance_180944; i_180974++) {
                    int64_t gt_arg1_180978 = add64((int64_t) 1, i_180974);
                    bool x_180979 = sle64((int64_t) 0, gt_arg1_180978);
                    bool y_180980 = slt64(gt_arg1_180978, block_sizze_180899);
                    bool bounds_check_180981 = x_180979 && y_180980;
                    bool index_certs_180982;
                    
                    if (!bounds_check_180981) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_180978, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_180986 = slt64(i_180974, block_sizze_180899);
                    bool index_certs_180987;
                    
                    if (!y_180986) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180974, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_180983 = ((int8_t *) mem_185124)[gt_arg1_180978];
                    int64_t gt_arg1_180984 = ((int64_t *) mem_185126)[gt_arg1_180978];
                    int16_t gt_arg1_180985 = ((int16_t *) mem_185128)[gt_arg1_180978];
                    int8_t gt_arg0_180988 = ((int8_t *) mem_185124)[i_180974];
                    int64_t gt_arg0_180989 = ((int64_t *) mem_185126)[i_180974];
                    int16_t gt_arg0_180990 = ((int16_t *) mem_185128)[i_180974];
                    bool cond_180991 = gt_arg0_180988 == gt_arg1_180983;
                    bool defunc_0_leq_res_t_res_180992 = sle64(gt_arg0_180989, gt_arg1_180984);
                    bool defunc_0_leq_res_180993 = sle16(gt_arg0_180990, gt_arg1_180985);
                    bool x_180994 = cond_180991 && defunc_0_leq_res_t_res_180992;
                    bool x_180995 = !cond_180991;
                    bool y_180996 = defunc_0_leq_res_180993 && x_180995;
                    bool defunc_0_leq_res_180997 = x_180994 || y_180996;
                    bool defunc_0_lifted_gt_res_180998 = !defunc_0_leq_res_180997;
                    bool s_180999;
                    int64_t s_181003;
                    bool loop_while_181004;
                    int64_t j_181008;
                    
                    loop_while_181004 = defunc_0_lifted_gt_res_180998;
                    j_181008 = i_180974;
                    while (loop_while_181004) {
                        bool x_181009 = sle64((int64_t) 0, j_181008);
                        bool y_181010 = slt64(j_181008, block_sizze_180899);
                        bool bounds_check_181011 = x_181009 && y_181010;
                        bool index_certs_181012;
                        
                        if (!bounds_check_181011) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181008, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_181016 = add64((int64_t) 1, j_181008);
                        bool x_181017 = sle64((int64_t) 0, copy_arg0_181016);
                        bool y_181018 = slt64(copy_arg0_181016, block_sizze_180899);
                        bool bounds_check_181019 = x_181017 && y_181018;
                        bool index_certs_181020;
                        
                        if (!bounds_check_181019) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_181016, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_181013 = ((int8_t *) mem_185124)[j_181008];
                        int64_t copy_arg0_181014 = ((int64_t *) mem_185126)[j_181008];
                        int16_t copy_arg0_181015 = ((int16_t *) mem_185128)[j_181008];
                        int8_t copy_arg0_181021 = ((int8_t *) mem_185124)[copy_arg0_181016];
                        int64_t copy_arg0_181022 = ((int64_t *) mem_185126)[copy_arg0_181016];
                        int16_t copy_arg0_181023 = ((int16_t *) mem_185128)[copy_arg0_181016];
                        
                        ((int8_t *) mem_185124)[j_181008] = copy_arg0_181021;
                        ((int64_t *) mem_185126)[j_181008] = copy_arg0_181022;
                        ((int16_t *) mem_185128)[j_181008] = copy_arg0_181023;
                        ((int8_t *) mem_185124)[copy_arg0_181016] = copy_arg0_181013;
                        ((int64_t *) mem_185126)[copy_arg0_181016] = copy_arg0_181014;
                        ((int16_t *) mem_185128)[copy_arg0_181016] = copy_arg0_181015;
                        
                        int64_t tmp_181030 = sub64(j_181008, (int64_t) 1);
                        bool cond_181031 = sle64((int64_t) 0, tmp_181030);
                        bool loop_cond_181032;
                        
                        if (cond_181031) {
                            bool y_183752 = slt64(tmp_181030, block_sizze_180899);
                            bool bounds_check_183753 = cond_181031 && y_183752;
                            bool index_certs_183754;
                            
                            if (!bounds_check_183753) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_181030, "] out of bounds for array of shape [", (long long) block_sizze_180899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_183749 = ((int8_t *) mem_185124)[j_181008];
                            int64_t gt_arg1_183750 = ((int64_t *) mem_185126)[j_181008];
                            int16_t gt_arg1_183751 = ((int16_t *) mem_185128)[j_181008];
                            int8_t gt_arg0_183755 = ((int8_t *) mem_185124)[tmp_181030];
                            int64_t gt_arg0_183756 = ((int64_t *) mem_185126)[tmp_181030];
                            int16_t gt_arg0_183757 = ((int16_t *) mem_185128)[tmp_181030];
                            bool cond_183758 = gt_arg0_183755 == gt_arg1_183749;
                            bool defunc_0_leq_res_t_res_183759 = sle64(gt_arg0_183756, gt_arg1_183750);
                            bool defunc_0_leq_res_183760 = sle16(gt_arg0_183757, gt_arg1_183751);
                            bool x_183761 = cond_183758 && defunc_0_leq_res_t_res_183759;
                            bool x_183762 = !cond_183758;
                            bool y_183763 = defunc_0_leq_res_183760 && x_183762;
                            bool defunc_0_leq_res_183764 = x_183761 || y_183763;
                            bool defunc_0_lifted_gt_res_183765 = !defunc_0_leq_res_183764;
                            
                            loop_cond_181032 = defunc_0_lifted_gt_res_183765;
                        } else {
                            loop_cond_181032 = 0;
                        }
                        
                        bool loop_while_tmp_185936 = loop_cond_181032;
                        int64_t j_tmp_185940 = tmp_181030;
                        
                        loop_while_181004 = loop_while_tmp_185936;
                        j_181008 = j_tmp_185940;
                    }
                    s_180999 = loop_while_181004;
                    s_181003 = j_181008;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_185105, i_184133 * block_sizze_180899, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_185124, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180899});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_185108, i_184133 * block_sizze_180899, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_185126, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180899});
            lmad_copy_2b(ctx, 1, (uint16_t *) mem_185111, i_184133 * block_sizze_180899, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_185128, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_180899});
        }
        if (memblock_alloc(ctx, &mem_185205, flat_dim_180900, "mem_185205")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_185205.mem, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (uint8_t *) mem_185105, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180889, block_sizze_180899});
        if (memblock_alloc(ctx, &mem_185209, bytes_185107, "mem_185209")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_185209.mem, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (uint64_t *) mem_185108, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180889, block_sizze_180899});
        if (memblock_alloc(ctx, &mem_185213, bytes_185110, "mem_185213")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_2b(ctx, 2, (uint16_t *) mem_185213.mem, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (uint16_t *) mem_185111, (int64_t) 0, (int64_t []) {block_sizze_180899, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_180889, block_sizze_180899});
        
        int64_t data_181056;
        bool data_181057;
        int64_t data_181061;
        int64_t loop_dz2084Uz2082U_181062;
        bool loop_while_181063;
        int64_t stride_181067;
        
        if (memblock_set(ctx, &mem_param_185217, &mem_185205, "mem_185205") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_185220, &mem_185209, "mem_185209") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_185223, &mem_185213, "mem_185213") != 0)
            return 1;
        loop_dz2084Uz2082U_181062 = flat_dim_180900;
        loop_while_181063 = loop_cond_181053;
        stride_181067 = block_sizze_180899;
        while (loop_while_181063) {
            int64_t next_stride_181068 = mul64((int64_t) 2, stride_181067);
            bool zzero_181069 = next_stride_181068 == (int64_t) 0;
            bool nonzzero_181070 = !zzero_181069;
            bool nonzzero_cert_181071;
            
            if (!nonzzero_181070) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:357:63-73\n   #4  ftsort.fut:350:1-357:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_181072 = sdiv64(flat_dim_180900, next_stride_181068);
            bool bounds_invalid_upwards_181073 = slt64(num_merges_181072, (int64_t) 0);
            bool valid_181074 = !bounds_invalid_upwards_181073;
            bool range_valid_c_181075;
            
            if (!valid_181074) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_181072, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_181077 = sub64(next_stride_181068, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_181078 = sle64((int64_t) 0, m_181077);
            bool cond_181080 = slt64(next_stride_181068, (int64_t) 10);
            bool protect_assert_disj_181081 = nonzzero_181055 || cond_181080;
            bool nonzzero_cert_181082;
            
            if (!protect_assert_disj_181081) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_181083 = smod_safe64(next_stride_181068, merge_block_sizze_180905);
            bool num_blocks_181084 = zeze_lhs_181083 == (int64_t) 0;
            bool protect_assert_disj_181085 = cond_181080 || num_blocks_181084;
            bool assert_c_181086;
            
            if (!protect_assert_disj_181085) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_181088 = sdiv_safe64(next_stride_181068, merge_block_sizze_180905);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089 = add64((int64_t) 1, num_blocks_181088);
            int64_t j_m_i_181090 = sub64(next_stride_181068, stride_181067);
            int64_t flat_dim_181091 = merge_block_sizze_180905 * num_blocks_181088;
            bool bounds_invalid_upwards_181092 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089, (int64_t) 0);
            bool empty_slice_181093 = j_m_i_181090 == (int64_t) 0;
            int64_t m_181094 = sub64(j_m_i_181090, (int64_t) 1);
            bool zzero_lte_i_181095 = sle64((int64_t) 0, stride_181067);
            bool i_lte_j_181096 = sle64(stride_181067, next_stride_181068);
            bool empty_slice_181097 = stride_181067 == (int64_t) 0;
            int64_t m_181098 = sub64(stride_181067, (int64_t) 1);
            bool bounds_invalid_upwards_181099 = slt64(num_blocks_181088, (int64_t) 0);
            bool cond_181100 = slt64((int64_t) 0, stride_181067);
            bool valid_181101 = !bounds_invalid_upwards_181092;
            int64_t i_p_m_t_s_181102 = add64(stride_181067, m_181094);
            bool zzero_leq_i_p_m_t_s_181103 = sle64((int64_t) 0, m_181098);
            bool i_p_m_t_s_leq_w_181104 = slt64(m_181098, next_stride_181068);
            bool valid_181105 = !bounds_invalid_upwards_181099;
            bool i_p_m_t_s_leq_w_181106 = slt64(m_181077, flat_dim_181091);
            bool y_181107 = slt64((int64_t) 0, j_m_i_181090);
            bool protect_assert_disj_181108 = cond_181080 || valid_181101;
            bool range_valid_c_181109;
            
            if (!protect_assert_disj_181108) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:357:63-73\n   #9  ftsort.fut:350:1-357:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_181110 = sle64((int64_t) 0, i_p_m_t_s_181102);
            bool i_p_m_t_s_leq_w_181111 = slt64(i_p_m_t_s_181102, next_stride_181068);
            bool y_181112 = zzero_leq_i_p_m_t_s_181103 && i_p_m_t_s_leq_w_181104;
            bool protect_assert_disj_181113 = cond_181080 || valid_181105;
            bool range_valid_c_181114;
            
            if (!protect_assert_disj_181113) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_181088, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_181115 = zzero_leq_i_p_m_t_s_181078 && i_p_m_t_s_leq_w_181106;
            bool y_181116 = zzero_lte_i_181095 && i_p_m_t_s_leq_w_181111;
            bool forwards_ok_181117 = zzero_lte_i_181095 && y_181112;
            bool ok_or_empty_181118 = zzero_181069 || y_181115;
            bool protect_assert_disj_181119 = cond_181100 || y_181107;
            bool y_181120 = zzero_leq_i_p_m_t_s_181110 && y_181116;
            bool ok_or_empty_181121 = empty_slice_181097 || forwards_ok_181117;
            bool protect_assert_disj_181122 = cond_181080 || ok_or_empty_181118;
            bool index_certs_181123;
            
            if (!protect_assert_disj_181122) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_181068, "] out of bounds for array of shape [", (long long) flat_dim_181091, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_181124 = !cond_181080;
            bool protect_assert_disj_181125 = protect_assert_disj_181119 || loop_not_taken_181124;
            bool index_certs_181126;
            
            if (!protect_assert_disj_181125) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:357:63-73\n   #9  ftsort.fut:350:1-357:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_181127 = i_lte_j_181096 && y_181120;
            bool protect_assert_disj_181128 = cond_181080 || ok_or_empty_181121;
            bool index_certs_181129;
            
            if (!protect_assert_disj_181128) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_181067, "] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:357:63-73\n   #10 ftsort.fut:350:1-357:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_181130 = ok_or_empty_181121 || loop_not_taken_181124;
            bool index_certs_181131;
            
            if (!protect_assert_disj_181130) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_181067, "] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_181132 = empty_slice_181093 || forwards_ok_181127;
            bool protect_assert_disj_181133 = cond_181080 || ok_or_empty_181132;
            bool index_certs_181134;
            
            if (!protect_assert_disj_181133) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_181067, ":] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:357:63-73\n   #10 ftsort.fut:350:1-357:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_181135 = loop_not_taken_181124 || ok_or_empty_181132;
            bool index_certs_181136;
            
            if (!protect_assert_disj_181135) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_181067, ":] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_185224 = next_stride_181068 * num_merges_181072;
            int64_t binop_x_185226 = (int64_t) 8 * num_merges_181072;
            int64_t bytes_185227 = next_stride_181068 * binop_x_185226;
            int64_t binop_x_185229 = (int64_t) 2 * num_merges_181072;
            int64_t bytes_185230 = next_stride_181068 * binop_x_185229;
            bool i_lte_j_181079 = sle64((int64_t) 0, next_stride_181068);
            
            if (mem_185225_cached_sizze_186305 < bytes_185224) {
                err = lexical_realloc(ctx, &mem_185225, &mem_185225_cached_sizze_186305, bytes_185224);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_185228_cached_sizze_186306 < bytes_185227) {
                err = lexical_realloc(ctx, &mem_185228, &mem_185228_cached_sizze_186306, bytes_185227);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_185231_cached_sizze_186307 < bytes_185230) {
                err = lexical_realloc(ctx, &mem_185231, &mem_185231_cached_sizze_186307, bytes_185230);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_185244 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089;
            int64_t binop_x_185262 = (int64_t) 8 * num_blocks_181088;
            int64_t bytes_185263 = merge_block_sizze_180905 * binop_x_185262;
            int64_t binop_x_185265 = (int64_t) 2 * num_blocks_181088;
            int64_t bytes_185266 = merge_block_sizze_180905 * binop_x_185265;
            int64_t bytes_185327 = (int64_t) 16 * stride_181067;
            int64_t bytes_185329 = (int64_t) 4 * stride_181067;
            
            for (int64_t i_184160 = 0; i_184160 < num_merges_181072; i_184160++) {
                int64_t start_181141 = mul64(next_stride_181068, i_184160);
                int64_t j_m_i_181142 = sub64(loop_dz2084Uz2082U_181062, start_181141);
                bool empty_slice_181143 = j_m_i_181142 == (int64_t) 0;
                int64_t m_181144 = sub64(j_m_i_181142, (int64_t) 1);
                int64_t i_p_m_t_s_181145 = add64(start_181141, m_181144);
                bool zzero_leq_i_p_m_t_s_181146 = sle64((int64_t) 0, i_p_m_t_s_181145);
                bool i_p_m_t_s_leq_w_181147 = slt64(i_p_m_t_s_181145, loop_dz2084Uz2082U_181062);
                bool zzero_lte_i_181148 = sle64((int64_t) 0, start_181141);
                bool i_lte_j_181149 = sle64(start_181141, loop_dz2084Uz2082U_181062);
                bool y_181150 = i_p_m_t_s_leq_w_181147 && zzero_lte_i_181148;
                bool y_181151 = zzero_leq_i_p_m_t_s_181146 && y_181150;
                bool forwards_ok_181152 = i_lte_j_181149 && y_181151;
                bool ok_or_empty_181153 = empty_slice_181143 || forwards_ok_181152;
                bool index_certs_181154;
                
                if (!ok_or_empty_181153) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_181141, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_181062, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_181155 = slt64(m_181077, j_m_i_181142);
                bool y_181156 = zzero_leq_i_p_m_t_s_181078 && i_p_m_t_s_leq_w_181155;
                bool forwards_ok_181157 = i_lte_j_181079 && y_181156;
                bool ok_or_empty_181158 = zzero_181069 || forwards_ok_181157;
                bool index_certs_181159;
                
                if (!ok_or_empty_181158) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_181068, "] out of bounds for array of shape [", (long long) j_m_i_181142, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:357:63-73\n   #7  ftsort.fut:350:1-357:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_181080) {
                    int8_t dummy_183804;
                    int64_t dummy_183805;
                    int16_t dummy_183806;
                    
                    if (cond_181100) {
                        int8_t head_res_183807 = ((int8_t *) mem_param_185217.mem)[start_181141];
                        int64_t head_res_183808 = ((int64_t *) mem_param_185220.mem)[start_181141];
                        int16_t head_res_183809 = ((int16_t *) mem_param_185223.mem)[start_181141];
                        
                        dummy_183804 = head_res_183807;
                        dummy_183805 = head_res_183808;
                        dummy_183806 = head_res_183809;
                    } else {
                        int64_t slice_183810 = stride_181067 + start_181141;
                        int8_t head_res_183811 = ((int8_t *) mem_param_185217.mem)[slice_183810];
                        int64_t head_res_183812 = ((int64_t *) mem_param_185220.mem)[slice_183810];
                        int16_t head_res_183813 = ((int16_t *) mem_param_185223.mem)[slice_183810];
                        
                        dummy_183804 = head_res_183811;
                        dummy_183805 = head_res_183812;
                        dummy_183806 = head_res_183813;
                    }
                    if (memblock_alloc(ctx, &mem_185326, next_stride_181068, "mem_185326")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185953 = 0; nest_i_185953 < next_stride_181068; nest_i_185953++) {
                        ((int8_t *) mem_185326.mem)[nest_i_185953] = dummy_183804;
                    }
                    if (memblock_alloc(ctx, &mem_185328, bytes_185327, "mem_185328")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185954 = 0; nest_i_185954 < next_stride_181068; nest_i_185954++) {
                        ((int64_t *) mem_185328.mem)[nest_i_185954] = dummy_183805;
                    }
                    if (memblock_alloc(ctx, &mem_185330, bytes_185329, "mem_185330")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_185955 = 0; nest_i_185955 < next_stride_181068; nest_i_185955++) {
                        ((int16_t *) mem_185330.mem)[nest_i_185955] = dummy_183806;
                    }
                    
                    int64_t data_183817;
                    int64_t i_183822 = (int64_t) 0;
                    
                    for (int64_t k_183821 = 0; k_183821 < next_stride_181068; k_183821++) {
                        int64_t j_183826 = sub64(k_183821, i_183822);
                        bool cond_183827 = j_183826 == j_m_i_181090;
                        bool cond_183828;
                        
                        if (cond_183827) {
                            cond_183828 = 1;
                        } else {
                            bool cond_183829 = slt64(i_183822, stride_181067);
                            bool cond_f_res_183830;
                            
                            if (cond_183829) {
                                bool x_183831 = sle64((int64_t) 0, j_183826);
                                bool y_183832 = slt64(j_183826, j_m_i_181090);
                                bool bounds_check_183833 = x_183831 && y_183832;
                                bool index_certs_183834;
                                
                                if (!bounds_check_183833) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183826, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_183840 = sle64((int64_t) 0, i_183822);
                                bool bounds_check_183841 = cond_183829 && x_183840;
                                bool index_certs_183842;
                                
                                if (!bounds_check_183841) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183822, "] out of bounds for array of shape [", (long long) stride_181067, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_183835 = stride_181067 + j_183826;
                                int64_t slice_183836 = start_181141 + slice_183835;
                                int8_t leq_arg1_183837 = ((int8_t *) mem_param_185217.mem)[slice_183836];
                                int64_t leq_arg1_183838 = ((int64_t *) mem_param_185220.mem)[slice_183836];
                                int16_t leq_arg1_183839 = ((int16_t *) mem_param_185223.mem)[slice_183836];
                                int64_t slice_183843 = start_181141 + i_183822;
                                int8_t leq_arg0_183844 = ((int8_t *) mem_param_185217.mem)[slice_183843];
                                int64_t leq_arg0_183845 = ((int64_t *) mem_param_185220.mem)[slice_183843];
                                int16_t leq_arg0_183846 = ((int16_t *) mem_param_185223.mem)[slice_183843];
                                bool cond_183847 = leq_arg0_183844 == leq_arg1_183837;
                                bool defunc_0_leq_res_t_res_183848 = sle64(leq_arg0_183845, leq_arg1_183838);
                                bool defunc_0_leq_res_183849 = sle16(leq_arg0_183846, leq_arg1_183839);
                                bool x_183850 = cond_183847 && defunc_0_leq_res_t_res_183848;
                                bool x_183851 = !cond_183847;
                                bool y_183852 = defunc_0_leq_res_183849 && x_183851;
                                bool defunc_0_leq_res_183853 = x_183850 || y_183852;
                                
                                cond_f_res_183830 = defunc_0_leq_res_183853;
                            } else {
                                cond_f_res_183830 = 0;
                            }
                            cond_183828 = cond_f_res_183830;
                        }
                        
                        int64_t loopres_183854;
                        int8_t loopres_183855;
                        int64_t loopres_183856;
                        int16_t loopres_183857;
                        
                        if (cond_183828) {
                            bool x_183859 = sle64((int64_t) 0, i_183822);
                            bool y_183860 = slt64(i_183822, stride_181067);
                            bool bounds_check_183861 = x_183859 && y_183860;
                            bool index_certs_183862;
                            
                            if (!bounds_check_183861) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_183822, "] out of bounds for array of shape [", (long long) stride_181067, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_183858 = add64((int64_t) 1, i_183822);
                            int64_t slice_183863 = start_181141 + i_183822;
                            int8_t tmp_183864 = ((int8_t *) mem_param_185217.mem)[slice_183863];
                            int64_t tmp_183865 = ((int64_t *) mem_param_185220.mem)[slice_183863];
                            int16_t tmp_183866 = ((int16_t *) mem_param_185223.mem)[slice_183863];
                            
                            loopres_183854 = tmp_183858;
                            loopres_183855 = tmp_183864;
                            loopres_183856 = tmp_183865;
                            loopres_183857 = tmp_183866;
                        } else {
                            bool x_183867 = sle64((int64_t) 0, j_183826);
                            bool y_183868 = slt64(j_183826, j_m_i_181090);
                            bool bounds_check_183869 = x_183867 && y_183868;
                            bool index_certs_183870;
                            
                            if (!bounds_check_183869) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_183826, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:357:63-73\n   #8  ftsort.fut:350:1-357:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_183871 = stride_181067 + j_183826;
                            int64_t slice_183872 = start_181141 + slice_183871;
                            int8_t tmp_183873 = ((int8_t *) mem_param_185217.mem)[slice_183872];
                            int64_t tmp_183874 = ((int64_t *) mem_param_185220.mem)[slice_183872];
                            int16_t tmp_183875 = ((int16_t *) mem_param_185223.mem)[slice_183872];
                            
                            loopres_183854 = i_183822;
                            loopres_183855 = tmp_183873;
                            loopres_183856 = tmp_183874;
                            loopres_183857 = tmp_183875;
                        }
                        ((int8_t *) mem_185326.mem)[k_183821] = loopres_183855;
                        ((int64_t *) mem_185328.mem)[k_183821] = loopres_183856;
                        ((int16_t *) mem_185330.mem)[k_183821] = loopres_183857;
                        
                        int64_t i_tmp_185956 = loopres_183854;
                        
                        i_183822 = i_tmp_185956;
                    }
                    data_183817 = i_183822;
                    if (memblock_set(ctx, &ext_mem_185357, &mem_185326, "mem_185326") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185354, &mem_185328, "mem_185328") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185351, &mem_185330, "mem_185330") != 0)
                        return 1;
                } else {
                    if (mem_185245_cached_sizze_186308 < bytes_185244) {
                        err = lexical_realloc(ctx, &mem_185245, &mem_185245_cached_sizze_186308, bytes_185244);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_185247_cached_sizze_186309 < bytes_185244) {
                        err = lexical_realloc(ctx, &mem_185247, &mem_185247_cached_sizze_186309, bytes_185244);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_184141 = 0; i_184141 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089; i_184141++) {
                        int64_t split_count_arg3_181242 = mul64(merge_block_sizze_180905, i_184141);
                        int64_t defunc_0_split_count_res_181243;
                        int64_t defunc_0_split_count_res_181244;
                        int64_t defunc_0_split_count_res_181245;
                        int64_t defunc_0_split_count_res_181246;
                        int64_t defunc_0_split_count_res_181247;
                        
                        if (futrts_lifted_normalizze_9100(ctx, &defunc_0_split_count_res_181243, &defunc_0_split_count_res_181244, &defunc_0_split_count_res_181245, &defunc_0_split_count_res_181246, &defunc_0_split_count_res_181247, (int64_t) 0, stride_181067, (int64_t) 0, j_m_i_181090, split_count_arg3_181242) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_181248 = slt64((int64_t) 0, defunc_0_split_count_res_181247);
                        bool defunc_0_split_count_res_181249;
                        int64_t defunc_0_split_count_res_181250;
                        int64_t defunc_0_split_count_res_181251;
                        int64_t defunc_0_split_count_res_181252;
                        int64_t defunc_0_split_count_res_181253;
                        int64_t defunc_0_split_count_res_181254;
                        bool loop_while_181255;
                        int64_t ss_181256;
                        int64_t ss_181257;
                        int64_t tt_181258;
                        int64_t tt_181259;
                        int64_t count_181260;
                        
                        loop_while_181255 = loop_cond_181248;
                        ss_181256 = defunc_0_split_count_res_181243;
                        ss_181257 = defunc_0_split_count_res_181244;
                        tt_181258 = defunc_0_split_count_res_181245;
                        tt_181259 = defunc_0_split_count_res_181246;
                        count_181260 = defunc_0_split_count_res_181247;
                        while (loop_while_181255) {
                            int64_t zlze_lhs_181261 = sub64(ss_181257, ss_181256);
                            bool cond_181262 = sle64(zlze_lhs_181261, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_181263;
                            int64_t defunc_0_lifted_step_res_181264;
                            int64_t defunc_0_lifted_step_res_181265;
                            int64_t defunc_0_lifted_step_res_181266;
                            
                            if (cond_181262) {
                                int64_t tmp_183879 = add64(tt_181258, count_181260);
                                
                                defunc_0_lifted_step_res_181263 = ss_181256;
                                defunc_0_lifted_step_res_181264 = tmp_183879;
                                defunc_0_lifted_step_res_181265 = tt_181259;
                                defunc_0_lifted_step_res_181266 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_181268 = sub64(tt_181259, tt_181258);
                                bool cond_181269 = sle64(zlze_lhs_181268, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_181270;
                                int64_t defunc_0_lifted_step_res_f_res_181271;
                                int64_t defunc_0_lifted_step_res_f_res_181272;
                                int64_t defunc_0_lifted_step_res_f_res_181273;
                                
                                if (cond_181269) {
                                    int64_t tmp_183880 = add64(ss_181256, count_181260);
                                    
                                    defunc_0_lifted_step_res_f_res_181270 = tmp_183880;
                                    defunc_0_lifted_step_res_f_res_181271 = tt_181258;
                                    defunc_0_lifted_step_res_f_res_181272 = tt_181259;
                                    defunc_0_lifted_step_res_f_res_181273 = (int64_t) 0;
                                } else {
                                    bool cond_181275 = count_181260 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_181276;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_181277;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_181278;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_181279;
                                    
                                    if (cond_181275) {
                                        bool x_183882 = sle64((int64_t) 0, ss_181256);
                                        bool y_183883 = slt64(ss_181256, stride_181067);
                                        bool bounds_check_183884 = x_183882 && y_183883;
                                        bool index_certs_183885;
                                        
                                        if (!bounds_check_183884) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_181256, "] out of bounds for array of shape [", (long long) stride_181067, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:357:63-73\n   #12 ftsort.fut:350:1-357:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_183890 = sle64((int64_t) 0, tt_181258);
                                        bool y_183891 = slt64(tt_181258, j_m_i_181090);
                                        bool bounds_check_183892 = x_183890 && y_183891;
                                        bool index_certs_183893;
                                        
                                        if (!bounds_check_183892) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_181258, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:357:63-73\n   #12 ftsort.fut:350:1-357:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_183886 = start_181141 + ss_181256;
                                        int8_t leq_arg1_183887 = ((int8_t *) mem_param_185217.mem)[slice_183886];
                                        int64_t leq_arg1_183888 = ((int64_t *) mem_param_185220.mem)[slice_183886];
                                        int16_t leq_arg1_183889 = ((int16_t *) mem_param_185223.mem)[slice_183886];
                                        int64_t slice_183894 = stride_181067 + tt_181258;
                                        int64_t slice_183895 = start_181141 + slice_183894;
                                        int8_t leq_arg0_183896 = ((int8_t *) mem_param_185217.mem)[slice_183895];
                                        int64_t leq_arg0_183897 = ((int64_t *) mem_param_185220.mem)[slice_183895];
                                        int16_t leq_arg0_183898 = ((int16_t *) mem_param_185223.mem)[slice_183895];
                                        bool cond_183899 = leq_arg0_183896 == leq_arg1_183887;
                                        bool defunc_0_leq_res_t_res_183900 = sle64(leq_arg0_183897, leq_arg1_183888);
                                        bool defunc_0_leq_res_183901 = sle16(leq_arg0_183898, leq_arg1_183889);
                                        bool x_183902 = cond_183899 && defunc_0_leq_res_t_res_183900;
                                        bool x_183903 = !cond_183899;
                                        bool y_183904 = defunc_0_leq_res_183901 && x_183903;
                                        bool defunc_0_leq_res_183905 = x_183902 || y_183904;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183906;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_183907;
                                        
                                        if (defunc_0_leq_res_183905) {
                                            int64_t tmp_183908 = add64((int64_t) 1, tt_181258);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_183906 = ss_181256;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_183907 = tmp_183908;
                                        } else {
                                            int64_t tmp_183909 = add64((int64_t) 1, ss_181256);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_183906 = tmp_183909;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_183907 = tt_181258;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_181276 = defunc_0_lifted_step_res_f_res_f_res_t_res_183906;
                                        defunc_0_lifted_step_res_f_res_f_res_181277 = defunc_0_lifted_step_res_f_res_f_res_t_res_183907;
                                        defunc_0_lifted_step_res_f_res_f_res_181278 = tt_181259;
                                        defunc_0_lifted_step_res_f_res_f_res_181279 = (int64_t) 0;
                                    } else {
                                        int64_t m_181308 = sdiv64(count_181260, (int64_t) 2);
                                        int64_t n_181309 = sub64(count_181260, m_181308);
                                        bool cond_181310 = n_181309 == (int64_t) 0;
                                        int64_t zgze_lhs_181311 = add64(ss_181256, m_181308);
                                        bool cond_f_res_181312 = sle64(ss_181257, zgze_lhs_181311);
                                        bool x_181313 = !cond_181310;
                                        bool y_181314 = cond_f_res_181312 && x_181313;
                                        bool cond_181315 = cond_181310 || y_181314;
                                        bool leq_y_x_181316;
                                        
                                        if (cond_181315) {
                                            leq_y_x_181316 = 1;
                                        } else {
                                            bool x_181317 = sle64((int64_t) 0, zgze_lhs_181311);
                                            bool y_181318 = slt64(zgze_lhs_181311, stride_181067);
                                            bool bounds_check_181319 = x_181317 && y_181318;
                                            bool index_certs_181320;
                                            
                                            if (!bounds_check_181319) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_181311, "] out of bounds for array of shape [", (long long) stride_181067, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:357:63-73\n   #12 ftsort.fut:350:1-357:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_181325 = add64(tt_181258, n_181309);
                                            int64_t leq_arg0_181326 = sub64(zm_lhs_181325, (int64_t) 1);
                                            bool x_181327 = sle64((int64_t) 0, leq_arg0_181326);
                                            bool y_181328 = slt64(leq_arg0_181326, j_m_i_181090);
                                            bool bounds_check_181329 = x_181327 && y_181328;
                                            bool index_certs_181330;
                                            
                                            if (!bounds_check_181329) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_181326, "] out of bounds for array of shape [", (long long) j_m_i_181090, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:357:63-73\n   #12 ftsort.fut:350:1-357:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_181321 = start_181141 + zgze_lhs_181311;
                                            int8_t leq_arg1_181322 = ((int8_t *) mem_param_185217.mem)[slice_181321];
                                            int64_t leq_arg1_181323 = ((int64_t *) mem_param_185220.mem)[slice_181321];
                                            int16_t leq_arg1_181324 = ((int16_t *) mem_param_185223.mem)[slice_181321];
                                            int64_t slice_181331 = stride_181067 + leq_arg0_181326;
                                            int64_t slice_181332 = start_181141 + slice_181331;
                                            int8_t leq_arg0_181333 = ((int8_t *) mem_param_185217.mem)[slice_181332];
                                            int64_t leq_arg0_181334 = ((int64_t *) mem_param_185220.mem)[slice_181332];
                                            int16_t leq_arg0_181335 = ((int16_t *) mem_param_185223.mem)[slice_181332];
                                            bool cond_181336 = leq_arg0_181333 == leq_arg1_181322;
                                            bool defunc_0_leq_res_t_res_181337 = sle64(leq_arg0_181334, leq_arg1_181323);
                                            bool defunc_0_leq_res_181338 = sle16(leq_arg0_181335, leq_arg1_181324);
                                            bool x_181339 = cond_181336 && defunc_0_leq_res_t_res_181337;
                                            bool x_181340 = !cond_181336;
                                            bool y_181341 = defunc_0_leq_res_181338 && x_181340;
                                            bool defunc_0_leq_res_181342 = x_181339 || y_181341;
                                            
                                            leq_y_x_181316 = defunc_0_leq_res_181342;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_181343;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_181344;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_181345;
                                        
                                        if (leq_y_x_181316) {
                                            int64_t tmp_183910 = add64(tt_181258, n_181309);
                                            int64_t tmp_183911 = sub64(count_181260, n_181309);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181343 = tmp_183910;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181344 = tt_181259;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181345 = tmp_183911;
                                        } else {
                                            int64_t tmp_181348 = add64(tt_181258, n_181309);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181343 = tt_181258;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181344 = tmp_181348;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_181345 = count_181260;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_181276 = ss_181256;
                                        defunc_0_lifted_step_res_f_res_f_res_181277 = defunc_0_lifted_step_res_f_res_f_res_f_res_181343;
                                        defunc_0_lifted_step_res_f_res_f_res_181278 = defunc_0_lifted_step_res_f_res_f_res_f_res_181344;
                                        defunc_0_lifted_step_res_f_res_f_res_181279 = defunc_0_lifted_step_res_f_res_f_res_f_res_181345;
                                    }
                                    defunc_0_lifted_step_res_f_res_181270 = defunc_0_lifted_step_res_f_res_f_res_181276;
                                    defunc_0_lifted_step_res_f_res_181271 = defunc_0_lifted_step_res_f_res_f_res_181277;
                                    defunc_0_lifted_step_res_f_res_181272 = defunc_0_lifted_step_res_f_res_f_res_181278;
                                    defunc_0_lifted_step_res_f_res_181273 = defunc_0_lifted_step_res_f_res_f_res_181279;
                                }
                                defunc_0_lifted_step_res_181263 = defunc_0_lifted_step_res_f_res_181270;
                                defunc_0_lifted_step_res_181264 = defunc_0_lifted_step_res_f_res_181271;
                                defunc_0_lifted_step_res_181265 = defunc_0_lifted_step_res_f_res_181272;
                                defunc_0_lifted_step_res_181266 = defunc_0_lifted_step_res_f_res_181273;
                            }
                            
                            int64_t loopres_181349;
                            int64_t loopres_181350;
                            int64_t loopres_181351;
                            int64_t loopres_181352;
                            int64_t loopres_181353;
                            
                            if (futrts_lifted_normalizze_9100(ctx, &loopres_181349, &loopres_181350, &loopres_181351, &loopres_181352, &loopres_181353, defunc_0_lifted_step_res_181263, ss_181257, defunc_0_lifted_step_res_181264, defunc_0_lifted_step_res_181265, defunc_0_lifted_step_res_181266) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_181354 = slt64((int64_t) 0, loopres_181353);
                            bool loop_while_tmp_185962 = loop_cond_181354;
                            int64_t ss_tmp_185963 = loopres_181349;
                            int64_t ss_tmp_185964 = loopres_181350;
                            int64_t tt_tmp_185965 = loopres_181351;
                            int64_t tt_tmp_185966 = loopres_181352;
                            int64_t count_tmp_185967 = loopres_181353;
                            
                            loop_while_181255 = loop_while_tmp_185962;
                            ss_181256 = ss_tmp_185963;
                            ss_181257 = ss_tmp_185964;
                            tt_181258 = tt_tmp_185965;
                            tt_181259 = tt_tmp_185966;
                            count_181260 = count_tmp_185967;
                        }
                        defunc_0_split_count_res_181249 = loop_while_181255;
                        defunc_0_split_count_res_181250 = ss_181256;
                        defunc_0_split_count_res_181251 = ss_181257;
                        defunc_0_split_count_res_181252 = tt_181258;
                        defunc_0_split_count_res_181253 = tt_181259;
                        defunc_0_split_count_res_181254 = count_181260;
                        ((int64_t *) mem_185245)[i_184141] = defunc_0_split_count_res_181250;
                        ((int64_t *) mem_185247)[i_184141] = defunc_0_split_count_res_181252;
                    }
                    if (mem_185261_cached_sizze_186310 < flat_dim_181091) {
                        err = lexical_realloc(ctx, &mem_185261, &mem_185261_cached_sizze_186310, flat_dim_181091);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_185264_cached_sizze_186311 < bytes_185263) {
                        err = lexical_realloc(ctx, &mem_185264, &mem_185264_cached_sizze_186311, bytes_185263);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_185267_cached_sizze_186312 < bytes_185266) {
                        err = lexical_realloc(ctx, &mem_185267, &mem_185267_cached_sizze_186312, bytes_185266);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_184150 = 0; i_184150 < num_blocks_181088; i_184150++) {
                        bool y_181361 = slt64(i_184150, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089);
                        bool index_certs_181363;
                        
                        if (!y_181361) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_184150, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:357:63-73\n   #9  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_181364 = ((int64_t *) mem_185245)[i_184150];
                        int64_t defunc_0_f_res_181365 = ((int64_t *) mem_185247)[i_184150];
                        int64_t tmp_181366 = add64((int64_t) 1, i_184150);
                        bool x_181367 = sle64((int64_t) 0, tmp_181366);
                        bool y_181368 = slt64(tmp_181366, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089);
                        bool bounds_check_181369 = x_181367 && y_181368;
                        bool index_certs_181370;
                        
                        if (!bounds_check_181369) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_181366, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_181089, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:357:63-73\n   #9  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_181371 = ((int64_t *) mem_185245)[tmp_181366];
                        int64_t defunc_0_f_res_181372 = ((int64_t *) mem_185247)[tmp_181366];
                        int64_t merge_sequential_arg2_181373 = add64(stride_181067, defunc_0_f_res_181365);
                        int64_t merge_sequential_arg2_181374 = add64(stride_181067, defunc_0_f_res_181372);
                        int64_t j_m_i_181375 = sub64(merge_sequential_arg2_181374, merge_sequential_arg2_181373);
                        bool empty_slice_181376 = j_m_i_181375 == (int64_t) 0;
                        int64_t m_181377 = sub64(j_m_i_181375, (int64_t) 1);
                        int64_t i_p_m_t_s_181378 = add64(merge_sequential_arg2_181373, m_181377);
                        bool zzero_leq_i_p_m_t_s_181379 = sle64((int64_t) 0, i_p_m_t_s_181378);
                        bool i_p_m_t_s_leq_w_181380 = slt64(i_p_m_t_s_181378, next_stride_181068);
                        bool zzero_lte_i_181381 = sle64((int64_t) 0, merge_sequential_arg2_181373);
                        bool i_lte_j_181382 = sle64(merge_sequential_arg2_181373, merge_sequential_arg2_181374);
                        bool y_181383 = i_p_m_t_s_leq_w_181380 && zzero_lte_i_181381;
                        bool y_181384 = zzero_leq_i_p_m_t_s_181379 && y_181383;
                        bool forwards_ok_181385 = i_lte_j_181382 && y_181384;
                        bool ok_or_empty_181386 = empty_slice_181376 || forwards_ok_181385;
                        bool index_certs_181387;
                        
                        if (!ok_or_empty_181386) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_181373, ":", (long long) merge_sequential_arg2_181374, "] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:357:63-73\n   #9  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_181388 = sub64(defunc_0_f_res_181371, defunc_0_f_res_181364);
                        bool empty_slice_181389 = j_m_i_181388 == (int64_t) 0;
                        int64_t m_181390 = sub64(j_m_i_181388, (int64_t) 1);
                        int64_t i_p_m_t_s_181391 = add64(defunc_0_f_res_181364, m_181390);
                        bool zzero_leq_i_p_m_t_s_181392 = sle64((int64_t) 0, i_p_m_t_s_181391);
                        bool i_p_m_t_s_leq_w_181393 = slt64(i_p_m_t_s_181391, next_stride_181068);
                        bool zzero_lte_i_181394 = sle64((int64_t) 0, defunc_0_f_res_181364);
                        bool i_lte_j_181395 = sle64(defunc_0_f_res_181364, defunc_0_f_res_181371);
                        bool y_181396 = i_p_m_t_s_leq_w_181393 && zzero_lte_i_181394;
                        bool y_181397 = zzero_leq_i_p_m_t_s_181392 && y_181396;
                        bool forwards_ok_181398 = i_lte_j_181395 && y_181397;
                        bool ok_or_empty_181399 = empty_slice_181389 || forwards_ok_181398;
                        bool index_certs_181400;
                        
                        if (!ok_or_empty_181399) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_181364, ":", (long long) defunc_0_f_res_181371, "] out of bounds for array of shape [", (long long) next_stride_181068, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:357:63-73\n   #9  ftsort.fut:350:1-357:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_181401 = slt64((int64_t) 0, j_m_i_181388);
                        int8_t dummy_181402;
                        int64_t dummy_181403;
                        int16_t dummy_181404;
                        
                        if (cond_181401) {
                            bool index_certs_183912;
                            
                            if (!cond_181401) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_181388, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:357:63-73\n   #11 ftsort.fut:350:1-357:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_183913 = start_181141 + defunc_0_f_res_181364;
                            int8_t head_res_183914 = ((int8_t *) mem_param_185217.mem)[slice_183913];
                            int64_t head_res_183915 = ((int64_t *) mem_param_185220.mem)[slice_183913];
                            int16_t head_res_183916 = ((int16_t *) mem_param_185223.mem)[slice_183913];
                            
                            dummy_181402 = head_res_183914;
                            dummy_181403 = head_res_183915;
                            dummy_181404 = head_res_183916;
                        } else {
                            bool y_181410 = slt64((int64_t) 0, j_m_i_181375);
                            bool index_certs_181411;
                            
                            if (!y_181410) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_181375, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:357:63-73\n   #11 ftsort.fut:350:1-357:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_181412 = start_181141 + merge_sequential_arg2_181373;
                            int8_t head_res_181413 = ((int8_t *) mem_param_185217.mem)[slice_181412];
                            int64_t head_res_181414 = ((int64_t *) mem_param_185220.mem)[slice_181412];
                            int16_t head_res_181415 = ((int16_t *) mem_param_185223.mem)[slice_181412];
                            
                            dummy_181402 = head_res_181413;
                            dummy_181403 = head_res_181414;
                            dummy_181404 = head_res_181415;
                        }
                        for (int64_t nest_i_185971 = 0; nest_i_185971 < merge_block_sizze_180905; nest_i_185971++) {
                            ((int8_t *) mem_185261)[i_184150 * merge_block_sizze_180905 + nest_i_185971] = dummy_181402;
                        }
                        for (int64_t nest_i_185972 = 0; nest_i_185972 < merge_block_sizze_180905; nest_i_185972++) {
                            ((int64_t *) mem_185264)[i_184150 * merge_block_sizze_180905 + nest_i_185972] = dummy_181403;
                        }
                        for (int64_t nest_i_185973 = 0; nest_i_185973 < merge_block_sizze_180905; nest_i_185973++) {
                            ((int16_t *) mem_185267)[i_184150 * merge_block_sizze_180905 + nest_i_185973] = dummy_181404;
                        }
                        
                        int64_t data_181419;
                        int64_t i_181424 = (int64_t) 0;
                        
                        for (int64_t k_181423 = 0; k_181423 < merge_block_sizze_180905; k_181423++) {
                            int64_t j_181428 = sub64(k_181423, i_181424);
                            bool cond_181429 = j_181428 == j_m_i_181375;
                            bool cond_181430;
                            
                            if (cond_181429) {
                                cond_181430 = 1;
                            } else {
                                bool cond_181431 = slt64(i_181424, j_m_i_181388);
                                bool cond_f_res_181432;
                                
                                if (cond_181431) {
                                    bool x_183917 = sle64((int64_t) 0, j_181428);
                                    bool y_183918 = slt64(j_181428, j_m_i_181375);
                                    bool bounds_check_183919 = x_183917 && y_183918;
                                    bool index_certs_183920;
                                    
                                    if (!bounds_check_183919) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181428, "] out of bounds for array of shape [", (long long) j_m_i_181375, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:357:63-73\n   #10 ftsort.fut:350:1-357:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_183926 = sle64((int64_t) 0, i_181424);
                                    bool bounds_check_183927 = cond_181431 && x_183926;
                                    bool index_certs_183928;
                                    
                                    if (!bounds_check_183927) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_181424, "] out of bounds for array of shape [", (long long) j_m_i_181388, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:357:63-73\n   #10 ftsort.fut:350:1-357:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_183921 = merge_sequential_arg2_181373 + j_181428;
                                    int64_t slice_183922 = start_181141 + slice_183921;
                                    int8_t leq_arg1_183923 = ((int8_t *) mem_param_185217.mem)[slice_183922];
                                    int64_t leq_arg1_183924 = ((int64_t *) mem_param_185220.mem)[slice_183922];
                                    int16_t leq_arg1_183925 = ((int16_t *) mem_param_185223.mem)[slice_183922];
                                    int64_t slice_183929 = defunc_0_f_res_181364 + i_181424;
                                    int64_t slice_183930 = start_181141 + slice_183929;
                                    int8_t leq_arg0_183931 = ((int8_t *) mem_param_185217.mem)[slice_183930];
                                    int64_t leq_arg0_183932 = ((int64_t *) mem_param_185220.mem)[slice_183930];
                                    int16_t leq_arg0_183933 = ((int16_t *) mem_param_185223.mem)[slice_183930];
                                    bool cond_183934 = leq_arg0_183931 == leq_arg1_183923;
                                    bool defunc_0_leq_res_t_res_183935 = sle64(leq_arg0_183932, leq_arg1_183924);
                                    bool defunc_0_leq_res_183936 = sle16(leq_arg0_183933, leq_arg1_183925);
                                    bool x_183937 = cond_183934 && defunc_0_leq_res_t_res_183935;
                                    bool x_183938 = !cond_183934;
                                    bool y_183939 = defunc_0_leq_res_183936 && x_183938;
                                    bool defunc_0_leq_res_183940 = x_183937 || y_183939;
                                    
                                    cond_f_res_181432 = defunc_0_leq_res_183940;
                                } else {
                                    cond_f_res_181432 = 0;
                                }
                                cond_181430 = cond_f_res_181432;
                            }
                            
                            int64_t loopres_181457;
                            int8_t loopres_181458;
                            int64_t loopres_181459;
                            int16_t loopres_181460;
                            
                            if (cond_181430) {
                                bool x_183942 = sle64((int64_t) 0, i_181424);
                                bool y_183943 = slt64(i_181424, j_m_i_181388);
                                bool bounds_check_183944 = x_183942 && y_183943;
                                bool index_certs_183945;
                                
                                if (!bounds_check_183944) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_181424, "] out of bounds for array of shape [", (long long) j_m_i_181388, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:357:63-73\n   #10 ftsort.fut:350:1-357:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_183941 = add64((int64_t) 1, i_181424);
                                int64_t slice_183946 = defunc_0_f_res_181364 + i_181424;
                                int64_t slice_183947 = start_181141 + slice_183946;
                                int8_t tmp_183948 = ((int8_t *) mem_param_185217.mem)[slice_183947];
                                int64_t tmp_183949 = ((int64_t *) mem_param_185220.mem)[slice_183947];
                                int16_t tmp_183950 = ((int16_t *) mem_param_185223.mem)[slice_183947];
                                
                                loopres_181457 = tmp_183941;
                                loopres_181458 = tmp_183948;
                                loopres_181459 = tmp_183949;
                                loopres_181460 = tmp_183950;
                            } else {
                                bool x_181471 = sle64((int64_t) 0, j_181428);
                                bool y_181472 = slt64(j_181428, j_m_i_181375);
                                bool bounds_check_181473 = x_181471 && y_181472;
                                bool index_certs_181474;
                                
                                if (!bounds_check_181473) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_181428, "] out of bounds for array of shape [", (long long) j_m_i_181375, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:357:63-73\n   #10 ftsort.fut:350:1-357:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_181475 = merge_sequential_arg2_181373 + j_181428;
                                int64_t slice_181476 = start_181141 + slice_181475;
                                int8_t tmp_181477 = ((int8_t *) mem_param_185217.mem)[slice_181476];
                                int64_t tmp_181478 = ((int64_t *) mem_param_185220.mem)[slice_181476];
                                int16_t tmp_181479 = ((int16_t *) mem_param_185223.mem)[slice_181476];
                                
                                loopres_181457 = i_181424;
                                loopres_181458 = tmp_181477;
                                loopres_181459 = tmp_181478;
                                loopres_181460 = tmp_181479;
                            }
                            ((int8_t *) mem_185261)[i_184150 * merge_block_sizze_180905 + k_181423] = loopres_181458;
                            ((int64_t *) mem_185264)[i_184150 * merge_block_sizze_180905 + k_181423] = loopres_181459;
                            ((int16_t *) mem_185267)[i_184150 * merge_block_sizze_180905 + k_181423] = loopres_181460;
                            
                            int64_t i_tmp_185974 = loopres_181457;
                            
                            i_181424 = i_tmp_185974;
                        }
                        data_181419 = i_181424;
                    }
                    if (memblock_alloc(ctx, &mem_185316, flat_dim_181091, "mem_185316")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_185316.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (uint8_t *) mem_185261, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (int64_t []) {num_blocks_181088, merge_block_sizze_180905});
                    if (memblock_alloc(ctx, &mem_185320, bytes_185263, "mem_185320")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_185320.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (uint64_t *) mem_185264, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (int64_t []) {num_blocks_181088, merge_block_sizze_180905});
                    if (memblock_alloc(ctx, &mem_185324, bytes_185266, "mem_185324")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_185324.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (uint16_t *) mem_185267, (int64_t) 0, (int64_t []) {merge_block_sizze_180905, (int64_t) 1}, (int64_t []) {num_blocks_181088, merge_block_sizze_180905});
                    if (memblock_set(ctx, &ext_mem_185357, &mem_185316, "mem_185316") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185354, &mem_185320, "mem_185320") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_185351, &mem_185324, "mem_185324") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_185225, i_184160 * next_stride_181068, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_185357.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_181068});
                if (memblock_unref(ctx, &ext_mem_185357, "ext_mem_185357") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_185228, i_184160 * next_stride_181068, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185354.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_181068});
                if (memblock_unref(ctx, &ext_mem_185354, "ext_mem_185354") != 0)
                    return 1;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_185231, i_184160 * next_stride_181068, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_185351.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_181068});
                if (memblock_unref(ctx, &ext_mem_185351, "ext_mem_185351") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_185371, bytes_185224, "mem_185371")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_185371.mem, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (uint8_t *) mem_185225, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (int64_t []) {num_merges_181072, next_stride_181068});
            if (memblock_alloc(ctx, &mem_185375, bytes_185227, "mem_185375")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_185375.mem, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (uint64_t *) mem_185228, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (int64_t []) {num_merges_181072, next_stride_181068});
            if (memblock_alloc(ctx, &mem_185379, bytes_185230, "mem_185379")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_2b(ctx, 2, (uint16_t *) mem_185379.mem, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (uint16_t *) mem_185231, (int64_t) 0, (int64_t []) {next_stride_181068, (int64_t) 1}, (int64_t []) {num_merges_181072, next_stride_181068});
            
            bool loop_cond_181493 = slt64(next_stride_181068, flat_dim_180900);
            
            if (memblock_set(ctx, &mem_param_tmp_185941, &mem_185371, "mem_185371") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_185942, &mem_185375, "mem_185375") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_185943, &mem_185379, "mem_185379") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_185944 = bytes_185224;
            bool loop_while_tmp_185945 = loop_cond_181493;
            int64_t stride_tmp_185949 = next_stride_181068;
            
            if (memblock_set(ctx, &mem_param_185217, &mem_param_tmp_185941, "mem_param_tmp_185941") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_185220, &mem_param_tmp_185942, "mem_param_tmp_185942") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_185223, &mem_param_tmp_185943, "mem_param_tmp_185943") != 0)
                return 1;
            loop_dz2084Uz2082U_181062 = loop_dz2084Uz2082U_tmp_185944;
            loop_while_181063 = loop_while_tmp_185945;
            stride_181067 = stride_tmp_185949;
        }
        if (memblock_set(ctx, &ext_mem_185389, &mem_param_185217, "mem_param_185217") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185388, &mem_param_185220, "mem_param_185220") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185387, &mem_param_185223, "mem_param_185223") != 0)
            return 1;
        data_181056 = loop_dz2084Uz2082U_181062;
        data_181057 = loop_while_181063;
        data_181061 = stride_181067;
        if (memblock_unref(ctx, &mem_185205, "mem_185205") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185209, "mem_185209") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185213, "mem_185213") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_181496 = slt64(zs_lhs_180884, data_181056);
        bool y_181497 = i_p_m_t_s_leq_w_181496 && zzero_leq_i_p_m_t_s_181510;
        bool ok_or_empty_181498 = y_181497 || empty_slice_181508;
        bool index_certs_181499;
        
        if (!ok_or_empty_181498) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_180837, "] out of bounds for array of shape [", (long long) data_181056, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:357:63-73\n   #5  ftsort.fut:350:1-357:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_185398, &ext_mem_185389, "ext_mem_185389") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185395, &ext_mem_185388, "ext_mem_185388") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_185392, &ext_mem_185387, "ext_mem_185387") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_185099, "mem_185099") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_185101, "mem_185101") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_185103, "mem_185103") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_184307.mem, final_buffer_181515, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_185398.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_181516});
    if (memblock_unref(ctx, &ext_mem_185398, "ext_mem_185398") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184309.mem, final_buffer_181515, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_185395.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_181516});
    if (memblock_unref(ctx, &ext_mem_185395, "ext_mem_185395") != 0)
        return 1;
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_184311.mem, final_buffer_181515, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_185392.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_181516});
    if (memblock_unref(ctx, &ext_mem_185392, "ext_mem_185392") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185719, &mem_184309, "mem_184309") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185720, &mem_184307, "mem_184307") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185721, &mem_184311, "mem_184311") != 0)
        return 1;
    prim_out_185722 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_178803;
    if (memblock_set(ctx, &*mem_out_p_186259, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186260, &mem_out_185720, "mem_out_185720") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186261, &mem_out_185721, "mem_out_185721") != 0)
        return 1;
    *out_prim_out_186262 = prim_out_185722;
    
  cleanup:
    {
        free(mem_184322);
        free(mem_184324);
        free(mem_184363);
        free(mem_184366);
        free(mem_184369);
        free(mem_184382);
        free(mem_184384);
        free(mem_184386);
        free(mem_184483);
        free(mem_184486);
        free(mem_184489);
        free(mem_184503);
        free(mem_184505);
        free(mem_184519);
        free(mem_184522);
        free(mem_184525);
        free(mem_184667);
        free(mem_184669);
        free(mem_184684);
        free(mem_184686);
        free(mem_184689);
        free(mem_184692);
        free(mem_184726);
        free(mem_184729);
        free(mem_184732);
        free(mem_184745);
        free(mem_184747);
        free(mem_184749);
        free(mem_184846);
        free(mem_184849);
        free(mem_184852);
        free(mem_184866);
        free(mem_184868);
        free(mem_184882);
        free(mem_184885);
        free(mem_184888);
        free(mem_185105);
        free(mem_185108);
        free(mem_185111);
        free(mem_185124);
        free(mem_185126);
        free(mem_185128);
        free(mem_185225);
        free(mem_185228);
        free(mem_185231);
        free(mem_185245);
        free(mem_185247);
        free(mem_185261);
        free(mem_185264);
        free(mem_185267);
        if (memblock_unref(ctx, &mem_param_tmp_185943, "mem_param_tmp_185943") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185942, "mem_param_tmp_185942") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185941, "mem_param_tmp_185941") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185379, "mem_185379") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185375, "mem_185375") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185371, "mem_185371") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185324, "mem_185324") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185320, "mem_185320") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185316, "mem_185316") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185330, "mem_185330") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185328, "mem_185328") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185326, "mem_185326") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185351, "ext_mem_185351") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185354, "ext_mem_185354") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185357, "ext_mem_185357") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_185223, "mem_param_185223") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_185220, "mem_param_185220") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_185217, "mem_param_185217") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185387, "ext_mem_185387") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185388, "ext_mem_185388") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185389, "ext_mem_185389") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185213, "mem_185213") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185209, "mem_185209") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185205, "mem_185205") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185392, "ext_mem_185392") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185395, "ext_mem_185395") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185398, "ext_mem_185398") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185103, "mem_185103") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185101, "mem_185101") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185099, "mem_185099") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185877, "mem_param_tmp_185877") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185876, "mem_param_tmp_185876") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185875, "mem_param_tmp_185875") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184637, "mem_184637") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184633, "mem_184633") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184629, "mem_184629") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184582, "mem_184582") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184578, "mem_184578") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184574, "mem_184574") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184588, "mem_184588") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184586, "mem_184586") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184584, "mem_184584") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184609, "ext_mem_184609") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184612, "ext_mem_184612") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184615, "ext_mem_184615") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184481, "mem_param_184481") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184478, "mem_param_184478") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184475, "mem_param_184475") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184645, "ext_mem_184645") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184646, "ext_mem_184646") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184647, "ext_mem_184647") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184471, "mem_184471") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184467, "mem_184467") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184463, "mem_184463") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184650, "ext_mem_184650") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184653, "ext_mem_184653") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184656, "ext_mem_184656") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184361, "mem_184361") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184359, "mem_184359") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184357, "mem_184357") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184341, "mem_184341") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184339, "mem_184339") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184337, "mem_184337") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185048, "mem_185048") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185047, "mem_185047") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185045, "mem_185045") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185783, "mem_param_tmp_185783") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185782, "mem_param_tmp_185782") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185781, "mem_param_tmp_185781") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_185000, "mem_185000") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184996, "mem_184996") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184992, "mem_184992") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184945, "mem_184945") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184941, "mem_184941") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184937, "mem_184937") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184951, "mem_184951") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184949, "mem_184949") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184947, "mem_184947") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184972, "ext_mem_184972") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184975, "ext_mem_184975") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184978, "ext_mem_184978") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184844, "mem_param_184844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184841, "mem_param_184841") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184838, "mem_param_184838") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185008, "ext_mem_185008") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185009, "ext_mem_185009") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185010, "ext_mem_185010") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184834, "mem_184834") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184830, "mem_184830") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184826, "mem_184826") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185013, "ext_mem_185013") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185016, "ext_mem_185016") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185019, "ext_mem_185019") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184724, "mem_184724") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184722, "mem_184722") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184720, "mem_184720") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185069, "ext_mem_185069") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185072, "ext_mem_185072") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_185075, "ext_mem_185075") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184311, "mem_184311") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184309, "mem_184309") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184307, "mem_184307") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185721, "mem_out_185721") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185720, "mem_out_185720") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeTups_double(struct futhark_context *ctx, struct memblock *mem_out_p_186313, struct memblock *mem_out_p_186314, struct memblock *mem_out_p_186315, struct memblock xs_mem_184305, struct memblock ys_mem_184306, int64_t w1_166588, int64_t w2_166589)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_184312;
    
    mem_184312.references = NULL;
    
    struct memblock mem_184310;
    
    mem_184310.references = NULL;
    
    struct memblock mem_184308;
    
    mem_184308.references = NULL;
    
    struct memblock mem_out_185721;
    
    mem_out_185721.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t bytes_184307 = (int64_t) 8 * w1_166588;
    
    if (memblock_alloc(ctx, &mem_184308, bytes_184307, "mem_184308")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184310, bytes_184307, "mem_184310")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184312, bytes_184307, "mem_184312")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_183975 = 0; i_183975 < w1_166588; i_183975++) {
        double eta_p_167979 = ((double *) xs_mem_184305.mem)[i_183975];
        int64_t defunc_0_reduce_comm_res_181817;
        double defunc_0_reduce_comm_res_181818;
        int64_t defunc_0_reduce_comm_res_181819;
        int64_t redout_183965;
        double redout_183966;
        int64_t redout_183967;
        
        redout_183965 = (int64_t) -1;
        redout_183966 = eta_p_167979;
        redout_183967 = (int64_t) 0;
        for (int64_t i_183968 = 0; i_183968 < w2_166589; i_183968++) {
            double x_167984 = ((double *) ys_mem_184306.mem)[i_183968];
            bool defunc_0_neq_res_167992 = redout_183966 == eta_p_167979;
            bool defunc_0_neq_res_167993 = !defunc_0_neq_res_167992;
            bool cond_f_res_167994 = slt64(redout_183965, (int64_t) 0);
            bool y_167995 = defunc_0_neq_res_167992 && cond_f_res_167994;
            bool cond_167996 = defunc_0_neq_res_167993 || y_167995;
            bool defunc_0_neq_res_167997 = x_167984 == eta_p_167979;
            bool defunc_0_neq_res_167998 = !defunc_0_neq_res_167997;
            bool cond_t_res_f_res_167999 = slt64(i_183968, (int64_t) 0);
            bool y_168000 = defunc_0_neq_res_167997 && cond_t_res_f_res_167999;
            bool cond_t_res_168001 = defunc_0_neq_res_167998 || y_168000;
            bool x_168002 = cond_167996 && cond_t_res_168001;
            int64_t defunc_0_op_res_168003;
            double defunc_0_op_res_168004;
            int64_t defunc_0_op_res_168005;
            
            if (x_168002) {
                defunc_0_op_res_168003 = (int64_t) -1;
                defunc_0_op_res_168004 = eta_p_167979;
                defunc_0_op_res_168005 = (int64_t) 0;
            } else {
                bool x_168006 = !cond_f_res_167994;
                bool y_168007 = defunc_0_neq_res_167993 && x_168006;
                bool cond_168008 = cond_f_res_167994 || y_168007;
                int64_t defunc_0_op_res_f_res_168009;
                double defunc_0_op_res_f_res_168010;
                int64_t defunc_0_op_res_f_res_168011;
                
                if (cond_168008) {
                    defunc_0_op_res_f_res_168009 = i_183968;
                    defunc_0_op_res_f_res_168010 = x_167984;
                    defunc_0_op_res_f_res_168011 = (int64_t) 1;
                } else {
                    bool x_168012 = !cond_t_res_f_res_167999;
                    bool y_168013 = defunc_0_neq_res_167998 && x_168012;
                    bool cond_168014 = cond_t_res_f_res_167999 || y_168013;
                    double defunc_0_op_res_f_res_f_res_168015;
                    
                    if (cond_168014) {
                        defunc_0_op_res_f_res_f_res_168015 = redout_183966;
                    } else {
                        defunc_0_op_res_f_res_f_res_168015 = eta_p_167979;
                    }
                    
                    int64_t defunc_0_op_res_f_res_f_res_168016;
                    int64_t defunc_0_op_res_f_res_f_res_168017;
                    
                    if (cond_168014) {
                        defunc_0_op_res_f_res_f_res_168016 = redout_183965;
                        defunc_0_op_res_f_res_f_res_168017 = redout_183967;
                    } else {
                        bool cond_168018 = slt64(redout_183965, i_183968);
                        bool x_168019 = !cond_168018;
                        bool y_168020 = cond_t_res_f_res_167999 && x_168019;
                        bool cond_168021 = cond_168018 || y_168020;
                        int64_t tmp_168022;
                        
                        if (cond_168021) {
                            tmp_168022 = redout_183965;
                        } else {
                            tmp_168022 = i_183968;
                        }
                        
                        int64_t tmp_168023 = add64((int64_t) 1, redout_183967);
                        
                        defunc_0_op_res_f_res_f_res_168016 = tmp_168022;
                        defunc_0_op_res_f_res_f_res_168017 = tmp_168023;
                    }
                    defunc_0_op_res_f_res_168009 = defunc_0_op_res_f_res_f_res_168016;
                    defunc_0_op_res_f_res_168010 = defunc_0_op_res_f_res_f_res_168015;
                    defunc_0_op_res_f_res_168011 = defunc_0_op_res_f_res_f_res_168017;
                }
                defunc_0_op_res_168003 = defunc_0_op_res_f_res_168009;
                defunc_0_op_res_168004 = defunc_0_op_res_f_res_168010;
                defunc_0_op_res_168005 = defunc_0_op_res_f_res_168011;
            }
            
            int64_t redout_tmp_185725 = defunc_0_op_res_168003;
            double redout_tmp_185726 = defunc_0_op_res_168004;
            int64_t redout_tmp_185727 = defunc_0_op_res_168005;
            
            redout_183965 = redout_tmp_185725;
            redout_183966 = redout_tmp_185726;
            redout_183967 = redout_tmp_185727;
        }
        defunc_0_reduce_comm_res_181817 = redout_183965;
        defunc_0_reduce_comm_res_181818 = redout_183966;
        defunc_0_reduce_comm_res_181819 = redout_183967;
        ((int64_t *) mem_184308.mem)[i_183975] = defunc_0_reduce_comm_res_181817;
        ((double *) mem_184310.mem)[i_183975] = defunc_0_reduce_comm_res_181818;
        ((int64_t *) mem_184312.mem)[i_183975] = defunc_0_reduce_comm_res_181819;
    }
    if (memblock_set(ctx, &mem_out_185719, &mem_184312, "mem_184312") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185720, &mem_184308, "mem_184308") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185721, &mem_184310, "mem_184310") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186313, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186314, &mem_out_185720, "mem_out_185720") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186315, &mem_out_185721, "mem_out_185721") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_184312, "mem_184312") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184310, "mem_184310") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185721, "mem_out_185721") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185720, "mem_out_185720") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeTups_float(struct futhark_context *ctx, struct memblock *mem_out_p_186316, struct memblock *mem_out_p_186317, struct memblock *mem_out_p_186318, struct memblock xs_mem_184305, struct memblock ys_mem_184306, int64_t w1_166089, int64_t w2_166090)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_184312;
    
    mem_184312.references = NULL;
    
    struct memblock mem_184310;
    
    mem_184310.references = NULL;
    
    struct memblock mem_184308;
    
    mem_184308.references = NULL;
    
    struct memblock mem_out_185721;
    
    mem_out_185721.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t bytes_184307 = (int64_t) 8 * w1_166089;
    int64_t bytes_184309 = (int64_t) 4 * w1_166089;
    
    if (memblock_alloc(ctx, &mem_184308, bytes_184307, "mem_184308")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184310, bytes_184309, "mem_184310")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184312, bytes_184307, "mem_184312")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_183975 = 0; i_183975 < w1_166089; i_183975++) {
        float eta_p_167979 = ((float *) xs_mem_184305.mem)[i_183975];
        int64_t defunc_0_reduce_comm_res_181817;
        float defunc_0_reduce_comm_res_181818;
        int64_t defunc_0_reduce_comm_res_181819;
        int64_t redout_183965;
        float redout_183966;
        int64_t redout_183967;
        
        redout_183965 = (int64_t) -1;
        redout_183966 = eta_p_167979;
        redout_183967 = (int64_t) 0;
        for (int64_t i_183968 = 0; i_183968 < w2_166090; i_183968++) {
            float x_167984 = ((float *) ys_mem_184306.mem)[i_183968];
            bool defunc_0_neq_res_167992 = redout_183966 == eta_p_167979;
            bool defunc_0_neq_res_167993 = !defunc_0_neq_res_167992;
            bool cond_f_res_167994 = slt64(redout_183965, (int64_t) 0);
            bool y_167995 = defunc_0_neq_res_167992 && cond_f_res_167994;
            bool cond_167996 = defunc_0_neq_res_167993 || y_167995;
            bool defunc_0_neq_res_167997 = x_167984 == eta_p_167979;
            bool defunc_0_neq_res_167998 = !defunc_0_neq_res_167997;
            bool cond_t_res_f_res_167999 = slt64(i_183968, (int64_t) 0);
            bool y_168000 = defunc_0_neq_res_167997 && cond_t_res_f_res_167999;
            bool cond_t_res_168001 = defunc_0_neq_res_167998 || y_168000;
            bool x_168002 = cond_167996 && cond_t_res_168001;
            int64_t defunc_0_op_res_168003;
            float defunc_0_op_res_168004;
            int64_t defunc_0_op_res_168005;
            
            if (x_168002) {
                defunc_0_op_res_168003 = (int64_t) -1;
                defunc_0_op_res_168004 = eta_p_167979;
                defunc_0_op_res_168005 = (int64_t) 0;
            } else {
                bool x_168006 = !cond_f_res_167994;
                bool y_168007 = defunc_0_neq_res_167993 && x_168006;
                bool cond_168008 = cond_f_res_167994 || y_168007;
                int64_t defunc_0_op_res_f_res_168009;
                float defunc_0_op_res_f_res_168010;
                int64_t defunc_0_op_res_f_res_168011;
                
                if (cond_168008) {
                    defunc_0_op_res_f_res_168009 = i_183968;
                    defunc_0_op_res_f_res_168010 = x_167984;
                    defunc_0_op_res_f_res_168011 = (int64_t) 1;
                } else {
                    bool x_168012 = !cond_t_res_f_res_167999;
                    bool y_168013 = defunc_0_neq_res_167998 && x_168012;
                    bool cond_168014 = cond_t_res_f_res_167999 || y_168013;
                    float defunc_0_op_res_f_res_f_res_168015;
                    
                    if (cond_168014) {
                        defunc_0_op_res_f_res_f_res_168015 = redout_183966;
                    } else {
                        defunc_0_op_res_f_res_f_res_168015 = eta_p_167979;
                    }
                    
                    int64_t defunc_0_op_res_f_res_f_res_168016;
                    int64_t defunc_0_op_res_f_res_f_res_168017;
                    
                    if (cond_168014) {
                        defunc_0_op_res_f_res_f_res_168016 = redout_183965;
                        defunc_0_op_res_f_res_f_res_168017 = redout_183967;
                    } else {
                        bool cond_168018 = slt64(redout_183965, i_183968);
                        bool x_168019 = !cond_168018;
                        bool y_168020 = cond_t_res_f_res_167999 && x_168019;
                        bool cond_168021 = cond_168018 || y_168020;
                        int64_t tmp_168022;
                        
                        if (cond_168021) {
                            tmp_168022 = redout_183965;
                        } else {
                            tmp_168022 = i_183968;
                        }
                        
                        int64_t tmp_168023 = add64((int64_t) 1, redout_183967);
                        
                        defunc_0_op_res_f_res_f_res_168016 = tmp_168022;
                        defunc_0_op_res_f_res_f_res_168017 = tmp_168023;
                    }
                    defunc_0_op_res_f_res_168009 = defunc_0_op_res_f_res_f_res_168016;
                    defunc_0_op_res_f_res_168010 = defunc_0_op_res_f_res_f_res_168015;
                    defunc_0_op_res_f_res_168011 = defunc_0_op_res_f_res_f_res_168017;
                }
                defunc_0_op_res_168003 = defunc_0_op_res_f_res_168009;
                defunc_0_op_res_168004 = defunc_0_op_res_f_res_168010;
                defunc_0_op_res_168005 = defunc_0_op_res_f_res_168011;
            }
            
            int64_t redout_tmp_185725 = defunc_0_op_res_168003;
            float redout_tmp_185726 = defunc_0_op_res_168004;
            int64_t redout_tmp_185727 = defunc_0_op_res_168005;
            
            redout_183965 = redout_tmp_185725;
            redout_183966 = redout_tmp_185726;
            redout_183967 = redout_tmp_185727;
        }
        defunc_0_reduce_comm_res_181817 = redout_183965;
        defunc_0_reduce_comm_res_181818 = redout_183966;
        defunc_0_reduce_comm_res_181819 = redout_183967;
        ((int64_t *) mem_184308.mem)[i_183975] = defunc_0_reduce_comm_res_181817;
        ((float *) mem_184310.mem)[i_183975] = defunc_0_reduce_comm_res_181818;
        ((int64_t *) mem_184312.mem)[i_183975] = defunc_0_reduce_comm_res_181819;
    }
    if (memblock_set(ctx, &mem_out_185719, &mem_184312, "mem_184312") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185720, &mem_184308, "mem_184308") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185721, &mem_184310, "mem_184310") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186316, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186317, &mem_out_185720, "mem_out_185720") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186318, &mem_out_185721, "mem_out_185721") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_184312, "mem_184312") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184310, "mem_184310") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185721, "mem_out_185721") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185720, "mem_out_185720") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeTups_int(struct futhark_context *ctx, struct memblock *mem_out_p_186319, struct memblock *mem_out_p_186320, struct memblock *mem_out_p_186321, struct memblock xs_mem_184305, struct memblock ys_mem_184306, int64_t w1_165111, int64_t w2_165112)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_184312;
    
    mem_184312.references = NULL;
    
    struct memblock mem_184310;
    
    mem_184310.references = NULL;
    
    struct memblock mem_184308;
    
    mem_184308.references = NULL;
    
    struct memblock mem_out_185721;
    
    mem_out_185721.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t bytes_184307 = (int64_t) 8 * w1_165111;
    int64_t bytes_184309 = (int64_t) 4 * w1_165111;
    
    if (memblock_alloc(ctx, &mem_184308, bytes_184307, "mem_184308")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184310, bytes_184309, "mem_184310")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184312, bytes_184307, "mem_184312")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_183975 = 0; i_183975 < w1_165111; i_183975++) {
        int32_t eta_p_167979 = ((int32_t *) xs_mem_184305.mem)[i_183975];
        int64_t defunc_0_reduce_comm_res_181817;
        int32_t defunc_0_reduce_comm_res_181818;
        int64_t defunc_0_reduce_comm_res_181819;
        int64_t redout_183965;
        int32_t redout_183966;
        int64_t redout_183967;
        
        redout_183965 = (int64_t) -1;
        redout_183966 = eta_p_167979;
        redout_183967 = (int64_t) 0;
        for (int64_t i_183968 = 0; i_183968 < w2_165112; i_183968++) {
            int32_t x_167984 = ((int32_t *) ys_mem_184306.mem)[i_183968];
            bool defunc_0_neq_res_167992 = redout_183966 == eta_p_167979;
            bool defunc_0_neq_res_167993 = !defunc_0_neq_res_167992;
            bool cond_f_res_167994 = slt64(redout_183965, (int64_t) 0);
            bool y_167995 = defunc_0_neq_res_167992 && cond_f_res_167994;
            bool cond_167996 = defunc_0_neq_res_167993 || y_167995;
            bool defunc_0_neq_res_167997 = x_167984 == eta_p_167979;
            bool defunc_0_neq_res_167998 = !defunc_0_neq_res_167997;
            bool cond_t_res_f_res_167999 = slt64(i_183968, (int64_t) 0);
            bool y_168000 = defunc_0_neq_res_167997 && cond_t_res_f_res_167999;
            bool cond_t_res_168001 = defunc_0_neq_res_167998 || y_168000;
            bool x_168002 = cond_167996 && cond_t_res_168001;
            int64_t defunc_0_op_res_168003;
            int32_t defunc_0_op_res_168004;
            int64_t defunc_0_op_res_168005;
            
            if (x_168002) {
                defunc_0_op_res_168003 = (int64_t) -1;
                defunc_0_op_res_168004 = eta_p_167979;
                defunc_0_op_res_168005 = (int64_t) 0;
            } else {
                bool x_168006 = !cond_f_res_167994;
                bool y_168007 = defunc_0_neq_res_167993 && x_168006;
                bool cond_168008 = cond_f_res_167994 || y_168007;
                int64_t defunc_0_op_res_f_res_168009;
                int32_t defunc_0_op_res_f_res_168010;
                int64_t defunc_0_op_res_f_res_168011;
                
                if (cond_168008) {
                    defunc_0_op_res_f_res_168009 = i_183968;
                    defunc_0_op_res_f_res_168010 = x_167984;
                    defunc_0_op_res_f_res_168011 = (int64_t) 1;
                } else {
                    bool x_168012 = !cond_t_res_f_res_167999;
                    bool y_168013 = defunc_0_neq_res_167998 && x_168012;
                    bool cond_168014 = cond_t_res_f_res_167999 || y_168013;
                    int32_t defunc_0_op_res_f_res_f_res_168015;
                    
                    if (cond_168014) {
                        defunc_0_op_res_f_res_f_res_168015 = redout_183966;
                    } else {
                        defunc_0_op_res_f_res_f_res_168015 = eta_p_167979;
                    }
                    
                    int64_t defunc_0_op_res_f_res_f_res_168016;
                    int64_t defunc_0_op_res_f_res_f_res_168017;
                    
                    if (cond_168014) {
                        defunc_0_op_res_f_res_f_res_168016 = redout_183965;
                        defunc_0_op_res_f_res_f_res_168017 = redout_183967;
                    } else {
                        bool cond_168018 = slt64(redout_183965, i_183968);
                        bool x_168019 = !cond_168018;
                        bool y_168020 = cond_t_res_f_res_167999 && x_168019;
                        bool cond_168021 = cond_168018 || y_168020;
                        int64_t tmp_168022;
                        
                        if (cond_168021) {
                            tmp_168022 = redout_183965;
                        } else {
                            tmp_168022 = i_183968;
                        }
                        
                        int64_t tmp_168023 = add64((int64_t) 1, redout_183967);
                        
                        defunc_0_op_res_f_res_f_res_168016 = tmp_168022;
                        defunc_0_op_res_f_res_f_res_168017 = tmp_168023;
                    }
                    defunc_0_op_res_f_res_168009 = defunc_0_op_res_f_res_f_res_168016;
                    defunc_0_op_res_f_res_168010 = defunc_0_op_res_f_res_f_res_168015;
                    defunc_0_op_res_f_res_168011 = defunc_0_op_res_f_res_f_res_168017;
                }
                defunc_0_op_res_168003 = defunc_0_op_res_f_res_168009;
                defunc_0_op_res_168004 = defunc_0_op_res_f_res_168010;
                defunc_0_op_res_168005 = defunc_0_op_res_f_res_168011;
            }
            
            int64_t redout_tmp_185725 = defunc_0_op_res_168003;
            int32_t redout_tmp_185726 = defunc_0_op_res_168004;
            int64_t redout_tmp_185727 = defunc_0_op_res_168005;
            
            redout_183965 = redout_tmp_185725;
            redout_183966 = redout_tmp_185726;
            redout_183967 = redout_tmp_185727;
        }
        defunc_0_reduce_comm_res_181817 = redout_183965;
        defunc_0_reduce_comm_res_181818 = redout_183966;
        defunc_0_reduce_comm_res_181819 = redout_183967;
        ((int64_t *) mem_184308.mem)[i_183975] = defunc_0_reduce_comm_res_181817;
        ((int32_t *) mem_184310.mem)[i_183975] = defunc_0_reduce_comm_res_181818;
        ((int64_t *) mem_184312.mem)[i_183975] = defunc_0_reduce_comm_res_181819;
    }
    if (memblock_set(ctx, &mem_out_185719, &mem_184312, "mem_184312") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185720, &mem_184308, "mem_184308") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185721, &mem_184310, "mem_184310") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186319, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186320, &mem_out_185720, "mem_out_185720") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186321, &mem_out_185721, "mem_out_185721") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_184312, "mem_184312") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184310, "mem_184310") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185721, "mem_out_185721") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185720, "mem_out_185720") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeTups_long(struct futhark_context *ctx, struct memblock *mem_out_p_186322, struct memblock *mem_out_p_186323, struct memblock *mem_out_p_186324, struct memblock xs_mem_184305, struct memblock ys_mem_184306, int64_t w1_165590, int64_t w2_165591)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_184312;
    
    mem_184312.references = NULL;
    
    struct memblock mem_184310;
    
    mem_184310.references = NULL;
    
    struct memblock mem_184308;
    
    mem_184308.references = NULL;
    
    struct memblock mem_out_185721;
    
    mem_out_185721.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t bytes_184307 = (int64_t) 8 * w1_165590;
    
    if (memblock_alloc(ctx, &mem_184308, bytes_184307, "mem_184308")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184310, bytes_184307, "mem_184310")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184312, bytes_184307, "mem_184312")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_183975 = 0; i_183975 < w1_165590; i_183975++) {
        int64_t eta_p_167979 = ((int64_t *) xs_mem_184305.mem)[i_183975];
        int64_t defunc_0_reduce_comm_res_181817;
        int64_t defunc_0_reduce_comm_res_181818;
        int64_t defunc_0_reduce_comm_res_181819;
        int64_t redout_183965;
        int64_t redout_183966;
        int64_t redout_183967;
        
        redout_183965 = (int64_t) -1;
        redout_183966 = eta_p_167979;
        redout_183967 = (int64_t) 0;
        for (int64_t i_183968 = 0; i_183968 < w2_165591; i_183968++) {
            int64_t x_167984 = ((int64_t *) ys_mem_184306.mem)[i_183968];
            bool defunc_0_neq_res_167992 = redout_183966 == eta_p_167979;
            bool defunc_0_neq_res_167993 = !defunc_0_neq_res_167992;
            bool cond_f_res_167994 = slt64(redout_183965, (int64_t) 0);
            bool y_167995 = defunc_0_neq_res_167992 && cond_f_res_167994;
            bool cond_167996 = defunc_0_neq_res_167993 || y_167995;
            bool defunc_0_neq_res_167997 = x_167984 == eta_p_167979;
            bool defunc_0_neq_res_167998 = !defunc_0_neq_res_167997;
            bool cond_t_res_f_res_167999 = slt64(i_183968, (int64_t) 0);
            bool y_168000 = defunc_0_neq_res_167997 && cond_t_res_f_res_167999;
            bool cond_t_res_168001 = defunc_0_neq_res_167998 || y_168000;
            bool x_168002 = cond_167996 && cond_t_res_168001;
            int64_t defunc_0_op_res_168003;
            int64_t defunc_0_op_res_168004;
            int64_t defunc_0_op_res_168005;
            
            if (x_168002) {
                defunc_0_op_res_168003 = (int64_t) -1;
                defunc_0_op_res_168004 = eta_p_167979;
                defunc_0_op_res_168005 = (int64_t) 0;
            } else {
                bool x_168006 = !cond_f_res_167994;
                bool y_168007 = defunc_0_neq_res_167993 && x_168006;
                bool cond_168008 = cond_f_res_167994 || y_168007;
                int64_t defunc_0_op_res_f_res_168009;
                int64_t defunc_0_op_res_f_res_168010;
                int64_t defunc_0_op_res_f_res_168011;
                
                if (cond_168008) {
                    defunc_0_op_res_f_res_168009 = i_183968;
                    defunc_0_op_res_f_res_168010 = x_167984;
                    defunc_0_op_res_f_res_168011 = (int64_t) 1;
                } else {
                    bool x_168012 = !cond_t_res_f_res_167999;
                    bool y_168013 = defunc_0_neq_res_167998 && x_168012;
                    bool cond_168014 = cond_t_res_f_res_167999 || y_168013;
                    int64_t defunc_0_op_res_f_res_f_res_168015;
                    
                    if (cond_168014) {
                        defunc_0_op_res_f_res_f_res_168015 = redout_183966;
                    } else {
                        defunc_0_op_res_f_res_f_res_168015 = eta_p_167979;
                    }
                    
                    int64_t defunc_0_op_res_f_res_f_res_168016;
                    int64_t defunc_0_op_res_f_res_f_res_168017;
                    
                    if (cond_168014) {
                        defunc_0_op_res_f_res_f_res_168016 = redout_183965;
                        defunc_0_op_res_f_res_f_res_168017 = redout_183967;
                    } else {
                        bool cond_168018 = slt64(redout_183965, i_183968);
                        bool x_168019 = !cond_168018;
                        bool y_168020 = cond_t_res_f_res_167999 && x_168019;
                        bool cond_168021 = cond_168018 || y_168020;
                        int64_t tmp_168022;
                        
                        if (cond_168021) {
                            tmp_168022 = redout_183965;
                        } else {
                            tmp_168022 = i_183968;
                        }
                        
                        int64_t tmp_168023 = add64((int64_t) 1, redout_183967);
                        
                        defunc_0_op_res_f_res_f_res_168016 = tmp_168022;
                        defunc_0_op_res_f_res_f_res_168017 = tmp_168023;
                    }
                    defunc_0_op_res_f_res_168009 = defunc_0_op_res_f_res_f_res_168016;
                    defunc_0_op_res_f_res_168010 = defunc_0_op_res_f_res_f_res_168015;
                    defunc_0_op_res_f_res_168011 = defunc_0_op_res_f_res_f_res_168017;
                }
                defunc_0_op_res_168003 = defunc_0_op_res_f_res_168009;
                defunc_0_op_res_168004 = defunc_0_op_res_f_res_168010;
                defunc_0_op_res_168005 = defunc_0_op_res_f_res_168011;
            }
            
            int64_t redout_tmp_185725 = defunc_0_op_res_168003;
            int64_t redout_tmp_185726 = defunc_0_op_res_168004;
            int64_t redout_tmp_185727 = defunc_0_op_res_168005;
            
            redout_183965 = redout_tmp_185725;
            redout_183966 = redout_tmp_185726;
            redout_183967 = redout_tmp_185727;
        }
        defunc_0_reduce_comm_res_181817 = redout_183965;
        defunc_0_reduce_comm_res_181818 = redout_183966;
        defunc_0_reduce_comm_res_181819 = redout_183967;
        ((int64_t *) mem_184308.mem)[i_183975] = defunc_0_reduce_comm_res_181817;
        ((int64_t *) mem_184310.mem)[i_183975] = defunc_0_reduce_comm_res_181818;
        ((int64_t *) mem_184312.mem)[i_183975] = defunc_0_reduce_comm_res_181819;
    }
    if (memblock_set(ctx, &mem_out_185719, &mem_184312, "mem_184312") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185720, &mem_184308, "mem_184308") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185721, &mem_184310, "mem_184310") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186322, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186323, &mem_out_185720, "mem_out_185720") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186324, &mem_out_185721, "mem_out_185721") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_184312, "mem_184312") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184310, "mem_184310") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185721, "mem_out_185721") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185720, "mem_out_185720") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeTups_short(struct futhark_context *ctx, struct memblock *mem_out_p_186325, struct memblock *mem_out_p_186326, struct memblock *mem_out_p_186327, struct memblock xs_mem_184305, struct memblock ys_mem_184306, int64_t w1_164612, int64_t w2_164613)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_184312;
    
    mem_184312.references = NULL;
    
    struct memblock mem_184310;
    
    mem_184310.references = NULL;
    
    struct memblock mem_184308;
    
    mem_184308.references = NULL;
    
    struct memblock mem_out_185721;
    
    mem_out_185721.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t bytes_184307 = (int64_t) 8 * w1_164612;
    int64_t bytes_184309 = (int64_t) 2 * w1_164612;
    
    if (memblock_alloc(ctx, &mem_184308, bytes_184307, "mem_184308")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184310, bytes_184309, "mem_184310")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184312, bytes_184307, "mem_184312")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_183975 = 0; i_183975 < w1_164612; i_183975++) {
        int16_t eta_p_167979 = ((int16_t *) xs_mem_184305.mem)[i_183975];
        int64_t defunc_0_reduce_comm_res_181817;
        int16_t defunc_0_reduce_comm_res_181818;
        int64_t defunc_0_reduce_comm_res_181819;
        int64_t redout_183965;
        int16_t redout_183966;
        int64_t redout_183967;
        
        redout_183965 = (int64_t) -1;
        redout_183966 = eta_p_167979;
        redout_183967 = (int64_t) 0;
        for (int64_t i_183968 = 0; i_183968 < w2_164613; i_183968++) {
            int16_t x_167984 = ((int16_t *) ys_mem_184306.mem)[i_183968];
            bool defunc_0_neq_res_167992 = redout_183966 == eta_p_167979;
            bool defunc_0_neq_res_167993 = !defunc_0_neq_res_167992;
            bool cond_f_res_167994 = slt64(redout_183965, (int64_t) 0);
            bool y_167995 = defunc_0_neq_res_167992 && cond_f_res_167994;
            bool cond_167996 = defunc_0_neq_res_167993 || y_167995;
            bool defunc_0_neq_res_167997 = x_167984 == eta_p_167979;
            bool defunc_0_neq_res_167998 = !defunc_0_neq_res_167997;
            bool cond_t_res_f_res_167999 = slt64(i_183968, (int64_t) 0);
            bool y_168000 = defunc_0_neq_res_167997 && cond_t_res_f_res_167999;
            bool cond_t_res_168001 = defunc_0_neq_res_167998 || y_168000;
            bool x_168002 = cond_167996 && cond_t_res_168001;
            int64_t defunc_0_op_res_168003;
            int16_t defunc_0_op_res_168004;
            int64_t defunc_0_op_res_168005;
            
            if (x_168002) {
                defunc_0_op_res_168003 = (int64_t) -1;
                defunc_0_op_res_168004 = eta_p_167979;
                defunc_0_op_res_168005 = (int64_t) 0;
            } else {
                bool x_168006 = !cond_f_res_167994;
                bool y_168007 = defunc_0_neq_res_167993 && x_168006;
                bool cond_168008 = cond_f_res_167994 || y_168007;
                int64_t defunc_0_op_res_f_res_168009;
                int16_t defunc_0_op_res_f_res_168010;
                int64_t defunc_0_op_res_f_res_168011;
                
                if (cond_168008) {
                    defunc_0_op_res_f_res_168009 = i_183968;
                    defunc_0_op_res_f_res_168010 = x_167984;
                    defunc_0_op_res_f_res_168011 = (int64_t) 1;
                } else {
                    bool x_168012 = !cond_t_res_f_res_167999;
                    bool y_168013 = defunc_0_neq_res_167998 && x_168012;
                    bool cond_168014 = cond_t_res_f_res_167999 || y_168013;
                    int16_t defunc_0_op_res_f_res_f_res_168015;
                    
                    if (cond_168014) {
                        defunc_0_op_res_f_res_f_res_168015 = redout_183966;
                    } else {
                        defunc_0_op_res_f_res_f_res_168015 = eta_p_167979;
                    }
                    
                    int64_t defunc_0_op_res_f_res_f_res_168016;
                    int64_t defunc_0_op_res_f_res_f_res_168017;
                    
                    if (cond_168014) {
                        defunc_0_op_res_f_res_f_res_168016 = redout_183965;
                        defunc_0_op_res_f_res_f_res_168017 = redout_183967;
                    } else {
                        bool cond_168018 = slt64(redout_183965, i_183968);
                        bool x_168019 = !cond_168018;
                        bool y_168020 = cond_t_res_f_res_167999 && x_168019;
                        bool cond_168021 = cond_168018 || y_168020;
                        int64_t tmp_168022;
                        
                        if (cond_168021) {
                            tmp_168022 = redout_183965;
                        } else {
                            tmp_168022 = i_183968;
                        }
                        
                        int64_t tmp_168023 = add64((int64_t) 1, redout_183967);
                        
                        defunc_0_op_res_f_res_f_res_168016 = tmp_168022;
                        defunc_0_op_res_f_res_f_res_168017 = tmp_168023;
                    }
                    defunc_0_op_res_f_res_168009 = defunc_0_op_res_f_res_f_res_168016;
                    defunc_0_op_res_f_res_168010 = defunc_0_op_res_f_res_f_res_168015;
                    defunc_0_op_res_f_res_168011 = defunc_0_op_res_f_res_f_res_168017;
                }
                defunc_0_op_res_168003 = defunc_0_op_res_f_res_168009;
                defunc_0_op_res_168004 = defunc_0_op_res_f_res_168010;
                defunc_0_op_res_168005 = defunc_0_op_res_f_res_168011;
            }
            
            int64_t redout_tmp_185725 = defunc_0_op_res_168003;
            int16_t redout_tmp_185726 = defunc_0_op_res_168004;
            int64_t redout_tmp_185727 = defunc_0_op_res_168005;
            
            redout_183965 = redout_tmp_185725;
            redout_183966 = redout_tmp_185726;
            redout_183967 = redout_tmp_185727;
        }
        defunc_0_reduce_comm_res_181817 = redout_183965;
        defunc_0_reduce_comm_res_181818 = redout_183966;
        defunc_0_reduce_comm_res_181819 = redout_183967;
        ((int64_t *) mem_184308.mem)[i_183975] = defunc_0_reduce_comm_res_181817;
        ((int16_t *) mem_184310.mem)[i_183975] = defunc_0_reduce_comm_res_181818;
        ((int64_t *) mem_184312.mem)[i_183975] = defunc_0_reduce_comm_res_181819;
    }
    if (memblock_set(ctx, &mem_out_185719, &mem_184312, "mem_184312") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185720, &mem_184308, "mem_184308") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185721, &mem_184310, "mem_184310") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186325, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186326, &mem_out_185720, "mem_out_185720") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186327, &mem_out_185721, "mem_out_185721") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_184312, "mem_184312") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184310, "mem_184310") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185721, "mem_out_185721") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185720, "mem_out_185720") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_double(struct futhark_context *ctx, struct memblock *mem_out_p_186328, struct memblock is_mem_184305, struct memblock ys_mem_184306, int64_t n_110870, int64_t incr_110871, int64_t block_sizze_110872)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_184344;
    
    mem_184344.references = NULL;
    
    struct memblock mem_param_tmp_185722;
    
    mem_param_tmp_185722.references = NULL;
    
    struct memblock mem_param_tmp_185721;
    
    mem_param_tmp_185721.references = NULL;
    
    struct memblock mem_184324;
    
    mem_184324.references = NULL;
    
    struct memblock mem_184322;
    
    mem_184322.references = NULL;
    
    struct memblock mem_param_184320;
    
    mem_param_184320.references = NULL;
    
    struct memblock mem_param_184317;
    
    mem_param_184317.references = NULL;
    
    struct memblock ext_mem_184341;
    
    ext_mem_184341.references = NULL;
    
    struct memblock ext_mem_184342;
    
    ext_mem_184342.references = NULL;
    
    struct memblock mem_184308;
    
    mem_184308.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t bytes_184307 = (int64_t) 8 * n_110870;
    
    if (memblock_alloc(ctx, &mem_184308, bytes_184307, "mem_184308")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_183967 = 0; i_183967 < n_110870; i_183967++) {
        int64_t eta_p_167831 = ((int64_t *) is_mem_184305.mem)[i_183967];
        int64_t lifted_lambda_res_167832 = sub64(eta_p_167831, incr_110871);
        
        ((int64_t *) mem_184308.mem)[i_183967] = lifted_lambda_res_167832;
    }
    
    bool loop_cond_167833 = slt64((int64_t) 0, n_110870);
    bool partitioned_gather_res_167834;
    int64_t partitioned_gather_res_167835;
    bool loop_while_167838;
    int64_t p_167839;
    
    if (memblock_set(ctx, &mem_param_184317, &mem_184308, "mem_184308") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_184320, &ys_mem_184306, "ys_mem_184306") != 0)
        return 1;
    loop_while_167838 = loop_cond_167833;
    p_167839 = (int64_t) 0;
    while (loop_while_167838) {
        int64_t min_arg0_167842 = add64(block_sizze_110872, p_167839);
        int64_t min_res_167843 = smin64(n_110870, min_arg0_167842);
        
        if (memblock_alloc(ctx, &mem_184322, bytes_184307, "mem_184322")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc(ctx, &mem_184324, bytes_184307, "mem_184324")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_183973 = 0; i_183973 < n_110870; i_183973++) {
            int64_t eta_p_167846 = ((int64_t *) mem_param_184317.mem)[i_183973];
            double eta_p_167847 = ((double *) mem_param_184320.mem)[i_183973];
            bool cond_167848 = sle64(p_167839, eta_p_167846);
            bool cond_t_res_167849 = slt64(eta_p_167846, min_res_167843);
            bool x_167850 = cond_167848 && cond_t_res_167849;
            int64_t lifted_lambda_res_167851;
            
            if (x_167850) {
                lifted_lambda_res_167851 = (int64_t) -1;
            } else {
                lifted_lambda_res_167851 = eta_p_167846;
            }
            
            double lifted_lambda_res_167852;
            
            if (x_167850) {
                bool x_181817 = sle64((int64_t) 0, eta_p_167846);
                bool y_181818 = slt64(eta_p_167846, n_110870);
                bool bounds_check_181819 = x_181817 && y_181818;
                bool index_certs_181820;
                
                if (!bounds_check_181819) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_167846, "] out of bounds for array of shape [", (long long) n_110870, "].", "-> #0  ftbasics.fut:58:23-29\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:54:14-60:12\n   #3  ftsort.fut:12:3-38\n   #4  ftsort.fut:63:1-65:44\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                double tmp_181821 = ((double *) ys_mem_184306.mem)[eta_p_167846];
                
                lifted_lambda_res_167852 = tmp_181821;
            } else {
                lifted_lambda_res_167852 = eta_p_167847;
            }
            ((int64_t *) mem_184322.mem)[i_183973] = lifted_lambda_res_167851;
            ((double *) mem_184324.mem)[i_183973] = lifted_lambda_res_167852;
        }
        
        bool loop_cond_167858 = slt64(min_res_167843, n_110870);
        
        if (memblock_set(ctx, &mem_param_tmp_185721, &mem_184322, "mem_184322") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_185722, &mem_184324, "mem_184324") != 0)
            return 1;
        
        bool loop_while_tmp_185723 = loop_cond_167858;
        int64_t p_tmp_185724 = min_res_167843;
        
        if (memblock_set(ctx, &mem_param_184317, &mem_param_tmp_185721, "mem_param_tmp_185721") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_184320, &mem_param_tmp_185722, "mem_param_tmp_185722") != 0)
            return 1;
        loop_while_167838 = loop_while_tmp_185723;
        p_167839 = p_tmp_185724;
    }
    if (memblock_set(ctx, &ext_mem_184342, &mem_param_184317, "mem_param_184317") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_184341, &mem_param_184320, "mem_param_184320") != 0)
        return 1;
    partitioned_gather_res_167834 = loop_while_167838;
    partitioned_gather_res_167835 = p_167839;
    if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_184344, bytes_184307, "mem_184344")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184344.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184341.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_110870});
    if (memblock_unref(ctx, &ext_mem_184341, "ext_mem_184341") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185719, &mem_184344, "mem_184344") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186328, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_184344, "mem_184344") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185722, "mem_param_tmp_185722") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185721, "mem_param_tmp_185721") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184324, "mem_184324") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184322, "mem_184322") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184320, "mem_param_184320") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184317, "mem_param_184317") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184341, "ext_mem_184341") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184342, "ext_mem_184342") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_float(struct futhark_context *ctx, struct memblock *mem_out_p_186329, struct memblock is_mem_184305, struct memblock ys_mem_184306, int64_t n_110653, int64_t incr_110654, int64_t block_sizze_110655)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_184344;
    
    mem_184344.references = NULL;
    
    struct memblock mem_param_tmp_185722;
    
    mem_param_tmp_185722.references = NULL;
    
    struct memblock mem_param_tmp_185721;
    
    mem_param_tmp_185721.references = NULL;
    
    struct memblock mem_184324;
    
    mem_184324.references = NULL;
    
    struct memblock mem_184322;
    
    mem_184322.references = NULL;
    
    struct memblock mem_param_184320;
    
    mem_param_184320.references = NULL;
    
    struct memblock mem_param_184317;
    
    mem_param_184317.references = NULL;
    
    struct memblock ext_mem_184341;
    
    ext_mem_184341.references = NULL;
    
    struct memblock ext_mem_184342;
    
    ext_mem_184342.references = NULL;
    
    struct memblock mem_184308;
    
    mem_184308.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t bytes_184307 = (int64_t) 8 * n_110653;
    int64_t bytes_184343 = (int64_t) 4 * n_110653;
    
    if (memblock_alloc(ctx, &mem_184308, bytes_184307, "mem_184308")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_183967 = 0; i_183967 < n_110653; i_183967++) {
        int64_t eta_p_167831 = ((int64_t *) is_mem_184305.mem)[i_183967];
        int64_t lifted_lambda_res_167832 = sub64(eta_p_167831, incr_110654);
        
        ((int64_t *) mem_184308.mem)[i_183967] = lifted_lambda_res_167832;
    }
    
    bool loop_cond_167833 = slt64((int64_t) 0, n_110653);
    bool partitioned_gather_res_167834;
    int64_t partitioned_gather_res_167835;
    bool loop_while_167838;
    int64_t p_167839;
    
    if (memblock_set(ctx, &mem_param_184317, &mem_184308, "mem_184308") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_184320, &ys_mem_184306, "ys_mem_184306") != 0)
        return 1;
    loop_while_167838 = loop_cond_167833;
    p_167839 = (int64_t) 0;
    while (loop_while_167838) {
        int64_t min_arg0_167842 = add64(block_sizze_110655, p_167839);
        int64_t min_res_167843 = smin64(n_110653, min_arg0_167842);
        
        if (memblock_alloc(ctx, &mem_184322, bytes_184307, "mem_184322")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc(ctx, &mem_184324, bytes_184343, "mem_184324")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_183973 = 0; i_183973 < n_110653; i_183973++) {
            int64_t eta_p_167846 = ((int64_t *) mem_param_184317.mem)[i_183973];
            float eta_p_167847 = ((float *) mem_param_184320.mem)[i_183973];
            bool cond_167848 = sle64(p_167839, eta_p_167846);
            bool cond_t_res_167849 = slt64(eta_p_167846, min_res_167843);
            bool x_167850 = cond_167848 && cond_t_res_167849;
            int64_t lifted_lambda_res_167851;
            
            if (x_167850) {
                lifted_lambda_res_167851 = (int64_t) -1;
            } else {
                lifted_lambda_res_167851 = eta_p_167846;
            }
            
            float lifted_lambda_res_167852;
            
            if (x_167850) {
                bool x_181817 = sle64((int64_t) 0, eta_p_167846);
                bool y_181818 = slt64(eta_p_167846, n_110653);
                bool bounds_check_181819 = x_181817 && y_181818;
                bool index_certs_181820;
                
                if (!bounds_check_181819) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_167846, "] out of bounds for array of shape [", (long long) n_110653, "].", "-> #0  ftbasics.fut:58:23-29\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:54:14-60:12\n   #3  ftsort.fut:12:3-38\n   #4  ftsort.fut:59:1-61:44\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float tmp_181821 = ((float *) ys_mem_184306.mem)[eta_p_167846];
                
                lifted_lambda_res_167852 = tmp_181821;
            } else {
                lifted_lambda_res_167852 = eta_p_167847;
            }
            ((int64_t *) mem_184322.mem)[i_183973] = lifted_lambda_res_167851;
            ((float *) mem_184324.mem)[i_183973] = lifted_lambda_res_167852;
        }
        
        bool loop_cond_167858 = slt64(min_res_167843, n_110653);
        
        if (memblock_set(ctx, &mem_param_tmp_185721, &mem_184322, "mem_184322") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_185722, &mem_184324, "mem_184324") != 0)
            return 1;
        
        bool loop_while_tmp_185723 = loop_cond_167858;
        int64_t p_tmp_185724 = min_res_167843;
        
        if (memblock_set(ctx, &mem_param_184317, &mem_param_tmp_185721, "mem_param_tmp_185721") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_184320, &mem_param_tmp_185722, "mem_param_tmp_185722") != 0)
            return 1;
        loop_while_167838 = loop_while_tmp_185723;
        p_167839 = p_tmp_185724;
    }
    if (memblock_set(ctx, &ext_mem_184342, &mem_param_184317, "mem_param_184317") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_184341, &mem_param_184320, "mem_param_184320") != 0)
        return 1;
    partitioned_gather_res_167834 = loop_while_167838;
    partitioned_gather_res_167835 = p_167839;
    if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_184344, bytes_184343, "mem_184344")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_184344.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_184341.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_110653});
    if (memblock_unref(ctx, &ext_mem_184341, "ext_mem_184341") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185719, &mem_184344, "mem_184344") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186329, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_184344, "mem_184344") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185722, "mem_param_tmp_185722") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185721, "mem_param_tmp_185721") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184324, "mem_184324") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184322, "mem_184322") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184320, "mem_param_184320") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184317, "mem_param_184317") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184341, "ext_mem_184341") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184342, "ext_mem_184342") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_int(struct futhark_context *ctx, struct memblock *mem_out_p_186330, struct memblock is_mem_184305, struct memblock ys_mem_184306, int64_t n_110232, int64_t incr_110233, int64_t block_sizze_110234)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_184344;
    
    mem_184344.references = NULL;
    
    struct memblock mem_param_tmp_185722;
    
    mem_param_tmp_185722.references = NULL;
    
    struct memblock mem_param_tmp_185721;
    
    mem_param_tmp_185721.references = NULL;
    
    struct memblock mem_184324;
    
    mem_184324.references = NULL;
    
    struct memblock mem_184322;
    
    mem_184322.references = NULL;
    
    struct memblock mem_param_184320;
    
    mem_param_184320.references = NULL;
    
    struct memblock mem_param_184317;
    
    mem_param_184317.references = NULL;
    
    struct memblock ext_mem_184341;
    
    ext_mem_184341.references = NULL;
    
    struct memblock ext_mem_184342;
    
    ext_mem_184342.references = NULL;
    
    struct memblock mem_184308;
    
    mem_184308.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t bytes_184307 = (int64_t) 8 * n_110232;
    int64_t bytes_184343 = (int64_t) 4 * n_110232;
    
    if (memblock_alloc(ctx, &mem_184308, bytes_184307, "mem_184308")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_183967 = 0; i_183967 < n_110232; i_183967++) {
        int64_t eta_p_167831 = ((int64_t *) is_mem_184305.mem)[i_183967];
        int64_t lifted_lambda_res_167832 = sub64(eta_p_167831, incr_110233);
        
        ((int64_t *) mem_184308.mem)[i_183967] = lifted_lambda_res_167832;
    }
    
    bool loop_cond_167833 = slt64((int64_t) 0, n_110232);
    bool partitioned_gather_res_167834;
    int64_t partitioned_gather_res_167835;
    bool loop_while_167838;
    int64_t p_167839;
    
    if (memblock_set(ctx, &mem_param_184317, &mem_184308, "mem_184308") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_184320, &ys_mem_184306, "ys_mem_184306") != 0)
        return 1;
    loop_while_167838 = loop_cond_167833;
    p_167839 = (int64_t) 0;
    while (loop_while_167838) {
        int64_t min_arg0_167842 = add64(block_sizze_110234, p_167839);
        int64_t min_res_167843 = smin64(n_110232, min_arg0_167842);
        
        if (memblock_alloc(ctx, &mem_184322, bytes_184307, "mem_184322")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc(ctx, &mem_184324, bytes_184343, "mem_184324")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_183973 = 0; i_183973 < n_110232; i_183973++) {
            int64_t eta_p_167846 = ((int64_t *) mem_param_184317.mem)[i_183973];
            int32_t eta_p_167847 = ((int32_t *) mem_param_184320.mem)[i_183973];
            bool cond_167848 = sle64(p_167839, eta_p_167846);
            bool cond_t_res_167849 = slt64(eta_p_167846, min_res_167843);
            bool x_167850 = cond_167848 && cond_t_res_167849;
            int64_t lifted_lambda_res_167851;
            
            if (x_167850) {
                lifted_lambda_res_167851 = (int64_t) -1;
            } else {
                lifted_lambda_res_167851 = eta_p_167846;
            }
            
            int32_t lifted_lambda_res_167852;
            
            if (x_167850) {
                bool x_181817 = sle64((int64_t) 0, eta_p_167846);
                bool y_181818 = slt64(eta_p_167846, n_110232);
                bool bounds_check_181819 = x_181817 && y_181818;
                bool index_certs_181820;
                
                if (!bounds_check_181819) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_167846, "] out of bounds for array of shape [", (long long) n_110232, "].", "-> #0  ftbasics.fut:58:23-29\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:54:14-60:12\n   #3  ftsort.fut:12:3-38\n   #4  ftsort.fut:51:1-53:44\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int32_t tmp_181821 = ((int32_t *) ys_mem_184306.mem)[eta_p_167846];
                
                lifted_lambda_res_167852 = tmp_181821;
            } else {
                lifted_lambda_res_167852 = eta_p_167847;
            }
            ((int64_t *) mem_184322.mem)[i_183973] = lifted_lambda_res_167851;
            ((int32_t *) mem_184324.mem)[i_183973] = lifted_lambda_res_167852;
        }
        
        bool loop_cond_167858 = slt64(min_res_167843, n_110232);
        
        if (memblock_set(ctx, &mem_param_tmp_185721, &mem_184322, "mem_184322") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_185722, &mem_184324, "mem_184324") != 0)
            return 1;
        
        bool loop_while_tmp_185723 = loop_cond_167858;
        int64_t p_tmp_185724 = min_res_167843;
        
        if (memblock_set(ctx, &mem_param_184317, &mem_param_tmp_185721, "mem_param_tmp_185721") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_184320, &mem_param_tmp_185722, "mem_param_tmp_185722") != 0)
            return 1;
        loop_while_167838 = loop_while_tmp_185723;
        p_167839 = p_tmp_185724;
    }
    if (memblock_set(ctx, &ext_mem_184342, &mem_param_184317, "mem_param_184317") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_184341, &mem_param_184320, "mem_param_184320") != 0)
        return 1;
    partitioned_gather_res_167834 = loop_while_167838;
    partitioned_gather_res_167835 = p_167839;
    if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_184344, bytes_184343, "mem_184344")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_184344.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_184341.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_110232});
    if (memblock_unref(ctx, &ext_mem_184341, "ext_mem_184341") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185719, &mem_184344, "mem_184344") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186330, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_184344, "mem_184344") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185722, "mem_param_tmp_185722") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185721, "mem_param_tmp_185721") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184324, "mem_184324") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184322, "mem_184322") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184320, "mem_param_184320") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184317, "mem_param_184317") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184341, "ext_mem_184341") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184342, "ext_mem_184342") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_long(struct futhark_context *ctx, struct memblock *mem_out_p_186331, struct memblock is_mem_184305, struct memblock ys_mem_184306, int64_t n_110436, int64_t incr_110437, int64_t block_sizze_110438)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_184344;
    
    mem_184344.references = NULL;
    
    struct memblock mem_param_tmp_185722;
    
    mem_param_tmp_185722.references = NULL;
    
    struct memblock mem_param_tmp_185721;
    
    mem_param_tmp_185721.references = NULL;
    
    struct memblock mem_184324;
    
    mem_184324.references = NULL;
    
    struct memblock mem_184322;
    
    mem_184322.references = NULL;
    
    struct memblock mem_param_184320;
    
    mem_param_184320.references = NULL;
    
    struct memblock mem_param_184317;
    
    mem_param_184317.references = NULL;
    
    struct memblock ext_mem_184341;
    
    ext_mem_184341.references = NULL;
    
    struct memblock ext_mem_184342;
    
    ext_mem_184342.references = NULL;
    
    struct memblock mem_184308;
    
    mem_184308.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t bytes_184307 = (int64_t) 8 * n_110436;
    
    if (memblock_alloc(ctx, &mem_184308, bytes_184307, "mem_184308")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_183967 = 0; i_183967 < n_110436; i_183967++) {
        int64_t eta_p_167831 = ((int64_t *) is_mem_184305.mem)[i_183967];
        int64_t lifted_lambda_res_167832 = sub64(eta_p_167831, incr_110437);
        
        ((int64_t *) mem_184308.mem)[i_183967] = lifted_lambda_res_167832;
    }
    
    bool loop_cond_167833 = slt64((int64_t) 0, n_110436);
    bool partitioned_gather_res_167834;
    int64_t partitioned_gather_res_167835;
    bool loop_while_167838;
    int64_t p_167839;
    
    if (memblock_set(ctx, &mem_param_184317, &mem_184308, "mem_184308") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_184320, &ys_mem_184306, "ys_mem_184306") != 0)
        return 1;
    loop_while_167838 = loop_cond_167833;
    p_167839 = (int64_t) 0;
    while (loop_while_167838) {
        int64_t min_arg0_167842 = add64(block_sizze_110438, p_167839);
        int64_t min_res_167843 = smin64(n_110436, min_arg0_167842);
        
        if (memblock_alloc(ctx, &mem_184322, bytes_184307, "mem_184322")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc(ctx, &mem_184324, bytes_184307, "mem_184324")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_183973 = 0; i_183973 < n_110436; i_183973++) {
            int64_t eta_p_167846 = ((int64_t *) mem_param_184317.mem)[i_183973];
            int64_t eta_p_167847 = ((int64_t *) mem_param_184320.mem)[i_183973];
            bool cond_167848 = sle64(p_167839, eta_p_167846);
            bool cond_t_res_167849 = slt64(eta_p_167846, min_res_167843);
            bool x_167850 = cond_167848 && cond_t_res_167849;
            int64_t lifted_lambda_res_167851;
            
            if (x_167850) {
                lifted_lambda_res_167851 = (int64_t) -1;
            } else {
                lifted_lambda_res_167851 = eta_p_167846;
            }
            
            int64_t lifted_lambda_res_167852;
            
            if (x_167850) {
                bool x_181817 = sle64((int64_t) 0, eta_p_167846);
                bool y_181818 = slt64(eta_p_167846, n_110436);
                bool bounds_check_181819 = x_181817 && y_181818;
                bool index_certs_181820;
                
                if (!bounds_check_181819) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_167846, "] out of bounds for array of shape [", (long long) n_110436, "].", "-> #0  ftbasics.fut:58:23-29\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:54:14-60:12\n   #3  ftsort.fut:12:3-38\n   #4  ftsort.fut:55:1-57:44\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t tmp_181821 = ((int64_t *) ys_mem_184306.mem)[eta_p_167846];
                
                lifted_lambda_res_167852 = tmp_181821;
            } else {
                lifted_lambda_res_167852 = eta_p_167847;
            }
            ((int64_t *) mem_184322.mem)[i_183973] = lifted_lambda_res_167851;
            ((int64_t *) mem_184324.mem)[i_183973] = lifted_lambda_res_167852;
        }
        
        bool loop_cond_167858 = slt64(min_res_167843, n_110436);
        
        if (memblock_set(ctx, &mem_param_tmp_185721, &mem_184322, "mem_184322") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_185722, &mem_184324, "mem_184324") != 0)
            return 1;
        
        bool loop_while_tmp_185723 = loop_cond_167858;
        int64_t p_tmp_185724 = min_res_167843;
        
        if (memblock_set(ctx, &mem_param_184317, &mem_param_tmp_185721, "mem_param_tmp_185721") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_184320, &mem_param_tmp_185722, "mem_param_tmp_185722") != 0)
            return 1;
        loop_while_167838 = loop_while_tmp_185723;
        p_167839 = p_tmp_185724;
    }
    if (memblock_set(ctx, &ext_mem_184342, &mem_param_184317, "mem_param_184317") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_184341, &mem_param_184320, "mem_param_184320") != 0)
        return 1;
    partitioned_gather_res_167834 = loop_while_167838;
    partitioned_gather_res_167835 = p_167839;
    if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_184344, bytes_184307, "mem_184344")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184344.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_184341.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_110436});
    if (memblock_unref(ctx, &ext_mem_184341, "ext_mem_184341") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185719, &mem_184344, "mem_184344") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186331, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_184344, "mem_184344") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185722, "mem_param_tmp_185722") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185721, "mem_param_tmp_185721") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184324, "mem_184324") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184322, "mem_184322") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184320, "mem_param_184320") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184317, "mem_param_184317") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184341, "ext_mem_184341") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184342, "ext_mem_184342") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_short(struct futhark_context *ctx, struct memblock *mem_out_p_186332, struct memblock is_mem_184305, struct memblock ys_mem_184306, int64_t n_110015, int64_t incr_110016, int64_t block_sizze_110017)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_184344;
    
    mem_184344.references = NULL;
    
    struct memblock mem_param_tmp_185722;
    
    mem_param_tmp_185722.references = NULL;
    
    struct memblock mem_param_tmp_185721;
    
    mem_param_tmp_185721.references = NULL;
    
    struct memblock mem_184324;
    
    mem_184324.references = NULL;
    
    struct memblock mem_184322;
    
    mem_184322.references = NULL;
    
    struct memblock mem_param_184320;
    
    mem_param_184320.references = NULL;
    
    struct memblock mem_param_184317;
    
    mem_param_184317.references = NULL;
    
    struct memblock ext_mem_184341;
    
    ext_mem_184341.references = NULL;
    
    struct memblock ext_mem_184342;
    
    ext_mem_184342.references = NULL;
    
    struct memblock mem_184308;
    
    mem_184308.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t bytes_184307 = (int64_t) 8 * n_110015;
    int64_t bytes_184343 = (int64_t) 2 * n_110015;
    
    if (memblock_alloc(ctx, &mem_184308, bytes_184307, "mem_184308")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_183967 = 0; i_183967 < n_110015; i_183967++) {
        int64_t eta_p_167831 = ((int64_t *) is_mem_184305.mem)[i_183967];
        int64_t lifted_lambda_res_167832 = sub64(eta_p_167831, incr_110016);
        
        ((int64_t *) mem_184308.mem)[i_183967] = lifted_lambda_res_167832;
    }
    
    bool loop_cond_167833 = slt64((int64_t) 0, n_110015);
    bool partitioned_gather_res_167834;
    int64_t partitioned_gather_res_167835;
    bool loop_while_167838;
    int64_t p_167839;
    
    if (memblock_set(ctx, &mem_param_184317, &mem_184308, "mem_184308") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_184320, &ys_mem_184306, "ys_mem_184306") != 0)
        return 1;
    loop_while_167838 = loop_cond_167833;
    p_167839 = (int64_t) 0;
    while (loop_while_167838) {
        int64_t min_arg0_167842 = add64(block_sizze_110017, p_167839);
        int64_t min_res_167843 = smin64(n_110015, min_arg0_167842);
        
        if (memblock_alloc(ctx, &mem_184322, bytes_184307, "mem_184322")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc(ctx, &mem_184324, bytes_184343, "mem_184324")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_183973 = 0; i_183973 < n_110015; i_183973++) {
            int64_t eta_p_167846 = ((int64_t *) mem_param_184317.mem)[i_183973];
            int16_t eta_p_167847 = ((int16_t *) mem_param_184320.mem)[i_183973];
            bool cond_167848 = sle64(p_167839, eta_p_167846);
            bool cond_t_res_167849 = slt64(eta_p_167846, min_res_167843);
            bool x_167850 = cond_167848 && cond_t_res_167849;
            int64_t lifted_lambda_res_167851;
            
            if (x_167850) {
                lifted_lambda_res_167851 = (int64_t) -1;
            } else {
                lifted_lambda_res_167851 = eta_p_167846;
            }
            
            int16_t lifted_lambda_res_167852;
            
            if (x_167850) {
                bool x_181817 = sle64((int64_t) 0, eta_p_167846);
                bool y_181818 = slt64(eta_p_167846, n_110015);
                bool bounds_check_181819 = x_181817 && y_181818;
                bool index_certs_181820;
                
                if (!bounds_check_181819) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_167846, "] out of bounds for array of shape [", (long long) n_110015, "].", "-> #0  ftbasics.fut:58:23-29\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:54:14-60:12\n   #3  ftsort.fut:12:3-38\n   #4  ftsort.fut:47:1-49:44\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int16_t tmp_181821 = ((int16_t *) ys_mem_184306.mem)[eta_p_167846];
                
                lifted_lambda_res_167852 = tmp_181821;
            } else {
                lifted_lambda_res_167852 = eta_p_167847;
            }
            ((int64_t *) mem_184322.mem)[i_183973] = lifted_lambda_res_167851;
            ((int16_t *) mem_184324.mem)[i_183973] = lifted_lambda_res_167852;
        }
        
        bool loop_cond_167858 = slt64(min_res_167843, n_110015);
        
        if (memblock_set(ctx, &mem_param_tmp_185721, &mem_184322, "mem_184322") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_185722, &mem_184324, "mem_184324") != 0)
            return 1;
        
        bool loop_while_tmp_185723 = loop_cond_167858;
        int64_t p_tmp_185724 = min_res_167843;
        
        if (memblock_set(ctx, &mem_param_184317, &mem_param_tmp_185721, "mem_param_tmp_185721") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_184320, &mem_param_tmp_185722, "mem_param_tmp_185722") != 0)
            return 1;
        loop_while_167838 = loop_while_tmp_185723;
        p_167839 = p_tmp_185724;
    }
    if (memblock_set(ctx, &ext_mem_184342, &mem_param_184317, "mem_param_184317") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_184341, &mem_param_184320, "mem_param_184320") != 0)
        return 1;
    partitioned_gather_res_167834 = loop_while_167838;
    partitioned_gather_res_167835 = p_167839;
    if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_184344, bytes_184343, "mem_184344")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_184344.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_184341.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_110015});
    if (memblock_unref(ctx, &ext_mem_184341, "ext_mem_184341") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185719, &mem_184344, "mem_184344") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186332, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_184344, "mem_184344") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185722, "mem_param_tmp_185722") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_185721, "mem_param_tmp_185721") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184324, "mem_184324") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184322, "mem_184322") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184320, "mem_param_184320") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_184317, "mem_param_184317") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184341, "ext_mem_184341") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184342, "ext_mem_184342") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184308, "mem_184308") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_186333, struct memblock *mem_out_p_186334, struct memblock xs_mem_184305, int64_t n_97956, int64_t incr_97957, int16_t block_sizze_97958)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_184308_cached_sizze_186335 = 0;
    unsigned char *mem_184308 = NULL;
    int64_t mem_184310_cached_sizze_186336 = 0;
    unsigned char *mem_184310 = NULL;
    int64_t mem_184318_cached_sizze_186337 = 0;
    unsigned char *mem_184318 = NULL;
    int64_t mem_184320_cached_sizze_186338 = 0;
    unsigned char *mem_184320 = NULL;
    int64_t mem_184322_cached_sizze_186339 = 0;
    unsigned char *mem_184322 = NULL;
    int64_t mem_184324_cached_sizze_186340 = 0;
    unsigned char *mem_184324 = NULL;
    int64_t mem_184326_cached_sizze_186341 = 0;
    unsigned char *mem_184326 = NULL;
    int64_t mem_184358_cached_sizze_186342 = 0;
    unsigned char *mem_184358 = NULL;
    int64_t mem_184360_cached_sizze_186343 = 0;
    unsigned char *mem_184360 = NULL;
    int64_t mem_184373_cached_sizze_186344 = 0;
    unsigned char *mem_184373 = NULL;
    int64_t mem_184374_cached_sizze_186345 = 0;
    unsigned char *mem_184374 = NULL;
    int64_t mem_184381_cached_sizze_186346 = 0;
    unsigned char *mem_184381 = NULL;
    int64_t mem_184384_cached_sizze_186347 = 0;
    unsigned char *mem_184384 = NULL;
    int64_t mem_184387_cached_sizze_186348 = 0;
    unsigned char *mem_184387 = NULL;
    int64_t mem_184390_cached_sizze_186349 = 0;
    unsigned char *mem_184390 = NULL;
    int64_t mem_184393_cached_sizze_186350 = 0;
    unsigned char *mem_184393 = NULL;
    int64_t mem_184415_cached_sizze_186351 = 0;
    unsigned char *mem_184415 = NULL;
    int64_t mem_184417_cached_sizze_186352 = 0;
    unsigned char *mem_184417 = NULL;
    int64_t mem_184419_cached_sizze_186353 = 0;
    unsigned char *mem_184419 = NULL;
    int64_t mem_184421_cached_sizze_186354 = 0;
    unsigned char *mem_184421 = NULL;
    int64_t mem_184423_cached_sizze_186355 = 0;
    unsigned char *mem_184423 = NULL;
    int64_t mem_184466_cached_sizze_186356 = 0;
    unsigned char *mem_184466 = NULL;
    int64_t mem_184467_cached_sizze_186357 = 0;
    unsigned char *mem_184467 = NULL;
    int64_t mem_184492_cached_sizze_186358 = 0;
    unsigned char *mem_184492 = NULL;
    int64_t mem_184500_cached_sizze_186359 = 0;
    unsigned char *mem_184500 = NULL;
    struct memblock mem_184528;
    
    mem_184528.references = NULL;
    
    struct memblock mem_184526;
    
    mem_184526.references = NULL;
    
    struct memblock ext_mem_184306;
    
    ext_mem_184306.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    bool cond_175057 = n_97956 == (int64_t) 0;
    int32_t iters_175058;
    
    if (cond_175057) {
        iters_175058 = 0;
    } else {
        iters_175058 = 32;
    }
    
    int64_t i16_res_175059 = sext_i16_i64(block_sizze_97958);
    bool zzero_175060 = i16_res_175059 == (int64_t) 0;
    bool nonzzero_175061 = !zzero_175060;
    bool nonzzero_cert_175062;
    
    if (!nonzzero_175061) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:199:95-98\n   #5  ftsort.fut:28:3-47\n   #6  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_175063 = sdiv64(n_97956, i16_res_175059);
    int64_t rest_175064 = smod64(n_97956, i16_res_175059);
    int64_t arg_175065 = mul64(i16_res_175059, n_blocks_175063);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066 = add64(rest_175064, arg_175065);
    bool dim_match_175067 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066 == n_97956;
    bool empty_or_match_cert_175068;
    
    if (!dim_match_175067) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_97956, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066, "](f64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #5  ftbasics.fut:199:95-98\n   #6  ftsort.fut:28:3-47\n   #7  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184307 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066;
    bool loop_nonempty_175072 = slt32(0, iters_175058);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_175073 = add64((int64_t) 1, n_blocks_175063);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_175074 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_175073);
    bool empty_slice_175075 = arg_175065 == (int64_t) 0;
    int64_t m_175076 = sub64(arg_175065, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_175077 = sle64((int64_t) 0, m_175076);
    bool i_p_m_t_s_leq_w_175078 = slt64(m_175076, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066);
    bool i_lte_j_175079 = sle64((int64_t) 0, arg_175065);
    bool y_175080 = zzero_leq_i_p_m_t_s_175077 && i_p_m_t_s_leq_w_175078;
    bool forwards_ok_175081 = i_lte_j_175079 && y_175080;
    bool ok_or_empty_175082 = empty_slice_175075 || forwards_ok_175081;
    bool loop_not_taken_175083 = !loop_nonempty_175072;
    bool protect_assert_disj_175084 = ok_or_empty_175082 || loop_not_taken_175083;
    bool index_certs_175085;
    
    if (!protect_assert_disj_175084) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_175065, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:199:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_175086 = rest_175064 == (int64_t) 0;
    int64_t m_175087 = sub64(rest_175064, (int64_t) 1);
    int64_t i_p_m_t_s_175088 = add64(arg_175065, m_175087);
    bool zzero_leq_i_p_m_t_s_175089 = sle64((int64_t) 0, i_p_m_t_s_175088);
    bool i_p_m_t_s_leq_w_175090 = slt64(i_p_m_t_s_175088, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066);
    bool i_lte_j_175091 = sle64(arg_175065, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066);
    bool y_175092 = zzero_leq_i_p_m_t_s_175089 && i_p_m_t_s_leq_w_175090;
    bool forwards_ok_175093 = i_lte_j_175091 && y_175092;
    bool ok_or_empty_175094 = empty_slice_175086 || forwards_ok_175093;
    bool protect_assert_disj_175095 = loop_not_taken_175083 || ok_or_empty_175094;
    bool index_certs_175096;
    
    if (!protect_assert_disj_175095) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_175065, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:199:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_175097 = sle64((int64_t) 0, n_blocks_175063);
    bool binop_y_175098 = sle64((int64_t) 0, i16_res_175059);
    bool binop_y_175099 = binop_x_175097 && binop_y_175098;
    bool protect_assert_disj_175100 = loop_not_taken_175083 || binop_y_175099;
    bool dim_ok_cert_175101;
    
    if (!protect_assert_disj_175100) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_175065, "] to array of shape [", (long long) n_blocks_175063, "][", (long long) i16_res_175059, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:199:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_175102 = sub64(i16_res_175059, (int64_t) 1);
    bool x_175103 = sle64((int64_t) 0, tmp_175102);
    bool y_175104 = slt64(tmp_175102, i16_res_175059);
    bool bounds_check_175105 = x_175103 && y_175104;
    bool protect_assert_disj_175106 = zzero_175060 || bounds_check_175105;
    bool protect_assert_disj_175107 = loop_not_taken_175083 || protect_assert_disj_175106;
    bool index_certs_175108;
    
    if (!protect_assert_disj_175107) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_175102, "] out of bounds for array of shape [", (long long) i16_res_175059, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:199:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_175110 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_175074);
    bool protect_assert_disj_175111 = loop_not_taken_175083 || y_175110;
    bool index_certs_175112;
    
    if (!protect_assert_disj_175111) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_175074, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:199:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_175114 = nonzzero_175061 || loop_not_taken_175083;
    bool nonzzero_cert_175115;
    
    if (!protect_assert_disj_175114) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:199:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_175116 = sle64((int64_t) 0, m_175087);
    bool y_175117 = slt64(m_175087, rest_175064);
    bool bounds_check_175118 = x_175116 && y_175117;
    bool protect_assert_disj_175119 = empty_slice_175086 || bounds_check_175118;
    bool protect_assert_disj_175120 = loop_not_taken_175083 || protect_assert_disj_175119;
    bool index_certs_175121;
    
    if (!protect_assert_disj_175120) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175087, "] out of bounds for array of shape [", (long long) rest_175064, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:199:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184317 = (int64_t) 2 * rest_175064;
    int64_t bytes_184357 = (int64_t) 8 * rest_175064;
    int64_t binop_x_184382 = (int64_t) 8 * n_blocks_175063;
    int64_t bytes_184383 = i16_res_175059 * binop_x_184382;
    int64_t bytes_184389 = (int64_t) 32 * n_blocks_175063;
    int64_t bytes_184414 = (int64_t) 2 * i16_res_175059;
    int64_t bytes_184491 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_175073;
    bool dim_match_175394 = n_97956 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066;
    bool empty_or_match_cert_175395;
    
    if (!dim_match_175394) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066, "] cannot match shape of type `[", (long long) n_97956, "](f64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:199:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184525 = (int64_t) 8 * n_97956;
    
    if (futrts_indicesWithIncrement_9635(ctx, &ext_mem_184306, xs_mem_184305, n_97956, incr_97957) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_184308_cached_sizze_186335 < bytes_184307) {
        err = lexical_realloc(ctx, &mem_184308, &mem_184308_cached_sizze_186335, bytes_184307);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184308, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) xs_mem_184305.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066});
    if (mem_184310_cached_sizze_186336 < bytes_184307) {
        err = lexical_realloc(ctx, &mem_184310, &mem_184310_cached_sizze_186336, bytes_184307);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_185721 = 0; i_185721 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066; i_185721++) {
        int64_t x_185722 = (int64_t) 0 + i_185721 * (int64_t) 1;
        
        ((int64_t *) mem_184310)[i_185721] = x_185722;
    }
    if (mem_184318_cached_sizze_186337 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184318, &mem_184318_cached_sizze_186337, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184320_cached_sizze_186338 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184320, &mem_184320_cached_sizze_186338, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184322_cached_sizze_186339 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184322, &mem_184322_cached_sizze_186339, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184324_cached_sizze_186340 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184324, &mem_184324_cached_sizze_186340, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184326_cached_sizze_186341 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184326, &mem_184326_cached_sizze_186341, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184358_cached_sizze_186342 < bytes_184357) {
        err = lexical_realloc(ctx, &mem_184358, &mem_184358_cached_sizze_186342, bytes_184357);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184360_cached_sizze_186343 < bytes_184357) {
        err = lexical_realloc(ctx, &mem_184360, &mem_184360_cached_sizze_186343, bytes_184357);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184373_cached_sizze_186344 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_184373, &mem_184373_cached_sizze_186344, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184374_cached_sizze_186345 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_184374, &mem_184374_cached_sizze_186345, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184381_cached_sizze_186346 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_184381, &mem_184381_cached_sizze_186346, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184384_cached_sizze_186347 < bytes_184383) {
        err = lexical_realloc(ctx, &mem_184384, &mem_184384_cached_sizze_186347, bytes_184383);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184387_cached_sizze_186348 < bytes_184383) {
        err = lexical_realloc(ctx, &mem_184387, &mem_184387_cached_sizze_186348, bytes_184383);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184390_cached_sizze_186349 < bytes_184389) {
        err = lexical_realloc(ctx, &mem_184390, &mem_184390_cached_sizze_186349, bytes_184389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184393_cached_sizze_186350 < binop_x_184382) {
        err = lexical_realloc(ctx, &mem_184393, &mem_184393_cached_sizze_186350, binop_x_184382);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184415_cached_sizze_186351 < bytes_184414) {
        err = lexical_realloc(ctx, &mem_184415, &mem_184415_cached_sizze_186351, bytes_184414);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184417_cached_sizze_186352 < bytes_184414) {
        err = lexical_realloc(ctx, &mem_184417, &mem_184417_cached_sizze_186352, bytes_184414);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184419_cached_sizze_186353 < bytes_184414) {
        err = lexical_realloc(ctx, &mem_184419, &mem_184419_cached_sizze_186353, bytes_184414);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184421_cached_sizze_186354 < bytes_184414) {
        err = lexical_realloc(ctx, &mem_184421, &mem_184421_cached_sizze_186354, bytes_184414);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184423_cached_sizze_186355 < bytes_184414) {
        err = lexical_realloc(ctx, &mem_184423, &mem_184423_cached_sizze_186355, bytes_184414);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184466_cached_sizze_186356 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_184466, &mem_184466_cached_sizze_186356, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184467_cached_sizze_186357 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_184467, &mem_184467_cached_sizze_186357, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184492_cached_sizze_186358 < bytes_184491) {
        err = lexical_realloc(ctx, &mem_184492, &mem_184492_cached_sizze_186358, bytes_184491);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184500_cached_sizze_186359 < bytes_184491) {
        err = lexical_realloc(ctx, &mem_184500, &mem_184500_cached_sizze_186359, bytes_184491);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_175124 = 0; i_175124 < iters_175058; i_175124++) {
        int32_t blocked_radix_sort_step_arg1_175127 = mul32(2, i_175124);
        int32_t get_bit_arg0_175132 = add32(1, blocked_radix_sort_step_arg1_175127);
        int64_t unsign_arg0_175133 = zext_i32_i64(get_bit_arg0_175132);
        bool cond_f_res_175134 = get_bit_arg0_175132 == 63;
        int64_t unsign_arg0_175135 = zext_i32_i64(blocked_radix_sort_step_arg1_175127);
        bool cond_f_res_175136 = blocked_radix_sort_step_arg1_175127 == 63;
        int16_t discard_183985;
        int16_t discard_183986;
        int16_t discard_183987;
        int16_t discard_183988;
        int16_t scanacc_183970;
        int16_t scanacc_183971;
        int16_t scanacc_183972;
        int16_t scanacc_183973;
        
        scanacc_183970 = (int16_t) 0;
        scanacc_183971 = (int16_t) 0;
        scanacc_183972 = (int16_t) 0;
        scanacc_183973 = (int16_t) 0;
        for (int64_t i_183979 = 0; i_183979 < rest_175064; i_183979++) {
            int64_t slice_184192 = arg_175065 + i_183979;
            double eta_p_181901 = ((double *) mem_184308)[slice_184192];
            int64_t i64_arg0_181902 = futrts_to_bits64(eta_p_181901);
            int64_t unsign_arg0_181903 = ashr64(i64_arg0_181902, unsign_arg0_175133);
            int64_t unsign_arg0_181904 = (int64_t) 1 & unsign_arg0_181903;
            int32_t to_i32_res_181905 = zext_i64_i32(unsign_arg0_181904);
            int64_t unsign_arg0_181906 = ashr64(i64_arg0_181902, (int64_t) 63);
            int64_t unsign_arg0_181907 = (int64_t) 1 & unsign_arg0_181906;
            int32_t to_i32_res_181908 = zext_i64_i32(unsign_arg0_181907);
            bool cond_181909 = to_i32_res_181908 == 1;
            bool x_181910 = !cond_181909;
            bool y_181911 = cond_f_res_175134 && x_181910;
            bool cond_181912 = cond_181909 || y_181911;
            int32_t defunc_0_get_bit_res_181913;
            
            if (cond_181912) {
                int32_t defunc_0_get_bit_res_t_res_182043 = 1 ^ to_i32_res_181905;
                
                defunc_0_get_bit_res_181913 = defunc_0_get_bit_res_t_res_182043;
            } else {
                defunc_0_get_bit_res_181913 = to_i32_res_181905;
            }
            
            int32_t zp_lhs_181915 = mul32(2, defunc_0_get_bit_res_181913);
            int64_t unsign_arg0_181916 = ashr64(i64_arg0_181902, unsign_arg0_175135);
            int64_t unsign_arg0_181917 = (int64_t) 1 & unsign_arg0_181916;
            int32_t to_i32_res_181918 = zext_i64_i32(unsign_arg0_181917);
            bool y_181919 = cond_f_res_175136 && x_181910;
            bool cond_181920 = cond_181909 || y_181919;
            int32_t defunc_0_get_bit_res_181921;
            
            if (cond_181920) {
                int32_t defunc_0_get_bit_res_t_res_182044 = 1 ^ to_i32_res_181918;
                
                defunc_0_get_bit_res_181921 = defunc_0_get_bit_res_t_res_182044;
            } else {
                defunc_0_get_bit_res_181921 = to_i32_res_181918;
            }
            
            int32_t i32_arg0_181923 = add32(zp_lhs_181915, defunc_0_get_bit_res_181921);
            int16_t i32_res_181924 = sext_i32_i16(i32_arg0_181923);
            int16_t defunc_0_f_res_181926;
            int16_t defunc_0_f_res_181927;
            int16_t defunc_0_f_res_181928;
            int16_t defunc_0_f_res_181929;
            
            if (futrts_lifted_lambda_9123(ctx, &defunc_0_f_res_181926, &defunc_0_f_res_181927, &defunc_0_f_res_181928, &defunc_0_f_res_181929, i32_res_181924) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_175187 = add16(defunc_0_f_res_181926, scanacc_183970);
            int16_t defunc_0_op_res_175188 = add16(defunc_0_f_res_181927, scanacc_183971);
            int16_t defunc_0_op_res_175189 = add16(defunc_0_f_res_181928, scanacc_183972);
            int16_t defunc_0_op_res_175190 = add16(defunc_0_f_res_181929, scanacc_183973);
            
            ((int16_t *) mem_184318)[i_183979] = defunc_0_op_res_175187;
            ((int16_t *) mem_184320)[i_183979] = defunc_0_op_res_175188;
            ((int16_t *) mem_184322)[i_183979] = defunc_0_op_res_175189;
            ((int16_t *) mem_184324)[i_183979] = defunc_0_op_res_175190;
            ((int16_t *) mem_184326)[i_183979] = i32_res_181924;
            
            int16_t scanacc_tmp_185725 = defunc_0_op_res_175187;
            int16_t scanacc_tmp_185726 = defunc_0_op_res_175188;
            int16_t scanacc_tmp_185727 = defunc_0_op_res_175189;
            int16_t scanacc_tmp_185728 = defunc_0_op_res_175190;
            
            scanacc_183970 = scanacc_tmp_185725;
            scanacc_183971 = scanacc_tmp_185726;
            scanacc_183972 = scanacc_tmp_185727;
            scanacc_183973 = scanacc_tmp_185728;
        }
        discard_183985 = scanacc_183970;
        discard_183986 = scanacc_183971;
        discard_183987 = scanacc_183972;
        discard_183988 = scanacc_183973;
        
        int16_t defunc_0_radix_sort_step_i16_res_175191;
        int16_t defunc_0_radix_sort_step_i16_res_175192;
        int16_t defunc_0_radix_sort_step_i16_res_175193;
        int16_t defunc_0_radix_sort_step_i16_res_175194;
        
        if (empty_slice_175086) {
            defunc_0_radix_sort_step_i16_res_175191 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_175192 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_175193 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_175194 = (int16_t) 0;
        } else {
            int16_t last_res_175195 = ((int16_t *) mem_184318)[m_175087];
            int16_t last_res_175196 = ((int16_t *) mem_184320)[m_175087];
            int16_t last_res_175197 = ((int16_t *) mem_184322)[m_175087];
            int16_t last_res_175198 = ((int16_t *) mem_184324)[m_175087];
            
            defunc_0_radix_sort_step_i16_res_175191 = last_res_175195;
            defunc_0_radix_sort_step_i16_res_175192 = last_res_175196;
            defunc_0_radix_sort_step_i16_res_175193 = last_res_175197;
            defunc_0_radix_sort_step_i16_res_175194 = last_res_175198;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184358, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184310, (int64_t) 0 + (int64_t) 1 * arg_175065, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_175064});
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184360, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184308, (int64_t) 0 + (int64_t) 1 * arg_175065, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_175064});
        for (int64_t write_iter_183989 = 0; write_iter_183989 < rest_175064; write_iter_183989++) {
            int16_t write_iv_183992 = ((int16_t *) mem_184326)[write_iter_183989];
            int16_t write_iv_183993 = ((int16_t *) mem_184318)[write_iter_183989];
            int16_t write_iv_183994 = ((int16_t *) mem_184320)[write_iter_183989];
            int16_t write_iv_183995 = ((int16_t *) mem_184322)[write_iter_183989];
            int16_t write_iv_183996 = ((int16_t *) mem_184324)[write_iter_183989];
            int64_t slice_184191 = arg_175065 + write_iter_183989;
            double write_iv_183997 = ((double *) mem_184308)[slice_184191];
            int64_t write_iv_183998 = ((int64_t *) mem_184310)[slice_184191];
            int64_t defunc_0_f_res_181885;
            
            if (futrts_lifted_f_9124(ctx, &defunc_0_f_res_181885, defunc_0_radix_sort_step_i16_res_175191, defunc_0_radix_sort_step_i16_res_175192, defunc_0_radix_sort_step_i16_res_175193, write_iv_183992, write_iv_183993, write_iv_183994, write_iv_183995, write_iv_183996) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_181885) && slt64(defunc_0_f_res_181885, rest_175064)) {
                ((double *) mem_184360)[defunc_0_f_res_181885] = write_iv_183997;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_181885) && slt64(defunc_0_f_res_181885, rest_175064)) {
                ((int64_t *) mem_184358)[defunc_0_f_res_181885] = write_iv_183998;
            }
        }
        ((int16_t *) mem_184373)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_175191;
        ((int16_t *) mem_184373)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_175192;
        ((int16_t *) mem_184373)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_175193;
        ((int16_t *) mem_184373)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_175194;
        for (int64_t i_184003 = 0; i_184003 < (int64_t) 4; i_184003++) {
            int16_t eta_p_175215 = ((int16_t *) mem_184373)[i_184003];
            int64_t i16_res_175216 = sext_i16_i64(eta_p_175215);
            
            ((int64_t *) mem_184374)[i_184003] = i16_res_175216;
        }
        
        int16_t tmp_175217 = add16(defunc_0_radix_sort_step_i16_res_175191, defunc_0_radix_sort_step_i16_res_175192);
        int16_t tmp_175218 = add16(defunc_0_radix_sort_step_i16_res_175193, tmp_175217);
        
        ((int16_t *) mem_184381)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_184381)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_175191;
        ((int16_t *) mem_184381)[(int64_t) 2] = tmp_175217;
        ((int16_t *) mem_184381)[(int64_t) 3] = tmp_175218;
        for (int64_t i_184053 = 0; i_184053 < n_blocks_175063; i_184053++) {
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184384, i_184053 * i16_res_175059, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184308, (int64_t) 0 + i_184053 * ((int64_t) 1 * i16_res_175059), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_175059});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184387, i_184053 * i16_res_175059, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184310, (int64_t) 0 + i_184053 * ((int64_t) 1 * i16_res_175059), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_175059});
            
            int64_t binop_x_184205 = i16_res_175059 * i_184053;
            int16_t discard_184025;
            int16_t discard_184026;
            int16_t discard_184027;
            int16_t discard_184028;
            int16_t scanacc_184010;
            int16_t scanacc_184011;
            int16_t scanacc_184012;
            int16_t scanacc_184013;
            
            scanacc_184010 = (int16_t) 0;
            scanacc_184011 = (int16_t) 0;
            scanacc_184012 = (int16_t) 0;
            scanacc_184013 = (int16_t) 0;
            for (int64_t i_184019 = 0; i_184019 < i16_res_175059; i_184019++) {
                int64_t new_index_184206 = i_184019 + binop_x_184205;
                double eta_p_181960 = ((double *) mem_184308)[new_index_184206];
                int64_t i64_arg0_181961 = futrts_to_bits64(eta_p_181960);
                int64_t unsign_arg0_181962 = ashr64(i64_arg0_181961, unsign_arg0_175133);
                int64_t unsign_arg0_181963 = (int64_t) 1 & unsign_arg0_181962;
                int32_t to_i32_res_181964 = zext_i64_i32(unsign_arg0_181963);
                int64_t unsign_arg0_181965 = ashr64(i64_arg0_181961, (int64_t) 63);
                int64_t unsign_arg0_181966 = (int64_t) 1 & unsign_arg0_181965;
                int32_t to_i32_res_181967 = zext_i64_i32(unsign_arg0_181966);
                bool cond_181968 = to_i32_res_181967 == 1;
                bool x_181969 = !cond_181968;
                bool y_181970 = cond_f_res_175134 && x_181969;
                bool cond_181971 = cond_181968 || y_181970;
                int32_t defunc_0_get_bit_res_181972;
                
                if (cond_181971) {
                    int32_t defunc_0_get_bit_res_t_res_182045 = 1 ^ to_i32_res_181964;
                    
                    defunc_0_get_bit_res_181972 = defunc_0_get_bit_res_t_res_182045;
                } else {
                    defunc_0_get_bit_res_181972 = to_i32_res_181964;
                }
                
                int32_t zp_lhs_181974 = mul32(2, defunc_0_get_bit_res_181972);
                int64_t unsign_arg0_181975 = ashr64(i64_arg0_181961, unsign_arg0_175135);
                int64_t unsign_arg0_181976 = (int64_t) 1 & unsign_arg0_181975;
                int32_t to_i32_res_181977 = zext_i64_i32(unsign_arg0_181976);
                bool y_181978 = cond_f_res_175136 && x_181969;
                bool cond_181979 = cond_181968 || y_181978;
                int32_t defunc_0_get_bit_res_181980;
                
                if (cond_181979) {
                    int32_t defunc_0_get_bit_res_t_res_182046 = 1 ^ to_i32_res_181977;
                    
                    defunc_0_get_bit_res_181980 = defunc_0_get_bit_res_t_res_182046;
                } else {
                    defunc_0_get_bit_res_181980 = to_i32_res_181977;
                }
                
                int32_t i32_arg0_181982 = add32(zp_lhs_181974, defunc_0_get_bit_res_181980);
                int16_t i32_res_181983 = sext_i32_i16(i32_arg0_181982);
                int16_t defunc_0_f_res_181985;
                int16_t defunc_0_f_res_181986;
                int16_t defunc_0_f_res_181987;
                int16_t defunc_0_f_res_181988;
                
                if (futrts_lifted_lambda_9123(ctx, &defunc_0_f_res_181985, &defunc_0_f_res_181986, &defunc_0_f_res_181987, &defunc_0_f_res_181988, i32_res_181983) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_175282 = add16(defunc_0_f_res_181985, scanacc_184010);
                int16_t defunc_0_op_res_175283 = add16(defunc_0_f_res_181986, scanacc_184011);
                int16_t defunc_0_op_res_175284 = add16(defunc_0_f_res_181987, scanacc_184012);
                int16_t defunc_0_op_res_175285 = add16(defunc_0_f_res_181988, scanacc_184013);
                
                ((int16_t *) mem_184415)[i_184019] = defunc_0_op_res_175282;
                ((int16_t *) mem_184417)[i_184019] = defunc_0_op_res_175283;
                ((int16_t *) mem_184419)[i_184019] = defunc_0_op_res_175284;
                ((int16_t *) mem_184421)[i_184019] = defunc_0_op_res_175285;
                ((int16_t *) mem_184423)[i_184019] = i32_res_181983;
                
                int16_t scanacc_tmp_185741 = defunc_0_op_res_175282;
                int16_t scanacc_tmp_185742 = defunc_0_op_res_175283;
                int16_t scanacc_tmp_185743 = defunc_0_op_res_175284;
                int16_t scanacc_tmp_185744 = defunc_0_op_res_175285;
                
                scanacc_184010 = scanacc_tmp_185741;
                scanacc_184011 = scanacc_tmp_185742;
                scanacc_184012 = scanacc_tmp_185743;
                scanacc_184013 = scanacc_tmp_185744;
            }
            discard_184025 = scanacc_184010;
            discard_184026 = scanacc_184011;
            discard_184027 = scanacc_184012;
            discard_184028 = scanacc_184013;
            
            int16_t defunc_0_f_res_175286;
            int16_t defunc_0_f_res_175287;
            int16_t defunc_0_f_res_175288;
            int16_t defunc_0_f_res_175289;
            
            if (zzero_175060) {
                defunc_0_f_res_175286 = (int16_t) 0;
                defunc_0_f_res_175287 = (int16_t) 0;
                defunc_0_f_res_175288 = (int16_t) 0;
                defunc_0_f_res_175289 = (int16_t) 0;
            } else {
                int16_t last_res_175290 = ((int16_t *) mem_184415)[tmp_175102];
                int16_t last_res_175291 = ((int16_t *) mem_184417)[tmp_175102];
                int16_t last_res_175292 = ((int16_t *) mem_184419)[tmp_175102];
                int16_t last_res_175293 = ((int16_t *) mem_184421)[tmp_175102];
                
                defunc_0_f_res_175286 = last_res_175290;
                defunc_0_f_res_175287 = last_res_175291;
                defunc_0_f_res_175288 = last_res_175292;
                defunc_0_f_res_175289 = last_res_175293;
            }
            for (int64_t write_iter_184029 = 0; write_iter_184029 < i16_res_175059; write_iter_184029++) {
                int16_t write_iv_184032 = ((int16_t *) mem_184423)[write_iter_184029];
                int16_t write_iv_184033 = ((int16_t *) mem_184415)[write_iter_184029];
                int16_t write_iv_184034 = ((int16_t *) mem_184417)[write_iter_184029];
                int16_t write_iv_184035 = ((int16_t *) mem_184419)[write_iter_184029];
                int16_t write_iv_184036 = ((int16_t *) mem_184421)[write_iter_184029];
                int64_t new_index_184202 = write_iter_184029 + binop_x_184205;
                double write_iv_184037 = ((double *) mem_184308)[new_index_184202];
                int64_t write_iv_184038 = ((int64_t *) mem_184310)[new_index_184202];
                int64_t defunc_0_f_res_181944;
                
                if (futrts_lifted_f_9124(ctx, &defunc_0_f_res_181944, defunc_0_f_res_175286, defunc_0_f_res_175287, defunc_0_f_res_175288, write_iv_184032, write_iv_184033, write_iv_184034, write_iv_184035, write_iv_184036) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_181944) && slt64(defunc_0_f_res_181944, i16_res_175059)) {
                    ((double *) mem_184384)[i_184053 * i16_res_175059 + defunc_0_f_res_181944] = write_iv_184037;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_181944) && slt64(defunc_0_f_res_181944, i16_res_175059)) {
                    ((int64_t *) mem_184387)[i_184053 * i16_res_175059 + defunc_0_f_res_181944] = write_iv_184038;
                }
            }
            ((int16_t *) mem_184466)[(int64_t) 0] = defunc_0_f_res_175286;
            ((int16_t *) mem_184466)[(int64_t) 1] = defunc_0_f_res_175287;
            ((int16_t *) mem_184466)[(int64_t) 2] = defunc_0_f_res_175288;
            ((int16_t *) mem_184466)[(int64_t) 3] = defunc_0_f_res_175289;
            for (int64_t i_184043 = 0; i_184043 < (int64_t) 4; i_184043++) {
                int16_t eta_p_175308 = ((int16_t *) mem_184466)[i_184043];
                int64_t i16_res_175309 = sext_i16_i64(eta_p_175308);
                
                ((int64_t *) mem_184467)[i_184043] = i16_res_175309;
            }
            
            int16_t tmp_175310 = add16(defunc_0_f_res_175286, defunc_0_f_res_175287);
            int16_t tmp_175311 = add16(defunc_0_f_res_175288, tmp_175310);
            
            ((int16_t *) mem_184393)[i_184053 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_184393)[i_184053 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_175286;
            ((int16_t *) mem_184393)[i_184053 * (int64_t) 4 + (int64_t) 2] = tmp_175310;
            ((int16_t *) mem_184393)[i_184053 * (int64_t) 4 + (int64_t) 3] = tmp_175311;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184390, i_184053 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184467, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_184065;
        int64_t scanacc_184061 = (int64_t) 0;
        
        for (int64_t i_184063 = 0; i_184063 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_175074; i_184063++) {
            int64_t new_index_184180 = squot64(i_184063, dzlz7bUZLzpZRz20Unz20U1z7dUzg_175073);
            int64_t binop_y_184182 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_175073 * new_index_184180;
            int64_t new_index_184183 = i_184063 - binop_y_184182;
            bool index_concat_cmp_184185 = sle64(n_blocks_175063, new_index_184183);
            int64_t index_concat_branch_184189;
            
            if (index_concat_cmp_184185) {
                int64_t index_concat_184187 = ((int64_t *) mem_184374)[new_index_184180];
                
                index_concat_branch_184189 = index_concat_184187;
            } else {
                int64_t index_concat_184188 = ((int64_t *) mem_184390)[new_index_184183 * (int64_t) 4 + new_index_184180];
                
                index_concat_branch_184189 = index_concat_184188;
            }
            
            int64_t defunc_0_op_res_175325 = add64(scanacc_184061, index_concat_branch_184189);
            
            ((int64_t *) mem_184492)[i_184063] = defunc_0_op_res_175325;
            
            int64_t scanacc_tmp_185753 = defunc_0_op_res_175325;
            
            scanacc_184061 = scanacc_tmp_185753;
        }
        discard_184065 = scanacc_184061;
        for (int64_t i_184068 = 0; i_184068 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_175074; i_184068++) {
            int64_t zv_lhs_175328 = add64((int64_t) -1, i_184068);
            int64_t tmp_175329 = smod64(zv_lhs_175328, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_175074);
            int64_t lifted_lambda_res_175330 = ((int64_t *) mem_184492)[tmp_175329];
            
            ((int64_t *) mem_184500)[i_184068] = lifted_lambda_res_175330;
        }
        ((int64_t *) mem_184500)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_184070 = 0; write_iter_184070 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066; write_iter_184070++) {
            bool index_concat_cmp_184171 = sle64(arg_175065, write_iter_184070);
            double index_concat_branch_181826;
            
            if (index_concat_cmp_184171) {
                int64_t index_concat_i_182055 = sub64(write_iter_184070, arg_175065);
                double index_concat_182056 = ((double *) mem_184360)[index_concat_i_182055];
                
                index_concat_branch_181826 = index_concat_182056;
            } else {
                int64_t new_index_181829 = squot64(write_iter_184070, i16_res_175059);
                int64_t binop_y_181830 = i16_res_175059 * new_index_181829;
                int64_t new_index_181831 = write_iter_184070 - binop_y_181830;
                double index_concat_181832 = ((double *) mem_184384)[new_index_181829 * i16_res_175059 + new_index_181831];
                
                index_concat_branch_181826 = index_concat_181832;
            }
            
            int64_t i64_arg0_181833 = futrts_to_bits64(index_concat_branch_181826);
            int64_t unsign_arg0_181834 = ashr64(i64_arg0_181833, (int64_t) 63);
            int64_t unsign_arg0_181835 = (int64_t) 1 & unsign_arg0_181834;
            int32_t to_i32_res_181836 = zext_i64_i32(unsign_arg0_181835);
            bool cond_181837 = to_i32_res_181836 == 1;
            bool x_181838 = !cond_181837;
            int32_t zlzb_rhs_181839;
            int32_t acc_181841 = 0;
            
            for (int32_t i_181840 = 0; i_181840 < 2; i_181840++) {
                int32_t get_bit_arg0_181842 = add32(blocked_radix_sort_step_arg1_175127, i_181840);
                int64_t unsign_arg0_181843 = zext_i32_i64(get_bit_arg0_181842);
                int64_t unsign_arg0_181844 = ashr64(i64_arg0_181833, unsign_arg0_181843);
                int64_t unsign_arg0_181845 = (int64_t) 1 & unsign_arg0_181844;
                int32_t to_i32_res_181846 = zext_i64_i32(unsign_arg0_181845);
                bool cond_f_res_181847 = get_bit_arg0_181842 == 63;
                bool y_181848 = x_181838 && cond_f_res_181847;
                bool cond_181849 = cond_181837 || y_181848;
                int32_t defunc_0_get_bit_res_181850;
                
                if (cond_181849) {
                    int32_t defunc_0_get_bit_res_t_res_182057 = 1 ^ to_i32_res_181846;
                    
                    defunc_0_get_bit_res_181850 = defunc_0_get_bit_res_t_res_182057;
                } else {
                    defunc_0_get_bit_res_181850 = to_i32_res_181846;
                }
                
                int32_t zp_rhs_181852 = shl32(defunc_0_get_bit_res_181850, i_181840);
                int32_t loopres_181853 = add32(acc_181841, zp_rhs_181852);
                int32_t acc_tmp_185758 = loopres_181853;
                
                acc_181841 = acc_tmp_185758;
            }
            zlzb_rhs_181839 = acc_181841;
            
            int64_t i32_res_181854 = sext_i32_i64(zlzb_rhs_181839);
            int64_t block_idx_181855 = sdiv64(write_iter_184070, i16_res_175059);
            bool x_181856 = sle64((int64_t) 0, block_idx_181855);
            bool y_181857 = slt64(block_idx_181855, dzlz7bUZLzpZRz20Unz20U1z7dUzg_175073);
            bool bounds_check_181858 = x_181856 && y_181857;
            bool index_certs_181859;
            
            if (!bounds_check_181858) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_181855, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:199:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_181860 = sle64((int64_t) 0, i32_res_181854);
            bool y_181861 = slt64(i32_res_181854, (int64_t) 4);
            bool bounds_check_181862 = x_181860 && y_181861;
            bool index_certs_181863;
            
            if (!bounds_check_181862) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_181854, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:199:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            double index_concat_branch_184175;
            
            if (index_concat_cmp_184171) {
                int64_t index_concat_i_184172 = sub64(write_iter_184070, arg_175065);
                double index_concat_184173 = ((double *) mem_184360)[index_concat_i_184172];
                
                index_concat_branch_184175 = index_concat_184173;
            } else {
                int64_t new_index_184197 = squot64(write_iter_184070, i16_res_175059);
                int64_t binop_y_184199 = i16_res_175059 * new_index_184197;
                int64_t new_index_184200 = write_iter_184070 - binop_y_184199;
                double index_concat_184174 = ((double *) mem_184384)[new_index_184197 * i16_res_175059 + new_index_184200];
                
                index_concat_branch_184175 = index_concat_184174;
            }
            
            int64_t index_concat_branch_184169;
            
            if (index_concat_cmp_184171) {
                int64_t index_concat_i_184166 = sub64(write_iter_184070, arg_175065);
                int64_t index_concat_184167 = ((int64_t *) mem_184358)[index_concat_i_184166];
                
                index_concat_branch_184169 = index_concat_184167;
            } else {
                int64_t new_index_184193 = squot64(write_iter_184070, i16_res_175059);
                int64_t binop_y_184195 = i16_res_175059 * new_index_184193;
                int64_t new_index_184196 = write_iter_184070 - binop_y_184195;
                int64_t index_concat_184168 = ((int64_t *) mem_184387)[new_index_184193 * i16_res_175059 + new_index_184196];
                
                index_concat_branch_184169 = index_concat_184168;
            }
            
            int64_t binop_x_181864 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_175073 * i32_res_181854;
            int64_t new_index_181865 = block_idx_181855 + binop_x_181864;
            int64_t new_offset_181866 = ((int64_t *) mem_184500)[new_index_181865];
            bool index_concat_cmp_181867 = sle64(n_blocks_175063, block_idx_181855);
            int16_t index_concat_branch_181868;
            
            if (index_concat_cmp_181867) {
                int16_t index_concat_182058 = ((int16_t *) mem_184381)[i32_res_181854];
                
                index_concat_branch_181868 = index_concat_182058;
            } else {
                int16_t index_concat_181870 = ((int16_t *) mem_184393)[block_idx_181855 * (int64_t) 4 + i32_res_181854];
                
                index_concat_branch_181868 = index_concat_181870;
            }
            
            int64_t i16_res_181871 = sext_i16_i64(index_concat_branch_181868);
            int64_t zp_lhs_181872 = mul64(i16_res_175059, block_idx_181855);
            int64_t old_offset_181873 = add64(i16_res_181871, zp_lhs_181872);
            int64_t zp_lhs_181874 = sub64(write_iter_184070, old_offset_181873);
            int64_t idx_181875 = add64(new_offset_181866, zp_lhs_181874);
            
            if (sle64((int64_t) 0, idx_181875) && slt64(idx_181875, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066)) {
                ((double *) mem_184308)[idx_181875] = index_concat_branch_184175;
            }
            if (sle64((int64_t) 0, idx_181875) && slt64(idx_181875, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066)) {
                ((int64_t *) mem_184310)[idx_181875] = index_concat_branch_184169;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_184526, bytes_184525, "mem_184526")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184528, bytes_184525, "mem_184528")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_184082 = 0; i_184082 < n_97956; i_184082++) {
        int64_t eta_p_175399 = ((int64_t *) mem_184310)[i_184082];
        bool x_175400 = sle64((int64_t) 0, eta_p_175399);
        bool y_175401 = slt64(eta_p_175399, n_97956);
        bool bounds_check_175402 = x_175400 && y_175401;
        bool index_certs_175403;
        
        if (!bounds_check_175402) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_175399, "] out of bounds for array of shape [", (long long) n_97956, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:199:95-98\n   #5  ftsort.fut:28:3-47\n   #6  ftsort.fut:27:1-28:47\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_175404 = ((int64_t *) ext_mem_184306.mem)[eta_p_175399];
        double lifted_lambda_res_175405 = ((double *) xs_mem_184305.mem)[eta_p_175399];
        
        ((int64_t *) mem_184526.mem)[i_184082] = lifted_lambda_res_175404;
        ((double *) mem_184528.mem)[i_184082] = lifted_lambda_res_175405;
    }
    if (memblock_unref(ctx, &ext_mem_184306, "ext_mem_184306") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185719, &mem_184526, "mem_184526") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185720, &mem_184528, "mem_184528") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186333, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186334, &mem_out_185720, "mem_out_185720") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_184308);
        free(mem_184310);
        free(mem_184318);
        free(mem_184320);
        free(mem_184322);
        free(mem_184324);
        free(mem_184326);
        free(mem_184358);
        free(mem_184360);
        free(mem_184373);
        free(mem_184374);
        free(mem_184381);
        free(mem_184384);
        free(mem_184387);
        free(mem_184390);
        free(mem_184393);
        free(mem_184415);
        free(mem_184417);
        free(mem_184419);
        free(mem_184421);
        free(mem_184423);
        free(mem_184466);
        free(mem_184467);
        free(mem_184492);
        free(mem_184500);
        if (memblock_unref(ctx, &mem_184528, "mem_184528") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184526, "mem_184526") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184306, "ext_mem_184306") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185720, "mem_out_185720") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_186360, struct memblock *mem_out_p_186361, struct memblock xs_mem_184305, int64_t n_95201, int64_t incr_95202, int16_t block_sizze_95203)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_184308_cached_sizze_186362 = 0;
    unsigned char *mem_184308 = NULL;
    int64_t mem_184310_cached_sizze_186363 = 0;
    unsigned char *mem_184310 = NULL;
    int64_t mem_184318_cached_sizze_186364 = 0;
    unsigned char *mem_184318 = NULL;
    int64_t mem_184320_cached_sizze_186365 = 0;
    unsigned char *mem_184320 = NULL;
    int64_t mem_184322_cached_sizze_186366 = 0;
    unsigned char *mem_184322 = NULL;
    int64_t mem_184324_cached_sizze_186367 = 0;
    unsigned char *mem_184324 = NULL;
    int64_t mem_184326_cached_sizze_186368 = 0;
    unsigned char *mem_184326 = NULL;
    int64_t mem_184358_cached_sizze_186369 = 0;
    unsigned char *mem_184358 = NULL;
    int64_t mem_184360_cached_sizze_186370 = 0;
    unsigned char *mem_184360 = NULL;
    int64_t mem_184373_cached_sizze_186371 = 0;
    unsigned char *mem_184373 = NULL;
    int64_t mem_184374_cached_sizze_186372 = 0;
    unsigned char *mem_184374 = NULL;
    int64_t mem_184381_cached_sizze_186373 = 0;
    unsigned char *mem_184381 = NULL;
    int64_t mem_184384_cached_sizze_186374 = 0;
    unsigned char *mem_184384 = NULL;
    int64_t mem_184387_cached_sizze_186375 = 0;
    unsigned char *mem_184387 = NULL;
    int64_t mem_184390_cached_sizze_186376 = 0;
    unsigned char *mem_184390 = NULL;
    int64_t mem_184393_cached_sizze_186377 = 0;
    unsigned char *mem_184393 = NULL;
    int64_t mem_184415_cached_sizze_186378 = 0;
    unsigned char *mem_184415 = NULL;
    int64_t mem_184417_cached_sizze_186379 = 0;
    unsigned char *mem_184417 = NULL;
    int64_t mem_184419_cached_sizze_186380 = 0;
    unsigned char *mem_184419 = NULL;
    int64_t mem_184421_cached_sizze_186381 = 0;
    unsigned char *mem_184421 = NULL;
    int64_t mem_184423_cached_sizze_186382 = 0;
    unsigned char *mem_184423 = NULL;
    int64_t mem_184466_cached_sizze_186383 = 0;
    unsigned char *mem_184466 = NULL;
    int64_t mem_184467_cached_sizze_186384 = 0;
    unsigned char *mem_184467 = NULL;
    int64_t mem_184492_cached_sizze_186385 = 0;
    unsigned char *mem_184492 = NULL;
    int64_t mem_184500_cached_sizze_186386 = 0;
    unsigned char *mem_184500 = NULL;
    struct memblock mem_184528;
    
    mem_184528.references = NULL;
    
    struct memblock mem_184526;
    
    mem_184526.references = NULL;
    
    struct memblock ext_mem_184306;
    
    ext_mem_184306.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    bool cond_175057 = n_95201 == (int64_t) 0;
    int32_t iters_175058;
    
    if (cond_175057) {
        iters_175058 = 0;
    } else {
        iters_175058 = 16;
    }
    
    int64_t i16_res_175059 = sext_i16_i64(block_sizze_95203);
    bool zzero_175060 = i16_res_175059 == (int64_t) 0;
    bool nonzzero_175061 = !zzero_175060;
    bool nonzzero_cert_175062;
    
    if (!nonzzero_175061) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:199:95-98\n   #5  ftsort.fut:25:3-46\n   #6  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_175063 = sdiv64(n_95201, i16_res_175059);
    int64_t rest_175064 = smod64(n_95201, i16_res_175059);
    int64_t arg_175065 = mul64(i16_res_175059, n_blocks_175063);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066 = add64(rest_175064, arg_175065);
    bool dim_match_175067 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066 == n_95201;
    bool empty_or_match_cert_175068;
    
    if (!dim_match_175067) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_95201, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066, "](f32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #5  ftbasics.fut:199:95-98\n   #6  ftsort.fut:25:3-46\n   #7  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184307 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066;
    int64_t bytes_184309 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066;
    bool loop_nonempty_175072 = slt32(0, iters_175058);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_175073 = add64((int64_t) 1, n_blocks_175063);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_175074 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_175073);
    bool empty_slice_175075 = arg_175065 == (int64_t) 0;
    int64_t m_175076 = sub64(arg_175065, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_175077 = sle64((int64_t) 0, m_175076);
    bool i_p_m_t_s_leq_w_175078 = slt64(m_175076, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066);
    bool i_lte_j_175079 = sle64((int64_t) 0, arg_175065);
    bool y_175080 = zzero_leq_i_p_m_t_s_175077 && i_p_m_t_s_leq_w_175078;
    bool forwards_ok_175081 = i_lte_j_175079 && y_175080;
    bool ok_or_empty_175082 = empty_slice_175075 || forwards_ok_175081;
    bool loop_not_taken_175083 = !loop_nonempty_175072;
    bool protect_assert_disj_175084 = ok_or_empty_175082 || loop_not_taken_175083;
    bool index_certs_175085;
    
    if (!protect_assert_disj_175084) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_175065, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:199:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_175086 = rest_175064 == (int64_t) 0;
    int64_t m_175087 = sub64(rest_175064, (int64_t) 1);
    int64_t i_p_m_t_s_175088 = add64(arg_175065, m_175087);
    bool zzero_leq_i_p_m_t_s_175089 = sle64((int64_t) 0, i_p_m_t_s_175088);
    bool i_p_m_t_s_leq_w_175090 = slt64(i_p_m_t_s_175088, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066);
    bool i_lte_j_175091 = sle64(arg_175065, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066);
    bool y_175092 = zzero_leq_i_p_m_t_s_175089 && i_p_m_t_s_leq_w_175090;
    bool forwards_ok_175093 = i_lte_j_175091 && y_175092;
    bool ok_or_empty_175094 = empty_slice_175086 || forwards_ok_175093;
    bool protect_assert_disj_175095 = loop_not_taken_175083 || ok_or_empty_175094;
    bool index_certs_175096;
    
    if (!protect_assert_disj_175095) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_175065, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:199:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_175097 = sle64((int64_t) 0, n_blocks_175063);
    bool binop_y_175098 = sle64((int64_t) 0, i16_res_175059);
    bool binop_y_175099 = binop_x_175097 && binop_y_175098;
    bool protect_assert_disj_175100 = loop_not_taken_175083 || binop_y_175099;
    bool dim_ok_cert_175101;
    
    if (!protect_assert_disj_175100) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_175065, "] to array of shape [", (long long) n_blocks_175063, "][", (long long) i16_res_175059, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:199:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_175102 = sub64(i16_res_175059, (int64_t) 1);
    bool x_175103 = sle64((int64_t) 0, tmp_175102);
    bool y_175104 = slt64(tmp_175102, i16_res_175059);
    bool bounds_check_175105 = x_175103 && y_175104;
    bool protect_assert_disj_175106 = zzero_175060 || bounds_check_175105;
    bool protect_assert_disj_175107 = loop_not_taken_175083 || protect_assert_disj_175106;
    bool index_certs_175108;
    
    if (!protect_assert_disj_175107) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_175102, "] out of bounds for array of shape [", (long long) i16_res_175059, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:199:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_175110 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_175074);
    bool protect_assert_disj_175111 = loop_not_taken_175083 || y_175110;
    bool index_certs_175112;
    
    if (!protect_assert_disj_175111) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_175074, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:199:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_175114 = nonzzero_175061 || loop_not_taken_175083;
    bool nonzzero_cert_175115;
    
    if (!protect_assert_disj_175114) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:199:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_175116 = sle64((int64_t) 0, m_175087);
    bool y_175117 = slt64(m_175087, rest_175064);
    bool bounds_check_175118 = x_175116 && y_175117;
    bool protect_assert_disj_175119 = empty_slice_175086 || bounds_check_175118;
    bool protect_assert_disj_175120 = loop_not_taken_175083 || protect_assert_disj_175119;
    bool index_certs_175121;
    
    if (!protect_assert_disj_175120) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175087, "] out of bounds for array of shape [", (long long) rest_175064, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:199:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184317 = (int64_t) 2 * rest_175064;
    int64_t bytes_184357 = (int64_t) 8 * rest_175064;
    int64_t bytes_184359 = (int64_t) 4 * rest_175064;
    int64_t binop_x_184382 = (int64_t) 4 * n_blocks_175063;
    int64_t bytes_184383 = i16_res_175059 * binop_x_184382;
    int64_t binop_x_184385 = (int64_t) 8 * n_blocks_175063;
    int64_t bytes_184386 = i16_res_175059 * binop_x_184385;
    int64_t bytes_184389 = (int64_t) 32 * n_blocks_175063;
    int64_t bytes_184414 = (int64_t) 2 * i16_res_175059;
    int64_t bytes_184491 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_175073;
    bool dim_match_175383 = n_95201 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066;
    bool empty_or_match_cert_175384;
    
    if (!dim_match_175383) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066, "] cannot match shape of type `[", (long long) n_95201, "](f32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:199:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184525 = (int64_t) 8 * n_95201;
    int64_t bytes_184527 = (int64_t) 4 * n_95201;
    
    if (futrts_indicesWithIncrement_9526(ctx, &ext_mem_184306, xs_mem_184305, n_95201, incr_95202) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_184308_cached_sizze_186362 < bytes_184307) {
        err = lexical_realloc(ctx, &mem_184308, &mem_184308_cached_sizze_186362, bytes_184307);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_184308, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) xs_mem_184305.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066});
    if (mem_184310_cached_sizze_186363 < bytes_184309) {
        err = lexical_realloc(ctx, &mem_184310, &mem_184310_cached_sizze_186363, bytes_184309);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_185721 = 0; i_185721 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066; i_185721++) {
        int64_t x_185722 = (int64_t) 0 + i_185721 * (int64_t) 1;
        
        ((int64_t *) mem_184310)[i_185721] = x_185722;
    }
    if (mem_184318_cached_sizze_186364 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184318, &mem_184318_cached_sizze_186364, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184320_cached_sizze_186365 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184320, &mem_184320_cached_sizze_186365, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184322_cached_sizze_186366 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184322, &mem_184322_cached_sizze_186366, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184324_cached_sizze_186367 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184324, &mem_184324_cached_sizze_186367, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184326_cached_sizze_186368 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184326, &mem_184326_cached_sizze_186368, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184358_cached_sizze_186369 < bytes_184357) {
        err = lexical_realloc(ctx, &mem_184358, &mem_184358_cached_sizze_186369, bytes_184357);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184360_cached_sizze_186370 < bytes_184359) {
        err = lexical_realloc(ctx, &mem_184360, &mem_184360_cached_sizze_186370, bytes_184359);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184373_cached_sizze_186371 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_184373, &mem_184373_cached_sizze_186371, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184374_cached_sizze_186372 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_184374, &mem_184374_cached_sizze_186372, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184381_cached_sizze_186373 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_184381, &mem_184381_cached_sizze_186373, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184384_cached_sizze_186374 < bytes_184383) {
        err = lexical_realloc(ctx, &mem_184384, &mem_184384_cached_sizze_186374, bytes_184383);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184387_cached_sizze_186375 < bytes_184386) {
        err = lexical_realloc(ctx, &mem_184387, &mem_184387_cached_sizze_186375, bytes_184386);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184390_cached_sizze_186376 < bytes_184389) {
        err = lexical_realloc(ctx, &mem_184390, &mem_184390_cached_sizze_186376, bytes_184389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184393_cached_sizze_186377 < binop_x_184385) {
        err = lexical_realloc(ctx, &mem_184393, &mem_184393_cached_sizze_186377, binop_x_184385);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184415_cached_sizze_186378 < bytes_184414) {
        err = lexical_realloc(ctx, &mem_184415, &mem_184415_cached_sizze_186378, bytes_184414);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184417_cached_sizze_186379 < bytes_184414) {
        err = lexical_realloc(ctx, &mem_184417, &mem_184417_cached_sizze_186379, bytes_184414);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184419_cached_sizze_186380 < bytes_184414) {
        err = lexical_realloc(ctx, &mem_184419, &mem_184419_cached_sizze_186380, bytes_184414);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184421_cached_sizze_186381 < bytes_184414) {
        err = lexical_realloc(ctx, &mem_184421, &mem_184421_cached_sizze_186381, bytes_184414);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184423_cached_sizze_186382 < bytes_184414) {
        err = lexical_realloc(ctx, &mem_184423, &mem_184423_cached_sizze_186382, bytes_184414);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184466_cached_sizze_186383 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_184466, &mem_184466_cached_sizze_186383, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184467_cached_sizze_186384 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_184467, &mem_184467_cached_sizze_186384, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184492_cached_sizze_186385 < bytes_184491) {
        err = lexical_realloc(ctx, &mem_184492, &mem_184492_cached_sizze_186385, bytes_184491);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184500_cached_sizze_186386 < bytes_184491) {
        err = lexical_realloc(ctx, &mem_184500, &mem_184500_cached_sizze_186386, bytes_184491);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_175124 = 0; i_175124 < iters_175058; i_175124++) {
        int32_t blocked_radix_sort_step_arg1_175127 = mul32(2, i_175124);
        int32_t get_bit_arg0_175132 = add32(1, blocked_radix_sort_step_arg1_175127);
        bool cond_f_res_175133 = get_bit_arg0_175132 == 31;
        bool cond_f_res_175134 = blocked_radix_sort_step_arg1_175127 == 31;
        int16_t discard_183985;
        int16_t discard_183986;
        int16_t discard_183987;
        int16_t discard_183988;
        int16_t scanacc_183970;
        int16_t scanacc_183971;
        int16_t scanacc_183972;
        int16_t scanacc_183973;
        
        scanacc_183970 = (int16_t) 0;
        scanacc_183971 = (int16_t) 0;
        scanacc_183972 = (int16_t) 0;
        scanacc_183973 = (int16_t) 0;
        for (int64_t i_183979 = 0; i_183979 < rest_175064; i_183979++) {
            int64_t slice_184192 = arg_175065 + i_183979;
            float eta_p_181898 = ((float *) mem_184308)[slice_184192];
            int32_t i32_arg0_181899 = futrts_to_bits32(eta_p_181898);
            int32_t unsign_arg0_181900 = ashr32(i32_arg0_181899, get_bit_arg0_175132);
            int32_t unsign_arg0_181901 = 1 & unsign_arg0_181900;
            int32_t unsign_arg0_181902 = ashr32(i32_arg0_181899, 31);
            int32_t unsign_arg0_181903 = 1 & unsign_arg0_181902;
            bool cond_181904 = unsign_arg0_181903 == 1;
            bool x_181905 = !cond_181904;
            bool y_181906 = cond_f_res_175133 && x_181905;
            bool cond_181907 = cond_181904 || y_181906;
            int32_t defunc_0_get_bit_res_181908;
            
            if (cond_181907) {
                int32_t defunc_0_get_bit_res_t_res_182034 = 1 ^ unsign_arg0_181901;
                
                defunc_0_get_bit_res_181908 = defunc_0_get_bit_res_t_res_182034;
            } else {
                defunc_0_get_bit_res_181908 = unsign_arg0_181901;
            }
            
            int32_t zp_lhs_181910 = mul32(2, defunc_0_get_bit_res_181908);
            int32_t unsign_arg0_181911 = ashr32(i32_arg0_181899, blocked_radix_sort_step_arg1_175127);
            int32_t unsign_arg0_181912 = 1 & unsign_arg0_181911;
            bool y_181913 = cond_f_res_175134 && x_181905;
            bool cond_181914 = cond_181904 || y_181913;
            int32_t defunc_0_get_bit_res_181915;
            
            if (cond_181914) {
                int32_t defunc_0_get_bit_res_t_res_182035 = 1 ^ unsign_arg0_181912;
                
                defunc_0_get_bit_res_181915 = defunc_0_get_bit_res_t_res_182035;
            } else {
                defunc_0_get_bit_res_181915 = unsign_arg0_181912;
            }
            
            int32_t i32_arg0_181917 = add32(zp_lhs_181910, defunc_0_get_bit_res_181915);
            int16_t i32_res_181918 = sext_i32_i16(i32_arg0_181917);
            int16_t defunc_0_f_res_181920;
            int16_t defunc_0_f_res_181921;
            int16_t defunc_0_f_res_181922;
            int16_t defunc_0_f_res_181923;
            
            if (futrts_lifted_lambda_9123(ctx, &defunc_0_f_res_181920, &defunc_0_f_res_181921, &defunc_0_f_res_181922, &defunc_0_f_res_181923, i32_res_181918) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_175182 = add16(defunc_0_f_res_181920, scanacc_183970);
            int16_t defunc_0_op_res_175183 = add16(defunc_0_f_res_181921, scanacc_183971);
            int16_t defunc_0_op_res_175184 = add16(defunc_0_f_res_181922, scanacc_183972);
            int16_t defunc_0_op_res_175185 = add16(defunc_0_f_res_181923, scanacc_183973);
            
            ((int16_t *) mem_184318)[i_183979] = defunc_0_op_res_175182;
            ((int16_t *) mem_184320)[i_183979] = defunc_0_op_res_175183;
            ((int16_t *) mem_184322)[i_183979] = defunc_0_op_res_175184;
            ((int16_t *) mem_184324)[i_183979] = defunc_0_op_res_175185;
            ((int16_t *) mem_184326)[i_183979] = i32_res_181918;
            
            int16_t scanacc_tmp_185725 = defunc_0_op_res_175182;
            int16_t scanacc_tmp_185726 = defunc_0_op_res_175183;
            int16_t scanacc_tmp_185727 = defunc_0_op_res_175184;
            int16_t scanacc_tmp_185728 = defunc_0_op_res_175185;
            
            scanacc_183970 = scanacc_tmp_185725;
            scanacc_183971 = scanacc_tmp_185726;
            scanacc_183972 = scanacc_tmp_185727;
            scanacc_183973 = scanacc_tmp_185728;
        }
        discard_183985 = scanacc_183970;
        discard_183986 = scanacc_183971;
        discard_183987 = scanacc_183972;
        discard_183988 = scanacc_183973;
        
        int16_t defunc_0_radix_sort_step_i16_res_175186;
        int16_t defunc_0_radix_sort_step_i16_res_175187;
        int16_t defunc_0_radix_sort_step_i16_res_175188;
        int16_t defunc_0_radix_sort_step_i16_res_175189;
        
        if (empty_slice_175086) {
            defunc_0_radix_sort_step_i16_res_175186 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_175187 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_175188 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_175189 = (int16_t) 0;
        } else {
            int16_t last_res_175190 = ((int16_t *) mem_184318)[m_175087];
            int16_t last_res_175191 = ((int16_t *) mem_184320)[m_175087];
            int16_t last_res_175192 = ((int16_t *) mem_184322)[m_175087];
            int16_t last_res_175193 = ((int16_t *) mem_184324)[m_175087];
            
            defunc_0_radix_sort_step_i16_res_175186 = last_res_175190;
            defunc_0_radix_sort_step_i16_res_175187 = last_res_175191;
            defunc_0_radix_sort_step_i16_res_175188 = last_res_175192;
            defunc_0_radix_sort_step_i16_res_175189 = last_res_175193;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184358, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184310, (int64_t) 0 + (int64_t) 1 * arg_175065, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_175064});
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_184360, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_184308, (int64_t) 0 + (int64_t) 1 * arg_175065, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_175064});
        for (int64_t write_iter_183989 = 0; write_iter_183989 < rest_175064; write_iter_183989++) {
            int16_t write_iv_183992 = ((int16_t *) mem_184326)[write_iter_183989];
            int16_t write_iv_183993 = ((int16_t *) mem_184318)[write_iter_183989];
            int16_t write_iv_183994 = ((int16_t *) mem_184320)[write_iter_183989];
            int16_t write_iv_183995 = ((int16_t *) mem_184322)[write_iter_183989];
            int16_t write_iv_183996 = ((int16_t *) mem_184324)[write_iter_183989];
            int64_t slice_184191 = arg_175065 + write_iter_183989;
            float write_iv_183997 = ((float *) mem_184308)[slice_184191];
            int64_t write_iv_183998 = ((int64_t *) mem_184310)[slice_184191];
            int64_t defunc_0_f_res_181882;
            
            if (futrts_lifted_f_9124(ctx, &defunc_0_f_res_181882, defunc_0_radix_sort_step_i16_res_175186, defunc_0_radix_sort_step_i16_res_175187, defunc_0_radix_sort_step_i16_res_175188, write_iv_183992, write_iv_183993, write_iv_183994, write_iv_183995, write_iv_183996) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_181882) && slt64(defunc_0_f_res_181882, rest_175064)) {
                ((float *) mem_184360)[defunc_0_f_res_181882] = write_iv_183997;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_181882) && slt64(defunc_0_f_res_181882, rest_175064)) {
                ((int64_t *) mem_184358)[defunc_0_f_res_181882] = write_iv_183998;
            }
        }
        ((int16_t *) mem_184373)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_175186;
        ((int16_t *) mem_184373)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_175187;
        ((int16_t *) mem_184373)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_175188;
        ((int16_t *) mem_184373)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_175189;
        for (int64_t i_184003 = 0; i_184003 < (int64_t) 4; i_184003++) {
            int16_t eta_p_175210 = ((int16_t *) mem_184373)[i_184003];
            int64_t i16_res_175211 = sext_i16_i64(eta_p_175210);
            
            ((int64_t *) mem_184374)[i_184003] = i16_res_175211;
        }
        
        int16_t tmp_175212 = add16(defunc_0_radix_sort_step_i16_res_175186, defunc_0_radix_sort_step_i16_res_175187);
        int16_t tmp_175213 = add16(defunc_0_radix_sort_step_i16_res_175188, tmp_175212);
        
        ((int16_t *) mem_184381)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_184381)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_175186;
        ((int16_t *) mem_184381)[(int64_t) 2] = tmp_175212;
        ((int16_t *) mem_184381)[(int64_t) 3] = tmp_175213;
        for (int64_t i_184053 = 0; i_184053 < n_blocks_175063; i_184053++) {
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_184384, i_184053 * i16_res_175059, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_184308, (int64_t) 0 + i_184053 * ((int64_t) 1 * i16_res_175059), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_175059});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184387, i_184053 * i16_res_175059, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184310, (int64_t) 0 + i_184053 * ((int64_t) 1 * i16_res_175059), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_175059});
            
            int64_t binop_x_184205 = i16_res_175059 * i_184053;
            int16_t discard_184025;
            int16_t discard_184026;
            int16_t discard_184027;
            int16_t discard_184028;
            int16_t scanacc_184010;
            int16_t scanacc_184011;
            int16_t scanacc_184012;
            int16_t scanacc_184013;
            
            scanacc_184010 = (int16_t) 0;
            scanacc_184011 = (int16_t) 0;
            scanacc_184012 = (int16_t) 0;
            scanacc_184013 = (int16_t) 0;
            for (int64_t i_184019 = 0; i_184019 < i16_res_175059; i_184019++) {
                int64_t new_index_184206 = i_184019 + binop_x_184205;
                float eta_p_181954 = ((float *) mem_184308)[new_index_184206];
                int32_t i32_arg0_181955 = futrts_to_bits32(eta_p_181954);
                int32_t unsign_arg0_181956 = ashr32(i32_arg0_181955, get_bit_arg0_175132);
                int32_t unsign_arg0_181957 = 1 & unsign_arg0_181956;
                int32_t unsign_arg0_181958 = ashr32(i32_arg0_181955, 31);
                int32_t unsign_arg0_181959 = 1 & unsign_arg0_181958;
                bool cond_181960 = unsign_arg0_181959 == 1;
                bool x_181961 = !cond_181960;
                bool y_181962 = cond_f_res_175133 && x_181961;
                bool cond_181963 = cond_181960 || y_181962;
                int32_t defunc_0_get_bit_res_181964;
                
                if (cond_181963) {
                    int32_t defunc_0_get_bit_res_t_res_182036 = 1 ^ unsign_arg0_181957;
                    
                    defunc_0_get_bit_res_181964 = defunc_0_get_bit_res_t_res_182036;
                } else {
                    defunc_0_get_bit_res_181964 = unsign_arg0_181957;
                }
                
                int32_t zp_lhs_181966 = mul32(2, defunc_0_get_bit_res_181964);
                int32_t unsign_arg0_181967 = ashr32(i32_arg0_181955, blocked_radix_sort_step_arg1_175127);
                int32_t unsign_arg0_181968 = 1 & unsign_arg0_181967;
                bool y_181969 = cond_f_res_175134 && x_181961;
                bool cond_181970 = cond_181960 || y_181969;
                int32_t defunc_0_get_bit_res_181971;
                
                if (cond_181970) {
                    int32_t defunc_0_get_bit_res_t_res_182037 = 1 ^ unsign_arg0_181968;
                    
                    defunc_0_get_bit_res_181971 = defunc_0_get_bit_res_t_res_182037;
                } else {
                    defunc_0_get_bit_res_181971 = unsign_arg0_181968;
                }
                
                int32_t i32_arg0_181973 = add32(zp_lhs_181966, defunc_0_get_bit_res_181971);
                int16_t i32_res_181974 = sext_i32_i16(i32_arg0_181973);
                int16_t defunc_0_f_res_181976;
                int16_t defunc_0_f_res_181977;
                int16_t defunc_0_f_res_181978;
                int16_t defunc_0_f_res_181979;
                
                if (futrts_lifted_lambda_9123(ctx, &defunc_0_f_res_181976, &defunc_0_f_res_181977, &defunc_0_f_res_181978, &defunc_0_f_res_181979, i32_res_181974) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_175274 = add16(defunc_0_f_res_181976, scanacc_184010);
                int16_t defunc_0_op_res_175275 = add16(defunc_0_f_res_181977, scanacc_184011);
                int16_t defunc_0_op_res_175276 = add16(defunc_0_f_res_181978, scanacc_184012);
                int16_t defunc_0_op_res_175277 = add16(defunc_0_f_res_181979, scanacc_184013);
                
                ((int16_t *) mem_184415)[i_184019] = defunc_0_op_res_175274;
                ((int16_t *) mem_184417)[i_184019] = defunc_0_op_res_175275;
                ((int16_t *) mem_184419)[i_184019] = defunc_0_op_res_175276;
                ((int16_t *) mem_184421)[i_184019] = defunc_0_op_res_175277;
                ((int16_t *) mem_184423)[i_184019] = i32_res_181974;
                
                int16_t scanacc_tmp_185741 = defunc_0_op_res_175274;
                int16_t scanacc_tmp_185742 = defunc_0_op_res_175275;
                int16_t scanacc_tmp_185743 = defunc_0_op_res_175276;
                int16_t scanacc_tmp_185744 = defunc_0_op_res_175277;
                
                scanacc_184010 = scanacc_tmp_185741;
                scanacc_184011 = scanacc_tmp_185742;
                scanacc_184012 = scanacc_tmp_185743;
                scanacc_184013 = scanacc_tmp_185744;
            }
            discard_184025 = scanacc_184010;
            discard_184026 = scanacc_184011;
            discard_184027 = scanacc_184012;
            discard_184028 = scanacc_184013;
            
            int16_t defunc_0_f_res_175278;
            int16_t defunc_0_f_res_175279;
            int16_t defunc_0_f_res_175280;
            int16_t defunc_0_f_res_175281;
            
            if (zzero_175060) {
                defunc_0_f_res_175278 = (int16_t) 0;
                defunc_0_f_res_175279 = (int16_t) 0;
                defunc_0_f_res_175280 = (int16_t) 0;
                defunc_0_f_res_175281 = (int16_t) 0;
            } else {
                int16_t last_res_175282 = ((int16_t *) mem_184415)[tmp_175102];
                int16_t last_res_175283 = ((int16_t *) mem_184417)[tmp_175102];
                int16_t last_res_175284 = ((int16_t *) mem_184419)[tmp_175102];
                int16_t last_res_175285 = ((int16_t *) mem_184421)[tmp_175102];
                
                defunc_0_f_res_175278 = last_res_175282;
                defunc_0_f_res_175279 = last_res_175283;
                defunc_0_f_res_175280 = last_res_175284;
                defunc_0_f_res_175281 = last_res_175285;
            }
            for (int64_t write_iter_184029 = 0; write_iter_184029 < i16_res_175059; write_iter_184029++) {
                int16_t write_iv_184032 = ((int16_t *) mem_184423)[write_iter_184029];
                int16_t write_iv_184033 = ((int16_t *) mem_184415)[write_iter_184029];
                int16_t write_iv_184034 = ((int16_t *) mem_184417)[write_iter_184029];
                int16_t write_iv_184035 = ((int16_t *) mem_184419)[write_iter_184029];
                int16_t write_iv_184036 = ((int16_t *) mem_184421)[write_iter_184029];
                int64_t new_index_184202 = write_iter_184029 + binop_x_184205;
                float write_iv_184037 = ((float *) mem_184308)[new_index_184202];
                int64_t write_iv_184038 = ((int64_t *) mem_184310)[new_index_184202];
                int64_t defunc_0_f_res_181938;
                
                if (futrts_lifted_f_9124(ctx, &defunc_0_f_res_181938, defunc_0_f_res_175278, defunc_0_f_res_175279, defunc_0_f_res_175280, write_iv_184032, write_iv_184033, write_iv_184034, write_iv_184035, write_iv_184036) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_181938) && slt64(defunc_0_f_res_181938, i16_res_175059)) {
                    ((float *) mem_184384)[i_184053 * i16_res_175059 + defunc_0_f_res_181938] = write_iv_184037;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_181938) && slt64(defunc_0_f_res_181938, i16_res_175059)) {
                    ((int64_t *) mem_184387)[i_184053 * i16_res_175059 + defunc_0_f_res_181938] = write_iv_184038;
                }
            }
            ((int16_t *) mem_184466)[(int64_t) 0] = defunc_0_f_res_175278;
            ((int16_t *) mem_184466)[(int64_t) 1] = defunc_0_f_res_175279;
            ((int16_t *) mem_184466)[(int64_t) 2] = defunc_0_f_res_175280;
            ((int16_t *) mem_184466)[(int64_t) 3] = defunc_0_f_res_175281;
            for (int64_t i_184043 = 0; i_184043 < (int64_t) 4; i_184043++) {
                int16_t eta_p_175300 = ((int16_t *) mem_184466)[i_184043];
                int64_t i16_res_175301 = sext_i16_i64(eta_p_175300);
                
                ((int64_t *) mem_184467)[i_184043] = i16_res_175301;
            }
            
            int16_t tmp_175302 = add16(defunc_0_f_res_175278, defunc_0_f_res_175279);
            int16_t tmp_175303 = add16(defunc_0_f_res_175280, tmp_175302);
            
            ((int16_t *) mem_184393)[i_184053 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_184393)[i_184053 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_175278;
            ((int16_t *) mem_184393)[i_184053 * (int64_t) 4 + (int64_t) 2] = tmp_175302;
            ((int16_t *) mem_184393)[i_184053 * (int64_t) 4 + (int64_t) 3] = tmp_175303;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184390, i_184053 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184467, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_184065;
        int64_t scanacc_184061 = (int64_t) 0;
        
        for (int64_t i_184063 = 0; i_184063 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_175074; i_184063++) {
            int64_t new_index_184180 = squot64(i_184063, dzlz7bUZLzpZRz20Unz20U1z7dUzg_175073);
            int64_t binop_y_184182 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_175073 * new_index_184180;
            int64_t new_index_184183 = i_184063 - binop_y_184182;
            bool index_concat_cmp_184185 = sle64(n_blocks_175063, new_index_184183);
            int64_t index_concat_branch_184189;
            
            if (index_concat_cmp_184185) {
                int64_t index_concat_184187 = ((int64_t *) mem_184374)[new_index_184180];
                
                index_concat_branch_184189 = index_concat_184187;
            } else {
                int64_t index_concat_184188 = ((int64_t *) mem_184390)[new_index_184183 * (int64_t) 4 + new_index_184180];
                
                index_concat_branch_184189 = index_concat_184188;
            }
            
            int64_t defunc_0_op_res_175317 = add64(scanacc_184061, index_concat_branch_184189);
            
            ((int64_t *) mem_184492)[i_184063] = defunc_0_op_res_175317;
            
            int64_t scanacc_tmp_185753 = defunc_0_op_res_175317;
            
            scanacc_184061 = scanacc_tmp_185753;
        }
        discard_184065 = scanacc_184061;
        for (int64_t i_184068 = 0; i_184068 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_175074; i_184068++) {
            int64_t zv_lhs_175320 = add64((int64_t) -1, i_184068);
            int64_t tmp_175321 = smod64(zv_lhs_175320, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_175074);
            int64_t lifted_lambda_res_175322 = ((int64_t *) mem_184492)[tmp_175321];
            
            ((int64_t *) mem_184500)[i_184068] = lifted_lambda_res_175322;
        }
        ((int64_t *) mem_184500)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_184070 = 0; write_iter_184070 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066; write_iter_184070++) {
            bool index_concat_cmp_184171 = sle64(arg_175065, write_iter_184070);
            float index_concat_branch_181826;
            
            if (index_concat_cmp_184171) {
                int64_t index_concat_i_182046 = sub64(write_iter_184070, arg_175065);
                float index_concat_182047 = ((float *) mem_184360)[index_concat_i_182046];
                
                index_concat_branch_181826 = index_concat_182047;
            } else {
                int64_t new_index_181829 = squot64(write_iter_184070, i16_res_175059);
                int64_t binop_y_181830 = i16_res_175059 * new_index_181829;
                int64_t new_index_181831 = write_iter_184070 - binop_y_181830;
                float index_concat_181832 = ((float *) mem_184384)[new_index_181829 * i16_res_175059 + new_index_181831];
                
                index_concat_branch_181826 = index_concat_181832;
            }
            
            int32_t i32_arg0_181833 = futrts_to_bits32(index_concat_branch_181826);
            int32_t unsign_arg0_181834 = ashr32(i32_arg0_181833, 31);
            int32_t unsign_arg0_181835 = 1 & unsign_arg0_181834;
            bool cond_181836 = unsign_arg0_181835 == 1;
            bool x_181837 = !cond_181836;
            int32_t zlzb_rhs_181838;
            int32_t acc_181840 = 0;
            
            for (int32_t i_181839 = 0; i_181839 < 2; i_181839++) {
                int32_t get_bit_arg0_181841 = add32(blocked_radix_sort_step_arg1_175127, i_181839);
                int32_t unsign_arg0_181842 = ashr32(i32_arg0_181833, get_bit_arg0_181841);
                int32_t unsign_arg0_181843 = 1 & unsign_arg0_181842;
                bool cond_f_res_181844 = get_bit_arg0_181841 == 31;
                bool y_181845 = x_181837 && cond_f_res_181844;
                bool cond_181846 = cond_181836 || y_181845;
                int32_t defunc_0_get_bit_res_181847;
                
                if (cond_181846) {
                    int32_t defunc_0_get_bit_res_t_res_182048 = 1 ^ unsign_arg0_181843;
                    
                    defunc_0_get_bit_res_181847 = defunc_0_get_bit_res_t_res_182048;
                } else {
                    defunc_0_get_bit_res_181847 = unsign_arg0_181843;
                }
                
                int32_t zp_rhs_181849 = shl32(defunc_0_get_bit_res_181847, i_181839);
                int32_t loopres_181850 = add32(acc_181840, zp_rhs_181849);
                int32_t acc_tmp_185758 = loopres_181850;
                
                acc_181840 = acc_tmp_185758;
            }
            zlzb_rhs_181838 = acc_181840;
            
            int64_t i32_res_181851 = sext_i32_i64(zlzb_rhs_181838);
            int64_t block_idx_181852 = sdiv64(write_iter_184070, i16_res_175059);
            bool x_181853 = sle64((int64_t) 0, block_idx_181852);
            bool y_181854 = slt64(block_idx_181852, dzlz7bUZLzpZRz20Unz20U1z7dUzg_175073);
            bool bounds_check_181855 = x_181853 && y_181854;
            bool index_certs_181856;
            
            if (!bounds_check_181855) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_181852, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_175073, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:199:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_181857 = sle64((int64_t) 0, i32_res_181851);
            bool y_181858 = slt64(i32_res_181851, (int64_t) 4);
            bool bounds_check_181859 = x_181857 && y_181858;
            bool index_certs_181860;
            
            if (!bounds_check_181859) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_181851, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:199:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            float index_concat_branch_184175;
            
            if (index_concat_cmp_184171) {
                int64_t index_concat_i_184172 = sub64(write_iter_184070, arg_175065);
                float index_concat_184173 = ((float *) mem_184360)[index_concat_i_184172];
                
                index_concat_branch_184175 = index_concat_184173;
            } else {
                int64_t new_index_184197 = squot64(write_iter_184070, i16_res_175059);
                int64_t binop_y_184199 = i16_res_175059 * new_index_184197;
                int64_t new_index_184200 = write_iter_184070 - binop_y_184199;
                float index_concat_184174 = ((float *) mem_184384)[new_index_184197 * i16_res_175059 + new_index_184200];
                
                index_concat_branch_184175 = index_concat_184174;
            }
            
            int64_t index_concat_branch_184169;
            
            if (index_concat_cmp_184171) {
                int64_t index_concat_i_184166 = sub64(write_iter_184070, arg_175065);
                int64_t index_concat_184167 = ((int64_t *) mem_184358)[index_concat_i_184166];
                
                index_concat_branch_184169 = index_concat_184167;
            } else {
                int64_t new_index_184193 = squot64(write_iter_184070, i16_res_175059);
                int64_t binop_y_184195 = i16_res_175059 * new_index_184193;
                int64_t new_index_184196 = write_iter_184070 - binop_y_184195;
                int64_t index_concat_184168 = ((int64_t *) mem_184387)[new_index_184193 * i16_res_175059 + new_index_184196];
                
                index_concat_branch_184169 = index_concat_184168;
            }
            
            int64_t binop_x_181861 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_175073 * i32_res_181851;
            int64_t new_index_181862 = block_idx_181852 + binop_x_181861;
            int64_t new_offset_181863 = ((int64_t *) mem_184500)[new_index_181862];
            bool index_concat_cmp_181864 = sle64(n_blocks_175063, block_idx_181852);
            int16_t index_concat_branch_181865;
            
            if (index_concat_cmp_181864) {
                int16_t index_concat_182049 = ((int16_t *) mem_184381)[i32_res_181851];
                
                index_concat_branch_181865 = index_concat_182049;
            } else {
                int16_t index_concat_181867 = ((int16_t *) mem_184393)[block_idx_181852 * (int64_t) 4 + i32_res_181851];
                
                index_concat_branch_181865 = index_concat_181867;
            }
            
            int64_t i16_res_181868 = sext_i16_i64(index_concat_branch_181865);
            int64_t zp_lhs_181869 = mul64(i16_res_175059, block_idx_181852);
            int64_t old_offset_181870 = add64(i16_res_181868, zp_lhs_181869);
            int64_t zp_lhs_181871 = sub64(write_iter_184070, old_offset_181870);
            int64_t idx_181872 = add64(new_offset_181863, zp_lhs_181871);
            
            if (sle64((int64_t) 0, idx_181872) && slt64(idx_181872, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066)) {
                ((float *) mem_184308)[idx_181872] = index_concat_branch_184175;
            }
            if (sle64((int64_t) 0, idx_181872) && slt64(idx_181872, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_175066)) {
                ((int64_t *) mem_184310)[idx_181872] = index_concat_branch_184169;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_184526, bytes_184525, "mem_184526")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184528, bytes_184527, "mem_184528")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_184082 = 0; i_184082 < n_95201; i_184082++) {
        int64_t eta_p_175388 = ((int64_t *) mem_184310)[i_184082];
        bool x_175389 = sle64((int64_t) 0, eta_p_175388);
        bool y_175390 = slt64(eta_p_175388, n_95201);
        bool bounds_check_175391 = x_175389 && y_175390;
        bool index_certs_175392;
        
        if (!bounds_check_175391) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_175388, "] out of bounds for array of shape [", (long long) n_95201, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:199:95-98\n   #5  ftsort.fut:25:3-46\n   #6  ftsort.fut:24:1-25:46\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_175393 = ((int64_t *) ext_mem_184306.mem)[eta_p_175388];
        float lifted_lambda_res_175394 = ((float *) xs_mem_184305.mem)[eta_p_175388];
        
        ((int64_t *) mem_184526.mem)[i_184082] = lifted_lambda_res_175393;
        ((float *) mem_184528.mem)[i_184082] = lifted_lambda_res_175394;
    }
    if (memblock_unref(ctx, &ext_mem_184306, "ext_mem_184306") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185719, &mem_184526, "mem_184526") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185720, &mem_184528, "mem_184528") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186360, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186361, &mem_out_185720, "mem_out_185720") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_184308);
        free(mem_184310);
        free(mem_184318);
        free(mem_184320);
        free(mem_184322);
        free(mem_184324);
        free(mem_184326);
        free(mem_184358);
        free(mem_184360);
        free(mem_184373);
        free(mem_184374);
        free(mem_184381);
        free(mem_184384);
        free(mem_184387);
        free(mem_184390);
        free(mem_184393);
        free(mem_184415);
        free(mem_184417);
        free(mem_184419);
        free(mem_184421);
        free(mem_184423);
        free(mem_184466);
        free(mem_184467);
        free(mem_184492);
        free(mem_184500);
        if (memblock_unref(ctx, &mem_184528, "mem_184528") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184526, "mem_184526") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184306, "ext_mem_184306") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185720, "mem_out_185720") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_186387, struct memblock *mem_out_p_186388, struct memblock xs_mem_184305, int64_t n_89850, int64_t incr_89851, int16_t block_sizze_89852)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_184308_cached_sizze_186389 = 0;
    unsigned char *mem_184308 = NULL;
    int64_t mem_184310_cached_sizze_186390 = 0;
    unsigned char *mem_184310 = NULL;
    int64_t mem_184318_cached_sizze_186391 = 0;
    unsigned char *mem_184318 = NULL;
    int64_t mem_184320_cached_sizze_186392 = 0;
    unsigned char *mem_184320 = NULL;
    int64_t mem_184322_cached_sizze_186393 = 0;
    unsigned char *mem_184322 = NULL;
    int64_t mem_184324_cached_sizze_186394 = 0;
    unsigned char *mem_184324 = NULL;
    int64_t mem_184326_cached_sizze_186395 = 0;
    unsigned char *mem_184326 = NULL;
    int64_t mem_184358_cached_sizze_186396 = 0;
    unsigned char *mem_184358 = NULL;
    int64_t mem_184360_cached_sizze_186397 = 0;
    unsigned char *mem_184360 = NULL;
    int64_t mem_184373_cached_sizze_186398 = 0;
    unsigned char *mem_184373 = NULL;
    int64_t mem_184374_cached_sizze_186399 = 0;
    unsigned char *mem_184374 = NULL;
    int64_t mem_184381_cached_sizze_186400 = 0;
    unsigned char *mem_184381 = NULL;
    int64_t mem_184384_cached_sizze_186401 = 0;
    unsigned char *mem_184384 = NULL;
    int64_t mem_184387_cached_sizze_186402 = 0;
    unsigned char *mem_184387 = NULL;
    int64_t mem_184390_cached_sizze_186403 = 0;
    unsigned char *mem_184390 = NULL;
    int64_t mem_184393_cached_sizze_186404 = 0;
    unsigned char *mem_184393 = NULL;
    int64_t mem_184415_cached_sizze_186405 = 0;
    unsigned char *mem_184415 = NULL;
    int64_t mem_184417_cached_sizze_186406 = 0;
    unsigned char *mem_184417 = NULL;
    int64_t mem_184419_cached_sizze_186407 = 0;
    unsigned char *mem_184419 = NULL;
    int64_t mem_184421_cached_sizze_186408 = 0;
    unsigned char *mem_184421 = NULL;
    int64_t mem_184423_cached_sizze_186409 = 0;
    unsigned char *mem_184423 = NULL;
    int64_t mem_184466_cached_sizze_186410 = 0;
    unsigned char *mem_184466 = NULL;
    int64_t mem_184467_cached_sizze_186411 = 0;
    unsigned char *mem_184467 = NULL;
    int64_t mem_184492_cached_sizze_186412 = 0;
    unsigned char *mem_184492 = NULL;
    int64_t mem_184500_cached_sizze_186413 = 0;
    unsigned char *mem_184500 = NULL;
    struct memblock mem_184528;
    
    mem_184528.references = NULL;
    
    struct memblock mem_184526;
    
    mem_184526.references = NULL;
    
    struct memblock ext_mem_184306;
    
    ext_mem_184306.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    bool cond_171836 = n_89850 == (int64_t) 0;
    int32_t iters_171837;
    
    if (cond_171836) {
        iters_171837 = 0;
    } else {
        iters_171837 = 16;
    }
    
    int64_t i16_res_171838 = sext_i16_i64(block_sizze_89852);
    bool zzero_171839 = i16_res_171838 == (int64_t) 0;
    bool nonzzero_171840 = !zzero_171839;
    bool nonzzero_cert_171841;
    
    if (!nonzzero_171840) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:146:93-96\n   #5  ftsort.fut:19:3-44\n   #6  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_171842 = sdiv64(n_89850, i16_res_171838);
    int64_t rest_171843 = smod64(n_89850, i16_res_171838);
    int64_t arg_171844 = mul64(i16_res_171838, n_blocks_171842);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845 = add64(rest_171843, arg_171844);
    bool dim_match_171846 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845 == n_89850;
    bool empty_or_match_cert_171847;
    
    if (!dim_match_171846) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_89850, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845, "](i32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #5  ftbasics.fut:146:93-96\n   #6  ftsort.fut:19:3-44\n   #7  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184307 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845;
    int64_t bytes_184309 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845;
    bool loop_nonempty_171851 = slt32(0, iters_171837);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852 = add64((int64_t) 1, n_blocks_171842);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171853 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852);
    bool empty_slice_171854 = arg_171844 == (int64_t) 0;
    int64_t m_171855 = sub64(arg_171844, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_171856 = sle64((int64_t) 0, m_171855);
    bool i_p_m_t_s_leq_w_171857 = slt64(m_171855, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845);
    bool i_lte_j_171858 = sle64((int64_t) 0, arg_171844);
    bool y_171859 = zzero_leq_i_p_m_t_s_171856 && i_p_m_t_s_leq_w_171857;
    bool forwards_ok_171860 = i_lte_j_171858 && y_171859;
    bool ok_or_empty_171861 = empty_slice_171854 || forwards_ok_171860;
    bool loop_not_taken_171862 = !loop_nonempty_171851;
    bool protect_assert_disj_171863 = ok_or_empty_171861 || loop_not_taken_171862;
    bool index_certs_171864;
    
    if (!protect_assert_disj_171863) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_171844, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:146:93-96\n   #7  ftsort.fut:19:3-44\n   #8  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_171865 = rest_171843 == (int64_t) 0;
    int64_t m_171866 = sub64(rest_171843, (int64_t) 1);
    int64_t i_p_m_t_s_171867 = add64(arg_171844, m_171866);
    bool zzero_leq_i_p_m_t_s_171868 = sle64((int64_t) 0, i_p_m_t_s_171867);
    bool i_p_m_t_s_leq_w_171869 = slt64(i_p_m_t_s_171867, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845);
    bool i_lte_j_171870 = sle64(arg_171844, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845);
    bool y_171871 = zzero_leq_i_p_m_t_s_171868 && i_p_m_t_s_leq_w_171869;
    bool forwards_ok_171872 = i_lte_j_171870 && y_171871;
    bool ok_or_empty_171873 = empty_slice_171865 || forwards_ok_171872;
    bool protect_assert_disj_171874 = loop_not_taken_171862 || ok_or_empty_171873;
    bool index_certs_171875;
    
    if (!protect_assert_disj_171874) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_171844, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:146:93-96\n   #7  ftsort.fut:19:3-44\n   #8  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_171876 = sle64((int64_t) 0, n_blocks_171842);
    bool binop_y_171877 = sle64((int64_t) 0, i16_res_171838);
    bool binop_y_171878 = binop_x_171876 && binop_y_171877;
    bool protect_assert_disj_171879 = loop_not_taken_171862 || binop_y_171878;
    bool dim_ok_cert_171880;
    
    if (!protect_assert_disj_171879) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_171844, "] to array of shape [", (long long) n_blocks_171842, "][", (long long) i16_res_171838, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:146:93-96\n   #7  ftsort.fut:19:3-44\n   #8  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_171881 = sub64(i16_res_171838, (int64_t) 1);
    bool x_171882 = sle64((int64_t) 0, tmp_171881);
    bool y_171883 = slt64(tmp_171881, i16_res_171838);
    bool bounds_check_171884 = x_171882 && y_171883;
    bool protect_assert_disj_171885 = zzero_171839 || bounds_check_171884;
    bool protect_assert_disj_171886 = loop_not_taken_171862 || protect_assert_disj_171885;
    bool index_certs_171887;
    
    if (!protect_assert_disj_171886) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171881, "] out of bounds for array of shape [", (long long) i16_res_171838, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:146:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_171889 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171853);
    bool protect_assert_disj_171890 = loop_not_taken_171862 || y_171889;
    bool index_certs_171891;
    
    if (!protect_assert_disj_171890) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171853, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:146:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_171893 = nonzzero_171840 || loop_not_taken_171862;
    bool nonzzero_cert_171894;
    
    if (!protect_assert_disj_171893) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:146:93-96\n   #9  ftsort.fut:19:3-44\n   #10 ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_171895 = sle64((int64_t) 0, m_171866);
    bool y_171896 = slt64(m_171866, rest_171843);
    bool bounds_check_171897 = x_171895 && y_171896;
    bool protect_assert_disj_171898 = empty_slice_171865 || bounds_check_171897;
    bool protect_assert_disj_171899 = loop_not_taken_171862 || protect_assert_disj_171898;
    bool index_certs_171900;
    
    if (!protect_assert_disj_171899) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_171866, "] out of bounds for array of shape [", (long long) rest_171843, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:166:41-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:146:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184317 = (int64_t) 2 * rest_171843;
    int64_t bytes_184357 = (int64_t) 8 * rest_171843;
    int64_t bytes_184359 = (int64_t) 4 * rest_171843;
    int64_t binop_x_184382 = (int64_t) 4 * n_blocks_171842;
    int64_t bytes_184383 = i16_res_171838 * binop_x_184382;
    int64_t binop_x_184385 = (int64_t) 8 * n_blocks_171842;
    int64_t bytes_184386 = i16_res_171838 * binop_x_184385;
    int64_t bytes_184389 = (int64_t) 32 * n_blocks_171842;
    int64_t bytes_184414 = (int64_t) 2 * i16_res_171838;
    int64_t bytes_184491 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852;
    bool dim_match_172132 = n_89850 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845;
    bool empty_or_match_cert_172133;
    
    if (!dim_match_172132) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845, "] cannot match shape of type `[", (long long) n_89850, "](i32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:146:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184525 = (int64_t) 8 * n_89850;
    int64_t bytes_184527 = (int64_t) 4 * n_89850;
    
    if (futrts_indicesWithIncrement_9316(ctx, &ext_mem_184306, xs_mem_184305, n_89850, incr_89851) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_184308_cached_sizze_186389 < bytes_184307) {
        err = lexical_realloc(ctx, &mem_184308, &mem_184308_cached_sizze_186389, bytes_184307);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_184308, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) xs_mem_184305.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845});
    if (mem_184310_cached_sizze_186390 < bytes_184309) {
        err = lexical_realloc(ctx, &mem_184310, &mem_184310_cached_sizze_186390, bytes_184309);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_185721 = 0; i_185721 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845; i_185721++) {
        int64_t x_185722 = (int64_t) 0 + i_185721 * (int64_t) 1;
        
        ((int64_t *) mem_184310)[i_185721] = x_185722;
    }
    if (mem_184318_cached_sizze_186391 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184318, &mem_184318_cached_sizze_186391, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184320_cached_sizze_186392 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184320, &mem_184320_cached_sizze_186392, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184322_cached_sizze_186393 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184322, &mem_184322_cached_sizze_186393, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184324_cached_sizze_186394 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184324, &mem_184324_cached_sizze_186394, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184326_cached_sizze_186395 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184326, &mem_184326_cached_sizze_186395, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184358_cached_sizze_186396 < bytes_184357) {
        err = lexical_realloc(ctx, &mem_184358, &mem_184358_cached_sizze_186396, bytes_184357);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184360_cached_sizze_186397 < bytes_184359) {
        err = lexical_realloc(ctx, &mem_184360, &mem_184360_cached_sizze_186397, bytes_184359);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184373_cached_sizze_186398 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_184373, &mem_184373_cached_sizze_186398, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184374_cached_sizze_186399 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_184374, &mem_184374_cached_sizze_186399, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184381_cached_sizze_186400 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_184381, &mem_184381_cached_sizze_186400, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184384_cached_sizze_186401 < bytes_184383) {
        err = lexical_realloc(ctx, &mem_184384, &mem_184384_cached_sizze_186401, bytes_184383);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184387_cached_sizze_186402 < bytes_184386) {
        err = lexical_realloc(ctx, &mem_184387, &mem_184387_cached_sizze_186402, bytes_184386);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184390_cached_sizze_186403 < bytes_184389) {
        err = lexical_realloc(ctx, &mem_184390, &mem_184390_cached_sizze_186403, bytes_184389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184393_cached_sizze_186404 < binop_x_184385) {
        err = lexical_realloc(ctx, &mem_184393, &mem_184393_cached_sizze_186404, binop_x_184385);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184415_cached_sizze_186405 < bytes_184414) {
        err = lexical_realloc(ctx, &mem_184415, &mem_184415_cached_sizze_186405, bytes_184414);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184417_cached_sizze_186406 < bytes_184414) {
        err = lexical_realloc(ctx, &mem_184417, &mem_184417_cached_sizze_186406, bytes_184414);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184419_cached_sizze_186407 < bytes_184414) {
        err = lexical_realloc(ctx, &mem_184419, &mem_184419_cached_sizze_186407, bytes_184414);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184421_cached_sizze_186408 < bytes_184414) {
        err = lexical_realloc(ctx, &mem_184421, &mem_184421_cached_sizze_186408, bytes_184414);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184423_cached_sizze_186409 < bytes_184414) {
        err = lexical_realloc(ctx, &mem_184423, &mem_184423_cached_sizze_186409, bytes_184414);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184466_cached_sizze_186410 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_184466, &mem_184466_cached_sizze_186410, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184467_cached_sizze_186411 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_184467, &mem_184467_cached_sizze_186411, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184492_cached_sizze_186412 < bytes_184491) {
        err = lexical_realloc(ctx, &mem_184492, &mem_184492_cached_sizze_186412, bytes_184491);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184500_cached_sizze_186413 < bytes_184491) {
        err = lexical_realloc(ctx, &mem_184500, &mem_184500_cached_sizze_186413, bytes_184491);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_171903 = 0; i_171903 < iters_171837; i_171903++) {
        int32_t blocked_radix_sort_step_arg1_171906 = mul32(2, i_171903);
        int32_t get_bit_arg0_171911 = add32(1, blocked_radix_sort_step_arg1_171906);
        bool cond_171912 = get_bit_arg0_171911 == 31;
        bool cond_171913 = blocked_radix_sort_step_arg1_171906 == 31;
        int16_t discard_183985;
        int16_t discard_183986;
        int16_t discard_183987;
        int16_t discard_183988;
        int16_t scanacc_183970;
        int16_t scanacc_183971;
        int16_t scanacc_183972;
        int16_t scanacc_183973;
        
        scanacc_183970 = (int16_t) 0;
        scanacc_183971 = (int16_t) 0;
        scanacc_183972 = (int16_t) 0;
        scanacc_183973 = (int16_t) 0;
        for (int64_t i_183979 = 0; i_183979 < rest_171843; i_183979++) {
            int64_t slice_184192 = arg_171844 + i_183979;
            int32_t eta_p_181891 = ((int32_t *) mem_184308)[slice_184192];
            int32_t zgzg_res_181892 = ashr32(eta_p_181891, get_bit_arg0_171911);
            int32_t za_res_181893 = 1 & zgzg_res_181892;
            int32_t defunc_0_get_bit_res_181894;
            
            if (cond_171912) {
                int32_t defunc_0_get_bit_res_t_res_182009 = 1 ^ za_res_181893;
                
                defunc_0_get_bit_res_181894 = defunc_0_get_bit_res_t_res_182009;
            } else {
                defunc_0_get_bit_res_181894 = za_res_181893;
            }
            
            int32_t zp_lhs_181896 = mul32(2, defunc_0_get_bit_res_181894);
            int32_t zgzg_res_181897 = ashr32(eta_p_181891, blocked_radix_sort_step_arg1_171906);
            int32_t za_res_181898 = 1 & zgzg_res_181897;
            int32_t defunc_0_get_bit_res_181899;
            
            if (cond_171913) {
                int32_t defunc_0_get_bit_res_t_res_182010 = 1 ^ za_res_181898;
                
                defunc_0_get_bit_res_181899 = defunc_0_get_bit_res_t_res_182010;
            } else {
                defunc_0_get_bit_res_181899 = za_res_181898;
            }
            
            int32_t i32_arg0_181901 = add32(zp_lhs_181896, defunc_0_get_bit_res_181899);
            int16_t i32_res_181902 = sext_i32_i16(i32_arg0_181901);
            int16_t defunc_0_f_res_181904;
            int16_t defunc_0_f_res_181905;
            int16_t defunc_0_f_res_181906;
            int16_t defunc_0_f_res_181907;
            
            if (futrts_lifted_lambda_9123(ctx, &defunc_0_f_res_181904, &defunc_0_f_res_181905, &defunc_0_f_res_181906, &defunc_0_f_res_181907, i32_res_181902) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_171950 = add16(defunc_0_f_res_181904, scanacc_183970);
            int16_t defunc_0_op_res_171951 = add16(defunc_0_f_res_181905, scanacc_183971);
            int16_t defunc_0_op_res_171952 = add16(defunc_0_f_res_181906, scanacc_183972);
            int16_t defunc_0_op_res_171953 = add16(defunc_0_f_res_181907, scanacc_183973);
            
            ((int16_t *) mem_184318)[i_183979] = defunc_0_op_res_171950;
            ((int16_t *) mem_184320)[i_183979] = defunc_0_op_res_171951;
            ((int16_t *) mem_184322)[i_183979] = defunc_0_op_res_171952;
            ((int16_t *) mem_184324)[i_183979] = defunc_0_op_res_171953;
            ((int16_t *) mem_184326)[i_183979] = i32_res_181902;
            
            int16_t scanacc_tmp_185725 = defunc_0_op_res_171950;
            int16_t scanacc_tmp_185726 = defunc_0_op_res_171951;
            int16_t scanacc_tmp_185727 = defunc_0_op_res_171952;
            int16_t scanacc_tmp_185728 = defunc_0_op_res_171953;
            
            scanacc_183970 = scanacc_tmp_185725;
            scanacc_183971 = scanacc_tmp_185726;
            scanacc_183972 = scanacc_tmp_185727;
            scanacc_183973 = scanacc_tmp_185728;
        }
        discard_183985 = scanacc_183970;
        discard_183986 = scanacc_183971;
        discard_183987 = scanacc_183972;
        discard_183988 = scanacc_183973;
        
        int16_t defunc_0_radix_sort_step_i16_res_171954;
        int16_t defunc_0_radix_sort_step_i16_res_171955;
        int16_t defunc_0_radix_sort_step_i16_res_171956;
        int16_t defunc_0_radix_sort_step_i16_res_171957;
        
        if (empty_slice_171865) {
            defunc_0_radix_sort_step_i16_res_171954 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171955 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171956 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171957 = (int16_t) 0;
        } else {
            int16_t last_res_171958 = ((int16_t *) mem_184318)[m_171866];
            int16_t last_res_171959 = ((int16_t *) mem_184320)[m_171866];
            int16_t last_res_171960 = ((int16_t *) mem_184322)[m_171866];
            int16_t last_res_171961 = ((int16_t *) mem_184324)[m_171866];
            
            defunc_0_radix_sort_step_i16_res_171954 = last_res_171958;
            defunc_0_radix_sort_step_i16_res_171955 = last_res_171959;
            defunc_0_radix_sort_step_i16_res_171956 = last_res_171960;
            defunc_0_radix_sort_step_i16_res_171957 = last_res_171961;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184358, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184310, (int64_t) 0 + (int64_t) 1 * arg_171844, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171843});
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_184360, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_184308, (int64_t) 0 + (int64_t) 1 * arg_171844, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171843});
        for (int64_t write_iter_183989 = 0; write_iter_183989 < rest_171843; write_iter_183989++) {
            int16_t write_iv_183992 = ((int16_t *) mem_184326)[write_iter_183989];
            int16_t write_iv_183993 = ((int16_t *) mem_184318)[write_iter_183989];
            int16_t write_iv_183994 = ((int16_t *) mem_184320)[write_iter_183989];
            int16_t write_iv_183995 = ((int16_t *) mem_184322)[write_iter_183989];
            int16_t write_iv_183996 = ((int16_t *) mem_184324)[write_iter_183989];
            int64_t slice_184191 = arg_171844 + write_iter_183989;
            int32_t write_iv_183997 = ((int32_t *) mem_184308)[slice_184191];
            int64_t write_iv_183998 = ((int64_t *) mem_184310)[slice_184191];
            int64_t defunc_0_f_res_181875;
            
            if (futrts_lifted_f_9124(ctx, &defunc_0_f_res_181875, defunc_0_radix_sort_step_i16_res_171954, defunc_0_radix_sort_step_i16_res_171955, defunc_0_radix_sort_step_i16_res_171956, write_iv_183992, write_iv_183993, write_iv_183994, write_iv_183995, write_iv_183996) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_181875) && slt64(defunc_0_f_res_181875, rest_171843)) {
                ((int32_t *) mem_184360)[defunc_0_f_res_181875] = write_iv_183997;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_181875) && slt64(defunc_0_f_res_181875, rest_171843)) {
                ((int64_t *) mem_184358)[defunc_0_f_res_181875] = write_iv_183998;
            }
        }
        ((int16_t *) mem_184373)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_171954;
        ((int16_t *) mem_184373)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171955;
        ((int16_t *) mem_184373)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_171956;
        ((int16_t *) mem_184373)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_171957;
        for (int64_t i_184003 = 0; i_184003 < (int64_t) 4; i_184003++) {
            int16_t eta_p_171978 = ((int16_t *) mem_184373)[i_184003];
            int64_t i16_res_171979 = sext_i16_i64(eta_p_171978);
            
            ((int64_t *) mem_184374)[i_184003] = i16_res_171979;
        }
        
        int16_t tmp_171980 = add16(defunc_0_radix_sort_step_i16_res_171954, defunc_0_radix_sort_step_i16_res_171955);
        int16_t tmp_171981 = add16(defunc_0_radix_sort_step_i16_res_171956, tmp_171980);
        
        ((int16_t *) mem_184381)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_184381)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171954;
        ((int16_t *) mem_184381)[(int64_t) 2] = tmp_171980;
        ((int16_t *) mem_184381)[(int64_t) 3] = tmp_171981;
        for (int64_t i_184053 = 0; i_184053 < n_blocks_171842; i_184053++) {
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_184384, i_184053 * i16_res_171838, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_184308, (int64_t) 0 + i_184053 * ((int64_t) 1 * i16_res_171838), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171838});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184387, i_184053 * i16_res_171838, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184310, (int64_t) 0 + i_184053 * ((int64_t) 1 * i16_res_171838), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171838});
            
            int64_t binop_x_184205 = i16_res_171838 * i_184053;
            int16_t discard_184025;
            int16_t discard_184026;
            int16_t discard_184027;
            int16_t discard_184028;
            int16_t scanacc_184010;
            int16_t scanacc_184011;
            int16_t scanacc_184012;
            int16_t scanacc_184013;
            
            scanacc_184010 = (int16_t) 0;
            scanacc_184011 = (int16_t) 0;
            scanacc_184012 = (int16_t) 0;
            scanacc_184013 = (int16_t) 0;
            for (int64_t i_184019 = 0; i_184019 < i16_res_171838; i_184019++) {
                int64_t new_index_184206 = i_184019 + binop_x_184205;
                int32_t eta_p_181938 = ((int32_t *) mem_184308)[new_index_184206];
                int32_t zgzg_res_181939 = ashr32(eta_p_181938, get_bit_arg0_171911);
                int32_t za_res_181940 = 1 & zgzg_res_181939;
                int32_t defunc_0_get_bit_res_181941;
                
                if (cond_171912) {
                    int32_t defunc_0_get_bit_res_t_res_182011 = 1 ^ za_res_181940;
                    
                    defunc_0_get_bit_res_181941 = defunc_0_get_bit_res_t_res_182011;
                } else {
                    defunc_0_get_bit_res_181941 = za_res_181940;
                }
                
                int32_t zp_lhs_181943 = mul32(2, defunc_0_get_bit_res_181941);
                int32_t zgzg_res_181944 = ashr32(eta_p_181938, blocked_radix_sort_step_arg1_171906);
                int32_t za_res_181945 = 1 & zgzg_res_181944;
                int32_t defunc_0_get_bit_res_181946;
                
                if (cond_171913) {
                    int32_t defunc_0_get_bit_res_t_res_182012 = 1 ^ za_res_181945;
                    
                    defunc_0_get_bit_res_181946 = defunc_0_get_bit_res_t_res_182012;
                } else {
                    defunc_0_get_bit_res_181946 = za_res_181945;
                }
                
                int32_t i32_arg0_181948 = add32(zp_lhs_181943, defunc_0_get_bit_res_181946);
                int16_t i32_res_181949 = sext_i32_i16(i32_arg0_181948);
                int16_t defunc_0_f_res_181951;
                int16_t defunc_0_f_res_181952;
                int16_t defunc_0_f_res_181953;
                int16_t defunc_0_f_res_181954;
                
                if (futrts_lifted_lambda_9123(ctx, &defunc_0_f_res_181951, &defunc_0_f_res_181952, &defunc_0_f_res_181953, &defunc_0_f_res_181954, i32_res_181949) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_172031 = add16(defunc_0_f_res_181951, scanacc_184010);
                int16_t defunc_0_op_res_172032 = add16(defunc_0_f_res_181952, scanacc_184011);
                int16_t defunc_0_op_res_172033 = add16(defunc_0_f_res_181953, scanacc_184012);
                int16_t defunc_0_op_res_172034 = add16(defunc_0_f_res_181954, scanacc_184013);
                
                ((int16_t *) mem_184415)[i_184019] = defunc_0_op_res_172031;
                ((int16_t *) mem_184417)[i_184019] = defunc_0_op_res_172032;
                ((int16_t *) mem_184419)[i_184019] = defunc_0_op_res_172033;
                ((int16_t *) mem_184421)[i_184019] = defunc_0_op_res_172034;
                ((int16_t *) mem_184423)[i_184019] = i32_res_181949;
                
                int16_t scanacc_tmp_185741 = defunc_0_op_res_172031;
                int16_t scanacc_tmp_185742 = defunc_0_op_res_172032;
                int16_t scanacc_tmp_185743 = defunc_0_op_res_172033;
                int16_t scanacc_tmp_185744 = defunc_0_op_res_172034;
                
                scanacc_184010 = scanacc_tmp_185741;
                scanacc_184011 = scanacc_tmp_185742;
                scanacc_184012 = scanacc_tmp_185743;
                scanacc_184013 = scanacc_tmp_185744;
            }
            discard_184025 = scanacc_184010;
            discard_184026 = scanacc_184011;
            discard_184027 = scanacc_184012;
            discard_184028 = scanacc_184013;
            
            int16_t defunc_0_f_res_172035;
            int16_t defunc_0_f_res_172036;
            int16_t defunc_0_f_res_172037;
            int16_t defunc_0_f_res_172038;
            
            if (zzero_171839) {
                defunc_0_f_res_172035 = (int16_t) 0;
                defunc_0_f_res_172036 = (int16_t) 0;
                defunc_0_f_res_172037 = (int16_t) 0;
                defunc_0_f_res_172038 = (int16_t) 0;
            } else {
                int16_t last_res_172039 = ((int16_t *) mem_184415)[tmp_171881];
                int16_t last_res_172040 = ((int16_t *) mem_184417)[tmp_171881];
                int16_t last_res_172041 = ((int16_t *) mem_184419)[tmp_171881];
                int16_t last_res_172042 = ((int16_t *) mem_184421)[tmp_171881];
                
                defunc_0_f_res_172035 = last_res_172039;
                defunc_0_f_res_172036 = last_res_172040;
                defunc_0_f_res_172037 = last_res_172041;
                defunc_0_f_res_172038 = last_res_172042;
            }
            for (int64_t write_iter_184029 = 0; write_iter_184029 < i16_res_171838; write_iter_184029++) {
                int16_t write_iv_184032 = ((int16_t *) mem_184423)[write_iter_184029];
                int16_t write_iv_184033 = ((int16_t *) mem_184415)[write_iter_184029];
                int16_t write_iv_184034 = ((int16_t *) mem_184417)[write_iter_184029];
                int16_t write_iv_184035 = ((int16_t *) mem_184419)[write_iter_184029];
                int16_t write_iv_184036 = ((int16_t *) mem_184421)[write_iter_184029];
                int64_t new_index_184202 = write_iter_184029 + binop_x_184205;
                int32_t write_iv_184037 = ((int32_t *) mem_184308)[new_index_184202];
                int64_t write_iv_184038 = ((int64_t *) mem_184310)[new_index_184202];
                int64_t defunc_0_f_res_181922;
                
                if (futrts_lifted_f_9124(ctx, &defunc_0_f_res_181922, defunc_0_f_res_172035, defunc_0_f_res_172036, defunc_0_f_res_172037, write_iv_184032, write_iv_184033, write_iv_184034, write_iv_184035, write_iv_184036) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_181922) && slt64(defunc_0_f_res_181922, i16_res_171838)) {
                    ((int32_t *) mem_184384)[i_184053 * i16_res_171838 + defunc_0_f_res_181922] = write_iv_184037;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_181922) && slt64(defunc_0_f_res_181922, i16_res_171838)) {
                    ((int64_t *) mem_184387)[i_184053 * i16_res_171838 + defunc_0_f_res_181922] = write_iv_184038;
                }
            }
            ((int16_t *) mem_184466)[(int64_t) 0] = defunc_0_f_res_172035;
            ((int16_t *) mem_184466)[(int64_t) 1] = defunc_0_f_res_172036;
            ((int16_t *) mem_184466)[(int64_t) 2] = defunc_0_f_res_172037;
            ((int16_t *) mem_184466)[(int64_t) 3] = defunc_0_f_res_172038;
            for (int64_t i_184043 = 0; i_184043 < (int64_t) 4; i_184043++) {
                int16_t eta_p_172057 = ((int16_t *) mem_184466)[i_184043];
                int64_t i16_res_172058 = sext_i16_i64(eta_p_172057);
                
                ((int64_t *) mem_184467)[i_184043] = i16_res_172058;
            }
            
            int16_t tmp_172059 = add16(defunc_0_f_res_172035, defunc_0_f_res_172036);
            int16_t tmp_172060 = add16(defunc_0_f_res_172037, tmp_172059);
            
            ((int16_t *) mem_184393)[i_184053 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_184393)[i_184053 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_172035;
            ((int16_t *) mem_184393)[i_184053 * (int64_t) 4 + (int64_t) 2] = tmp_172059;
            ((int16_t *) mem_184393)[i_184053 * (int64_t) 4 + (int64_t) 3] = tmp_172060;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184390, i_184053 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184467, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_184065;
        int64_t scanacc_184061 = (int64_t) 0;
        
        for (int64_t i_184063 = 0; i_184063 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171853; i_184063++) {
            int64_t new_index_184180 = squot64(i_184063, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852);
            int64_t binop_y_184182 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852 * new_index_184180;
            int64_t new_index_184183 = i_184063 - binop_y_184182;
            bool index_concat_cmp_184185 = sle64(n_blocks_171842, new_index_184183);
            int64_t index_concat_branch_184189;
            
            if (index_concat_cmp_184185) {
                int64_t index_concat_184187 = ((int64_t *) mem_184374)[new_index_184180];
                
                index_concat_branch_184189 = index_concat_184187;
            } else {
                int64_t index_concat_184188 = ((int64_t *) mem_184390)[new_index_184183 * (int64_t) 4 + new_index_184180];
                
                index_concat_branch_184189 = index_concat_184188;
            }
            
            int64_t defunc_0_op_res_172072 = add64(scanacc_184061, index_concat_branch_184189);
            
            ((int64_t *) mem_184492)[i_184063] = defunc_0_op_res_172072;
            
            int64_t scanacc_tmp_185753 = defunc_0_op_res_172072;
            
            scanacc_184061 = scanacc_tmp_185753;
        }
        discard_184065 = scanacc_184061;
        for (int64_t i_184068 = 0; i_184068 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171853; i_184068++) {
            int64_t zv_lhs_172075 = add64((int64_t) -1, i_184068);
            int64_t tmp_172076 = smod64(zv_lhs_172075, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171853);
            int64_t lifted_lambda_res_172077 = ((int64_t *) mem_184492)[tmp_172076];
            
            ((int64_t *) mem_184500)[i_184068] = lifted_lambda_res_172077;
        }
        ((int64_t *) mem_184500)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_184070 = 0; write_iter_184070 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845; write_iter_184070++) {
            bool index_concat_cmp_184171 = sle64(arg_171844, write_iter_184070);
            int32_t index_concat_branch_181826;
            
            if (index_concat_cmp_184171) {
                int64_t index_concat_i_182021 = sub64(write_iter_184070, arg_171844);
                int32_t index_concat_182022 = ((int32_t *) mem_184360)[index_concat_i_182021];
                
                index_concat_branch_181826 = index_concat_182022;
            } else {
                int64_t new_index_181829 = squot64(write_iter_184070, i16_res_171838);
                int64_t binop_y_181830 = i16_res_171838 * new_index_181829;
                int64_t new_index_181831 = write_iter_184070 - binop_y_181830;
                int32_t index_concat_181832 = ((int32_t *) mem_184384)[new_index_181829 * i16_res_171838 + new_index_181831];
                
                index_concat_branch_181826 = index_concat_181832;
            }
            
            int32_t zlzb_rhs_181833;
            int32_t acc_181835 = 0;
            
            for (int32_t i_181834 = 0; i_181834 < 2; i_181834++) {
                int32_t get_bit_arg0_181836 = add32(blocked_radix_sort_step_arg1_171906, i_181834);
                int32_t zgzg_res_181837 = ashr32(index_concat_branch_181826, get_bit_arg0_181836);
                int32_t za_res_181838 = 1 & zgzg_res_181837;
                bool cond_181839 = get_bit_arg0_181836 == 31;
                int32_t defunc_0_get_bit_res_181840;
                
                if (cond_181839) {
                    int32_t defunc_0_get_bit_res_t_res_182023 = 1 ^ za_res_181838;
                    
                    defunc_0_get_bit_res_181840 = defunc_0_get_bit_res_t_res_182023;
                } else {
                    defunc_0_get_bit_res_181840 = za_res_181838;
                }
                
                int32_t zp_rhs_181842 = shl32(defunc_0_get_bit_res_181840, i_181834);
                int32_t loopres_181843 = add32(acc_181835, zp_rhs_181842);
                int32_t acc_tmp_185758 = loopres_181843;
                
                acc_181835 = acc_tmp_185758;
            }
            zlzb_rhs_181833 = acc_181835;
            
            int64_t i32_res_181844 = sext_i32_i64(zlzb_rhs_181833);
            int64_t block_idx_181845 = sdiv64(write_iter_184070, i16_res_171838);
            bool x_181846 = sle64((int64_t) 0, block_idx_181845);
            bool y_181847 = slt64(block_idx_181845, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852);
            bool bounds_check_181848 = x_181846 && y_181847;
            bool index_certs_181849;
            
            if (!bounds_check_181848) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_181845, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:146:93-96\n   #9  ftsort.fut:19:3-44\n   #10 ftsort.fut:18:1-19:44\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_181850 = sle64((int64_t) 0, i32_res_181844);
            bool y_181851 = slt64(i32_res_181844, (int64_t) 4);
            bool bounds_check_181852 = x_181850 && y_181851;
            bool index_certs_181853;
            
            if (!bounds_check_181852) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_181844, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:146:93-96\n   #9  ftsort.fut:19:3-44\n   #10 ftsort.fut:18:1-19:44\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t index_concat_branch_184175;
            
            if (index_concat_cmp_184171) {
                int64_t index_concat_i_184172 = sub64(write_iter_184070, arg_171844);
                int32_t index_concat_184173 = ((int32_t *) mem_184360)[index_concat_i_184172];
                
                index_concat_branch_184175 = index_concat_184173;
            } else {
                int64_t new_index_184197 = squot64(write_iter_184070, i16_res_171838);
                int64_t binop_y_184199 = i16_res_171838 * new_index_184197;
                int64_t new_index_184200 = write_iter_184070 - binop_y_184199;
                int32_t index_concat_184174 = ((int32_t *) mem_184384)[new_index_184197 * i16_res_171838 + new_index_184200];
                
                index_concat_branch_184175 = index_concat_184174;
            }
            
            int64_t index_concat_branch_184169;
            
            if (index_concat_cmp_184171) {
                int64_t index_concat_i_184166 = sub64(write_iter_184070, arg_171844);
                int64_t index_concat_184167 = ((int64_t *) mem_184358)[index_concat_i_184166];
                
                index_concat_branch_184169 = index_concat_184167;
            } else {
                int64_t new_index_184193 = squot64(write_iter_184070, i16_res_171838);
                int64_t binop_y_184195 = i16_res_171838 * new_index_184193;
                int64_t new_index_184196 = write_iter_184070 - binop_y_184195;
                int64_t index_concat_184168 = ((int64_t *) mem_184387)[new_index_184193 * i16_res_171838 + new_index_184196];
                
                index_concat_branch_184169 = index_concat_184168;
            }
            
            int64_t binop_x_181854 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852 * i32_res_181844;
            int64_t new_index_181855 = block_idx_181845 + binop_x_181854;
            int64_t new_offset_181856 = ((int64_t *) mem_184500)[new_index_181855];
            bool index_concat_cmp_181857 = sle64(n_blocks_171842, block_idx_181845);
            int16_t index_concat_branch_181858;
            
            if (index_concat_cmp_181857) {
                int16_t index_concat_182024 = ((int16_t *) mem_184381)[i32_res_181844];
                
                index_concat_branch_181858 = index_concat_182024;
            } else {
                int16_t index_concat_181860 = ((int16_t *) mem_184393)[block_idx_181845 * (int64_t) 4 + i32_res_181844];
                
                index_concat_branch_181858 = index_concat_181860;
            }
            
            int64_t i16_res_181861 = sext_i16_i64(index_concat_branch_181858);
            int64_t zp_lhs_181862 = mul64(i16_res_171838, block_idx_181845);
            int64_t old_offset_181863 = add64(i16_res_181861, zp_lhs_181862);
            int64_t zp_lhs_181864 = sub64(write_iter_184070, old_offset_181863);
            int64_t idx_181865 = add64(new_offset_181856, zp_lhs_181864);
            
            if (sle64((int64_t) 0, idx_181865) && slt64(idx_181865, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845)) {
                ((int32_t *) mem_184308)[idx_181865] = index_concat_branch_184175;
            }
            if (sle64((int64_t) 0, idx_181865) && slt64(idx_181865, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845)) {
                ((int64_t *) mem_184310)[idx_181865] = index_concat_branch_184169;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_184526, bytes_184525, "mem_184526")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184528, bytes_184527, "mem_184528")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_184082 = 0; i_184082 < n_89850; i_184082++) {
        int64_t eta_p_172137 = ((int64_t *) mem_184310)[i_184082];
        bool x_172138 = sle64((int64_t) 0, eta_p_172137);
        bool y_172139 = slt64(eta_p_172137, n_89850);
        bool bounds_check_172140 = x_172138 && y_172139;
        bool index_certs_172141;
        
        if (!bounds_check_172140) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172137, "] out of bounds for array of shape [", (long long) n_89850, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:146:93-96\n   #5  ftsort.fut:19:3-44\n   #6  ftsort.fut:18:1-19:44\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172142 = ((int64_t *) ext_mem_184306.mem)[eta_p_172137];
        int32_t lifted_lambda_res_172143 = ((int32_t *) xs_mem_184305.mem)[eta_p_172137];
        
        ((int64_t *) mem_184526.mem)[i_184082] = lifted_lambda_res_172142;
        ((int32_t *) mem_184528.mem)[i_184082] = lifted_lambda_res_172143;
    }
    if (memblock_unref(ctx, &ext_mem_184306, "ext_mem_184306") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185719, &mem_184526, "mem_184526") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185720, &mem_184528, "mem_184528") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186387, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186388, &mem_out_185720, "mem_out_185720") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_184308);
        free(mem_184310);
        free(mem_184318);
        free(mem_184320);
        free(mem_184322);
        free(mem_184324);
        free(mem_184326);
        free(mem_184358);
        free(mem_184360);
        free(mem_184373);
        free(mem_184374);
        free(mem_184381);
        free(mem_184384);
        free(mem_184387);
        free(mem_184390);
        free(mem_184393);
        free(mem_184415);
        free(mem_184417);
        free(mem_184419);
        free(mem_184421);
        free(mem_184423);
        free(mem_184466);
        free(mem_184467);
        free(mem_184492);
        free(mem_184500);
        if (memblock_unref(ctx, &mem_184528, "mem_184528") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184526, "mem_184526") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184306, "ext_mem_184306") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185720, "mem_out_185720") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_186414, struct memblock *mem_out_p_186415, struct memblock xs_mem_184305, int64_t n_92450, int64_t incr_92451, int16_t block_sizze_92452)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_184308_cached_sizze_186416 = 0;
    unsigned char *mem_184308 = NULL;
    int64_t mem_184310_cached_sizze_186417 = 0;
    unsigned char *mem_184310 = NULL;
    int64_t mem_184318_cached_sizze_186418 = 0;
    unsigned char *mem_184318 = NULL;
    int64_t mem_184320_cached_sizze_186419 = 0;
    unsigned char *mem_184320 = NULL;
    int64_t mem_184322_cached_sizze_186420 = 0;
    unsigned char *mem_184322 = NULL;
    int64_t mem_184324_cached_sizze_186421 = 0;
    unsigned char *mem_184324 = NULL;
    int64_t mem_184326_cached_sizze_186422 = 0;
    unsigned char *mem_184326 = NULL;
    int64_t mem_184358_cached_sizze_186423 = 0;
    unsigned char *mem_184358 = NULL;
    int64_t mem_184360_cached_sizze_186424 = 0;
    unsigned char *mem_184360 = NULL;
    int64_t mem_184373_cached_sizze_186425 = 0;
    unsigned char *mem_184373 = NULL;
    int64_t mem_184374_cached_sizze_186426 = 0;
    unsigned char *mem_184374 = NULL;
    int64_t mem_184381_cached_sizze_186427 = 0;
    unsigned char *mem_184381 = NULL;
    int64_t mem_184384_cached_sizze_186428 = 0;
    unsigned char *mem_184384 = NULL;
    int64_t mem_184387_cached_sizze_186429 = 0;
    unsigned char *mem_184387 = NULL;
    int64_t mem_184390_cached_sizze_186430 = 0;
    unsigned char *mem_184390 = NULL;
    int64_t mem_184393_cached_sizze_186431 = 0;
    unsigned char *mem_184393 = NULL;
    int64_t mem_184415_cached_sizze_186432 = 0;
    unsigned char *mem_184415 = NULL;
    int64_t mem_184417_cached_sizze_186433 = 0;
    unsigned char *mem_184417 = NULL;
    int64_t mem_184419_cached_sizze_186434 = 0;
    unsigned char *mem_184419 = NULL;
    int64_t mem_184421_cached_sizze_186435 = 0;
    unsigned char *mem_184421 = NULL;
    int64_t mem_184423_cached_sizze_186436 = 0;
    unsigned char *mem_184423 = NULL;
    int64_t mem_184466_cached_sizze_186437 = 0;
    unsigned char *mem_184466 = NULL;
    int64_t mem_184467_cached_sizze_186438 = 0;
    unsigned char *mem_184467 = NULL;
    int64_t mem_184492_cached_sizze_186439 = 0;
    unsigned char *mem_184492 = NULL;
    int64_t mem_184500_cached_sizze_186440 = 0;
    unsigned char *mem_184500 = NULL;
    struct memblock mem_184528;
    
    mem_184528.references = NULL;
    
    struct memblock mem_184526;
    
    mem_184526.references = NULL;
    
    struct memblock ext_mem_184306;
    
    ext_mem_184306.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    bool cond_171836 = n_92450 == (int64_t) 0;
    int32_t iters_171837;
    
    if (cond_171836) {
        iters_171837 = 0;
    } else {
        iters_171837 = 32;
    }
    
    int64_t i16_res_171838 = sext_i16_i64(block_sizze_92452);
    bool zzero_171839 = i16_res_171838 == (int64_t) 0;
    bool nonzzero_171840 = !zzero_171839;
    bool nonzzero_cert_171841;
    
    if (!nonzzero_171840) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:146:93-96\n   #5  ftsort.fut:22:3-45\n   #6  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_171842 = sdiv64(n_92450, i16_res_171838);
    int64_t rest_171843 = smod64(n_92450, i16_res_171838);
    int64_t arg_171844 = mul64(i16_res_171838, n_blocks_171842);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845 = add64(rest_171843, arg_171844);
    bool dim_match_171846 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845 == n_92450;
    bool empty_or_match_cert_171847;
    
    if (!dim_match_171846) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_92450, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845, "](i64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #5  ftbasics.fut:146:93-96\n   #6  ftsort.fut:22:3-45\n   #7  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184307 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845;
    bool loop_nonempty_171851 = slt32(0, iters_171837);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852 = add64((int64_t) 1, n_blocks_171842);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171853 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852);
    bool empty_slice_171854 = arg_171844 == (int64_t) 0;
    int64_t m_171855 = sub64(arg_171844, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_171856 = sle64((int64_t) 0, m_171855);
    bool i_p_m_t_s_leq_w_171857 = slt64(m_171855, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845);
    bool i_lte_j_171858 = sle64((int64_t) 0, arg_171844);
    bool y_171859 = zzero_leq_i_p_m_t_s_171856 && i_p_m_t_s_leq_w_171857;
    bool forwards_ok_171860 = i_lte_j_171858 && y_171859;
    bool ok_or_empty_171861 = empty_slice_171854 || forwards_ok_171860;
    bool loop_not_taken_171862 = !loop_nonempty_171851;
    bool protect_assert_disj_171863 = ok_or_empty_171861 || loop_not_taken_171862;
    bool index_certs_171864;
    
    if (!protect_assert_disj_171863) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_171844, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:146:93-96\n   #7  ftsort.fut:22:3-45\n   #8  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_171865 = rest_171843 == (int64_t) 0;
    int64_t m_171866 = sub64(rest_171843, (int64_t) 1);
    int64_t i_p_m_t_s_171867 = add64(arg_171844, m_171866);
    bool zzero_leq_i_p_m_t_s_171868 = sle64((int64_t) 0, i_p_m_t_s_171867);
    bool i_p_m_t_s_leq_w_171869 = slt64(i_p_m_t_s_171867, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845);
    bool i_lte_j_171870 = sle64(arg_171844, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845);
    bool y_171871 = zzero_leq_i_p_m_t_s_171868 && i_p_m_t_s_leq_w_171869;
    bool forwards_ok_171872 = i_lte_j_171870 && y_171871;
    bool ok_or_empty_171873 = empty_slice_171865 || forwards_ok_171872;
    bool protect_assert_disj_171874 = loop_not_taken_171862 || ok_or_empty_171873;
    bool index_certs_171875;
    
    if (!protect_assert_disj_171874) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_171844, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:146:93-96\n   #7  ftsort.fut:22:3-45\n   #8  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_171876 = sle64((int64_t) 0, n_blocks_171842);
    bool binop_y_171877 = sle64((int64_t) 0, i16_res_171838);
    bool binop_y_171878 = binop_x_171876 && binop_y_171877;
    bool protect_assert_disj_171879 = loop_not_taken_171862 || binop_y_171878;
    bool dim_ok_cert_171880;
    
    if (!protect_assert_disj_171879) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_171844, "] to array of shape [", (long long) n_blocks_171842, "][", (long long) i16_res_171838, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:146:93-96\n   #7  ftsort.fut:22:3-45\n   #8  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_171881 = sub64(i16_res_171838, (int64_t) 1);
    bool x_171882 = sle64((int64_t) 0, tmp_171881);
    bool y_171883 = slt64(tmp_171881, i16_res_171838);
    bool bounds_check_171884 = x_171882 && y_171883;
    bool protect_assert_disj_171885 = zzero_171839 || bounds_check_171884;
    bool protect_assert_disj_171886 = loop_not_taken_171862 || protect_assert_disj_171885;
    bool index_certs_171887;
    
    if (!protect_assert_disj_171886) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171881, "] out of bounds for array of shape [", (long long) i16_res_171838, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:146:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_171889 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171853);
    bool protect_assert_disj_171890 = loop_not_taken_171862 || y_171889;
    bool index_certs_171891;
    
    if (!protect_assert_disj_171890) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171853, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:146:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_171893 = nonzzero_171840 || loop_not_taken_171862;
    bool nonzzero_cert_171894;
    
    if (!protect_assert_disj_171893) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:146:93-96\n   #9  ftsort.fut:22:3-45\n   #10 ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_171895 = sle64((int64_t) 0, m_171866);
    bool y_171896 = slt64(m_171866, rest_171843);
    bool bounds_check_171897 = x_171895 && y_171896;
    bool protect_assert_disj_171898 = empty_slice_171865 || bounds_check_171897;
    bool protect_assert_disj_171899 = loop_not_taken_171862 || protect_assert_disj_171898;
    bool index_certs_171900;
    
    if (!protect_assert_disj_171899) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_171866, "] out of bounds for array of shape [", (long long) rest_171843, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:166:41-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:146:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184317 = (int64_t) 2 * rest_171843;
    int64_t bytes_184357 = (int64_t) 8 * rest_171843;
    int64_t binop_x_184382 = (int64_t) 8 * n_blocks_171842;
    int64_t bytes_184383 = i16_res_171838 * binop_x_184382;
    int64_t bytes_184389 = (int64_t) 32 * n_blocks_171842;
    int64_t bytes_184414 = (int64_t) 2 * i16_res_171838;
    int64_t bytes_184491 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852;
    bool dim_match_172132 = n_92450 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845;
    bool empty_or_match_cert_172133;
    
    if (!dim_match_172132) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845, "] cannot match shape of type `[", (long long) n_92450, "](i64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:146:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184525 = (int64_t) 8 * n_92450;
    
    if (futrts_indicesWithIncrement_9426(ctx, &ext_mem_184306, xs_mem_184305, n_92450, incr_92451) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_184308_cached_sizze_186416 < bytes_184307) {
        err = lexical_realloc(ctx, &mem_184308, &mem_184308_cached_sizze_186416, bytes_184307);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_184308, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) xs_mem_184305.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845});
    if (mem_184310_cached_sizze_186417 < bytes_184307) {
        err = lexical_realloc(ctx, &mem_184310, &mem_184310_cached_sizze_186417, bytes_184307);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_185721 = 0; i_185721 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845; i_185721++) {
        int64_t x_185722 = (int64_t) 0 + i_185721 * (int64_t) 1;
        
        ((int64_t *) mem_184310)[i_185721] = x_185722;
    }
    if (mem_184318_cached_sizze_186418 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184318, &mem_184318_cached_sizze_186418, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184320_cached_sizze_186419 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184320, &mem_184320_cached_sizze_186419, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184322_cached_sizze_186420 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184322, &mem_184322_cached_sizze_186420, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184324_cached_sizze_186421 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184324, &mem_184324_cached_sizze_186421, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184326_cached_sizze_186422 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184326, &mem_184326_cached_sizze_186422, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184358_cached_sizze_186423 < bytes_184357) {
        err = lexical_realloc(ctx, &mem_184358, &mem_184358_cached_sizze_186423, bytes_184357);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184360_cached_sizze_186424 < bytes_184357) {
        err = lexical_realloc(ctx, &mem_184360, &mem_184360_cached_sizze_186424, bytes_184357);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184373_cached_sizze_186425 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_184373, &mem_184373_cached_sizze_186425, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184374_cached_sizze_186426 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_184374, &mem_184374_cached_sizze_186426, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184381_cached_sizze_186427 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_184381, &mem_184381_cached_sizze_186427, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184384_cached_sizze_186428 < bytes_184383) {
        err = lexical_realloc(ctx, &mem_184384, &mem_184384_cached_sizze_186428, bytes_184383);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184387_cached_sizze_186429 < bytes_184383) {
        err = lexical_realloc(ctx, &mem_184387, &mem_184387_cached_sizze_186429, bytes_184383);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184390_cached_sizze_186430 < bytes_184389) {
        err = lexical_realloc(ctx, &mem_184390, &mem_184390_cached_sizze_186430, bytes_184389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184393_cached_sizze_186431 < binop_x_184382) {
        err = lexical_realloc(ctx, &mem_184393, &mem_184393_cached_sizze_186431, binop_x_184382);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184415_cached_sizze_186432 < bytes_184414) {
        err = lexical_realloc(ctx, &mem_184415, &mem_184415_cached_sizze_186432, bytes_184414);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184417_cached_sizze_186433 < bytes_184414) {
        err = lexical_realloc(ctx, &mem_184417, &mem_184417_cached_sizze_186433, bytes_184414);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184419_cached_sizze_186434 < bytes_184414) {
        err = lexical_realloc(ctx, &mem_184419, &mem_184419_cached_sizze_186434, bytes_184414);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184421_cached_sizze_186435 < bytes_184414) {
        err = lexical_realloc(ctx, &mem_184421, &mem_184421_cached_sizze_186435, bytes_184414);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184423_cached_sizze_186436 < bytes_184414) {
        err = lexical_realloc(ctx, &mem_184423, &mem_184423_cached_sizze_186436, bytes_184414);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184466_cached_sizze_186437 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_184466, &mem_184466_cached_sizze_186437, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184467_cached_sizze_186438 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_184467, &mem_184467_cached_sizze_186438, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184492_cached_sizze_186439 < bytes_184491) {
        err = lexical_realloc(ctx, &mem_184492, &mem_184492_cached_sizze_186439, bytes_184491);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184500_cached_sizze_186440 < bytes_184491) {
        err = lexical_realloc(ctx, &mem_184500, &mem_184500_cached_sizze_186440, bytes_184491);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_171903 = 0; i_171903 < iters_171837; i_171903++) {
        int32_t blocked_radix_sort_step_arg1_171906 = mul32(2, i_171903);
        int32_t get_bit_arg0_171911 = add32(1, blocked_radix_sort_step_arg1_171906);
        bool cond_171912 = get_bit_arg0_171911 == 63;
        bool cond_171913 = blocked_radix_sort_step_arg1_171906 == 63;
        int16_t discard_183985;
        int16_t discard_183986;
        int16_t discard_183987;
        int16_t discard_183988;
        int16_t scanacc_183970;
        int16_t scanacc_183971;
        int16_t scanacc_183972;
        int16_t scanacc_183973;
        
        scanacc_183970 = (int16_t) 0;
        scanacc_183971 = (int16_t) 0;
        scanacc_183972 = (int16_t) 0;
        scanacc_183973 = (int16_t) 0;
        for (int64_t i_183979 = 0; i_183979 < rest_171843; i_183979++) {
            int64_t slice_184192 = arg_171844 + i_183979;
            int64_t eta_p_181890 = ((int64_t *) mem_184308)[slice_184192];
            int32_t defunc_0_get_bit_res_181891;
            
            if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_181891, get_bit_arg0_171911, eta_p_181890) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_181892;
            
            if (cond_171912) {
                int32_t defunc_0_get_bit_res_t_res_182004 = 1 ^ defunc_0_get_bit_res_181891;
                
                defunc_0_get_bit_res_181892 = defunc_0_get_bit_res_t_res_182004;
            } else {
                defunc_0_get_bit_res_181892 = defunc_0_get_bit_res_181891;
            }
            
            int32_t zp_lhs_181894 = mul32(2, defunc_0_get_bit_res_181892);
            int32_t defunc_0_get_bit_res_181895;
            
            if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_181895, blocked_radix_sort_step_arg1_171906, eta_p_181890) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_181896;
            
            if (cond_171913) {
                int32_t defunc_0_get_bit_res_t_res_182005 = 1 ^ defunc_0_get_bit_res_181895;
                
                defunc_0_get_bit_res_181896 = defunc_0_get_bit_res_t_res_182005;
            } else {
                defunc_0_get_bit_res_181896 = defunc_0_get_bit_res_181895;
            }
            
            int32_t i32_arg0_181898 = add32(zp_lhs_181894, defunc_0_get_bit_res_181896);
            int16_t i32_res_181899 = sext_i32_i16(i32_arg0_181898);
            int16_t defunc_0_f_res_181901;
            int16_t defunc_0_f_res_181902;
            int16_t defunc_0_f_res_181903;
            int16_t defunc_0_f_res_181904;
            
            if (futrts_lifted_lambda_9123(ctx, &defunc_0_f_res_181901, &defunc_0_f_res_181902, &defunc_0_f_res_181903, &defunc_0_f_res_181904, i32_res_181899) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_171950 = add16(defunc_0_f_res_181901, scanacc_183970);
            int16_t defunc_0_op_res_171951 = add16(defunc_0_f_res_181902, scanacc_183971);
            int16_t defunc_0_op_res_171952 = add16(defunc_0_f_res_181903, scanacc_183972);
            int16_t defunc_0_op_res_171953 = add16(defunc_0_f_res_181904, scanacc_183973);
            
            ((int16_t *) mem_184318)[i_183979] = defunc_0_op_res_171950;
            ((int16_t *) mem_184320)[i_183979] = defunc_0_op_res_171951;
            ((int16_t *) mem_184322)[i_183979] = defunc_0_op_res_171952;
            ((int16_t *) mem_184324)[i_183979] = defunc_0_op_res_171953;
            ((int16_t *) mem_184326)[i_183979] = i32_res_181899;
            
            int16_t scanacc_tmp_185725 = defunc_0_op_res_171950;
            int16_t scanacc_tmp_185726 = defunc_0_op_res_171951;
            int16_t scanacc_tmp_185727 = defunc_0_op_res_171952;
            int16_t scanacc_tmp_185728 = defunc_0_op_res_171953;
            
            scanacc_183970 = scanacc_tmp_185725;
            scanacc_183971 = scanacc_tmp_185726;
            scanacc_183972 = scanacc_tmp_185727;
            scanacc_183973 = scanacc_tmp_185728;
        }
        discard_183985 = scanacc_183970;
        discard_183986 = scanacc_183971;
        discard_183987 = scanacc_183972;
        discard_183988 = scanacc_183973;
        
        int16_t defunc_0_radix_sort_step_i16_res_171954;
        int16_t defunc_0_radix_sort_step_i16_res_171955;
        int16_t defunc_0_radix_sort_step_i16_res_171956;
        int16_t defunc_0_radix_sort_step_i16_res_171957;
        
        if (empty_slice_171865) {
            defunc_0_radix_sort_step_i16_res_171954 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171955 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171956 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171957 = (int16_t) 0;
        } else {
            int16_t last_res_171958 = ((int16_t *) mem_184318)[m_171866];
            int16_t last_res_171959 = ((int16_t *) mem_184320)[m_171866];
            int16_t last_res_171960 = ((int16_t *) mem_184322)[m_171866];
            int16_t last_res_171961 = ((int16_t *) mem_184324)[m_171866];
            
            defunc_0_radix_sort_step_i16_res_171954 = last_res_171958;
            defunc_0_radix_sort_step_i16_res_171955 = last_res_171959;
            defunc_0_radix_sort_step_i16_res_171956 = last_res_171960;
            defunc_0_radix_sort_step_i16_res_171957 = last_res_171961;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184358, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184310, (int64_t) 0 + (int64_t) 1 * arg_171844, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171843});
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184360, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184308, (int64_t) 0 + (int64_t) 1 * arg_171844, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171843});
        for (int64_t write_iter_183989 = 0; write_iter_183989 < rest_171843; write_iter_183989++) {
            int16_t write_iv_183992 = ((int16_t *) mem_184326)[write_iter_183989];
            int16_t write_iv_183993 = ((int16_t *) mem_184318)[write_iter_183989];
            int16_t write_iv_183994 = ((int16_t *) mem_184320)[write_iter_183989];
            int16_t write_iv_183995 = ((int16_t *) mem_184322)[write_iter_183989];
            int16_t write_iv_183996 = ((int16_t *) mem_184324)[write_iter_183989];
            int64_t slice_184191 = arg_171844 + write_iter_183989;
            int64_t write_iv_183997 = ((int64_t *) mem_184308)[slice_184191];
            int64_t write_iv_183998 = ((int64_t *) mem_184310)[slice_184191];
            int64_t defunc_0_f_res_181874;
            
            if (futrts_lifted_f_9124(ctx, &defunc_0_f_res_181874, defunc_0_radix_sort_step_i16_res_171954, defunc_0_radix_sort_step_i16_res_171955, defunc_0_radix_sort_step_i16_res_171956, write_iv_183992, write_iv_183993, write_iv_183994, write_iv_183995, write_iv_183996) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_181874) && slt64(defunc_0_f_res_181874, rest_171843)) {
                ((int64_t *) mem_184360)[defunc_0_f_res_181874] = write_iv_183997;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_181874) && slt64(defunc_0_f_res_181874, rest_171843)) {
                ((int64_t *) mem_184358)[defunc_0_f_res_181874] = write_iv_183998;
            }
        }
        ((int16_t *) mem_184373)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_171954;
        ((int16_t *) mem_184373)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171955;
        ((int16_t *) mem_184373)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_171956;
        ((int16_t *) mem_184373)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_171957;
        for (int64_t i_184003 = 0; i_184003 < (int64_t) 4; i_184003++) {
            int16_t eta_p_171978 = ((int16_t *) mem_184373)[i_184003];
            int64_t i16_res_171979 = sext_i16_i64(eta_p_171978);
            
            ((int64_t *) mem_184374)[i_184003] = i16_res_171979;
        }
        
        int16_t tmp_171980 = add16(defunc_0_radix_sort_step_i16_res_171954, defunc_0_radix_sort_step_i16_res_171955);
        int16_t tmp_171981 = add16(defunc_0_radix_sort_step_i16_res_171956, tmp_171980);
        
        ((int16_t *) mem_184381)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_184381)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171954;
        ((int16_t *) mem_184381)[(int64_t) 2] = tmp_171980;
        ((int16_t *) mem_184381)[(int64_t) 3] = tmp_171981;
        for (int64_t i_184053 = 0; i_184053 < n_blocks_171842; i_184053++) {
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184384, i_184053 * i16_res_171838, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184308, (int64_t) 0 + i_184053 * ((int64_t) 1 * i16_res_171838), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171838});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184387, i_184053 * i16_res_171838, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184310, (int64_t) 0 + i_184053 * ((int64_t) 1 * i16_res_171838), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171838});
            
            int64_t binop_x_184205 = i16_res_171838 * i_184053;
            int16_t discard_184025;
            int16_t discard_184026;
            int16_t discard_184027;
            int16_t discard_184028;
            int16_t scanacc_184010;
            int16_t scanacc_184011;
            int16_t scanacc_184012;
            int16_t scanacc_184013;
            
            scanacc_184010 = (int16_t) 0;
            scanacc_184011 = (int16_t) 0;
            scanacc_184012 = (int16_t) 0;
            scanacc_184013 = (int16_t) 0;
            for (int64_t i_184019 = 0; i_184019 < i16_res_171838; i_184019++) {
                int64_t new_index_184206 = i_184019 + binop_x_184205;
                int64_t eta_p_181935 = ((int64_t *) mem_184308)[new_index_184206];
                int32_t defunc_0_get_bit_res_181936;
                
                if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_181936, get_bit_arg0_171911, eta_p_181935) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_181937;
                
                if (cond_171912) {
                    int32_t defunc_0_get_bit_res_t_res_182006 = 1 ^ defunc_0_get_bit_res_181936;
                    
                    defunc_0_get_bit_res_181937 = defunc_0_get_bit_res_t_res_182006;
                } else {
                    defunc_0_get_bit_res_181937 = defunc_0_get_bit_res_181936;
                }
                
                int32_t zp_lhs_181939 = mul32(2, defunc_0_get_bit_res_181937);
                int32_t defunc_0_get_bit_res_181940;
                
                if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_181940, blocked_radix_sort_step_arg1_171906, eta_p_181935) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_181941;
                
                if (cond_171913) {
                    int32_t defunc_0_get_bit_res_t_res_182007 = 1 ^ defunc_0_get_bit_res_181940;
                    
                    defunc_0_get_bit_res_181941 = defunc_0_get_bit_res_t_res_182007;
                } else {
                    defunc_0_get_bit_res_181941 = defunc_0_get_bit_res_181940;
                }
                
                int32_t i32_arg0_181943 = add32(zp_lhs_181939, defunc_0_get_bit_res_181941);
                int16_t i32_res_181944 = sext_i32_i16(i32_arg0_181943);
                int16_t defunc_0_f_res_181946;
                int16_t defunc_0_f_res_181947;
                int16_t defunc_0_f_res_181948;
                int16_t defunc_0_f_res_181949;
                
                if (futrts_lifted_lambda_9123(ctx, &defunc_0_f_res_181946, &defunc_0_f_res_181947, &defunc_0_f_res_181948, &defunc_0_f_res_181949, i32_res_181944) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_172031 = add16(defunc_0_f_res_181946, scanacc_184010);
                int16_t defunc_0_op_res_172032 = add16(defunc_0_f_res_181947, scanacc_184011);
                int16_t defunc_0_op_res_172033 = add16(defunc_0_f_res_181948, scanacc_184012);
                int16_t defunc_0_op_res_172034 = add16(defunc_0_f_res_181949, scanacc_184013);
                
                ((int16_t *) mem_184415)[i_184019] = defunc_0_op_res_172031;
                ((int16_t *) mem_184417)[i_184019] = defunc_0_op_res_172032;
                ((int16_t *) mem_184419)[i_184019] = defunc_0_op_res_172033;
                ((int16_t *) mem_184421)[i_184019] = defunc_0_op_res_172034;
                ((int16_t *) mem_184423)[i_184019] = i32_res_181944;
                
                int16_t scanacc_tmp_185741 = defunc_0_op_res_172031;
                int16_t scanacc_tmp_185742 = defunc_0_op_res_172032;
                int16_t scanacc_tmp_185743 = defunc_0_op_res_172033;
                int16_t scanacc_tmp_185744 = defunc_0_op_res_172034;
                
                scanacc_184010 = scanacc_tmp_185741;
                scanacc_184011 = scanacc_tmp_185742;
                scanacc_184012 = scanacc_tmp_185743;
                scanacc_184013 = scanacc_tmp_185744;
            }
            discard_184025 = scanacc_184010;
            discard_184026 = scanacc_184011;
            discard_184027 = scanacc_184012;
            discard_184028 = scanacc_184013;
            
            int16_t defunc_0_f_res_172035;
            int16_t defunc_0_f_res_172036;
            int16_t defunc_0_f_res_172037;
            int16_t defunc_0_f_res_172038;
            
            if (zzero_171839) {
                defunc_0_f_res_172035 = (int16_t) 0;
                defunc_0_f_res_172036 = (int16_t) 0;
                defunc_0_f_res_172037 = (int16_t) 0;
                defunc_0_f_res_172038 = (int16_t) 0;
            } else {
                int16_t last_res_172039 = ((int16_t *) mem_184415)[tmp_171881];
                int16_t last_res_172040 = ((int16_t *) mem_184417)[tmp_171881];
                int16_t last_res_172041 = ((int16_t *) mem_184419)[tmp_171881];
                int16_t last_res_172042 = ((int16_t *) mem_184421)[tmp_171881];
                
                defunc_0_f_res_172035 = last_res_172039;
                defunc_0_f_res_172036 = last_res_172040;
                defunc_0_f_res_172037 = last_res_172041;
                defunc_0_f_res_172038 = last_res_172042;
            }
            for (int64_t write_iter_184029 = 0; write_iter_184029 < i16_res_171838; write_iter_184029++) {
                int16_t write_iv_184032 = ((int16_t *) mem_184423)[write_iter_184029];
                int16_t write_iv_184033 = ((int16_t *) mem_184415)[write_iter_184029];
                int16_t write_iv_184034 = ((int16_t *) mem_184417)[write_iter_184029];
                int16_t write_iv_184035 = ((int16_t *) mem_184419)[write_iter_184029];
                int16_t write_iv_184036 = ((int16_t *) mem_184421)[write_iter_184029];
                int64_t new_index_184202 = write_iter_184029 + binop_x_184205;
                int64_t write_iv_184037 = ((int64_t *) mem_184308)[new_index_184202];
                int64_t write_iv_184038 = ((int64_t *) mem_184310)[new_index_184202];
                int64_t defunc_0_f_res_181919;
                
                if (futrts_lifted_f_9124(ctx, &defunc_0_f_res_181919, defunc_0_f_res_172035, defunc_0_f_res_172036, defunc_0_f_res_172037, write_iv_184032, write_iv_184033, write_iv_184034, write_iv_184035, write_iv_184036) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_181919) && slt64(defunc_0_f_res_181919, i16_res_171838)) {
                    ((int64_t *) mem_184384)[i_184053 * i16_res_171838 + defunc_0_f_res_181919] = write_iv_184037;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_181919) && slt64(defunc_0_f_res_181919, i16_res_171838)) {
                    ((int64_t *) mem_184387)[i_184053 * i16_res_171838 + defunc_0_f_res_181919] = write_iv_184038;
                }
            }
            ((int16_t *) mem_184466)[(int64_t) 0] = defunc_0_f_res_172035;
            ((int16_t *) mem_184466)[(int64_t) 1] = defunc_0_f_res_172036;
            ((int16_t *) mem_184466)[(int64_t) 2] = defunc_0_f_res_172037;
            ((int16_t *) mem_184466)[(int64_t) 3] = defunc_0_f_res_172038;
            for (int64_t i_184043 = 0; i_184043 < (int64_t) 4; i_184043++) {
                int16_t eta_p_172057 = ((int16_t *) mem_184466)[i_184043];
                int64_t i16_res_172058 = sext_i16_i64(eta_p_172057);
                
                ((int64_t *) mem_184467)[i_184043] = i16_res_172058;
            }
            
            int16_t tmp_172059 = add16(defunc_0_f_res_172035, defunc_0_f_res_172036);
            int16_t tmp_172060 = add16(defunc_0_f_res_172037, tmp_172059);
            
            ((int16_t *) mem_184393)[i_184053 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_184393)[i_184053 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_172035;
            ((int16_t *) mem_184393)[i_184053 * (int64_t) 4 + (int64_t) 2] = tmp_172059;
            ((int16_t *) mem_184393)[i_184053 * (int64_t) 4 + (int64_t) 3] = tmp_172060;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184390, i_184053 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184467, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_184065;
        int64_t scanacc_184061 = (int64_t) 0;
        
        for (int64_t i_184063 = 0; i_184063 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171853; i_184063++) {
            int64_t new_index_184180 = squot64(i_184063, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852);
            int64_t binop_y_184182 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852 * new_index_184180;
            int64_t new_index_184183 = i_184063 - binop_y_184182;
            bool index_concat_cmp_184185 = sle64(n_blocks_171842, new_index_184183);
            int64_t index_concat_branch_184189;
            
            if (index_concat_cmp_184185) {
                int64_t index_concat_184187 = ((int64_t *) mem_184374)[new_index_184180];
                
                index_concat_branch_184189 = index_concat_184187;
            } else {
                int64_t index_concat_184188 = ((int64_t *) mem_184390)[new_index_184183 * (int64_t) 4 + new_index_184180];
                
                index_concat_branch_184189 = index_concat_184188;
            }
            
            int64_t defunc_0_op_res_172072 = add64(scanacc_184061, index_concat_branch_184189);
            
            ((int64_t *) mem_184492)[i_184063] = defunc_0_op_res_172072;
            
            int64_t scanacc_tmp_185753 = defunc_0_op_res_172072;
            
            scanacc_184061 = scanacc_tmp_185753;
        }
        discard_184065 = scanacc_184061;
        for (int64_t i_184068 = 0; i_184068 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171853; i_184068++) {
            int64_t zv_lhs_172075 = add64((int64_t) -1, i_184068);
            int64_t tmp_172076 = smod64(zv_lhs_172075, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171853);
            int64_t lifted_lambda_res_172077 = ((int64_t *) mem_184492)[tmp_172076];
            
            ((int64_t *) mem_184500)[i_184068] = lifted_lambda_res_172077;
        }
        ((int64_t *) mem_184500)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_184070 = 0; write_iter_184070 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845; write_iter_184070++) {
            bool index_concat_cmp_184171 = sle64(arg_171844, write_iter_184070);
            int64_t index_concat_branch_181826;
            
            if (index_concat_cmp_184171) {
                int64_t index_concat_i_182016 = sub64(write_iter_184070, arg_171844);
                int64_t index_concat_182017 = ((int64_t *) mem_184360)[index_concat_i_182016];
                
                index_concat_branch_181826 = index_concat_182017;
            } else {
                int64_t new_index_181829 = squot64(write_iter_184070, i16_res_171838);
                int64_t binop_y_181830 = i16_res_171838 * new_index_181829;
                int64_t new_index_181831 = write_iter_184070 - binop_y_181830;
                int64_t index_concat_181832 = ((int64_t *) mem_184384)[new_index_181829 * i16_res_171838 + new_index_181831];
                
                index_concat_branch_181826 = index_concat_181832;
            }
            
            int32_t zlzb_rhs_181833;
            int32_t acc_181835 = 0;
            
            for (int32_t i_181834 = 0; i_181834 < 2; i_181834++) {
                int32_t get_bit_arg0_181836 = add32(blocked_radix_sort_step_arg1_171906, i_181834);
                int32_t defunc_0_get_bit_res_181837;
                
                if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_181837, get_bit_arg0_181836, index_concat_branch_181826) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                bool cond_181838 = get_bit_arg0_181836 == 63;
                int32_t defunc_0_get_bit_res_181839;
                
                if (cond_181838) {
                    int32_t defunc_0_get_bit_res_t_res_182018 = 1 ^ defunc_0_get_bit_res_181837;
                    
                    defunc_0_get_bit_res_181839 = defunc_0_get_bit_res_t_res_182018;
                } else {
                    defunc_0_get_bit_res_181839 = defunc_0_get_bit_res_181837;
                }
                
                int32_t zp_rhs_181841 = shl32(defunc_0_get_bit_res_181839, i_181834);
                int32_t loopres_181842 = add32(acc_181835, zp_rhs_181841);
                int32_t acc_tmp_185758 = loopres_181842;
                
                acc_181835 = acc_tmp_185758;
            }
            zlzb_rhs_181833 = acc_181835;
            
            int64_t i32_res_181843 = sext_i32_i64(zlzb_rhs_181833);
            int64_t block_idx_181844 = sdiv64(write_iter_184070, i16_res_171838);
            bool x_181845 = sle64((int64_t) 0, block_idx_181844);
            bool y_181846 = slt64(block_idx_181844, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852);
            bool bounds_check_181847 = x_181845 && y_181846;
            bool index_certs_181848;
            
            if (!bounds_check_181847) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_181844, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:146:93-96\n   #9  ftsort.fut:22:3-45\n   #10 ftsort.fut:21:1-22:45\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_181849 = sle64((int64_t) 0, i32_res_181843);
            bool y_181850 = slt64(i32_res_181843, (int64_t) 4);
            bool bounds_check_181851 = x_181849 && y_181850;
            bool index_certs_181852;
            
            if (!bounds_check_181851) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_181843, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:146:93-96\n   #9  ftsort.fut:22:3-45\n   #10 ftsort.fut:21:1-22:45\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t index_concat_branch_184175;
            
            if (index_concat_cmp_184171) {
                int64_t index_concat_i_184172 = sub64(write_iter_184070, arg_171844);
                int64_t index_concat_184173 = ((int64_t *) mem_184360)[index_concat_i_184172];
                
                index_concat_branch_184175 = index_concat_184173;
            } else {
                int64_t new_index_184197 = squot64(write_iter_184070, i16_res_171838);
                int64_t binop_y_184199 = i16_res_171838 * new_index_184197;
                int64_t new_index_184200 = write_iter_184070 - binop_y_184199;
                int64_t index_concat_184174 = ((int64_t *) mem_184384)[new_index_184197 * i16_res_171838 + new_index_184200];
                
                index_concat_branch_184175 = index_concat_184174;
            }
            
            int64_t index_concat_branch_184169;
            
            if (index_concat_cmp_184171) {
                int64_t index_concat_i_184166 = sub64(write_iter_184070, arg_171844);
                int64_t index_concat_184167 = ((int64_t *) mem_184358)[index_concat_i_184166];
                
                index_concat_branch_184169 = index_concat_184167;
            } else {
                int64_t new_index_184193 = squot64(write_iter_184070, i16_res_171838);
                int64_t binop_y_184195 = i16_res_171838 * new_index_184193;
                int64_t new_index_184196 = write_iter_184070 - binop_y_184195;
                int64_t index_concat_184168 = ((int64_t *) mem_184387)[new_index_184193 * i16_res_171838 + new_index_184196];
                
                index_concat_branch_184169 = index_concat_184168;
            }
            
            int64_t binop_x_181853 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852 * i32_res_181843;
            int64_t new_index_181854 = block_idx_181844 + binop_x_181853;
            int64_t new_offset_181855 = ((int64_t *) mem_184500)[new_index_181854];
            bool index_concat_cmp_181856 = sle64(n_blocks_171842, block_idx_181844);
            int16_t index_concat_branch_181857;
            
            if (index_concat_cmp_181856) {
                int16_t index_concat_182019 = ((int16_t *) mem_184381)[i32_res_181843];
                
                index_concat_branch_181857 = index_concat_182019;
            } else {
                int16_t index_concat_181859 = ((int16_t *) mem_184393)[block_idx_181844 * (int64_t) 4 + i32_res_181843];
                
                index_concat_branch_181857 = index_concat_181859;
            }
            
            int64_t i16_res_181860 = sext_i16_i64(index_concat_branch_181857);
            int64_t zp_lhs_181861 = mul64(i16_res_171838, block_idx_181844);
            int64_t old_offset_181862 = add64(i16_res_181860, zp_lhs_181861);
            int64_t zp_lhs_181863 = sub64(write_iter_184070, old_offset_181862);
            int64_t idx_181864 = add64(new_offset_181855, zp_lhs_181863);
            
            if (sle64((int64_t) 0, idx_181864) && slt64(idx_181864, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845)) {
                ((int64_t *) mem_184308)[idx_181864] = index_concat_branch_184175;
            }
            if (sle64((int64_t) 0, idx_181864) && slt64(idx_181864, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845)) {
                ((int64_t *) mem_184310)[idx_181864] = index_concat_branch_184169;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_184526, bytes_184525, "mem_184526")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184528, bytes_184525, "mem_184528")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_184082 = 0; i_184082 < n_92450; i_184082++) {
        int64_t eta_p_172137 = ((int64_t *) mem_184310)[i_184082];
        bool x_172138 = sle64((int64_t) 0, eta_p_172137);
        bool y_172139 = slt64(eta_p_172137, n_92450);
        bool bounds_check_172140 = x_172138 && y_172139;
        bool index_certs_172141;
        
        if (!bounds_check_172140) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172137, "] out of bounds for array of shape [", (long long) n_92450, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:146:93-96\n   #5  ftsort.fut:22:3-45\n   #6  ftsort.fut:21:1-22:45\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172142 = ((int64_t *) ext_mem_184306.mem)[eta_p_172137];
        int64_t lifted_lambda_res_172143 = ((int64_t *) xs_mem_184305.mem)[eta_p_172137];
        
        ((int64_t *) mem_184526.mem)[i_184082] = lifted_lambda_res_172142;
        ((int64_t *) mem_184528.mem)[i_184082] = lifted_lambda_res_172143;
    }
    if (memblock_unref(ctx, &ext_mem_184306, "ext_mem_184306") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185719, &mem_184526, "mem_184526") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185720, &mem_184528, "mem_184528") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186414, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186415, &mem_out_185720, "mem_out_185720") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_184308);
        free(mem_184310);
        free(mem_184318);
        free(mem_184320);
        free(mem_184322);
        free(mem_184324);
        free(mem_184326);
        free(mem_184358);
        free(mem_184360);
        free(mem_184373);
        free(mem_184374);
        free(mem_184381);
        free(mem_184384);
        free(mem_184387);
        free(mem_184390);
        free(mem_184393);
        free(mem_184415);
        free(mem_184417);
        free(mem_184419);
        free(mem_184421);
        free(mem_184423);
        free(mem_184466);
        free(mem_184467);
        free(mem_184492);
        free(mem_184500);
        if (memblock_unref(ctx, &mem_184528, "mem_184528") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184526, "mem_184526") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184306, "ext_mem_184306") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185720, "mem_out_185720") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_186441, struct memblock *mem_out_p_186442, struct memblock xs_mem_184305, int64_t n_87233, int64_t incr_87234, int16_t block_sizze_87235)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_184308_cached_sizze_186443 = 0;
    unsigned char *mem_184308 = NULL;
    int64_t mem_184310_cached_sizze_186444 = 0;
    unsigned char *mem_184310 = NULL;
    int64_t mem_184318_cached_sizze_186445 = 0;
    unsigned char *mem_184318 = NULL;
    int64_t mem_184320_cached_sizze_186446 = 0;
    unsigned char *mem_184320 = NULL;
    int64_t mem_184322_cached_sizze_186447 = 0;
    unsigned char *mem_184322 = NULL;
    int64_t mem_184324_cached_sizze_186448 = 0;
    unsigned char *mem_184324 = NULL;
    int64_t mem_184326_cached_sizze_186449 = 0;
    unsigned char *mem_184326 = NULL;
    int64_t mem_184358_cached_sizze_186450 = 0;
    unsigned char *mem_184358 = NULL;
    int64_t mem_184360_cached_sizze_186451 = 0;
    unsigned char *mem_184360 = NULL;
    int64_t mem_184373_cached_sizze_186452 = 0;
    unsigned char *mem_184373 = NULL;
    int64_t mem_184374_cached_sizze_186453 = 0;
    unsigned char *mem_184374 = NULL;
    int64_t mem_184381_cached_sizze_186454 = 0;
    unsigned char *mem_184381 = NULL;
    int64_t mem_184384_cached_sizze_186455 = 0;
    unsigned char *mem_184384 = NULL;
    int64_t mem_184387_cached_sizze_186456 = 0;
    unsigned char *mem_184387 = NULL;
    int64_t mem_184390_cached_sizze_186457 = 0;
    unsigned char *mem_184390 = NULL;
    int64_t mem_184393_cached_sizze_186458 = 0;
    unsigned char *mem_184393 = NULL;
    int64_t mem_184415_cached_sizze_186459 = 0;
    unsigned char *mem_184415 = NULL;
    int64_t mem_184417_cached_sizze_186460 = 0;
    unsigned char *mem_184417 = NULL;
    int64_t mem_184419_cached_sizze_186461 = 0;
    unsigned char *mem_184419 = NULL;
    int64_t mem_184421_cached_sizze_186462 = 0;
    unsigned char *mem_184421 = NULL;
    int64_t mem_184423_cached_sizze_186463 = 0;
    unsigned char *mem_184423 = NULL;
    int64_t mem_184466_cached_sizze_186464 = 0;
    unsigned char *mem_184466 = NULL;
    int64_t mem_184467_cached_sizze_186465 = 0;
    unsigned char *mem_184467 = NULL;
    int64_t mem_184492_cached_sizze_186466 = 0;
    unsigned char *mem_184492 = NULL;
    int64_t mem_184500_cached_sizze_186467 = 0;
    unsigned char *mem_184500 = NULL;
    struct memblock mem_184528;
    
    mem_184528.references = NULL;
    
    struct memblock mem_184526;
    
    mem_184526.references = NULL;
    
    struct memblock ext_mem_184306;
    
    ext_mem_184306.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    bool cond_171836 = n_87233 == (int64_t) 0;
    int32_t iters_171837;
    
    if (cond_171836) {
        iters_171837 = 0;
    } else {
        iters_171837 = 8;
    }
    
    int64_t i16_res_171838 = sext_i16_i64(block_sizze_87235);
    bool zzero_171839 = i16_res_171838 == (int64_t) 0;
    bool nonzzero_171840 = !zzero_171839;
    bool nonzzero_cert_171841;
    
    if (!nonzzero_171840) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:146:93-96\n   #5  ftsort.fut:16:3-46\n   #6  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_171842 = sdiv64(n_87233, i16_res_171838);
    int64_t rest_171843 = smod64(n_87233, i16_res_171838);
    int64_t arg_171844 = mul64(i16_res_171838, n_blocks_171842);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845 = add64(rest_171843, arg_171844);
    bool dim_match_171846 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845 == n_87233;
    bool empty_or_match_cert_171847;
    
    if (!dim_match_171846) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_87233, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845, "](i16, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #5  ftbasics.fut:146:93-96\n   #6  ftsort.fut:16:3-46\n   #7  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184307 = (int64_t) 2 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845;
    int64_t bytes_184309 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845;
    bool loop_nonempty_171851 = slt32(0, iters_171837);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852 = add64((int64_t) 1, n_blocks_171842);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171853 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852);
    bool empty_slice_171854 = arg_171844 == (int64_t) 0;
    int64_t m_171855 = sub64(arg_171844, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_171856 = sle64((int64_t) 0, m_171855);
    bool i_p_m_t_s_leq_w_171857 = slt64(m_171855, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845);
    bool i_lte_j_171858 = sle64((int64_t) 0, arg_171844);
    bool y_171859 = zzero_leq_i_p_m_t_s_171856 && i_p_m_t_s_leq_w_171857;
    bool forwards_ok_171860 = i_lte_j_171858 && y_171859;
    bool ok_or_empty_171861 = empty_slice_171854 || forwards_ok_171860;
    bool loop_not_taken_171862 = !loop_nonempty_171851;
    bool protect_assert_disj_171863 = ok_or_empty_171861 || loop_not_taken_171862;
    bool index_certs_171864;
    
    if (!protect_assert_disj_171863) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_171844, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:146:93-96\n   #7  ftsort.fut:16:3-46\n   #8  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_171865 = rest_171843 == (int64_t) 0;
    int64_t m_171866 = sub64(rest_171843, (int64_t) 1);
    int64_t i_p_m_t_s_171867 = add64(arg_171844, m_171866);
    bool zzero_leq_i_p_m_t_s_171868 = sle64((int64_t) 0, i_p_m_t_s_171867);
    bool i_p_m_t_s_leq_w_171869 = slt64(i_p_m_t_s_171867, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845);
    bool i_lte_j_171870 = sle64(arg_171844, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845);
    bool y_171871 = zzero_leq_i_p_m_t_s_171868 && i_p_m_t_s_leq_w_171869;
    bool forwards_ok_171872 = i_lte_j_171870 && y_171871;
    bool ok_or_empty_171873 = empty_slice_171865 || forwards_ok_171872;
    bool protect_assert_disj_171874 = loop_not_taken_171862 || ok_or_empty_171873;
    bool index_certs_171875;
    
    if (!protect_assert_disj_171874) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_171844, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:146:93-96\n   #7  ftsort.fut:16:3-46\n   #8  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_171876 = sle64((int64_t) 0, n_blocks_171842);
    bool binop_y_171877 = sle64((int64_t) 0, i16_res_171838);
    bool binop_y_171878 = binop_x_171876 && binop_y_171877;
    bool protect_assert_disj_171879 = loop_not_taken_171862 || binop_y_171878;
    bool dim_ok_cert_171880;
    
    if (!protect_assert_disj_171879) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_171844, "] to array of shape [", (long long) n_blocks_171842, "][", (long long) i16_res_171838, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:146:93-96\n   #7  ftsort.fut:16:3-46\n   #8  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_171881 = sub64(i16_res_171838, (int64_t) 1);
    bool x_171882 = sle64((int64_t) 0, tmp_171881);
    bool y_171883 = slt64(tmp_171881, i16_res_171838);
    bool bounds_check_171884 = x_171882 && y_171883;
    bool protect_assert_disj_171885 = zzero_171839 || bounds_check_171884;
    bool protect_assert_disj_171886 = loop_not_taken_171862 || protect_assert_disj_171885;
    bool index_certs_171887;
    
    if (!protect_assert_disj_171886) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171881, "] out of bounds for array of shape [", (long long) i16_res_171838, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:146:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_171889 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171853);
    bool protect_assert_disj_171890 = loop_not_taken_171862 || y_171889;
    bool index_certs_171891;
    
    if (!protect_assert_disj_171890) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171853, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:146:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_171893 = nonzzero_171840 || loop_not_taken_171862;
    bool nonzzero_cert_171894;
    
    if (!protect_assert_disj_171893) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:146:93-96\n   #9  ftsort.fut:16:3-46\n   #10 ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_171895 = sle64((int64_t) 0, m_171866);
    bool y_171896 = slt64(m_171866, rest_171843);
    bool bounds_check_171897 = x_171895 && y_171896;
    bool protect_assert_disj_171898 = empty_slice_171865 || bounds_check_171897;
    bool protect_assert_disj_171899 = loop_not_taken_171862 || protect_assert_disj_171898;
    bool index_certs_171900;
    
    if (!protect_assert_disj_171899) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_171866, "] out of bounds for array of shape [", (long long) rest_171843, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:166:41-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:146:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184317 = (int64_t) 2 * rest_171843;
    int64_t bytes_184357 = (int64_t) 8 * rest_171843;
    int64_t binop_x_184382 = (int64_t) 2 * n_blocks_171842;
    int64_t bytes_184383 = i16_res_171838 * binop_x_184382;
    int64_t binop_x_184385 = (int64_t) 8 * n_blocks_171842;
    int64_t bytes_184386 = i16_res_171838 * binop_x_184385;
    int64_t bytes_184389 = (int64_t) 32 * n_blocks_171842;
    int64_t bytes_184410 = (int64_t) 2 * i16_res_171838;
    int64_t bytes_184491 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852;
    bool dim_match_172132 = n_87233 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845;
    bool empty_or_match_cert_172133;
    
    if (!dim_match_172132) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845, "] cannot match shape of type `[", (long long) n_87233, "](i16, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:146:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184525 = (int64_t) 8 * n_87233;
    int64_t bytes_184527 = (int64_t) 2 * n_87233;
    
    if (futrts_indicesWithIncrement_9161(ctx, &ext_mem_184306, xs_mem_184305, n_87233, incr_87234) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_184308_cached_sizze_186443 < bytes_184307) {
        err = lexical_realloc(ctx, &mem_184308, &mem_184308_cached_sizze_186443, bytes_184307);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_184308, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint16_t *) xs_mem_184305.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845});
    if (mem_184310_cached_sizze_186444 < bytes_184309) {
        err = lexical_realloc(ctx, &mem_184310, &mem_184310_cached_sizze_186444, bytes_184309);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_185721 = 0; i_185721 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845; i_185721++) {
        int64_t x_185722 = (int64_t) 0 + i_185721 * (int64_t) 1;
        
        ((int64_t *) mem_184310)[i_185721] = x_185722;
    }
    if (mem_184318_cached_sizze_186445 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184318, &mem_184318_cached_sizze_186445, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184320_cached_sizze_186446 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184320, &mem_184320_cached_sizze_186446, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184322_cached_sizze_186447 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184322, &mem_184322_cached_sizze_186447, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184324_cached_sizze_186448 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184324, &mem_184324_cached_sizze_186448, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184326_cached_sizze_186449 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184326, &mem_184326_cached_sizze_186449, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184358_cached_sizze_186450 < bytes_184357) {
        err = lexical_realloc(ctx, &mem_184358, &mem_184358_cached_sizze_186450, bytes_184357);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184360_cached_sizze_186451 < bytes_184317) {
        err = lexical_realloc(ctx, &mem_184360, &mem_184360_cached_sizze_186451, bytes_184317);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184373_cached_sizze_186452 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_184373, &mem_184373_cached_sizze_186452, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184374_cached_sizze_186453 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_184374, &mem_184374_cached_sizze_186453, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184381_cached_sizze_186454 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_184381, &mem_184381_cached_sizze_186454, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184384_cached_sizze_186455 < bytes_184383) {
        err = lexical_realloc(ctx, &mem_184384, &mem_184384_cached_sizze_186455, bytes_184383);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184387_cached_sizze_186456 < bytes_184386) {
        err = lexical_realloc(ctx, &mem_184387, &mem_184387_cached_sizze_186456, bytes_184386);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184390_cached_sizze_186457 < bytes_184389) {
        err = lexical_realloc(ctx, &mem_184390, &mem_184390_cached_sizze_186457, bytes_184389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184393_cached_sizze_186458 < binop_x_184385) {
        err = lexical_realloc(ctx, &mem_184393, &mem_184393_cached_sizze_186458, binop_x_184385);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184415_cached_sizze_186459 < bytes_184410) {
        err = lexical_realloc(ctx, &mem_184415, &mem_184415_cached_sizze_186459, bytes_184410);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184417_cached_sizze_186460 < bytes_184410) {
        err = lexical_realloc(ctx, &mem_184417, &mem_184417_cached_sizze_186460, bytes_184410);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184419_cached_sizze_186461 < bytes_184410) {
        err = lexical_realloc(ctx, &mem_184419, &mem_184419_cached_sizze_186461, bytes_184410);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184421_cached_sizze_186462 < bytes_184410) {
        err = lexical_realloc(ctx, &mem_184421, &mem_184421_cached_sizze_186462, bytes_184410);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184423_cached_sizze_186463 < bytes_184410) {
        err = lexical_realloc(ctx, &mem_184423, &mem_184423_cached_sizze_186463, bytes_184410);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184466_cached_sizze_186464 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_184466, &mem_184466_cached_sizze_186464, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184467_cached_sizze_186465 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_184467, &mem_184467_cached_sizze_186465, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184492_cached_sizze_186466 < bytes_184491) {
        err = lexical_realloc(ctx, &mem_184492, &mem_184492_cached_sizze_186466, bytes_184491);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_184500_cached_sizze_186467 < bytes_184491) {
        err = lexical_realloc(ctx, &mem_184500, &mem_184500_cached_sizze_186467, bytes_184491);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_171903 = 0; i_171903 < iters_171837; i_171903++) {
        int32_t blocked_radix_sort_step_arg1_171906 = mul32(2, i_171903);
        int32_t get_bit_arg0_171911 = add32(1, blocked_radix_sort_step_arg1_171906);
        bool cond_171912 = get_bit_arg0_171911 == 15;
        bool cond_171913 = blocked_radix_sort_step_arg1_171906 == 15;
        int16_t discard_183985;
        int16_t discard_183986;
        int16_t discard_183987;
        int16_t discard_183988;
        int16_t scanacc_183970;
        int16_t scanacc_183971;
        int16_t scanacc_183972;
        int16_t scanacc_183973;
        
        scanacc_183970 = (int16_t) 0;
        scanacc_183971 = (int16_t) 0;
        scanacc_183972 = (int16_t) 0;
        scanacc_183973 = (int16_t) 0;
        for (int64_t i_183979 = 0; i_183979 < rest_171843; i_183979++) {
            int64_t slice_184192 = arg_171844 + i_183979;
            int16_t eta_p_181890 = ((int16_t *) mem_184308)[slice_184192];
            int32_t defunc_0_get_bit_res_181891;
            
            if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_181891, get_bit_arg0_171911, eta_p_181890) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_181892;
            
            if (cond_171912) {
                int32_t defunc_0_get_bit_res_t_res_182004 = 1 ^ defunc_0_get_bit_res_181891;
                
                defunc_0_get_bit_res_181892 = defunc_0_get_bit_res_t_res_182004;
            } else {
                defunc_0_get_bit_res_181892 = defunc_0_get_bit_res_181891;
            }
            
            int32_t zp_lhs_181894 = mul32(2, defunc_0_get_bit_res_181892);
            int32_t defunc_0_get_bit_res_181895;
            
            if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_181895, blocked_radix_sort_step_arg1_171906, eta_p_181890) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_181896;
            
            if (cond_171913) {
                int32_t defunc_0_get_bit_res_t_res_182005 = 1 ^ defunc_0_get_bit_res_181895;
                
                defunc_0_get_bit_res_181896 = defunc_0_get_bit_res_t_res_182005;
            } else {
                defunc_0_get_bit_res_181896 = defunc_0_get_bit_res_181895;
            }
            
            int32_t i32_arg0_181898 = add32(zp_lhs_181894, defunc_0_get_bit_res_181896);
            int16_t i32_res_181899 = sext_i32_i16(i32_arg0_181898);
            int16_t defunc_0_f_res_181901;
            int16_t defunc_0_f_res_181902;
            int16_t defunc_0_f_res_181903;
            int16_t defunc_0_f_res_181904;
            
            if (futrts_lifted_lambda_9123(ctx, &defunc_0_f_res_181901, &defunc_0_f_res_181902, &defunc_0_f_res_181903, &defunc_0_f_res_181904, i32_res_181899) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_171950 = add16(defunc_0_f_res_181901, scanacc_183970);
            int16_t defunc_0_op_res_171951 = add16(defunc_0_f_res_181902, scanacc_183971);
            int16_t defunc_0_op_res_171952 = add16(defunc_0_f_res_181903, scanacc_183972);
            int16_t defunc_0_op_res_171953 = add16(defunc_0_f_res_181904, scanacc_183973);
            
            ((int16_t *) mem_184318)[i_183979] = defunc_0_op_res_171950;
            ((int16_t *) mem_184320)[i_183979] = defunc_0_op_res_171951;
            ((int16_t *) mem_184322)[i_183979] = defunc_0_op_res_171952;
            ((int16_t *) mem_184324)[i_183979] = defunc_0_op_res_171953;
            ((int16_t *) mem_184326)[i_183979] = i32_res_181899;
            
            int16_t scanacc_tmp_185725 = defunc_0_op_res_171950;
            int16_t scanacc_tmp_185726 = defunc_0_op_res_171951;
            int16_t scanacc_tmp_185727 = defunc_0_op_res_171952;
            int16_t scanacc_tmp_185728 = defunc_0_op_res_171953;
            
            scanacc_183970 = scanacc_tmp_185725;
            scanacc_183971 = scanacc_tmp_185726;
            scanacc_183972 = scanacc_tmp_185727;
            scanacc_183973 = scanacc_tmp_185728;
        }
        discard_183985 = scanacc_183970;
        discard_183986 = scanacc_183971;
        discard_183987 = scanacc_183972;
        discard_183988 = scanacc_183973;
        
        int16_t defunc_0_radix_sort_step_i16_res_171954;
        int16_t defunc_0_radix_sort_step_i16_res_171955;
        int16_t defunc_0_radix_sort_step_i16_res_171956;
        int16_t defunc_0_radix_sort_step_i16_res_171957;
        
        if (empty_slice_171865) {
            defunc_0_radix_sort_step_i16_res_171954 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171955 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171956 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171957 = (int16_t) 0;
        } else {
            int16_t last_res_171958 = ((int16_t *) mem_184318)[m_171866];
            int16_t last_res_171959 = ((int16_t *) mem_184320)[m_171866];
            int16_t last_res_171960 = ((int16_t *) mem_184322)[m_171866];
            int16_t last_res_171961 = ((int16_t *) mem_184324)[m_171866];
            
            defunc_0_radix_sort_step_i16_res_171954 = last_res_171958;
            defunc_0_radix_sort_step_i16_res_171955 = last_res_171959;
            defunc_0_radix_sort_step_i16_res_171956 = last_res_171960;
            defunc_0_radix_sort_step_i16_res_171957 = last_res_171961;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_184358, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184310, (int64_t) 0 + (int64_t) 1 * arg_171844, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171843});
        lmad_copy_2b(ctx, 1, (uint16_t *) mem_184360, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_184308, (int64_t) 0 + (int64_t) 1 * arg_171844, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171843});
        for (int64_t write_iter_183989 = 0; write_iter_183989 < rest_171843; write_iter_183989++) {
            int16_t write_iv_183992 = ((int16_t *) mem_184326)[write_iter_183989];
            int16_t write_iv_183993 = ((int16_t *) mem_184318)[write_iter_183989];
            int16_t write_iv_183994 = ((int16_t *) mem_184320)[write_iter_183989];
            int16_t write_iv_183995 = ((int16_t *) mem_184322)[write_iter_183989];
            int16_t write_iv_183996 = ((int16_t *) mem_184324)[write_iter_183989];
            int64_t slice_184191 = arg_171844 + write_iter_183989;
            int16_t write_iv_183997 = ((int16_t *) mem_184308)[slice_184191];
            int64_t write_iv_183998 = ((int64_t *) mem_184310)[slice_184191];
            int64_t defunc_0_f_res_181874;
            
            if (futrts_lifted_f_9124(ctx, &defunc_0_f_res_181874, defunc_0_radix_sort_step_i16_res_171954, defunc_0_radix_sort_step_i16_res_171955, defunc_0_radix_sort_step_i16_res_171956, write_iv_183992, write_iv_183993, write_iv_183994, write_iv_183995, write_iv_183996) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_181874) && slt64(defunc_0_f_res_181874, rest_171843)) {
                ((int16_t *) mem_184360)[defunc_0_f_res_181874] = write_iv_183997;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_181874) && slt64(defunc_0_f_res_181874, rest_171843)) {
                ((int64_t *) mem_184358)[defunc_0_f_res_181874] = write_iv_183998;
            }
        }
        ((int16_t *) mem_184373)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_171954;
        ((int16_t *) mem_184373)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171955;
        ((int16_t *) mem_184373)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_171956;
        ((int16_t *) mem_184373)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_171957;
        for (int64_t i_184003 = 0; i_184003 < (int64_t) 4; i_184003++) {
            int16_t eta_p_171978 = ((int16_t *) mem_184373)[i_184003];
            int64_t i16_res_171979 = sext_i16_i64(eta_p_171978);
            
            ((int64_t *) mem_184374)[i_184003] = i16_res_171979;
        }
        
        int16_t tmp_171980 = add16(defunc_0_radix_sort_step_i16_res_171954, defunc_0_radix_sort_step_i16_res_171955);
        int16_t tmp_171981 = add16(defunc_0_radix_sort_step_i16_res_171956, tmp_171980);
        
        ((int16_t *) mem_184381)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_184381)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171954;
        ((int16_t *) mem_184381)[(int64_t) 2] = tmp_171980;
        ((int16_t *) mem_184381)[(int64_t) 3] = tmp_171981;
        for (int64_t i_184053 = 0; i_184053 < n_blocks_171842; i_184053++) {
            lmad_copy_2b(ctx, 1, (uint16_t *) mem_184384, i_184053 * i16_res_171838, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_184308, (int64_t) 0 + i_184053 * ((int64_t) 1 * i16_res_171838), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171838});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184387, i_184053 * i16_res_171838, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184310, (int64_t) 0 + i_184053 * ((int64_t) 1 * i16_res_171838), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171838});
            
            int64_t binop_x_184205 = i16_res_171838 * i_184053;
            int16_t discard_184025;
            int16_t discard_184026;
            int16_t discard_184027;
            int16_t discard_184028;
            int16_t scanacc_184010;
            int16_t scanacc_184011;
            int16_t scanacc_184012;
            int16_t scanacc_184013;
            
            scanacc_184010 = (int16_t) 0;
            scanacc_184011 = (int16_t) 0;
            scanacc_184012 = (int16_t) 0;
            scanacc_184013 = (int16_t) 0;
            for (int64_t i_184019 = 0; i_184019 < i16_res_171838; i_184019++) {
                int64_t new_index_184206 = i_184019 + binop_x_184205;
                int16_t eta_p_181935 = ((int16_t *) mem_184308)[new_index_184206];
                int32_t defunc_0_get_bit_res_181936;
                
                if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_181936, get_bit_arg0_171911, eta_p_181935) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_181937;
                
                if (cond_171912) {
                    int32_t defunc_0_get_bit_res_t_res_182006 = 1 ^ defunc_0_get_bit_res_181936;
                    
                    defunc_0_get_bit_res_181937 = defunc_0_get_bit_res_t_res_182006;
                } else {
                    defunc_0_get_bit_res_181937 = defunc_0_get_bit_res_181936;
                }
                
                int32_t zp_lhs_181939 = mul32(2, defunc_0_get_bit_res_181937);
                int32_t defunc_0_get_bit_res_181940;
                
                if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_181940, blocked_radix_sort_step_arg1_171906, eta_p_181935) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_181941;
                
                if (cond_171913) {
                    int32_t defunc_0_get_bit_res_t_res_182007 = 1 ^ defunc_0_get_bit_res_181940;
                    
                    defunc_0_get_bit_res_181941 = defunc_0_get_bit_res_t_res_182007;
                } else {
                    defunc_0_get_bit_res_181941 = defunc_0_get_bit_res_181940;
                }
                
                int32_t i32_arg0_181943 = add32(zp_lhs_181939, defunc_0_get_bit_res_181941);
                int16_t i32_res_181944 = sext_i32_i16(i32_arg0_181943);
                int16_t defunc_0_f_res_181946;
                int16_t defunc_0_f_res_181947;
                int16_t defunc_0_f_res_181948;
                int16_t defunc_0_f_res_181949;
                
                if (futrts_lifted_lambda_9123(ctx, &defunc_0_f_res_181946, &defunc_0_f_res_181947, &defunc_0_f_res_181948, &defunc_0_f_res_181949, i32_res_181944) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_172031 = add16(defunc_0_f_res_181946, scanacc_184010);
                int16_t defunc_0_op_res_172032 = add16(defunc_0_f_res_181947, scanacc_184011);
                int16_t defunc_0_op_res_172033 = add16(defunc_0_f_res_181948, scanacc_184012);
                int16_t defunc_0_op_res_172034 = add16(defunc_0_f_res_181949, scanacc_184013);
                
                ((int16_t *) mem_184415)[i_184019] = defunc_0_op_res_172031;
                ((int16_t *) mem_184417)[i_184019] = defunc_0_op_res_172032;
                ((int16_t *) mem_184419)[i_184019] = defunc_0_op_res_172033;
                ((int16_t *) mem_184421)[i_184019] = defunc_0_op_res_172034;
                ((int16_t *) mem_184423)[i_184019] = i32_res_181944;
                
                int16_t scanacc_tmp_185741 = defunc_0_op_res_172031;
                int16_t scanacc_tmp_185742 = defunc_0_op_res_172032;
                int16_t scanacc_tmp_185743 = defunc_0_op_res_172033;
                int16_t scanacc_tmp_185744 = defunc_0_op_res_172034;
                
                scanacc_184010 = scanacc_tmp_185741;
                scanacc_184011 = scanacc_tmp_185742;
                scanacc_184012 = scanacc_tmp_185743;
                scanacc_184013 = scanacc_tmp_185744;
            }
            discard_184025 = scanacc_184010;
            discard_184026 = scanacc_184011;
            discard_184027 = scanacc_184012;
            discard_184028 = scanacc_184013;
            
            int16_t defunc_0_f_res_172035;
            int16_t defunc_0_f_res_172036;
            int16_t defunc_0_f_res_172037;
            int16_t defunc_0_f_res_172038;
            
            if (zzero_171839) {
                defunc_0_f_res_172035 = (int16_t) 0;
                defunc_0_f_res_172036 = (int16_t) 0;
                defunc_0_f_res_172037 = (int16_t) 0;
                defunc_0_f_res_172038 = (int16_t) 0;
            } else {
                int16_t last_res_172039 = ((int16_t *) mem_184415)[tmp_171881];
                int16_t last_res_172040 = ((int16_t *) mem_184417)[tmp_171881];
                int16_t last_res_172041 = ((int16_t *) mem_184419)[tmp_171881];
                int16_t last_res_172042 = ((int16_t *) mem_184421)[tmp_171881];
                
                defunc_0_f_res_172035 = last_res_172039;
                defunc_0_f_res_172036 = last_res_172040;
                defunc_0_f_res_172037 = last_res_172041;
                defunc_0_f_res_172038 = last_res_172042;
            }
            for (int64_t write_iter_184029 = 0; write_iter_184029 < i16_res_171838; write_iter_184029++) {
                int16_t write_iv_184032 = ((int16_t *) mem_184423)[write_iter_184029];
                int16_t write_iv_184033 = ((int16_t *) mem_184415)[write_iter_184029];
                int16_t write_iv_184034 = ((int16_t *) mem_184417)[write_iter_184029];
                int16_t write_iv_184035 = ((int16_t *) mem_184419)[write_iter_184029];
                int16_t write_iv_184036 = ((int16_t *) mem_184421)[write_iter_184029];
                int64_t new_index_184202 = write_iter_184029 + binop_x_184205;
                int16_t write_iv_184037 = ((int16_t *) mem_184308)[new_index_184202];
                int64_t write_iv_184038 = ((int64_t *) mem_184310)[new_index_184202];
                int64_t defunc_0_f_res_181919;
                
                if (futrts_lifted_f_9124(ctx, &defunc_0_f_res_181919, defunc_0_f_res_172035, defunc_0_f_res_172036, defunc_0_f_res_172037, write_iv_184032, write_iv_184033, write_iv_184034, write_iv_184035, write_iv_184036) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_181919) && slt64(defunc_0_f_res_181919, i16_res_171838)) {
                    ((int16_t *) mem_184384)[i_184053 * i16_res_171838 + defunc_0_f_res_181919] = write_iv_184037;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_181919) && slt64(defunc_0_f_res_181919, i16_res_171838)) {
                    ((int64_t *) mem_184387)[i_184053 * i16_res_171838 + defunc_0_f_res_181919] = write_iv_184038;
                }
            }
            ((int16_t *) mem_184466)[(int64_t) 0] = defunc_0_f_res_172035;
            ((int16_t *) mem_184466)[(int64_t) 1] = defunc_0_f_res_172036;
            ((int16_t *) mem_184466)[(int64_t) 2] = defunc_0_f_res_172037;
            ((int16_t *) mem_184466)[(int64_t) 3] = defunc_0_f_res_172038;
            for (int64_t i_184043 = 0; i_184043 < (int64_t) 4; i_184043++) {
                int16_t eta_p_172057 = ((int16_t *) mem_184466)[i_184043];
                int64_t i16_res_172058 = sext_i16_i64(eta_p_172057);
                
                ((int64_t *) mem_184467)[i_184043] = i16_res_172058;
            }
            
            int16_t tmp_172059 = add16(defunc_0_f_res_172035, defunc_0_f_res_172036);
            int16_t tmp_172060 = add16(defunc_0_f_res_172037, tmp_172059);
            
            ((int16_t *) mem_184393)[i_184053 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_184393)[i_184053 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_172035;
            ((int16_t *) mem_184393)[i_184053 * (int64_t) 4 + (int64_t) 2] = tmp_172059;
            ((int16_t *) mem_184393)[i_184053 * (int64_t) 4 + (int64_t) 3] = tmp_172060;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_184390, i_184053 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_184467, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_184065;
        int64_t scanacc_184061 = (int64_t) 0;
        
        for (int64_t i_184063 = 0; i_184063 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171853; i_184063++) {
            int64_t new_index_184180 = squot64(i_184063, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852);
            int64_t binop_y_184182 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852 * new_index_184180;
            int64_t new_index_184183 = i_184063 - binop_y_184182;
            bool index_concat_cmp_184185 = sle64(n_blocks_171842, new_index_184183);
            int64_t index_concat_branch_184189;
            
            if (index_concat_cmp_184185) {
                int64_t index_concat_184187 = ((int64_t *) mem_184374)[new_index_184180];
                
                index_concat_branch_184189 = index_concat_184187;
            } else {
                int64_t index_concat_184188 = ((int64_t *) mem_184390)[new_index_184183 * (int64_t) 4 + new_index_184180];
                
                index_concat_branch_184189 = index_concat_184188;
            }
            
            int64_t defunc_0_op_res_172072 = add64(scanacc_184061, index_concat_branch_184189);
            
            ((int64_t *) mem_184492)[i_184063] = defunc_0_op_res_172072;
            
            int64_t scanacc_tmp_185753 = defunc_0_op_res_172072;
            
            scanacc_184061 = scanacc_tmp_185753;
        }
        discard_184065 = scanacc_184061;
        for (int64_t i_184068 = 0; i_184068 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171853; i_184068++) {
            int64_t zv_lhs_172075 = add64((int64_t) -1, i_184068);
            int64_t tmp_172076 = smod64(zv_lhs_172075, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171853);
            int64_t lifted_lambda_res_172077 = ((int64_t *) mem_184492)[tmp_172076];
            
            ((int64_t *) mem_184500)[i_184068] = lifted_lambda_res_172077;
        }
        ((int64_t *) mem_184500)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_184070 = 0; write_iter_184070 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845; write_iter_184070++) {
            bool index_concat_cmp_184171 = sle64(arg_171844, write_iter_184070);
            int16_t index_concat_branch_181826;
            
            if (index_concat_cmp_184171) {
                int64_t index_concat_i_182016 = sub64(write_iter_184070, arg_171844);
                int16_t index_concat_182017 = ((int16_t *) mem_184360)[index_concat_i_182016];
                
                index_concat_branch_181826 = index_concat_182017;
            } else {
                int64_t new_index_181829 = squot64(write_iter_184070, i16_res_171838);
                int64_t binop_y_181830 = i16_res_171838 * new_index_181829;
                int64_t new_index_181831 = write_iter_184070 - binop_y_181830;
                int16_t index_concat_181832 = ((int16_t *) mem_184384)[new_index_181829 * i16_res_171838 + new_index_181831];
                
                index_concat_branch_181826 = index_concat_181832;
            }
            
            int32_t zlzb_rhs_181833;
            int32_t acc_181835 = 0;
            
            for (int32_t i_181834 = 0; i_181834 < 2; i_181834++) {
                int32_t get_bit_arg0_181836 = add32(blocked_radix_sort_step_arg1_171906, i_181834);
                int32_t defunc_0_get_bit_res_181837;
                
                if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_181837, get_bit_arg0_181836, index_concat_branch_181826) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                bool cond_181838 = get_bit_arg0_181836 == 15;
                int32_t defunc_0_get_bit_res_181839;
                
                if (cond_181838) {
                    int32_t defunc_0_get_bit_res_t_res_182018 = 1 ^ defunc_0_get_bit_res_181837;
                    
                    defunc_0_get_bit_res_181839 = defunc_0_get_bit_res_t_res_182018;
                } else {
                    defunc_0_get_bit_res_181839 = defunc_0_get_bit_res_181837;
                }
                
                int32_t zp_rhs_181841 = shl32(defunc_0_get_bit_res_181839, i_181834);
                int32_t loopres_181842 = add32(acc_181835, zp_rhs_181841);
                int32_t acc_tmp_185758 = loopres_181842;
                
                acc_181835 = acc_tmp_185758;
            }
            zlzb_rhs_181833 = acc_181835;
            
            int64_t i32_res_181843 = sext_i32_i64(zlzb_rhs_181833);
            int64_t block_idx_181844 = sdiv64(write_iter_184070, i16_res_171838);
            bool x_181845 = sle64((int64_t) 0, block_idx_181844);
            bool y_181846 = slt64(block_idx_181844, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852);
            bool bounds_check_181847 = x_181845 && y_181846;
            bool index_certs_181848;
            
            if (!bounds_check_181847) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_181844, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:146:93-96\n   #9  ftsort.fut:16:3-46\n   #10 ftsort.fut:15:1-16:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_181849 = sle64((int64_t) 0, i32_res_181843);
            bool y_181850 = slt64(i32_res_181843, (int64_t) 4);
            bool bounds_check_181851 = x_181849 && y_181850;
            bool index_certs_181852;
            
            if (!bounds_check_181851) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_181843, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:146:93-96\n   #9  ftsort.fut:16:3-46\n   #10 ftsort.fut:15:1-16:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int16_t index_concat_branch_184175;
            
            if (index_concat_cmp_184171) {
                int64_t index_concat_i_184172 = sub64(write_iter_184070, arg_171844);
                int16_t index_concat_184173 = ((int16_t *) mem_184360)[index_concat_i_184172];
                
                index_concat_branch_184175 = index_concat_184173;
            } else {
                int64_t new_index_184197 = squot64(write_iter_184070, i16_res_171838);
                int64_t binop_y_184199 = i16_res_171838 * new_index_184197;
                int64_t new_index_184200 = write_iter_184070 - binop_y_184199;
                int16_t index_concat_184174 = ((int16_t *) mem_184384)[new_index_184197 * i16_res_171838 + new_index_184200];
                
                index_concat_branch_184175 = index_concat_184174;
            }
            
            int64_t index_concat_branch_184169;
            
            if (index_concat_cmp_184171) {
                int64_t index_concat_i_184166 = sub64(write_iter_184070, arg_171844);
                int64_t index_concat_184167 = ((int64_t *) mem_184358)[index_concat_i_184166];
                
                index_concat_branch_184169 = index_concat_184167;
            } else {
                int64_t new_index_184193 = squot64(write_iter_184070, i16_res_171838);
                int64_t binop_y_184195 = i16_res_171838 * new_index_184193;
                int64_t new_index_184196 = write_iter_184070 - binop_y_184195;
                int64_t index_concat_184168 = ((int64_t *) mem_184387)[new_index_184193 * i16_res_171838 + new_index_184196];
                
                index_concat_branch_184169 = index_concat_184168;
            }
            
            int64_t binop_x_181853 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171852 * i32_res_181843;
            int64_t new_index_181854 = block_idx_181844 + binop_x_181853;
            int64_t new_offset_181855 = ((int64_t *) mem_184500)[new_index_181854];
            bool index_concat_cmp_181856 = sle64(n_blocks_171842, block_idx_181844);
            int16_t index_concat_branch_181857;
            
            if (index_concat_cmp_181856) {
                int16_t index_concat_182019 = ((int16_t *) mem_184381)[i32_res_181843];
                
                index_concat_branch_181857 = index_concat_182019;
            } else {
                int16_t index_concat_181859 = ((int16_t *) mem_184393)[block_idx_181844 * (int64_t) 4 + i32_res_181843];
                
                index_concat_branch_181857 = index_concat_181859;
            }
            
            int64_t i16_res_181860 = sext_i16_i64(index_concat_branch_181857);
            int64_t zp_lhs_181861 = mul64(i16_res_171838, block_idx_181844);
            int64_t old_offset_181862 = add64(i16_res_181860, zp_lhs_181861);
            int64_t zp_lhs_181863 = sub64(write_iter_184070, old_offset_181862);
            int64_t idx_181864 = add64(new_offset_181855, zp_lhs_181863);
            
            if (sle64((int64_t) 0, idx_181864) && slt64(idx_181864, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845)) {
                ((int16_t *) mem_184308)[idx_181864] = index_concat_branch_184175;
            }
            if (sle64((int64_t) 0, idx_181864) && slt64(idx_181864, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171845)) {
                ((int64_t *) mem_184310)[idx_181864] = index_concat_branch_184169;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_184526, bytes_184525, "mem_184526")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_184528, bytes_184527, "mem_184528")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_184082 = 0; i_184082 < n_87233; i_184082++) {
        int64_t eta_p_172137 = ((int64_t *) mem_184310)[i_184082];
        bool x_172138 = sle64((int64_t) 0, eta_p_172137);
        bool y_172139 = slt64(eta_p_172137, n_87233);
        bool bounds_check_172140 = x_172138 && y_172139;
        bool index_certs_172141;
        
        if (!bounds_check_172140) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172137, "] out of bounds for array of shape [", (long long) n_87233, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:146:93-96\n   #5  ftsort.fut:16:3-46\n   #6  ftsort.fut:15:1-16:46\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172142 = ((int64_t *) ext_mem_184306.mem)[eta_p_172137];
        int16_t lifted_lambda_res_172143 = ((int16_t *) xs_mem_184305.mem)[eta_p_172137];
        
        ((int64_t *) mem_184526.mem)[i_184082] = lifted_lambda_res_172142;
        ((int16_t *) mem_184528.mem)[i_184082] = lifted_lambda_res_172143;
    }
    if (memblock_unref(ctx, &ext_mem_184306, "ext_mem_184306") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185719, &mem_184526, "mem_184526") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_185720, &mem_184528, "mem_184528") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186441, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186442, &mem_out_185720, "mem_out_185720") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_184308);
        free(mem_184310);
        free(mem_184318);
        free(mem_184320);
        free(mem_184322);
        free(mem_184324);
        free(mem_184326);
        free(mem_184358);
        free(mem_184360);
        free(mem_184373);
        free(mem_184374);
        free(mem_184381);
        free(mem_184384);
        free(mem_184387);
        free(mem_184390);
        free(mem_184393);
        free(mem_184415);
        free(mem_184417);
        free(mem_184419);
        free(mem_184421);
        free(mem_184423);
        free(mem_184466);
        free(mem_184467);
        free(mem_184492);
        free(mem_184500);
        if (memblock_unref(ctx, &mem_184528, "mem_184528") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_184526, "mem_184526") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_184306, "ext_mem_184306") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185720, "mem_out_185720") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_get_bit_1844(struct futhark_context *ctx, int32_t *out_prim_out_186468, int32_t bit_85081, int16_t x_85082)
{
    (void) ctx;
    
    int err = 0;
    int32_t prim_out_185719;
    int16_t i32_res_166619 = sext_i32_i16(bit_85081);
    int16_t zgzg_res_166622 = ashr16(x_85082, i32_res_166619);
    int16_t za_res_166627 = (int16_t) 1 & zgzg_res_166622;
    int32_t to_i32_res_166629 = sext_i16_i32(za_res_166627);
    
    prim_out_185719 = to_i32_res_166629;
    *out_prim_out_186468 = prim_out_185719;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_get_bit_2253(struct futhark_context *ctx, int32_t *out_prim_out_186469, int32_t bit_90298, int64_t x_90299)
{
    (void) ctx;
    
    int err = 0;
    int32_t prim_out_185719;
    int64_t i32_res_166619 = sext_i32_i64(bit_90298);
    int64_t zgzg_res_166622 = ashr64(x_90299, i32_res_166619);
    int64_t za_res_166627 = (int64_t) 1 & zgzg_res_166622;
    int32_t to_i32_res_166629 = sext_i64_i32(za_res_166627);
    
    prim_out_185719 = to_i32_res_166629;
    *out_prim_out_186469 = prim_out_185719;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_greatest_divisor_leq_than_4833(struct futhark_context *ctx, int64_t *out_prim_out_186470, int64_t upper_bound_97980, int64_t n_97981)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_185719;
    bool upper_bound_97982 = sle64((int64_t) 1, upper_bound_97980);
    bool assert_c_97984;
    
    if (!upper_bound_97982) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (upper_bound >= 1)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:189:21-58\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_97993 = slt64(upper_bound_97980, n_97981);
    bool d_98002;
    int64_t d_98003;
    bool loop_while_98004;
    int64_t d_98005;
    
    loop_while_98004 = cond_97993;
    d_98005 = (int64_t) 1;
    while (loop_while_98004) {
        int64_t loopres_98006 = add64((int64_t) 1, d_98005);
        bool zzero_98008 = loopres_98006 == (int64_t) 0;
        bool nonzzero_98009 = !zzero_98008;
        bool nonzzero_cert_98010;
        
        if (!nonzzero_98009) {
            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:190:36-38\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t zg_lhs_98011 = sdiv64(n_97981, loopres_98006);
        bool cond_98013 = slt64(upper_bound_97980, zg_lhs_98011);
        bool loop_cond_98014;
        
        if (cond_98013) {
            loop_cond_98014 = 1;
        } else {
            int64_t znze_lhs_98018 = smod64(n_97981, loopres_98006);
            bool loop_cond_f_res_98020 = znze_lhs_98018 == (int64_t) 0;
            bool loop_cond_f_res_98021 = !loop_cond_f_res_98020;
            
            loop_cond_98014 = loop_cond_f_res_98021;
        }
        
        bool loop_while_tmp_185720 = loop_cond_98014;
        int64_t d_tmp_185721 = loopres_98006;
        
        loop_while_98004 = loop_while_tmp_185720;
        d_98005 = d_tmp_185721;
    }
    d_98002 = loop_while_98004;
    d_98003 = d_98005;
    
    bool zzero_98023 = d_98003 == (int64_t) 0;
    bool nonzzero_98024 = !zzero_98023;
    bool nonzzero_cert_98025;
    
    if (!nonzzero_98024) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:191:7-9\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t greatest_divisor_leq_than_res_98026 = sdiv64(n_97981, d_98003);
    
    prim_out_185719 = greatest_divisor_leq_than_res_98026;
    *out_prim_out_186470 = prim_out_185719;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9161(struct futhark_context *ctx, struct memblock *mem_out_p_186471, struct memblock xs_mem_184305, int64_t n_84378, int64_t incr_84379)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_184307;
    
    mem_184307.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t rng_84384 = add64(n_84378, incr_84379);
    bool bounds_invalid_upwards_84388 = slt64(rng_84384, incr_84379);
    bool valid_84393 = !bounds_invalid_upwards_84388;
    bool range_valid_c_84394;
    
    if (!valid_84393) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_84379, "..<", (long long) rng_84384, " is invalid.", "-> #0  ftbasics.fut:21:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184306 = (int64_t) 8 * n_84378;
    
    if (memblock_alloc(ctx, &mem_184307, bytes_184306, "mem_184307")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_185720 = 0; i_185720 < n_84378; i_185720++) {
        int64_t x_185721 = incr_84379 + i_185720 * (int64_t) 1;
        
        ((int64_t *) mem_184307.mem)[i_185720] = x_185721;
    }
    if (memblock_set(ctx, &mem_out_185719, &mem_184307, "mem_184307") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186471, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_184307, "mem_184307") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9316(struct futhark_context *ctx, struct memblock *mem_out_p_186472, struct memblock xs_mem_184305, int64_t n_87258, int64_t incr_87259)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_184307;
    
    mem_184307.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t rng_87264 = add64(n_87258, incr_87259);
    bool bounds_invalid_upwards_87268 = slt64(rng_87264, incr_87259);
    bool valid_87273 = !bounds_invalid_upwards_87268;
    bool range_valid_c_87274;
    
    if (!valid_87273) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_87259, "..<", (long long) rng_87264, " is invalid.", "-> #0  ftbasics.fut:21:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184306 = (int64_t) 8 * n_87258;
    
    if (memblock_alloc(ctx, &mem_184307, bytes_184306, "mem_184307")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_185720 = 0; i_185720 < n_87258; i_185720++) {
        int64_t x_185721 = incr_87259 + i_185720 * (int64_t) 1;
        
        ((int64_t *) mem_184307.mem)[i_185720] = x_185721;
    }
    if (memblock_set(ctx, &mem_out_185719, &mem_184307, "mem_184307") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186472, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_184307, "mem_184307") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9426(struct futhark_context *ctx, struct memblock *mem_out_p_186473, struct memblock xs_mem_184305, int64_t n_89875, int64_t incr_89876)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_184307;
    
    mem_184307.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t rng_89881 = add64(n_89875, incr_89876);
    bool bounds_invalid_upwards_89885 = slt64(rng_89881, incr_89876);
    bool valid_89890 = !bounds_invalid_upwards_89885;
    bool range_valid_c_89891;
    
    if (!valid_89890) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_89876, "..<", (long long) rng_89881, " is invalid.", "-> #0  ftbasics.fut:21:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184306 = (int64_t) 8 * n_89875;
    
    if (memblock_alloc(ctx, &mem_184307, bytes_184306, "mem_184307")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_185720 = 0; i_185720 < n_89875; i_185720++) {
        int64_t x_185721 = incr_89876 + i_185720 * (int64_t) 1;
        
        ((int64_t *) mem_184307.mem)[i_185720] = x_185721;
    }
    if (memblock_set(ctx, &mem_out_185719, &mem_184307, "mem_184307") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186473, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_184307, "mem_184307") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9526(struct futhark_context *ctx, struct memblock *mem_out_p_186474, struct memblock xs_mem_184305, int64_t n_92475, int64_t incr_92476)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_184307;
    
    mem_184307.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t rng_92481 = add64(n_92475, incr_92476);
    bool bounds_invalid_upwards_92485 = slt64(rng_92481, incr_92476);
    bool valid_92490 = !bounds_invalid_upwards_92485;
    bool range_valid_c_92491;
    
    if (!valid_92490) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_92476, "..<", (long long) rng_92481, " is invalid.", "-> #0  ftbasics.fut:21:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184306 = (int64_t) 8 * n_92475;
    
    if (memblock_alloc(ctx, &mem_184307, bytes_184306, "mem_184307")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_185720 = 0; i_185720 < n_92475; i_185720++) {
        int64_t x_185721 = incr_92476 + i_185720 * (int64_t) 1;
        
        ((int64_t *) mem_184307.mem)[i_185720] = x_185721;
    }
    if (memblock_set(ctx, &mem_out_185719, &mem_184307, "mem_184307") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186474, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_184307, "mem_184307") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9635(struct futhark_context *ctx, struct memblock *mem_out_p_186475, struct memblock xs_mem_184305, int64_t n_95226, int64_t incr_95227)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_184307;
    
    mem_184307.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    int64_t rng_95232 = add64(n_95226, incr_95227);
    bool bounds_invalid_upwards_95236 = slt64(rng_95232, incr_95227);
    bool valid_95241 = !bounds_invalid_upwards_95236;
    bool range_valid_c_95242;
    
    if (!valid_95241) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_95227, "..<", (long long) rng_95232, " is invalid.", "-> #0  ftbasics.fut:21:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_184306 = (int64_t) 8 * n_95226;
    
    if (memblock_alloc(ctx, &mem_184307, bytes_184306, "mem_184307")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_185720 = 0; i_185720 < n_95226; i_185720++) {
        int64_t x_185721 = incr_95227 + i_185720 * (int64_t) 1;
        
        ((int64_t *) mem_184307.mem)[i_185720] = x_185721;
    }
    if (memblock_set(ctx, &mem_out_185719, &mem_184307, "mem_184307") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_186475, &mem_out_185719, "mem_out_185719") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_184307, "mem_184307") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_185719, "mem_out_185719") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_f_9124(struct futhark_context *ctx, int64_t *out_prim_out_186476, int16_t na_84605, int16_t nb_84606, int16_t nc_84607, int16_t bin_84608, int16_t a_84609, int16_t b_84610, int16_t c_84611, int16_t d_84612)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_185719;
    bool bool_arg0_84613 = bin_84608 == (int16_t) 0;
    int16_t bool_res_166619 = btoi_bool_i16(bool_arg0_84613);
    int16_t zp_rhs_84617 = mul16(a_84609, bool_res_166619);
    int16_t zp_lhs_84620 = add16((int16_t) -1, zp_rhs_84617);
    bool bool_arg0_84622 = slt16((int16_t) 0, bin_84608);
    int16_t bool_res_166621 = btoi_bool_i16(bool_arg0_84622);
    int16_t zp_rhs_84626 = mul16(na_84605, bool_res_166621);
    int16_t zp_lhs_84628 = add16(zp_lhs_84620, zp_rhs_84626);
    bool bool_arg0_84630 = bin_84608 == (int16_t) 1;
    int16_t bool_res_166623 = btoi_bool_i16(bool_arg0_84630);
    int16_t zp_rhs_84634 = mul16(b_84610, bool_res_166623);
    int16_t zp_lhs_84636 = add16(zp_lhs_84628, zp_rhs_84634);
    bool bool_arg0_84638 = slt16((int16_t) 1, bin_84608);
    int16_t bool_res_166625 = btoi_bool_i16(bool_arg0_84638);
    int16_t zp_rhs_84642 = mul16(nb_84606, bool_res_166625);
    int16_t zp_lhs_84644 = add16(zp_lhs_84636, zp_rhs_84642);
    bool bool_arg0_84646 = bin_84608 == (int16_t) 2;
    int16_t bool_res_166627 = btoi_bool_i16(bool_arg0_84646);
    int16_t zp_rhs_84650 = mul16(c_84611, bool_res_166627);
    int16_t zp_lhs_84652 = add16(zp_lhs_84644, zp_rhs_84650);
    bool bool_arg0_84654 = slt16((int16_t) 2, bin_84608);
    int16_t bool_res_166629 = btoi_bool_i16(bool_arg0_84654);
    int16_t zp_rhs_84658 = mul16(nc_84607, bool_res_166629);
    int16_t zp_lhs_84660 = add16(zp_lhs_84652, zp_rhs_84658);
    bool bool_arg0_84662 = bin_84608 == (int16_t) 3;
    int16_t bool_res_166631 = btoi_bool_i16(bool_arg0_84662);
    int16_t zp_rhs_84666 = mul16(d_84612, bool_res_166631);
    int16_t i16_arg0_84668 = add16(zp_lhs_84660, zp_rhs_84666);
    int64_t i16_res_166633 = sext_i16_i64(i16_arg0_84668);
    
    prim_out_185719 = i16_res_166633;
    *out_prim_out_186476 = prim_out_185719;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_lambda_9123(struct futhark_context *ctx, int16_t *out_prim_out_186477, int16_t *out_prim_out_186478, int16_t *out_prim_out_186479, int16_t *out_prim_out_186480, int16_t x_84548)
{
    (void) ctx;
    
    int err = 0;
    int16_t prim_out_185719;
    int16_t prim_out_185720;
    int16_t prim_out_185721;
    int16_t prim_out_185722;
    bool bool_arg0_84549 = x_84548 == (int16_t) 0;
    int16_t bool_res_166619 = btoi_bool_i16(bool_arg0_84549);
    bool bool_arg0_84553 = x_84548 == (int16_t) 1;
    int16_t bool_res_166621 = btoi_bool_i16(bool_arg0_84553);
    bool bool_arg0_84557 = x_84548 == (int16_t) 2;
    int16_t bool_res_166623 = btoi_bool_i16(bool_arg0_84557);
    bool bool_arg0_84561 = x_84548 == (int16_t) 3;
    int16_t bool_res_166625 = btoi_bool_i16(bool_arg0_84561);
    
    prim_out_185719 = bool_res_166619;
    prim_out_185720 = bool_res_166621;
    prim_out_185721 = bool_res_166623;
    prim_out_185722 = bool_res_166625;
    *out_prim_out_186477 = prim_out_185719;
    *out_prim_out_186478 = prim_out_185720;
    *out_prim_out_186479 = prim_out_185721;
    *out_prim_out_186480 = prim_out_185722;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_normalizze_9100(struct futhark_context *ctx, int64_t *out_prim_out_186481, int64_t *out_prim_out_186482, int64_t *out_prim_out_186483, int64_t *out_prim_out_186484, int64_t *out_prim_out_186485, int64_t slo_98199, int64_t shi_98200, int64_t tlo_98201, int64_t thi_98202, int64_t count_98203)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_185719;
    int64_t prim_out_185720;
    int64_t prim_out_185721;
    int64_t prim_out_185722;
    int64_t prim_out_185723;
    int64_t min_arg1_98206 = add64(slo_98199, count_98203);
    int64_t min_res_166620 = smin64(shi_98200, min_arg1_98206);
    int64_t min_arg1_98210 = add64(tlo_98201, count_98203);
    int64_t min_res_166623 = smin64(thi_98202, min_arg1_98210);
    int64_t zp_lhs_98214 = sub64(min_res_166620, slo_98199);
    int64_t zp_rhs_98216 = sub64(min_res_166623, tlo_98201);
    int64_t zm_lhs_98218 = add64(zp_lhs_98214, zp_rhs_98216);
    int64_t slack_98220 = sub64(zm_lhs_98218, count_98203);
    int64_t min_res_166626 = smin64(zp_lhs_98214, slack_98220);
    int64_t min_res_166629 = smin64(zp_rhs_98216, min_res_166626);
    int64_t max_arg1_98230 = sub64(min_res_166620, min_res_166629);
    int64_t max_res_166632 = smax64(slo_98199, max_arg1_98230);
    int64_t max_arg1_98234 = sub64(min_res_166623, min_res_166629);
    int64_t max_res_166635 = smax64(tlo_98201, max_arg1_98234);
    int64_t zm_rhs_98238 = sub64(max_res_166632, slo_98199);
    int64_t zm_lhs_98240 = sub64(count_98203, zm_rhs_98238);
    int64_t zm_rhs_98242 = sub64(max_res_166635, tlo_98201);
    int64_t count_98244 = sub64(zm_lhs_98240, zm_rhs_98242);
    
    prim_out_185719 = max_res_166632;
    prim_out_185720 = min_res_166620;
    prim_out_185721 = max_res_166635;
    prim_out_185722 = min_res_166623;
    prim_out_185723 = count_98244;
    *out_prim_out_186481 = prim_out_185719;
    *out_prim_out_186482 = prim_out_185720;
    *out_prim_out_186483 = prim_out_185721;
    *out_prim_out_186484 = prim_out_185722;
    *out_prim_out_186485 = prim_out_185723;
    
  cleanup:
    { }
    return err;
}

int futhark_entry_argmin_double(struct futhark_context *ctx, int64_t *out0, const struct futhark_f64_1d *in0)
{
    int64_t n_111709 = (int64_t) 0;
    int64_t prim_out_185719 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_184305;
    
    ks_mem_184305.references = NULL;
    ks_mem_184305 = in0->mem;
    n_111709 = in0->shape[0];
    if (!(n_111709 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_double(ctx, &prim_out_185719, ks_mem_184305, n_111709);
        if (ret == 0) {
            *out0 = prim_out_185719;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_float(struct futhark_context *ctx, int64_t *out0, const struct futhark_f32_1d *in0)
{
    int64_t n_111540 = (int64_t) 0;
    int64_t prim_out_185719 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_184305;
    
    ks_mem_184305.references = NULL;
    ks_mem_184305 = in0->mem;
    n_111540 = in0->shape[0];
    if (!(n_111540 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_float(ctx, &prim_out_185719, ks_mem_184305, n_111540);
        if (ret == 0) {
            *out0 = prim_out_185719;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_int(struct futhark_context *ctx, int64_t *out0, const struct futhark_i32_1d *in0)
{
    int64_t n_111205 = (int64_t) 0;
    int64_t prim_out_185719 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_184305;
    
    ks_mem_184305.references = NULL;
    ks_mem_184305 = in0->mem;
    n_111205 = in0->shape[0];
    if (!(n_111205 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_int(ctx, &prim_out_185719, ks_mem_184305, n_111205);
        if (ret == 0) {
            *out0 = prim_out_185719;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_long(struct futhark_context *ctx, int64_t *out0, const struct futhark_i64_1d *in0)
{
    int64_t n_111371 = (int64_t) 0;
    int64_t prim_out_185719 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_184305;
    
    ks_mem_184305.references = NULL;
    ks_mem_184305 = in0->mem;
    n_111371 = in0->shape[0];
    if (!(n_111371 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_long(ctx, &prim_out_185719, ks_mem_184305, n_111371);
        if (ret == 0) {
            *out0 = prim_out_185719;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_short(struct futhark_context *ctx, int64_t *out0, const struct futhark_i16_1d *in0)
{
    int64_t n_111039 = (int64_t) 0;
    int64_t prim_out_185719 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_184305;
    
    ks_mem_184305.references = NULL;
    ks_mem_184305 = in0->mem;
    n_111039 = in0->shape[0];
    if (!(n_111039 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_short(ctx, &prim_out_185719, ks_mem_184305, n_111039);
        if (ret == 0) {
            *out0 = prim_out_185719;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const struct futhark_f64_1d *in1)
{
    int64_t n_109787 = (int64_t) 0;
    int64_t incr_109788 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock xs_mem_184305;
    
    xs_mem_184305.references = NULL;
    incr_109788 = in0;
    xs_mem_184305 = in1->mem;
    n_109787 = in1->shape[0];
    if (!(n_109787 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_double(ctx, &mem_out_185719, &mem_out_185720, xs_mem_184305, n_109787, incr_109788);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_double *) malloc(sizeof(struct futhark_opaque_sortInfo_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_185719;
            (*out0)->v0->shape[0] = n_109787;
            assert(((*out0)->v1 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_185720;
            (*out0)->v1->shape[0] = n_109787;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const struct futhark_f32_1d *in1)
{
    int64_t n_107443 = (int64_t) 0;
    int64_t incr_107444 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock xs_mem_184305;
    
    xs_mem_184305.references = NULL;
    incr_107444 = in0;
    xs_mem_184305 = in1->mem;
    n_107443 = in1->shape[0];
    if (!(n_107443 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_float(ctx, &mem_out_185719, &mem_out_185720, xs_mem_184305, n_107443, incr_107444);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_float *) malloc(sizeof(struct futhark_opaque_sortInfo_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_185719;
            (*out0)->v0->shape[0] = n_107443;
            assert(((*out0)->v1 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_185720;
            (*out0)->v1->shape[0] = n_107443;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const struct futhark_i32_1d *in1)
{
    int64_t n_102756 = (int64_t) 0;
    int64_t incr_102757 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock xs_mem_184305;
    
    xs_mem_184305.references = NULL;
    incr_102757 = in0;
    xs_mem_184305 = in1->mem;
    n_102756 = in1->shape[0];
    if (!(n_102756 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_int(ctx, &mem_out_185719, &mem_out_185720, xs_mem_184305, n_102756, incr_102757);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_int *) malloc(sizeof(struct futhark_opaque_sortInfo_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_185719;
            (*out0)->v0->shape[0] = n_102756;
            assert(((*out0)->v1 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_185720;
            (*out0)->v1->shape[0] = n_102756;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const struct futhark_i64_1d *in1)
{
    int64_t n_105099 = (int64_t) 0;
    int64_t incr_105100 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock xs_mem_184305;
    
    xs_mem_184305.references = NULL;
    incr_105100 = in0;
    xs_mem_184305 = in1->mem;
    n_105099 = in1->shape[0];
    if (!(n_105099 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_long(ctx, &mem_out_185719, &mem_out_185720, xs_mem_184305, n_105099, incr_105100);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_long *) malloc(sizeof(struct futhark_opaque_sortInfo_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_185719;
            (*out0)->v0->shape[0] = n_105099;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_185720;
            (*out0)->v1->shape[0] = n_105099;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const struct futhark_i16_1d *in1)
{
    int64_t n_100412 = (int64_t) 0;
    int64_t incr_100413 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock xs_mem_184305;
    
    xs_mem_184305.references = NULL;
    incr_100413 = in0;
    xs_mem_184305 = in1->mem;
    n_100412 = in1->shape[0];
    if (!(n_100412 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_short(ctx, &mem_out_185719, &mem_out_185720, xs_mem_184305, n_100412, incr_100413);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_short *) malloc(sizeof(struct futhark_opaque_sortInfo_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_185719;
            (*out0)->v0->shape[0] = n_100412;
            assert(((*out0)->v1 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v1->mem = mem_out_185720;
            (*out0)->v1->shape[0] = n_100412;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out0, const int64_t in0, const int64_t in1, const struct futhark_f64_1d *in2, const struct futhark_f64_1d *in3, const bool in4)
{
    int64_t na_164063 = (int64_t) 0;
    int64_t nb_164064 = (int64_t) 0;
    int64_t window_sizze_164065 = (int64_t) 0;
    int64_t threads_164066 = (int64_t) 0;
    bool inParallel_164069 = 0;
    int64_t prim_out_185722 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185721;
    
    mem_out_185721.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock b_list_mem_184306;
    
    b_list_mem_184306.references = NULL;
    
    struct memblock a_list_mem_184305;
    
    a_list_mem_184305.references = NULL;
    window_sizze_164065 = in0;
    threads_164066 = in1;
    a_list_mem_184305 = in2->mem;
    na_164063 = in2->shape[0];
    b_list_mem_184306 = in3->mem;
    nb_164064 = in3->shape[0];
    inParallel_164069 = in4;
    if (!(na_164063 == in2->shape[0] && nb_164064 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_double(ctx, &mem_out_185719, &mem_out_185720, &mem_out_185721, &prim_out_185722, a_list_mem_184305, b_list_mem_184306, na_164063, nb_164064, window_sizze_164065, threads_164066, inParallel_164069);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_double *) malloc(sizeof(struct futhark_opaque_mergeInfo_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_185719;
            (*out0)->v0->shape[0] = prim_out_185722;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_185720;
            (*out0)->v1->shape[0] = prim_out_185722;
            assert(((*out0)->v2 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v2->mem = mem_out_185721;
            (*out0)->v2->shape[0] = prim_out_185722;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out0, const int64_t in0, const int64_t in1, const struct futhark_f32_1d *in2, const struct futhark_f32_1d *in3, const bool in4)
{
    int64_t na_153597 = (int64_t) 0;
    int64_t nb_153598 = (int64_t) 0;
    int64_t window_sizze_153599 = (int64_t) 0;
    int64_t threads_153600 = (int64_t) 0;
    bool inParallel_153603 = 0;
    int64_t prim_out_185722 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185721;
    
    mem_out_185721.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock b_list_mem_184306;
    
    b_list_mem_184306.references = NULL;
    
    struct memblock a_list_mem_184305;
    
    a_list_mem_184305.references = NULL;
    window_sizze_153599 = in0;
    threads_153600 = in1;
    a_list_mem_184305 = in2->mem;
    na_153597 = in2->shape[0];
    b_list_mem_184306 = in3->mem;
    nb_153598 = in3->shape[0];
    inParallel_153603 = in4;
    if (!(na_153597 == in2->shape[0] && nb_153598 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_float(ctx, &mem_out_185719, &mem_out_185720, &mem_out_185721, &prim_out_185722, a_list_mem_184305, b_list_mem_184306, na_153597, nb_153598, window_sizze_153599, threads_153600, inParallel_153603);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_float *) malloc(sizeof(struct futhark_opaque_mergeInfo_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_185719;
            (*out0)->v0->shape[0] = prim_out_185722;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_185720;
            (*out0)->v1->shape[0] = prim_out_185722;
            assert(((*out0)->v2 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v2->mem = mem_out_185721;
            (*out0)->v2->shape[0] = prim_out_185722;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out0, const int64_t in0, const int64_t in1, const struct futhark_i32_1d *in2, const struct futhark_i32_1d *in3, const bool in4)
{
    int64_t na_132665 = (int64_t) 0;
    int64_t nb_132666 = (int64_t) 0;
    int64_t window_sizze_132667 = (int64_t) 0;
    int64_t threads_132668 = (int64_t) 0;
    bool inParallel_132671 = 0;
    int64_t prim_out_185722 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185721;
    
    mem_out_185721.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock b_list_mem_184306;
    
    b_list_mem_184306.references = NULL;
    
    struct memblock a_list_mem_184305;
    
    a_list_mem_184305.references = NULL;
    window_sizze_132667 = in0;
    threads_132668 = in1;
    a_list_mem_184305 = in2->mem;
    na_132665 = in2->shape[0];
    b_list_mem_184306 = in3->mem;
    nb_132666 = in3->shape[0];
    inParallel_132671 = in4;
    if (!(na_132665 == in2->shape[0] && nb_132666 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_int(ctx, &mem_out_185719, &mem_out_185720, &mem_out_185721, &prim_out_185722, a_list_mem_184305, b_list_mem_184306, na_132665, nb_132666, window_sizze_132667, threads_132668, inParallel_132671);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_int *) malloc(sizeof(struct futhark_opaque_mergeInfo_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_185719;
            (*out0)->v0->shape[0] = prim_out_185722;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_185720;
            (*out0)->v1->shape[0] = prim_out_185722;
            assert(((*out0)->v2 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v2->mem = mem_out_185721;
            (*out0)->v2->shape[0] = prim_out_185722;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3, const bool in4)
{
    int64_t na_143131 = (int64_t) 0;
    int64_t nb_143132 = (int64_t) 0;
    int64_t window_sizze_143133 = (int64_t) 0;
    int64_t threads_143134 = (int64_t) 0;
    bool inParallel_143137 = 0;
    int64_t prim_out_185722 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185721;
    
    mem_out_185721.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock b_list_mem_184306;
    
    b_list_mem_184306.references = NULL;
    
    struct memblock a_list_mem_184305;
    
    a_list_mem_184305.references = NULL;
    window_sizze_143133 = in0;
    threads_143134 = in1;
    a_list_mem_184305 = in2->mem;
    na_143131 = in2->shape[0];
    b_list_mem_184306 = in3->mem;
    nb_143132 = in3->shape[0];
    inParallel_143137 = in4;
    if (!(na_143131 == in2->shape[0] && nb_143132 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_long(ctx, &mem_out_185719, &mem_out_185720, &mem_out_185721, &prim_out_185722, a_list_mem_184305, b_list_mem_184306, na_143131, nb_143132, window_sizze_143133, threads_143134, inParallel_143137);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_long *) malloc(sizeof(struct futhark_opaque_mergeInfo_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_185719;
            (*out0)->v0->shape[0] = prim_out_185722;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_185720;
            (*out0)->v1->shape[0] = prim_out_185722;
            assert(((*out0)->v2 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v2->mem = mem_out_185721;
            (*out0)->v2->shape[0] = prim_out_185722;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out0, const int64_t in0, const int64_t in1, const struct futhark_i16_1d *in2, const struct futhark_i16_1d *in3, const bool in4)
{
    int64_t na_122199 = (int64_t) 0;
    int64_t nb_122200 = (int64_t) 0;
    int64_t window_sizze_122201 = (int64_t) 0;
    int64_t threads_122202 = (int64_t) 0;
    bool inParallel_122205 = 0;
    int64_t prim_out_185722 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185721;
    
    mem_out_185721.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock b_list_mem_184306;
    
    b_list_mem_184306.references = NULL;
    
    struct memblock a_list_mem_184305;
    
    a_list_mem_184305.references = NULL;
    window_sizze_122201 = in0;
    threads_122202 = in1;
    a_list_mem_184305 = in2->mem;
    na_122199 = in2->shape[0];
    b_list_mem_184306 = in3->mem;
    nb_122200 = in3->shape[0];
    inParallel_122205 = in4;
    if (!(na_122199 == in2->shape[0] && nb_122200 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_short(ctx, &mem_out_185719, &mem_out_185720, &mem_out_185721, &prim_out_185722, a_list_mem_184305, b_list_mem_184306, na_122199, nb_122200, window_sizze_122201, threads_122202, inParallel_122205);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_short *) malloc(sizeof(struct futhark_opaque_mergeInfo_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_185719;
            (*out0)->v0->shape[0] = prim_out_185722;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_185720;
            (*out0)->v1->shape[0] = prim_out_185722;
            assert(((*out0)->v2 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v2->mem = mem_out_185721;
            (*out0)->v2->shape[0] = prim_out_185722;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeTups_double(struct futhark_context *ctx, struct futhark_opaque_mergeTup_double **out0, const struct futhark_f64_1d *in0, const struct futhark_f64_1d *in1)
{
    int64_t w1_166588 = (int64_t) 0;
    int64_t w2_166589 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185721;
    
    mem_out_185721.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock ys_mem_184306;
    
    ys_mem_184306.references = NULL;
    
    struct memblock xs_mem_184305;
    
    xs_mem_184305.references = NULL;
    xs_mem_184305 = in0->mem;
    w1_166588 = in0->shape[0];
    ys_mem_184306 = in1->mem;
    w2_166589 = in1->shape[0];
    if (!(w1_166588 == in0->shape[0] && w2_166589 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeTups_double(ctx, &mem_out_185719, &mem_out_185720, &mem_out_185721, xs_mem_184305, ys_mem_184306, w1_166588, w2_166589);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeTup_double *) malloc(sizeof(struct futhark_opaque_mergeTup_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_185719;
            (*out0)->v0->shape[0] = w1_166588;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_185720;
            (*out0)->v1->shape[0] = w1_166588;
            assert(((*out0)->v2 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v2->mem = mem_out_185721;
            (*out0)->v2->shape[0] = w1_166588;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeTups_float(struct futhark_context *ctx, struct futhark_opaque_mergeTup_float **out0, const struct futhark_f32_1d *in0, const struct futhark_f32_1d *in1)
{
    int64_t w1_166089 = (int64_t) 0;
    int64_t w2_166090 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185721;
    
    mem_out_185721.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock ys_mem_184306;
    
    ys_mem_184306.references = NULL;
    
    struct memblock xs_mem_184305;
    
    xs_mem_184305.references = NULL;
    xs_mem_184305 = in0->mem;
    w1_166089 = in0->shape[0];
    ys_mem_184306 = in1->mem;
    w2_166090 = in1->shape[0];
    if (!(w1_166089 == in0->shape[0] && w2_166090 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeTups_float(ctx, &mem_out_185719, &mem_out_185720, &mem_out_185721, xs_mem_184305, ys_mem_184306, w1_166089, w2_166090);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeTup_float *) malloc(sizeof(struct futhark_opaque_mergeTup_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_185719;
            (*out0)->v0->shape[0] = w1_166089;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_185720;
            (*out0)->v1->shape[0] = w1_166089;
            assert(((*out0)->v2 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v2->mem = mem_out_185721;
            (*out0)->v2->shape[0] = w1_166089;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeTups_int(struct futhark_context *ctx, struct futhark_opaque_mergeTup_int **out0, const struct futhark_i32_1d *in0, const struct futhark_i32_1d *in1)
{
    int64_t w1_165111 = (int64_t) 0;
    int64_t w2_165112 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185721;
    
    mem_out_185721.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock ys_mem_184306;
    
    ys_mem_184306.references = NULL;
    
    struct memblock xs_mem_184305;
    
    xs_mem_184305.references = NULL;
    xs_mem_184305 = in0->mem;
    w1_165111 = in0->shape[0];
    ys_mem_184306 = in1->mem;
    w2_165112 = in1->shape[0];
    if (!(w1_165111 == in0->shape[0] && w2_165112 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeTups_int(ctx, &mem_out_185719, &mem_out_185720, &mem_out_185721, xs_mem_184305, ys_mem_184306, w1_165111, w2_165112);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeTup_int *) malloc(sizeof(struct futhark_opaque_mergeTup_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_185719;
            (*out0)->v0->shape[0] = w1_165111;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_185720;
            (*out0)->v1->shape[0] = w1_165111;
            assert(((*out0)->v2 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v2->mem = mem_out_185721;
            (*out0)->v2->shape[0] = w1_165111;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeTups_long(struct futhark_context *ctx, struct futhark_opaque_mergeTup_long **out0, const struct futhark_i64_1d *in0, const struct futhark_i64_1d *in1)
{
    int64_t w1_165590 = (int64_t) 0;
    int64_t w2_165591 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185721;
    
    mem_out_185721.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock ys_mem_184306;
    
    ys_mem_184306.references = NULL;
    
    struct memblock xs_mem_184305;
    
    xs_mem_184305.references = NULL;
    xs_mem_184305 = in0->mem;
    w1_165590 = in0->shape[0];
    ys_mem_184306 = in1->mem;
    w2_165591 = in1->shape[0];
    if (!(w1_165590 == in0->shape[0] && w2_165591 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeTups_long(ctx, &mem_out_185719, &mem_out_185720, &mem_out_185721, xs_mem_184305, ys_mem_184306, w1_165590, w2_165591);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeTup_long *) malloc(sizeof(struct futhark_opaque_mergeTup_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_185719;
            (*out0)->v0->shape[0] = w1_165590;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_185720;
            (*out0)->v1->shape[0] = w1_165590;
            assert(((*out0)->v2 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v2->mem = mem_out_185721;
            (*out0)->v2->shape[0] = w1_165590;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeTups_short(struct futhark_context *ctx, struct futhark_opaque_mergeTup_short **out0, const struct futhark_i16_1d *in0, const struct futhark_i16_1d *in1)
{
    int64_t w1_164612 = (int64_t) 0;
    int64_t w2_164613 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185721;
    
    mem_out_185721.references = NULL;
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock ys_mem_184306;
    
    ys_mem_184306.references = NULL;
    
    struct memblock xs_mem_184305;
    
    xs_mem_184305.references = NULL;
    xs_mem_184305 = in0->mem;
    w1_164612 = in0->shape[0];
    ys_mem_184306 = in1->mem;
    w2_164613 = in1->shape[0];
    if (!(w1_164612 == in0->shape[0] && w2_164613 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeTups_short(ctx, &mem_out_185719, &mem_out_185720, &mem_out_185721, xs_mem_184305, ys_mem_184306, w1_164612, w2_164613);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeTup_short *) malloc(sizeof(struct futhark_opaque_mergeTup_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_185719;
            (*out0)->v0->shape[0] = w1_164612;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_185720;
            (*out0)->v1->shape[0] = w1_164612;
            assert(((*out0)->v2 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v2->mem = mem_out_185721;
            (*out0)->v2->shape[0] = w1_164612;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_double(struct futhark_context *ctx, struct futhark_f64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f64_1d *in3)
{
    int64_t n_110870 = (int64_t) 0;
    int64_t incr_110871 = (int64_t) 0;
    int64_t block_sizze_110872 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock ys_mem_184306;
    
    ys_mem_184306.references = NULL;
    
    struct memblock is_mem_184305;
    
    is_mem_184305.references = NULL;
    incr_110871 = in0;
    block_sizze_110872 = in1;
    is_mem_184305 = in2->mem;
    n_110870 = in2->shape[0];
    ys_mem_184306 = in3->mem;
    n_110870 = in3->shape[0];
    if (!(n_110870 == in2->shape[0] && n_110870 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_double(ctx, &mem_out_185719, is_mem_184305, ys_mem_184306, n_110870, incr_110871, block_sizze_110872);
        if (ret == 0) {
            assert((*out0 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->mem = mem_out_185719;
            (*out0)->shape[0] = n_110870;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_float(struct futhark_context *ctx, struct futhark_f32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f32_1d *in3)
{
    int64_t n_110653 = (int64_t) 0;
    int64_t incr_110654 = (int64_t) 0;
    int64_t block_sizze_110655 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock ys_mem_184306;
    
    ys_mem_184306.references = NULL;
    
    struct memblock is_mem_184305;
    
    is_mem_184305.references = NULL;
    incr_110654 = in0;
    block_sizze_110655 = in1;
    is_mem_184305 = in2->mem;
    n_110653 = in2->shape[0];
    ys_mem_184306 = in3->mem;
    n_110653 = in3->shape[0];
    if (!(n_110653 == in2->shape[0] && n_110653 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_float(ctx, &mem_out_185719, is_mem_184305, ys_mem_184306, n_110653, incr_110654, block_sizze_110655);
        if (ret == 0) {
            assert((*out0 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->mem = mem_out_185719;
            (*out0)->shape[0] = n_110653;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_int(struct futhark_context *ctx, struct futhark_i32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i32_1d *in3)
{
    int64_t n_110232 = (int64_t) 0;
    int64_t incr_110233 = (int64_t) 0;
    int64_t block_sizze_110234 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock ys_mem_184306;
    
    ys_mem_184306.references = NULL;
    
    struct memblock is_mem_184305;
    
    is_mem_184305.references = NULL;
    incr_110233 = in0;
    block_sizze_110234 = in1;
    is_mem_184305 = in2->mem;
    n_110232 = in2->shape[0];
    ys_mem_184306 = in3->mem;
    n_110232 = in3->shape[0];
    if (!(n_110232 == in2->shape[0] && n_110232 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_int(ctx, &mem_out_185719, is_mem_184305, ys_mem_184306, n_110232, incr_110233, block_sizze_110234);
        if (ret == 0) {
            assert((*out0 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->mem = mem_out_185719;
            (*out0)->shape[0] = n_110232;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_long(struct futhark_context *ctx, struct futhark_i64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3)
{
    int64_t n_110436 = (int64_t) 0;
    int64_t incr_110437 = (int64_t) 0;
    int64_t block_sizze_110438 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock ys_mem_184306;
    
    ys_mem_184306.references = NULL;
    
    struct memblock is_mem_184305;
    
    is_mem_184305.references = NULL;
    incr_110437 = in0;
    block_sizze_110438 = in1;
    is_mem_184305 = in2->mem;
    n_110436 = in2->shape[0];
    ys_mem_184306 = in3->mem;
    n_110436 = in3->shape[0];
    if (!(n_110436 == in2->shape[0] && n_110436 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_long(ctx, &mem_out_185719, is_mem_184305, ys_mem_184306, n_110436, incr_110437, block_sizze_110438);
        if (ret == 0) {
            assert((*out0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->mem = mem_out_185719;
            (*out0)->shape[0] = n_110436;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_short(struct futhark_context *ctx, struct futhark_i16_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i16_1d *in3)
{
    int64_t n_110015 = (int64_t) 0;
    int64_t incr_110016 = (int64_t) 0;
    int64_t block_sizze_110017 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock ys_mem_184306;
    
    ys_mem_184306.references = NULL;
    
    struct memblock is_mem_184305;
    
    is_mem_184305.references = NULL;
    incr_110016 = in0;
    block_sizze_110017 = in1;
    is_mem_184305 = in2->mem;
    n_110015 = in2->shape[0];
    ys_mem_184306 = in3->mem;
    n_110015 = in3->shape[0];
    if (!(n_110015 == in2->shape[0] && n_110015 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_short(ctx, &mem_out_185719, is_mem_184305, ys_mem_184306, n_110015, incr_110016, block_sizze_110017);
        if (ret == 0) {
            assert((*out0 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->mem = mem_out_185719;
            (*out0)->shape[0] = n_110015;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const int16_t in1, const struct futhark_f64_1d *in2)
{
    int64_t n_97956 = (int64_t) 0;
    int64_t incr_97957 = (int64_t) 0;
    int16_t block_sizze_97958 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock xs_mem_184305;
    
    xs_mem_184305.references = NULL;
    incr_97957 = in0;
    block_sizze_97958 = in1;
    xs_mem_184305 = in2->mem;
    n_97956 = in2->shape[0];
    if (!(n_97956 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_double(ctx, &mem_out_185719, &mem_out_185720, xs_mem_184305, n_97956, incr_97957, block_sizze_97958);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_double *) malloc(sizeof(struct futhark_opaque_sortInfo_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_185719;
            (*out0)->v0->shape[0] = n_97956;
            assert(((*out0)->v1 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_185720;
            (*out0)->v1->shape[0] = n_97956;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const int16_t in1, const struct futhark_f32_1d *in2)
{
    int64_t n_95201 = (int64_t) 0;
    int64_t incr_95202 = (int64_t) 0;
    int16_t block_sizze_95203 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock xs_mem_184305;
    
    xs_mem_184305.references = NULL;
    incr_95202 = in0;
    block_sizze_95203 = in1;
    xs_mem_184305 = in2->mem;
    n_95201 = in2->shape[0];
    if (!(n_95201 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_float(ctx, &mem_out_185719, &mem_out_185720, xs_mem_184305, n_95201, incr_95202, block_sizze_95203);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_float *) malloc(sizeof(struct futhark_opaque_sortInfo_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_185719;
            (*out0)->v0->shape[0] = n_95201;
            assert(((*out0)->v1 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_185720;
            (*out0)->v1->shape[0] = n_95201;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const int16_t in1, const struct futhark_i32_1d *in2)
{
    int64_t n_89850 = (int64_t) 0;
    int64_t incr_89851 = (int64_t) 0;
    int16_t block_sizze_89852 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock xs_mem_184305;
    
    xs_mem_184305.references = NULL;
    incr_89851 = in0;
    block_sizze_89852 = in1;
    xs_mem_184305 = in2->mem;
    n_89850 = in2->shape[0];
    if (!(n_89850 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_int(ctx, &mem_out_185719, &mem_out_185720, xs_mem_184305, n_89850, incr_89851, block_sizze_89852);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_int *) malloc(sizeof(struct futhark_opaque_sortInfo_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_185719;
            (*out0)->v0->shape[0] = n_89850;
            assert(((*out0)->v1 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_185720;
            (*out0)->v1->shape[0] = n_89850;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const int16_t in1, const struct futhark_i64_1d *in2)
{
    int64_t n_92450 = (int64_t) 0;
    int64_t incr_92451 = (int64_t) 0;
    int16_t block_sizze_92452 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock xs_mem_184305;
    
    xs_mem_184305.references = NULL;
    incr_92451 = in0;
    block_sizze_92452 = in1;
    xs_mem_184305 = in2->mem;
    n_92450 = in2->shape[0];
    if (!(n_92450 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_long(ctx, &mem_out_185719, &mem_out_185720, xs_mem_184305, n_92450, incr_92451, block_sizze_92452);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_long *) malloc(sizeof(struct futhark_opaque_sortInfo_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_185719;
            (*out0)->v0->shape[0] = n_92450;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_185720;
            (*out0)->v1->shape[0] = n_92450;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const int16_t in1, const struct futhark_i16_1d *in2)
{
    int64_t n_87233 = (int64_t) 0;
    int64_t incr_87234 = (int64_t) 0;
    int16_t block_sizze_87235 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_185720;
    
    mem_out_185720.references = NULL;
    
    struct memblock mem_out_185719;
    
    mem_out_185719.references = NULL;
    
    struct memblock xs_mem_184305;
    
    xs_mem_184305.references = NULL;
    incr_87234 = in0;
    block_sizze_87235 = in1;
    xs_mem_184305 = in2->mem;
    n_87233 = in2->shape[0];
    if (!(n_87233 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_short(ctx, &mem_out_185719, &mem_out_185720, xs_mem_184305, n_87233, incr_87234, block_sizze_87235);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_short *) malloc(sizeof(struct futhark_opaque_sortInfo_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_185719;
            (*out0)->v0->shape[0] = n_87233;
            assert(((*out0)->v1 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v1->mem = mem_out_185720;
            (*out0)->v1->shape[0] = n_87233;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
  
