// Generated by Futhark 0.26.0 (prerelease - include info below when reporting bugs).
// git: 1de4f0c (Fri Jan 24 11:10:52 2025 +0100)
// Compiled with GHC 9.4.8.

// We need to define _GNU_SOURCE before
// _any_ headers files are imported to get
// the usage statistics of a thread (i.e. have RUSAGE_THREAD) on GNU/Linux
// https://manpages.courier-mta.org/htmlman2/getrusage.2.html
#ifndef _GNU_SOURCE // Avoid possible double-definition warning.
#define _GNU_SOURCE
#endif

#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wunused-const-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#pragma clang diagnostic ignored "-Wunused-but-set-variable"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wunused-const-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif

// Headers
#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation
struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg, const char *param_name, size_t new_value);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
void futhark_context_free(struct futhark_context *cfg);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag);
int futhark_get_tuning_param_count(void);
const char *futhark_get_tuning_param_name(int);
const char *futhark_get_tuning_param_class(int);

// Arrays
struct futhark_f32_1d;
struct futhark_f32_1d *futhark_new_f32_1d(struct futhark_context *ctx, const float *data, int64_t dim0);
struct futhark_f32_1d *futhark_new_raw_f32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
int futhark_values_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr, float *data);
int futhark_index_f32_1d(struct futhark_context *ctx, float *out, struct futhark_f32_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
const int64_t *futhark_shape_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
struct futhark_f64_1d;
struct futhark_f64_1d *futhark_new_f64_1d(struct futhark_context *ctx, const double *data, int64_t dim0);
struct futhark_f64_1d *futhark_new_raw_f64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
int futhark_values_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr, double *data);
int futhark_index_f64_1d(struct futhark_context *ctx, double *out, struct futhark_f64_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
const int64_t *futhark_shape_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
struct futhark_i16_1d;
struct futhark_i16_1d *futhark_new_i16_1d(struct futhark_context *ctx, const int16_t *data, int64_t dim0);
struct futhark_i16_1d *futhark_new_raw_i16_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr);
int futhark_values_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr, int16_t *data);
int futhark_index_i16_1d(struct futhark_context *ctx, int16_t *out, struct futhark_i16_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr);
const int64_t *futhark_shape_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr);
struct futhark_i32_1d;
struct futhark_i32_1d *futhark_new_i32_1d(struct futhark_context *ctx, const int32_t *data, int64_t dim0);
struct futhark_i32_1d *futhark_new_raw_i32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr);
int futhark_values_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr, int32_t *data);
int futhark_index_i32_1d(struct futhark_context *ctx, int32_t *out, struct futhark_i32_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr);
const int64_t *futhark_shape_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr);
struct futhark_i64_1d;
struct futhark_i64_1d *futhark_new_i64_1d(struct futhark_context *ctx, const int64_t *data, int64_t dim0);
struct futhark_i64_1d *futhark_new_raw_i64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
int futhark_values_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr, int64_t *data);
int futhark_index_i64_1d(struct futhark_context *ctx, int64_t *out, struct futhark_i64_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
const int64_t *futhark_shape_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
struct futhark_i8_1d;
struct futhark_i8_1d *futhark_new_i8_1d(struct futhark_context *ctx, const int8_t *data, int64_t dim0);
struct futhark_i8_1d *futhark_new_raw_i8_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr);
int futhark_values_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr, int8_t *data);
int futhark_index_i8_1d(struct futhark_context *ctx, int8_t *out, struct futhark_i8_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr);
const int64_t *futhark_shape_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr);

// Opaque values
struct futhark_opaque_mergeInfo_double;
struct futhark_opaque_mergeInfo_float;
struct futhark_opaque_mergeInfo_int;
struct futhark_opaque_mergeInfo_long;
struct futhark_opaque_mergeInfo_short;
struct futhark_opaque_sortInfo_double;
struct futhark_opaque_sortInfo_float;
struct futhark_opaque_sortInfo_int;
struct futhark_opaque_sortInfo_long;
struct futhark_opaque_sortInfo_short;
int futhark_free_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double *obj);
int futhark_store_opaque_mergeInfo_double(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_double *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_double *futhark_restore_opaque_mergeInfo_double(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_double *obj);
int futhark_project_opaque_mergeInfo_double_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_double *obj);
int futhark_project_opaque_mergeInfo_double_vs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_mergeInfo_double *obj);
int futhark_new_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f64_1d *f_vs);
int futhark_free_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float *obj);
int futhark_store_opaque_mergeInfo_float(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_float *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_float *futhark_restore_opaque_mergeInfo_float(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_float *obj);
int futhark_project_opaque_mergeInfo_float_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_float *obj);
int futhark_project_opaque_mergeInfo_float_vs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_mergeInfo_float *obj);
int futhark_new_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f32_1d *f_vs);
int futhark_free_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int *obj);
int futhark_store_opaque_mergeInfo_int(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_int *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_int *futhark_restore_opaque_mergeInfo_int(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_int *obj);
int futhark_project_opaque_mergeInfo_int_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_int *obj);
int futhark_project_opaque_mergeInfo_int_vs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_mergeInfo_int *obj);
int futhark_new_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i32_1d *f_vs);
int futhark_free_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long *obj);
int futhark_store_opaque_mergeInfo_long(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_long *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_long *futhark_restore_opaque_mergeInfo_long(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj);
int futhark_project_opaque_mergeInfo_long_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_long *obj);
int futhark_project_opaque_mergeInfo_long_vs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj);
int futhark_new_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i64_1d *f_vs);
int futhark_free_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short *obj);
int futhark_store_opaque_mergeInfo_short(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_short *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_short *futhark_restore_opaque_mergeInfo_short(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_short *obj);
int futhark_project_opaque_mergeInfo_short_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_short *obj);
int futhark_project_opaque_mergeInfo_short_vs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_mergeInfo_short *obj);
int futhark_new_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i16_1d *f_vs);
int futhark_free_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double *obj);
int futhark_store_opaque_sortInfo_double(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_double *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_double *futhark_restore_opaque_sortInfo_double(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_double *obj);
int futhark_project_opaque_sortInfo_double_xs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_sortInfo_double *obj);
int futhark_new_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_f64_1d *f_xs);
int futhark_free_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float *obj);
int futhark_store_opaque_sortInfo_float(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_float *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_float *futhark_restore_opaque_sortInfo_float(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_float *obj);
int futhark_project_opaque_sortInfo_float_xs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_sortInfo_float *obj);
int futhark_new_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_f32_1d *f_xs);
int futhark_free_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int *obj);
int futhark_store_opaque_sortInfo_int(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_int *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_int *futhark_restore_opaque_sortInfo_int(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_int *obj);
int futhark_project_opaque_sortInfo_int_xs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_sortInfo_int *obj);
int futhark_new_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i32_1d *f_xs);
int futhark_free_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long *obj);
int futhark_store_opaque_sortInfo_long(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_long *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_long *futhark_restore_opaque_sortInfo_long(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj);
int futhark_project_opaque_sortInfo_long_xs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj);
int futhark_new_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i64_1d *f_xs);
int futhark_free_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short *obj);
int futhark_store_opaque_sortInfo_short(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_short *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_short *futhark_restore_opaque_sortInfo_short(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_short *obj);
int futhark_project_opaque_sortInfo_short_xs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_sortInfo_short *obj);
int futhark_new_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i16_1d *f_xs);

// Entry points
int futhark_entry_argmin_double(struct futhark_context *ctx, int64_t *out0, const struct futhark_f64_1d *in0);
int futhark_entry_argmin_float(struct futhark_context *ctx, int64_t *out0, const struct futhark_f32_1d *in0);
int futhark_entry_argmin_int(struct futhark_context *ctx, int64_t *out0, const struct futhark_i32_1d *in0);
int futhark_entry_argmin_long(struct futhark_context *ctx, int64_t *out0, const struct futhark_i64_1d *in0);
int futhark_entry_argmin_short(struct futhark_context *ctx, int64_t *out0, const struct futhark_i16_1d *in0);
int futhark_entry_mergeSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const struct futhark_f64_1d *in1);
int futhark_entry_mergeSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const struct futhark_f32_1d *in1);
int futhark_entry_mergeSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const struct futhark_i32_1d *in1);
int futhark_entry_mergeSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const struct futhark_i64_1d *in1);
int futhark_entry_mergeSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const struct futhark_i16_1d *in1);
int futhark_entry_mergeSorted_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out0, const int64_t in0, const int64_t in1, const struct futhark_f64_1d *in2, const struct futhark_f64_1d *in3, const bool in4);
int futhark_entry_mergeSorted_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out0, const int64_t in0, const int64_t in1, const struct futhark_f32_1d *in2, const struct futhark_f32_1d *in3, const bool in4);
int futhark_entry_mergeSorted_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out0, const int64_t in0, const int64_t in1, const struct futhark_i32_1d *in2, const struct futhark_i32_1d *in3, const bool in4);
int futhark_entry_mergeSorted_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3, const bool in4);
int futhark_entry_mergeSorted_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out0, const int64_t in0, const int64_t in1, const struct futhark_i16_1d *in2, const struct futhark_i16_1d *in3, const bool in4);
int futhark_entry_orderByIndices_double(struct futhark_context *ctx, struct futhark_f64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f64_1d *in3);
int futhark_entry_orderByIndices_float(struct futhark_context *ctx, struct futhark_f32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f32_1d *in3);
int futhark_entry_orderByIndices_int(struct futhark_context *ctx, struct futhark_i32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i32_1d *in3);
int futhark_entry_orderByIndices_long(struct futhark_context *ctx, struct futhark_i64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3);
int futhark_entry_orderByIndices_short(struct futhark_context *ctx, struct futhark_i16_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i16_1d *in3);
int futhark_entry_radixSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const int16_t in1, const struct futhark_f64_1d *in2);
int futhark_entry_radixSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const int16_t in1, const struct futhark_f32_1d *in2);
int futhark_entry_radixSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const int16_t in1, const struct futhark_i32_1d *in2);
int futhark_entry_radixSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const int16_t in1, const struct futhark_i64_1d *in2);
int futhark_entry_radixSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const int16_t in1, const struct futhark_i16_1d *in2);

// Miscellaneous
int futhark_context_sync(struct futhark_context *ctx);
void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
char *futhark_context_report(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_c
#define FUTHARK_SUCCESS 0
#define FUTHARK_PROGRAM_ERROR 2
#define FUTHARK_OUT_OF_MEMORY 3

#ifdef __cplusplus
}
#endif

#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
// If NDEBUG is set, the assert() macro will do nothing. Since Futhark
// (unfortunately) makes use of assert() for error detection (and even some
// side effects), we want to avoid that.
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
#define SCALAR_FUN_ATTR static inline
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) __attribute__((noreturn));
static char* msgprintf(const char *s, ...);
static void* slurp_file(const char *filename, size_t *size);
static int dump_file(const char *file, const void *buf, size_t n);
struct str_builder;
static void str_builder_init(struct str_builder *b);
static void str_builder(struct str_builder *b, const char *s, ...);
static char *strclone(const char *str);

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}

static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                             const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, ...) check_err(err, 0, __func__, __LINE__, __VA_ARGS__)
#define CHECK_ERRNO(err, ...) check_err(err, 1, __func__, __LINE__, __VA_ARGS__)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  long start = ftell(f);
  fseek(f, 0, SEEK_END);
  long src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc((size_t)src_size + 1);
  if (fread(s, 1, (size_t)src_size, f) != (size_t)src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = (size_t)src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}

static void str_builder_str(struct str_builder *b, const char *s) {
  size_t needed = strlen(s);
  if (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }
  strcpy(b->str+b->used, s);
  b->used += needed;
}

static void str_builder_char(struct str_builder *b, char c) {
  size_t needed = 1;
  if (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }
  b->str[b->used] = c;
  b->str[b->used+1] = 0;
  b->used += needed;
}

static void str_builder_json_str(struct str_builder* sb, const char* s) {
  str_builder_char(sb, '"');
  for (int j = 0; s[j]; j++) {
    char c = s[j];
    switch (c) {
    case '\n':
      str_builder_str(sb, "\\n");
      break;
    case '"':
      str_builder_str(sb, "\\\"");
      break;
    default:
      str_builder_char(sb, c);
    }
  }
  str_builder_char(sb, '"');
}

static char *strclone(const char *str) {
  size_t size = strlen(str) + 1;
  char *copy = (char*) malloc(size);
  if (copy == NULL) {
    return NULL;
  }

  memcpy(copy, str, size);
  return copy;
}

// Assumes NULL-terminated.
static char *strconcat(const char *src_fragments[]) {
  size_t src_len = 0;
  const char **p;

  for (p = src_fragments; *p; p++) {
    src_len += strlen(*p);
  }

  char *src = (char*) malloc(src_len + 1);
  size_t n = 0;
  for (p = src_fragments; *p; p++) {
    strcpy(src + n, *p);
    n += strlen(*p);
  }

  return src;
}

// End of util.h.
// Start of cache.h

#define CACHE_HASH_SIZE 8 // In 32-bit words.

struct cache_hash {
  uint32_t hash[CACHE_HASH_SIZE];
};

// Initialise a blank cache.
static void cache_hash_init(struct cache_hash *c);

// Hash some bytes and add them to the accumulated hash.
static void cache_hash(struct cache_hash *out, const char *in, size_t n);

// Try to restore cache contents from a file with the given name.
// Assumes the cache is invalid if it contains the given hash.
// Allocates memory and reads the cache conents, which is returned in
// *buf with size *buflen.  If the cache is successfully loaded, this
// function returns 0.  Otherwise it returns nonzero.  Errno is set if
// the failure to load the cache is due to anything except invalid
// cache conents.  Note that failing to restore the cache is not
// necessarily a problem: it might just be invalid or not created yet.
static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen);

// Store cache contents in the given file, with the given hash.
static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen);

// Now for the implementation.

static void cache_hash_init(struct cache_hash *c) {
  memset(c->hash, 0, CACHE_HASH_SIZE * sizeof(uint32_t));
}

static void cache_hash(struct cache_hash *out, const char *in, size_t n) {
  // Adaptation of djb2 for larger output size by storing intermediate
  // states.
  uint32_t hash = 5381;
  for (size_t i = 0; i < n; i++) {
    hash = ((hash << 5) + hash) + in[i];
    out->hash[i % CACHE_HASH_SIZE] ^= hash;
  }
}

#define CACHE_HEADER_SIZE 8
static const char cache_header[CACHE_HEADER_SIZE] = "FUTHARK\0";

static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen) {
  FILE *f = fopen(fname, "rb");

  if (f == NULL) {
    return 1;
  }

  char f_header[CACHE_HEADER_SIZE];

  if (fread(f_header, sizeof(char), CACHE_HEADER_SIZE, f) != CACHE_HEADER_SIZE) {
    goto error;
  }

  if (memcmp(f_header, cache_header, CACHE_HEADER_SIZE) != 0) {
    goto error;
  }

  if (fseek(f, 0, SEEK_END) != 0) {
    goto error;
  }
  int64_t f_size = (int64_t)ftell(f);
  if (fseek(f, CACHE_HEADER_SIZE, SEEK_SET) != 0) {
    goto error;
  }

  int64_t expected_size;

  if (fread(&expected_size, sizeof(int64_t), 1, f) != 1) {
    goto error;
  }

  if (f_size != expected_size) {
    errno = 0;
    goto error;
  }

  int32_t f_hash[CACHE_HASH_SIZE];

  if (fread(f_hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (memcmp(f_hash, hash->hash, CACHE_HASH_SIZE) != 0) {
    errno = 0;
    goto error;
  }

  *buflen = f_size - CACHE_HEADER_SIZE - sizeof(int64_t) - CACHE_HASH_SIZE*sizeof(int32_t);
  *buf = malloc(*buflen);
  if (fread(*buf, sizeof(char), *buflen, f) != *buflen) {
    free(*buf);
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen) {
  FILE *f = fopen(fname, "wb");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(cache_header, CACHE_HEADER_SIZE, 1, f) != 1) {
    goto error;
  }

  int64_t size = CACHE_HEADER_SIZE + sizeof(int64_t) + CACHE_HASH_SIZE*sizeof(int32_t) + buflen;

  if (fwrite(&size, sizeof(size), 1, f) != 1) {
    goto error;
  }

  if (fwrite(hash->hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (fwrite(buf, sizeof(unsigned char), buflen, f) != buflen) {
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

// End of cache.h
// Start of half.h.

// Conversion functions are from http://half.sourceforge.net/, but
// translated to C.
//
// Copyright (c) 2012-2021 Christian Rau
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

#ifndef __OPENCL_VERSION__
#define __constant
#endif

__constant static const uint16_t base_table[512] = {
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,
  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,
  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,
  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,
  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };

__constant static const unsigned char shift_table[512] = {
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };

__constant static const uint32_t mantissa_table[2048] = {
  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,
  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,
  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,
  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,
  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,
  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,
  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,
  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,
  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,
  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,
  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,
  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,
  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,
  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,
  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,
  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,
  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,
  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,
  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,
  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,
  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,
  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,
  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,
  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,
  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,
  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,
  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,
  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,
  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,
  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,
  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,
  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,
  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,
  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,
  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,
  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,
  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,
  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,
  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,
  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,
  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,
  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,
  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,
  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,
  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,
  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,
  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,
  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,
  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,
  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,
  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,
  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,
  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,
  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,
  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,
  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,
  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,
  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,
  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,
  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,
  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,
  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,
  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,
  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,
  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,
  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,
  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,
  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,
  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,
  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,
  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,
  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,
  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,
  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,
  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,
  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,
  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,
  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,
  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,
  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,
  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,
  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,
  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,
  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,
  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,
  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,
  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,
  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,
  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,
  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,
  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,
  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,
  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,
  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,
  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,
  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,
  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,
  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,
  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,
  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,
  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,
  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,
  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,
  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,
  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,
  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,
  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,
  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,
  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,
  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,
  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,
  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,
  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,
  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,
  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,
  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,
  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,
  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,
  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,
  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,
  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,
  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,
  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,
  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,
  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,
  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,
  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,
  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };
__constant static const uint32_t exponent_table[64] = {
  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,
  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,
  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,
  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };
__constant static const unsigned short offset_table[64] = {
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };

SCALAR_FUN_ATTR uint16_t float2halfbits(float value) {
  union { float x; uint32_t y; } u;
  u.x = value;
  uint32_t bits = u.y;

  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;

  return hbits;
}

SCALAR_FUN_ATTR float halfbits2float(uint16_t value) {
  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];

  union { uint32_t x; float y; } u;
  u.x = bits;
  return u.y;
}

SCALAR_FUN_ATTR uint16_t halfbitsnextafter(uint16_t from, uint16_t to) {
  int fabs = from & 0x7FFF, tabs = to & 0x7FFF;
  if(fabs > 0x7C00 || tabs > 0x7C00) {
    return ((from&0x7FFF)>0x7C00) ? (from|0x200) : (to|0x200);
  }
  if(from == to || !(fabs|tabs)) {
    return to;
  }
  if(!fabs) {
    return (to&0x8000)+1;
  }
  unsigned int out =
    from +
    (((from>>15)^(unsigned int)((from^(0x8000|(0x8000-(from>>15))))<(to^(0x8000|(0x8000-(to>>15))))))<<1)
    - 1;
  return out;
}

// End of half.h.
// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

static int64_t get_wall_time_ns(void) {
  return get_wall_time() * 1000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.
// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.
// Start of free_list.h.

typedef uintptr_t fl_mem;

// An entry in the free list.  May be invalid, to avoid having to
// deallocate entries as soon as they are removed.  There is also a
// tag, to help with memory reuse.
struct free_list_entry {
  size_t size;
  fl_mem mem;
  const char *tag;
  unsigned char valid;
};

struct free_list {
  struct free_list_entry *entries; // Pointer to entries.
  int capacity;                    // Number of entries.
  int used;                        // Number of valid entries.
  lock_t lock;                     // Thread safety.
};

static void free_list_init(struct free_list *l) {
  l->capacity = 30; // Picked arbitrarily.
  l->used = 0;
  l->entries = (struct free_list_entry*) malloc(sizeof(struct free_list_entry) * l->capacity);
  for (int i = 0; i < l->capacity; i++) {
    l->entries[i].valid = 0;
  }
  create_lock(&l->lock);
}

// Remove invalid entries from the free list.
static void free_list_pack(struct free_list *l) {
  lock_lock(&l->lock);
  int p = 0;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[p] = l->entries[i];
      if (i > p) {
        l->entries[i].valid = 0;
      }
      p++;
    }
  }

  // Now p is the number of used elements.  We don't want it to go
  // less than the default capacity (although in practice it's OK as
  // long as it doesn't become 1).
  if (p < 30) {
    p = 30;
  }
  l->entries = realloc(l->entries, p * sizeof(struct free_list_entry));
  l->capacity = p;
  lock_unlock(&l->lock);
}

static void free_list_destroy(struct free_list *l) {
  assert(l->used == 0);
  free(l->entries);
  free_lock(&l->lock);
}

// Not part of the interface, so no locking.
static int free_list_find_invalid(struct free_list *l) {
  int i;
  for (i = 0; i < l->capacity; i++) {
    if (!l->entries[i].valid) {
      break;
    }
  }
  return i;
}

static void free_list_insert(struct free_list *l, size_t size, fl_mem mem, const char *tag) {
  lock_lock(&l->lock);
  int i = free_list_find_invalid(l);

  if (i == l->capacity) {
    // List is full; so we have to grow it.
    int new_capacity = l->capacity * 2 * sizeof(struct free_list_entry);
    l->entries = realloc(l->entries, new_capacity);
    for (int j = 0; j < l->capacity; j++) {
      l->entries[j+l->capacity].valid = 0;
    }
    l->capacity *= 2;
  }

  // Now 'i' points to the first invalid entry.
  l->entries[i].valid = 1;
  l->entries[i].size = size;
  l->entries[i].mem = mem;
  l->entries[i].tag = tag;

  l->used++;
  lock_unlock(&l->lock);
}

// Determine whether this entry in the free list is acceptable for
// satisfying the request.  Not public, so no locking.
static bool free_list_acceptable(size_t size, const char* tag, struct free_list_entry *entry) {
  // We check not just the hard requirement (is the entry acceptable
  // and big enough?) but also put a cap on how much wasted space
  // (internal fragmentation) we allow.  This is necessarily a
  // heuristic, and a crude one.

  if (!entry->valid) {
    return false;
  }

  if (size > entry->size) {
    return false;
  }

  // We know the block fits.  Now the question is whether it is too
  // big.  Our policy is as follows:
  //
  // 1) We don't care about wasted space below 4096 bytes (to avoid
  // churn in tiny allocations).
  //
  // 2) If the tag matches, we allow _any_ amount of wasted space.
  //
  // 3) Otherwise we allow up to 50% wasted space.

  if (entry->size < 4096) {
    return true;
  }

  if (entry->tag == tag) {
    return true;
  }

  if (entry->size < size * 2) {
    return true;
  }

  return false;
}

// Find and remove a memory block of the indicated tag, or if that
// does not exist, another memory block with exactly the desired size.
// Returns 0 on success.
static int free_list_find(struct free_list *l, size_t size, const char *tag,
                          size_t *size_out, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int size_match = -1;
  int i;
  int ret = 1;
  for (i = 0; i < l->capacity; i++) {
    if (free_list_acceptable(size, tag, &l->entries[i]) &&
        (size_match < 0 || l->entries[i].size < l->entries[size_match].size)) {
      // If this entry is valid, has sufficient size, and is smaller than the
      // best entry found so far, use this entry.
      size_match = i;
    }
  }

  if (size_match >= 0) {
    l->entries[size_match].valid = 0;
    *size_out = l->entries[size_match].size;
    *mem_out = l->entries[size_match].mem;
    l->used--;
    ret = 0;
  }
  lock_unlock(&l->lock);
  return ret;
}

// Remove the first block in the free list.  Returns 0 if a block was
// removed, and nonzero if the free list was already empty.
static int free_list_first(struct free_list *l, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int ret = 1;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[i].valid = 0;
      *mem_out = l->entries[i].mem;
      l->used--;
      ret = 0;
      break;
    }
  }
  lock_unlock(&l->lock);
  return ret;
}

// End of free_list.h.
// Start of event_list.h

typedef int (*event_report_fn)(struct str_builder*, void*);

struct event {
  void* data;
  event_report_fn f;
  const char* name;
  char *description;
};

struct event_list {
  struct event *events;
  int num_events;
  int capacity;
};

static void event_list_init(struct event_list *l) {
  l->capacity = 100;
  l->num_events = 0;
  l->events = calloc(l->capacity, sizeof(struct event));
}

static void event_list_free(struct event_list *l) {
  free(l->events);
}

static void add_event_to_list(struct event_list *l,
                              const char* name,
                              char* description,
                              void* data,
                              event_report_fn f) {
  if (l->num_events == l->capacity) {
    l->capacity *= 2;
    l->events = realloc(l->events, l->capacity * sizeof(struct event));
  }
  l->events[l->num_events].name = name;
  l->events[l->num_events].description = description;
  l->events[l->num_events].data = data;
  l->events[l->num_events].f = f;
  l->num_events++;
}

static int report_events_in_list(struct event_list *l,
                                 struct str_builder* sb) {
  int ret = 0;
  for (int i = 0; i < l->num_events; i++) {
    if (i != 0) {
      str_builder_str(sb, ",");
    }
    str_builder_str(sb, "{\"name\":");
    str_builder_json_str(sb, l->events[i].name);
    str_builder_str(sb, ",\"description\":");
    str_builder_json_str(sb, l->events[i].description);
    free(l->events[i].description);
    if (l->events[i].f(sb, l->events[i].data) != 0) {
      ret = 1;
      break;
    }
    str_builder(sb, "}");
  }
  event_list_free(l);
  event_list_init(l);
  return ret;
}

// End of event_list.h

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>



#define FUTHARK_F64_ENABLED

// Start of scalar.h.

// Implementation of the primitive scalar operations.  Very
// repetitive.  This code is inserted directly into both CUDA and
// OpenCL programs, as well as the CPU code, so it has some #ifdefs to
// work everywhere.  Some operations are defined as macros because
// this allows us to use them as constant expressions in things like
// array sizes and static initialisers.

// Some of the #ifdefs are because OpenCL uses type-generic functions
// for some operations (e.g. sqrt), while C and CUDA sensibly use
// distinct functions for different precisions (e.g. sqrtf() and
// sqrt()).  This is quite annoying.  Due to C's unfortunate casting
// rules, it is also really easy to accidentally implement
// floating-point functions in the wrong precision, so be careful.

// Double-precision definitions are only included if the preprocessor
// macro FUTHARK_F64_ENABLED is set.

SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x);
SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x);

SCALAR_FUN_ATTR uint8_t add8(uint8_t x, uint8_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint16_t add16(uint16_t x, uint16_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint32_t add32(uint32_t x, uint32_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint64_t add64(uint64_t x, uint64_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint8_t sub8(uint8_t x, uint8_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint16_t sub16(uint16_t x, uint16_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint32_t sub32(uint32_t x, uint32_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint64_t sub64(uint64_t x, uint64_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint8_t mul8(uint8_t x, uint8_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint16_t mul16(uint16_t x, uint16_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint32_t mul32(uint32_t x, uint32_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint64_t mul64(uint64_t x, uint64_t y) {
  return x * y;
}

#if ISPC

SCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {
  // This strange pattern is used to prevent the ISPC compiler from
  // causing SIGFPEs and bogus results on divisions where inactive lanes
  // have 0-valued divisors. It ensures that any inactive lane instead
  // has a divisor of 1. https://github.com/ispc/ispc/issues/2292
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x / ys;
}

SCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x / ys;
}

SCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x % ys;
}

SCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int8_t q = x / ys;
  int8_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int16_t q = x / ys;
  int16_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  int32_t q = x / ys;
  int32_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int64_t q = x / ys;
  int64_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int8_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int16_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int32_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int64_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

SCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

SCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

SCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

SCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

SCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

SCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

SCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

SCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

#else

SCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {
  int8_t q = x / y;
  int8_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {
  int16_t q = x / y;
  int16_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {
  int32_t q = x / y;
  int32_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {
  int64_t q = x / y;
  int64_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {
  int8_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {
  int16_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {
  int32_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {
  int64_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

SCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

SCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

SCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

SCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

SCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

SCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

SCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

SCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x % y;
}

#endif

SCALAR_FUN_ATTR int8_t smin8(int8_t x, int8_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int16_t smin16(int16_t x, int16_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int32_t smin32(int32_t x, int32_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int64_t smin64(int64_t x, int64_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint8_t umin8(uint8_t x, uint8_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint16_t umin16(uint16_t x, uint16_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint32_t umin32(uint32_t x, uint32_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint64_t umin64(uint64_t x, uint64_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int8_t smax8(int8_t x, int8_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int16_t smax16(int16_t x, int16_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int32_t smax32(int32_t x, int32_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int64_t smax64(int64_t x, int64_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint8_t umax8(uint8_t x, uint8_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint16_t umax16(uint16_t x, uint16_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint32_t umax32(uint32_t x, uint32_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint64_t umax64(uint64_t x, uint64_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint8_t shl8(uint8_t x, uint8_t y) {
  return (uint8_t)(x << y);
}

SCALAR_FUN_ATTR uint16_t shl16(uint16_t x, uint16_t y) {
  return (uint16_t)(x << y);
}

SCALAR_FUN_ATTR uint32_t shl32(uint32_t x, uint32_t y) {
  return x << y;
}

SCALAR_FUN_ATTR uint64_t shl64(uint64_t x, uint64_t y) {
  return x << y;
}

SCALAR_FUN_ATTR uint8_t lshr8(uint8_t x, uint8_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint16_t lshr16(uint16_t x, uint16_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint32_t lshr32(uint32_t x, uint32_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint64_t lshr64(uint64_t x, uint64_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int8_t ashr8(int8_t x, int8_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int16_t ashr16(int16_t x, int16_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int32_t ashr32(int32_t x, int32_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int64_t ashr64(int64_t x, int64_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint8_t and8(uint8_t x, uint8_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint16_t and16(uint16_t x, uint16_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint32_t and32(uint32_t x, uint32_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint64_t and64(uint64_t x, uint64_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint8_t or8(uint8_t x, uint8_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint16_t or16(uint16_t x, uint16_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint32_t or32(uint32_t x, uint32_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint64_t or64(uint64_t x, uint64_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint8_t xor8(uint8_t x, uint8_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint16_t xor16(uint16_t x, uint16_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint32_t xor32(uint32_t x, uint32_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint64_t xor64(uint64_t x, uint64_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR bool ult8(uint8_t x, uint8_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult16(uint16_t x, uint16_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult32(uint32_t x, uint32_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult64(uint64_t x, uint64_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ule8(uint8_t x, uint8_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule16(uint16_t x, uint16_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule32(uint32_t x, uint32_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule64(uint64_t x, uint64_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool slt8(int8_t x, int8_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt16(int16_t x, int16_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt32(int32_t x, int32_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt64(int64_t x, int64_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool sle8(int8_t x, int8_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle16(int16_t x, int16_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle32(int32_t x, int32_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle64(int64_t x, int64_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR uint8_t pow8(uint8_t x, uint8_t y) {
  uint8_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint16_t pow16(uint16_t x, uint16_t y) {
  uint16_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint32_t pow32(uint32_t x, uint32_t y) {
  uint32_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint64_t pow64(uint64_t x, uint64_t y) {
  uint64_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR bool itob_i8_bool(int8_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i16_bool(int16_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i32_bool(int32_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i64_bool(int64_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR int8_t btoi_bool_i8(bool x) {
  return x;
}

SCALAR_FUN_ATTR int16_t btoi_bool_i16(bool x) {
  return x;
}

SCALAR_FUN_ATTR int32_t btoi_bool_i32(bool x) {
  return x;
}

SCALAR_FUN_ATTR int64_t btoi_bool_i64(bool x) {
  return x;
}

#define sext_i8_i8(x) ((int8_t) (int8_t) (x))
#define sext_i8_i16(x) ((int16_t) (int8_t) (x))
#define sext_i8_i32(x) ((int32_t) (int8_t) (x))
#define sext_i8_i64(x) ((int64_t) (int8_t) (x))
#define sext_i16_i8(x) ((int8_t) (int16_t) (x))
#define sext_i16_i16(x) ((int16_t) (int16_t) (x))
#define sext_i16_i32(x) ((int32_t) (int16_t) (x))
#define sext_i16_i64(x) ((int64_t) (int16_t) (x))
#define sext_i32_i8(x) ((int8_t) (int32_t) (x))
#define sext_i32_i16(x) ((int16_t) (int32_t) (x))
#define sext_i32_i32(x) ((int32_t) (int32_t) (x))
#define sext_i32_i64(x) ((int64_t) (int32_t) (x))
#define sext_i64_i8(x) ((int8_t) (int64_t) (x))
#define sext_i64_i16(x) ((int16_t) (int64_t) (x))
#define sext_i64_i32(x) ((int32_t) (int64_t) (x))
#define sext_i64_i64(x) ((int64_t) (int64_t) (x))
#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))
#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))
#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))
#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))
#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))
#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))
#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))
#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))
#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))
#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))
#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))
#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))
#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))
#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))
#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))
#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))

SCALAR_FUN_ATTR int8_t abs8(int8_t x) {
  return (int8_t)abs(x);
}

SCALAR_FUN_ATTR int16_t abs16(int16_t x) {
  return (int16_t)abs(x);
}

SCALAR_FUN_ATTR int32_t abs32(int32_t x) {
  return abs(x);
}

SCALAR_FUN_ATTR int64_t abs64(int64_t x) {
#if defined(__OPENCL_VERSION__) || defined(ISPC)
  return abs(x);
#else
  return llabs(x);
#endif
}

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {
  return popcount(x);
}
#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {
  return __popc(zext_i8_i32(x));
}

SCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {
  return __popc(zext_i16_i32(x));
}

SCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {
  return __popc(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {
  return __popcll(x);
}

#else // Not OpenCL or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_popc8(uint8_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc16(uint16_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc32(uint32_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc64(uint64_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR uint8_t  futrts_umul_hi8 ( uint8_t a,  uint8_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint8_t  futrts_smul_hi8 ( int8_t a,  int8_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return mul_hi(a, b); }
#elif defined(__CUDA_ARCH__)
SCALAR_FUN_ATTR  uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return __umulhi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return __umul64hi(a, b); }
SCALAR_FUN_ATTR  uint8_t futrts_smul_hi8 ( int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return __mulhi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return __mul64hi(a, b); }
#elif ISPC
SCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 = al * bl;
  uint64_t p2 = al * bh;
  uint64_t p3 = ah * bl;
  uint64_t p4 = ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}
SCALAR_FUN_ATTR  int8_t futrts_smul_hi8 ( int8_t a,  int8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 =  al * bl;
  int64_t  p2 = al * bh;
  int64_t  p3 = ah * bl;
  uint64_t p4 =  ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}

#else // Not OpenCL, ISPC, or CUDA, but plain C.
SCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return ((__uint128_t)a) * ((__uint128_t)b) >> 64; }
SCALAR_FUN_ATTR int8_t futrts_smul_hi8(int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
SCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
SCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((int64_t)a) * ((int64_t)b) >> 32; }
SCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) { return ((__int128_t)a) * ((__int128_t)b) >> 64; }
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR  uint8_t futrts_umad_hi8 ( uint8_t a,  uint8_t b,  uint8_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR  uint8_t futrts_smad_hi8( int8_t a,  int8_t b,   int8_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return mad_hi(a, b, c); }
#else // Not OpenCL

SCALAR_FUN_ATTR  uint8_t futrts_umad_hi8( uint8_t a,  uint8_t b,  uint8_t c) { return futrts_umul_hi8(a, b) + c; }
SCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return futrts_umul_hi16(a, b) + c; }
SCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return futrts_umul_hi32(a, b) + c; }
SCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return futrts_umul_hi64(a, b) + c; }
SCALAR_FUN_ATTR  uint8_t futrts_smad_hi8 ( int8_t a,  int8_t b,  int8_t c) { return futrts_smul_hi8(a, b) + c; }
SCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return futrts_smul_hi16(a, b) + c; }
SCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return futrts_smul_hi32(a, b) + c; }
SCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return futrts_smul_hi64(a, b) + c; }
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return clz(x);
}

#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return __clz(zext_i8_i32(x)) - 24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return __clz(zext_i16_i32(x)) - 16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return __clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return __clzll(x);
}

#elif ISPC

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return count_leading_zeros((int32_t)(uint8_t)x)-24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return count_leading_zeros((int32_t)(uint16_t)x)-16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return count_leading_zeros(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return count_leading_zeros(x);
}

#else // Not OpenCL, ISPC or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_clz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);
}
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  int i = 0;
  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  int i = 0;
  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  int i = 0;
  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  int i = 0;
  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  int y = __ffs(x);
  return y == 0 ? 8 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  int y = __ffs(x);
  return y == 0 ? 16 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  int y = __ffs(x);
  return y == 0 ? 32 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  int y = __ffsll(x);
  return y == 0 ? 64 : y - 1;
}

#elif ISPC

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : count_trailing_zeros((int32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : count_trailing_zeros((int32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  return count_trailing_zeros(x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  return count_trailing_zeros(x);
}

#else // Not OpenCL or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);
}
#endif

SCALAR_FUN_ATTR float fdiv32(float x, float y) {
  return x / y;
}

SCALAR_FUN_ATTR float fadd32(float x, float y) {
  return x + y;
}

SCALAR_FUN_ATTR float fsub32(float x, float y) {
  return x - y;
}

SCALAR_FUN_ATTR float fmul32(float x, float y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt32(float x, float y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple32(float x, float y) {
  return x <= y;
}

SCALAR_FUN_ATTR float sitofp_i8_f32(int8_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i16_f32(int16_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i32_f32(int32_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i64_f32(int64_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i8_f32(uint8_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i16_f32(uint16_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i32_f32(uint32_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i64_f32(uint64_t x) {
  return (float) x;
}

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR float fabs32(float x) {
  return fabs(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR float fpow32(float x, float y) {
  return pow(x, y);
}

#elif ISPC

SCALAR_FUN_ATTR float fabs32(float x) {
  return abs(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR float fpow32(float a, float b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

#else // Not OpenCL, but CUDA or plain C.

SCALAR_FUN_ATTR float fabs32(float x) {
  return fabsf(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return fmaxf(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return fminf(x, y);
}

SCALAR_FUN_ATTR float fpow32(float x, float y) {
  return powf(x, y);
}
#endif

SCALAR_FUN_ATTR bool futrts_isnan32(float x) {
  return isnan(x);
}

#if ISPC

SCALAR_FUN_ATTR bool futrts_isinf32(float x) {
  return !isnan(x) && isnan(x - x);
}

SCALAR_FUN_ATTR bool futrts_isfinite32(float x) {
  return !isnan(x) && !futrts_isinf32(x);
}

#else

SCALAR_FUN_ATTR bool futrts_isinf32(float x) {
  return isinf(x);
}

#endif

SCALAR_FUN_ATTR int8_t fptosi_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int64_t) x;
  };
}

SCALAR_FUN_ATTR uint8_t fptoui_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f32_bool(float x) {
  return x != 0;
}

SCALAR_FUN_ATTR float btof_bool_f32(bool x) {
  return x ? 1 : 0;
}

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR float futrts_log32(float x) {
  return log(x);
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return log2(x);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return log10(x);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  return log1p(x);
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return exp(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cos(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sin(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tan(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acos(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asin(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atan(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return cosh(x);
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return sinh(x);
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return tanh(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  return acosh(x);
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  return asinh(x);
}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  return atanh(x);
}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR float futrts_erf32(float x) {
  return erf(x);
}

SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  return erfc(x);
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return rint(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floor(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceil(x);
}

SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return mix(v0, v1, t);
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return mad(a, b, c);
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return fma(a, b, c);
}

#elif ISPC

SCALAR_FUN_ATTR float futrts_log32(float x) {
  return futrts_isfinite32(x) || (futrts_isinf32(x) && x < 0)? log(x) : x;
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return futrts_log32(x) / log(2.0f);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return futrts_log32(x) / log(10.0f);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  if(x == -1.0f || (futrts_isinf32(x) && x > 0.0f)) return x / 0.0f;
  float y = 1.0f + x;
  float z = y - 1.0f;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrt(x);
}

extern "C" unmasked uniform float cbrtf(uniform float);
SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return exp(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cos(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sin(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tan(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acos(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asin(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atan(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return (exp(x)+exp(-x)) / 2.0f;
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return (exp(x)-exp(-x)) / 2.0f;
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return futrts_sinh32(x)/futrts_cosh32(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  float f = x+sqrt(x*x-1);
  if(futrts_isfinite32(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  float f = x+sqrt(x*x+1);
  if(futrts_isfinite32(f)) return log(f);
  return f;

}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  float f = (1+x)/(1-x);
  if(futrts_isfinite32(f)) return log(f)/2.0f;
  return f;

}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return (x == 0.0f && y == 0.0f) ? 0.0f : atan2(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  if (futrts_isfinite32(x) && futrts_isfinite32(y)) {
    x = abs(x);
    y = abs(y);
    float a;
    float b;
    if (x >= y){
        a = x;
        b = y;
    } else {
        a = y;
        b = x;
    }
    if(b == 0){
      return a;
    }

    int e;
    float an;
    float bn;
    an = frexp (a, &e);
    bn = ldexp (b, - e);
    float cn;
    cn = sqrt (an * an + bn * bn);
    return ldexp (cn, e);
  } else {
    if (futrts_isinf32(x) || futrts_isinf32(y)) return INFINITY;
    else return x + y;
  }

}

extern "C" unmasked uniform float tgammaf(uniform float x);
SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = tgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = lgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erff(uniform float x);
SCALAR_FUN_ATTR float futrts_erf32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erff(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erfcf(uniform float x);
SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erfcf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return x - y * trunc(x/y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return round(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floor(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceil(x);
}

extern "C" unmasked uniform float nextafterf(uniform float x, uniform float y);
SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  float res;
  foreach_active (i) {
    uniform float r = nextafterf(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return x * pow((double)2.0, (double)y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  int32_t xb = futrts_to_bits32(x);
  int32_t yb = futrts_to_bits32(y);
  return futrts_from_bits32((xb & ~(1<<31)) | (yb & (1<<31)));
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return a * b + c;
}

#else // Not OpenCL or ISPC, but CUDA or plain C.

SCALAR_FUN_ATTR float futrts_log32(float x) {
  return logf(x);
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return log2f(x);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return log10f(x);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  return log1pf(x);
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrtf(x);
}

SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  return cbrtf(x);
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return expf(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cosf(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sinf(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tanf(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acosf(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asinf(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atanf(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return coshf(x);
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return sinhf(x);
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return tanhf(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  return acoshf(x);
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  return asinhf(x);
}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  return atanhf(x);
}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return atan2f(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  return hypotf(x, y);
}

SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  return tgammaf(x);
}

SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  return lgammaf(x);
}

SCALAR_FUN_ATTR float futrts_erf32(float x) {
  return erff(x);
}

SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  return erfcf(x);
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return fmodf(x, y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return rintf(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floorf(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceilf(x);
}

SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  return nextafterf(x, y);
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return ldexpf(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  return copysignf(x, y);
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return fmaf(a, b, c);
}
#endif

#if ISPC
SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {
  return intbits(x);
}

SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {
  return floatbits(x);
}
#else
SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {
  union {
    float f;
    int32_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {
  union {
    int32_t f;
    float t;
  } p;

  p.f = x;
  return p.t;
}
#endif

SCALAR_FUN_ATTR float fsignum32(float x) {
  return futrts_isnan32(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#ifdef FUTHARK_F64_ENABLED

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x);
SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x);

#if ISPC
SCALAR_FUN_ATTR bool futrts_isinf64(float x) {
  return !isnan(x) && isnan(x - x);
}

SCALAR_FUN_ATTR bool futrts_isfinite64(float x) {
  return !isnan(x) && !futrts_isinf64(x);
}

SCALAR_FUN_ATTR double fdiv64(double x, double y) {
  return x / y;
}

SCALAR_FUN_ATTR double fadd64(double x, double y) {
  return x + y;
}

SCALAR_FUN_ATTR double fsub64(double x, double y) {
  return x - y;
}

SCALAR_FUN_ATTR double fmul64(double x, double y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt64(double x, double y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple64(double x, double y) {
  return x <= y;
}

SCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double fabs64(double x) {
  return abs(x);
}

SCALAR_FUN_ATTR double fmax64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR double fmin64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR double fpow64(double a, double b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

SCALAR_FUN_ATTR double futrts_log64(double x) {
  return futrts_isfinite64(x) || (futrts_isinf64(x) && x < 0)? log(x) : x;
}

SCALAR_FUN_ATTR double futrts_log2_64(double x) {
  return futrts_log64(x)/log(2.0d);
}

SCALAR_FUN_ATTR double futrts_log10_64(double x) {
  return futrts_log64(x)/log(10.0d);
}

SCALAR_FUN_ATTR double futrts_log1p_64(double x) {
  if(x == -1.0d || (futrts_isinf64(x) && x > 0.0d)) return x / 0.0d;
  double y = 1.0d + x;
  double z = y - 1.0d;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR double futrts_sqrt64(double x) {
  return sqrt(x);
}

extern "C" unmasked uniform double cbrt(uniform double);
SCALAR_FUN_ATTR double futrts_cbrt64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_exp64(double x) {
  return exp(x);
}

SCALAR_FUN_ATTR double futrts_cos64(double x) {
  return cos(x);
}

SCALAR_FUN_ATTR double futrts_sin64(double x) {
  return sin(x);
}

SCALAR_FUN_ATTR double futrts_tan64(double x) {
  return tan(x);
}

SCALAR_FUN_ATTR double futrts_acos64(double x) {
  return acos(x);
}

SCALAR_FUN_ATTR double futrts_asin64(double x) {
  return asin(x);
}

SCALAR_FUN_ATTR double futrts_atan64(double x) {
  return atan(x);
}

SCALAR_FUN_ATTR double futrts_cosh64(double x) {
  return (exp(x)+exp(-x)) / 2.0d;
}

SCALAR_FUN_ATTR double futrts_sinh64(double x) {
  return (exp(x)-exp(-x)) / 2.0d;
}

SCALAR_FUN_ATTR double futrts_tanh64(double x) {
  return futrts_sinh64(x)/futrts_cosh64(x);
}

SCALAR_FUN_ATTR double futrts_acosh64(double x) {
  double f = x+sqrt(x*x-1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR double futrts_asinh64(double x) {
  double f = x+sqrt(x*x+1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR double futrts_atanh64(double x) {
  double f = (1.0d+x)/(1.0d-x);
  if(futrts_isfinite64(f)) return log(f)/2.0d;
  return f;

}

SCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

extern "C" unmasked uniform double hypot(uniform double x, uniform double y);
SCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = hypot(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double tgamma(uniform double x);
SCALAR_FUN_ATTR double futrts_gamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = tgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double lgamma(uniform double x);
SCALAR_FUN_ATTR double futrts_lgamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = lgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erf(uniform double x);
SCALAR_FUN_ATTR double futrts_erf64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erfc(uniform double x);
SCALAR_FUN_ATTR double futrts_erfc64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erfc(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {
  return a * b + c;
}

SCALAR_FUN_ATTR double futrts_round64(double x) {
  return round(x);
}

SCALAR_FUN_ATTR double futrts_ceil64(double x) {
  return ceil(x);
}

extern "C" unmasked uniform double nextafter(uniform float x, uniform double y);
SCALAR_FUN_ATTR float futrts_nextafter64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = nextafter(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_floor64(double x) {
  return floor(x);
}

SCALAR_FUN_ATTR bool futrts_isnan64(double x) {
  return isnan(x);
}

SCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

SCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f64_bool(double x) {
  return x != 0.0;
}

SCALAR_FUN_ATTR double btof_bool_f64(bool x) {
  return x ? 1.0 : 0.0;
}

SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {
  int64_t res;
  foreach_active (i) {
    uniform double tmp = extract(x, i);
    uniform int64_t r = *((uniform int64_t* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {
  double res;
  foreach_active (i) {
    uniform int64_t tmp = extract(x, i);
    uniform double r = *((uniform double* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double fmod64(double x, double y) {
  return x - y * trunc(x/y);
}

SCALAR_FUN_ATTR double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0 ? 1.0d : 0.0d) - (x < 0 ? 1.0d : 0.0d);
}

SCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {
  return x * pow((double)2.0, (double)y);
}

SCALAR_FUN_ATTR double futrts_copysign64(double x, double y) {
  int64_t xb = futrts_to_bits64(x);
  int64_t yb = futrts_to_bits64(y);
  return futrts_from_bits64((xb & ~(((int64_t)1)<<63)) | (yb & (((int64_t)1)<<63)));
}

SCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float fpconv_f32_f32(float x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f32_f64(float x) {
  return (double) x;
}

SCALAR_FUN_ATTR float fpconv_f64_f32(double x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f64_f64(double x) {
  return (double) x;
}

#else

SCALAR_FUN_ATTR double fdiv64(double x, double y) {
  return x / y;
}

SCALAR_FUN_ATTR double fadd64(double x, double y) {
  return x + y;
}

SCALAR_FUN_ATTR double fsub64(double x, double y) {
  return x - y;
}

SCALAR_FUN_ATTR double fmul64(double x, double y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt64(double x, double y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple64(double x, double y) {
  return x <= y;
}

SCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double fabs64(double x) {
  return fabs(x);
}

SCALAR_FUN_ATTR double fmax64(double x, double y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR double fmin64(double x, double y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR double fpow64(double x, double y) {
  return pow(x, y);
}

SCALAR_FUN_ATTR double futrts_log64(double x) {
  return log(x);
}

SCALAR_FUN_ATTR double futrts_log2_64(double x) {
  return log2(x);
}

SCALAR_FUN_ATTR double futrts_log10_64(double x) {
  return log10(x);
}

SCALAR_FUN_ATTR double futrts_log1p_64(double x) {
  return log1p(x);
}

SCALAR_FUN_ATTR double futrts_sqrt64(double x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR double futrts_cbrt64(double x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR double futrts_exp64(double x) {
  return exp(x);
}

SCALAR_FUN_ATTR double futrts_cos64(double x) {
  return cos(x);
}

SCALAR_FUN_ATTR double futrts_sin64(double x) {
  return sin(x);
}

SCALAR_FUN_ATTR double futrts_tan64(double x) {
  return tan(x);
}

SCALAR_FUN_ATTR double futrts_acos64(double x) {
  return acos(x);
}

SCALAR_FUN_ATTR double futrts_asin64(double x) {
  return asin(x);
}

SCALAR_FUN_ATTR double futrts_atan64(double x) {
  return atan(x);
}

SCALAR_FUN_ATTR double futrts_cosh64(double x) {
  return cosh(x);
}

SCALAR_FUN_ATTR double futrts_sinh64(double x) {
  return sinh(x);
}

SCALAR_FUN_ATTR double futrts_tanh64(double x) {
  return tanh(x);
}

SCALAR_FUN_ATTR double futrts_acosh64(double x) {
  return acosh(x);
}

SCALAR_FUN_ATTR double futrts_asinh64(double x) {
  return asinh(x);
}

SCALAR_FUN_ATTR double futrts_atanh64(double x) {
  return atanh(x);
}

SCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR double futrts_gamma64(double x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR double futrts_lgamma64(double x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR double futrts_erf64(double x) {
  return erf(x);
}

SCALAR_FUN_ATTR double futrts_erfc64(double x) {
  return erfc(x);
}

SCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {
  return fma(a, b, c);
}

SCALAR_FUN_ATTR double futrts_round64(double x) {
  return rint(x);
}

SCALAR_FUN_ATTR double futrts_ceil64(double x) {
  return ceil(x);
}

SCALAR_FUN_ATTR float futrts_nextafter64(float x, float y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR double futrts_floor64(double x) {
  return floor(x);
}

SCALAR_FUN_ATTR bool futrts_isnan64(double x) {
  return isnan(x);
}

SCALAR_FUN_ATTR bool futrts_isinf64(double x) {
  return isinf(x);
}

SCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

SCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f64_bool(double x) {
  return x != 0;
}

SCALAR_FUN_ATTR double btof_bool_f64(bool x) {
  return x ? 1 : 0;
}

SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {
  union {
    double f;
    int64_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {
  union {
    int64_t f;
    double t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR double fmod64(double x, double y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}

SCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {
#ifdef __OPENCL_VERSION__
  return mix(v0, v1, t);
#else
  return v0 + (v1 - v0) * t;
#endif
}

SCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign64(double x, double y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {
#ifdef __OPENCL_VERSION__
  return mad(a, b, c);
#else
  return a * b + c;
#endif
}

SCALAR_FUN_ATTR float fpconv_f32_f32(float x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f32_f64(float x) {
  return (double) x;
}

SCALAR_FUN_ATTR float fpconv_f64_f32(double x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f64_f64(double x) {
  return (double) x;
}

#endif

#endif

// End of scalar.h.
// Start of scalar_f16.h.

// Half-precision is emulated if needed (e.g. in straight C) with the
// native type used if possible.  The emulation works by typedef'ing
// 'float' to 'f16', and then implementing all operations on single
// precision.  To cut down on duplication, we use the same code for
// those Futhark functions that require just operators or casts.  The
// in-memory representation for arrays will still be 16 bits even
// under emulation, so the compiler will have to be careful when
// generating reads or writes.

#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600) && !(defined(ISPC))
#define EMULATE_F16
#endif

#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)
#pragma OPENCL EXTENSION cl_khr_fp16 : enable
#endif

#ifdef EMULATE_F16

// Note that the half-precision storage format is still 16 bits - the
// compiler will have to be real careful!
typedef float f16;

#elif ISPC
typedef float16 f16;

#else

#ifdef __CUDA_ARCH__
#include <cuda_fp16.h>
#endif

typedef half f16;

#endif

// Some of these functions convert to single precision because half
// precision versions are not available.

SCALAR_FUN_ATTR f16 fadd16(f16 x, f16 y) {
  return x + y;
}

SCALAR_FUN_ATTR f16 fsub16(f16 x, f16 y) {
  return x - y;
}

SCALAR_FUN_ATTR f16 fmul16(f16 x, f16 y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt16(f16 x, f16 y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple16(f16 x, f16 y) {
  return x <= y;
}

SCALAR_FUN_ATTR f16 sitofp_i8_f16(int8_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i16_f16(int16_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i32_f16(int32_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i64_f16(int64_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i8_f16(uint8_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i16_f16(uint16_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i32_f16(uint32_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i64_f16(uint64_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR int8_t fptosi_f16_i8(f16 x) {
  return (int8_t) (float) x;
}

SCALAR_FUN_ATTR int16_t fptosi_f16_i16(f16 x) {
  return (int16_t) x;
}

SCALAR_FUN_ATTR int32_t fptosi_f16_i32(f16 x) {
  return (int32_t) x;
}

SCALAR_FUN_ATTR int64_t fptosi_f16_i64(f16 x) {
  return (int64_t) x;
}

SCALAR_FUN_ATTR uint8_t fptoui_f16_i8(f16 x) {
  return (uint8_t) (float) x;
}

SCALAR_FUN_ATTR uint16_t fptoui_f16_i16(f16 x) {
  return (uint16_t) x;
}

SCALAR_FUN_ATTR uint32_t fptoui_f16_i32(f16 x) {
  return (uint32_t) x;
}

SCALAR_FUN_ATTR uint64_t fptoui_f16_i64(f16 x) {
  return (uint64_t) x;
}

SCALAR_FUN_ATTR bool ftob_f16_bool(f16 x) {
  return x != (f16)0;
}

SCALAR_FUN_ATTR f16 btof_bool_f16(bool x) {
  return x ? 1 : 0;
}

#ifndef EMULATE_F16
SCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {
  return isnan((float)x);
}

#ifdef __OPENCL_VERSION__

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabs(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#elif ISPC
SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return abs(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#else // Assuming CUDA.

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabsf(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmaxf(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fminf(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return powf(x, y);
}
#endif

#if ISPC
SCALAR_FUN_ATTR bool futrts_isinf16(float x) {
  return !futrts_isnan16(x) && futrts_isnan16(x - x);
}
SCALAR_FUN_ATTR bool futrts_isfinite16(float x) {
  return !futrts_isnan16(x) && !futrts_isinf16(x);
}

#else

SCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {
  return isinf((float)x);
}
#endif

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return log(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return log2(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return log10(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return log1p(x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return exp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return cos(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return sin(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return tan(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return acos(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return asin(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return atan(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return cosh(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return sinh(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return tanh(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return acosh(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return asinh(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return atanh(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return erf(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return erfc(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return rint(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return floor(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return ceil(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return mix(v0, v1, t);
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return mad(a, b, c);
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fma(a, b, c);
}
#elif ISPC

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return futrts_isfinite16(x) || (futrts_isinf16(x) && x < 0) ? log(x) : x;
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return futrts_log16(x) / log(2.0f16);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return futrts_log16(x) / log(10.0f16);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  if(x == -1.0f16 || (futrts_isinf16(x) && x > 0.0f16)) return x / 0.0f16;
  f16 y = 1.0f16 + x;
  f16 z = y - 1.0f16;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return (float16)sqrt((float)x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return exp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return (float16)cos((float)x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return (float16)sin((float)x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return (float16)tan((float)x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return (float16)acos((float)x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return (float16)asin((float)x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return (float16)atan((float)x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return (exp(x)+exp(-x)) / 2.0f16;
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return (exp(x)-exp(-x)) / 2.0f16;
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return futrts_sinh16(x)/futrts_cosh16(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x-1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x+1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  float16 f = (1+x)/(1-x);
  if(futrts_isfinite16(f)) return log(f)/2.0f16;
  return f;
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return (float16)atan2((float)x, (float)y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return (float16)futrts_hypot32((float)x, (float)y);
}

extern "C" unmasked uniform float tgammaf(uniform float x);
SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)tgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)lgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  f16 res = (f16)futrts_cbrt32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  f16 res = (f16)futrts_erf32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  f16 res = (f16)futrts_erfc32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return x - y * (float16)trunc((float) (x/y));
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return (float16)round((float)x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return (float16)floor((float)x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return (float16)ceil((float)x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return (float16)futrts_nextafter32((float)x, (float) y);
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

#else // Assume CUDA.

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return hlog(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return hlog2(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return hlog10(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return (f16)log1pf((float)x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return hsqrt(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return cbrtf(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return hexp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return hcos(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return hsin(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return tanf(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return acosf(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return asinf(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return atanf(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return coshf(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return sinhf(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return tanhf(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return acoshf(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return asinhf(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return atanhf(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2f(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return hypotf(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return tgammaf(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return lgammaf(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return erff(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return erfcf(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmodf(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return rintf(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return hfloor(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return hceil(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return __ushort_as_half(halfbitsnextafter(__half_as_ushort(x), __half_as_ushort(y)));
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fmaf(a, b, c);
}

#endif

// The CUDA __half type cannot be put in unions for some reason, so we
// use bespoke conversion functions instead.
#ifdef __CUDA_ARCH__
SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  return __half_as_ushort(x);
}
SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return __ushort_as_half(x);
}
#elif ISPC

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  varying int16_t y = *((varying int16_t * uniform)&x);
  return y;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  varying f16 y = *((varying f16 * uniform)&x);
  return y;
}
#else
SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  union {
    f16 f;
    int16_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  union {
    int16_t f;
    f16 t;
  } p;

  p.f = x;
  return p.t;
}
#endif

#else // No native f16 - emulate.

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabs32(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmax32(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fmin32(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return fpow32(x, y);
}

SCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {
  return futrts_isnan32(x);
}

SCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {
  return futrts_isinf32(x);
}

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return futrts_log32(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return futrts_log2_32(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return futrts_log10_32(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return futrts_log1p_32(x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return futrts_sqrt32(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return futrts_cbrt32(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return futrts_exp32(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return futrts_cos32(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return futrts_sin32(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return futrts_tan32(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return futrts_acos32(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return futrts_asin32(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return futrts_atan32(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return futrts_cosh32(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return futrts_sinh32(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return futrts_tanh32(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return futrts_acosh32(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return futrts_asinh32(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return futrts_atanh32(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return futrts_atan2_32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return futrts_hypot32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return futrts_gamma32(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return futrts_lgamma32(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return futrts_erf32(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return futrts_erfc32(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmod32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return futrts_round32(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return futrts_floor32(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return futrts_ceil32(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return halfbits2float(halfbitsnextafter(float2halfbits(x), float2halfbits(y)));
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return futrts_lerp32(v0, v1, t);
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return futrts_mad32(a, b, c);
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return futrts_fma32(a, b, c);
}

// Even when we are using an OpenCL that does not support cl_khr_fp16,
// it must still support vload_half for actually creating a
// half-precision number, which can then be efficiently converted to a
// float.  Similarly for vstore_half.
#ifdef __OPENCL_VERSION__

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  int16_t y;
  // Violating strict aliasing here.
  vstore_half((float)x, 0, (half*)&y);
  return y;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return (f16)vload_half(0, (half*)&x);
}

#else

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  return (int16_t)float2halfbits(x);
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return halfbits2float((uint16_t)x);
}

SCALAR_FUN_ATTR f16 fsignum16(f16 x) {
  return futrts_isnan16(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#endif

#endif

SCALAR_FUN_ATTR float fpconv_f16_f16(f16 x) {
  return x;
}

SCALAR_FUN_ATTR float fpconv_f16_f32(f16 x) {
  return x;
}

SCALAR_FUN_ATTR f16 fpconv_f32_f16(float x) {
  return (f16) x;
}

#ifdef FUTHARK_F64_ENABLED

SCALAR_FUN_ATTR double fpconv_f16_f64(f16 x) {
  return (double) x;
}

#if ISPC
SCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {
  return (f16) ((float)x);
}
#else
SCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {
  return (f16) x;
}
#endif
#endif


// End of scalar_f16.h.

// Start of context_prototypes.h
//
// Prototypes for the functions in context.h, or that will be called
// from those functions, that need to be available very early.

struct futhark_context_config;
struct futhark_context;

static void set_error(struct futhark_context* ctx, char *error);

// These are called in context/config new/free functions and contain
// shared setup.  They are generated by the compiler itself.
static int init_constants(struct futhark_context*);
static int free_constants(struct futhark_context*);
static void setup_program(struct futhark_context* ctx);
static void teardown_program(struct futhark_context *ctx);

// Allocate host memory.  Must be freed with host_free().
static void host_alloc(struct futhark_context* ctx, size_t size, const char* tag, size_t* size_out, void** mem_out);
// Allocate memory allocated with host_alloc().
static void host_free(struct futhark_context* ctx, size_t size, const char* tag, void* mem);

// Log that a copy has occurred.
static void log_copy(struct futhark_context* ctx,
                     const char *kind, int r,
                     int64_t dst_offset, int64_t dst_strides[r],
                     int64_t src_offset, int64_t src_strides[r],
                     int64_t shape[r]);

static void log_transpose(struct futhark_context* ctx,
                          int64_t k, int64_t m, int64_t n);

static bool lmad_map_tr(int64_t *num_arrays_out, int64_t *n_out, int64_t *m_out,
                        int r,
                        const int64_t dst_strides[r],
                        const int64_t src_strides[r],
                        const int64_t shape[r]);

static bool lmad_contiguous(int r, int64_t strides[r], int64_t shape[r]);

static bool lmad_memcpyable(int r,
                            int64_t dst_strides[r], int64_t src_strides[r], int64_t shape[r]);

static void add_event(struct futhark_context* ctx,
                      const char* name,
                      char* description,
                      void* data,
                      event_report_fn f);

// Functions that must be defined by the backend.
static void backend_context_config_setup(struct futhark_context_config* cfg);
static void backend_context_config_teardown(struct futhark_context_config* cfg);
static int backend_context_setup(struct futhark_context *ctx);
static void backend_context_teardown(struct futhark_context *ctx);

// End of of context_prototypes.h

struct memblock {
    int *references;
    unsigned char *mem;
    int64_t size;
    const char *desc;
};
struct constants {
    int dummy;
};
struct tuning_params {
    int dummy;
};
static const int num_tuning_params = 0;
static const char *tuning_param_names[] = {NULL};
static const char *tuning_param_vars[] = {NULL};
static const char *tuning_param_classes[] = {NULL};
static int64_t tuning_param_defaults[] = {0};
// Start of backends/c.h

struct futhark_context_config {
  int in_use;
  int debugging;
  int profiling;
  int logging;
  char *cache_fname;
  int num_tuning_params;
  int64_t *tuning_params;
  const char** tuning_param_names;
  const char** tuning_param_vars;
  const char** tuning_param_classes;
};

static void backend_context_config_setup(struct futhark_context_config* cfg) {
  (void)cfg;
}

static void backend_context_config_teardown(struct futhark_context_config* cfg) {
  (void)cfg;
}

int futhark_context_config_set_tuning_param(struct futhark_context_config* cfg, const char *param_name, size_t param_value) {
  (void)cfg; (void)param_name; (void)param_value;
  return 1;
}

struct futhark_context {
  struct futhark_context_config* cfg;
  int detail_memory;
  int debugging;
  int profiling;
  int profiling_paused;
  int logging;
  lock_t lock;
  char *error;
  lock_t error_lock;
  FILE *log;
  struct constants *constants;
  struct free_list free_list;
  struct event_list event_list;
  int64_t peak_mem_usage_default;
  int64_t cur_mem_usage_default;
  struct program* program;
  bool program_initialised;
};

int backend_context_setup(struct futhark_context* ctx) {
  (void)ctx;
  return 0;
}

void backend_context_teardown(struct futhark_context* ctx) {
  (void)ctx;
}

int futhark_context_sync(struct futhark_context* ctx) {
  (void)ctx;
  return 0;
}

// End of backends/c.h

struct program {
    int dummy;
};
static void setup_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    ctx->program = malloc(sizeof(struct program));
}
static void teardown_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    free(ctx->program);
}
static void set_tuning_params(struct futhark_context *ctx)
{
    (void) ctx;
}
int memblock_unref(struct futhark_context *ctx, struct memblock *block, const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log, "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n", desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            host_free(ctx, (size_t) block->size, desc, (void *) block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log, "%lld bytes freed (now allocated: %lld bytes)\n", (long long) block->size, (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
int memblock_alloc(struct futhark_context *ctx, struct memblock *block, int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1, "Negative allocation of %lld bytes attempted for %s in %s.\n", (long long) size, desc, "default space", ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    if (ret != FUTHARK_SUCCESS)
        return ret;
    if (ctx->detail_memory)
        fprintf(ctx->log, "Allocating %lld bytes for %s in %s (currently allocated: %lld bytes).\n", (long long) size, desc, "default space", (long long) ctx->cur_mem_usage_default);
    host_alloc(ctx, (size_t) size, desc, (size_t *) &size, (void *) &block->mem);
    if (ctx->error == NULL) {
        block->references = (int *) malloc(sizeof(int));
        *block->references = 1;
        block->size = size;
        block->desc = desc;
        
        long long new_usage = ctx->cur_mem_usage_default + size;
        
        if (ctx->detail_memory)
            fprintf(ctx->log, "Received block of %lld bytes; now allocated: %lld bytes", (long long) block->size, new_usage);
        ctx->cur_mem_usage_default = new_usage;
        if (new_usage > ctx->peak_mem_usage_default) {
            ctx->peak_mem_usage_default = new_usage;
            if (ctx->detail_memory)
                fprintf(ctx->log, " (new peak).\n");
        } else if (ctx->detail_memory)
            fprintf(ctx->log, ".\n");
        return FUTHARK_SUCCESS;
    } else {
        // We are naively assuming that any memory allocation error is due to OOM.
        lock_lock(&ctx->error_lock);
        
        char *old_error = ctx->error;
        
        ctx->error = msgprintf("Failed to allocate memory in %s.\nAttempted allocation: %12lld bytes\nCurrently allocated:  %12lld bytes\n%s", "default space", (long long) size, (long long) ctx->cur_mem_usage_default, old_error);
        free(old_error);
        lock_unlock(&ctx->error_lock);
        return FUTHARK_OUT_OF_MEMORY;
    }
}
int memblock_set(struct futhark_context *ctx, struct memblock *lhs, struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    str_builder_char(&builder, '{');
    str_builder_str(&builder, "\"memory\":{");
    str_builder(&builder, "\"default space\": %lld", (long long) ctx->peak_mem_usage_default);
    str_builder_str(&builder, "},\"events\":[");
    if (report_events_in_list(&ctx->event_list, &builder) != 0) {
        free(builder.str);
        return NULL;
    } else {
        str_builder_str(&builder, "]}");
        return builder.str;
    }
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    ctx->peak_mem_usage_default = 0;
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}

// Start of context.h

// Internal functions.

static void set_error(struct futhark_context* ctx, char *error) {
  lock_lock(&ctx->error_lock);
  if (ctx->error == NULL) {
    ctx->error = error;
  } else {
    free(error);
  }
  lock_unlock(&ctx->error_lock);
}

// XXX: should be static, but used in ispc_util.h
void lexical_realloc_error(struct futhark_context* ctx, size_t new_size) {
  set_error(ctx,
            msgprintf("Failed to allocate memory.\nAttempted allocation: %12lld bytes\n",
                      (long long) new_size));
}

static int lexical_realloc(struct futhark_context *ctx,
                           unsigned char **ptr,
                           int64_t *old_size,
                           int64_t new_size) {
  unsigned char *new = realloc(*ptr, (size_t)new_size);
  if (new == NULL) {
    lexical_realloc_error(ctx, new_size);
    return FUTHARK_OUT_OF_MEMORY;
  } else {
    *ptr = new;
    *old_size = new_size;
    return FUTHARK_SUCCESS;
  }
}

static void free_all_in_free_list(struct futhark_context* ctx) {
  fl_mem mem;
  free_list_pack(&ctx->free_list);
  while (free_list_first(&ctx->free_list, (fl_mem*)&mem) == 0) {
    free((void*)mem);
  }
}

static int is_small_alloc(size_t size) {
  return size < 1024*1024;
}

static void host_alloc(struct futhark_context* ctx,
                       size_t size, const char* tag, size_t* size_out, void** mem_out) {
  if (is_small_alloc(size) || free_list_find(&ctx->free_list, size, tag, size_out, (fl_mem*)mem_out) != 0) {
    *size_out = size;
    *mem_out = malloc(size);
  }
}

static void host_free(struct futhark_context* ctx,
                      size_t size, const char* tag, void* mem) {
  // Small allocations are handled by malloc()s own free list.  The
  // threshold here is kind of arbitrary, but seems to work OK.
  // Larger allocations are mmap()ed/munmapped() every time, which is
  // very slow, and Futhark programs tend to use a few very large
  // allocations.
  if (is_small_alloc(size)) {
    free(mem);
  } else {
    free_list_insert(&ctx->free_list, size, (fl_mem)mem, tag);
  }
}

static void add_event(struct futhark_context* ctx,
                      const char* name,
                      char* description,
                      void* data,
                      event_report_fn f) {
  if (ctx->logging) {
    fprintf(ctx->log, "Event: %s\n%s\n", name, description);
  }
  add_event_to_list(&ctx->event_list, name, description, data, f);
}

char *futhark_context_get_error(struct futhark_context *ctx) {
  char *error = ctx->error;
  ctx->error = NULL;
  return error;
}

void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag) {
    cfg->profiling = cfg->logging = cfg->debugging = flag;
}

void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag) {
    cfg->profiling = flag;
}

void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag) {
    cfg->logging = flag;
}

void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f) {
  cfg->cache_fname = strdup(f);
}

int futhark_get_tuning_param_count(void) {
  return num_tuning_params;
}

const char *futhark_get_tuning_param_name(int i) {
  return tuning_param_names[i];
}

const char *futhark_get_tuning_param_class(int i) {
    return tuning_param_classes[i];
}

void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f){
  ctx->log = f;
}

void futhark_context_pause_profiling(struct futhark_context *ctx) {
  ctx->profiling_paused = 1;
}

void futhark_context_unpause_profiling(struct futhark_context *ctx) {
  ctx->profiling_paused = 0;
}

struct futhark_context_config* futhark_context_config_new(void) {
  struct futhark_context_config* cfg = malloc(sizeof(struct futhark_context_config));
  if (cfg == NULL) {
    return NULL;
  }
  cfg->in_use = 0;
  cfg->debugging = 0;
  cfg->profiling = 0;
  cfg->logging = 0;
  cfg->cache_fname = NULL;
  cfg->num_tuning_params = num_tuning_params;
  cfg->tuning_params = malloc(cfg->num_tuning_params * sizeof(int64_t));
  memcpy(cfg->tuning_params, tuning_param_defaults,
         cfg->num_tuning_params * sizeof(int64_t));
  cfg->tuning_param_names = tuning_param_names;
  cfg->tuning_param_vars = tuning_param_vars;
  cfg->tuning_param_classes = tuning_param_classes;
  backend_context_config_setup(cfg);
  return cfg;
}

void futhark_context_config_free(struct futhark_context_config* cfg) {
  assert(!cfg->in_use);
  backend_context_config_teardown(cfg);
  free(cfg->cache_fname);
  free(cfg->tuning_params);
  free(cfg);
}

struct futhark_context* futhark_context_new(struct futhark_context_config* cfg) {
  struct futhark_context* ctx = malloc(sizeof(struct futhark_context));
  if (ctx == NULL) {
    return NULL;
  }
  assert(!cfg->in_use);
  ctx->cfg = cfg;
  ctx->cfg->in_use = 1;
  ctx->program_initialised = false;
  create_lock(&ctx->error_lock);
  create_lock(&ctx->lock);
  free_list_init(&ctx->free_list);
  event_list_init(&ctx->event_list);
  ctx->peak_mem_usage_default = 0;
  ctx->cur_mem_usage_default = 0;
  ctx->constants = malloc(sizeof(struct constants));
  ctx->debugging = cfg->debugging;
  ctx->logging = cfg->logging;
  ctx->detail_memory = cfg->logging;
  ctx->profiling = cfg->profiling;
  ctx->profiling_paused = 0;
  ctx->error = NULL;
  ctx->log = stderr;
  set_tuning_params(ctx);
  if (backend_context_setup(ctx) == 0) {
    setup_program(ctx);
    init_constants(ctx);
    ctx->program_initialised = true;
    (void)futhark_context_clear_caches(ctx);
    (void)futhark_context_sync(ctx);
  }
  return ctx;
}

void futhark_context_free(struct futhark_context* ctx) {
  if (ctx->program_initialised) {
    free_constants(ctx);
    teardown_program(ctx);
  }
  backend_context_teardown(ctx);
  free_all_in_free_list(ctx);
  free_list_destroy(&ctx->free_list);
  event_list_free(&ctx->event_list);
  free(ctx->constants);
  free(ctx->error);
  free_lock(&ctx->lock);
  free_lock(&ctx->error_lock);
  ctx->cfg->in_use = 0;
  free(ctx);
}

// End of context.h

// Start of copy.h

// Cache-oblivious map-transpose function.
#define GEN_MAP_TRANSPOSE(NAME, ELEM_TYPE)                              \
  static void map_transpose_##NAME                                      \
  (ELEM_TYPE* dst, ELEM_TYPE* src,                                      \
   int64_t k, int64_t m, int64_t n,                                     \
   int64_t cb, int64_t ce, int64_t rb, int64_t re)                      \
  {                                                                     \
  int32_t r = re - rb;                                                  \
  int32_t c = ce - cb;                                                  \
  if (k == 1) {                                                         \
    if (r <= 64 && c <= 64) {                                           \
      for (int64_t j = 0; j < c; j++) {                                 \
        for (int64_t i = 0; i < r; i++) {                               \
          dst[(j + cb) * n + (i + rb)] = src[(i + rb) * m + (j + cb)];  \
        }                                                               \
      }                                                                 \
    } else if (c <= r) {                                                \
      map_transpose_##NAME(dst, src, k, m, n, cb, ce, rb, rb + r/2);    \
      map_transpose_##NAME(dst, src, k, m, n, cb, ce, rb + r/2, re);    \
    } else {                                                            \
      map_transpose_##NAME(dst, src, k, m, n, cb, cb + c/2, rb, re);    \
      map_transpose_##NAME(dst, src, k, m, n, cb + c/2, ce, rb, re);    \
    }                                                                   \
  } else {                                                              \
  for (int64_t i = 0; i < k; i++) {                                     \
    map_transpose_##NAME(dst + i * m * n, src + i * m * n, 1, m, n, cb, ce, rb, re); \
  }\
} \
}

// Straightforward LMAD copy function.
#define GEN_LMAD_COPY_ELEMENTS(NAME, ELEM_TYPE)                         \
  static void lmad_copy_elements_##NAME(int r,                          \
                                        ELEM_TYPE* dst, int64_t dst_strides[r], \
                                        ELEM_TYPE *src, int64_t src_strides[r], \
                                        int64_t shape[r]) {             \
    if (r == 1) {                                                       \
      for (int i = 0; i < shape[0]; i++) {                              \
        dst[i*dst_strides[0]] = src[i*src_strides[0]];                  \
      }                                                                 \
    } else if (r > 1) {                                                 \
      for (int i = 0; i < shape[0]; i++) {                              \
        lmad_copy_elements_##NAME(r-1,                                  \
                                  dst+i*dst_strides[0], dst_strides+1,  \
                                  src+i*src_strides[0], src_strides+1,  \
                                  shape+1);                             \
      }                                                                 \
    }                                                                   \
  }                                                                     \

// Check whether this LMAD can be seen as a transposed 2D array.  This
// is done by checking every possible splitting point.
static bool lmad_is_tr(int64_t *n_out, int64_t *m_out,
                       int r,
                       const int64_t strides[r],
                       const int64_t shape[r]) {
  for (int i = 1; i < r; i++) {
    int n = 1, m = 1;
    bool ok = true;
    int64_t expected = 1;
    // Check strides before 'i'.
    for (int j = i-1; j >= 0; j--) {
      ok = ok && strides[j] == expected;
      expected *= shape[j];
      n *= shape[j];
    }
    // Check strides after 'i'.
    for (int j = r-1; j >= i; j--) {
      ok = ok && strides[j] == expected;
      expected *= shape[j];
      m *= shape[j];
    }
    if (ok) {
      *n_out = n;
      *m_out = m;
      return true;
    }
  }
  return false;
}

// This function determines whether the a 'dst' LMAD is row-major and
// 'src' LMAD is column-major.  Both LMADs are for arrays of the same
// shape.  Both LMADs are allowed to have additional dimensions "on
// top".  Essentially, this function determines whether a copy from
// 'src' to 'dst' is a "map(transpose)" that we know how to implement
// efficiently.  The LMADs can have arbitrary rank, and the main
// challenge here is checking whether the src LMAD actually
// corresponds to a 2D column-major layout by morally collapsing
// dimensions.  There is a lot of looping here, but the actual trip
// count is going to be very low in practice.
//
// Returns true if this is indeed a map(transpose), and writes the
// number of arrays, and moral array size to appropriate output
// parameters.
static bool lmad_map_tr(int64_t *num_arrays_out, int64_t *n_out, int64_t *m_out,
                        int r,
                        const int64_t dst_strides[r],
                        const int64_t src_strides[r],
                        const int64_t shape[r]) {
  int64_t rowmajor_strides[r];
  rowmajor_strides[r-1] = 1;

  for (int i = r-2; i >= 0; i--) {
    rowmajor_strides[i] = rowmajor_strides[i+1] * shape[i+1];
  }

  // map_r will be the number of mapped dimensions on top.
  int map_r = 0;
  int64_t num_arrays = 1;
  for (int i = 0; i < r; i++) {
    if (dst_strides[i] != rowmajor_strides[i] ||
        src_strides[i] != rowmajor_strides[i]) {
      break;
    } else {
      num_arrays *= shape[i];
      map_r++;
    }
  }

  *num_arrays_out = num_arrays;

  if (r==map_r) {
    return false;
  }

  if (memcmp(&rowmajor_strides[map_r],
             &dst_strides[map_r],
             sizeof(int64_t)*(r-map_r)) == 0) {
    return lmad_is_tr(n_out, m_out, r-map_r, src_strides+map_r, shape+map_r);
  } else if (memcmp(&rowmajor_strides[map_r],
                    &src_strides[map_r],
                    sizeof(int64_t)*(r-map_r)) == 0) {
    return lmad_is_tr(m_out, n_out, r-map_r, dst_strides+map_r, shape+map_r);
  }
  return false;
}

// Check if the strides correspond to row-major strides of *any*
// permutation of the shape.  This is done by recursive search with
// backtracking.  This is worst-case exponential, but hopefully the
// arrays we encounter do not have that many dimensions.
static bool lmad_contiguous_search(int checked, int64_t expected,
                                   int r,
                                   int64_t strides[r], int64_t shape[r], bool used[r]) {
  for (int i = 0; i < r; i++) {
    for (int j = 0; j < r; j++) {
      if (!used[j] && strides[j] == expected && strides[j] >= 0) {
        used[j] = true;
        if (checked+1 == r ||
            lmad_contiguous_search(checked+1, expected * shape[j], r, strides, shape, used)) {
          return true;
        }
        used[j] = false;
      }
    }
  }
  return false;
}

// Does this LMAD correspond to an array with positive strides and no
// holes?
static bool lmad_contiguous(int r, int64_t strides[r], int64_t shape[r]) {
  bool used[r];
  for (int i = 0; i < r; i++) {
    used[i] = false;
  }
  return lmad_contiguous_search(0, 1, r, strides, shape, used);
}

// Does this copy correspond to something that could be done with a
// memcpy()-like operation?  I.e. do the LMADs actually represent the
// same in-memory layout and are they contiguous?
static bool lmad_memcpyable(int r,
                            int64_t dst_strides[r], int64_t src_strides[r], int64_t shape[r]) {
  if (!lmad_contiguous(r, dst_strides, shape)) {
    return false;
  }
  for (int i = 0; i < r; i++) {
    if (dst_strides[i] != src_strides[i] && shape[i] != 1) {
      return false;
    }
  }
  return true;
}


static void log_copy(struct futhark_context* ctx,
                     const char *kind, int r,
                     int64_t dst_offset, int64_t dst_strides[r],
                     int64_t src_offset, int64_t src_strides[r],
                     int64_t shape[r]) {
  if (ctx->logging) {
    fprintf(ctx->log, "\n# Copy %s\n", kind);
    fprintf(ctx->log, "Shape: ");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, "[%ld]", (long int)shape[i]); }
    fprintf(ctx->log, "\n");
    fprintf(ctx->log, "Dst offset: %ld\n", (long int)dst_offset);
    fprintf(ctx->log, "Dst strides:");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, " %ld", (long int)dst_strides[i]); }
    fprintf(ctx->log, "\n");
    fprintf(ctx->log, "Src offset: %ld\n", (long int)src_offset);
    fprintf(ctx->log, "Src strides:");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, " %ld", (long int)src_strides[i]); }
    fprintf(ctx->log, "\n");
  }
}

static void log_transpose(struct futhark_context* ctx,
                          int64_t k, int64_t n, int64_t m) {
  if (ctx->logging) {
    fprintf(ctx->log, "## Transpose\n");
    fprintf(ctx->log, "Arrays     : %ld\n", (long int)k);
    fprintf(ctx->log, "X elements : %ld\n", (long int)m);
    fprintf(ctx->log, "Y elements : %ld\n", (long int)n);
    fprintf(ctx->log, "\n");
  }
}

#define GEN_LMAD_COPY(NAME, ELEM_TYPE)                                  \
  static void lmad_copy_##NAME                                          \
  (struct futhark_context *ctx, int r,                                  \
   ELEM_TYPE* dst, int64_t dst_offset, int64_t dst_strides[r],          \
   ELEM_TYPE *src, int64_t src_offset, int64_t src_strides[r],          \
   int64_t shape[r]) {                                                  \
    log_copy(ctx, "CPU to CPU", r, dst_offset, dst_strides,             \
             src_offset, src_strides, shape);                           \
    int64_t size = 1;                                                   \
    for (int i = 0; i < r; i++) { size *= shape[i]; }                   \
    if (size == 0) { return; }                                          \
    int64_t k, n, m;                                                    \
    if (lmad_map_tr(&k, &n, &m,                                         \
                    r, dst_strides, src_strides, shape)) {              \
      log_transpose(ctx, k, n, m);                                      \
      map_transpose_##NAME                                              \
        (dst+dst_offset, src+src_offset, k, n, m, 0, n, 0, m);          \
    } else if (lmad_memcpyable(r, dst_strides, src_strides, shape)) {   \
      if (ctx->logging) {fprintf(ctx->log, "## Flat copy\n\n");}          \
      memcpy(dst+dst_offset, src+src_offset, size*sizeof(*dst));        \
    } else {                                                            \
      if (ctx->logging) {fprintf(ctx->log, "## General copy\n\n");}       \
      lmad_copy_elements_##NAME                                         \
        (r,                                                             \
         dst+dst_offset, dst_strides,                                   \
         src+src_offset, src_strides, shape);                           \
    }                                                                   \
  }

GEN_MAP_TRANSPOSE(1b, uint8_t)
GEN_MAP_TRANSPOSE(2b, uint16_t)
GEN_MAP_TRANSPOSE(4b, uint32_t)
GEN_MAP_TRANSPOSE(8b, uint64_t)

GEN_LMAD_COPY_ELEMENTS(1b, uint8_t)
GEN_LMAD_COPY_ELEMENTS(2b, uint16_t)
GEN_LMAD_COPY_ELEMENTS(4b, uint32_t)
GEN_LMAD_COPY_ELEMENTS(8b, uint64_t)

GEN_LMAD_COPY(1b, uint8_t)
GEN_LMAD_COPY(2b, uint16_t)
GEN_LMAD_COPY(4b, uint32_t)
GEN_LMAD_COPY(8b, uint64_t)

// End of copy.h

#define FUTHARK_FUN_ATTR static

FUTHARK_FUN_ATTR int futrts_entry_argmin_double(struct futhark_context *ctx, int64_t *out_prim_out_181659, struct memblock ks_mem_179986, int64_t n_109591);
FUTHARK_FUN_ATTR int futrts_entry_argmin_float(struct futhark_context *ctx, int64_t *out_prim_out_181660, struct memblock ks_mem_179986, int64_t n_109422);
FUTHARK_FUN_ATTR int futrts_entry_argmin_int(struct futhark_context *ctx, int64_t *out_prim_out_181661, struct memblock ks_mem_179986, int64_t n_109087);
FUTHARK_FUN_ATTR int futrts_entry_argmin_long(struct futhark_context *ctx, int64_t *out_prim_out_181662, struct memblock ks_mem_179986, int64_t n_109253);
FUTHARK_FUN_ATTR int futrts_entry_argmin_short(struct futhark_context *ctx, int64_t *out_prim_out_181663, struct memblock ks_mem_179986, int64_t n_108921);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_181664, struct memblock *mem_out_p_181665, struct memblock xs_mem_179986, int64_t n_107565, int64_t incr_107566);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_181676, struct memblock *mem_out_p_181677, struct memblock xs_mem_179986, int64_t n_105221, int64_t incr_105222);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_181688, struct memblock *mem_out_p_181689, struct memblock xs_mem_179986, int64_t n_100534, int64_t incr_100535);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_181700, struct memblock *mem_out_p_181701, struct memblock xs_mem_179986, int64_t n_102877, int64_t incr_102878);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_181712, struct memblock *mem_out_p_181713, struct memblock xs_mem_179986, int64_t n_98190, int64_t incr_98191);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_double(struct futhark_context *ctx, struct memblock *mem_out_p_181724, struct memblock *mem_out_p_181725, struct memblock *mem_out_p_181726, int64_t *out_prim_out_181727, struct memblock a_list_mem_179986, struct memblock b_list_mem_179987, int64_t na_162230, int64_t nb_162231, int64_t window_sizze_162232, int64_t threads_162233, bool inParallel_162236);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_float(struct futhark_context *ctx, struct memblock *mem_out_p_181778, struct memblock *mem_out_p_181779, struct memblock *mem_out_p_181780, int64_t *out_prim_out_181781, struct memblock a_list_mem_179986, struct memblock b_list_mem_179987, int64_t na_151707, int64_t nb_151708, int64_t window_sizze_151709, int64_t threads_151710, bool inParallel_151713);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_int(struct futhark_context *ctx, struct memblock *mem_out_p_181832, struct memblock *mem_out_p_181833, struct memblock *mem_out_p_181834, int64_t *out_prim_out_181835, struct memblock a_list_mem_179986, struct memblock b_list_mem_179987, int64_t na_130661, int64_t nb_130662, int64_t window_sizze_130663, int64_t threads_130664, bool inParallel_130667);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_long(struct futhark_context *ctx, struct memblock *mem_out_p_181886, struct memblock *mem_out_p_181887, struct memblock *mem_out_p_181888, int64_t *out_prim_out_181889, struct memblock a_list_mem_179986, struct memblock b_list_mem_179987, int64_t na_141184, int64_t nb_141185, int64_t window_sizze_141186, int64_t threads_141187, bool inParallel_141190);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_short(struct futhark_context *ctx, struct memblock *mem_out_p_181940, struct memblock *mem_out_p_181941, struct memblock *mem_out_p_181942, int64_t *out_prim_out_181943, struct memblock a_list_mem_179986, struct memblock b_list_mem_179987, int64_t na_120138, int64_t nb_120139, int64_t window_sizze_120140, int64_t threads_120141, bool inParallel_120144);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_double(struct futhark_context *ctx, struct memblock *mem_out_p_181994, struct memblock is_mem_179986, struct memblock ys_mem_179987, int64_t n_108752, int64_t incr_108753, int64_t block_sizze_108754);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_float(struct futhark_context *ctx, struct memblock *mem_out_p_181995, struct memblock is_mem_179986, struct memblock ys_mem_179987, int64_t n_108516, int64_t incr_108517, int64_t block_sizze_108518);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_int(struct futhark_context *ctx, struct memblock *mem_out_p_181996, struct memblock is_mem_179986, struct memblock ys_mem_179987, int64_t n_108048, int64_t incr_108049, int64_t block_sizze_108050);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_long(struct futhark_context *ctx, struct memblock *mem_out_p_181997, struct memblock is_mem_179986, struct memblock ys_mem_179987, int64_t n_108280, int64_t incr_108281, int64_t block_sizze_108282);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_short(struct futhark_context *ctx, struct memblock *mem_out_p_181998, struct memblock is_mem_179986, struct memblock ys_mem_179987, int64_t n_107812, int64_t incr_107813, int64_t block_sizze_107814);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_181999, struct memblock *mem_out_p_182000, struct memblock xs_mem_179986, int64_t n_95734, int64_t incr_95735, int16_t block_sizze_95736);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_182026, struct memblock *mem_out_p_182027, struct memblock xs_mem_179986, int64_t n_92979, int64_t incr_92980, int16_t block_sizze_92981);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_182053, struct memblock *mem_out_p_182054, struct memblock xs_mem_179986, int64_t n_87628, int64_t incr_87629, int16_t block_sizze_87630);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_182080, struct memblock *mem_out_p_182081, struct memblock xs_mem_179986, int64_t n_90228, int64_t incr_90229, int16_t block_sizze_90230);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_182107, struct memblock *mem_out_p_182108, struct memblock xs_mem_179986, int64_t n_85011, int64_t incr_85012, int16_t block_sizze_85013);
FUTHARK_FUN_ATTR int futrts_get_bit_1844(struct futhark_context *ctx, int32_t *out_prim_out_182134, int32_t bit_82859, int16_t x_82860);
FUTHARK_FUN_ATTR int futrts_get_bit_2253(struct futhark_context *ctx, int32_t *out_prim_out_182135, int32_t bit_88076, int64_t x_88077);
FUTHARK_FUN_ATTR int futrts_greatest_divisor_leq_than_4833(struct futhark_context *ctx, int64_t *out_prim_out_182136, int64_t upper_bound_95758, int64_t n_95759);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9029(struct futhark_context *ctx, struct memblock *mem_out_p_182137, struct memblock xs_mem_179986, int64_t n_82156, int64_t incr_82157);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9184(struct futhark_context *ctx, struct memblock *mem_out_p_182138, struct memblock xs_mem_179986, int64_t n_85036, int64_t incr_85037);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9294(struct futhark_context *ctx, struct memblock *mem_out_p_182139, struct memblock xs_mem_179986, int64_t n_87653, int64_t incr_87654);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9394(struct futhark_context *ctx, struct memblock *mem_out_p_182140, struct memblock xs_mem_179986, int64_t n_90253, int64_t incr_90254);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9503(struct futhark_context *ctx, struct memblock *mem_out_p_182141, struct memblock xs_mem_179986, int64_t n_93004, int64_t incr_93005);
FUTHARK_FUN_ATTR int futrts_lifted_f_8994(struct futhark_context *ctx, int64_t *out_prim_out_182142, int16_t na_82383, int16_t nb_82384, int16_t nc_82385, int16_t bin_82386, int16_t a_82387, int16_t b_82388, int16_t c_82389, int16_t d_82390);
FUTHARK_FUN_ATTR int futrts_lifted_lambda_8993(struct futhark_context *ctx, int16_t *out_prim_out_182143, int16_t *out_prim_out_182144, int16_t *out_prim_out_182145, int16_t *out_prim_out_182146, int16_t x_82326);
FUTHARK_FUN_ATTR int futrts_lifted_normalizze_8970(struct futhark_context *ctx, int64_t *out_prim_out_182147, int64_t *out_prim_out_182148, int64_t *out_prim_out_182149, int64_t *out_prim_out_182150, int64_t *out_prim_out_182151, int64_t slo_95977, int64_t shi_95978, int64_t tlo_95979, int64_t thi_95980, int64_t count_95981);

static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
struct futhark_i8_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i8_1d *futhark_new_i8_1d(struct futhark_context *ctx, const int8_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i8_1d *bad = NULL;
    struct futhark_i8_1d *arr = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 1, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 1 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 1);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i8_1d *futhark_new_raw_i8_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i8_1d *bad = NULL;
    struct futhark_i8_1d *arr = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr, int8_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 1 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 1);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i8_1d(struct futhark_context *ctx, int8_t *out, struct futhark_i8_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (1 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 1 * (i0 * 1), 1);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i16_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i16_1d *futhark_new_i16_1d(struct futhark_context *ctx, const int16_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i16_1d *bad = NULL;
    struct futhark_i16_1d *arr = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 2, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 2 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 2);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i16_1d *futhark_new_raw_i16_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i16_1d *bad = NULL;
    struct futhark_i16_1d *arr = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr, int16_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 2 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 2);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i16_1d(struct futhark_context *ctx, int16_t *out, struct futhark_i16_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (2 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 2 * (i0 * 1), 2);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i32_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i32_1d *futhark_new_i32_1d(struct futhark_context *ctx, const int32_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i32_1d *bad = NULL;
    struct futhark_i32_1d *arr = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 4, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 4 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 4);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i32_1d *futhark_new_raw_i32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i32_1d *bad = NULL;
    struct futhark_i32_1d *arr = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr, int32_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 4 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 4);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i32_1d(struct futhark_context *ctx, int32_t *out, struct futhark_i32_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (4 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 4 * (i0 * 1), 4);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i64_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i64_1d *futhark_new_i64_1d(struct futhark_context *ctx, const int64_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i64_1d *bad = NULL;
    struct futhark_i64_1d *arr = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 8 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 8);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i64_1d *futhark_new_raw_i64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i64_1d *bad = NULL;
    struct futhark_i64_1d *arr = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr, int64_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 8 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 8);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i64_1d(struct futhark_context *ctx, int64_t *out, struct futhark_i64_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (8 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 8 * (i0 * 1), 8);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f32_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_f32_1d *futhark_new_f32_1d(struct futhark_context *ctx, const float *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f32_1d *bad = NULL;
    struct futhark_f32_1d *arr = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 4, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 4 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 4);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_f32_1d *futhark_new_raw_f32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f32_1d *bad = NULL;
    struct futhark_f32_1d *arr = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr, float *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 4 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 4);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_f32_1d(struct futhark_context *ctx, float *out, struct futhark_f32_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (4 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 4 * (i0 * 1), 4);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f64_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_f64_1d *futhark_new_f64_1d(struct futhark_context *ctx, const double *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f64_1d *bad = NULL;
    struct futhark_f64_1d *arr = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 8 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 8);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_f64_1d *futhark_new_raw_f64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f64_1d *bad = NULL;
    struct futhark_f64_1d *arr = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr, double *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 8 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 8);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_f64_1d(struct futhark_context *ctx, double *out, struct futhark_f64_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (8 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 8 * (i0 * 1), 8);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_opaque_sortInfo_short {
    struct futhark_i64_1d *v0;
    struct futhark_i16_1d *v1;
};
int futhark_project_opaque_sortInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_short_xs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_sortInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i16_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i16_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i16_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i16_1d *f_xs)
{
    struct futhark_opaque_sortInfo_short *v = malloc(sizeof(struct futhark_opaque_sortInfo_short));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i16_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_short(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_short *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i16_1d(ctx, obj->v1)[0] * sizeof(int16_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i16", 4);
        out += 4;
        memcpy(out, futhark_shape_i16_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i16_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i16_1d(ctx, obj->v1)[0] * sizeof(int16_t);
    }
    return ret;
}
struct futhark_opaque_sortInfo_short *futhark_restore_opaque_sortInfo_short(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_short *obj = malloc(sizeof(struct futhark_opaque_sortInfo_short));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i16", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int16_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i16_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_int {
    struct futhark_i64_1d *v0;
    struct futhark_i32_1d *v1;
};
int futhark_project_opaque_sortInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_int_xs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_sortInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i32_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i32_1d *f_xs)
{
    struct futhark_opaque_sortInfo_int *v = malloc(sizeof(struct futhark_opaque_sortInfo_int));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i32_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_int(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_int *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i32_1d(ctx, obj->v1)[0] * sizeof(int32_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i32", 4);
        out += 4;
        memcpy(out, futhark_shape_i32_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i32_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i32_1d(ctx, obj->v1)[0] * sizeof(int32_t);
    }
    return ret;
}
struct futhark_opaque_sortInfo_int *futhark_restore_opaque_sortInfo_int(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_int *obj = malloc(sizeof(struct futhark_opaque_sortInfo_int));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int32_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i32_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_long {
    struct futhark_i64_1d *v0;
    struct futhark_i64_1d *v1;
};
int futhark_project_opaque_sortInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_long_xs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i64_1d *f_xs)
{
    struct futhark_opaque_sortInfo_long *v = malloc(sizeof(struct futhark_opaque_sortInfo_long));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i64_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_long(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_long *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    }
    return ret;
}
struct futhark_opaque_sortInfo_long *futhark_restore_opaque_sortInfo_long(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_long *obj = malloc(sizeof(struct futhark_opaque_sortInfo_long));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int64_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_float {
    struct futhark_i64_1d *v0;
    struct futhark_f32_1d *v1;
};
int futhark_project_opaque_sortInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_float_xs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_sortInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_f32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f32_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_f32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_f32_1d *f_xs)
{
    struct futhark_opaque_sortInfo_float *v = malloc(sizeof(struct futhark_opaque_sortInfo_float));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_f32_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_float(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_float *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v1)[0] * sizeof(float);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v1)[0] * sizeof(float);
    }
    return ret;
}
struct futhark_opaque_sortInfo_float *futhark_restore_opaque_sortInfo_float(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_float *obj = malloc(sizeof(struct futhark_opaque_sortInfo_float));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(float);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_f32_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_double {
    struct futhark_i64_1d *v0;
    struct futhark_f64_1d *v1;
};
int futhark_project_opaque_sortInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_double_xs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_sortInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_f64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_f64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_f64_1d *f_xs)
{
    struct futhark_opaque_sortInfo_double *v = malloc(sizeof(struct futhark_opaque_sortInfo_double));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_f64_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_double(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_double *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_f64_1d(ctx, obj->v1)[0] * sizeof(double);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_f64_1d(ctx, obj->v1)[0] * sizeof(double);
    }
    return ret;
}
struct futhark_opaque_sortInfo_double *futhark_restore_opaque_sortInfo_double(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_double *obj = malloc(sizeof(struct futhark_opaque_sortInfo_double));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(double);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_f64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_short {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_i16_1d *v2;
};
int futhark_project_opaque_mergeInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_short_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_short_vs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i16_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i16_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i16_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i16_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_short *v = malloc(sizeof(struct futhark_opaque_mergeInfo_short));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i16_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_short(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_short *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i16_1d(ctx, obj->v2)[0] * sizeof(int16_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i16", 4);
        out += 4;
        memcpy(out, futhark_shape_i16_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i16_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i16_1d(ctx, obj->v2)[0] * sizeof(int16_t);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_short *futhark_restore_opaque_mergeInfo_short(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_short *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_short));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i16", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int16_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i16_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_int {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_i32_1d *v2;
};
int futhark_project_opaque_mergeInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_int_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_int_vs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i32_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i32_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_int *v = malloc(sizeof(struct futhark_opaque_mergeInfo_int));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i32_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_int(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_int *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i32_1d(ctx, obj->v2)[0] * sizeof(int32_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i32", 4);
        out += 4;
        memcpy(out, futhark_shape_i32_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i32_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i32_1d(ctx, obj->v2)[0] * sizeof(int32_t);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_int *futhark_restore_opaque_mergeInfo_int(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_int *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_int));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int32_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i32_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_long {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_i64_1d *v2;
};
int futhark_project_opaque_mergeInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_long_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_long_vs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i64_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_long *v = malloc(sizeof(struct futhark_opaque_mergeInfo_long));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i64_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_long(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_long *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_long *futhark_restore_opaque_mergeInfo_long(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_long *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_long));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int64_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i64_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_float {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_f32_1d *v2;
};
int futhark_project_opaque_mergeInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_float_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_float_vs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_f32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f32_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_f32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f32_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_float *v = malloc(sizeof(struct futhark_opaque_mergeInfo_float));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_f32_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_float(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_float *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v2)[0] * sizeof(float);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v2)[0] * sizeof(float);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_float *futhark_restore_opaque_mergeInfo_float(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_float *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_float));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(float);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f32_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_double {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_f64_1d *v2;
};
int futhark_project_opaque_mergeInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_double_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_double_vs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_f64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f64_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_f64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f64_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_double *v = malloc(sizeof(struct futhark_opaque_mergeInfo_double));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_f64_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_double(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_double *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_f64_1d(ctx, obj->v2)[0] * sizeof(double);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f64_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f64_1d(ctx, obj->v2)[0] * sizeof(double);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_double *futhark_restore_opaque_mergeInfo_double(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_double *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_double));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(double);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f64_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}

FUTHARK_FUN_ATTR int futrts_entry_argmin_double(struct futhark_context *ctx, int64_t *out_prim_out_181659, struct memblock ks_mem_179986, int64_t n_109591)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_181400;
    int64_t defunc_0_reduce_comm_res_177498;
    double defunc_0_reduce_comm_res_177499;
    int64_t redout_179646;
    double redout_179647;
    
    redout_179646 = n_109591;
    redout_179647 = INFINITY;
    for (int64_t i_179648 = 0; i_179648 < n_109591; i_179648++) {
        double x_163493 = ((double *) ks_mem_179986.mem)[i_179648];
        bool defunc_0_lt_res_163498 = redout_179647 < x_163493;
        bool defunc_0_eq_res_163500 = redout_179647 == x_163493;
        bool cond_f_res_t_res_163501 = slt64(redout_179646, i_179648);
        bool x_163502 = defunc_0_eq_res_163500 && cond_f_res_t_res_163501;
        bool x_177231 = !defunc_0_lt_res_163498;
        bool y_177232 = x_163502 && x_177231;
        bool cond_163499 = defunc_0_lt_res_163498 || y_177232;
        int64_t defunc_0_op_res_163503;
        
        if (cond_163499) {
            defunc_0_op_res_163503 = redout_179646;
        } else {
            defunc_0_op_res_163503 = i_179648;
        }
        
        double defunc_0_op_res_163504;
        
        if (cond_163499) {
            defunc_0_op_res_163504 = redout_179647;
        } else {
            defunc_0_op_res_163504 = x_163493;
        }
        
        int64_t redout_tmp_181401 = defunc_0_op_res_163503;
        double redout_tmp_181402 = defunc_0_op_res_163504;
        
        redout_179646 = redout_tmp_181401;
        redout_179647 = redout_tmp_181402;
    }
    defunc_0_reduce_comm_res_177498 = redout_179646;
    defunc_0_reduce_comm_res_177499 = redout_179647;
    prim_out_181400 = defunc_0_reduce_comm_res_177498;
    *out_prim_out_181659 = prim_out_181400;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_float(struct futhark_context *ctx, int64_t *out_prim_out_181660, struct memblock ks_mem_179986, int64_t n_109422)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_181400;
    int64_t defunc_0_reduce_comm_res_177498;
    float defunc_0_reduce_comm_res_177499;
    int64_t redout_179646;
    float redout_179647;
    
    redout_179646 = n_109422;
    redout_179647 = INFINITY;
    for (int64_t i_179648 = 0; i_179648 < n_109422; i_179648++) {
        float x_163493 = ((float *) ks_mem_179986.mem)[i_179648];
        bool defunc_0_lt_res_163498 = redout_179647 < x_163493;
        bool defunc_0_eq_res_163500 = redout_179647 == x_163493;
        bool cond_f_res_t_res_163501 = slt64(redout_179646, i_179648);
        bool x_163502 = defunc_0_eq_res_163500 && cond_f_res_t_res_163501;
        bool x_177231 = !defunc_0_lt_res_163498;
        bool y_177232 = x_163502 && x_177231;
        bool cond_163499 = defunc_0_lt_res_163498 || y_177232;
        int64_t defunc_0_op_res_163503;
        
        if (cond_163499) {
            defunc_0_op_res_163503 = redout_179646;
        } else {
            defunc_0_op_res_163503 = i_179648;
        }
        
        float defunc_0_op_res_163504;
        
        if (cond_163499) {
            defunc_0_op_res_163504 = redout_179647;
        } else {
            defunc_0_op_res_163504 = x_163493;
        }
        
        int64_t redout_tmp_181401 = defunc_0_op_res_163503;
        float redout_tmp_181402 = defunc_0_op_res_163504;
        
        redout_179646 = redout_tmp_181401;
        redout_179647 = redout_tmp_181402;
    }
    defunc_0_reduce_comm_res_177498 = redout_179646;
    defunc_0_reduce_comm_res_177499 = redout_179647;
    prim_out_181400 = defunc_0_reduce_comm_res_177498;
    *out_prim_out_181660 = prim_out_181400;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_int(struct futhark_context *ctx, int64_t *out_prim_out_181661, struct memblock ks_mem_179986, int64_t n_109087)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_181400;
    int64_t defunc_0_reduce_comm_res_177498;
    int32_t defunc_0_reduce_comm_res_177499;
    int64_t redout_179646;
    int32_t redout_179647;
    
    redout_179646 = n_109087;
    redout_179647 = 2147483647;
    for (int64_t i_179648 = 0; i_179648 < n_109087; i_179648++) {
        int32_t x_163493 = ((int32_t *) ks_mem_179986.mem)[i_179648];
        bool defunc_0_lt_res_163498 = slt32(redout_179647, x_163493);
        bool defunc_0_eq_res_163500 = redout_179647 == x_163493;
        bool cond_f_res_t_res_163501 = slt64(redout_179646, i_179648);
        bool x_163502 = defunc_0_eq_res_163500 && cond_f_res_t_res_163501;
        bool x_177231 = !defunc_0_lt_res_163498;
        bool y_177232 = x_163502 && x_177231;
        bool cond_163499 = defunc_0_lt_res_163498 || y_177232;
        int64_t defunc_0_op_res_163503;
        
        if (cond_163499) {
            defunc_0_op_res_163503 = redout_179646;
        } else {
            defunc_0_op_res_163503 = i_179648;
        }
        
        int32_t defunc_0_op_res_163504;
        
        if (cond_163499) {
            defunc_0_op_res_163504 = redout_179647;
        } else {
            defunc_0_op_res_163504 = x_163493;
        }
        
        int64_t redout_tmp_181401 = defunc_0_op_res_163503;
        int32_t redout_tmp_181402 = defunc_0_op_res_163504;
        
        redout_179646 = redout_tmp_181401;
        redout_179647 = redout_tmp_181402;
    }
    defunc_0_reduce_comm_res_177498 = redout_179646;
    defunc_0_reduce_comm_res_177499 = redout_179647;
    prim_out_181400 = defunc_0_reduce_comm_res_177498;
    *out_prim_out_181661 = prim_out_181400;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_long(struct futhark_context *ctx, int64_t *out_prim_out_181662, struct memblock ks_mem_179986, int64_t n_109253)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_181400;
    int64_t defunc_0_reduce_comm_res_177498;
    int64_t defunc_0_reduce_comm_res_177499;
    int64_t redout_179646;
    int64_t redout_179647;
    
    redout_179646 = n_109253;
    redout_179647 = (int64_t) 9223372036854775807;
    for (int64_t i_179648 = 0; i_179648 < n_109253; i_179648++) {
        int64_t x_163493 = ((int64_t *) ks_mem_179986.mem)[i_179648];
        bool defunc_0_lt_res_163498 = slt64(redout_179647, x_163493);
        bool defunc_0_eq_res_163500 = redout_179647 == x_163493;
        bool cond_f_res_t_res_163501 = slt64(redout_179646, i_179648);
        bool x_163502 = defunc_0_eq_res_163500 && cond_f_res_t_res_163501;
        bool x_177231 = !defunc_0_lt_res_163498;
        bool y_177232 = x_163502 && x_177231;
        bool cond_163499 = defunc_0_lt_res_163498 || y_177232;
        int64_t defunc_0_op_res_163503;
        
        if (cond_163499) {
            defunc_0_op_res_163503 = redout_179646;
        } else {
            defunc_0_op_res_163503 = i_179648;
        }
        
        int64_t defunc_0_op_res_163504;
        
        if (cond_163499) {
            defunc_0_op_res_163504 = redout_179647;
        } else {
            defunc_0_op_res_163504 = x_163493;
        }
        
        int64_t redout_tmp_181401 = defunc_0_op_res_163503;
        int64_t redout_tmp_181402 = defunc_0_op_res_163504;
        
        redout_179646 = redout_tmp_181401;
        redout_179647 = redout_tmp_181402;
    }
    defunc_0_reduce_comm_res_177498 = redout_179646;
    defunc_0_reduce_comm_res_177499 = redout_179647;
    prim_out_181400 = defunc_0_reduce_comm_res_177498;
    *out_prim_out_181662 = prim_out_181400;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_short(struct futhark_context *ctx, int64_t *out_prim_out_181663, struct memblock ks_mem_179986, int64_t n_108921)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_181400;
    int64_t defunc_0_reduce_comm_res_177498;
    int16_t defunc_0_reduce_comm_res_177499;
    int64_t redout_179646;
    int16_t redout_179647;
    
    redout_179646 = n_108921;
    redout_179647 = (int16_t) 32767;
    for (int64_t i_179648 = 0; i_179648 < n_108921; i_179648++) {
        int16_t x_163493 = ((int16_t *) ks_mem_179986.mem)[i_179648];
        bool defunc_0_lt_res_163498 = slt16(redout_179647, x_163493);
        bool defunc_0_eq_res_163500 = redout_179647 == x_163493;
        bool cond_f_res_t_res_163501 = slt64(redout_179646, i_179648);
        bool x_163502 = defunc_0_eq_res_163500 && cond_f_res_t_res_163501;
        bool x_177231 = !defunc_0_lt_res_163498;
        bool y_177232 = x_163502 && x_177231;
        bool cond_163499 = defunc_0_lt_res_163498 || y_177232;
        int64_t defunc_0_op_res_163503;
        
        if (cond_163499) {
            defunc_0_op_res_163503 = redout_179646;
        } else {
            defunc_0_op_res_163503 = i_179648;
        }
        
        int16_t defunc_0_op_res_163504;
        
        if (cond_163499) {
            defunc_0_op_res_163504 = redout_179647;
        } else {
            defunc_0_op_res_163504 = x_163493;
        }
        
        int64_t redout_tmp_181401 = defunc_0_op_res_163503;
        int16_t redout_tmp_181402 = defunc_0_op_res_163504;
        
        redout_179646 = redout_tmp_181401;
        redout_179647 = redout_tmp_181402;
    }
    defunc_0_reduce_comm_res_177498 = redout_179646;
    defunc_0_reduce_comm_res_177499 = redout_179647;
    prim_out_181400 = defunc_0_reduce_comm_res_177498;
    *out_prim_out_181663 = prim_out_181400;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_181664, struct memblock *mem_out_p_181665, struct memblock xs_mem_179986, int64_t n_107565, int64_t incr_107566)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_179992_cached_sizze_181666 = 0;
    unsigned char *mem_179992 = NULL;
    int64_t mem_179995_cached_sizze_181667 = 0;
    unsigned char *mem_179995 = NULL;
    int64_t mem_180005_cached_sizze_181668 = 0;
    unsigned char *mem_180005 = NULL;
    int64_t mem_180007_cached_sizze_181669 = 0;
    unsigned char *mem_180007 = NULL;
    int64_t mem_180074_cached_sizze_181670 = 0;
    unsigned char *mem_180074 = NULL;
    int64_t mem_180077_cached_sizze_181671 = 0;
    unsigned char *mem_180077 = NULL;
    int64_t mem_180087_cached_sizze_181672 = 0;
    unsigned char *mem_180087 = NULL;
    int64_t mem_180089_cached_sizze_181673 = 0;
    unsigned char *mem_180089 = NULL;
    int64_t mem_180104_cached_sizze_181674 = 0;
    unsigned char *mem_180104 = NULL;
    int64_t mem_180107_cached_sizze_181675 = 0;
    unsigned char *mem_180107 = NULL;
    struct memblock mem_180198;
    
    mem_180198.references = NULL;
    
    struct memblock mem_180196;
    
    mem_180196.references = NULL;
    
    struct memblock mem_param_tmp_181419;
    
    mem_param_tmp_181419.references = NULL;
    
    struct memblock mem_param_tmp_181418;
    
    mem_param_tmp_181418.references = NULL;
    
    struct memblock mem_180184;
    
    mem_180184.references = NULL;
    
    struct memblock mem_180180;
    
    mem_180180.references = NULL;
    
    struct memblock mem_180146;
    
    mem_180146.references = NULL;
    
    struct memblock mem_180142;
    
    mem_180142.references = NULL;
    
    struct memblock mem_180151;
    
    mem_180151.references = NULL;
    
    struct memblock mem_180149;
    
    mem_180149.references = NULL;
    
    struct memblock ext_mem_180166;
    
    ext_mem_180166.references = NULL;
    
    struct memblock ext_mem_180169;
    
    ext_mem_180169.references = NULL;
    
    struct memblock mem_param_180071;
    
    mem_param_180071.references = NULL;
    
    struct memblock mem_param_180068;
    
    mem_param_180068.references = NULL;
    
    struct memblock ext_mem_180190;
    
    ext_mem_180190.references = NULL;
    
    struct memblock ext_mem_180191;
    
    ext_mem_180191.references = NULL;
    
    struct memblock mem_180064;
    
    mem_180064.references = NULL;
    
    struct memblock mem_180060;
    
    mem_180060.references = NULL;
    
    struct memblock ext_mem_180194;
    
    ext_mem_180194.references = NULL;
    
    struct memblock mem_179989;
    
    mem_179989.references = NULL;
    
    struct memblock ext_mem_179987;
    
    ext_mem_179987.references = NULL;
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    int64_t bytes_179988 = (int64_t) 8 * n_107565;
    bool cond_170720 = sle64(n_107565, (int64_t) 1);
    int64_t zs_lhs_170721 = sub64(n_107565, (int64_t) 1);
    int64_t zp_rhs_170722 = sdiv_safe64(zs_lhs_170721, (int64_t) 20);
    int64_t min_num_blocks_170723 = add64((int64_t) 1, zp_rhs_170722);
    bool loop_cond_170724 = slt64((int64_t) 1, min_num_blocks_170723);
    bool smallest_pow_2_geq_than_res_170725;
    int64_t smallest_pow_2_geq_than_res_170726;
    bool loop_while_170727;
    int64_t x_170728;
    
    loop_while_170727 = loop_cond_170724;
    x_170728 = (int64_t) 1;
    while (loop_while_170727) {
        int64_t loopres_170729 = mul64((int64_t) 2, x_170728);
        bool loop_cond_170730 = slt64(loopres_170729, min_num_blocks_170723);
        bool loop_while_tmp_181402 = loop_cond_170730;
        int64_t x_tmp_181403 = loopres_170729;
        
        loop_while_170727 = loop_while_tmp_181402;
        x_170728 = x_tmp_181403;
    }
    smallest_pow_2_geq_than_res_170725 = loop_while_170727;
    smallest_pow_2_geq_than_res_170726 = x_170728;
    
    bool zzero_170731 = smallest_pow_2_geq_than_res_170726 == (int64_t) 0;
    bool nonzzero_170732 = !zzero_170731;
    bool protect_assert_disj_170733 = cond_170720 || nonzzero_170732;
    bool nonzzero_cert_170734;
    
    if (!protect_assert_disj_170733) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:187:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_170735 = sdiv_safe64(zs_lhs_170721, smallest_pow_2_geq_than_res_170726);
    int64_t block_sizze_170736 = add64((int64_t) 1, zp_rhs_170735);
    bool y_170741 = slt64((int64_t) 0, n_107565);
    bool protect_assert_disj_181099 = cond_170720 || y_170741;
    bool index_certs_170742;
    
    if (!protect_assert_disj_181099) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_107565, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:187:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_170755 = slt64(smallest_pow_2_geq_than_res_170726, (int64_t) 0);
    bool valid_170756 = !bounds_invalid_upwards_170755;
    bool protect_assert_disj_181107 = cond_170720 || valid_170756;
    bool range_valid_c_170757;
    
    if (!protect_assert_disj_181107) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_170726, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:187:54-57\n   #6  ftsort.fut:44:3-28\n   #7  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_170759 = slt64(block_sizze_170736, (int64_t) 0);
    bool valid_170760 = !bounds_invalid_upwards_170759;
    bool protect_assert_disj_181109 = cond_170720 || valid_170760;
    bool range_valid_c_170761;
    
    if (!protect_assert_disj_181109) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_170736, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:187:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_170763 = sle64(block_sizze_170736, (int64_t) 1);
    int64_t tmp_170764 = sub64(block_sizze_170736, (int64_t) 2);
    bool bounds_invalid_upwards_170765 = slt64(tmp_170764, (int64_t) 0);
    bool valid_170767 = !bounds_invalid_upwards_170765;
    bool protect_assert_disj_170768 = cond_170763 || valid_170767;
    bool protect_assert_disj_181111 = cond_170720 || protect_assert_disj_170768;
    bool range_valid_c_170769;
    
    if (!protect_assert_disj_181111) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_170764, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (futrts_indicesWithIncrement_9503(ctx, &ext_mem_179987, xs_mem_179986, n_107565, incr_107566) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_179989, bytes_179988, "mem_179989")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181404 = 0; i_181404 < n_107565; i_181404++) {
        int64_t x_181405 = (int64_t) 0 + i_181404 * (int64_t) 1;
        
        ((int64_t *) mem_179989.mem)[i_181404] = x_181405;
    }
    
    int64_t flat_dim_170737 = smallest_pow_2_geq_than_res_170726 * block_sizze_170736;
    bool x_181094 = !cond_170720;
    int64_t greatest_divisor_leq_than_arg1_170739 = mul64((int64_t) 2, block_sizze_170736);
    int64_t merge_block_sizze_170740;
    
    if (x_181094) {
        int64_t x_181096;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181096, (int64_t) 8, greatest_divisor_leq_than_arg1_170739) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_170740 = x_181096;
    } else {
        merge_block_sizze_170740 = (int64_t) 0;
    }
    
    double reduce_arg1_170743;
    
    if (x_181094) {
        double x_181100 = ((double *) xs_mem_179986.mem)[(int64_t) 0];
        
        reduce_arg1_170743 = x_181100;
    } else {
        reduce_arg1_170743 = 0.0;
    }
    
    double defunc_0_reduce_res_177645;
    int64_t defunc_0_reduce_res_177646;
    
    if (x_181094) {
        double x_181102;
        int64_t x_181103;
        double redout_179646;
        int64_t redout_179647;
        
        redout_179646 = reduce_arg1_170743;
        redout_179647 = (int64_t) 0;
        for (int64_t i_179648 = 0; i_179648 < n_107565; i_179648++) {
            double x_170746 = ((double *) xs_mem_179986.mem)[i_179648];
            bool zlze_res_170752 = redout_179646 <= x_170746;
            double defunc_0_op_res_170753;
            
            if (zlze_res_170752) {
                defunc_0_op_res_170753 = x_170746;
            } else {
                defunc_0_op_res_170753 = redout_179646;
            }
            
            int64_t defunc_0_op_res_170754;
            
            if (zlze_res_170752) {
                defunc_0_op_res_170754 = i_179648;
            } else {
                defunc_0_op_res_170754 = redout_179647;
            }
            
            double redout_tmp_181406 = defunc_0_op_res_170753;
            int64_t redout_tmp_181407 = defunc_0_op_res_170754;
            
            redout_179646 = redout_tmp_181406;
            redout_179647 = redout_tmp_181407;
        }
        x_181102 = redout_179646;
        x_181103 = redout_179647;
        defunc_0_reduce_res_177645 = x_181102;
        defunc_0_reduce_res_177646 = x_181103;
    } else {
        defunc_0_reduce_res_177645 = 0.0;
        defunc_0_reduce_res_177646 = (int64_t) 0;
    }
    
    int64_t distance_170766 = add64((int64_t) 1, tmp_170764);
    int64_t binop_x_179990 = (int64_t) 8 * smallest_pow_2_geq_than_res_170726;
    int64_t bytes_179991 = block_sizze_170736 * binop_x_179990;
    int64_t bytes_180004 = (int64_t) 8 * block_sizze_170736;
    bool loop_cond_170840 = slt64(block_sizze_170736, flat_dim_170737);
    bool zzero_170841 = merge_block_sizze_170740 == (int64_t) 0;
    bool nonzzero_170842 = !zzero_170841;
    
    if (cond_170720) {
        if (memblock_set(ctx, &ext_mem_180194, &mem_179989, "mem_179989") != 0)
            return 1;
    } else {
        if (mem_179992_cached_sizze_181666 < bytes_179991) {
            err = lexical_realloc(ctx, &mem_179992, &mem_179992_cached_sizze_181666, bytes_179991);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_179995_cached_sizze_181667 < bytes_179991) {
            err = lexical_realloc(ctx, &mem_179995, &mem_179995_cached_sizze_181667, bytes_179991);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180005_cached_sizze_181668 < bytes_180004) {
            err = lexical_realloc(ctx, &mem_180005, &mem_180005_cached_sizze_181668, bytes_180004);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180007_cached_sizze_181669 < bytes_180004) {
            err = lexical_realloc(ctx, &mem_180007, &mem_180007_cached_sizze_181669, bytes_180004);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_179660 = 0; i_179660 < smallest_pow_2_geq_than_res_170726; i_179660++) {
            int64_t zp_lhs_170773 = mul64(block_sizze_170736, i_179660);
            
            for (int64_t i_179653 = 0; i_179653 < block_sizze_170736; i_179653++) {
                int64_t k_170777 = add64(zp_lhs_170773, i_179653);
                bool cond_170778 = slt64(k_170777, n_107565);
                double lifted_lambda_res_170779;
                int64_t lifted_lambda_res_170780;
                
                if (cond_170778) {
                    bool x_177498 = sle64((int64_t) 0, k_170777);
                    bool bounds_check_177499 = cond_170778 && x_177498;
                    bool index_certs_177500;
                    
                    if (!bounds_check_177499) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_170777, "] out of bounds for array of shape [", (long long) n_107565, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:187:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    double lifted_lambda_res_t_res_177501 = ((double *) xs_mem_179986.mem)[k_170777];
                    
                    lifted_lambda_res_170779 = lifted_lambda_res_t_res_177501;
                    lifted_lambda_res_170780 = k_170777;
                } else {
                    lifted_lambda_res_170779 = defunc_0_reduce_res_177645;
                    lifted_lambda_res_170780 = defunc_0_reduce_res_177646;
                }
                ((double *) mem_180005)[i_179653] = lifted_lambda_res_170779;
                ((int64_t *) mem_180007)[i_179653] = lifted_lambda_res_170780;
            }
            if (!cond_170763) {
                for (int64_t i_170789 = 0; i_170789 < distance_170766; i_170789++) {
                    int64_t gt_arg1_170792 = add64((int64_t) 1, i_170789);
                    bool x_170793 = sle64((int64_t) 0, gt_arg1_170792);
                    bool y_170794 = slt64(gt_arg1_170792, block_sizze_170736);
                    bool bounds_check_170795 = x_170793 && y_170794;
                    bool index_certs_170796;
                    
                    if (!bounds_check_170795) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_170792, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_170798 = slt64(i_170789, block_sizze_170736);
                    bool index_certs_170799;
                    
                    if (!y_170798) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_170789, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    double gt_arg1_170797 = ((double *) mem_180005)[gt_arg1_170792];
                    double gt_arg0_170800 = ((double *) mem_180005)[i_170789];
                    bool zlze_res_170801 = gt_arg0_170800 <= gt_arg1_170797;
                    bool defunc_0_lifted_gt_res_170802 = !zlze_res_170801;
                    bool s_170803;
                    int64_t s_170806;
                    bool loop_while_170807;
                    int64_t j_170810;
                    
                    loop_while_170807 = defunc_0_lifted_gt_res_170802;
                    j_170810 = i_170789;
                    while (loop_while_170807) {
                        bool x_170811 = sle64((int64_t) 0, j_170810);
                        bool y_170812 = slt64(j_170810, block_sizze_170736);
                        bool bounds_check_170813 = x_170811 && y_170812;
                        bool index_certs_170814;
                        
                        if (!bounds_check_170813) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_170810, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_170817 = add64((int64_t) 1, j_170810);
                        bool x_170818 = sle64((int64_t) 0, copy_arg0_170817);
                        bool y_170819 = slt64(copy_arg0_170817, block_sizze_170736);
                        bool bounds_check_170820 = x_170818 && y_170819;
                        bool index_certs_170821;
                        
                        if (!bounds_check_170820) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_170817, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        double copy_arg0_170815 = ((double *) mem_180005)[j_170810];
                        int64_t copy_arg0_170816 = ((int64_t *) mem_180007)[j_170810];
                        double copy_arg0_170822 = ((double *) mem_180005)[copy_arg0_170817];
                        int64_t copy_arg0_170823 = ((int64_t *) mem_180007)[copy_arg0_170817];
                        
                        ((double *) mem_180005)[j_170810] = copy_arg0_170822;
                        ((int64_t *) mem_180007)[j_170810] = copy_arg0_170823;
                        ((double *) mem_180005)[copy_arg0_170817] = copy_arg0_170815;
                        ((int64_t *) mem_180007)[copy_arg0_170817] = copy_arg0_170816;
                        
                        int64_t tmp_170828 = sub64(j_170810, (int64_t) 1);
                        bool cond_170829 = sle64((int64_t) 0, tmp_170828);
                        bool loop_cond_170830;
                        
                        if (cond_170829) {
                            bool y_177503 = slt64(tmp_170828, block_sizze_170736);
                            bool bounds_check_177504 = cond_170829 && y_177503;
                            bool index_certs_177505;
                            
                            if (!bounds_check_177504) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_170828, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            double gt_arg1_177502 = ((double *) mem_180005)[j_170810];
                            double gt_arg0_177506 = ((double *) mem_180005)[tmp_170828];
                            bool zlze_res_177507 = gt_arg0_177506 <= gt_arg1_177502;
                            bool defunc_0_lifted_gt_res_177508 = !zlze_res_177507;
                            
                            loop_cond_170830 = defunc_0_lifted_gt_res_177508;
                        } else {
                            loop_cond_170830 = 0;
                        }
                        
                        bool loop_while_tmp_181414 = loop_cond_170830;
                        int64_t j_tmp_181417 = tmp_170828;
                        
                        loop_while_170807 = loop_while_tmp_181414;
                        j_170810 = j_tmp_181417;
                    }
                    s_170803 = loop_while_170807;
                    s_170806 = j_170810;
                }
            }
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_179992, i_179660 * block_sizze_170736, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180005, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_170736});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_179995, i_179660 * block_sizze_170736, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180007, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_170736});
        }
        if (memblock_alloc(ctx, &mem_180060, bytes_179991, "mem_180060")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180060.mem, (int64_t) 0, (int64_t []) {block_sizze_170736, (int64_t) 1}, (uint64_t *) mem_179992, (int64_t) 0, (int64_t []) {block_sizze_170736, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_170726, block_sizze_170736});
        if (memblock_alloc(ctx, &mem_180064, bytes_179991, "mem_180064")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180064.mem, (int64_t) 0, (int64_t []) {block_sizze_170736, (int64_t) 1}, (uint64_t *) mem_179995, (int64_t) 0, (int64_t []) {block_sizze_170736, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_170726, block_sizze_170736});
        
        int64_t data_170843;
        bool data_170844;
        int64_t data_170847;
        int64_t loop_dz2084Uz2082U_170848;
        bool loop_while_170849;
        int64_t stride_170852;
        
        if (memblock_set(ctx, &mem_param_180068, &mem_180060, "mem_180060") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180071, &mem_180064, "mem_180064") != 0)
            return 1;
        loop_dz2084Uz2082U_170848 = flat_dim_170737;
        loop_while_170849 = loop_cond_170840;
        stride_170852 = block_sizze_170736;
        while (loop_while_170849) {
            int64_t next_stride_170853 = mul64((int64_t) 2, stride_170852);
            bool zzero_170854 = next_stride_170853 == (int64_t) 0;
            bool nonzzero_170855 = !zzero_170854;
            bool nonzzero_cert_170856;
            
            if (!nonzzero_170855) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:187:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_170857 = sdiv64(flat_dim_170737, next_stride_170853);
            bool bounds_invalid_upwards_170858 = slt64(num_merges_170857, (int64_t) 0);
            bool valid_170859 = !bounds_invalid_upwards_170858;
            bool range_valid_c_170860;
            
            if (!valid_170859) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_170857, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:187:54-57\n   #6  ftsort.fut:44:3-28\n   #7  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_170862 = sub64(next_stride_170853, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_170863 = sle64((int64_t) 0, m_170862);
            bool cond_170865 = slt64(next_stride_170853, (int64_t) 10);
            bool protect_assert_disj_170866 = nonzzero_170842 || cond_170865;
            bool nonzzero_cert_170867;
            
            if (!protect_assert_disj_170866) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_170868 = smod_safe64(next_stride_170853, merge_block_sizze_170740);
            bool num_blocks_170869 = zeze_lhs_170868 == (int64_t) 0;
            bool protect_assert_disj_170870 = cond_170865 || num_blocks_170869;
            bool assert_c_170871;
            
            if (!protect_assert_disj_170870) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_170873 = sdiv_safe64(next_stride_170853, merge_block_sizze_170740);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874 = add64((int64_t) 1, num_blocks_170873);
            int64_t j_m_i_170875 = sub64(next_stride_170853, stride_170852);
            int64_t flat_dim_170876 = merge_block_sizze_170740 * num_blocks_170873;
            bool bounds_invalid_upwards_170877 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874, (int64_t) 0);
            bool zzero_lte_i_170878 = sle64((int64_t) 0, stride_170852);
            bool i_lte_j_170879 = sle64(stride_170852, next_stride_170853);
            bool empty_slice_170880 = stride_170852 == (int64_t) 0;
            int64_t m_170881 = sub64(stride_170852, (int64_t) 1);
            bool bounds_invalid_upwards_170882 = slt64(num_blocks_170873, (int64_t) 0);
            bool empty_slice_170883 = j_m_i_170875 == (int64_t) 0;
            int64_t m_170884 = sub64(j_m_i_170875, (int64_t) 1);
            bool cond_170885 = slt64((int64_t) 0, stride_170852);
            bool valid_170886 = !bounds_invalid_upwards_170877;
            bool zzero_leq_i_p_m_t_s_170887 = sle64((int64_t) 0, m_170881);
            bool i_p_m_t_s_leq_w_170888 = slt64(m_170881, next_stride_170853);
            bool valid_170889 = !bounds_invalid_upwards_170882;
            bool i_p_m_t_s_leq_w_170890 = slt64(m_170862, flat_dim_170876);
            int64_t i_p_m_t_s_170891 = add64(stride_170852, m_170884);
            bool y_170892 = slt64((int64_t) 0, j_m_i_170875);
            bool protect_assert_disj_170893 = cond_170865 || valid_170886;
            bool range_valid_c_170894;
            
            if (!protect_assert_disj_170893) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:187:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_170895 = zzero_leq_i_p_m_t_s_170887 && i_p_m_t_s_leq_w_170888;
            bool protect_assert_disj_170896 = cond_170865 || valid_170889;
            bool range_valid_c_170897;
            
            if (!protect_assert_disj_170896) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_170873, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:187:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_170898 = zzero_leq_i_p_m_t_s_170863 && i_p_m_t_s_leq_w_170890;
            bool zzero_leq_i_p_m_t_s_170899 = sle64((int64_t) 0, i_p_m_t_s_170891);
            bool i_p_m_t_s_leq_w_170900 = slt64(i_p_m_t_s_170891, next_stride_170853);
            bool forwards_ok_170901 = zzero_lte_i_170878 && y_170895;
            bool ok_or_empty_170902 = zzero_170854 || y_170898;
            bool y_170903 = zzero_lte_i_170878 && i_p_m_t_s_leq_w_170900;
            bool protect_assert_disj_170904 = cond_170885 || y_170892;
            bool ok_or_empty_170905 = empty_slice_170880 || forwards_ok_170901;
            bool protect_assert_disj_170906 = cond_170865 || ok_or_empty_170902;
            bool index_certs_170907;
            
            if (!protect_assert_disj_170906) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_170853, "] out of bounds for array of shape [", (long long) flat_dim_170876, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:187:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_170908 = zzero_leq_i_p_m_t_s_170899 && y_170903;
            bool loop_not_taken_170909 = !cond_170865;
            bool protect_assert_disj_170910 = protect_assert_disj_170904 || loop_not_taken_170909;
            bool index_certs_170911;
            
            if (!protect_assert_disj_170910) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:187:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_170912 = cond_170865 || ok_or_empty_170905;
            bool index_certs_170913;
            
            if (!protect_assert_disj_170912) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_170852, "] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:187:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_170914 = i_lte_j_170879 && y_170908;
            bool protect_assert_disj_170915 = ok_or_empty_170905 || loop_not_taken_170909;
            bool index_certs_170916;
            
            if (!protect_assert_disj_170915) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_170852, "] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_170917 = empty_slice_170883 || forwards_ok_170914;
            bool protect_assert_disj_170918 = loop_not_taken_170909 || ok_or_empty_170917;
            bool index_certs_170919;
            
            if (!protect_assert_disj_170918) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_170852, ":] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_170920 = cond_170865 || ok_or_empty_170917;
            bool index_certs_170921;
            
            if (!protect_assert_disj_170920) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_170852, ":] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:187:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_180072 = (int64_t) 8 * num_merges_170857;
            int64_t bytes_180073 = next_stride_170853 * binop_x_180072;
            bool i_lte_j_170864 = sle64((int64_t) 0, next_stride_170853);
            
            if (mem_180074_cached_sizze_181670 < bytes_180073) {
                err = lexical_realloc(ctx, &mem_180074, &mem_180074_cached_sizze_181670, bytes_180073);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180077_cached_sizze_181671 < bytes_180073) {
                err = lexical_realloc(ctx, &mem_180077, &mem_180077_cached_sizze_181671, bytes_180073);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_180086 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874;
            int64_t binop_x_180102 = (int64_t) 8 * num_blocks_170873;
            int64_t bytes_180103 = merge_block_sizze_170740 * binop_x_180102;
            int64_t bytes_180148 = (int64_t) 16 * stride_170852;
            
            for (int64_t i_179681 = 0; i_179681 < num_merges_170857; i_179681++) {
                int64_t start_170925 = mul64(next_stride_170853, i_179681);
                int64_t j_m_i_170926 = sub64(loop_dz2084Uz2082U_170848, start_170925);
                bool empty_slice_170927 = j_m_i_170926 == (int64_t) 0;
                int64_t m_170928 = sub64(j_m_i_170926, (int64_t) 1);
                int64_t i_p_m_t_s_170929 = add64(start_170925, m_170928);
                bool zzero_leq_i_p_m_t_s_170930 = sle64((int64_t) 0, i_p_m_t_s_170929);
                bool i_p_m_t_s_leq_w_170931 = slt64(i_p_m_t_s_170929, loop_dz2084Uz2082U_170848);
                bool zzero_lte_i_170932 = sle64((int64_t) 0, start_170925);
                bool i_lte_j_170933 = sle64(start_170925, loop_dz2084Uz2082U_170848);
                bool y_170934 = i_p_m_t_s_leq_w_170931 && zzero_lte_i_170932;
                bool y_170935 = zzero_leq_i_p_m_t_s_170930 && y_170934;
                bool forwards_ok_170936 = i_lte_j_170933 && y_170935;
                bool ok_or_empty_170937 = empty_slice_170927 || forwards_ok_170936;
                bool index_certs_170938;
                
                if (!ok_or_empty_170937) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_170925, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_170848, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_170939 = slt64(m_170862, j_m_i_170926);
                bool y_170940 = zzero_leq_i_p_m_t_s_170863 && i_p_m_t_s_leq_w_170939;
                bool forwards_ok_170941 = i_lte_j_170864 && y_170940;
                bool ok_or_empty_170942 = zzero_170854 || forwards_ok_170941;
                bool index_certs_170943;
                
                if (!ok_or_empty_170942) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_170853, "] out of bounds for array of shape [", (long long) j_m_i_170926, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_170865) {
                    double dummy_177534;
                    int64_t dummy_177535;
                    
                    if (cond_170885) {
                        double head_res_177536 = ((double *) mem_param_180068.mem)[start_170925];
                        int64_t head_res_177537 = ((int64_t *) mem_param_180071.mem)[start_170925];
                        
                        dummy_177534 = head_res_177536;
                        dummy_177535 = head_res_177537;
                    } else {
                        int64_t slice_177538 = stride_170852 + start_170925;
                        double head_res_177539 = ((double *) mem_param_180068.mem)[slice_177538];
                        int64_t head_res_177540 = ((int64_t *) mem_param_180071.mem)[slice_177538];
                        
                        dummy_177534 = head_res_177539;
                        dummy_177535 = head_res_177540;
                    }
                    if (memblock_alloc(ctx, &mem_180149, bytes_180148, "mem_180149")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181427 = 0; nest_i_181427 < next_stride_170853; nest_i_181427++) {
                        ((double *) mem_180149.mem)[nest_i_181427] = dummy_177534;
                    }
                    if (memblock_alloc(ctx, &mem_180151, bytes_180148, "mem_180151")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181428 = 0; nest_i_181428 < next_stride_170853; nest_i_181428++) {
                        ((int64_t *) mem_180151.mem)[nest_i_181428] = dummy_177535;
                    }
                    
                    int64_t data_177543;
                    int64_t i_177547 = (int64_t) 0;
                    
                    for (int64_t k_177546 = 0; k_177546 < next_stride_170853; k_177546++) {
                        int64_t j_177550 = sub64(k_177546, i_177547);
                        bool cond_177551 = j_177550 == j_m_i_170875;
                        bool cond_177552;
                        
                        if (cond_177551) {
                            cond_177552 = 1;
                        } else {
                            bool cond_177553 = slt64(i_177547, stride_170852);
                            bool cond_f_res_177554;
                            
                            if (cond_177553) {
                                bool x_177555 = sle64((int64_t) 0, j_177550);
                                bool y_177556 = slt64(j_177550, j_m_i_170875);
                                bool bounds_check_177557 = x_177555 && y_177556;
                                bool index_certs_177558;
                                
                                if (!bounds_check_177557) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177550, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:187:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_177562 = sle64((int64_t) 0, i_177547);
                                bool bounds_check_177563 = cond_177553 && x_177562;
                                bool index_certs_177564;
                                
                                if (!bounds_check_177563) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177547, "] out of bounds for array of shape [", (long long) stride_170852, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:187:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177559 = stride_170852 + j_177550;
                                int64_t slice_177560 = start_170925 + slice_177559;
                                double leq_arg1_177561 = ((double *) mem_param_180068.mem)[slice_177560];
                                int64_t slice_177565 = start_170925 + i_177547;
                                double leq_arg0_177566 = ((double *) mem_param_180068.mem)[slice_177565];
                                bool zlze_res_177567 = leq_arg0_177566 <= leq_arg1_177561;
                                
                                cond_f_res_177554 = zlze_res_177567;
                            } else {
                                cond_f_res_177554 = 0;
                            }
                            cond_177552 = cond_f_res_177554;
                        }
                        
                        int64_t loopres_177568;
                        double loopres_177569;
                        int64_t loopres_177570;
                        
                        if (cond_177552) {
                            bool x_177572 = sle64((int64_t) 0, i_177547);
                            bool y_177573 = slt64(i_177547, stride_170852);
                            bool bounds_check_177574 = x_177572 && y_177573;
                            bool index_certs_177575;
                            
                            if (!bounds_check_177574) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177547, "] out of bounds for array of shape [", (long long) stride_170852, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:187:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_177571 = add64((int64_t) 1, i_177547);
                            int64_t slice_177576 = start_170925 + i_177547;
                            double tmp_177577 = ((double *) mem_param_180068.mem)[slice_177576];
                            int64_t tmp_177578 = ((int64_t *) mem_param_180071.mem)[slice_177576];
                            
                            loopres_177568 = tmp_177571;
                            loopres_177569 = tmp_177577;
                            loopres_177570 = tmp_177578;
                        } else {
                            bool x_177579 = sle64((int64_t) 0, j_177550);
                            bool y_177580 = slt64(j_177550, j_m_i_170875);
                            bool bounds_check_177581 = x_177579 && y_177580;
                            bool index_certs_177582;
                            
                            if (!bounds_check_177581) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177550, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:187:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177583 = stride_170852 + j_177550;
                            int64_t slice_177584 = start_170925 + slice_177583;
                            double tmp_177585 = ((double *) mem_param_180068.mem)[slice_177584];
                            int64_t tmp_177586 = ((int64_t *) mem_param_180071.mem)[slice_177584];
                            
                            loopres_177568 = i_177547;
                            loopres_177569 = tmp_177585;
                            loopres_177570 = tmp_177586;
                        }
                        ((double *) mem_180149.mem)[k_177546] = loopres_177569;
                        ((int64_t *) mem_180151.mem)[k_177546] = loopres_177570;
                        
                        int64_t i_tmp_181429 = loopres_177568;
                        
                        i_177547 = i_tmp_181429;
                    }
                    data_177543 = i_177547;
                    if (memblock_set(ctx, &ext_mem_180169, &mem_180149, "mem_180149") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180166, &mem_180151, "mem_180151") != 0)
                        return 1;
                } else {
                    if (mem_180087_cached_sizze_181672 < bytes_180086) {
                        err = lexical_realloc(ctx, &mem_180087, &mem_180087_cached_sizze_181672, bytes_180086);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180089_cached_sizze_181673 < bytes_180086) {
                        err = lexical_realloc(ctx, &mem_180089, &mem_180089_cached_sizze_181673, bytes_180086);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179667 = 0; i_179667 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874; i_179667++) {
                        int64_t split_count_arg3_171005 = mul64(merge_block_sizze_170740, i_179667);
                        int64_t defunc_0_split_count_res_171006;
                        int64_t defunc_0_split_count_res_171007;
                        int64_t defunc_0_split_count_res_171008;
                        int64_t defunc_0_split_count_res_171009;
                        int64_t defunc_0_split_count_res_171010;
                        
                        if (futrts_lifted_normalizze_8970(ctx, &defunc_0_split_count_res_171006, &defunc_0_split_count_res_171007, &defunc_0_split_count_res_171008, &defunc_0_split_count_res_171009, &defunc_0_split_count_res_171010, (int64_t) 0, stride_170852, (int64_t) 0, j_m_i_170875, split_count_arg3_171005) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_171011 = slt64((int64_t) 0, defunc_0_split_count_res_171010);
                        bool defunc_0_split_count_res_171012;
                        int64_t defunc_0_split_count_res_171013;
                        int64_t defunc_0_split_count_res_171014;
                        int64_t defunc_0_split_count_res_171015;
                        int64_t defunc_0_split_count_res_171016;
                        int64_t defunc_0_split_count_res_171017;
                        bool loop_while_171018;
                        int64_t ss_171019;
                        int64_t ss_171020;
                        int64_t tt_171021;
                        int64_t tt_171022;
                        int64_t count_171023;
                        
                        loop_while_171018 = loop_cond_171011;
                        ss_171019 = defunc_0_split_count_res_171006;
                        ss_171020 = defunc_0_split_count_res_171007;
                        tt_171021 = defunc_0_split_count_res_171008;
                        tt_171022 = defunc_0_split_count_res_171009;
                        count_171023 = defunc_0_split_count_res_171010;
                        while (loop_while_171018) {
                            int64_t zlze_lhs_171024 = sub64(ss_171020, ss_171019);
                            bool cond_171025 = sle64(zlze_lhs_171024, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_171026;
                            int64_t defunc_0_lifted_step_res_171027;
                            int64_t defunc_0_lifted_step_res_171028;
                            int64_t defunc_0_lifted_step_res_171029;
                            
                            if (cond_171025) {
                                int64_t tmp_177589 = add64(tt_171021, count_171023);
                                
                                defunc_0_lifted_step_res_171026 = ss_171019;
                                defunc_0_lifted_step_res_171027 = tmp_177589;
                                defunc_0_lifted_step_res_171028 = tt_171022;
                                defunc_0_lifted_step_res_171029 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_171031 = sub64(tt_171022, tt_171021);
                                bool cond_171032 = sle64(zlze_lhs_171031, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_171033;
                                int64_t defunc_0_lifted_step_res_f_res_171034;
                                int64_t defunc_0_lifted_step_res_f_res_171035;
                                int64_t defunc_0_lifted_step_res_f_res_171036;
                                
                                if (cond_171032) {
                                    int64_t tmp_177590 = add64(ss_171019, count_171023);
                                    
                                    defunc_0_lifted_step_res_f_res_171033 = tmp_177590;
                                    defunc_0_lifted_step_res_f_res_171034 = tt_171021;
                                    defunc_0_lifted_step_res_f_res_171035 = tt_171022;
                                    defunc_0_lifted_step_res_f_res_171036 = (int64_t) 0;
                                } else {
                                    bool cond_171038 = count_171023 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171039;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171040;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171041;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171042;
                                    
                                    if (cond_171038) {
                                        bool x_177592 = sle64((int64_t) 0, ss_171019);
                                        bool y_177593 = slt64(ss_171019, stride_170852);
                                        bool bounds_check_177594 = x_177592 && y_177593;
                                        bool index_certs_177595;
                                        
                                        if (!bounds_check_177594) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_171019, "] out of bounds for array of shape [", (long long) stride_170852, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:187:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_177598 = sle64((int64_t) 0, tt_171021);
                                        bool y_177599 = slt64(tt_171021, j_m_i_170875);
                                        bool bounds_check_177600 = x_177598 && y_177599;
                                        bool index_certs_177601;
                                        
                                        if (!bounds_check_177600) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_171021, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:187:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177596 = start_170925 + ss_171019;
                                        double leq_arg1_177597 = ((double *) mem_param_180068.mem)[slice_177596];
                                        int64_t slice_177602 = stride_170852 + tt_171021;
                                        int64_t slice_177603 = start_170925 + slice_177602;
                                        double leq_arg0_177604 = ((double *) mem_param_180068.mem)[slice_177603];
                                        bool zlze_res_177605 = leq_arg0_177604 <= leq_arg1_177597;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_177606;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_177607;
                                        
                                        if (zlze_res_177605) {
                                            int64_t tmp_177608 = add64((int64_t) 1, tt_171021);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177606 = ss_171019;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177607 = tmp_177608;
                                        } else {
                                            int64_t tmp_177609 = add64((int64_t) 1, ss_171019);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177606 = tmp_177609;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177607 = tt_171021;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171039 = defunc_0_lifted_step_res_f_res_f_res_t_res_177606;
                                        defunc_0_lifted_step_res_f_res_f_res_171040 = defunc_0_lifted_step_res_f_res_f_res_t_res_177607;
                                        defunc_0_lifted_step_res_f_res_f_res_171041 = tt_171022;
                                        defunc_0_lifted_step_res_f_res_f_res_171042 = (int64_t) 0;
                                    } else {
                                        int64_t m_171061 = sdiv64(count_171023, (int64_t) 2);
                                        int64_t n_171062 = sub64(count_171023, m_171061);
                                        bool cond_171063 = n_171062 == (int64_t) 0;
                                        int64_t zgze_lhs_171064 = add64(ss_171019, m_171061);
                                        bool cond_f_res_171065 = sle64(ss_171020, zgze_lhs_171064);
                                        bool x_171066 = !cond_171063;
                                        bool y_171067 = cond_f_res_171065 && x_171066;
                                        bool cond_171068 = cond_171063 || y_171067;
                                        bool leq_y_x_171069;
                                        
                                        if (cond_171068) {
                                            leq_y_x_171069 = 1;
                                        } else {
                                            bool x_171070 = sle64((int64_t) 0, zgze_lhs_171064);
                                            bool y_171071 = slt64(zgze_lhs_171064, stride_170852);
                                            bool bounds_check_171072 = x_171070 && y_171071;
                                            bool index_certs_171073;
                                            
                                            if (!bounds_check_171072) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_171064, "] out of bounds for array of shape [", (long long) stride_170852, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:187:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_171076 = add64(tt_171021, n_171062);
                                            int64_t leq_arg0_171077 = sub64(zm_lhs_171076, (int64_t) 1);
                                            bool x_171078 = sle64((int64_t) 0, leq_arg0_171077);
                                            bool y_171079 = slt64(leq_arg0_171077, j_m_i_170875);
                                            bool bounds_check_171080 = x_171078 && y_171079;
                                            bool index_certs_171081;
                                            
                                            if (!bounds_check_171080) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_171077, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:187:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_171074 = start_170925 + zgze_lhs_171064;
                                            double leq_arg1_171075 = ((double *) mem_param_180068.mem)[slice_171074];
                                            int64_t slice_171082 = stride_170852 + leq_arg0_171077;
                                            int64_t slice_171083 = start_170925 + slice_171082;
                                            double leq_arg0_171084 = ((double *) mem_param_180068.mem)[slice_171083];
                                            bool zlze_res_171085 = leq_arg0_171084 <= leq_arg1_171075;
                                            
                                            leq_y_x_171069 = zlze_res_171085;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171086;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171087;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171088;
                                        
                                        if (leq_y_x_171069) {
                                            int64_t tmp_177610 = add64(tt_171021, n_171062);
                                            int64_t tmp_177611 = sub64(count_171023, n_171062);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171086 = tmp_177610;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171087 = tt_171022;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171088 = tmp_177611;
                                        } else {
                                            int64_t tmp_171091 = add64(tt_171021, n_171062);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171086 = tt_171021;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171087 = tmp_171091;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171088 = count_171023;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171039 = ss_171019;
                                        defunc_0_lifted_step_res_f_res_f_res_171040 = defunc_0_lifted_step_res_f_res_f_res_f_res_171086;
                                        defunc_0_lifted_step_res_f_res_f_res_171041 = defunc_0_lifted_step_res_f_res_f_res_f_res_171087;
                                        defunc_0_lifted_step_res_f_res_f_res_171042 = defunc_0_lifted_step_res_f_res_f_res_f_res_171088;
                                    }
                                    defunc_0_lifted_step_res_f_res_171033 = defunc_0_lifted_step_res_f_res_f_res_171039;
                                    defunc_0_lifted_step_res_f_res_171034 = defunc_0_lifted_step_res_f_res_f_res_171040;
                                    defunc_0_lifted_step_res_f_res_171035 = defunc_0_lifted_step_res_f_res_f_res_171041;
                                    defunc_0_lifted_step_res_f_res_171036 = defunc_0_lifted_step_res_f_res_f_res_171042;
                                }
                                defunc_0_lifted_step_res_171026 = defunc_0_lifted_step_res_f_res_171033;
                                defunc_0_lifted_step_res_171027 = defunc_0_lifted_step_res_f_res_171034;
                                defunc_0_lifted_step_res_171028 = defunc_0_lifted_step_res_f_res_171035;
                                defunc_0_lifted_step_res_171029 = defunc_0_lifted_step_res_f_res_171036;
                            }
                            
                            int64_t loopres_171092;
                            int64_t loopres_171093;
                            int64_t loopres_171094;
                            int64_t loopres_171095;
                            int64_t loopres_171096;
                            
                            if (futrts_lifted_normalizze_8970(ctx, &loopres_171092, &loopres_171093, &loopres_171094, &loopres_171095, &loopres_171096, defunc_0_lifted_step_res_171026, ss_171020, defunc_0_lifted_step_res_171027, defunc_0_lifted_step_res_171028, defunc_0_lifted_step_res_171029) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_171097 = slt64((int64_t) 0, loopres_171096);
                            bool loop_while_tmp_181434 = loop_cond_171097;
                            int64_t ss_tmp_181435 = loopres_171092;
                            int64_t ss_tmp_181436 = loopres_171093;
                            int64_t tt_tmp_181437 = loopres_171094;
                            int64_t tt_tmp_181438 = loopres_171095;
                            int64_t count_tmp_181439 = loopres_171096;
                            
                            loop_while_171018 = loop_while_tmp_181434;
                            ss_171019 = ss_tmp_181435;
                            ss_171020 = ss_tmp_181436;
                            tt_171021 = tt_tmp_181437;
                            tt_171022 = tt_tmp_181438;
                            count_171023 = count_tmp_181439;
                        }
                        defunc_0_split_count_res_171012 = loop_while_171018;
                        defunc_0_split_count_res_171013 = ss_171019;
                        defunc_0_split_count_res_171014 = ss_171020;
                        defunc_0_split_count_res_171015 = tt_171021;
                        defunc_0_split_count_res_171016 = tt_171022;
                        defunc_0_split_count_res_171017 = count_171023;
                        ((int64_t *) mem_180087)[i_179667] = defunc_0_split_count_res_171013;
                        ((int64_t *) mem_180089)[i_179667] = defunc_0_split_count_res_171015;
                    }
                    if (mem_180104_cached_sizze_181674 < bytes_180103) {
                        err = lexical_realloc(ctx, &mem_180104, &mem_180104_cached_sizze_181674, bytes_180103);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180107_cached_sizze_181675 < bytes_180103) {
                        err = lexical_realloc(ctx, &mem_180107, &mem_180107_cached_sizze_181675, bytes_180103);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179674 = 0; i_179674 < num_blocks_170873; i_179674++) {
                        bool y_171103 = slt64(i_179674, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874);
                        bool index_certs_171105;
                        
                        if (!y_171103) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179674, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:187:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171106 = ((int64_t *) mem_180087)[i_179674];
                        int64_t defunc_0_f_res_171107 = ((int64_t *) mem_180089)[i_179674];
                        int64_t tmp_171108 = add64((int64_t) 1, i_179674);
                        bool x_171109 = sle64((int64_t) 0, tmp_171108);
                        bool y_171110 = slt64(tmp_171108, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874);
                        bool bounds_check_171111 = x_171109 && y_171110;
                        bool index_certs_171112;
                        
                        if (!bounds_check_171111) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171108, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:187:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171113 = ((int64_t *) mem_180087)[tmp_171108];
                        int64_t defunc_0_f_res_171114 = ((int64_t *) mem_180089)[tmp_171108];
                        int64_t merge_sequential_arg2_171115 = add64(stride_170852, defunc_0_f_res_171107);
                        int64_t merge_sequential_arg2_171116 = add64(stride_170852, defunc_0_f_res_171114);
                        int64_t j_m_i_171117 = sub64(merge_sequential_arg2_171116, merge_sequential_arg2_171115);
                        bool empty_slice_171118 = j_m_i_171117 == (int64_t) 0;
                        int64_t m_171119 = sub64(j_m_i_171117, (int64_t) 1);
                        int64_t i_p_m_t_s_171120 = add64(merge_sequential_arg2_171115, m_171119);
                        bool zzero_leq_i_p_m_t_s_171121 = sle64((int64_t) 0, i_p_m_t_s_171120);
                        bool i_p_m_t_s_leq_w_171122 = slt64(i_p_m_t_s_171120, next_stride_170853);
                        bool zzero_lte_i_171123 = sle64((int64_t) 0, merge_sequential_arg2_171115);
                        bool i_lte_j_171124 = sle64(merge_sequential_arg2_171115, merge_sequential_arg2_171116);
                        bool y_171125 = i_p_m_t_s_leq_w_171122 && zzero_lte_i_171123;
                        bool y_171126 = zzero_leq_i_p_m_t_s_171121 && y_171125;
                        bool forwards_ok_171127 = i_lte_j_171124 && y_171126;
                        bool ok_or_empty_171128 = empty_slice_171118 || forwards_ok_171127;
                        bool index_certs_171129;
                        
                        if (!ok_or_empty_171128) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_171115, ":", (long long) merge_sequential_arg2_171116, "] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:187:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_171130 = sub64(defunc_0_f_res_171113, defunc_0_f_res_171106);
                        bool empty_slice_171131 = j_m_i_171130 == (int64_t) 0;
                        int64_t m_171132 = sub64(j_m_i_171130, (int64_t) 1);
                        int64_t i_p_m_t_s_171133 = add64(defunc_0_f_res_171106, m_171132);
                        bool zzero_leq_i_p_m_t_s_171134 = sle64((int64_t) 0, i_p_m_t_s_171133);
                        bool i_p_m_t_s_leq_w_171135 = slt64(i_p_m_t_s_171133, next_stride_170853);
                        bool zzero_lte_i_171136 = sle64((int64_t) 0, defunc_0_f_res_171106);
                        bool i_lte_j_171137 = sle64(defunc_0_f_res_171106, defunc_0_f_res_171113);
                        bool y_171138 = i_p_m_t_s_leq_w_171135 && zzero_lte_i_171136;
                        bool y_171139 = zzero_leq_i_p_m_t_s_171134 && y_171138;
                        bool forwards_ok_171140 = i_lte_j_171137 && y_171139;
                        bool ok_or_empty_171141 = empty_slice_171131 || forwards_ok_171140;
                        bool index_certs_171142;
                        
                        if (!ok_or_empty_171141) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_171106, ":", (long long) defunc_0_f_res_171113, "] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:187:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_171143 = slt64((int64_t) 0, j_m_i_171130);
                        double dummy_171144;
                        int64_t dummy_171145;
                        
                        if (cond_171143) {
                            bool index_certs_177612;
                            
                            if (!cond_171143) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171130, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:187:54-57\n   #12 ftsort.fut:44:3-28\n   #13 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177613 = start_170925 + defunc_0_f_res_171106;
                            double head_res_177614 = ((double *) mem_param_180068.mem)[slice_177613];
                            int64_t head_res_177615 = ((int64_t *) mem_param_180071.mem)[slice_177613];
                            
                            dummy_171144 = head_res_177614;
                            dummy_171145 = head_res_177615;
                        } else {
                            bool y_171150 = slt64((int64_t) 0, j_m_i_171117);
                            bool index_certs_171151;
                            
                            if (!y_171150) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171117, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:187:54-57\n   #12 ftsort.fut:44:3-28\n   #13 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_171152 = start_170925 + merge_sequential_arg2_171115;
                            double head_res_171153 = ((double *) mem_param_180068.mem)[slice_171152];
                            int64_t head_res_171154 = ((int64_t *) mem_param_180071.mem)[slice_171152];
                            
                            dummy_171144 = head_res_171153;
                            dummy_171145 = head_res_171154;
                        }
                        for (int64_t nest_i_181442 = 0; nest_i_181442 < merge_block_sizze_170740; nest_i_181442++) {
                            ((double *) mem_180104)[i_179674 * merge_block_sizze_170740 + nest_i_181442] = dummy_171144;
                        }
                        for (int64_t nest_i_181443 = 0; nest_i_181443 < merge_block_sizze_170740; nest_i_181443++) {
                            ((int64_t *) mem_180107)[i_179674 * merge_block_sizze_170740 + nest_i_181443] = dummy_171145;
                        }
                        
                        int64_t data_171157;
                        int64_t i_171161 = (int64_t) 0;
                        
                        for (int64_t k_171160 = 0; k_171160 < merge_block_sizze_170740; k_171160++) {
                            int64_t j_171164 = sub64(k_171160, i_171161);
                            bool cond_171165 = j_171164 == j_m_i_171117;
                            bool cond_171166;
                            
                            if (cond_171165) {
                                cond_171166 = 1;
                            } else {
                                bool cond_171167 = slt64(i_171161, j_m_i_171130);
                                bool cond_f_res_171168;
                                
                                if (cond_171167) {
                                    bool x_177616 = sle64((int64_t) 0, j_171164);
                                    bool y_177617 = slt64(j_171164, j_m_i_171117);
                                    bool bounds_check_177618 = x_177616 && y_177617;
                                    bool index_certs_177619;
                                    
                                    if (!bounds_check_177618) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171164, "] out of bounds for array of shape [", (long long) j_m_i_171117, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:187:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_177623 = sle64((int64_t) 0, i_171161);
                                    bool bounds_check_177624 = cond_171167 && x_177623;
                                    bool index_certs_177625;
                                    
                                    if (!bounds_check_177624) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171161, "] out of bounds for array of shape [", (long long) j_m_i_171130, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:187:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_177620 = merge_sequential_arg2_171115 + j_171164;
                                    int64_t slice_177621 = start_170925 + slice_177620;
                                    double leq_arg1_177622 = ((double *) mem_param_180068.mem)[slice_177621];
                                    int64_t slice_177626 = defunc_0_f_res_171106 + i_171161;
                                    int64_t slice_177627 = start_170925 + slice_177626;
                                    double leq_arg0_177628 = ((double *) mem_param_180068.mem)[slice_177627];
                                    bool zlze_res_177629 = leq_arg0_177628 <= leq_arg1_177622;
                                    
                                    cond_f_res_171168 = zlze_res_177629;
                                } else {
                                    cond_f_res_171168 = 0;
                                }
                                cond_171166 = cond_f_res_171168;
                            }
                            
                            int64_t loopres_171183;
                            double loopres_171184;
                            int64_t loopres_171185;
                            
                            if (cond_171166) {
                                bool x_177631 = sle64((int64_t) 0, i_171161);
                                bool y_177632 = slt64(i_171161, j_m_i_171130);
                                bool bounds_check_177633 = x_177631 && y_177632;
                                bool index_certs_177634;
                                
                                if (!bounds_check_177633) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171161, "] out of bounds for array of shape [", (long long) j_m_i_171130, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:187:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_177630 = add64((int64_t) 1, i_171161);
                                int64_t slice_177635 = defunc_0_f_res_171106 + i_171161;
                                int64_t slice_177636 = start_170925 + slice_177635;
                                double tmp_177637 = ((double *) mem_param_180068.mem)[slice_177636];
                                int64_t tmp_177638 = ((int64_t *) mem_param_180071.mem)[slice_177636];
                                
                                loopres_171183 = tmp_177630;
                                loopres_171184 = tmp_177637;
                                loopres_171185 = tmp_177638;
                            } else {
                                bool x_171195 = sle64((int64_t) 0, j_171164);
                                bool y_171196 = slt64(j_171164, j_m_i_171117);
                                bool bounds_check_171197 = x_171195 && y_171196;
                                bool index_certs_171198;
                                
                                if (!bounds_check_171197) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171164, "] out of bounds for array of shape [", (long long) j_m_i_171117, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:187:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_171199 = merge_sequential_arg2_171115 + j_171164;
                                int64_t slice_171200 = start_170925 + slice_171199;
                                double tmp_171201 = ((double *) mem_param_180068.mem)[slice_171200];
                                int64_t tmp_171202 = ((int64_t *) mem_param_180071.mem)[slice_171200];
                                
                                loopres_171183 = i_171161;
                                loopres_171184 = tmp_171201;
                                loopres_171185 = tmp_171202;
                            }
                            ((double *) mem_180104)[i_179674 * merge_block_sizze_170740 + k_171160] = loopres_171184;
                            ((int64_t *) mem_180107)[i_179674 * merge_block_sizze_170740 + k_171160] = loopres_171185;
                            
                            int64_t i_tmp_181444 = loopres_171183;
                            
                            i_171161 = i_tmp_181444;
                        }
                        data_171157 = i_171161;
                    }
                    if (memblock_alloc(ctx, &mem_180142, bytes_180103, "mem_180142")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180142.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_170740, (int64_t) 1}, (uint64_t *) mem_180104, (int64_t) 0, (int64_t []) {merge_block_sizze_170740, (int64_t) 1}, (int64_t []) {num_blocks_170873, merge_block_sizze_170740});
                    if (memblock_alloc(ctx, &mem_180146, bytes_180103, "mem_180146")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180146.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_170740, (int64_t) 1}, (uint64_t *) mem_180107, (int64_t) 0, (int64_t []) {merge_block_sizze_170740, (int64_t) 1}, (int64_t []) {num_blocks_170873, merge_block_sizze_170740});
                    if (memblock_set(ctx, &ext_mem_180169, &mem_180142, "mem_180142") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180166, &mem_180146, "mem_180146") != 0)
                        return 1;
                }
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180074, i_179681 * next_stride_170853, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180169.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_170853});
                if (memblock_unref(ctx, &ext_mem_180169, "ext_mem_180169") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180077, i_179681 * next_stride_170853, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180166.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_170853});
                if (memblock_unref(ctx, &ext_mem_180166, "ext_mem_180166") != 0)
                    return 1;
            }
            
            int64_t flat_dim_171209 = next_stride_170853 * num_merges_170857;
            
            if (memblock_alloc(ctx, &mem_180180, bytes_180073, "mem_180180")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_180180.mem, (int64_t) 0, (int64_t []) {next_stride_170853, (int64_t) 1}, (uint64_t *) mem_180074, (int64_t) 0, (int64_t []) {next_stride_170853, (int64_t) 1}, (int64_t []) {num_merges_170857, next_stride_170853});
            if (memblock_alloc(ctx, &mem_180184, bytes_180073, "mem_180184")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_180184.mem, (int64_t) 0, (int64_t []) {next_stride_170853, (int64_t) 1}, (uint64_t *) mem_180077, (int64_t) 0, (int64_t []) {next_stride_170853, (int64_t) 1}, (int64_t []) {num_merges_170857, next_stride_170853});
            
            bool loop_cond_171212 = slt64(next_stride_170853, flat_dim_170737);
            
            if (memblock_set(ctx, &mem_param_tmp_181418, &mem_180180, "mem_180180") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181419, &mem_180184, "mem_180184") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_181420 = flat_dim_171209;
            bool loop_while_tmp_181421 = loop_cond_171212;
            int64_t stride_tmp_181424 = next_stride_170853;
            
            if (memblock_set(ctx, &mem_param_180068, &mem_param_tmp_181418, "mem_param_tmp_181418") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180071, &mem_param_tmp_181419, "mem_param_tmp_181419") != 0)
                return 1;
            loop_dz2084Uz2082U_170848 = loop_dz2084Uz2082U_tmp_181420;
            loop_while_170849 = loop_while_tmp_181421;
            stride_170852 = stride_tmp_181424;
        }
        if (memblock_set(ctx, &ext_mem_180191, &mem_param_180068, "mem_param_180068") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_180190, &mem_param_180071, "mem_param_180071") != 0)
            return 1;
        data_170843 = loop_dz2084Uz2082U_170848;
        data_170844 = loop_while_170849;
        data_170847 = stride_170852;
        if (memblock_unref(ctx, &mem_180060, "mem_180060") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180064, "mem_180064") != 0)
            return 1;
        
        bool empty_slice_171213 = n_107565 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_171214 = sle64((int64_t) 0, zs_lhs_170721);
        bool i_p_m_t_s_leq_w_171215 = slt64(zs_lhs_170721, data_170843);
        bool y_171216 = zzero_leq_i_p_m_t_s_171214 && i_p_m_t_s_leq_w_171215;
        bool ok_or_empty_171217 = empty_slice_171213 || y_171216;
        bool index_certs_171218;
        
        if (!ok_or_empty_171217) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_107565, "] out of bounds for array of shape [", (long long) data_170843, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:187:54-57\n   #5  ftsort.fut:44:3-28\n   #6  ftsort.fut:43:1-44:28\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_180194, &ext_mem_180190, "ext_mem_180190") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_179989, "mem_179989") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180196, bytes_179988, "mem_180196")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180198, bytes_179988, "mem_180198")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_179688 = 0; i_179688 < n_107565; i_179688++) {
        int64_t eta_p_171222 = ((int64_t *) ext_mem_180194.mem)[i_179688];
        bool x_171223 = sle64((int64_t) 0, eta_p_171222);
        bool y_171224 = slt64(eta_p_171222, n_107565);
        bool bounds_check_171225 = x_171223 && y_171224;
        bool index_certs_171226;
        
        if (!bounds_check_171225) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_171222, "] out of bounds for array of shape [", (long long) n_107565, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:187:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_171227 = ((int64_t *) ext_mem_179987.mem)[eta_p_171222];
        double lifted_lambda_res_171228 = ((double *) xs_mem_179986.mem)[eta_p_171222];
        
        ((int64_t *) mem_180196.mem)[i_179688] = lifted_lambda_res_171227;
        ((double *) mem_180198.mem)[i_179688] = lifted_lambda_res_171228;
    }
    if (memblock_unref(ctx, &ext_mem_179987, "ext_mem_179987") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_180194, "ext_mem_180194") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181400, &mem_180196, "mem_180196") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181401, &mem_180198, "mem_180198") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181664, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181665, &mem_out_181401, "mem_out_181401") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_179992);
        free(mem_179995);
        free(mem_180005);
        free(mem_180007);
        free(mem_180074);
        free(mem_180077);
        free(mem_180087);
        free(mem_180089);
        free(mem_180104);
        free(mem_180107);
        if (memblock_unref(ctx, &mem_180198, "mem_180198") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180196, "mem_180196") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181419, "mem_param_tmp_181419") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181418, "mem_param_tmp_181418") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180184, "mem_180184") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180180, "mem_180180") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180146, "mem_180146") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180142, "mem_180142") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180151, "mem_180151") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180149, "mem_180149") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180166, "ext_mem_180166") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180169, "ext_mem_180169") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180071, "mem_param_180071") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180068, "mem_param_180068") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180190, "ext_mem_180190") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180191, "ext_mem_180191") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180064, "mem_180064") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180060, "mem_180060") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180194, "ext_mem_180194") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179989, "mem_179989") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_179987, "ext_mem_179987") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181401, "mem_out_181401") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_181676, struct memblock *mem_out_p_181677, struct memblock xs_mem_179986, int64_t n_105221, int64_t incr_105222)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_179992_cached_sizze_181678 = 0;
    unsigned char *mem_179992 = NULL;
    int64_t mem_179995_cached_sizze_181679 = 0;
    unsigned char *mem_179995 = NULL;
    int64_t mem_180005_cached_sizze_181680 = 0;
    unsigned char *mem_180005 = NULL;
    int64_t mem_180007_cached_sizze_181681 = 0;
    unsigned char *mem_180007 = NULL;
    int64_t mem_180074_cached_sizze_181682 = 0;
    unsigned char *mem_180074 = NULL;
    int64_t mem_180077_cached_sizze_181683 = 0;
    unsigned char *mem_180077 = NULL;
    int64_t mem_180087_cached_sizze_181684 = 0;
    unsigned char *mem_180087 = NULL;
    int64_t mem_180089_cached_sizze_181685 = 0;
    unsigned char *mem_180089 = NULL;
    int64_t mem_180104_cached_sizze_181686 = 0;
    unsigned char *mem_180104 = NULL;
    int64_t mem_180107_cached_sizze_181687 = 0;
    unsigned char *mem_180107 = NULL;
    struct memblock mem_180198;
    
    mem_180198.references = NULL;
    
    struct memblock mem_180196;
    
    mem_180196.references = NULL;
    
    struct memblock mem_param_tmp_181419;
    
    mem_param_tmp_181419.references = NULL;
    
    struct memblock mem_param_tmp_181418;
    
    mem_param_tmp_181418.references = NULL;
    
    struct memblock mem_180184;
    
    mem_180184.references = NULL;
    
    struct memblock mem_180180;
    
    mem_180180.references = NULL;
    
    struct memblock mem_180146;
    
    mem_180146.references = NULL;
    
    struct memblock mem_180142;
    
    mem_180142.references = NULL;
    
    struct memblock mem_180151;
    
    mem_180151.references = NULL;
    
    struct memblock mem_180149;
    
    mem_180149.references = NULL;
    
    struct memblock ext_mem_180166;
    
    ext_mem_180166.references = NULL;
    
    struct memblock ext_mem_180169;
    
    ext_mem_180169.references = NULL;
    
    struct memblock mem_param_180071;
    
    mem_param_180071.references = NULL;
    
    struct memblock mem_param_180068;
    
    mem_param_180068.references = NULL;
    
    struct memblock ext_mem_180190;
    
    ext_mem_180190.references = NULL;
    
    struct memblock ext_mem_180191;
    
    ext_mem_180191.references = NULL;
    
    struct memblock mem_180064;
    
    mem_180064.references = NULL;
    
    struct memblock mem_180060;
    
    mem_180060.references = NULL;
    
    struct memblock ext_mem_180194;
    
    ext_mem_180194.references = NULL;
    
    struct memblock mem_179989;
    
    mem_179989.references = NULL;
    
    struct memblock ext_mem_179987;
    
    ext_mem_179987.references = NULL;
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    int64_t bytes_179988 = (int64_t) 8 * n_105221;
    bool cond_170720 = sle64(n_105221, (int64_t) 1);
    int64_t zs_lhs_170721 = sub64(n_105221, (int64_t) 1);
    int64_t zp_rhs_170722 = sdiv_safe64(zs_lhs_170721, (int64_t) 20);
    int64_t min_num_blocks_170723 = add64((int64_t) 1, zp_rhs_170722);
    bool loop_cond_170724 = slt64((int64_t) 1, min_num_blocks_170723);
    bool smallest_pow_2_geq_than_res_170725;
    int64_t smallest_pow_2_geq_than_res_170726;
    bool loop_while_170727;
    int64_t x_170728;
    
    loop_while_170727 = loop_cond_170724;
    x_170728 = (int64_t) 1;
    while (loop_while_170727) {
        int64_t loopres_170729 = mul64((int64_t) 2, x_170728);
        bool loop_cond_170730 = slt64(loopres_170729, min_num_blocks_170723);
        bool loop_while_tmp_181402 = loop_cond_170730;
        int64_t x_tmp_181403 = loopres_170729;
        
        loop_while_170727 = loop_while_tmp_181402;
        x_170728 = x_tmp_181403;
    }
    smallest_pow_2_geq_than_res_170725 = loop_while_170727;
    smallest_pow_2_geq_than_res_170726 = x_170728;
    
    bool zzero_170731 = smallest_pow_2_geq_than_res_170726 == (int64_t) 0;
    bool nonzzero_170732 = !zzero_170731;
    bool protect_assert_disj_170733 = cond_170720 || nonzzero_170732;
    bool nonzzero_cert_170734;
    
    if (!protect_assert_disj_170733) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:187:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_170735 = sdiv_safe64(zs_lhs_170721, smallest_pow_2_geq_than_res_170726);
    int64_t block_sizze_170736 = add64((int64_t) 1, zp_rhs_170735);
    bool y_170741 = slt64((int64_t) 0, n_105221);
    bool protect_assert_disj_181099 = cond_170720 || y_170741;
    bool index_certs_170742;
    
    if (!protect_assert_disj_181099) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_105221, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:187:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_170755 = slt64(smallest_pow_2_geq_than_res_170726, (int64_t) 0);
    bool valid_170756 = !bounds_invalid_upwards_170755;
    bool protect_assert_disj_181107 = cond_170720 || valid_170756;
    bool range_valid_c_170757;
    
    if (!protect_assert_disj_181107) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_170726, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:187:54-57\n   #6  ftsort.fut:41:3-27\n   #7  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_170759 = slt64(block_sizze_170736, (int64_t) 0);
    bool valid_170760 = !bounds_invalid_upwards_170759;
    bool protect_assert_disj_181109 = cond_170720 || valid_170760;
    bool range_valid_c_170761;
    
    if (!protect_assert_disj_181109) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_170736, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:187:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_170763 = sle64(block_sizze_170736, (int64_t) 1);
    int64_t tmp_170764 = sub64(block_sizze_170736, (int64_t) 2);
    bool bounds_invalid_upwards_170765 = slt64(tmp_170764, (int64_t) 0);
    bool valid_170767 = !bounds_invalid_upwards_170765;
    bool protect_assert_disj_170768 = cond_170763 || valid_170767;
    bool protect_assert_disj_181111 = cond_170720 || protect_assert_disj_170768;
    bool range_valid_c_170769;
    
    if (!protect_assert_disj_181111) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_170764, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180197 = (int64_t) 4 * n_105221;
    
    if (futrts_indicesWithIncrement_9394(ctx, &ext_mem_179987, xs_mem_179986, n_105221, incr_105222) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_179989, bytes_179988, "mem_179989")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181404 = 0; i_181404 < n_105221; i_181404++) {
        int64_t x_181405 = (int64_t) 0 + i_181404 * (int64_t) 1;
        
        ((int64_t *) mem_179989.mem)[i_181404] = x_181405;
    }
    
    int64_t flat_dim_170737 = smallest_pow_2_geq_than_res_170726 * block_sizze_170736;
    bool x_181094 = !cond_170720;
    int64_t greatest_divisor_leq_than_arg1_170739 = mul64((int64_t) 2, block_sizze_170736);
    int64_t merge_block_sizze_170740;
    
    if (x_181094) {
        int64_t x_181096;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181096, (int64_t) 8, greatest_divisor_leq_than_arg1_170739) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_170740 = x_181096;
    } else {
        merge_block_sizze_170740 = (int64_t) 0;
    }
    
    float reduce_arg1_170743;
    
    if (x_181094) {
        float x_181100 = ((float *) xs_mem_179986.mem)[(int64_t) 0];
        
        reduce_arg1_170743 = x_181100;
    } else {
        reduce_arg1_170743 = 0.0F;
    }
    
    float defunc_0_reduce_res_177645;
    int64_t defunc_0_reduce_res_177646;
    
    if (x_181094) {
        float x_181102;
        int64_t x_181103;
        float redout_179646;
        int64_t redout_179647;
        
        redout_179646 = reduce_arg1_170743;
        redout_179647 = (int64_t) 0;
        for (int64_t i_179648 = 0; i_179648 < n_105221; i_179648++) {
            float x_170746 = ((float *) xs_mem_179986.mem)[i_179648];
            bool zlze_res_170752 = redout_179646 <= x_170746;
            float defunc_0_op_res_170753;
            
            if (zlze_res_170752) {
                defunc_0_op_res_170753 = x_170746;
            } else {
                defunc_0_op_res_170753 = redout_179646;
            }
            
            int64_t defunc_0_op_res_170754;
            
            if (zlze_res_170752) {
                defunc_0_op_res_170754 = i_179648;
            } else {
                defunc_0_op_res_170754 = redout_179647;
            }
            
            float redout_tmp_181406 = defunc_0_op_res_170753;
            int64_t redout_tmp_181407 = defunc_0_op_res_170754;
            
            redout_179646 = redout_tmp_181406;
            redout_179647 = redout_tmp_181407;
        }
        x_181102 = redout_179646;
        x_181103 = redout_179647;
        defunc_0_reduce_res_177645 = x_181102;
        defunc_0_reduce_res_177646 = x_181103;
    } else {
        defunc_0_reduce_res_177645 = 0.0F;
        defunc_0_reduce_res_177646 = (int64_t) 0;
    }
    
    int64_t distance_170766 = add64((int64_t) 1, tmp_170764);
    int64_t binop_x_179990 = (int64_t) 4 * smallest_pow_2_geq_than_res_170726;
    int64_t bytes_179991 = block_sizze_170736 * binop_x_179990;
    int64_t binop_x_179993 = (int64_t) 8 * smallest_pow_2_geq_than_res_170726;
    int64_t bytes_179994 = block_sizze_170736 * binop_x_179993;
    int64_t bytes_180004 = (int64_t) 4 * block_sizze_170736;
    int64_t bytes_180006 = (int64_t) 8 * block_sizze_170736;
    bool loop_cond_170840 = slt64(block_sizze_170736, flat_dim_170737);
    bool zzero_170841 = merge_block_sizze_170740 == (int64_t) 0;
    bool nonzzero_170842 = !zzero_170841;
    
    if (cond_170720) {
        if (memblock_set(ctx, &ext_mem_180194, &mem_179989, "mem_179989") != 0)
            return 1;
    } else {
        if (mem_179992_cached_sizze_181678 < bytes_179991) {
            err = lexical_realloc(ctx, &mem_179992, &mem_179992_cached_sizze_181678, bytes_179991);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_179995_cached_sizze_181679 < bytes_179994) {
            err = lexical_realloc(ctx, &mem_179995, &mem_179995_cached_sizze_181679, bytes_179994);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180005_cached_sizze_181680 < bytes_180004) {
            err = lexical_realloc(ctx, &mem_180005, &mem_180005_cached_sizze_181680, bytes_180004);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180007_cached_sizze_181681 < bytes_180006) {
            err = lexical_realloc(ctx, &mem_180007, &mem_180007_cached_sizze_181681, bytes_180006);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_179660 = 0; i_179660 < smallest_pow_2_geq_than_res_170726; i_179660++) {
            int64_t zp_lhs_170773 = mul64(block_sizze_170736, i_179660);
            
            for (int64_t i_179653 = 0; i_179653 < block_sizze_170736; i_179653++) {
                int64_t k_170777 = add64(zp_lhs_170773, i_179653);
                bool cond_170778 = slt64(k_170777, n_105221);
                float lifted_lambda_res_170779;
                int64_t lifted_lambda_res_170780;
                
                if (cond_170778) {
                    bool x_177498 = sle64((int64_t) 0, k_170777);
                    bool bounds_check_177499 = cond_170778 && x_177498;
                    bool index_certs_177500;
                    
                    if (!bounds_check_177499) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_170777, "] out of bounds for array of shape [", (long long) n_105221, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:187:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    float lifted_lambda_res_t_res_177501 = ((float *) xs_mem_179986.mem)[k_170777];
                    
                    lifted_lambda_res_170779 = lifted_lambda_res_t_res_177501;
                    lifted_lambda_res_170780 = k_170777;
                } else {
                    lifted_lambda_res_170779 = defunc_0_reduce_res_177645;
                    lifted_lambda_res_170780 = defunc_0_reduce_res_177646;
                }
                ((float *) mem_180005)[i_179653] = lifted_lambda_res_170779;
                ((int64_t *) mem_180007)[i_179653] = lifted_lambda_res_170780;
            }
            if (!cond_170763) {
                for (int64_t i_170789 = 0; i_170789 < distance_170766; i_170789++) {
                    int64_t gt_arg1_170792 = add64((int64_t) 1, i_170789);
                    bool x_170793 = sle64((int64_t) 0, gt_arg1_170792);
                    bool y_170794 = slt64(gt_arg1_170792, block_sizze_170736);
                    bool bounds_check_170795 = x_170793 && y_170794;
                    bool index_certs_170796;
                    
                    if (!bounds_check_170795) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_170792, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_170798 = slt64(i_170789, block_sizze_170736);
                    bool index_certs_170799;
                    
                    if (!y_170798) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_170789, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    float gt_arg1_170797 = ((float *) mem_180005)[gt_arg1_170792];
                    float gt_arg0_170800 = ((float *) mem_180005)[i_170789];
                    bool zlze_res_170801 = gt_arg0_170800 <= gt_arg1_170797;
                    bool defunc_0_lifted_gt_res_170802 = !zlze_res_170801;
                    bool s_170803;
                    int64_t s_170806;
                    bool loop_while_170807;
                    int64_t j_170810;
                    
                    loop_while_170807 = defunc_0_lifted_gt_res_170802;
                    j_170810 = i_170789;
                    while (loop_while_170807) {
                        bool x_170811 = sle64((int64_t) 0, j_170810);
                        bool y_170812 = slt64(j_170810, block_sizze_170736);
                        bool bounds_check_170813 = x_170811 && y_170812;
                        bool index_certs_170814;
                        
                        if (!bounds_check_170813) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_170810, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_170817 = add64((int64_t) 1, j_170810);
                        bool x_170818 = sle64((int64_t) 0, copy_arg0_170817);
                        bool y_170819 = slt64(copy_arg0_170817, block_sizze_170736);
                        bool bounds_check_170820 = x_170818 && y_170819;
                        bool index_certs_170821;
                        
                        if (!bounds_check_170820) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_170817, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        float copy_arg0_170815 = ((float *) mem_180005)[j_170810];
                        int64_t copy_arg0_170816 = ((int64_t *) mem_180007)[j_170810];
                        float copy_arg0_170822 = ((float *) mem_180005)[copy_arg0_170817];
                        int64_t copy_arg0_170823 = ((int64_t *) mem_180007)[copy_arg0_170817];
                        
                        ((float *) mem_180005)[j_170810] = copy_arg0_170822;
                        ((int64_t *) mem_180007)[j_170810] = copy_arg0_170823;
                        ((float *) mem_180005)[copy_arg0_170817] = copy_arg0_170815;
                        ((int64_t *) mem_180007)[copy_arg0_170817] = copy_arg0_170816;
                        
                        int64_t tmp_170828 = sub64(j_170810, (int64_t) 1);
                        bool cond_170829 = sle64((int64_t) 0, tmp_170828);
                        bool loop_cond_170830;
                        
                        if (cond_170829) {
                            bool y_177503 = slt64(tmp_170828, block_sizze_170736);
                            bool bounds_check_177504 = cond_170829 && y_177503;
                            bool index_certs_177505;
                            
                            if (!bounds_check_177504) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_170828, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            float gt_arg1_177502 = ((float *) mem_180005)[j_170810];
                            float gt_arg0_177506 = ((float *) mem_180005)[tmp_170828];
                            bool zlze_res_177507 = gt_arg0_177506 <= gt_arg1_177502;
                            bool defunc_0_lifted_gt_res_177508 = !zlze_res_177507;
                            
                            loop_cond_170830 = defunc_0_lifted_gt_res_177508;
                        } else {
                            loop_cond_170830 = 0;
                        }
                        
                        bool loop_while_tmp_181414 = loop_cond_170830;
                        int64_t j_tmp_181417 = tmp_170828;
                        
                        loop_while_170807 = loop_while_tmp_181414;
                        j_170810 = j_tmp_181417;
                    }
                    s_170803 = loop_while_170807;
                    s_170806 = j_170810;
                }
            }
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_179992, i_179660 * block_sizze_170736, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180005, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_170736});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_179995, i_179660 * block_sizze_170736, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180007, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_170736});
        }
        if (memblock_alloc(ctx, &mem_180060, bytes_179991, "mem_180060")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_180060.mem, (int64_t) 0, (int64_t []) {block_sizze_170736, (int64_t) 1}, (uint32_t *) mem_179992, (int64_t) 0, (int64_t []) {block_sizze_170736, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_170726, block_sizze_170736});
        if (memblock_alloc(ctx, &mem_180064, bytes_179994, "mem_180064")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180064.mem, (int64_t) 0, (int64_t []) {block_sizze_170736, (int64_t) 1}, (uint64_t *) mem_179995, (int64_t) 0, (int64_t []) {block_sizze_170736, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_170726, block_sizze_170736});
        
        int64_t data_170843;
        bool data_170844;
        int64_t data_170847;
        int64_t loop_dz2084Uz2082U_170848;
        bool loop_while_170849;
        int64_t stride_170852;
        
        if (memblock_set(ctx, &mem_param_180068, &mem_180060, "mem_180060") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180071, &mem_180064, "mem_180064") != 0)
            return 1;
        loop_dz2084Uz2082U_170848 = flat_dim_170737;
        loop_while_170849 = loop_cond_170840;
        stride_170852 = block_sizze_170736;
        while (loop_while_170849) {
            int64_t next_stride_170853 = mul64((int64_t) 2, stride_170852);
            bool zzero_170854 = next_stride_170853 == (int64_t) 0;
            bool nonzzero_170855 = !zzero_170854;
            bool nonzzero_cert_170856;
            
            if (!nonzzero_170855) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:187:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_170857 = sdiv64(flat_dim_170737, next_stride_170853);
            bool bounds_invalid_upwards_170858 = slt64(num_merges_170857, (int64_t) 0);
            bool valid_170859 = !bounds_invalid_upwards_170858;
            bool range_valid_c_170860;
            
            if (!valid_170859) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_170857, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:187:54-57\n   #6  ftsort.fut:41:3-27\n   #7  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_170862 = sub64(next_stride_170853, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_170863 = sle64((int64_t) 0, m_170862);
            bool cond_170865 = slt64(next_stride_170853, (int64_t) 10);
            bool protect_assert_disj_170866 = nonzzero_170842 || cond_170865;
            bool nonzzero_cert_170867;
            
            if (!protect_assert_disj_170866) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_170868 = smod_safe64(next_stride_170853, merge_block_sizze_170740);
            bool num_blocks_170869 = zeze_lhs_170868 == (int64_t) 0;
            bool protect_assert_disj_170870 = cond_170865 || num_blocks_170869;
            bool assert_c_170871;
            
            if (!protect_assert_disj_170870) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_170873 = sdiv_safe64(next_stride_170853, merge_block_sizze_170740);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874 = add64((int64_t) 1, num_blocks_170873);
            int64_t j_m_i_170875 = sub64(next_stride_170853, stride_170852);
            int64_t flat_dim_170876 = merge_block_sizze_170740 * num_blocks_170873;
            bool bounds_invalid_upwards_170877 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874, (int64_t) 0);
            bool zzero_lte_i_170878 = sle64((int64_t) 0, stride_170852);
            bool i_lte_j_170879 = sle64(stride_170852, next_stride_170853);
            bool empty_slice_170880 = stride_170852 == (int64_t) 0;
            int64_t m_170881 = sub64(stride_170852, (int64_t) 1);
            bool bounds_invalid_upwards_170882 = slt64(num_blocks_170873, (int64_t) 0);
            bool empty_slice_170883 = j_m_i_170875 == (int64_t) 0;
            int64_t m_170884 = sub64(j_m_i_170875, (int64_t) 1);
            bool cond_170885 = slt64((int64_t) 0, stride_170852);
            bool valid_170886 = !bounds_invalid_upwards_170877;
            bool zzero_leq_i_p_m_t_s_170887 = sle64((int64_t) 0, m_170881);
            bool i_p_m_t_s_leq_w_170888 = slt64(m_170881, next_stride_170853);
            bool valid_170889 = !bounds_invalid_upwards_170882;
            bool i_p_m_t_s_leq_w_170890 = slt64(m_170862, flat_dim_170876);
            int64_t i_p_m_t_s_170891 = add64(stride_170852, m_170884);
            bool y_170892 = slt64((int64_t) 0, j_m_i_170875);
            bool protect_assert_disj_170893 = cond_170865 || valid_170886;
            bool range_valid_c_170894;
            
            if (!protect_assert_disj_170893) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:187:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_170895 = zzero_leq_i_p_m_t_s_170887 && i_p_m_t_s_leq_w_170888;
            bool protect_assert_disj_170896 = cond_170865 || valid_170889;
            bool range_valid_c_170897;
            
            if (!protect_assert_disj_170896) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_170873, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:187:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_170898 = zzero_leq_i_p_m_t_s_170863 && i_p_m_t_s_leq_w_170890;
            bool zzero_leq_i_p_m_t_s_170899 = sle64((int64_t) 0, i_p_m_t_s_170891);
            bool i_p_m_t_s_leq_w_170900 = slt64(i_p_m_t_s_170891, next_stride_170853);
            bool forwards_ok_170901 = zzero_lte_i_170878 && y_170895;
            bool ok_or_empty_170902 = zzero_170854 || y_170898;
            bool y_170903 = zzero_lte_i_170878 && i_p_m_t_s_leq_w_170900;
            bool protect_assert_disj_170904 = cond_170885 || y_170892;
            bool ok_or_empty_170905 = empty_slice_170880 || forwards_ok_170901;
            bool protect_assert_disj_170906 = cond_170865 || ok_or_empty_170902;
            bool index_certs_170907;
            
            if (!protect_assert_disj_170906) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_170853, "] out of bounds for array of shape [", (long long) flat_dim_170876, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:187:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_170908 = zzero_leq_i_p_m_t_s_170899 && y_170903;
            bool loop_not_taken_170909 = !cond_170865;
            bool protect_assert_disj_170910 = protect_assert_disj_170904 || loop_not_taken_170909;
            bool index_certs_170911;
            
            if (!protect_assert_disj_170910) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:187:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_170912 = cond_170865 || ok_or_empty_170905;
            bool index_certs_170913;
            
            if (!protect_assert_disj_170912) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_170852, "] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:187:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_170914 = i_lte_j_170879 && y_170908;
            bool protect_assert_disj_170915 = ok_or_empty_170905 || loop_not_taken_170909;
            bool index_certs_170916;
            
            if (!protect_assert_disj_170915) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_170852, "] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_170917 = empty_slice_170883 || forwards_ok_170914;
            bool protect_assert_disj_170918 = loop_not_taken_170909 || ok_or_empty_170917;
            bool index_certs_170919;
            
            if (!protect_assert_disj_170918) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_170852, ":] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_170920 = cond_170865 || ok_or_empty_170917;
            bool index_certs_170921;
            
            if (!protect_assert_disj_170920) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_170852, ":] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:187:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_180072 = (int64_t) 4 * num_merges_170857;
            int64_t bytes_180073 = next_stride_170853 * binop_x_180072;
            int64_t binop_x_180075 = (int64_t) 8 * num_merges_170857;
            int64_t bytes_180076 = next_stride_170853 * binop_x_180075;
            bool i_lte_j_170864 = sle64((int64_t) 0, next_stride_170853);
            
            if (mem_180074_cached_sizze_181682 < bytes_180073) {
                err = lexical_realloc(ctx, &mem_180074, &mem_180074_cached_sizze_181682, bytes_180073);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180077_cached_sizze_181683 < bytes_180076) {
                err = lexical_realloc(ctx, &mem_180077, &mem_180077_cached_sizze_181683, bytes_180076);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_180086 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874;
            int64_t binop_x_180102 = (int64_t) 4 * num_blocks_170873;
            int64_t bytes_180103 = merge_block_sizze_170740 * binop_x_180102;
            int64_t binop_x_180105 = (int64_t) 8 * num_blocks_170873;
            int64_t bytes_180106 = merge_block_sizze_170740 * binop_x_180105;
            int64_t bytes_180148 = (int64_t) 8 * stride_170852;
            int64_t bytes_180150 = (int64_t) 16 * stride_170852;
            
            for (int64_t i_179681 = 0; i_179681 < num_merges_170857; i_179681++) {
                int64_t start_170925 = mul64(next_stride_170853, i_179681);
                int64_t j_m_i_170926 = sub64(loop_dz2084Uz2082U_170848, start_170925);
                bool empty_slice_170927 = j_m_i_170926 == (int64_t) 0;
                int64_t m_170928 = sub64(j_m_i_170926, (int64_t) 1);
                int64_t i_p_m_t_s_170929 = add64(start_170925, m_170928);
                bool zzero_leq_i_p_m_t_s_170930 = sle64((int64_t) 0, i_p_m_t_s_170929);
                bool i_p_m_t_s_leq_w_170931 = slt64(i_p_m_t_s_170929, loop_dz2084Uz2082U_170848);
                bool zzero_lte_i_170932 = sle64((int64_t) 0, start_170925);
                bool i_lte_j_170933 = sle64(start_170925, loop_dz2084Uz2082U_170848);
                bool y_170934 = i_p_m_t_s_leq_w_170931 && zzero_lte_i_170932;
                bool y_170935 = zzero_leq_i_p_m_t_s_170930 && y_170934;
                bool forwards_ok_170936 = i_lte_j_170933 && y_170935;
                bool ok_or_empty_170937 = empty_slice_170927 || forwards_ok_170936;
                bool index_certs_170938;
                
                if (!ok_or_empty_170937) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_170925, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_170848, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_170939 = slt64(m_170862, j_m_i_170926);
                bool y_170940 = zzero_leq_i_p_m_t_s_170863 && i_p_m_t_s_leq_w_170939;
                bool forwards_ok_170941 = i_lte_j_170864 && y_170940;
                bool ok_or_empty_170942 = zzero_170854 || forwards_ok_170941;
                bool index_certs_170943;
                
                if (!ok_or_empty_170942) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_170853, "] out of bounds for array of shape [", (long long) j_m_i_170926, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:187:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_170865) {
                    float dummy_177534;
                    int64_t dummy_177535;
                    
                    if (cond_170885) {
                        float head_res_177536 = ((float *) mem_param_180068.mem)[start_170925];
                        int64_t head_res_177537 = ((int64_t *) mem_param_180071.mem)[start_170925];
                        
                        dummy_177534 = head_res_177536;
                        dummy_177535 = head_res_177537;
                    } else {
                        int64_t slice_177538 = stride_170852 + start_170925;
                        float head_res_177539 = ((float *) mem_param_180068.mem)[slice_177538];
                        int64_t head_res_177540 = ((int64_t *) mem_param_180071.mem)[slice_177538];
                        
                        dummy_177534 = head_res_177539;
                        dummy_177535 = head_res_177540;
                    }
                    if (memblock_alloc(ctx, &mem_180149, bytes_180148, "mem_180149")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181427 = 0; nest_i_181427 < next_stride_170853; nest_i_181427++) {
                        ((float *) mem_180149.mem)[nest_i_181427] = dummy_177534;
                    }
                    if (memblock_alloc(ctx, &mem_180151, bytes_180150, "mem_180151")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181428 = 0; nest_i_181428 < next_stride_170853; nest_i_181428++) {
                        ((int64_t *) mem_180151.mem)[nest_i_181428] = dummy_177535;
                    }
                    
                    int64_t data_177543;
                    int64_t i_177547 = (int64_t) 0;
                    
                    for (int64_t k_177546 = 0; k_177546 < next_stride_170853; k_177546++) {
                        int64_t j_177550 = sub64(k_177546, i_177547);
                        bool cond_177551 = j_177550 == j_m_i_170875;
                        bool cond_177552;
                        
                        if (cond_177551) {
                            cond_177552 = 1;
                        } else {
                            bool cond_177553 = slt64(i_177547, stride_170852);
                            bool cond_f_res_177554;
                            
                            if (cond_177553) {
                                bool x_177555 = sle64((int64_t) 0, j_177550);
                                bool y_177556 = slt64(j_177550, j_m_i_170875);
                                bool bounds_check_177557 = x_177555 && y_177556;
                                bool index_certs_177558;
                                
                                if (!bounds_check_177557) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177550, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:187:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_177562 = sle64((int64_t) 0, i_177547);
                                bool bounds_check_177563 = cond_177553 && x_177562;
                                bool index_certs_177564;
                                
                                if (!bounds_check_177563) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177547, "] out of bounds for array of shape [", (long long) stride_170852, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:187:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177559 = stride_170852 + j_177550;
                                int64_t slice_177560 = start_170925 + slice_177559;
                                float leq_arg1_177561 = ((float *) mem_param_180068.mem)[slice_177560];
                                int64_t slice_177565 = start_170925 + i_177547;
                                float leq_arg0_177566 = ((float *) mem_param_180068.mem)[slice_177565];
                                bool zlze_res_177567 = leq_arg0_177566 <= leq_arg1_177561;
                                
                                cond_f_res_177554 = zlze_res_177567;
                            } else {
                                cond_f_res_177554 = 0;
                            }
                            cond_177552 = cond_f_res_177554;
                        }
                        
                        int64_t loopres_177568;
                        float loopres_177569;
                        int64_t loopres_177570;
                        
                        if (cond_177552) {
                            bool x_177572 = sle64((int64_t) 0, i_177547);
                            bool y_177573 = slt64(i_177547, stride_170852);
                            bool bounds_check_177574 = x_177572 && y_177573;
                            bool index_certs_177575;
                            
                            if (!bounds_check_177574) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177547, "] out of bounds for array of shape [", (long long) stride_170852, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:187:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_177571 = add64((int64_t) 1, i_177547);
                            int64_t slice_177576 = start_170925 + i_177547;
                            float tmp_177577 = ((float *) mem_param_180068.mem)[slice_177576];
                            int64_t tmp_177578 = ((int64_t *) mem_param_180071.mem)[slice_177576];
                            
                            loopres_177568 = tmp_177571;
                            loopres_177569 = tmp_177577;
                            loopres_177570 = tmp_177578;
                        } else {
                            bool x_177579 = sle64((int64_t) 0, j_177550);
                            bool y_177580 = slt64(j_177550, j_m_i_170875);
                            bool bounds_check_177581 = x_177579 && y_177580;
                            bool index_certs_177582;
                            
                            if (!bounds_check_177581) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177550, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:187:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177583 = stride_170852 + j_177550;
                            int64_t slice_177584 = start_170925 + slice_177583;
                            float tmp_177585 = ((float *) mem_param_180068.mem)[slice_177584];
                            int64_t tmp_177586 = ((int64_t *) mem_param_180071.mem)[slice_177584];
                            
                            loopres_177568 = i_177547;
                            loopres_177569 = tmp_177585;
                            loopres_177570 = tmp_177586;
                        }
                        ((float *) mem_180149.mem)[k_177546] = loopres_177569;
                        ((int64_t *) mem_180151.mem)[k_177546] = loopres_177570;
                        
                        int64_t i_tmp_181429 = loopres_177568;
                        
                        i_177547 = i_tmp_181429;
                    }
                    data_177543 = i_177547;
                    if (memblock_set(ctx, &ext_mem_180169, &mem_180149, "mem_180149") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180166, &mem_180151, "mem_180151") != 0)
                        return 1;
                } else {
                    if (mem_180087_cached_sizze_181684 < bytes_180086) {
                        err = lexical_realloc(ctx, &mem_180087, &mem_180087_cached_sizze_181684, bytes_180086);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180089_cached_sizze_181685 < bytes_180086) {
                        err = lexical_realloc(ctx, &mem_180089, &mem_180089_cached_sizze_181685, bytes_180086);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179667 = 0; i_179667 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874; i_179667++) {
                        int64_t split_count_arg3_171005 = mul64(merge_block_sizze_170740, i_179667);
                        int64_t defunc_0_split_count_res_171006;
                        int64_t defunc_0_split_count_res_171007;
                        int64_t defunc_0_split_count_res_171008;
                        int64_t defunc_0_split_count_res_171009;
                        int64_t defunc_0_split_count_res_171010;
                        
                        if (futrts_lifted_normalizze_8970(ctx, &defunc_0_split_count_res_171006, &defunc_0_split_count_res_171007, &defunc_0_split_count_res_171008, &defunc_0_split_count_res_171009, &defunc_0_split_count_res_171010, (int64_t) 0, stride_170852, (int64_t) 0, j_m_i_170875, split_count_arg3_171005) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_171011 = slt64((int64_t) 0, defunc_0_split_count_res_171010);
                        bool defunc_0_split_count_res_171012;
                        int64_t defunc_0_split_count_res_171013;
                        int64_t defunc_0_split_count_res_171014;
                        int64_t defunc_0_split_count_res_171015;
                        int64_t defunc_0_split_count_res_171016;
                        int64_t defunc_0_split_count_res_171017;
                        bool loop_while_171018;
                        int64_t ss_171019;
                        int64_t ss_171020;
                        int64_t tt_171021;
                        int64_t tt_171022;
                        int64_t count_171023;
                        
                        loop_while_171018 = loop_cond_171011;
                        ss_171019 = defunc_0_split_count_res_171006;
                        ss_171020 = defunc_0_split_count_res_171007;
                        tt_171021 = defunc_0_split_count_res_171008;
                        tt_171022 = defunc_0_split_count_res_171009;
                        count_171023 = defunc_0_split_count_res_171010;
                        while (loop_while_171018) {
                            int64_t zlze_lhs_171024 = sub64(ss_171020, ss_171019);
                            bool cond_171025 = sle64(zlze_lhs_171024, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_171026;
                            int64_t defunc_0_lifted_step_res_171027;
                            int64_t defunc_0_lifted_step_res_171028;
                            int64_t defunc_0_lifted_step_res_171029;
                            
                            if (cond_171025) {
                                int64_t tmp_177589 = add64(tt_171021, count_171023);
                                
                                defunc_0_lifted_step_res_171026 = ss_171019;
                                defunc_0_lifted_step_res_171027 = tmp_177589;
                                defunc_0_lifted_step_res_171028 = tt_171022;
                                defunc_0_lifted_step_res_171029 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_171031 = sub64(tt_171022, tt_171021);
                                bool cond_171032 = sle64(zlze_lhs_171031, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_171033;
                                int64_t defunc_0_lifted_step_res_f_res_171034;
                                int64_t defunc_0_lifted_step_res_f_res_171035;
                                int64_t defunc_0_lifted_step_res_f_res_171036;
                                
                                if (cond_171032) {
                                    int64_t tmp_177590 = add64(ss_171019, count_171023);
                                    
                                    defunc_0_lifted_step_res_f_res_171033 = tmp_177590;
                                    defunc_0_lifted_step_res_f_res_171034 = tt_171021;
                                    defunc_0_lifted_step_res_f_res_171035 = tt_171022;
                                    defunc_0_lifted_step_res_f_res_171036 = (int64_t) 0;
                                } else {
                                    bool cond_171038 = count_171023 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171039;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171040;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171041;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171042;
                                    
                                    if (cond_171038) {
                                        bool x_177592 = sle64((int64_t) 0, ss_171019);
                                        bool y_177593 = slt64(ss_171019, stride_170852);
                                        bool bounds_check_177594 = x_177592 && y_177593;
                                        bool index_certs_177595;
                                        
                                        if (!bounds_check_177594) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_171019, "] out of bounds for array of shape [", (long long) stride_170852, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:187:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_177598 = sle64((int64_t) 0, tt_171021);
                                        bool y_177599 = slt64(tt_171021, j_m_i_170875);
                                        bool bounds_check_177600 = x_177598 && y_177599;
                                        bool index_certs_177601;
                                        
                                        if (!bounds_check_177600) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_171021, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:187:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177596 = start_170925 + ss_171019;
                                        float leq_arg1_177597 = ((float *) mem_param_180068.mem)[slice_177596];
                                        int64_t slice_177602 = stride_170852 + tt_171021;
                                        int64_t slice_177603 = start_170925 + slice_177602;
                                        float leq_arg0_177604 = ((float *) mem_param_180068.mem)[slice_177603];
                                        bool zlze_res_177605 = leq_arg0_177604 <= leq_arg1_177597;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_177606;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_177607;
                                        
                                        if (zlze_res_177605) {
                                            int64_t tmp_177608 = add64((int64_t) 1, tt_171021);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177606 = ss_171019;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177607 = tmp_177608;
                                        } else {
                                            int64_t tmp_177609 = add64((int64_t) 1, ss_171019);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177606 = tmp_177609;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177607 = tt_171021;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171039 = defunc_0_lifted_step_res_f_res_f_res_t_res_177606;
                                        defunc_0_lifted_step_res_f_res_f_res_171040 = defunc_0_lifted_step_res_f_res_f_res_t_res_177607;
                                        defunc_0_lifted_step_res_f_res_f_res_171041 = tt_171022;
                                        defunc_0_lifted_step_res_f_res_f_res_171042 = (int64_t) 0;
                                    } else {
                                        int64_t m_171061 = sdiv64(count_171023, (int64_t) 2);
                                        int64_t n_171062 = sub64(count_171023, m_171061);
                                        bool cond_171063 = n_171062 == (int64_t) 0;
                                        int64_t zgze_lhs_171064 = add64(ss_171019, m_171061);
                                        bool cond_f_res_171065 = sle64(ss_171020, zgze_lhs_171064);
                                        bool x_171066 = !cond_171063;
                                        bool y_171067 = cond_f_res_171065 && x_171066;
                                        bool cond_171068 = cond_171063 || y_171067;
                                        bool leq_y_x_171069;
                                        
                                        if (cond_171068) {
                                            leq_y_x_171069 = 1;
                                        } else {
                                            bool x_171070 = sle64((int64_t) 0, zgze_lhs_171064);
                                            bool y_171071 = slt64(zgze_lhs_171064, stride_170852);
                                            bool bounds_check_171072 = x_171070 && y_171071;
                                            bool index_certs_171073;
                                            
                                            if (!bounds_check_171072) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_171064, "] out of bounds for array of shape [", (long long) stride_170852, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:187:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_171076 = add64(tt_171021, n_171062);
                                            int64_t leq_arg0_171077 = sub64(zm_lhs_171076, (int64_t) 1);
                                            bool x_171078 = sle64((int64_t) 0, leq_arg0_171077);
                                            bool y_171079 = slt64(leq_arg0_171077, j_m_i_170875);
                                            bool bounds_check_171080 = x_171078 && y_171079;
                                            bool index_certs_171081;
                                            
                                            if (!bounds_check_171080) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_171077, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:187:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_171074 = start_170925 + zgze_lhs_171064;
                                            float leq_arg1_171075 = ((float *) mem_param_180068.mem)[slice_171074];
                                            int64_t slice_171082 = stride_170852 + leq_arg0_171077;
                                            int64_t slice_171083 = start_170925 + slice_171082;
                                            float leq_arg0_171084 = ((float *) mem_param_180068.mem)[slice_171083];
                                            bool zlze_res_171085 = leq_arg0_171084 <= leq_arg1_171075;
                                            
                                            leq_y_x_171069 = zlze_res_171085;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171086;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171087;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171088;
                                        
                                        if (leq_y_x_171069) {
                                            int64_t tmp_177610 = add64(tt_171021, n_171062);
                                            int64_t tmp_177611 = sub64(count_171023, n_171062);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171086 = tmp_177610;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171087 = tt_171022;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171088 = tmp_177611;
                                        } else {
                                            int64_t tmp_171091 = add64(tt_171021, n_171062);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171086 = tt_171021;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171087 = tmp_171091;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171088 = count_171023;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171039 = ss_171019;
                                        defunc_0_lifted_step_res_f_res_f_res_171040 = defunc_0_lifted_step_res_f_res_f_res_f_res_171086;
                                        defunc_0_lifted_step_res_f_res_f_res_171041 = defunc_0_lifted_step_res_f_res_f_res_f_res_171087;
                                        defunc_0_lifted_step_res_f_res_f_res_171042 = defunc_0_lifted_step_res_f_res_f_res_f_res_171088;
                                    }
                                    defunc_0_lifted_step_res_f_res_171033 = defunc_0_lifted_step_res_f_res_f_res_171039;
                                    defunc_0_lifted_step_res_f_res_171034 = defunc_0_lifted_step_res_f_res_f_res_171040;
                                    defunc_0_lifted_step_res_f_res_171035 = defunc_0_lifted_step_res_f_res_f_res_171041;
                                    defunc_0_lifted_step_res_f_res_171036 = defunc_0_lifted_step_res_f_res_f_res_171042;
                                }
                                defunc_0_lifted_step_res_171026 = defunc_0_lifted_step_res_f_res_171033;
                                defunc_0_lifted_step_res_171027 = defunc_0_lifted_step_res_f_res_171034;
                                defunc_0_lifted_step_res_171028 = defunc_0_lifted_step_res_f_res_171035;
                                defunc_0_lifted_step_res_171029 = defunc_0_lifted_step_res_f_res_171036;
                            }
                            
                            int64_t loopres_171092;
                            int64_t loopres_171093;
                            int64_t loopres_171094;
                            int64_t loopres_171095;
                            int64_t loopres_171096;
                            
                            if (futrts_lifted_normalizze_8970(ctx, &loopres_171092, &loopres_171093, &loopres_171094, &loopres_171095, &loopres_171096, defunc_0_lifted_step_res_171026, ss_171020, defunc_0_lifted_step_res_171027, defunc_0_lifted_step_res_171028, defunc_0_lifted_step_res_171029) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_171097 = slt64((int64_t) 0, loopres_171096);
                            bool loop_while_tmp_181434 = loop_cond_171097;
                            int64_t ss_tmp_181435 = loopres_171092;
                            int64_t ss_tmp_181436 = loopres_171093;
                            int64_t tt_tmp_181437 = loopres_171094;
                            int64_t tt_tmp_181438 = loopres_171095;
                            int64_t count_tmp_181439 = loopres_171096;
                            
                            loop_while_171018 = loop_while_tmp_181434;
                            ss_171019 = ss_tmp_181435;
                            ss_171020 = ss_tmp_181436;
                            tt_171021 = tt_tmp_181437;
                            tt_171022 = tt_tmp_181438;
                            count_171023 = count_tmp_181439;
                        }
                        defunc_0_split_count_res_171012 = loop_while_171018;
                        defunc_0_split_count_res_171013 = ss_171019;
                        defunc_0_split_count_res_171014 = ss_171020;
                        defunc_0_split_count_res_171015 = tt_171021;
                        defunc_0_split_count_res_171016 = tt_171022;
                        defunc_0_split_count_res_171017 = count_171023;
                        ((int64_t *) mem_180087)[i_179667] = defunc_0_split_count_res_171013;
                        ((int64_t *) mem_180089)[i_179667] = defunc_0_split_count_res_171015;
                    }
                    if (mem_180104_cached_sizze_181686 < bytes_180103) {
                        err = lexical_realloc(ctx, &mem_180104, &mem_180104_cached_sizze_181686, bytes_180103);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180107_cached_sizze_181687 < bytes_180106) {
                        err = lexical_realloc(ctx, &mem_180107, &mem_180107_cached_sizze_181687, bytes_180106);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179674 = 0; i_179674 < num_blocks_170873; i_179674++) {
                        bool y_171103 = slt64(i_179674, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874);
                        bool index_certs_171105;
                        
                        if (!y_171103) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179674, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:187:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171106 = ((int64_t *) mem_180087)[i_179674];
                        int64_t defunc_0_f_res_171107 = ((int64_t *) mem_180089)[i_179674];
                        int64_t tmp_171108 = add64((int64_t) 1, i_179674);
                        bool x_171109 = sle64((int64_t) 0, tmp_171108);
                        bool y_171110 = slt64(tmp_171108, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874);
                        bool bounds_check_171111 = x_171109 && y_171110;
                        bool index_certs_171112;
                        
                        if (!bounds_check_171111) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171108, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:187:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171113 = ((int64_t *) mem_180087)[tmp_171108];
                        int64_t defunc_0_f_res_171114 = ((int64_t *) mem_180089)[tmp_171108];
                        int64_t merge_sequential_arg2_171115 = add64(stride_170852, defunc_0_f_res_171107);
                        int64_t merge_sequential_arg2_171116 = add64(stride_170852, defunc_0_f_res_171114);
                        int64_t j_m_i_171117 = sub64(merge_sequential_arg2_171116, merge_sequential_arg2_171115);
                        bool empty_slice_171118 = j_m_i_171117 == (int64_t) 0;
                        int64_t m_171119 = sub64(j_m_i_171117, (int64_t) 1);
                        int64_t i_p_m_t_s_171120 = add64(merge_sequential_arg2_171115, m_171119);
                        bool zzero_leq_i_p_m_t_s_171121 = sle64((int64_t) 0, i_p_m_t_s_171120);
                        bool i_p_m_t_s_leq_w_171122 = slt64(i_p_m_t_s_171120, next_stride_170853);
                        bool zzero_lte_i_171123 = sle64((int64_t) 0, merge_sequential_arg2_171115);
                        bool i_lte_j_171124 = sle64(merge_sequential_arg2_171115, merge_sequential_arg2_171116);
                        bool y_171125 = i_p_m_t_s_leq_w_171122 && zzero_lte_i_171123;
                        bool y_171126 = zzero_leq_i_p_m_t_s_171121 && y_171125;
                        bool forwards_ok_171127 = i_lte_j_171124 && y_171126;
                        bool ok_or_empty_171128 = empty_slice_171118 || forwards_ok_171127;
                        bool index_certs_171129;
                        
                        if (!ok_or_empty_171128) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_171115, ":", (long long) merge_sequential_arg2_171116, "] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:187:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_171130 = sub64(defunc_0_f_res_171113, defunc_0_f_res_171106);
                        bool empty_slice_171131 = j_m_i_171130 == (int64_t) 0;
                        int64_t m_171132 = sub64(j_m_i_171130, (int64_t) 1);
                        int64_t i_p_m_t_s_171133 = add64(defunc_0_f_res_171106, m_171132);
                        bool zzero_leq_i_p_m_t_s_171134 = sle64((int64_t) 0, i_p_m_t_s_171133);
                        bool i_p_m_t_s_leq_w_171135 = slt64(i_p_m_t_s_171133, next_stride_170853);
                        bool zzero_lte_i_171136 = sle64((int64_t) 0, defunc_0_f_res_171106);
                        bool i_lte_j_171137 = sle64(defunc_0_f_res_171106, defunc_0_f_res_171113);
                        bool y_171138 = i_p_m_t_s_leq_w_171135 && zzero_lte_i_171136;
                        bool y_171139 = zzero_leq_i_p_m_t_s_171134 && y_171138;
                        bool forwards_ok_171140 = i_lte_j_171137 && y_171139;
                        bool ok_or_empty_171141 = empty_slice_171131 || forwards_ok_171140;
                        bool index_certs_171142;
                        
                        if (!ok_or_empty_171141) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_171106, ":", (long long) defunc_0_f_res_171113, "] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:187:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_171143 = slt64((int64_t) 0, j_m_i_171130);
                        float dummy_171144;
                        int64_t dummy_171145;
                        
                        if (cond_171143) {
                            bool index_certs_177612;
                            
                            if (!cond_171143) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171130, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:187:54-57\n   #12 ftsort.fut:41:3-27\n   #13 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177613 = start_170925 + defunc_0_f_res_171106;
                            float head_res_177614 = ((float *) mem_param_180068.mem)[slice_177613];
                            int64_t head_res_177615 = ((int64_t *) mem_param_180071.mem)[slice_177613];
                            
                            dummy_171144 = head_res_177614;
                            dummy_171145 = head_res_177615;
                        } else {
                            bool y_171150 = slt64((int64_t) 0, j_m_i_171117);
                            bool index_certs_171151;
                            
                            if (!y_171150) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171117, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:187:54-57\n   #12 ftsort.fut:41:3-27\n   #13 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_171152 = start_170925 + merge_sequential_arg2_171115;
                            float head_res_171153 = ((float *) mem_param_180068.mem)[slice_171152];
                            int64_t head_res_171154 = ((int64_t *) mem_param_180071.mem)[slice_171152];
                            
                            dummy_171144 = head_res_171153;
                            dummy_171145 = head_res_171154;
                        }
                        for (int64_t nest_i_181442 = 0; nest_i_181442 < merge_block_sizze_170740; nest_i_181442++) {
                            ((float *) mem_180104)[i_179674 * merge_block_sizze_170740 + nest_i_181442] = dummy_171144;
                        }
                        for (int64_t nest_i_181443 = 0; nest_i_181443 < merge_block_sizze_170740; nest_i_181443++) {
                            ((int64_t *) mem_180107)[i_179674 * merge_block_sizze_170740 + nest_i_181443] = dummy_171145;
                        }
                        
                        int64_t data_171157;
                        int64_t i_171161 = (int64_t) 0;
                        
                        for (int64_t k_171160 = 0; k_171160 < merge_block_sizze_170740; k_171160++) {
                            int64_t j_171164 = sub64(k_171160, i_171161);
                            bool cond_171165 = j_171164 == j_m_i_171117;
                            bool cond_171166;
                            
                            if (cond_171165) {
                                cond_171166 = 1;
                            } else {
                                bool cond_171167 = slt64(i_171161, j_m_i_171130);
                                bool cond_f_res_171168;
                                
                                if (cond_171167) {
                                    bool x_177616 = sle64((int64_t) 0, j_171164);
                                    bool y_177617 = slt64(j_171164, j_m_i_171117);
                                    bool bounds_check_177618 = x_177616 && y_177617;
                                    bool index_certs_177619;
                                    
                                    if (!bounds_check_177618) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171164, "] out of bounds for array of shape [", (long long) j_m_i_171117, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:187:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_177623 = sle64((int64_t) 0, i_171161);
                                    bool bounds_check_177624 = cond_171167 && x_177623;
                                    bool index_certs_177625;
                                    
                                    if (!bounds_check_177624) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171161, "] out of bounds for array of shape [", (long long) j_m_i_171130, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:187:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_177620 = merge_sequential_arg2_171115 + j_171164;
                                    int64_t slice_177621 = start_170925 + slice_177620;
                                    float leq_arg1_177622 = ((float *) mem_param_180068.mem)[slice_177621];
                                    int64_t slice_177626 = defunc_0_f_res_171106 + i_171161;
                                    int64_t slice_177627 = start_170925 + slice_177626;
                                    float leq_arg0_177628 = ((float *) mem_param_180068.mem)[slice_177627];
                                    bool zlze_res_177629 = leq_arg0_177628 <= leq_arg1_177622;
                                    
                                    cond_f_res_171168 = zlze_res_177629;
                                } else {
                                    cond_f_res_171168 = 0;
                                }
                                cond_171166 = cond_f_res_171168;
                            }
                            
                            int64_t loopres_171183;
                            float loopres_171184;
                            int64_t loopres_171185;
                            
                            if (cond_171166) {
                                bool x_177631 = sle64((int64_t) 0, i_171161);
                                bool y_177632 = slt64(i_171161, j_m_i_171130);
                                bool bounds_check_177633 = x_177631 && y_177632;
                                bool index_certs_177634;
                                
                                if (!bounds_check_177633) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171161, "] out of bounds for array of shape [", (long long) j_m_i_171130, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:187:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_177630 = add64((int64_t) 1, i_171161);
                                int64_t slice_177635 = defunc_0_f_res_171106 + i_171161;
                                int64_t slice_177636 = start_170925 + slice_177635;
                                float tmp_177637 = ((float *) mem_param_180068.mem)[slice_177636];
                                int64_t tmp_177638 = ((int64_t *) mem_param_180071.mem)[slice_177636];
                                
                                loopres_171183 = tmp_177630;
                                loopres_171184 = tmp_177637;
                                loopres_171185 = tmp_177638;
                            } else {
                                bool x_171195 = sle64((int64_t) 0, j_171164);
                                bool y_171196 = slt64(j_171164, j_m_i_171117);
                                bool bounds_check_171197 = x_171195 && y_171196;
                                bool index_certs_171198;
                                
                                if (!bounds_check_171197) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171164, "] out of bounds for array of shape [", (long long) j_m_i_171117, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:187:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_171199 = merge_sequential_arg2_171115 + j_171164;
                                int64_t slice_171200 = start_170925 + slice_171199;
                                float tmp_171201 = ((float *) mem_param_180068.mem)[slice_171200];
                                int64_t tmp_171202 = ((int64_t *) mem_param_180071.mem)[slice_171200];
                                
                                loopres_171183 = i_171161;
                                loopres_171184 = tmp_171201;
                                loopres_171185 = tmp_171202;
                            }
                            ((float *) mem_180104)[i_179674 * merge_block_sizze_170740 + k_171160] = loopres_171184;
                            ((int64_t *) mem_180107)[i_179674 * merge_block_sizze_170740 + k_171160] = loopres_171185;
                            
                            int64_t i_tmp_181444 = loopres_171183;
                            
                            i_171161 = i_tmp_181444;
                        }
                        data_171157 = i_171161;
                    }
                    if (memblock_alloc(ctx, &mem_180142, bytes_180103, "mem_180142")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_180142.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_170740, (int64_t) 1}, (uint32_t *) mem_180104, (int64_t) 0, (int64_t []) {merge_block_sizze_170740, (int64_t) 1}, (int64_t []) {num_blocks_170873, merge_block_sizze_170740});
                    if (memblock_alloc(ctx, &mem_180146, bytes_180106, "mem_180146")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180146.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_170740, (int64_t) 1}, (uint64_t *) mem_180107, (int64_t) 0, (int64_t []) {merge_block_sizze_170740, (int64_t) 1}, (int64_t []) {num_blocks_170873, merge_block_sizze_170740});
                    if (memblock_set(ctx, &ext_mem_180169, &mem_180142, "mem_180142") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180166, &mem_180146, "mem_180146") != 0)
                        return 1;
                }
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180074, i_179681 * next_stride_170853, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180169.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_170853});
                if (memblock_unref(ctx, &ext_mem_180169, "ext_mem_180169") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180077, i_179681 * next_stride_170853, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180166.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_170853});
                if (memblock_unref(ctx, &ext_mem_180166, "ext_mem_180166") != 0)
                    return 1;
            }
            
            int64_t flat_dim_171209 = next_stride_170853 * num_merges_170857;
            
            if (memblock_alloc(ctx, &mem_180180, bytes_180073, "mem_180180")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_180180.mem, (int64_t) 0, (int64_t []) {next_stride_170853, (int64_t) 1}, (uint32_t *) mem_180074, (int64_t) 0, (int64_t []) {next_stride_170853, (int64_t) 1}, (int64_t []) {num_merges_170857, next_stride_170853});
            if (memblock_alloc(ctx, &mem_180184, bytes_180076, "mem_180184")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_180184.mem, (int64_t) 0, (int64_t []) {next_stride_170853, (int64_t) 1}, (uint64_t *) mem_180077, (int64_t) 0, (int64_t []) {next_stride_170853, (int64_t) 1}, (int64_t []) {num_merges_170857, next_stride_170853});
            
            bool loop_cond_171212 = slt64(next_stride_170853, flat_dim_170737);
            
            if (memblock_set(ctx, &mem_param_tmp_181418, &mem_180180, "mem_180180") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181419, &mem_180184, "mem_180184") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_181420 = flat_dim_171209;
            bool loop_while_tmp_181421 = loop_cond_171212;
            int64_t stride_tmp_181424 = next_stride_170853;
            
            if (memblock_set(ctx, &mem_param_180068, &mem_param_tmp_181418, "mem_param_tmp_181418") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180071, &mem_param_tmp_181419, "mem_param_tmp_181419") != 0)
                return 1;
            loop_dz2084Uz2082U_170848 = loop_dz2084Uz2082U_tmp_181420;
            loop_while_170849 = loop_while_tmp_181421;
            stride_170852 = stride_tmp_181424;
        }
        if (memblock_set(ctx, &ext_mem_180191, &mem_param_180068, "mem_param_180068") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_180190, &mem_param_180071, "mem_param_180071") != 0)
            return 1;
        data_170843 = loop_dz2084Uz2082U_170848;
        data_170844 = loop_while_170849;
        data_170847 = stride_170852;
        if (memblock_unref(ctx, &mem_180060, "mem_180060") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180064, "mem_180064") != 0)
            return 1;
        
        bool empty_slice_171213 = n_105221 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_171214 = sle64((int64_t) 0, zs_lhs_170721);
        bool i_p_m_t_s_leq_w_171215 = slt64(zs_lhs_170721, data_170843);
        bool y_171216 = zzero_leq_i_p_m_t_s_171214 && i_p_m_t_s_leq_w_171215;
        bool ok_or_empty_171217 = empty_slice_171213 || y_171216;
        bool index_certs_171218;
        
        if (!ok_or_empty_171217) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_105221, "] out of bounds for array of shape [", (long long) data_170843, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:187:54-57\n   #5  ftsort.fut:41:3-27\n   #6  ftsort.fut:40:1-41:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_180194, &ext_mem_180190, "ext_mem_180190") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_179989, "mem_179989") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180196, bytes_179988, "mem_180196")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180198, bytes_180197, "mem_180198")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_179688 = 0; i_179688 < n_105221; i_179688++) {
        int64_t eta_p_171222 = ((int64_t *) ext_mem_180194.mem)[i_179688];
        bool x_171223 = sle64((int64_t) 0, eta_p_171222);
        bool y_171224 = slt64(eta_p_171222, n_105221);
        bool bounds_check_171225 = x_171223 && y_171224;
        bool index_certs_171226;
        
        if (!bounds_check_171225) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_171222, "] out of bounds for array of shape [", (long long) n_105221, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:187:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_171227 = ((int64_t *) ext_mem_179987.mem)[eta_p_171222];
        float lifted_lambda_res_171228 = ((float *) xs_mem_179986.mem)[eta_p_171222];
        
        ((int64_t *) mem_180196.mem)[i_179688] = lifted_lambda_res_171227;
        ((float *) mem_180198.mem)[i_179688] = lifted_lambda_res_171228;
    }
    if (memblock_unref(ctx, &ext_mem_179987, "ext_mem_179987") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_180194, "ext_mem_180194") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181400, &mem_180196, "mem_180196") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181401, &mem_180198, "mem_180198") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181676, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181677, &mem_out_181401, "mem_out_181401") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_179992);
        free(mem_179995);
        free(mem_180005);
        free(mem_180007);
        free(mem_180074);
        free(mem_180077);
        free(mem_180087);
        free(mem_180089);
        free(mem_180104);
        free(mem_180107);
        if (memblock_unref(ctx, &mem_180198, "mem_180198") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180196, "mem_180196") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181419, "mem_param_tmp_181419") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181418, "mem_param_tmp_181418") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180184, "mem_180184") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180180, "mem_180180") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180146, "mem_180146") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180142, "mem_180142") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180151, "mem_180151") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180149, "mem_180149") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180166, "ext_mem_180166") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180169, "ext_mem_180169") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180071, "mem_param_180071") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180068, "mem_param_180068") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180190, "ext_mem_180190") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180191, "ext_mem_180191") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180064, "mem_180064") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180060, "mem_180060") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180194, "ext_mem_180194") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179989, "mem_179989") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_179987, "ext_mem_179987") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181401, "mem_out_181401") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_181688, struct memblock *mem_out_p_181689, struct memblock xs_mem_179986, int64_t n_100534, int64_t incr_100535)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_179992_cached_sizze_181690 = 0;
    unsigned char *mem_179992 = NULL;
    int64_t mem_179995_cached_sizze_181691 = 0;
    unsigned char *mem_179995 = NULL;
    int64_t mem_180005_cached_sizze_181692 = 0;
    unsigned char *mem_180005 = NULL;
    int64_t mem_180007_cached_sizze_181693 = 0;
    unsigned char *mem_180007 = NULL;
    int64_t mem_180074_cached_sizze_181694 = 0;
    unsigned char *mem_180074 = NULL;
    int64_t mem_180077_cached_sizze_181695 = 0;
    unsigned char *mem_180077 = NULL;
    int64_t mem_180087_cached_sizze_181696 = 0;
    unsigned char *mem_180087 = NULL;
    int64_t mem_180089_cached_sizze_181697 = 0;
    unsigned char *mem_180089 = NULL;
    int64_t mem_180104_cached_sizze_181698 = 0;
    unsigned char *mem_180104 = NULL;
    int64_t mem_180107_cached_sizze_181699 = 0;
    unsigned char *mem_180107 = NULL;
    struct memblock mem_180198;
    
    mem_180198.references = NULL;
    
    struct memblock mem_180196;
    
    mem_180196.references = NULL;
    
    struct memblock mem_param_tmp_181419;
    
    mem_param_tmp_181419.references = NULL;
    
    struct memblock mem_param_tmp_181418;
    
    mem_param_tmp_181418.references = NULL;
    
    struct memblock mem_180184;
    
    mem_180184.references = NULL;
    
    struct memblock mem_180180;
    
    mem_180180.references = NULL;
    
    struct memblock mem_180146;
    
    mem_180146.references = NULL;
    
    struct memblock mem_180142;
    
    mem_180142.references = NULL;
    
    struct memblock mem_180151;
    
    mem_180151.references = NULL;
    
    struct memblock mem_180149;
    
    mem_180149.references = NULL;
    
    struct memblock ext_mem_180166;
    
    ext_mem_180166.references = NULL;
    
    struct memblock ext_mem_180169;
    
    ext_mem_180169.references = NULL;
    
    struct memblock mem_param_180071;
    
    mem_param_180071.references = NULL;
    
    struct memblock mem_param_180068;
    
    mem_param_180068.references = NULL;
    
    struct memblock ext_mem_180190;
    
    ext_mem_180190.references = NULL;
    
    struct memblock ext_mem_180191;
    
    ext_mem_180191.references = NULL;
    
    struct memblock mem_180064;
    
    mem_180064.references = NULL;
    
    struct memblock mem_180060;
    
    mem_180060.references = NULL;
    
    struct memblock ext_mem_180194;
    
    ext_mem_180194.references = NULL;
    
    struct memblock mem_179989;
    
    mem_179989.references = NULL;
    
    struct memblock ext_mem_179987;
    
    ext_mem_179987.references = NULL;
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    int64_t bytes_179988 = (int64_t) 8 * n_100534;
    bool cond_170720 = sle64(n_100534, (int64_t) 1);
    int64_t zs_lhs_170721 = sub64(n_100534, (int64_t) 1);
    int64_t zp_rhs_170722 = sdiv_safe64(zs_lhs_170721, (int64_t) 20);
    int64_t min_num_blocks_170723 = add64((int64_t) 1, zp_rhs_170722);
    bool loop_cond_170724 = slt64((int64_t) 1, min_num_blocks_170723);
    bool smallest_pow_2_geq_than_res_170725;
    int64_t smallest_pow_2_geq_than_res_170726;
    bool loop_while_170727;
    int64_t x_170728;
    
    loop_while_170727 = loop_cond_170724;
    x_170728 = (int64_t) 1;
    while (loop_while_170727) {
        int64_t loopres_170729 = mul64((int64_t) 2, x_170728);
        bool loop_cond_170730 = slt64(loopres_170729, min_num_blocks_170723);
        bool loop_while_tmp_181402 = loop_cond_170730;
        int64_t x_tmp_181403 = loopres_170729;
        
        loop_while_170727 = loop_while_tmp_181402;
        x_170728 = x_tmp_181403;
    }
    smallest_pow_2_geq_than_res_170725 = loop_while_170727;
    smallest_pow_2_geq_than_res_170726 = x_170728;
    
    bool zzero_170731 = smallest_pow_2_geq_than_res_170726 == (int64_t) 0;
    bool nonzzero_170732 = !zzero_170731;
    bool protect_assert_disj_170733 = cond_170720 || nonzzero_170732;
    bool nonzzero_cert_170734;
    
    if (!protect_assert_disj_170733) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:134:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_170735 = sdiv_safe64(zs_lhs_170721, smallest_pow_2_geq_than_res_170726);
    int64_t block_sizze_170736 = add64((int64_t) 1, zp_rhs_170735);
    bool y_170741 = slt64((int64_t) 0, n_100534);
    bool protect_assert_disj_181099 = cond_170720 || y_170741;
    bool index_certs_170742;
    
    if (!protect_assert_disj_181099) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_100534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:134:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_170755 = slt64(smallest_pow_2_geq_than_res_170726, (int64_t) 0);
    bool valid_170756 = !bounds_invalid_upwards_170755;
    bool protect_assert_disj_181107 = cond_170720 || valid_170756;
    bool range_valid_c_170757;
    
    if (!protect_assert_disj_181107) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_170726, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:134:54-57\n   #6  ftsort.fut:35:3-25\n   #7  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_170759 = slt64(block_sizze_170736, (int64_t) 0);
    bool valid_170760 = !bounds_invalid_upwards_170759;
    bool protect_assert_disj_181109 = cond_170720 || valid_170760;
    bool range_valid_c_170761;
    
    if (!protect_assert_disj_181109) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_170736, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:134:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_170763 = sle64(block_sizze_170736, (int64_t) 1);
    int64_t tmp_170764 = sub64(block_sizze_170736, (int64_t) 2);
    bool bounds_invalid_upwards_170765 = slt64(tmp_170764, (int64_t) 0);
    bool valid_170767 = !bounds_invalid_upwards_170765;
    bool protect_assert_disj_170768 = cond_170763 || valid_170767;
    bool protect_assert_disj_181111 = cond_170720 || protect_assert_disj_170768;
    bool range_valid_c_170769;
    
    if (!protect_assert_disj_181111) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_170764, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180197 = (int64_t) 4 * n_100534;
    
    if (futrts_indicesWithIncrement_9184(ctx, &ext_mem_179987, xs_mem_179986, n_100534, incr_100535) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_179989, bytes_179988, "mem_179989")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181404 = 0; i_181404 < n_100534; i_181404++) {
        int64_t x_181405 = (int64_t) 0 + i_181404 * (int64_t) 1;
        
        ((int64_t *) mem_179989.mem)[i_181404] = x_181405;
    }
    
    int64_t flat_dim_170737 = smallest_pow_2_geq_than_res_170726 * block_sizze_170736;
    bool x_181094 = !cond_170720;
    int64_t greatest_divisor_leq_than_arg1_170739 = mul64((int64_t) 2, block_sizze_170736);
    int64_t merge_block_sizze_170740;
    
    if (x_181094) {
        int64_t x_181096;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181096, (int64_t) 8, greatest_divisor_leq_than_arg1_170739) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_170740 = x_181096;
    } else {
        merge_block_sizze_170740 = (int64_t) 0;
    }
    
    int32_t reduce_arg1_170743;
    
    if (x_181094) {
        int32_t x_181100 = ((int32_t *) xs_mem_179986.mem)[(int64_t) 0];
        
        reduce_arg1_170743 = x_181100;
    } else {
        reduce_arg1_170743 = 0;
    }
    
    int32_t defunc_0_reduce_res_177645;
    int64_t defunc_0_reduce_res_177646;
    
    if (x_181094) {
        int32_t x_181102;
        int64_t x_181103;
        int32_t redout_179646;
        int64_t redout_179647;
        
        redout_179646 = reduce_arg1_170743;
        redout_179647 = (int64_t) 0;
        for (int64_t i_179648 = 0; i_179648 < n_100534; i_179648++) {
            int32_t x_170746 = ((int32_t *) xs_mem_179986.mem)[i_179648];
            bool zlze_res_170752 = sle32(redout_179646, x_170746);
            int32_t defunc_0_op_res_170753;
            
            if (zlze_res_170752) {
                defunc_0_op_res_170753 = x_170746;
            } else {
                defunc_0_op_res_170753 = redout_179646;
            }
            
            int64_t defunc_0_op_res_170754;
            
            if (zlze_res_170752) {
                defunc_0_op_res_170754 = i_179648;
            } else {
                defunc_0_op_res_170754 = redout_179647;
            }
            
            int32_t redout_tmp_181406 = defunc_0_op_res_170753;
            int64_t redout_tmp_181407 = defunc_0_op_res_170754;
            
            redout_179646 = redout_tmp_181406;
            redout_179647 = redout_tmp_181407;
        }
        x_181102 = redout_179646;
        x_181103 = redout_179647;
        defunc_0_reduce_res_177645 = x_181102;
        defunc_0_reduce_res_177646 = x_181103;
    } else {
        defunc_0_reduce_res_177645 = 0;
        defunc_0_reduce_res_177646 = (int64_t) 0;
    }
    
    int64_t distance_170766 = add64((int64_t) 1, tmp_170764);
    int64_t binop_x_179990 = (int64_t) 4 * smallest_pow_2_geq_than_res_170726;
    int64_t bytes_179991 = block_sizze_170736 * binop_x_179990;
    int64_t binop_x_179993 = (int64_t) 8 * smallest_pow_2_geq_than_res_170726;
    int64_t bytes_179994 = block_sizze_170736 * binop_x_179993;
    int64_t bytes_180004 = (int64_t) 4 * block_sizze_170736;
    int64_t bytes_180006 = (int64_t) 8 * block_sizze_170736;
    bool loop_cond_170840 = slt64(block_sizze_170736, flat_dim_170737);
    bool zzero_170841 = merge_block_sizze_170740 == (int64_t) 0;
    bool nonzzero_170842 = !zzero_170841;
    
    if (cond_170720) {
        if (memblock_set(ctx, &ext_mem_180194, &mem_179989, "mem_179989") != 0)
            return 1;
    } else {
        if (mem_179992_cached_sizze_181690 < bytes_179991) {
            err = lexical_realloc(ctx, &mem_179992, &mem_179992_cached_sizze_181690, bytes_179991);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_179995_cached_sizze_181691 < bytes_179994) {
            err = lexical_realloc(ctx, &mem_179995, &mem_179995_cached_sizze_181691, bytes_179994);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180005_cached_sizze_181692 < bytes_180004) {
            err = lexical_realloc(ctx, &mem_180005, &mem_180005_cached_sizze_181692, bytes_180004);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180007_cached_sizze_181693 < bytes_180006) {
            err = lexical_realloc(ctx, &mem_180007, &mem_180007_cached_sizze_181693, bytes_180006);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_179660 = 0; i_179660 < smallest_pow_2_geq_than_res_170726; i_179660++) {
            int64_t zp_lhs_170773 = mul64(block_sizze_170736, i_179660);
            
            for (int64_t i_179653 = 0; i_179653 < block_sizze_170736; i_179653++) {
                int64_t k_170777 = add64(zp_lhs_170773, i_179653);
                bool cond_170778 = slt64(k_170777, n_100534);
                int32_t lifted_lambda_res_170779;
                int64_t lifted_lambda_res_170780;
                
                if (cond_170778) {
                    bool x_177498 = sle64((int64_t) 0, k_170777);
                    bool bounds_check_177499 = cond_170778 && x_177498;
                    bool index_certs_177500;
                    
                    if (!bounds_check_177499) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_170777, "] out of bounds for array of shape [", (long long) n_100534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:134:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int32_t lifted_lambda_res_t_res_177501 = ((int32_t *) xs_mem_179986.mem)[k_170777];
                    
                    lifted_lambda_res_170779 = lifted_lambda_res_t_res_177501;
                    lifted_lambda_res_170780 = k_170777;
                } else {
                    lifted_lambda_res_170779 = defunc_0_reduce_res_177645;
                    lifted_lambda_res_170780 = defunc_0_reduce_res_177646;
                }
                ((int32_t *) mem_180005)[i_179653] = lifted_lambda_res_170779;
                ((int64_t *) mem_180007)[i_179653] = lifted_lambda_res_170780;
            }
            if (!cond_170763) {
                for (int64_t i_170789 = 0; i_170789 < distance_170766; i_170789++) {
                    int64_t gt_arg1_170792 = add64((int64_t) 1, i_170789);
                    bool x_170793 = sle64((int64_t) 0, gt_arg1_170792);
                    bool y_170794 = slt64(gt_arg1_170792, block_sizze_170736);
                    bool bounds_check_170795 = x_170793 && y_170794;
                    bool index_certs_170796;
                    
                    if (!bounds_check_170795) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_170792, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_170798 = slt64(i_170789, block_sizze_170736);
                    bool index_certs_170799;
                    
                    if (!y_170798) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_170789, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int32_t gt_arg1_170797 = ((int32_t *) mem_180005)[gt_arg1_170792];
                    int32_t gt_arg0_170800 = ((int32_t *) mem_180005)[i_170789];
                    bool zlze_res_170801 = sle32(gt_arg0_170800, gt_arg1_170797);
                    bool defunc_0_lifted_gt_res_170802 = !zlze_res_170801;
                    bool s_170803;
                    int64_t s_170806;
                    bool loop_while_170807;
                    int64_t j_170810;
                    
                    loop_while_170807 = defunc_0_lifted_gt_res_170802;
                    j_170810 = i_170789;
                    while (loop_while_170807) {
                        bool x_170811 = sle64((int64_t) 0, j_170810);
                        bool y_170812 = slt64(j_170810, block_sizze_170736);
                        bool bounds_check_170813 = x_170811 && y_170812;
                        bool index_certs_170814;
                        
                        if (!bounds_check_170813) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_170810, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_170817 = add64((int64_t) 1, j_170810);
                        bool x_170818 = sle64((int64_t) 0, copy_arg0_170817);
                        bool y_170819 = slt64(copy_arg0_170817, block_sizze_170736);
                        bool bounds_check_170820 = x_170818 && y_170819;
                        bool index_certs_170821;
                        
                        if (!bounds_check_170820) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_170817, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int32_t copy_arg0_170815 = ((int32_t *) mem_180005)[j_170810];
                        int64_t copy_arg0_170816 = ((int64_t *) mem_180007)[j_170810];
                        int32_t copy_arg0_170822 = ((int32_t *) mem_180005)[copy_arg0_170817];
                        int64_t copy_arg0_170823 = ((int64_t *) mem_180007)[copy_arg0_170817];
                        
                        ((int32_t *) mem_180005)[j_170810] = copy_arg0_170822;
                        ((int64_t *) mem_180007)[j_170810] = copy_arg0_170823;
                        ((int32_t *) mem_180005)[copy_arg0_170817] = copy_arg0_170815;
                        ((int64_t *) mem_180007)[copy_arg0_170817] = copy_arg0_170816;
                        
                        int64_t tmp_170828 = sub64(j_170810, (int64_t) 1);
                        bool cond_170829 = sle64((int64_t) 0, tmp_170828);
                        bool loop_cond_170830;
                        
                        if (cond_170829) {
                            bool y_177503 = slt64(tmp_170828, block_sizze_170736);
                            bool bounds_check_177504 = cond_170829 && y_177503;
                            bool index_certs_177505;
                            
                            if (!bounds_check_177504) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_170828, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int32_t gt_arg1_177502 = ((int32_t *) mem_180005)[j_170810];
                            int32_t gt_arg0_177506 = ((int32_t *) mem_180005)[tmp_170828];
                            bool zlze_res_177507 = sle32(gt_arg0_177506, gt_arg1_177502);
                            bool defunc_0_lifted_gt_res_177508 = !zlze_res_177507;
                            
                            loop_cond_170830 = defunc_0_lifted_gt_res_177508;
                        } else {
                            loop_cond_170830 = 0;
                        }
                        
                        bool loop_while_tmp_181414 = loop_cond_170830;
                        int64_t j_tmp_181417 = tmp_170828;
                        
                        loop_while_170807 = loop_while_tmp_181414;
                        j_170810 = j_tmp_181417;
                    }
                    s_170803 = loop_while_170807;
                    s_170806 = j_170810;
                }
            }
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_179992, i_179660 * block_sizze_170736, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180005, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_170736});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_179995, i_179660 * block_sizze_170736, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180007, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_170736});
        }
        if (memblock_alloc(ctx, &mem_180060, bytes_179991, "mem_180060")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_180060.mem, (int64_t) 0, (int64_t []) {block_sizze_170736, (int64_t) 1}, (uint32_t *) mem_179992, (int64_t) 0, (int64_t []) {block_sizze_170736, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_170726, block_sizze_170736});
        if (memblock_alloc(ctx, &mem_180064, bytes_179994, "mem_180064")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180064.mem, (int64_t) 0, (int64_t []) {block_sizze_170736, (int64_t) 1}, (uint64_t *) mem_179995, (int64_t) 0, (int64_t []) {block_sizze_170736, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_170726, block_sizze_170736});
        
        int64_t data_170843;
        bool data_170844;
        int64_t data_170847;
        int64_t loop_dz2084Uz2082U_170848;
        bool loop_while_170849;
        int64_t stride_170852;
        
        if (memblock_set(ctx, &mem_param_180068, &mem_180060, "mem_180060") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180071, &mem_180064, "mem_180064") != 0)
            return 1;
        loop_dz2084Uz2082U_170848 = flat_dim_170737;
        loop_while_170849 = loop_cond_170840;
        stride_170852 = block_sizze_170736;
        while (loop_while_170849) {
            int64_t next_stride_170853 = mul64((int64_t) 2, stride_170852);
            bool zzero_170854 = next_stride_170853 == (int64_t) 0;
            bool nonzzero_170855 = !zzero_170854;
            bool nonzzero_cert_170856;
            
            if (!nonzzero_170855) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:134:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_170857 = sdiv64(flat_dim_170737, next_stride_170853);
            bool bounds_invalid_upwards_170858 = slt64(num_merges_170857, (int64_t) 0);
            bool valid_170859 = !bounds_invalid_upwards_170858;
            bool range_valid_c_170860;
            
            if (!valid_170859) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_170857, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:134:54-57\n   #6  ftsort.fut:35:3-25\n   #7  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_170862 = sub64(next_stride_170853, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_170863 = sle64((int64_t) 0, m_170862);
            bool cond_170865 = slt64(next_stride_170853, (int64_t) 10);
            bool protect_assert_disj_170866 = nonzzero_170842 || cond_170865;
            bool nonzzero_cert_170867;
            
            if (!protect_assert_disj_170866) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_170868 = smod_safe64(next_stride_170853, merge_block_sizze_170740);
            bool num_blocks_170869 = zeze_lhs_170868 == (int64_t) 0;
            bool protect_assert_disj_170870 = cond_170865 || num_blocks_170869;
            bool assert_c_170871;
            
            if (!protect_assert_disj_170870) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_170873 = sdiv_safe64(next_stride_170853, merge_block_sizze_170740);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874 = add64((int64_t) 1, num_blocks_170873);
            int64_t j_m_i_170875 = sub64(next_stride_170853, stride_170852);
            int64_t flat_dim_170876 = merge_block_sizze_170740 * num_blocks_170873;
            bool bounds_invalid_upwards_170877 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874, (int64_t) 0);
            bool zzero_lte_i_170878 = sle64((int64_t) 0, stride_170852);
            bool i_lte_j_170879 = sle64(stride_170852, next_stride_170853);
            bool empty_slice_170880 = stride_170852 == (int64_t) 0;
            int64_t m_170881 = sub64(stride_170852, (int64_t) 1);
            bool bounds_invalid_upwards_170882 = slt64(num_blocks_170873, (int64_t) 0);
            bool empty_slice_170883 = j_m_i_170875 == (int64_t) 0;
            int64_t m_170884 = sub64(j_m_i_170875, (int64_t) 1);
            bool cond_170885 = slt64((int64_t) 0, stride_170852);
            bool valid_170886 = !bounds_invalid_upwards_170877;
            bool zzero_leq_i_p_m_t_s_170887 = sle64((int64_t) 0, m_170881);
            bool i_p_m_t_s_leq_w_170888 = slt64(m_170881, next_stride_170853);
            bool valid_170889 = !bounds_invalid_upwards_170882;
            bool i_p_m_t_s_leq_w_170890 = slt64(m_170862, flat_dim_170876);
            int64_t i_p_m_t_s_170891 = add64(stride_170852, m_170884);
            bool y_170892 = slt64((int64_t) 0, j_m_i_170875);
            bool protect_assert_disj_170893 = cond_170865 || valid_170886;
            bool range_valid_c_170894;
            
            if (!protect_assert_disj_170893) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:134:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_170895 = zzero_leq_i_p_m_t_s_170887 && i_p_m_t_s_leq_w_170888;
            bool protect_assert_disj_170896 = cond_170865 || valid_170889;
            bool range_valid_c_170897;
            
            if (!protect_assert_disj_170896) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_170873, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:134:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_170898 = zzero_leq_i_p_m_t_s_170863 && i_p_m_t_s_leq_w_170890;
            bool zzero_leq_i_p_m_t_s_170899 = sle64((int64_t) 0, i_p_m_t_s_170891);
            bool i_p_m_t_s_leq_w_170900 = slt64(i_p_m_t_s_170891, next_stride_170853);
            bool forwards_ok_170901 = zzero_lte_i_170878 && y_170895;
            bool ok_or_empty_170902 = zzero_170854 || y_170898;
            bool y_170903 = zzero_lte_i_170878 && i_p_m_t_s_leq_w_170900;
            bool protect_assert_disj_170904 = cond_170885 || y_170892;
            bool ok_or_empty_170905 = empty_slice_170880 || forwards_ok_170901;
            bool protect_assert_disj_170906 = cond_170865 || ok_or_empty_170902;
            bool index_certs_170907;
            
            if (!protect_assert_disj_170906) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_170853, "] out of bounds for array of shape [", (long long) flat_dim_170876, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:134:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_170908 = zzero_leq_i_p_m_t_s_170899 && y_170903;
            bool loop_not_taken_170909 = !cond_170865;
            bool protect_assert_disj_170910 = protect_assert_disj_170904 || loop_not_taken_170909;
            bool index_certs_170911;
            
            if (!protect_assert_disj_170910) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:134:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_170912 = cond_170865 || ok_or_empty_170905;
            bool index_certs_170913;
            
            if (!protect_assert_disj_170912) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_170852, "] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:134:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_170914 = i_lte_j_170879 && y_170908;
            bool protect_assert_disj_170915 = ok_or_empty_170905 || loop_not_taken_170909;
            bool index_certs_170916;
            
            if (!protect_assert_disj_170915) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_170852, "] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_170917 = empty_slice_170883 || forwards_ok_170914;
            bool protect_assert_disj_170918 = loop_not_taken_170909 || ok_or_empty_170917;
            bool index_certs_170919;
            
            if (!protect_assert_disj_170918) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_170852, ":] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_170920 = cond_170865 || ok_or_empty_170917;
            bool index_certs_170921;
            
            if (!protect_assert_disj_170920) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_170852, ":] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:134:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_180072 = (int64_t) 4 * num_merges_170857;
            int64_t bytes_180073 = next_stride_170853 * binop_x_180072;
            int64_t binop_x_180075 = (int64_t) 8 * num_merges_170857;
            int64_t bytes_180076 = next_stride_170853 * binop_x_180075;
            bool i_lte_j_170864 = sle64((int64_t) 0, next_stride_170853);
            
            if (mem_180074_cached_sizze_181694 < bytes_180073) {
                err = lexical_realloc(ctx, &mem_180074, &mem_180074_cached_sizze_181694, bytes_180073);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180077_cached_sizze_181695 < bytes_180076) {
                err = lexical_realloc(ctx, &mem_180077, &mem_180077_cached_sizze_181695, bytes_180076);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_180086 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874;
            int64_t binop_x_180102 = (int64_t) 4 * num_blocks_170873;
            int64_t bytes_180103 = merge_block_sizze_170740 * binop_x_180102;
            int64_t binop_x_180105 = (int64_t) 8 * num_blocks_170873;
            int64_t bytes_180106 = merge_block_sizze_170740 * binop_x_180105;
            int64_t bytes_180148 = (int64_t) 8 * stride_170852;
            int64_t bytes_180150 = (int64_t) 16 * stride_170852;
            
            for (int64_t i_179681 = 0; i_179681 < num_merges_170857; i_179681++) {
                int64_t start_170925 = mul64(next_stride_170853, i_179681);
                int64_t j_m_i_170926 = sub64(loop_dz2084Uz2082U_170848, start_170925);
                bool empty_slice_170927 = j_m_i_170926 == (int64_t) 0;
                int64_t m_170928 = sub64(j_m_i_170926, (int64_t) 1);
                int64_t i_p_m_t_s_170929 = add64(start_170925, m_170928);
                bool zzero_leq_i_p_m_t_s_170930 = sle64((int64_t) 0, i_p_m_t_s_170929);
                bool i_p_m_t_s_leq_w_170931 = slt64(i_p_m_t_s_170929, loop_dz2084Uz2082U_170848);
                bool zzero_lte_i_170932 = sle64((int64_t) 0, start_170925);
                bool i_lte_j_170933 = sle64(start_170925, loop_dz2084Uz2082U_170848);
                bool y_170934 = i_p_m_t_s_leq_w_170931 && zzero_lte_i_170932;
                bool y_170935 = zzero_leq_i_p_m_t_s_170930 && y_170934;
                bool forwards_ok_170936 = i_lte_j_170933 && y_170935;
                bool ok_or_empty_170937 = empty_slice_170927 || forwards_ok_170936;
                bool index_certs_170938;
                
                if (!ok_or_empty_170937) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_170925, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_170848, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_170939 = slt64(m_170862, j_m_i_170926);
                bool y_170940 = zzero_leq_i_p_m_t_s_170863 && i_p_m_t_s_leq_w_170939;
                bool forwards_ok_170941 = i_lte_j_170864 && y_170940;
                bool ok_or_empty_170942 = zzero_170854 || forwards_ok_170941;
                bool index_certs_170943;
                
                if (!ok_or_empty_170942) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_170853, "] out of bounds for array of shape [", (long long) j_m_i_170926, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_170865) {
                    int32_t dummy_177534;
                    int64_t dummy_177535;
                    
                    if (cond_170885) {
                        int32_t head_res_177536 = ((int32_t *) mem_param_180068.mem)[start_170925];
                        int64_t head_res_177537 = ((int64_t *) mem_param_180071.mem)[start_170925];
                        
                        dummy_177534 = head_res_177536;
                        dummy_177535 = head_res_177537;
                    } else {
                        int64_t slice_177538 = stride_170852 + start_170925;
                        int32_t head_res_177539 = ((int32_t *) mem_param_180068.mem)[slice_177538];
                        int64_t head_res_177540 = ((int64_t *) mem_param_180071.mem)[slice_177538];
                        
                        dummy_177534 = head_res_177539;
                        dummy_177535 = head_res_177540;
                    }
                    if (memblock_alloc(ctx, &mem_180149, bytes_180148, "mem_180149")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181427 = 0; nest_i_181427 < next_stride_170853; nest_i_181427++) {
                        ((int32_t *) mem_180149.mem)[nest_i_181427] = dummy_177534;
                    }
                    if (memblock_alloc(ctx, &mem_180151, bytes_180150, "mem_180151")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181428 = 0; nest_i_181428 < next_stride_170853; nest_i_181428++) {
                        ((int64_t *) mem_180151.mem)[nest_i_181428] = dummy_177535;
                    }
                    
                    int64_t data_177543;
                    int64_t i_177547 = (int64_t) 0;
                    
                    for (int64_t k_177546 = 0; k_177546 < next_stride_170853; k_177546++) {
                        int64_t j_177550 = sub64(k_177546, i_177547);
                        bool cond_177551 = j_177550 == j_m_i_170875;
                        bool cond_177552;
                        
                        if (cond_177551) {
                            cond_177552 = 1;
                        } else {
                            bool cond_177553 = slt64(i_177547, stride_170852);
                            bool cond_f_res_177554;
                            
                            if (cond_177553) {
                                bool x_177555 = sle64((int64_t) 0, j_177550);
                                bool y_177556 = slt64(j_177550, j_m_i_170875);
                                bool bounds_check_177557 = x_177555 && y_177556;
                                bool index_certs_177558;
                                
                                if (!bounds_check_177557) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177550, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:134:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_177562 = sle64((int64_t) 0, i_177547);
                                bool bounds_check_177563 = cond_177553 && x_177562;
                                bool index_certs_177564;
                                
                                if (!bounds_check_177563) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177547, "] out of bounds for array of shape [", (long long) stride_170852, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:134:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177559 = stride_170852 + j_177550;
                                int64_t slice_177560 = start_170925 + slice_177559;
                                int32_t leq_arg1_177561 = ((int32_t *) mem_param_180068.mem)[slice_177560];
                                int64_t slice_177565 = start_170925 + i_177547;
                                int32_t leq_arg0_177566 = ((int32_t *) mem_param_180068.mem)[slice_177565];
                                bool zlze_res_177567 = sle32(leq_arg0_177566, leq_arg1_177561);
                                
                                cond_f_res_177554 = zlze_res_177567;
                            } else {
                                cond_f_res_177554 = 0;
                            }
                            cond_177552 = cond_f_res_177554;
                        }
                        
                        int64_t loopres_177568;
                        int32_t loopres_177569;
                        int64_t loopres_177570;
                        
                        if (cond_177552) {
                            bool x_177572 = sle64((int64_t) 0, i_177547);
                            bool y_177573 = slt64(i_177547, stride_170852);
                            bool bounds_check_177574 = x_177572 && y_177573;
                            bool index_certs_177575;
                            
                            if (!bounds_check_177574) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177547, "] out of bounds for array of shape [", (long long) stride_170852, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:134:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_177571 = add64((int64_t) 1, i_177547);
                            int64_t slice_177576 = start_170925 + i_177547;
                            int32_t tmp_177577 = ((int32_t *) mem_param_180068.mem)[slice_177576];
                            int64_t tmp_177578 = ((int64_t *) mem_param_180071.mem)[slice_177576];
                            
                            loopres_177568 = tmp_177571;
                            loopres_177569 = tmp_177577;
                            loopres_177570 = tmp_177578;
                        } else {
                            bool x_177579 = sle64((int64_t) 0, j_177550);
                            bool y_177580 = slt64(j_177550, j_m_i_170875);
                            bool bounds_check_177581 = x_177579 && y_177580;
                            bool index_certs_177582;
                            
                            if (!bounds_check_177581) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177550, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:134:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177583 = stride_170852 + j_177550;
                            int64_t slice_177584 = start_170925 + slice_177583;
                            int32_t tmp_177585 = ((int32_t *) mem_param_180068.mem)[slice_177584];
                            int64_t tmp_177586 = ((int64_t *) mem_param_180071.mem)[slice_177584];
                            
                            loopres_177568 = i_177547;
                            loopres_177569 = tmp_177585;
                            loopres_177570 = tmp_177586;
                        }
                        ((int32_t *) mem_180149.mem)[k_177546] = loopres_177569;
                        ((int64_t *) mem_180151.mem)[k_177546] = loopres_177570;
                        
                        int64_t i_tmp_181429 = loopres_177568;
                        
                        i_177547 = i_tmp_181429;
                    }
                    data_177543 = i_177547;
                    if (memblock_set(ctx, &ext_mem_180169, &mem_180149, "mem_180149") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180166, &mem_180151, "mem_180151") != 0)
                        return 1;
                } else {
                    if (mem_180087_cached_sizze_181696 < bytes_180086) {
                        err = lexical_realloc(ctx, &mem_180087, &mem_180087_cached_sizze_181696, bytes_180086);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180089_cached_sizze_181697 < bytes_180086) {
                        err = lexical_realloc(ctx, &mem_180089, &mem_180089_cached_sizze_181697, bytes_180086);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179667 = 0; i_179667 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874; i_179667++) {
                        int64_t split_count_arg3_171005 = mul64(merge_block_sizze_170740, i_179667);
                        int64_t defunc_0_split_count_res_171006;
                        int64_t defunc_0_split_count_res_171007;
                        int64_t defunc_0_split_count_res_171008;
                        int64_t defunc_0_split_count_res_171009;
                        int64_t defunc_0_split_count_res_171010;
                        
                        if (futrts_lifted_normalizze_8970(ctx, &defunc_0_split_count_res_171006, &defunc_0_split_count_res_171007, &defunc_0_split_count_res_171008, &defunc_0_split_count_res_171009, &defunc_0_split_count_res_171010, (int64_t) 0, stride_170852, (int64_t) 0, j_m_i_170875, split_count_arg3_171005) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_171011 = slt64((int64_t) 0, defunc_0_split_count_res_171010);
                        bool defunc_0_split_count_res_171012;
                        int64_t defunc_0_split_count_res_171013;
                        int64_t defunc_0_split_count_res_171014;
                        int64_t defunc_0_split_count_res_171015;
                        int64_t defunc_0_split_count_res_171016;
                        int64_t defunc_0_split_count_res_171017;
                        bool loop_while_171018;
                        int64_t ss_171019;
                        int64_t ss_171020;
                        int64_t tt_171021;
                        int64_t tt_171022;
                        int64_t count_171023;
                        
                        loop_while_171018 = loop_cond_171011;
                        ss_171019 = defunc_0_split_count_res_171006;
                        ss_171020 = defunc_0_split_count_res_171007;
                        tt_171021 = defunc_0_split_count_res_171008;
                        tt_171022 = defunc_0_split_count_res_171009;
                        count_171023 = defunc_0_split_count_res_171010;
                        while (loop_while_171018) {
                            int64_t zlze_lhs_171024 = sub64(ss_171020, ss_171019);
                            bool cond_171025 = sle64(zlze_lhs_171024, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_171026;
                            int64_t defunc_0_lifted_step_res_171027;
                            int64_t defunc_0_lifted_step_res_171028;
                            int64_t defunc_0_lifted_step_res_171029;
                            
                            if (cond_171025) {
                                int64_t tmp_177589 = add64(tt_171021, count_171023);
                                
                                defunc_0_lifted_step_res_171026 = ss_171019;
                                defunc_0_lifted_step_res_171027 = tmp_177589;
                                defunc_0_lifted_step_res_171028 = tt_171022;
                                defunc_0_lifted_step_res_171029 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_171031 = sub64(tt_171022, tt_171021);
                                bool cond_171032 = sle64(zlze_lhs_171031, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_171033;
                                int64_t defunc_0_lifted_step_res_f_res_171034;
                                int64_t defunc_0_lifted_step_res_f_res_171035;
                                int64_t defunc_0_lifted_step_res_f_res_171036;
                                
                                if (cond_171032) {
                                    int64_t tmp_177590 = add64(ss_171019, count_171023);
                                    
                                    defunc_0_lifted_step_res_f_res_171033 = tmp_177590;
                                    defunc_0_lifted_step_res_f_res_171034 = tt_171021;
                                    defunc_0_lifted_step_res_f_res_171035 = tt_171022;
                                    defunc_0_lifted_step_res_f_res_171036 = (int64_t) 0;
                                } else {
                                    bool cond_171038 = count_171023 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171039;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171040;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171041;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171042;
                                    
                                    if (cond_171038) {
                                        bool x_177592 = sle64((int64_t) 0, ss_171019);
                                        bool y_177593 = slt64(ss_171019, stride_170852);
                                        bool bounds_check_177594 = x_177592 && y_177593;
                                        bool index_certs_177595;
                                        
                                        if (!bounds_check_177594) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_171019, "] out of bounds for array of shape [", (long long) stride_170852, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:134:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_177598 = sle64((int64_t) 0, tt_171021);
                                        bool y_177599 = slt64(tt_171021, j_m_i_170875);
                                        bool bounds_check_177600 = x_177598 && y_177599;
                                        bool index_certs_177601;
                                        
                                        if (!bounds_check_177600) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_171021, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:134:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177596 = start_170925 + ss_171019;
                                        int32_t leq_arg1_177597 = ((int32_t *) mem_param_180068.mem)[slice_177596];
                                        int64_t slice_177602 = stride_170852 + tt_171021;
                                        int64_t slice_177603 = start_170925 + slice_177602;
                                        int32_t leq_arg0_177604 = ((int32_t *) mem_param_180068.mem)[slice_177603];
                                        bool zlze_res_177605 = sle32(leq_arg0_177604, leq_arg1_177597);
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_177606;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_177607;
                                        
                                        if (zlze_res_177605) {
                                            int64_t tmp_177608 = add64((int64_t) 1, tt_171021);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177606 = ss_171019;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177607 = tmp_177608;
                                        } else {
                                            int64_t tmp_177609 = add64((int64_t) 1, ss_171019);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177606 = tmp_177609;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177607 = tt_171021;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171039 = defunc_0_lifted_step_res_f_res_f_res_t_res_177606;
                                        defunc_0_lifted_step_res_f_res_f_res_171040 = defunc_0_lifted_step_res_f_res_f_res_t_res_177607;
                                        defunc_0_lifted_step_res_f_res_f_res_171041 = tt_171022;
                                        defunc_0_lifted_step_res_f_res_f_res_171042 = (int64_t) 0;
                                    } else {
                                        int64_t m_171061 = sdiv64(count_171023, (int64_t) 2);
                                        int64_t n_171062 = sub64(count_171023, m_171061);
                                        bool cond_171063 = n_171062 == (int64_t) 0;
                                        int64_t zgze_lhs_171064 = add64(ss_171019, m_171061);
                                        bool cond_f_res_171065 = sle64(ss_171020, zgze_lhs_171064);
                                        bool x_171066 = !cond_171063;
                                        bool y_171067 = cond_f_res_171065 && x_171066;
                                        bool cond_171068 = cond_171063 || y_171067;
                                        bool leq_y_x_171069;
                                        
                                        if (cond_171068) {
                                            leq_y_x_171069 = 1;
                                        } else {
                                            bool x_171070 = sle64((int64_t) 0, zgze_lhs_171064);
                                            bool y_171071 = slt64(zgze_lhs_171064, stride_170852);
                                            bool bounds_check_171072 = x_171070 && y_171071;
                                            bool index_certs_171073;
                                            
                                            if (!bounds_check_171072) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_171064, "] out of bounds for array of shape [", (long long) stride_170852, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:134:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_171076 = add64(tt_171021, n_171062);
                                            int64_t leq_arg0_171077 = sub64(zm_lhs_171076, (int64_t) 1);
                                            bool x_171078 = sle64((int64_t) 0, leq_arg0_171077);
                                            bool y_171079 = slt64(leq_arg0_171077, j_m_i_170875);
                                            bool bounds_check_171080 = x_171078 && y_171079;
                                            bool index_certs_171081;
                                            
                                            if (!bounds_check_171080) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_171077, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:134:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_171074 = start_170925 + zgze_lhs_171064;
                                            int32_t leq_arg1_171075 = ((int32_t *) mem_param_180068.mem)[slice_171074];
                                            int64_t slice_171082 = stride_170852 + leq_arg0_171077;
                                            int64_t slice_171083 = start_170925 + slice_171082;
                                            int32_t leq_arg0_171084 = ((int32_t *) mem_param_180068.mem)[slice_171083];
                                            bool zlze_res_171085 = sle32(leq_arg0_171084, leq_arg1_171075);
                                            
                                            leq_y_x_171069 = zlze_res_171085;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171086;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171087;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171088;
                                        
                                        if (leq_y_x_171069) {
                                            int64_t tmp_177610 = add64(tt_171021, n_171062);
                                            int64_t tmp_177611 = sub64(count_171023, n_171062);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171086 = tmp_177610;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171087 = tt_171022;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171088 = tmp_177611;
                                        } else {
                                            int64_t tmp_171091 = add64(tt_171021, n_171062);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171086 = tt_171021;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171087 = tmp_171091;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171088 = count_171023;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171039 = ss_171019;
                                        defunc_0_lifted_step_res_f_res_f_res_171040 = defunc_0_lifted_step_res_f_res_f_res_f_res_171086;
                                        defunc_0_lifted_step_res_f_res_f_res_171041 = defunc_0_lifted_step_res_f_res_f_res_f_res_171087;
                                        defunc_0_lifted_step_res_f_res_f_res_171042 = defunc_0_lifted_step_res_f_res_f_res_f_res_171088;
                                    }
                                    defunc_0_lifted_step_res_f_res_171033 = defunc_0_lifted_step_res_f_res_f_res_171039;
                                    defunc_0_lifted_step_res_f_res_171034 = defunc_0_lifted_step_res_f_res_f_res_171040;
                                    defunc_0_lifted_step_res_f_res_171035 = defunc_0_lifted_step_res_f_res_f_res_171041;
                                    defunc_0_lifted_step_res_f_res_171036 = defunc_0_lifted_step_res_f_res_f_res_171042;
                                }
                                defunc_0_lifted_step_res_171026 = defunc_0_lifted_step_res_f_res_171033;
                                defunc_0_lifted_step_res_171027 = defunc_0_lifted_step_res_f_res_171034;
                                defunc_0_lifted_step_res_171028 = defunc_0_lifted_step_res_f_res_171035;
                                defunc_0_lifted_step_res_171029 = defunc_0_lifted_step_res_f_res_171036;
                            }
                            
                            int64_t loopres_171092;
                            int64_t loopres_171093;
                            int64_t loopres_171094;
                            int64_t loopres_171095;
                            int64_t loopres_171096;
                            
                            if (futrts_lifted_normalizze_8970(ctx, &loopres_171092, &loopres_171093, &loopres_171094, &loopres_171095, &loopres_171096, defunc_0_lifted_step_res_171026, ss_171020, defunc_0_lifted_step_res_171027, defunc_0_lifted_step_res_171028, defunc_0_lifted_step_res_171029) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_171097 = slt64((int64_t) 0, loopres_171096);
                            bool loop_while_tmp_181434 = loop_cond_171097;
                            int64_t ss_tmp_181435 = loopres_171092;
                            int64_t ss_tmp_181436 = loopres_171093;
                            int64_t tt_tmp_181437 = loopres_171094;
                            int64_t tt_tmp_181438 = loopres_171095;
                            int64_t count_tmp_181439 = loopres_171096;
                            
                            loop_while_171018 = loop_while_tmp_181434;
                            ss_171019 = ss_tmp_181435;
                            ss_171020 = ss_tmp_181436;
                            tt_171021 = tt_tmp_181437;
                            tt_171022 = tt_tmp_181438;
                            count_171023 = count_tmp_181439;
                        }
                        defunc_0_split_count_res_171012 = loop_while_171018;
                        defunc_0_split_count_res_171013 = ss_171019;
                        defunc_0_split_count_res_171014 = ss_171020;
                        defunc_0_split_count_res_171015 = tt_171021;
                        defunc_0_split_count_res_171016 = tt_171022;
                        defunc_0_split_count_res_171017 = count_171023;
                        ((int64_t *) mem_180087)[i_179667] = defunc_0_split_count_res_171013;
                        ((int64_t *) mem_180089)[i_179667] = defunc_0_split_count_res_171015;
                    }
                    if (mem_180104_cached_sizze_181698 < bytes_180103) {
                        err = lexical_realloc(ctx, &mem_180104, &mem_180104_cached_sizze_181698, bytes_180103);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180107_cached_sizze_181699 < bytes_180106) {
                        err = lexical_realloc(ctx, &mem_180107, &mem_180107_cached_sizze_181699, bytes_180106);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179674 = 0; i_179674 < num_blocks_170873; i_179674++) {
                        bool y_171103 = slt64(i_179674, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874);
                        bool index_certs_171105;
                        
                        if (!y_171103) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179674, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:134:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171106 = ((int64_t *) mem_180087)[i_179674];
                        int64_t defunc_0_f_res_171107 = ((int64_t *) mem_180089)[i_179674];
                        int64_t tmp_171108 = add64((int64_t) 1, i_179674);
                        bool x_171109 = sle64((int64_t) 0, tmp_171108);
                        bool y_171110 = slt64(tmp_171108, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874);
                        bool bounds_check_171111 = x_171109 && y_171110;
                        bool index_certs_171112;
                        
                        if (!bounds_check_171111) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171108, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:134:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171113 = ((int64_t *) mem_180087)[tmp_171108];
                        int64_t defunc_0_f_res_171114 = ((int64_t *) mem_180089)[tmp_171108];
                        int64_t merge_sequential_arg2_171115 = add64(stride_170852, defunc_0_f_res_171107);
                        int64_t merge_sequential_arg2_171116 = add64(stride_170852, defunc_0_f_res_171114);
                        int64_t j_m_i_171117 = sub64(merge_sequential_arg2_171116, merge_sequential_arg2_171115);
                        bool empty_slice_171118 = j_m_i_171117 == (int64_t) 0;
                        int64_t m_171119 = sub64(j_m_i_171117, (int64_t) 1);
                        int64_t i_p_m_t_s_171120 = add64(merge_sequential_arg2_171115, m_171119);
                        bool zzero_leq_i_p_m_t_s_171121 = sle64((int64_t) 0, i_p_m_t_s_171120);
                        bool i_p_m_t_s_leq_w_171122 = slt64(i_p_m_t_s_171120, next_stride_170853);
                        bool zzero_lte_i_171123 = sle64((int64_t) 0, merge_sequential_arg2_171115);
                        bool i_lte_j_171124 = sle64(merge_sequential_arg2_171115, merge_sequential_arg2_171116);
                        bool y_171125 = i_p_m_t_s_leq_w_171122 && zzero_lte_i_171123;
                        bool y_171126 = zzero_leq_i_p_m_t_s_171121 && y_171125;
                        bool forwards_ok_171127 = i_lte_j_171124 && y_171126;
                        bool ok_or_empty_171128 = empty_slice_171118 || forwards_ok_171127;
                        bool index_certs_171129;
                        
                        if (!ok_or_empty_171128) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_171115, ":", (long long) merge_sequential_arg2_171116, "] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:134:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_171130 = sub64(defunc_0_f_res_171113, defunc_0_f_res_171106);
                        bool empty_slice_171131 = j_m_i_171130 == (int64_t) 0;
                        int64_t m_171132 = sub64(j_m_i_171130, (int64_t) 1);
                        int64_t i_p_m_t_s_171133 = add64(defunc_0_f_res_171106, m_171132);
                        bool zzero_leq_i_p_m_t_s_171134 = sle64((int64_t) 0, i_p_m_t_s_171133);
                        bool i_p_m_t_s_leq_w_171135 = slt64(i_p_m_t_s_171133, next_stride_170853);
                        bool zzero_lte_i_171136 = sle64((int64_t) 0, defunc_0_f_res_171106);
                        bool i_lte_j_171137 = sle64(defunc_0_f_res_171106, defunc_0_f_res_171113);
                        bool y_171138 = i_p_m_t_s_leq_w_171135 && zzero_lte_i_171136;
                        bool y_171139 = zzero_leq_i_p_m_t_s_171134 && y_171138;
                        bool forwards_ok_171140 = i_lte_j_171137 && y_171139;
                        bool ok_or_empty_171141 = empty_slice_171131 || forwards_ok_171140;
                        bool index_certs_171142;
                        
                        if (!ok_or_empty_171141) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_171106, ":", (long long) defunc_0_f_res_171113, "] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:134:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_171143 = slt64((int64_t) 0, j_m_i_171130);
                        int32_t dummy_171144;
                        int64_t dummy_171145;
                        
                        if (cond_171143) {
                            bool index_certs_177612;
                            
                            if (!cond_171143) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171130, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:134:54-57\n   #12 ftsort.fut:35:3-25\n   #13 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177613 = start_170925 + defunc_0_f_res_171106;
                            int32_t head_res_177614 = ((int32_t *) mem_param_180068.mem)[slice_177613];
                            int64_t head_res_177615 = ((int64_t *) mem_param_180071.mem)[slice_177613];
                            
                            dummy_171144 = head_res_177614;
                            dummy_171145 = head_res_177615;
                        } else {
                            bool y_171150 = slt64((int64_t) 0, j_m_i_171117);
                            bool index_certs_171151;
                            
                            if (!y_171150) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171117, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:134:54-57\n   #12 ftsort.fut:35:3-25\n   #13 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_171152 = start_170925 + merge_sequential_arg2_171115;
                            int32_t head_res_171153 = ((int32_t *) mem_param_180068.mem)[slice_171152];
                            int64_t head_res_171154 = ((int64_t *) mem_param_180071.mem)[slice_171152];
                            
                            dummy_171144 = head_res_171153;
                            dummy_171145 = head_res_171154;
                        }
                        for (int64_t nest_i_181442 = 0; nest_i_181442 < merge_block_sizze_170740; nest_i_181442++) {
                            ((int32_t *) mem_180104)[i_179674 * merge_block_sizze_170740 + nest_i_181442] = dummy_171144;
                        }
                        for (int64_t nest_i_181443 = 0; nest_i_181443 < merge_block_sizze_170740; nest_i_181443++) {
                            ((int64_t *) mem_180107)[i_179674 * merge_block_sizze_170740 + nest_i_181443] = dummy_171145;
                        }
                        
                        int64_t data_171157;
                        int64_t i_171161 = (int64_t) 0;
                        
                        for (int64_t k_171160 = 0; k_171160 < merge_block_sizze_170740; k_171160++) {
                            int64_t j_171164 = sub64(k_171160, i_171161);
                            bool cond_171165 = j_171164 == j_m_i_171117;
                            bool cond_171166;
                            
                            if (cond_171165) {
                                cond_171166 = 1;
                            } else {
                                bool cond_171167 = slt64(i_171161, j_m_i_171130);
                                bool cond_f_res_171168;
                                
                                if (cond_171167) {
                                    bool x_177616 = sle64((int64_t) 0, j_171164);
                                    bool y_177617 = slt64(j_171164, j_m_i_171117);
                                    bool bounds_check_177618 = x_177616 && y_177617;
                                    bool index_certs_177619;
                                    
                                    if (!bounds_check_177618) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171164, "] out of bounds for array of shape [", (long long) j_m_i_171117, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:134:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_177623 = sle64((int64_t) 0, i_171161);
                                    bool bounds_check_177624 = cond_171167 && x_177623;
                                    bool index_certs_177625;
                                    
                                    if (!bounds_check_177624) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171161, "] out of bounds for array of shape [", (long long) j_m_i_171130, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:134:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_177620 = merge_sequential_arg2_171115 + j_171164;
                                    int64_t slice_177621 = start_170925 + slice_177620;
                                    int32_t leq_arg1_177622 = ((int32_t *) mem_param_180068.mem)[slice_177621];
                                    int64_t slice_177626 = defunc_0_f_res_171106 + i_171161;
                                    int64_t slice_177627 = start_170925 + slice_177626;
                                    int32_t leq_arg0_177628 = ((int32_t *) mem_param_180068.mem)[slice_177627];
                                    bool zlze_res_177629 = sle32(leq_arg0_177628, leq_arg1_177622);
                                    
                                    cond_f_res_171168 = zlze_res_177629;
                                } else {
                                    cond_f_res_171168 = 0;
                                }
                                cond_171166 = cond_f_res_171168;
                            }
                            
                            int64_t loopres_171183;
                            int32_t loopres_171184;
                            int64_t loopres_171185;
                            
                            if (cond_171166) {
                                bool x_177631 = sle64((int64_t) 0, i_171161);
                                bool y_177632 = slt64(i_171161, j_m_i_171130);
                                bool bounds_check_177633 = x_177631 && y_177632;
                                bool index_certs_177634;
                                
                                if (!bounds_check_177633) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171161, "] out of bounds for array of shape [", (long long) j_m_i_171130, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:134:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_177630 = add64((int64_t) 1, i_171161);
                                int64_t slice_177635 = defunc_0_f_res_171106 + i_171161;
                                int64_t slice_177636 = start_170925 + slice_177635;
                                int32_t tmp_177637 = ((int32_t *) mem_param_180068.mem)[slice_177636];
                                int64_t tmp_177638 = ((int64_t *) mem_param_180071.mem)[slice_177636];
                                
                                loopres_171183 = tmp_177630;
                                loopres_171184 = tmp_177637;
                                loopres_171185 = tmp_177638;
                            } else {
                                bool x_171195 = sle64((int64_t) 0, j_171164);
                                bool y_171196 = slt64(j_171164, j_m_i_171117);
                                bool bounds_check_171197 = x_171195 && y_171196;
                                bool index_certs_171198;
                                
                                if (!bounds_check_171197) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171164, "] out of bounds for array of shape [", (long long) j_m_i_171117, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:134:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_171199 = merge_sequential_arg2_171115 + j_171164;
                                int64_t slice_171200 = start_170925 + slice_171199;
                                int32_t tmp_171201 = ((int32_t *) mem_param_180068.mem)[slice_171200];
                                int64_t tmp_171202 = ((int64_t *) mem_param_180071.mem)[slice_171200];
                                
                                loopres_171183 = i_171161;
                                loopres_171184 = tmp_171201;
                                loopres_171185 = tmp_171202;
                            }
                            ((int32_t *) mem_180104)[i_179674 * merge_block_sizze_170740 + k_171160] = loopres_171184;
                            ((int64_t *) mem_180107)[i_179674 * merge_block_sizze_170740 + k_171160] = loopres_171185;
                            
                            int64_t i_tmp_181444 = loopres_171183;
                            
                            i_171161 = i_tmp_181444;
                        }
                        data_171157 = i_171161;
                    }
                    if (memblock_alloc(ctx, &mem_180142, bytes_180103, "mem_180142")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_180142.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_170740, (int64_t) 1}, (uint32_t *) mem_180104, (int64_t) 0, (int64_t []) {merge_block_sizze_170740, (int64_t) 1}, (int64_t []) {num_blocks_170873, merge_block_sizze_170740});
                    if (memblock_alloc(ctx, &mem_180146, bytes_180106, "mem_180146")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180146.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_170740, (int64_t) 1}, (uint64_t *) mem_180107, (int64_t) 0, (int64_t []) {merge_block_sizze_170740, (int64_t) 1}, (int64_t []) {num_blocks_170873, merge_block_sizze_170740});
                    if (memblock_set(ctx, &ext_mem_180169, &mem_180142, "mem_180142") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180166, &mem_180146, "mem_180146") != 0)
                        return 1;
                }
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180074, i_179681 * next_stride_170853, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180169.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_170853});
                if (memblock_unref(ctx, &ext_mem_180169, "ext_mem_180169") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180077, i_179681 * next_stride_170853, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180166.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_170853});
                if (memblock_unref(ctx, &ext_mem_180166, "ext_mem_180166") != 0)
                    return 1;
            }
            
            int64_t flat_dim_171209 = next_stride_170853 * num_merges_170857;
            
            if (memblock_alloc(ctx, &mem_180180, bytes_180073, "mem_180180")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_180180.mem, (int64_t) 0, (int64_t []) {next_stride_170853, (int64_t) 1}, (uint32_t *) mem_180074, (int64_t) 0, (int64_t []) {next_stride_170853, (int64_t) 1}, (int64_t []) {num_merges_170857, next_stride_170853});
            if (memblock_alloc(ctx, &mem_180184, bytes_180076, "mem_180184")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_180184.mem, (int64_t) 0, (int64_t []) {next_stride_170853, (int64_t) 1}, (uint64_t *) mem_180077, (int64_t) 0, (int64_t []) {next_stride_170853, (int64_t) 1}, (int64_t []) {num_merges_170857, next_stride_170853});
            
            bool loop_cond_171212 = slt64(next_stride_170853, flat_dim_170737);
            
            if (memblock_set(ctx, &mem_param_tmp_181418, &mem_180180, "mem_180180") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181419, &mem_180184, "mem_180184") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_181420 = flat_dim_171209;
            bool loop_while_tmp_181421 = loop_cond_171212;
            int64_t stride_tmp_181424 = next_stride_170853;
            
            if (memblock_set(ctx, &mem_param_180068, &mem_param_tmp_181418, "mem_param_tmp_181418") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180071, &mem_param_tmp_181419, "mem_param_tmp_181419") != 0)
                return 1;
            loop_dz2084Uz2082U_170848 = loop_dz2084Uz2082U_tmp_181420;
            loop_while_170849 = loop_while_tmp_181421;
            stride_170852 = stride_tmp_181424;
        }
        if (memblock_set(ctx, &ext_mem_180191, &mem_param_180068, "mem_param_180068") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_180190, &mem_param_180071, "mem_param_180071") != 0)
            return 1;
        data_170843 = loop_dz2084Uz2082U_170848;
        data_170844 = loop_while_170849;
        data_170847 = stride_170852;
        if (memblock_unref(ctx, &mem_180060, "mem_180060") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180064, "mem_180064") != 0)
            return 1;
        
        bool empty_slice_171213 = n_100534 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_171214 = sle64((int64_t) 0, zs_lhs_170721);
        bool i_p_m_t_s_leq_w_171215 = slt64(zs_lhs_170721, data_170843);
        bool y_171216 = zzero_leq_i_p_m_t_s_171214 && i_p_m_t_s_leq_w_171215;
        bool ok_or_empty_171217 = empty_slice_171213 || y_171216;
        bool index_certs_171218;
        
        if (!ok_or_empty_171217) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_100534, "] out of bounds for array of shape [", (long long) data_170843, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:134:54-57\n   #5  ftsort.fut:35:3-25\n   #6  ftsort.fut:34:1-35:25\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_180194, &ext_mem_180190, "ext_mem_180190") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_179989, "mem_179989") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180196, bytes_179988, "mem_180196")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180198, bytes_180197, "mem_180198")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_179688 = 0; i_179688 < n_100534; i_179688++) {
        int64_t eta_p_171222 = ((int64_t *) ext_mem_180194.mem)[i_179688];
        bool x_171223 = sle64((int64_t) 0, eta_p_171222);
        bool y_171224 = slt64(eta_p_171222, n_100534);
        bool bounds_check_171225 = x_171223 && y_171224;
        bool index_certs_171226;
        
        if (!bounds_check_171225) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_171222, "] out of bounds for array of shape [", (long long) n_100534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:134:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_171227 = ((int64_t *) ext_mem_179987.mem)[eta_p_171222];
        int32_t lifted_lambda_res_171228 = ((int32_t *) xs_mem_179986.mem)[eta_p_171222];
        
        ((int64_t *) mem_180196.mem)[i_179688] = lifted_lambda_res_171227;
        ((int32_t *) mem_180198.mem)[i_179688] = lifted_lambda_res_171228;
    }
    if (memblock_unref(ctx, &ext_mem_179987, "ext_mem_179987") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_180194, "ext_mem_180194") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181400, &mem_180196, "mem_180196") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181401, &mem_180198, "mem_180198") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181688, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181689, &mem_out_181401, "mem_out_181401") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_179992);
        free(mem_179995);
        free(mem_180005);
        free(mem_180007);
        free(mem_180074);
        free(mem_180077);
        free(mem_180087);
        free(mem_180089);
        free(mem_180104);
        free(mem_180107);
        if (memblock_unref(ctx, &mem_180198, "mem_180198") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180196, "mem_180196") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181419, "mem_param_tmp_181419") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181418, "mem_param_tmp_181418") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180184, "mem_180184") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180180, "mem_180180") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180146, "mem_180146") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180142, "mem_180142") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180151, "mem_180151") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180149, "mem_180149") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180166, "ext_mem_180166") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180169, "ext_mem_180169") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180071, "mem_param_180071") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180068, "mem_param_180068") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180190, "ext_mem_180190") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180191, "ext_mem_180191") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180064, "mem_180064") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180060, "mem_180060") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180194, "ext_mem_180194") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179989, "mem_179989") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_179987, "ext_mem_179987") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181401, "mem_out_181401") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_181700, struct memblock *mem_out_p_181701, struct memblock xs_mem_179986, int64_t n_102877, int64_t incr_102878)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_179992_cached_sizze_181702 = 0;
    unsigned char *mem_179992 = NULL;
    int64_t mem_179995_cached_sizze_181703 = 0;
    unsigned char *mem_179995 = NULL;
    int64_t mem_180005_cached_sizze_181704 = 0;
    unsigned char *mem_180005 = NULL;
    int64_t mem_180007_cached_sizze_181705 = 0;
    unsigned char *mem_180007 = NULL;
    int64_t mem_180074_cached_sizze_181706 = 0;
    unsigned char *mem_180074 = NULL;
    int64_t mem_180077_cached_sizze_181707 = 0;
    unsigned char *mem_180077 = NULL;
    int64_t mem_180087_cached_sizze_181708 = 0;
    unsigned char *mem_180087 = NULL;
    int64_t mem_180089_cached_sizze_181709 = 0;
    unsigned char *mem_180089 = NULL;
    int64_t mem_180104_cached_sizze_181710 = 0;
    unsigned char *mem_180104 = NULL;
    int64_t mem_180107_cached_sizze_181711 = 0;
    unsigned char *mem_180107 = NULL;
    struct memblock mem_180198;
    
    mem_180198.references = NULL;
    
    struct memblock mem_180196;
    
    mem_180196.references = NULL;
    
    struct memblock mem_param_tmp_181419;
    
    mem_param_tmp_181419.references = NULL;
    
    struct memblock mem_param_tmp_181418;
    
    mem_param_tmp_181418.references = NULL;
    
    struct memblock mem_180184;
    
    mem_180184.references = NULL;
    
    struct memblock mem_180180;
    
    mem_180180.references = NULL;
    
    struct memblock mem_180146;
    
    mem_180146.references = NULL;
    
    struct memblock mem_180142;
    
    mem_180142.references = NULL;
    
    struct memblock mem_180151;
    
    mem_180151.references = NULL;
    
    struct memblock mem_180149;
    
    mem_180149.references = NULL;
    
    struct memblock ext_mem_180166;
    
    ext_mem_180166.references = NULL;
    
    struct memblock ext_mem_180169;
    
    ext_mem_180169.references = NULL;
    
    struct memblock mem_param_180071;
    
    mem_param_180071.references = NULL;
    
    struct memblock mem_param_180068;
    
    mem_param_180068.references = NULL;
    
    struct memblock ext_mem_180190;
    
    ext_mem_180190.references = NULL;
    
    struct memblock ext_mem_180191;
    
    ext_mem_180191.references = NULL;
    
    struct memblock mem_180064;
    
    mem_180064.references = NULL;
    
    struct memblock mem_180060;
    
    mem_180060.references = NULL;
    
    struct memblock ext_mem_180194;
    
    ext_mem_180194.references = NULL;
    
    struct memblock mem_179989;
    
    mem_179989.references = NULL;
    
    struct memblock ext_mem_179987;
    
    ext_mem_179987.references = NULL;
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    int64_t bytes_179988 = (int64_t) 8 * n_102877;
    bool cond_170720 = sle64(n_102877, (int64_t) 1);
    int64_t zs_lhs_170721 = sub64(n_102877, (int64_t) 1);
    int64_t zp_rhs_170722 = sdiv_safe64(zs_lhs_170721, (int64_t) 20);
    int64_t min_num_blocks_170723 = add64((int64_t) 1, zp_rhs_170722);
    bool loop_cond_170724 = slt64((int64_t) 1, min_num_blocks_170723);
    bool smallest_pow_2_geq_than_res_170725;
    int64_t smallest_pow_2_geq_than_res_170726;
    bool loop_while_170727;
    int64_t x_170728;
    
    loop_while_170727 = loop_cond_170724;
    x_170728 = (int64_t) 1;
    while (loop_while_170727) {
        int64_t loopres_170729 = mul64((int64_t) 2, x_170728);
        bool loop_cond_170730 = slt64(loopres_170729, min_num_blocks_170723);
        bool loop_while_tmp_181402 = loop_cond_170730;
        int64_t x_tmp_181403 = loopres_170729;
        
        loop_while_170727 = loop_while_tmp_181402;
        x_170728 = x_tmp_181403;
    }
    smallest_pow_2_geq_than_res_170725 = loop_while_170727;
    smallest_pow_2_geq_than_res_170726 = x_170728;
    
    bool zzero_170731 = smallest_pow_2_geq_than_res_170726 == (int64_t) 0;
    bool nonzzero_170732 = !zzero_170731;
    bool protect_assert_disj_170733 = cond_170720 || nonzzero_170732;
    bool nonzzero_cert_170734;
    
    if (!protect_assert_disj_170733) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:134:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_170735 = sdiv_safe64(zs_lhs_170721, smallest_pow_2_geq_than_res_170726);
    int64_t block_sizze_170736 = add64((int64_t) 1, zp_rhs_170735);
    bool y_170741 = slt64((int64_t) 0, n_102877);
    bool protect_assert_disj_181099 = cond_170720 || y_170741;
    bool index_certs_170742;
    
    if (!protect_assert_disj_181099) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_102877, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:134:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_170755 = slt64(smallest_pow_2_geq_than_res_170726, (int64_t) 0);
    bool valid_170756 = !bounds_invalid_upwards_170755;
    bool protect_assert_disj_181107 = cond_170720 || valid_170756;
    bool range_valid_c_170757;
    
    if (!protect_assert_disj_181107) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_170726, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:134:54-57\n   #6  ftsort.fut:38:3-26\n   #7  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_170759 = slt64(block_sizze_170736, (int64_t) 0);
    bool valid_170760 = !bounds_invalid_upwards_170759;
    bool protect_assert_disj_181109 = cond_170720 || valid_170760;
    bool range_valid_c_170761;
    
    if (!protect_assert_disj_181109) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_170736, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:134:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_170763 = sle64(block_sizze_170736, (int64_t) 1);
    int64_t tmp_170764 = sub64(block_sizze_170736, (int64_t) 2);
    bool bounds_invalid_upwards_170765 = slt64(tmp_170764, (int64_t) 0);
    bool valid_170767 = !bounds_invalid_upwards_170765;
    bool protect_assert_disj_170768 = cond_170763 || valid_170767;
    bool protect_assert_disj_181111 = cond_170720 || protect_assert_disj_170768;
    bool range_valid_c_170769;
    
    if (!protect_assert_disj_181111) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_170764, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (futrts_indicesWithIncrement_9294(ctx, &ext_mem_179987, xs_mem_179986, n_102877, incr_102878) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_179989, bytes_179988, "mem_179989")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181404 = 0; i_181404 < n_102877; i_181404++) {
        int64_t x_181405 = (int64_t) 0 + i_181404 * (int64_t) 1;
        
        ((int64_t *) mem_179989.mem)[i_181404] = x_181405;
    }
    
    int64_t flat_dim_170737 = smallest_pow_2_geq_than_res_170726 * block_sizze_170736;
    bool x_181094 = !cond_170720;
    int64_t greatest_divisor_leq_than_arg1_170739 = mul64((int64_t) 2, block_sizze_170736);
    int64_t merge_block_sizze_170740;
    
    if (x_181094) {
        int64_t x_181096;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181096, (int64_t) 8, greatest_divisor_leq_than_arg1_170739) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_170740 = x_181096;
    } else {
        merge_block_sizze_170740 = (int64_t) 0;
    }
    
    int64_t reduce_arg1_170743;
    
    if (x_181094) {
        int64_t x_181100 = ((int64_t *) xs_mem_179986.mem)[(int64_t) 0];
        
        reduce_arg1_170743 = x_181100;
    } else {
        reduce_arg1_170743 = (int64_t) 0;
    }
    
    int64_t defunc_0_reduce_res_177645;
    int64_t defunc_0_reduce_res_177646;
    
    if (x_181094) {
        int64_t x_181102;
        int64_t x_181103;
        int64_t redout_179646;
        int64_t redout_179647;
        
        redout_179646 = reduce_arg1_170743;
        redout_179647 = (int64_t) 0;
        for (int64_t i_179648 = 0; i_179648 < n_102877; i_179648++) {
            int64_t x_170746 = ((int64_t *) xs_mem_179986.mem)[i_179648];
            bool zlze_res_170752 = sle64(redout_179646, x_170746);
            int64_t defunc_0_op_res_170753;
            
            if (zlze_res_170752) {
                defunc_0_op_res_170753 = x_170746;
            } else {
                defunc_0_op_res_170753 = redout_179646;
            }
            
            int64_t defunc_0_op_res_170754;
            
            if (zlze_res_170752) {
                defunc_0_op_res_170754 = i_179648;
            } else {
                defunc_0_op_res_170754 = redout_179647;
            }
            
            int64_t redout_tmp_181406 = defunc_0_op_res_170753;
            int64_t redout_tmp_181407 = defunc_0_op_res_170754;
            
            redout_179646 = redout_tmp_181406;
            redout_179647 = redout_tmp_181407;
        }
        x_181102 = redout_179646;
        x_181103 = redout_179647;
        defunc_0_reduce_res_177645 = x_181102;
        defunc_0_reduce_res_177646 = x_181103;
    } else {
        defunc_0_reduce_res_177645 = (int64_t) 0;
        defunc_0_reduce_res_177646 = (int64_t) 0;
    }
    
    int64_t distance_170766 = add64((int64_t) 1, tmp_170764);
    int64_t binop_x_179990 = (int64_t) 8 * smallest_pow_2_geq_than_res_170726;
    int64_t bytes_179991 = block_sizze_170736 * binop_x_179990;
    int64_t bytes_180004 = (int64_t) 8 * block_sizze_170736;
    bool loop_cond_170840 = slt64(block_sizze_170736, flat_dim_170737);
    bool zzero_170841 = merge_block_sizze_170740 == (int64_t) 0;
    bool nonzzero_170842 = !zzero_170841;
    
    if (cond_170720) {
        if (memblock_set(ctx, &ext_mem_180194, &mem_179989, "mem_179989") != 0)
            return 1;
    } else {
        if (mem_179992_cached_sizze_181702 < bytes_179991) {
            err = lexical_realloc(ctx, &mem_179992, &mem_179992_cached_sizze_181702, bytes_179991);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_179995_cached_sizze_181703 < bytes_179991) {
            err = lexical_realloc(ctx, &mem_179995, &mem_179995_cached_sizze_181703, bytes_179991);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180005_cached_sizze_181704 < bytes_180004) {
            err = lexical_realloc(ctx, &mem_180005, &mem_180005_cached_sizze_181704, bytes_180004);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180007_cached_sizze_181705 < bytes_180004) {
            err = lexical_realloc(ctx, &mem_180007, &mem_180007_cached_sizze_181705, bytes_180004);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_179660 = 0; i_179660 < smallest_pow_2_geq_than_res_170726; i_179660++) {
            int64_t zp_lhs_170773 = mul64(block_sizze_170736, i_179660);
            
            for (int64_t i_179653 = 0; i_179653 < block_sizze_170736; i_179653++) {
                int64_t k_170777 = add64(zp_lhs_170773, i_179653);
                bool cond_170778 = slt64(k_170777, n_102877);
                int64_t lifted_lambda_res_170779;
                int64_t lifted_lambda_res_170780;
                
                if (cond_170778) {
                    bool x_177498 = sle64((int64_t) 0, k_170777);
                    bool bounds_check_177499 = cond_170778 && x_177498;
                    bool index_certs_177500;
                    
                    if (!bounds_check_177499) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_170777, "] out of bounds for array of shape [", (long long) n_102877, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:134:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int64_t lifted_lambda_res_t_res_177501 = ((int64_t *) xs_mem_179986.mem)[k_170777];
                    
                    lifted_lambda_res_170779 = lifted_lambda_res_t_res_177501;
                    lifted_lambda_res_170780 = k_170777;
                } else {
                    lifted_lambda_res_170779 = defunc_0_reduce_res_177645;
                    lifted_lambda_res_170780 = defunc_0_reduce_res_177646;
                }
                ((int64_t *) mem_180005)[i_179653] = lifted_lambda_res_170779;
                ((int64_t *) mem_180007)[i_179653] = lifted_lambda_res_170780;
            }
            if (!cond_170763) {
                for (int64_t i_170789 = 0; i_170789 < distance_170766; i_170789++) {
                    int64_t gt_arg1_170792 = add64((int64_t) 1, i_170789);
                    bool x_170793 = sle64((int64_t) 0, gt_arg1_170792);
                    bool y_170794 = slt64(gt_arg1_170792, block_sizze_170736);
                    bool bounds_check_170795 = x_170793 && y_170794;
                    bool index_certs_170796;
                    
                    if (!bounds_check_170795) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_170792, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_170798 = slt64(i_170789, block_sizze_170736);
                    bool index_certs_170799;
                    
                    if (!y_170798) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_170789, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int64_t gt_arg1_170797 = ((int64_t *) mem_180005)[gt_arg1_170792];
                    int64_t gt_arg0_170800 = ((int64_t *) mem_180005)[i_170789];
                    bool zlze_res_170801 = sle64(gt_arg0_170800, gt_arg1_170797);
                    bool defunc_0_lifted_gt_res_170802 = !zlze_res_170801;
                    bool s_170803;
                    int64_t s_170806;
                    bool loop_while_170807;
                    int64_t j_170810;
                    
                    loop_while_170807 = defunc_0_lifted_gt_res_170802;
                    j_170810 = i_170789;
                    while (loop_while_170807) {
                        bool x_170811 = sle64((int64_t) 0, j_170810);
                        bool y_170812 = slt64(j_170810, block_sizze_170736);
                        bool bounds_check_170813 = x_170811 && y_170812;
                        bool index_certs_170814;
                        
                        if (!bounds_check_170813) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_170810, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_170817 = add64((int64_t) 1, j_170810);
                        bool x_170818 = sle64((int64_t) 0, copy_arg0_170817);
                        bool y_170819 = slt64(copy_arg0_170817, block_sizze_170736);
                        bool bounds_check_170820 = x_170818 && y_170819;
                        bool index_certs_170821;
                        
                        if (!bounds_check_170820) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_170817, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_170815 = ((int64_t *) mem_180005)[j_170810];
                        int64_t copy_arg0_170816 = ((int64_t *) mem_180007)[j_170810];
                        int64_t copy_arg0_170822 = ((int64_t *) mem_180005)[copy_arg0_170817];
                        int64_t copy_arg0_170823 = ((int64_t *) mem_180007)[copy_arg0_170817];
                        
                        ((int64_t *) mem_180005)[j_170810] = copy_arg0_170822;
                        ((int64_t *) mem_180007)[j_170810] = copy_arg0_170823;
                        ((int64_t *) mem_180005)[copy_arg0_170817] = copy_arg0_170815;
                        ((int64_t *) mem_180007)[copy_arg0_170817] = copy_arg0_170816;
                        
                        int64_t tmp_170828 = sub64(j_170810, (int64_t) 1);
                        bool cond_170829 = sle64((int64_t) 0, tmp_170828);
                        bool loop_cond_170830;
                        
                        if (cond_170829) {
                            bool y_177503 = slt64(tmp_170828, block_sizze_170736);
                            bool bounds_check_177504 = cond_170829 && y_177503;
                            bool index_certs_177505;
                            
                            if (!bounds_check_177504) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_170828, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t gt_arg1_177502 = ((int64_t *) mem_180005)[j_170810];
                            int64_t gt_arg0_177506 = ((int64_t *) mem_180005)[tmp_170828];
                            bool zlze_res_177507 = sle64(gt_arg0_177506, gt_arg1_177502);
                            bool defunc_0_lifted_gt_res_177508 = !zlze_res_177507;
                            
                            loop_cond_170830 = defunc_0_lifted_gt_res_177508;
                        } else {
                            loop_cond_170830 = 0;
                        }
                        
                        bool loop_while_tmp_181414 = loop_cond_170830;
                        int64_t j_tmp_181417 = tmp_170828;
                        
                        loop_while_170807 = loop_while_tmp_181414;
                        j_170810 = j_tmp_181417;
                    }
                    s_170803 = loop_while_170807;
                    s_170806 = j_170810;
                }
            }
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_179992, i_179660 * block_sizze_170736, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180005, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_170736});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_179995, i_179660 * block_sizze_170736, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180007, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_170736});
        }
        if (memblock_alloc(ctx, &mem_180060, bytes_179991, "mem_180060")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180060.mem, (int64_t) 0, (int64_t []) {block_sizze_170736, (int64_t) 1}, (uint64_t *) mem_179992, (int64_t) 0, (int64_t []) {block_sizze_170736, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_170726, block_sizze_170736});
        if (memblock_alloc(ctx, &mem_180064, bytes_179991, "mem_180064")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180064.mem, (int64_t) 0, (int64_t []) {block_sizze_170736, (int64_t) 1}, (uint64_t *) mem_179995, (int64_t) 0, (int64_t []) {block_sizze_170736, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_170726, block_sizze_170736});
        
        int64_t data_170843;
        bool data_170844;
        int64_t data_170847;
        int64_t loop_dz2084Uz2082U_170848;
        bool loop_while_170849;
        int64_t stride_170852;
        
        if (memblock_set(ctx, &mem_param_180068, &mem_180060, "mem_180060") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180071, &mem_180064, "mem_180064") != 0)
            return 1;
        loop_dz2084Uz2082U_170848 = flat_dim_170737;
        loop_while_170849 = loop_cond_170840;
        stride_170852 = block_sizze_170736;
        while (loop_while_170849) {
            int64_t next_stride_170853 = mul64((int64_t) 2, stride_170852);
            bool zzero_170854 = next_stride_170853 == (int64_t) 0;
            bool nonzzero_170855 = !zzero_170854;
            bool nonzzero_cert_170856;
            
            if (!nonzzero_170855) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:134:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_170857 = sdiv64(flat_dim_170737, next_stride_170853);
            bool bounds_invalid_upwards_170858 = slt64(num_merges_170857, (int64_t) 0);
            bool valid_170859 = !bounds_invalid_upwards_170858;
            bool range_valid_c_170860;
            
            if (!valid_170859) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_170857, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:134:54-57\n   #6  ftsort.fut:38:3-26\n   #7  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_170862 = sub64(next_stride_170853, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_170863 = sle64((int64_t) 0, m_170862);
            bool cond_170865 = slt64(next_stride_170853, (int64_t) 10);
            bool protect_assert_disj_170866 = nonzzero_170842 || cond_170865;
            bool nonzzero_cert_170867;
            
            if (!protect_assert_disj_170866) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_170868 = smod_safe64(next_stride_170853, merge_block_sizze_170740);
            bool num_blocks_170869 = zeze_lhs_170868 == (int64_t) 0;
            bool protect_assert_disj_170870 = cond_170865 || num_blocks_170869;
            bool assert_c_170871;
            
            if (!protect_assert_disj_170870) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_170873 = sdiv_safe64(next_stride_170853, merge_block_sizze_170740);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874 = add64((int64_t) 1, num_blocks_170873);
            int64_t j_m_i_170875 = sub64(next_stride_170853, stride_170852);
            int64_t flat_dim_170876 = merge_block_sizze_170740 * num_blocks_170873;
            bool bounds_invalid_upwards_170877 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874, (int64_t) 0);
            bool zzero_lte_i_170878 = sle64((int64_t) 0, stride_170852);
            bool i_lte_j_170879 = sle64(stride_170852, next_stride_170853);
            bool empty_slice_170880 = stride_170852 == (int64_t) 0;
            int64_t m_170881 = sub64(stride_170852, (int64_t) 1);
            bool bounds_invalid_upwards_170882 = slt64(num_blocks_170873, (int64_t) 0);
            bool empty_slice_170883 = j_m_i_170875 == (int64_t) 0;
            int64_t m_170884 = sub64(j_m_i_170875, (int64_t) 1);
            bool cond_170885 = slt64((int64_t) 0, stride_170852);
            bool valid_170886 = !bounds_invalid_upwards_170877;
            bool zzero_leq_i_p_m_t_s_170887 = sle64((int64_t) 0, m_170881);
            bool i_p_m_t_s_leq_w_170888 = slt64(m_170881, next_stride_170853);
            bool valid_170889 = !bounds_invalid_upwards_170882;
            bool i_p_m_t_s_leq_w_170890 = slt64(m_170862, flat_dim_170876);
            int64_t i_p_m_t_s_170891 = add64(stride_170852, m_170884);
            bool y_170892 = slt64((int64_t) 0, j_m_i_170875);
            bool protect_assert_disj_170893 = cond_170865 || valid_170886;
            bool range_valid_c_170894;
            
            if (!protect_assert_disj_170893) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:134:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_170895 = zzero_leq_i_p_m_t_s_170887 && i_p_m_t_s_leq_w_170888;
            bool protect_assert_disj_170896 = cond_170865 || valid_170889;
            bool range_valid_c_170897;
            
            if (!protect_assert_disj_170896) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_170873, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:134:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_170898 = zzero_leq_i_p_m_t_s_170863 && i_p_m_t_s_leq_w_170890;
            bool zzero_leq_i_p_m_t_s_170899 = sle64((int64_t) 0, i_p_m_t_s_170891);
            bool i_p_m_t_s_leq_w_170900 = slt64(i_p_m_t_s_170891, next_stride_170853);
            bool forwards_ok_170901 = zzero_lte_i_170878 && y_170895;
            bool ok_or_empty_170902 = zzero_170854 || y_170898;
            bool y_170903 = zzero_lte_i_170878 && i_p_m_t_s_leq_w_170900;
            bool protect_assert_disj_170904 = cond_170885 || y_170892;
            bool ok_or_empty_170905 = empty_slice_170880 || forwards_ok_170901;
            bool protect_assert_disj_170906 = cond_170865 || ok_or_empty_170902;
            bool index_certs_170907;
            
            if (!protect_assert_disj_170906) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_170853, "] out of bounds for array of shape [", (long long) flat_dim_170876, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:134:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_170908 = zzero_leq_i_p_m_t_s_170899 && y_170903;
            bool loop_not_taken_170909 = !cond_170865;
            bool protect_assert_disj_170910 = protect_assert_disj_170904 || loop_not_taken_170909;
            bool index_certs_170911;
            
            if (!protect_assert_disj_170910) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:134:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_170912 = cond_170865 || ok_or_empty_170905;
            bool index_certs_170913;
            
            if (!protect_assert_disj_170912) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_170852, "] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:134:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_170914 = i_lte_j_170879 && y_170908;
            bool protect_assert_disj_170915 = ok_or_empty_170905 || loop_not_taken_170909;
            bool index_certs_170916;
            
            if (!protect_assert_disj_170915) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_170852, "] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_170917 = empty_slice_170883 || forwards_ok_170914;
            bool protect_assert_disj_170918 = loop_not_taken_170909 || ok_or_empty_170917;
            bool index_certs_170919;
            
            if (!protect_assert_disj_170918) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_170852, ":] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_170920 = cond_170865 || ok_or_empty_170917;
            bool index_certs_170921;
            
            if (!protect_assert_disj_170920) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_170852, ":] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:134:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_180072 = (int64_t) 8 * num_merges_170857;
            int64_t bytes_180073 = next_stride_170853 * binop_x_180072;
            bool i_lte_j_170864 = sle64((int64_t) 0, next_stride_170853);
            
            if (mem_180074_cached_sizze_181706 < bytes_180073) {
                err = lexical_realloc(ctx, &mem_180074, &mem_180074_cached_sizze_181706, bytes_180073);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180077_cached_sizze_181707 < bytes_180073) {
                err = lexical_realloc(ctx, &mem_180077, &mem_180077_cached_sizze_181707, bytes_180073);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_180086 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874;
            int64_t binop_x_180102 = (int64_t) 8 * num_blocks_170873;
            int64_t bytes_180103 = merge_block_sizze_170740 * binop_x_180102;
            int64_t bytes_180148 = (int64_t) 16 * stride_170852;
            
            for (int64_t i_179681 = 0; i_179681 < num_merges_170857; i_179681++) {
                int64_t start_170925 = mul64(next_stride_170853, i_179681);
                int64_t j_m_i_170926 = sub64(loop_dz2084Uz2082U_170848, start_170925);
                bool empty_slice_170927 = j_m_i_170926 == (int64_t) 0;
                int64_t m_170928 = sub64(j_m_i_170926, (int64_t) 1);
                int64_t i_p_m_t_s_170929 = add64(start_170925, m_170928);
                bool zzero_leq_i_p_m_t_s_170930 = sle64((int64_t) 0, i_p_m_t_s_170929);
                bool i_p_m_t_s_leq_w_170931 = slt64(i_p_m_t_s_170929, loop_dz2084Uz2082U_170848);
                bool zzero_lte_i_170932 = sle64((int64_t) 0, start_170925);
                bool i_lte_j_170933 = sle64(start_170925, loop_dz2084Uz2082U_170848);
                bool y_170934 = i_p_m_t_s_leq_w_170931 && zzero_lte_i_170932;
                bool y_170935 = zzero_leq_i_p_m_t_s_170930 && y_170934;
                bool forwards_ok_170936 = i_lte_j_170933 && y_170935;
                bool ok_or_empty_170937 = empty_slice_170927 || forwards_ok_170936;
                bool index_certs_170938;
                
                if (!ok_or_empty_170937) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_170925, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_170848, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_170939 = slt64(m_170862, j_m_i_170926);
                bool y_170940 = zzero_leq_i_p_m_t_s_170863 && i_p_m_t_s_leq_w_170939;
                bool forwards_ok_170941 = i_lte_j_170864 && y_170940;
                bool ok_or_empty_170942 = zzero_170854 || forwards_ok_170941;
                bool index_certs_170943;
                
                if (!ok_or_empty_170942) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_170853, "] out of bounds for array of shape [", (long long) j_m_i_170926, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_170865) {
                    int64_t dummy_177534;
                    int64_t dummy_177535;
                    
                    if (cond_170885) {
                        int64_t head_res_177536 = ((int64_t *) mem_param_180068.mem)[start_170925];
                        int64_t head_res_177537 = ((int64_t *) mem_param_180071.mem)[start_170925];
                        
                        dummy_177534 = head_res_177536;
                        dummy_177535 = head_res_177537;
                    } else {
                        int64_t slice_177538 = stride_170852 + start_170925;
                        int64_t head_res_177539 = ((int64_t *) mem_param_180068.mem)[slice_177538];
                        int64_t head_res_177540 = ((int64_t *) mem_param_180071.mem)[slice_177538];
                        
                        dummy_177534 = head_res_177539;
                        dummy_177535 = head_res_177540;
                    }
                    if (memblock_alloc(ctx, &mem_180149, bytes_180148, "mem_180149")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181427 = 0; nest_i_181427 < next_stride_170853; nest_i_181427++) {
                        ((int64_t *) mem_180149.mem)[nest_i_181427] = dummy_177534;
                    }
                    if (memblock_alloc(ctx, &mem_180151, bytes_180148, "mem_180151")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181428 = 0; nest_i_181428 < next_stride_170853; nest_i_181428++) {
                        ((int64_t *) mem_180151.mem)[nest_i_181428] = dummy_177535;
                    }
                    
                    int64_t data_177543;
                    int64_t i_177547 = (int64_t) 0;
                    
                    for (int64_t k_177546 = 0; k_177546 < next_stride_170853; k_177546++) {
                        int64_t j_177550 = sub64(k_177546, i_177547);
                        bool cond_177551 = j_177550 == j_m_i_170875;
                        bool cond_177552;
                        
                        if (cond_177551) {
                            cond_177552 = 1;
                        } else {
                            bool cond_177553 = slt64(i_177547, stride_170852);
                            bool cond_f_res_177554;
                            
                            if (cond_177553) {
                                bool x_177555 = sle64((int64_t) 0, j_177550);
                                bool y_177556 = slt64(j_177550, j_m_i_170875);
                                bool bounds_check_177557 = x_177555 && y_177556;
                                bool index_certs_177558;
                                
                                if (!bounds_check_177557) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177550, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:134:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_177562 = sle64((int64_t) 0, i_177547);
                                bool bounds_check_177563 = cond_177553 && x_177562;
                                bool index_certs_177564;
                                
                                if (!bounds_check_177563) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177547, "] out of bounds for array of shape [", (long long) stride_170852, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:134:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177559 = stride_170852 + j_177550;
                                int64_t slice_177560 = start_170925 + slice_177559;
                                int64_t leq_arg1_177561 = ((int64_t *) mem_param_180068.mem)[slice_177560];
                                int64_t slice_177565 = start_170925 + i_177547;
                                int64_t leq_arg0_177566 = ((int64_t *) mem_param_180068.mem)[slice_177565];
                                bool zlze_res_177567 = sle64(leq_arg0_177566, leq_arg1_177561);
                                
                                cond_f_res_177554 = zlze_res_177567;
                            } else {
                                cond_f_res_177554 = 0;
                            }
                            cond_177552 = cond_f_res_177554;
                        }
                        
                        int64_t loopres_177568;
                        int64_t loopres_177569;
                        int64_t loopres_177570;
                        
                        if (cond_177552) {
                            bool x_177572 = sle64((int64_t) 0, i_177547);
                            bool y_177573 = slt64(i_177547, stride_170852);
                            bool bounds_check_177574 = x_177572 && y_177573;
                            bool index_certs_177575;
                            
                            if (!bounds_check_177574) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177547, "] out of bounds for array of shape [", (long long) stride_170852, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:134:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_177571 = add64((int64_t) 1, i_177547);
                            int64_t slice_177576 = start_170925 + i_177547;
                            int64_t tmp_177577 = ((int64_t *) mem_param_180068.mem)[slice_177576];
                            int64_t tmp_177578 = ((int64_t *) mem_param_180071.mem)[slice_177576];
                            
                            loopres_177568 = tmp_177571;
                            loopres_177569 = tmp_177577;
                            loopres_177570 = tmp_177578;
                        } else {
                            bool x_177579 = sle64((int64_t) 0, j_177550);
                            bool y_177580 = slt64(j_177550, j_m_i_170875);
                            bool bounds_check_177581 = x_177579 && y_177580;
                            bool index_certs_177582;
                            
                            if (!bounds_check_177581) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177550, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:134:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177583 = stride_170852 + j_177550;
                            int64_t slice_177584 = start_170925 + slice_177583;
                            int64_t tmp_177585 = ((int64_t *) mem_param_180068.mem)[slice_177584];
                            int64_t tmp_177586 = ((int64_t *) mem_param_180071.mem)[slice_177584];
                            
                            loopres_177568 = i_177547;
                            loopres_177569 = tmp_177585;
                            loopres_177570 = tmp_177586;
                        }
                        ((int64_t *) mem_180149.mem)[k_177546] = loopres_177569;
                        ((int64_t *) mem_180151.mem)[k_177546] = loopres_177570;
                        
                        int64_t i_tmp_181429 = loopres_177568;
                        
                        i_177547 = i_tmp_181429;
                    }
                    data_177543 = i_177547;
                    if (memblock_set(ctx, &ext_mem_180169, &mem_180149, "mem_180149") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180166, &mem_180151, "mem_180151") != 0)
                        return 1;
                } else {
                    if (mem_180087_cached_sizze_181708 < bytes_180086) {
                        err = lexical_realloc(ctx, &mem_180087, &mem_180087_cached_sizze_181708, bytes_180086);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180089_cached_sizze_181709 < bytes_180086) {
                        err = lexical_realloc(ctx, &mem_180089, &mem_180089_cached_sizze_181709, bytes_180086);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179667 = 0; i_179667 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874; i_179667++) {
                        int64_t split_count_arg3_171005 = mul64(merge_block_sizze_170740, i_179667);
                        int64_t defunc_0_split_count_res_171006;
                        int64_t defunc_0_split_count_res_171007;
                        int64_t defunc_0_split_count_res_171008;
                        int64_t defunc_0_split_count_res_171009;
                        int64_t defunc_0_split_count_res_171010;
                        
                        if (futrts_lifted_normalizze_8970(ctx, &defunc_0_split_count_res_171006, &defunc_0_split_count_res_171007, &defunc_0_split_count_res_171008, &defunc_0_split_count_res_171009, &defunc_0_split_count_res_171010, (int64_t) 0, stride_170852, (int64_t) 0, j_m_i_170875, split_count_arg3_171005) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_171011 = slt64((int64_t) 0, defunc_0_split_count_res_171010);
                        bool defunc_0_split_count_res_171012;
                        int64_t defunc_0_split_count_res_171013;
                        int64_t defunc_0_split_count_res_171014;
                        int64_t defunc_0_split_count_res_171015;
                        int64_t defunc_0_split_count_res_171016;
                        int64_t defunc_0_split_count_res_171017;
                        bool loop_while_171018;
                        int64_t ss_171019;
                        int64_t ss_171020;
                        int64_t tt_171021;
                        int64_t tt_171022;
                        int64_t count_171023;
                        
                        loop_while_171018 = loop_cond_171011;
                        ss_171019 = defunc_0_split_count_res_171006;
                        ss_171020 = defunc_0_split_count_res_171007;
                        tt_171021 = defunc_0_split_count_res_171008;
                        tt_171022 = defunc_0_split_count_res_171009;
                        count_171023 = defunc_0_split_count_res_171010;
                        while (loop_while_171018) {
                            int64_t zlze_lhs_171024 = sub64(ss_171020, ss_171019);
                            bool cond_171025 = sle64(zlze_lhs_171024, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_171026;
                            int64_t defunc_0_lifted_step_res_171027;
                            int64_t defunc_0_lifted_step_res_171028;
                            int64_t defunc_0_lifted_step_res_171029;
                            
                            if (cond_171025) {
                                int64_t tmp_177589 = add64(tt_171021, count_171023);
                                
                                defunc_0_lifted_step_res_171026 = ss_171019;
                                defunc_0_lifted_step_res_171027 = tmp_177589;
                                defunc_0_lifted_step_res_171028 = tt_171022;
                                defunc_0_lifted_step_res_171029 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_171031 = sub64(tt_171022, tt_171021);
                                bool cond_171032 = sle64(zlze_lhs_171031, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_171033;
                                int64_t defunc_0_lifted_step_res_f_res_171034;
                                int64_t defunc_0_lifted_step_res_f_res_171035;
                                int64_t defunc_0_lifted_step_res_f_res_171036;
                                
                                if (cond_171032) {
                                    int64_t tmp_177590 = add64(ss_171019, count_171023);
                                    
                                    defunc_0_lifted_step_res_f_res_171033 = tmp_177590;
                                    defunc_0_lifted_step_res_f_res_171034 = tt_171021;
                                    defunc_0_lifted_step_res_f_res_171035 = tt_171022;
                                    defunc_0_lifted_step_res_f_res_171036 = (int64_t) 0;
                                } else {
                                    bool cond_171038 = count_171023 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171039;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171040;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171041;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171042;
                                    
                                    if (cond_171038) {
                                        bool x_177592 = sle64((int64_t) 0, ss_171019);
                                        bool y_177593 = slt64(ss_171019, stride_170852);
                                        bool bounds_check_177594 = x_177592 && y_177593;
                                        bool index_certs_177595;
                                        
                                        if (!bounds_check_177594) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_171019, "] out of bounds for array of shape [", (long long) stride_170852, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:134:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_177598 = sle64((int64_t) 0, tt_171021);
                                        bool y_177599 = slt64(tt_171021, j_m_i_170875);
                                        bool bounds_check_177600 = x_177598 && y_177599;
                                        bool index_certs_177601;
                                        
                                        if (!bounds_check_177600) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_171021, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:134:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177596 = start_170925 + ss_171019;
                                        int64_t leq_arg1_177597 = ((int64_t *) mem_param_180068.mem)[slice_177596];
                                        int64_t slice_177602 = stride_170852 + tt_171021;
                                        int64_t slice_177603 = start_170925 + slice_177602;
                                        int64_t leq_arg0_177604 = ((int64_t *) mem_param_180068.mem)[slice_177603];
                                        bool zlze_res_177605 = sle64(leq_arg0_177604, leq_arg1_177597);
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_177606;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_177607;
                                        
                                        if (zlze_res_177605) {
                                            int64_t tmp_177608 = add64((int64_t) 1, tt_171021);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177606 = ss_171019;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177607 = tmp_177608;
                                        } else {
                                            int64_t tmp_177609 = add64((int64_t) 1, ss_171019);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177606 = tmp_177609;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177607 = tt_171021;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171039 = defunc_0_lifted_step_res_f_res_f_res_t_res_177606;
                                        defunc_0_lifted_step_res_f_res_f_res_171040 = defunc_0_lifted_step_res_f_res_f_res_t_res_177607;
                                        defunc_0_lifted_step_res_f_res_f_res_171041 = tt_171022;
                                        defunc_0_lifted_step_res_f_res_f_res_171042 = (int64_t) 0;
                                    } else {
                                        int64_t m_171061 = sdiv64(count_171023, (int64_t) 2);
                                        int64_t n_171062 = sub64(count_171023, m_171061);
                                        bool cond_171063 = n_171062 == (int64_t) 0;
                                        int64_t zgze_lhs_171064 = add64(ss_171019, m_171061);
                                        bool cond_f_res_171065 = sle64(ss_171020, zgze_lhs_171064);
                                        bool x_171066 = !cond_171063;
                                        bool y_171067 = cond_f_res_171065 && x_171066;
                                        bool cond_171068 = cond_171063 || y_171067;
                                        bool leq_y_x_171069;
                                        
                                        if (cond_171068) {
                                            leq_y_x_171069 = 1;
                                        } else {
                                            bool x_171070 = sle64((int64_t) 0, zgze_lhs_171064);
                                            bool y_171071 = slt64(zgze_lhs_171064, stride_170852);
                                            bool bounds_check_171072 = x_171070 && y_171071;
                                            bool index_certs_171073;
                                            
                                            if (!bounds_check_171072) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_171064, "] out of bounds for array of shape [", (long long) stride_170852, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:134:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_171076 = add64(tt_171021, n_171062);
                                            int64_t leq_arg0_171077 = sub64(zm_lhs_171076, (int64_t) 1);
                                            bool x_171078 = sle64((int64_t) 0, leq_arg0_171077);
                                            bool y_171079 = slt64(leq_arg0_171077, j_m_i_170875);
                                            bool bounds_check_171080 = x_171078 && y_171079;
                                            bool index_certs_171081;
                                            
                                            if (!bounds_check_171080) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_171077, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:134:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_171074 = start_170925 + zgze_lhs_171064;
                                            int64_t leq_arg1_171075 = ((int64_t *) mem_param_180068.mem)[slice_171074];
                                            int64_t slice_171082 = stride_170852 + leq_arg0_171077;
                                            int64_t slice_171083 = start_170925 + slice_171082;
                                            int64_t leq_arg0_171084 = ((int64_t *) mem_param_180068.mem)[slice_171083];
                                            bool zlze_res_171085 = sle64(leq_arg0_171084, leq_arg1_171075);
                                            
                                            leq_y_x_171069 = zlze_res_171085;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171086;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171087;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171088;
                                        
                                        if (leq_y_x_171069) {
                                            int64_t tmp_177610 = add64(tt_171021, n_171062);
                                            int64_t tmp_177611 = sub64(count_171023, n_171062);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171086 = tmp_177610;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171087 = tt_171022;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171088 = tmp_177611;
                                        } else {
                                            int64_t tmp_171091 = add64(tt_171021, n_171062);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171086 = tt_171021;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171087 = tmp_171091;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171088 = count_171023;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171039 = ss_171019;
                                        defunc_0_lifted_step_res_f_res_f_res_171040 = defunc_0_lifted_step_res_f_res_f_res_f_res_171086;
                                        defunc_0_lifted_step_res_f_res_f_res_171041 = defunc_0_lifted_step_res_f_res_f_res_f_res_171087;
                                        defunc_0_lifted_step_res_f_res_f_res_171042 = defunc_0_lifted_step_res_f_res_f_res_f_res_171088;
                                    }
                                    defunc_0_lifted_step_res_f_res_171033 = defunc_0_lifted_step_res_f_res_f_res_171039;
                                    defunc_0_lifted_step_res_f_res_171034 = defunc_0_lifted_step_res_f_res_f_res_171040;
                                    defunc_0_lifted_step_res_f_res_171035 = defunc_0_lifted_step_res_f_res_f_res_171041;
                                    defunc_0_lifted_step_res_f_res_171036 = defunc_0_lifted_step_res_f_res_f_res_171042;
                                }
                                defunc_0_lifted_step_res_171026 = defunc_0_lifted_step_res_f_res_171033;
                                defunc_0_lifted_step_res_171027 = defunc_0_lifted_step_res_f_res_171034;
                                defunc_0_lifted_step_res_171028 = defunc_0_lifted_step_res_f_res_171035;
                                defunc_0_lifted_step_res_171029 = defunc_0_lifted_step_res_f_res_171036;
                            }
                            
                            int64_t loopres_171092;
                            int64_t loopres_171093;
                            int64_t loopres_171094;
                            int64_t loopres_171095;
                            int64_t loopres_171096;
                            
                            if (futrts_lifted_normalizze_8970(ctx, &loopres_171092, &loopres_171093, &loopres_171094, &loopres_171095, &loopres_171096, defunc_0_lifted_step_res_171026, ss_171020, defunc_0_lifted_step_res_171027, defunc_0_lifted_step_res_171028, defunc_0_lifted_step_res_171029) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_171097 = slt64((int64_t) 0, loopres_171096);
                            bool loop_while_tmp_181434 = loop_cond_171097;
                            int64_t ss_tmp_181435 = loopres_171092;
                            int64_t ss_tmp_181436 = loopres_171093;
                            int64_t tt_tmp_181437 = loopres_171094;
                            int64_t tt_tmp_181438 = loopres_171095;
                            int64_t count_tmp_181439 = loopres_171096;
                            
                            loop_while_171018 = loop_while_tmp_181434;
                            ss_171019 = ss_tmp_181435;
                            ss_171020 = ss_tmp_181436;
                            tt_171021 = tt_tmp_181437;
                            tt_171022 = tt_tmp_181438;
                            count_171023 = count_tmp_181439;
                        }
                        defunc_0_split_count_res_171012 = loop_while_171018;
                        defunc_0_split_count_res_171013 = ss_171019;
                        defunc_0_split_count_res_171014 = ss_171020;
                        defunc_0_split_count_res_171015 = tt_171021;
                        defunc_0_split_count_res_171016 = tt_171022;
                        defunc_0_split_count_res_171017 = count_171023;
                        ((int64_t *) mem_180087)[i_179667] = defunc_0_split_count_res_171013;
                        ((int64_t *) mem_180089)[i_179667] = defunc_0_split_count_res_171015;
                    }
                    if (mem_180104_cached_sizze_181710 < bytes_180103) {
                        err = lexical_realloc(ctx, &mem_180104, &mem_180104_cached_sizze_181710, bytes_180103);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180107_cached_sizze_181711 < bytes_180103) {
                        err = lexical_realloc(ctx, &mem_180107, &mem_180107_cached_sizze_181711, bytes_180103);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179674 = 0; i_179674 < num_blocks_170873; i_179674++) {
                        bool y_171103 = slt64(i_179674, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874);
                        bool index_certs_171105;
                        
                        if (!y_171103) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179674, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:134:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171106 = ((int64_t *) mem_180087)[i_179674];
                        int64_t defunc_0_f_res_171107 = ((int64_t *) mem_180089)[i_179674];
                        int64_t tmp_171108 = add64((int64_t) 1, i_179674);
                        bool x_171109 = sle64((int64_t) 0, tmp_171108);
                        bool y_171110 = slt64(tmp_171108, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874);
                        bool bounds_check_171111 = x_171109 && y_171110;
                        bool index_certs_171112;
                        
                        if (!bounds_check_171111) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171108, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:134:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171113 = ((int64_t *) mem_180087)[tmp_171108];
                        int64_t defunc_0_f_res_171114 = ((int64_t *) mem_180089)[tmp_171108];
                        int64_t merge_sequential_arg2_171115 = add64(stride_170852, defunc_0_f_res_171107);
                        int64_t merge_sequential_arg2_171116 = add64(stride_170852, defunc_0_f_res_171114);
                        int64_t j_m_i_171117 = sub64(merge_sequential_arg2_171116, merge_sequential_arg2_171115);
                        bool empty_slice_171118 = j_m_i_171117 == (int64_t) 0;
                        int64_t m_171119 = sub64(j_m_i_171117, (int64_t) 1);
                        int64_t i_p_m_t_s_171120 = add64(merge_sequential_arg2_171115, m_171119);
                        bool zzero_leq_i_p_m_t_s_171121 = sle64((int64_t) 0, i_p_m_t_s_171120);
                        bool i_p_m_t_s_leq_w_171122 = slt64(i_p_m_t_s_171120, next_stride_170853);
                        bool zzero_lte_i_171123 = sle64((int64_t) 0, merge_sequential_arg2_171115);
                        bool i_lte_j_171124 = sle64(merge_sequential_arg2_171115, merge_sequential_arg2_171116);
                        bool y_171125 = i_p_m_t_s_leq_w_171122 && zzero_lte_i_171123;
                        bool y_171126 = zzero_leq_i_p_m_t_s_171121 && y_171125;
                        bool forwards_ok_171127 = i_lte_j_171124 && y_171126;
                        bool ok_or_empty_171128 = empty_slice_171118 || forwards_ok_171127;
                        bool index_certs_171129;
                        
                        if (!ok_or_empty_171128) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_171115, ":", (long long) merge_sequential_arg2_171116, "] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:134:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_171130 = sub64(defunc_0_f_res_171113, defunc_0_f_res_171106);
                        bool empty_slice_171131 = j_m_i_171130 == (int64_t) 0;
                        int64_t m_171132 = sub64(j_m_i_171130, (int64_t) 1);
                        int64_t i_p_m_t_s_171133 = add64(defunc_0_f_res_171106, m_171132);
                        bool zzero_leq_i_p_m_t_s_171134 = sle64((int64_t) 0, i_p_m_t_s_171133);
                        bool i_p_m_t_s_leq_w_171135 = slt64(i_p_m_t_s_171133, next_stride_170853);
                        bool zzero_lte_i_171136 = sle64((int64_t) 0, defunc_0_f_res_171106);
                        bool i_lte_j_171137 = sle64(defunc_0_f_res_171106, defunc_0_f_res_171113);
                        bool y_171138 = i_p_m_t_s_leq_w_171135 && zzero_lte_i_171136;
                        bool y_171139 = zzero_leq_i_p_m_t_s_171134 && y_171138;
                        bool forwards_ok_171140 = i_lte_j_171137 && y_171139;
                        bool ok_or_empty_171141 = empty_slice_171131 || forwards_ok_171140;
                        bool index_certs_171142;
                        
                        if (!ok_or_empty_171141) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_171106, ":", (long long) defunc_0_f_res_171113, "] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:134:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_171143 = slt64((int64_t) 0, j_m_i_171130);
                        int64_t dummy_171144;
                        int64_t dummy_171145;
                        
                        if (cond_171143) {
                            bool index_certs_177612;
                            
                            if (!cond_171143) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171130, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:134:54-57\n   #12 ftsort.fut:38:3-26\n   #13 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177613 = start_170925 + defunc_0_f_res_171106;
                            int64_t head_res_177614 = ((int64_t *) mem_param_180068.mem)[slice_177613];
                            int64_t head_res_177615 = ((int64_t *) mem_param_180071.mem)[slice_177613];
                            
                            dummy_171144 = head_res_177614;
                            dummy_171145 = head_res_177615;
                        } else {
                            bool y_171150 = slt64((int64_t) 0, j_m_i_171117);
                            bool index_certs_171151;
                            
                            if (!y_171150) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171117, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:134:54-57\n   #12 ftsort.fut:38:3-26\n   #13 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_171152 = start_170925 + merge_sequential_arg2_171115;
                            int64_t head_res_171153 = ((int64_t *) mem_param_180068.mem)[slice_171152];
                            int64_t head_res_171154 = ((int64_t *) mem_param_180071.mem)[slice_171152];
                            
                            dummy_171144 = head_res_171153;
                            dummy_171145 = head_res_171154;
                        }
                        for (int64_t nest_i_181442 = 0; nest_i_181442 < merge_block_sizze_170740; nest_i_181442++) {
                            ((int64_t *) mem_180104)[i_179674 * merge_block_sizze_170740 + nest_i_181442] = dummy_171144;
                        }
                        for (int64_t nest_i_181443 = 0; nest_i_181443 < merge_block_sizze_170740; nest_i_181443++) {
                            ((int64_t *) mem_180107)[i_179674 * merge_block_sizze_170740 + nest_i_181443] = dummy_171145;
                        }
                        
                        int64_t data_171157;
                        int64_t i_171161 = (int64_t) 0;
                        
                        for (int64_t k_171160 = 0; k_171160 < merge_block_sizze_170740; k_171160++) {
                            int64_t j_171164 = sub64(k_171160, i_171161);
                            bool cond_171165 = j_171164 == j_m_i_171117;
                            bool cond_171166;
                            
                            if (cond_171165) {
                                cond_171166 = 1;
                            } else {
                                bool cond_171167 = slt64(i_171161, j_m_i_171130);
                                bool cond_f_res_171168;
                                
                                if (cond_171167) {
                                    bool x_177616 = sle64((int64_t) 0, j_171164);
                                    bool y_177617 = slt64(j_171164, j_m_i_171117);
                                    bool bounds_check_177618 = x_177616 && y_177617;
                                    bool index_certs_177619;
                                    
                                    if (!bounds_check_177618) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171164, "] out of bounds for array of shape [", (long long) j_m_i_171117, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:134:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_177623 = sle64((int64_t) 0, i_171161);
                                    bool bounds_check_177624 = cond_171167 && x_177623;
                                    bool index_certs_177625;
                                    
                                    if (!bounds_check_177624) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171161, "] out of bounds for array of shape [", (long long) j_m_i_171130, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:134:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_177620 = merge_sequential_arg2_171115 + j_171164;
                                    int64_t slice_177621 = start_170925 + slice_177620;
                                    int64_t leq_arg1_177622 = ((int64_t *) mem_param_180068.mem)[slice_177621];
                                    int64_t slice_177626 = defunc_0_f_res_171106 + i_171161;
                                    int64_t slice_177627 = start_170925 + slice_177626;
                                    int64_t leq_arg0_177628 = ((int64_t *) mem_param_180068.mem)[slice_177627];
                                    bool zlze_res_177629 = sle64(leq_arg0_177628, leq_arg1_177622);
                                    
                                    cond_f_res_171168 = zlze_res_177629;
                                } else {
                                    cond_f_res_171168 = 0;
                                }
                                cond_171166 = cond_f_res_171168;
                            }
                            
                            int64_t loopres_171183;
                            int64_t loopres_171184;
                            int64_t loopres_171185;
                            
                            if (cond_171166) {
                                bool x_177631 = sle64((int64_t) 0, i_171161);
                                bool y_177632 = slt64(i_171161, j_m_i_171130);
                                bool bounds_check_177633 = x_177631 && y_177632;
                                bool index_certs_177634;
                                
                                if (!bounds_check_177633) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171161, "] out of bounds for array of shape [", (long long) j_m_i_171130, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:134:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_177630 = add64((int64_t) 1, i_171161);
                                int64_t slice_177635 = defunc_0_f_res_171106 + i_171161;
                                int64_t slice_177636 = start_170925 + slice_177635;
                                int64_t tmp_177637 = ((int64_t *) mem_param_180068.mem)[slice_177636];
                                int64_t tmp_177638 = ((int64_t *) mem_param_180071.mem)[slice_177636];
                                
                                loopres_171183 = tmp_177630;
                                loopres_171184 = tmp_177637;
                                loopres_171185 = tmp_177638;
                            } else {
                                bool x_171195 = sle64((int64_t) 0, j_171164);
                                bool y_171196 = slt64(j_171164, j_m_i_171117);
                                bool bounds_check_171197 = x_171195 && y_171196;
                                bool index_certs_171198;
                                
                                if (!bounds_check_171197) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171164, "] out of bounds for array of shape [", (long long) j_m_i_171117, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:134:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_171199 = merge_sequential_arg2_171115 + j_171164;
                                int64_t slice_171200 = start_170925 + slice_171199;
                                int64_t tmp_171201 = ((int64_t *) mem_param_180068.mem)[slice_171200];
                                int64_t tmp_171202 = ((int64_t *) mem_param_180071.mem)[slice_171200];
                                
                                loopres_171183 = i_171161;
                                loopres_171184 = tmp_171201;
                                loopres_171185 = tmp_171202;
                            }
                            ((int64_t *) mem_180104)[i_179674 * merge_block_sizze_170740 + k_171160] = loopres_171184;
                            ((int64_t *) mem_180107)[i_179674 * merge_block_sizze_170740 + k_171160] = loopres_171185;
                            
                            int64_t i_tmp_181444 = loopres_171183;
                            
                            i_171161 = i_tmp_181444;
                        }
                        data_171157 = i_171161;
                    }
                    if (memblock_alloc(ctx, &mem_180142, bytes_180103, "mem_180142")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180142.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_170740, (int64_t) 1}, (uint64_t *) mem_180104, (int64_t) 0, (int64_t []) {merge_block_sizze_170740, (int64_t) 1}, (int64_t []) {num_blocks_170873, merge_block_sizze_170740});
                    if (memblock_alloc(ctx, &mem_180146, bytes_180103, "mem_180146")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180146.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_170740, (int64_t) 1}, (uint64_t *) mem_180107, (int64_t) 0, (int64_t []) {merge_block_sizze_170740, (int64_t) 1}, (int64_t []) {num_blocks_170873, merge_block_sizze_170740});
                    if (memblock_set(ctx, &ext_mem_180169, &mem_180142, "mem_180142") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180166, &mem_180146, "mem_180146") != 0)
                        return 1;
                }
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180074, i_179681 * next_stride_170853, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180169.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_170853});
                if (memblock_unref(ctx, &ext_mem_180169, "ext_mem_180169") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180077, i_179681 * next_stride_170853, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180166.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_170853});
                if (memblock_unref(ctx, &ext_mem_180166, "ext_mem_180166") != 0)
                    return 1;
            }
            
            int64_t flat_dim_171209 = next_stride_170853 * num_merges_170857;
            
            if (memblock_alloc(ctx, &mem_180180, bytes_180073, "mem_180180")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_180180.mem, (int64_t) 0, (int64_t []) {next_stride_170853, (int64_t) 1}, (uint64_t *) mem_180074, (int64_t) 0, (int64_t []) {next_stride_170853, (int64_t) 1}, (int64_t []) {num_merges_170857, next_stride_170853});
            if (memblock_alloc(ctx, &mem_180184, bytes_180073, "mem_180184")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_180184.mem, (int64_t) 0, (int64_t []) {next_stride_170853, (int64_t) 1}, (uint64_t *) mem_180077, (int64_t) 0, (int64_t []) {next_stride_170853, (int64_t) 1}, (int64_t []) {num_merges_170857, next_stride_170853});
            
            bool loop_cond_171212 = slt64(next_stride_170853, flat_dim_170737);
            
            if (memblock_set(ctx, &mem_param_tmp_181418, &mem_180180, "mem_180180") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181419, &mem_180184, "mem_180184") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_181420 = flat_dim_171209;
            bool loop_while_tmp_181421 = loop_cond_171212;
            int64_t stride_tmp_181424 = next_stride_170853;
            
            if (memblock_set(ctx, &mem_param_180068, &mem_param_tmp_181418, "mem_param_tmp_181418") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180071, &mem_param_tmp_181419, "mem_param_tmp_181419") != 0)
                return 1;
            loop_dz2084Uz2082U_170848 = loop_dz2084Uz2082U_tmp_181420;
            loop_while_170849 = loop_while_tmp_181421;
            stride_170852 = stride_tmp_181424;
        }
        if (memblock_set(ctx, &ext_mem_180191, &mem_param_180068, "mem_param_180068") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_180190, &mem_param_180071, "mem_param_180071") != 0)
            return 1;
        data_170843 = loop_dz2084Uz2082U_170848;
        data_170844 = loop_while_170849;
        data_170847 = stride_170852;
        if (memblock_unref(ctx, &mem_180060, "mem_180060") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180064, "mem_180064") != 0)
            return 1;
        
        bool empty_slice_171213 = n_102877 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_171214 = sle64((int64_t) 0, zs_lhs_170721);
        bool i_p_m_t_s_leq_w_171215 = slt64(zs_lhs_170721, data_170843);
        bool y_171216 = zzero_leq_i_p_m_t_s_171214 && i_p_m_t_s_leq_w_171215;
        bool ok_or_empty_171217 = empty_slice_171213 || y_171216;
        bool index_certs_171218;
        
        if (!ok_or_empty_171217) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_102877, "] out of bounds for array of shape [", (long long) data_170843, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:134:54-57\n   #5  ftsort.fut:38:3-26\n   #6  ftsort.fut:37:1-38:26\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_180194, &ext_mem_180190, "ext_mem_180190") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_179989, "mem_179989") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180196, bytes_179988, "mem_180196")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180198, bytes_179988, "mem_180198")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_179688 = 0; i_179688 < n_102877; i_179688++) {
        int64_t eta_p_171222 = ((int64_t *) ext_mem_180194.mem)[i_179688];
        bool x_171223 = sle64((int64_t) 0, eta_p_171222);
        bool y_171224 = slt64(eta_p_171222, n_102877);
        bool bounds_check_171225 = x_171223 && y_171224;
        bool index_certs_171226;
        
        if (!bounds_check_171225) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_171222, "] out of bounds for array of shape [", (long long) n_102877, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:134:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_171227 = ((int64_t *) ext_mem_179987.mem)[eta_p_171222];
        int64_t lifted_lambda_res_171228 = ((int64_t *) xs_mem_179986.mem)[eta_p_171222];
        
        ((int64_t *) mem_180196.mem)[i_179688] = lifted_lambda_res_171227;
        ((int64_t *) mem_180198.mem)[i_179688] = lifted_lambda_res_171228;
    }
    if (memblock_unref(ctx, &ext_mem_179987, "ext_mem_179987") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_180194, "ext_mem_180194") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181400, &mem_180196, "mem_180196") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181401, &mem_180198, "mem_180198") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181700, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181701, &mem_out_181401, "mem_out_181401") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_179992);
        free(mem_179995);
        free(mem_180005);
        free(mem_180007);
        free(mem_180074);
        free(mem_180077);
        free(mem_180087);
        free(mem_180089);
        free(mem_180104);
        free(mem_180107);
        if (memblock_unref(ctx, &mem_180198, "mem_180198") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180196, "mem_180196") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181419, "mem_param_tmp_181419") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181418, "mem_param_tmp_181418") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180184, "mem_180184") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180180, "mem_180180") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180146, "mem_180146") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180142, "mem_180142") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180151, "mem_180151") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180149, "mem_180149") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180166, "ext_mem_180166") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180169, "ext_mem_180169") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180071, "mem_param_180071") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180068, "mem_param_180068") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180190, "ext_mem_180190") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180191, "ext_mem_180191") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180064, "mem_180064") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180060, "mem_180060") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180194, "ext_mem_180194") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179989, "mem_179989") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_179987, "ext_mem_179987") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181401, "mem_out_181401") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_181712, struct memblock *mem_out_p_181713, struct memblock xs_mem_179986, int64_t n_98190, int64_t incr_98191)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_179992_cached_sizze_181714 = 0;
    unsigned char *mem_179992 = NULL;
    int64_t mem_179995_cached_sizze_181715 = 0;
    unsigned char *mem_179995 = NULL;
    int64_t mem_180005_cached_sizze_181716 = 0;
    unsigned char *mem_180005 = NULL;
    int64_t mem_180007_cached_sizze_181717 = 0;
    unsigned char *mem_180007 = NULL;
    int64_t mem_180074_cached_sizze_181718 = 0;
    unsigned char *mem_180074 = NULL;
    int64_t mem_180077_cached_sizze_181719 = 0;
    unsigned char *mem_180077 = NULL;
    int64_t mem_180087_cached_sizze_181720 = 0;
    unsigned char *mem_180087 = NULL;
    int64_t mem_180089_cached_sizze_181721 = 0;
    unsigned char *mem_180089 = NULL;
    int64_t mem_180104_cached_sizze_181722 = 0;
    unsigned char *mem_180104 = NULL;
    int64_t mem_180107_cached_sizze_181723 = 0;
    unsigned char *mem_180107 = NULL;
    struct memblock mem_180198;
    
    mem_180198.references = NULL;
    
    struct memblock mem_180196;
    
    mem_180196.references = NULL;
    
    struct memblock mem_param_tmp_181419;
    
    mem_param_tmp_181419.references = NULL;
    
    struct memblock mem_param_tmp_181418;
    
    mem_param_tmp_181418.references = NULL;
    
    struct memblock mem_180184;
    
    mem_180184.references = NULL;
    
    struct memblock mem_180180;
    
    mem_180180.references = NULL;
    
    struct memblock mem_180146;
    
    mem_180146.references = NULL;
    
    struct memblock mem_180142;
    
    mem_180142.references = NULL;
    
    struct memblock mem_180151;
    
    mem_180151.references = NULL;
    
    struct memblock mem_180149;
    
    mem_180149.references = NULL;
    
    struct memblock ext_mem_180166;
    
    ext_mem_180166.references = NULL;
    
    struct memblock ext_mem_180169;
    
    ext_mem_180169.references = NULL;
    
    struct memblock mem_param_180071;
    
    mem_param_180071.references = NULL;
    
    struct memblock mem_param_180068;
    
    mem_param_180068.references = NULL;
    
    struct memblock ext_mem_180190;
    
    ext_mem_180190.references = NULL;
    
    struct memblock ext_mem_180191;
    
    ext_mem_180191.references = NULL;
    
    struct memblock mem_180064;
    
    mem_180064.references = NULL;
    
    struct memblock mem_180060;
    
    mem_180060.references = NULL;
    
    struct memblock ext_mem_180194;
    
    ext_mem_180194.references = NULL;
    
    struct memblock mem_179989;
    
    mem_179989.references = NULL;
    
    struct memblock ext_mem_179987;
    
    ext_mem_179987.references = NULL;
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    int64_t bytes_179988 = (int64_t) 8 * n_98190;
    bool cond_170720 = sle64(n_98190, (int64_t) 1);
    int64_t zs_lhs_170721 = sub64(n_98190, (int64_t) 1);
    int64_t zp_rhs_170722 = sdiv_safe64(zs_lhs_170721, (int64_t) 20);
    int64_t min_num_blocks_170723 = add64((int64_t) 1, zp_rhs_170722);
    bool loop_cond_170724 = slt64((int64_t) 1, min_num_blocks_170723);
    bool smallest_pow_2_geq_than_res_170725;
    int64_t smallest_pow_2_geq_than_res_170726;
    bool loop_while_170727;
    int64_t x_170728;
    
    loop_while_170727 = loop_cond_170724;
    x_170728 = (int64_t) 1;
    while (loop_while_170727) {
        int64_t loopres_170729 = mul64((int64_t) 2, x_170728);
        bool loop_cond_170730 = slt64(loopres_170729, min_num_blocks_170723);
        bool loop_while_tmp_181402 = loop_cond_170730;
        int64_t x_tmp_181403 = loopres_170729;
        
        loop_while_170727 = loop_while_tmp_181402;
        x_170728 = x_tmp_181403;
    }
    smallest_pow_2_geq_than_res_170725 = loop_while_170727;
    smallest_pow_2_geq_than_res_170726 = x_170728;
    
    bool zzero_170731 = smallest_pow_2_geq_than_res_170726 == (int64_t) 0;
    bool nonzzero_170732 = !zzero_170731;
    bool protect_assert_disj_170733 = cond_170720 || nonzzero_170732;
    bool nonzzero_cert_170734;
    
    if (!protect_assert_disj_170733) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:134:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_170735 = sdiv_safe64(zs_lhs_170721, smallest_pow_2_geq_than_res_170726);
    int64_t block_sizze_170736 = add64((int64_t) 1, zp_rhs_170735);
    bool y_170741 = slt64((int64_t) 0, n_98190);
    bool protect_assert_disj_181099 = cond_170720 || y_170741;
    bool index_certs_170742;
    
    if (!protect_assert_disj_181099) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_98190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:134:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_170755 = slt64(smallest_pow_2_geq_than_res_170726, (int64_t) 0);
    bool valid_170756 = !bounds_invalid_upwards_170755;
    bool protect_assert_disj_181107 = cond_170720 || valid_170756;
    bool range_valid_c_170757;
    
    if (!protect_assert_disj_181107) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_170726, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:134:54-57\n   #6  ftsort.fut:32:3-27\n   #7  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_170759 = slt64(block_sizze_170736, (int64_t) 0);
    bool valid_170760 = !bounds_invalid_upwards_170759;
    bool protect_assert_disj_181109 = cond_170720 || valid_170760;
    bool range_valid_c_170761;
    
    if (!protect_assert_disj_181109) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_170736, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:134:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_170763 = sle64(block_sizze_170736, (int64_t) 1);
    int64_t tmp_170764 = sub64(block_sizze_170736, (int64_t) 2);
    bool bounds_invalid_upwards_170765 = slt64(tmp_170764, (int64_t) 0);
    bool valid_170767 = !bounds_invalid_upwards_170765;
    bool protect_assert_disj_170768 = cond_170763 || valid_170767;
    bool protect_assert_disj_181111 = cond_170720 || protect_assert_disj_170768;
    bool range_valid_c_170769;
    
    if (!protect_assert_disj_181111) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_170764, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180197 = (int64_t) 2 * n_98190;
    
    if (futrts_indicesWithIncrement_9029(ctx, &ext_mem_179987, xs_mem_179986, n_98190, incr_98191) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_179989, bytes_179988, "mem_179989")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181404 = 0; i_181404 < n_98190; i_181404++) {
        int64_t x_181405 = (int64_t) 0 + i_181404 * (int64_t) 1;
        
        ((int64_t *) mem_179989.mem)[i_181404] = x_181405;
    }
    
    int64_t flat_dim_170737 = smallest_pow_2_geq_than_res_170726 * block_sizze_170736;
    bool x_181094 = !cond_170720;
    int64_t greatest_divisor_leq_than_arg1_170739 = mul64((int64_t) 2, block_sizze_170736);
    int64_t merge_block_sizze_170740;
    
    if (x_181094) {
        int64_t x_181096;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181096, (int64_t) 8, greatest_divisor_leq_than_arg1_170739) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_170740 = x_181096;
    } else {
        merge_block_sizze_170740 = (int64_t) 0;
    }
    
    int16_t reduce_arg1_170743;
    
    if (x_181094) {
        int16_t x_181100 = ((int16_t *) xs_mem_179986.mem)[(int64_t) 0];
        
        reduce_arg1_170743 = x_181100;
    } else {
        reduce_arg1_170743 = (int16_t) 0;
    }
    
    int16_t defunc_0_reduce_res_177645;
    int64_t defunc_0_reduce_res_177646;
    
    if (x_181094) {
        int16_t x_181102;
        int64_t x_181103;
        int16_t redout_179646;
        int64_t redout_179647;
        
        redout_179646 = reduce_arg1_170743;
        redout_179647 = (int64_t) 0;
        for (int64_t i_179648 = 0; i_179648 < n_98190; i_179648++) {
            int16_t x_170746 = ((int16_t *) xs_mem_179986.mem)[i_179648];
            bool zlze_res_170752 = sle16(redout_179646, x_170746);
            int16_t defunc_0_op_res_170753;
            
            if (zlze_res_170752) {
                defunc_0_op_res_170753 = x_170746;
            } else {
                defunc_0_op_res_170753 = redout_179646;
            }
            
            int64_t defunc_0_op_res_170754;
            
            if (zlze_res_170752) {
                defunc_0_op_res_170754 = i_179648;
            } else {
                defunc_0_op_res_170754 = redout_179647;
            }
            
            int16_t redout_tmp_181406 = defunc_0_op_res_170753;
            int64_t redout_tmp_181407 = defunc_0_op_res_170754;
            
            redout_179646 = redout_tmp_181406;
            redout_179647 = redout_tmp_181407;
        }
        x_181102 = redout_179646;
        x_181103 = redout_179647;
        defunc_0_reduce_res_177645 = x_181102;
        defunc_0_reduce_res_177646 = x_181103;
    } else {
        defunc_0_reduce_res_177645 = (int16_t) 0;
        defunc_0_reduce_res_177646 = (int64_t) 0;
    }
    
    int64_t distance_170766 = add64((int64_t) 1, tmp_170764);
    int64_t binop_x_179990 = (int64_t) 2 * smallest_pow_2_geq_than_res_170726;
    int64_t bytes_179991 = block_sizze_170736 * binop_x_179990;
    int64_t binop_x_179993 = (int64_t) 8 * smallest_pow_2_geq_than_res_170726;
    int64_t bytes_179994 = block_sizze_170736 * binop_x_179993;
    int64_t bytes_180006 = (int64_t) 8 * block_sizze_170736;
    bool loop_cond_170840 = slt64(block_sizze_170736, flat_dim_170737);
    bool zzero_170841 = merge_block_sizze_170740 == (int64_t) 0;
    bool nonzzero_170842 = !zzero_170841;
    
    if (cond_170720) {
        if (memblock_set(ctx, &ext_mem_180194, &mem_179989, "mem_179989") != 0)
            return 1;
    } else {
        if (mem_179992_cached_sizze_181714 < bytes_179991) {
            err = lexical_realloc(ctx, &mem_179992, &mem_179992_cached_sizze_181714, bytes_179991);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_179995_cached_sizze_181715 < bytes_179994) {
            err = lexical_realloc(ctx, &mem_179995, &mem_179995_cached_sizze_181715, bytes_179994);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180005_cached_sizze_181716 < greatest_divisor_leq_than_arg1_170739) {
            err = lexical_realloc(ctx, &mem_180005, &mem_180005_cached_sizze_181716, greatest_divisor_leq_than_arg1_170739);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180007_cached_sizze_181717 < bytes_180006) {
            err = lexical_realloc(ctx, &mem_180007, &mem_180007_cached_sizze_181717, bytes_180006);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_179660 = 0; i_179660 < smallest_pow_2_geq_than_res_170726; i_179660++) {
            int64_t zp_lhs_170773 = mul64(block_sizze_170736, i_179660);
            
            for (int64_t i_179653 = 0; i_179653 < block_sizze_170736; i_179653++) {
                int64_t k_170777 = add64(zp_lhs_170773, i_179653);
                bool cond_170778 = slt64(k_170777, n_98190);
                int16_t lifted_lambda_res_170779;
                int64_t lifted_lambda_res_170780;
                
                if (cond_170778) {
                    bool x_177498 = sle64((int64_t) 0, k_170777);
                    bool bounds_check_177499 = cond_170778 && x_177498;
                    bool index_certs_177500;
                    
                    if (!bounds_check_177499) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_170777, "] out of bounds for array of shape [", (long long) n_98190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:134:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int16_t lifted_lambda_res_t_res_177501 = ((int16_t *) xs_mem_179986.mem)[k_170777];
                    
                    lifted_lambda_res_170779 = lifted_lambda_res_t_res_177501;
                    lifted_lambda_res_170780 = k_170777;
                } else {
                    lifted_lambda_res_170779 = defunc_0_reduce_res_177645;
                    lifted_lambda_res_170780 = defunc_0_reduce_res_177646;
                }
                ((int16_t *) mem_180005)[i_179653] = lifted_lambda_res_170779;
                ((int64_t *) mem_180007)[i_179653] = lifted_lambda_res_170780;
            }
            if (!cond_170763) {
                for (int64_t i_170789 = 0; i_170789 < distance_170766; i_170789++) {
                    int64_t gt_arg1_170792 = add64((int64_t) 1, i_170789);
                    bool x_170793 = sle64((int64_t) 0, gt_arg1_170792);
                    bool y_170794 = slt64(gt_arg1_170792, block_sizze_170736);
                    bool bounds_check_170795 = x_170793 && y_170794;
                    bool index_certs_170796;
                    
                    if (!bounds_check_170795) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_170792, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_170798 = slt64(i_170789, block_sizze_170736);
                    bool index_certs_170799;
                    
                    if (!y_170798) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_170789, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int16_t gt_arg1_170797 = ((int16_t *) mem_180005)[gt_arg1_170792];
                    int16_t gt_arg0_170800 = ((int16_t *) mem_180005)[i_170789];
                    bool zlze_res_170801 = sle16(gt_arg0_170800, gt_arg1_170797);
                    bool defunc_0_lifted_gt_res_170802 = !zlze_res_170801;
                    bool s_170803;
                    int64_t s_170806;
                    bool loop_while_170807;
                    int64_t j_170810;
                    
                    loop_while_170807 = defunc_0_lifted_gt_res_170802;
                    j_170810 = i_170789;
                    while (loop_while_170807) {
                        bool x_170811 = sle64((int64_t) 0, j_170810);
                        bool y_170812 = slt64(j_170810, block_sizze_170736);
                        bool bounds_check_170813 = x_170811 && y_170812;
                        bool index_certs_170814;
                        
                        if (!bounds_check_170813) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_170810, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_170817 = add64((int64_t) 1, j_170810);
                        bool x_170818 = sle64((int64_t) 0, copy_arg0_170817);
                        bool y_170819 = slt64(copy_arg0_170817, block_sizze_170736);
                        bool bounds_check_170820 = x_170818 && y_170819;
                        bool index_certs_170821;
                        
                        if (!bounds_check_170820) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_170817, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int16_t copy_arg0_170815 = ((int16_t *) mem_180005)[j_170810];
                        int64_t copy_arg0_170816 = ((int64_t *) mem_180007)[j_170810];
                        int16_t copy_arg0_170822 = ((int16_t *) mem_180005)[copy_arg0_170817];
                        int64_t copy_arg0_170823 = ((int64_t *) mem_180007)[copy_arg0_170817];
                        
                        ((int16_t *) mem_180005)[j_170810] = copy_arg0_170822;
                        ((int64_t *) mem_180007)[j_170810] = copy_arg0_170823;
                        ((int16_t *) mem_180005)[copy_arg0_170817] = copy_arg0_170815;
                        ((int64_t *) mem_180007)[copy_arg0_170817] = copy_arg0_170816;
                        
                        int64_t tmp_170828 = sub64(j_170810, (int64_t) 1);
                        bool cond_170829 = sle64((int64_t) 0, tmp_170828);
                        bool loop_cond_170830;
                        
                        if (cond_170829) {
                            bool y_177503 = slt64(tmp_170828, block_sizze_170736);
                            bool bounds_check_177504 = cond_170829 && y_177503;
                            bool index_certs_177505;
                            
                            if (!bounds_check_177504) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_170828, "] out of bounds for array of shape [", (long long) block_sizze_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int16_t gt_arg1_177502 = ((int16_t *) mem_180005)[j_170810];
                            int16_t gt_arg0_177506 = ((int16_t *) mem_180005)[tmp_170828];
                            bool zlze_res_177507 = sle16(gt_arg0_177506, gt_arg1_177502);
                            bool defunc_0_lifted_gt_res_177508 = !zlze_res_177507;
                            
                            loop_cond_170830 = defunc_0_lifted_gt_res_177508;
                        } else {
                            loop_cond_170830 = 0;
                        }
                        
                        bool loop_while_tmp_181414 = loop_cond_170830;
                        int64_t j_tmp_181417 = tmp_170828;
                        
                        loop_while_170807 = loop_while_tmp_181414;
                        j_170810 = j_tmp_181417;
                    }
                    s_170803 = loop_while_170807;
                    s_170806 = j_170810;
                }
            }
            lmad_copy_2b(ctx, 1, (uint16_t *) mem_179992, i_179660 * block_sizze_170736, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_180005, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_170736});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_179995, i_179660 * block_sizze_170736, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180007, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_170736});
        }
        if (memblock_alloc(ctx, &mem_180060, bytes_179991, "mem_180060")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_2b(ctx, 2, (uint16_t *) mem_180060.mem, (int64_t) 0, (int64_t []) {block_sizze_170736, (int64_t) 1}, (uint16_t *) mem_179992, (int64_t) 0, (int64_t []) {block_sizze_170736, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_170726, block_sizze_170736});
        if (memblock_alloc(ctx, &mem_180064, bytes_179994, "mem_180064")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180064.mem, (int64_t) 0, (int64_t []) {block_sizze_170736, (int64_t) 1}, (uint64_t *) mem_179995, (int64_t) 0, (int64_t []) {block_sizze_170736, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_170726, block_sizze_170736});
        
        int64_t data_170843;
        bool data_170844;
        int64_t data_170847;
        int64_t loop_dz2084Uz2082U_170848;
        bool loop_while_170849;
        int64_t stride_170852;
        
        if (memblock_set(ctx, &mem_param_180068, &mem_180060, "mem_180060") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180071, &mem_180064, "mem_180064") != 0)
            return 1;
        loop_dz2084Uz2082U_170848 = flat_dim_170737;
        loop_while_170849 = loop_cond_170840;
        stride_170852 = block_sizze_170736;
        while (loop_while_170849) {
            int64_t next_stride_170853 = mul64((int64_t) 2, stride_170852);
            bool zzero_170854 = next_stride_170853 == (int64_t) 0;
            bool nonzzero_170855 = !zzero_170854;
            bool nonzzero_cert_170856;
            
            if (!nonzzero_170855) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:134:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_170857 = sdiv64(flat_dim_170737, next_stride_170853);
            bool bounds_invalid_upwards_170858 = slt64(num_merges_170857, (int64_t) 0);
            bool valid_170859 = !bounds_invalid_upwards_170858;
            bool range_valid_c_170860;
            
            if (!valid_170859) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_170857, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:134:54-57\n   #6  ftsort.fut:32:3-27\n   #7  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_170862 = sub64(next_stride_170853, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_170863 = sle64((int64_t) 0, m_170862);
            bool cond_170865 = slt64(next_stride_170853, (int64_t) 10);
            bool protect_assert_disj_170866 = nonzzero_170842 || cond_170865;
            bool nonzzero_cert_170867;
            
            if (!protect_assert_disj_170866) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_170868 = smod_safe64(next_stride_170853, merge_block_sizze_170740);
            bool num_blocks_170869 = zeze_lhs_170868 == (int64_t) 0;
            bool protect_assert_disj_170870 = cond_170865 || num_blocks_170869;
            bool assert_c_170871;
            
            if (!protect_assert_disj_170870) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_170873 = sdiv_safe64(next_stride_170853, merge_block_sizze_170740);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874 = add64((int64_t) 1, num_blocks_170873);
            int64_t j_m_i_170875 = sub64(next_stride_170853, stride_170852);
            int64_t flat_dim_170876 = merge_block_sizze_170740 * num_blocks_170873;
            bool bounds_invalid_upwards_170877 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874, (int64_t) 0);
            bool zzero_lte_i_170878 = sle64((int64_t) 0, stride_170852);
            bool i_lte_j_170879 = sle64(stride_170852, next_stride_170853);
            bool empty_slice_170880 = stride_170852 == (int64_t) 0;
            int64_t m_170881 = sub64(stride_170852, (int64_t) 1);
            bool bounds_invalid_upwards_170882 = slt64(num_blocks_170873, (int64_t) 0);
            bool empty_slice_170883 = j_m_i_170875 == (int64_t) 0;
            int64_t m_170884 = sub64(j_m_i_170875, (int64_t) 1);
            bool cond_170885 = slt64((int64_t) 0, stride_170852);
            bool valid_170886 = !bounds_invalid_upwards_170877;
            bool zzero_leq_i_p_m_t_s_170887 = sle64((int64_t) 0, m_170881);
            bool i_p_m_t_s_leq_w_170888 = slt64(m_170881, next_stride_170853);
            bool valid_170889 = !bounds_invalid_upwards_170882;
            bool i_p_m_t_s_leq_w_170890 = slt64(m_170862, flat_dim_170876);
            int64_t i_p_m_t_s_170891 = add64(stride_170852, m_170884);
            bool y_170892 = slt64((int64_t) 0, j_m_i_170875);
            bool protect_assert_disj_170893 = cond_170865 || valid_170886;
            bool range_valid_c_170894;
            
            if (!protect_assert_disj_170893) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:134:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_170895 = zzero_leq_i_p_m_t_s_170887 && i_p_m_t_s_leq_w_170888;
            bool protect_assert_disj_170896 = cond_170865 || valid_170889;
            bool range_valid_c_170897;
            
            if (!protect_assert_disj_170896) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_170873, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:134:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_170898 = zzero_leq_i_p_m_t_s_170863 && i_p_m_t_s_leq_w_170890;
            bool zzero_leq_i_p_m_t_s_170899 = sle64((int64_t) 0, i_p_m_t_s_170891);
            bool i_p_m_t_s_leq_w_170900 = slt64(i_p_m_t_s_170891, next_stride_170853);
            bool forwards_ok_170901 = zzero_lte_i_170878 && y_170895;
            bool ok_or_empty_170902 = zzero_170854 || y_170898;
            bool y_170903 = zzero_lte_i_170878 && i_p_m_t_s_leq_w_170900;
            bool protect_assert_disj_170904 = cond_170885 || y_170892;
            bool ok_or_empty_170905 = empty_slice_170880 || forwards_ok_170901;
            bool protect_assert_disj_170906 = cond_170865 || ok_or_empty_170902;
            bool index_certs_170907;
            
            if (!protect_assert_disj_170906) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_170853, "] out of bounds for array of shape [", (long long) flat_dim_170876, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:134:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_170908 = zzero_leq_i_p_m_t_s_170899 && y_170903;
            bool loop_not_taken_170909 = !cond_170865;
            bool protect_assert_disj_170910 = protect_assert_disj_170904 || loop_not_taken_170909;
            bool index_certs_170911;
            
            if (!protect_assert_disj_170910) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:134:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_170912 = cond_170865 || ok_or_empty_170905;
            bool index_certs_170913;
            
            if (!protect_assert_disj_170912) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_170852, "] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:134:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_170914 = i_lte_j_170879 && y_170908;
            bool protect_assert_disj_170915 = ok_or_empty_170905 || loop_not_taken_170909;
            bool index_certs_170916;
            
            if (!protect_assert_disj_170915) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_170852, "] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_170917 = empty_slice_170883 || forwards_ok_170914;
            bool protect_assert_disj_170918 = loop_not_taken_170909 || ok_or_empty_170917;
            bool index_certs_170919;
            
            if (!protect_assert_disj_170918) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_170852, ":] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_170920 = cond_170865 || ok_or_empty_170917;
            bool index_certs_170921;
            
            if (!protect_assert_disj_170920) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_170852, ":] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:134:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_180072 = (int64_t) 2 * num_merges_170857;
            int64_t bytes_180073 = next_stride_170853 * binop_x_180072;
            int64_t binop_x_180075 = (int64_t) 8 * num_merges_170857;
            int64_t bytes_180076 = next_stride_170853 * binop_x_180075;
            bool i_lte_j_170864 = sle64((int64_t) 0, next_stride_170853);
            
            if (mem_180074_cached_sizze_181718 < bytes_180073) {
                err = lexical_realloc(ctx, &mem_180074, &mem_180074_cached_sizze_181718, bytes_180073);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180077_cached_sizze_181719 < bytes_180076) {
                err = lexical_realloc(ctx, &mem_180077, &mem_180077_cached_sizze_181719, bytes_180076);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_180086 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874;
            int64_t binop_x_180102 = (int64_t) 2 * num_blocks_170873;
            int64_t bytes_180103 = merge_block_sizze_170740 * binop_x_180102;
            int64_t binop_x_180105 = (int64_t) 8 * num_blocks_170873;
            int64_t bytes_180106 = merge_block_sizze_170740 * binop_x_180105;
            int64_t bytes_180148 = (int64_t) 4 * stride_170852;
            int64_t bytes_180150 = (int64_t) 16 * stride_170852;
            
            for (int64_t i_179681 = 0; i_179681 < num_merges_170857; i_179681++) {
                int64_t start_170925 = mul64(next_stride_170853, i_179681);
                int64_t j_m_i_170926 = sub64(loop_dz2084Uz2082U_170848, start_170925);
                bool empty_slice_170927 = j_m_i_170926 == (int64_t) 0;
                int64_t m_170928 = sub64(j_m_i_170926, (int64_t) 1);
                int64_t i_p_m_t_s_170929 = add64(start_170925, m_170928);
                bool zzero_leq_i_p_m_t_s_170930 = sle64((int64_t) 0, i_p_m_t_s_170929);
                bool i_p_m_t_s_leq_w_170931 = slt64(i_p_m_t_s_170929, loop_dz2084Uz2082U_170848);
                bool zzero_lte_i_170932 = sle64((int64_t) 0, start_170925);
                bool i_lte_j_170933 = sle64(start_170925, loop_dz2084Uz2082U_170848);
                bool y_170934 = i_p_m_t_s_leq_w_170931 && zzero_lte_i_170932;
                bool y_170935 = zzero_leq_i_p_m_t_s_170930 && y_170934;
                bool forwards_ok_170936 = i_lte_j_170933 && y_170935;
                bool ok_or_empty_170937 = empty_slice_170927 || forwards_ok_170936;
                bool index_certs_170938;
                
                if (!ok_or_empty_170937) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_170925, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_170848, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_170939 = slt64(m_170862, j_m_i_170926);
                bool y_170940 = zzero_leq_i_p_m_t_s_170863 && i_p_m_t_s_leq_w_170939;
                bool forwards_ok_170941 = i_lte_j_170864 && y_170940;
                bool ok_or_empty_170942 = zzero_170854 || forwards_ok_170941;
                bool index_certs_170943;
                
                if (!ok_or_empty_170942) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_170853, "] out of bounds for array of shape [", (long long) j_m_i_170926, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:134:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_170865) {
                    int16_t dummy_177534;
                    int64_t dummy_177535;
                    
                    if (cond_170885) {
                        int16_t head_res_177536 = ((int16_t *) mem_param_180068.mem)[start_170925];
                        int64_t head_res_177537 = ((int64_t *) mem_param_180071.mem)[start_170925];
                        
                        dummy_177534 = head_res_177536;
                        dummy_177535 = head_res_177537;
                    } else {
                        int64_t slice_177538 = stride_170852 + start_170925;
                        int16_t head_res_177539 = ((int16_t *) mem_param_180068.mem)[slice_177538];
                        int64_t head_res_177540 = ((int64_t *) mem_param_180071.mem)[slice_177538];
                        
                        dummy_177534 = head_res_177539;
                        dummy_177535 = head_res_177540;
                    }
                    if (memblock_alloc(ctx, &mem_180149, bytes_180148, "mem_180149")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181427 = 0; nest_i_181427 < next_stride_170853; nest_i_181427++) {
                        ((int16_t *) mem_180149.mem)[nest_i_181427] = dummy_177534;
                    }
                    if (memblock_alloc(ctx, &mem_180151, bytes_180150, "mem_180151")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181428 = 0; nest_i_181428 < next_stride_170853; nest_i_181428++) {
                        ((int64_t *) mem_180151.mem)[nest_i_181428] = dummy_177535;
                    }
                    
                    int64_t data_177543;
                    int64_t i_177547 = (int64_t) 0;
                    
                    for (int64_t k_177546 = 0; k_177546 < next_stride_170853; k_177546++) {
                        int64_t j_177550 = sub64(k_177546, i_177547);
                        bool cond_177551 = j_177550 == j_m_i_170875;
                        bool cond_177552;
                        
                        if (cond_177551) {
                            cond_177552 = 1;
                        } else {
                            bool cond_177553 = slt64(i_177547, stride_170852);
                            bool cond_f_res_177554;
                            
                            if (cond_177553) {
                                bool x_177555 = sle64((int64_t) 0, j_177550);
                                bool y_177556 = slt64(j_177550, j_m_i_170875);
                                bool bounds_check_177557 = x_177555 && y_177556;
                                bool index_certs_177558;
                                
                                if (!bounds_check_177557) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177550, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:134:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_177562 = sle64((int64_t) 0, i_177547);
                                bool bounds_check_177563 = cond_177553 && x_177562;
                                bool index_certs_177564;
                                
                                if (!bounds_check_177563) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177547, "] out of bounds for array of shape [", (long long) stride_170852, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:134:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177559 = stride_170852 + j_177550;
                                int64_t slice_177560 = start_170925 + slice_177559;
                                int16_t leq_arg1_177561 = ((int16_t *) mem_param_180068.mem)[slice_177560];
                                int64_t slice_177565 = start_170925 + i_177547;
                                int16_t leq_arg0_177566 = ((int16_t *) mem_param_180068.mem)[slice_177565];
                                bool zlze_res_177567 = sle16(leq_arg0_177566, leq_arg1_177561);
                                
                                cond_f_res_177554 = zlze_res_177567;
                            } else {
                                cond_f_res_177554 = 0;
                            }
                            cond_177552 = cond_f_res_177554;
                        }
                        
                        int64_t loopres_177568;
                        int16_t loopres_177569;
                        int64_t loopres_177570;
                        
                        if (cond_177552) {
                            bool x_177572 = sle64((int64_t) 0, i_177547);
                            bool y_177573 = slt64(i_177547, stride_170852);
                            bool bounds_check_177574 = x_177572 && y_177573;
                            bool index_certs_177575;
                            
                            if (!bounds_check_177574) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177547, "] out of bounds for array of shape [", (long long) stride_170852, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:134:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_177571 = add64((int64_t) 1, i_177547);
                            int64_t slice_177576 = start_170925 + i_177547;
                            int16_t tmp_177577 = ((int16_t *) mem_param_180068.mem)[slice_177576];
                            int64_t tmp_177578 = ((int64_t *) mem_param_180071.mem)[slice_177576];
                            
                            loopres_177568 = tmp_177571;
                            loopres_177569 = tmp_177577;
                            loopres_177570 = tmp_177578;
                        } else {
                            bool x_177579 = sle64((int64_t) 0, j_177550);
                            bool y_177580 = slt64(j_177550, j_m_i_170875);
                            bool bounds_check_177581 = x_177579 && y_177580;
                            bool index_certs_177582;
                            
                            if (!bounds_check_177581) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177550, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:134:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177583 = stride_170852 + j_177550;
                            int64_t slice_177584 = start_170925 + slice_177583;
                            int16_t tmp_177585 = ((int16_t *) mem_param_180068.mem)[slice_177584];
                            int64_t tmp_177586 = ((int64_t *) mem_param_180071.mem)[slice_177584];
                            
                            loopres_177568 = i_177547;
                            loopres_177569 = tmp_177585;
                            loopres_177570 = tmp_177586;
                        }
                        ((int16_t *) mem_180149.mem)[k_177546] = loopres_177569;
                        ((int64_t *) mem_180151.mem)[k_177546] = loopres_177570;
                        
                        int64_t i_tmp_181429 = loopres_177568;
                        
                        i_177547 = i_tmp_181429;
                    }
                    data_177543 = i_177547;
                    if (memblock_set(ctx, &ext_mem_180169, &mem_180149, "mem_180149") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180166, &mem_180151, "mem_180151") != 0)
                        return 1;
                } else {
                    if (mem_180087_cached_sizze_181720 < bytes_180086) {
                        err = lexical_realloc(ctx, &mem_180087, &mem_180087_cached_sizze_181720, bytes_180086);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180089_cached_sizze_181721 < bytes_180086) {
                        err = lexical_realloc(ctx, &mem_180089, &mem_180089_cached_sizze_181721, bytes_180086);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179667 = 0; i_179667 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874; i_179667++) {
                        int64_t split_count_arg3_171005 = mul64(merge_block_sizze_170740, i_179667);
                        int64_t defunc_0_split_count_res_171006;
                        int64_t defunc_0_split_count_res_171007;
                        int64_t defunc_0_split_count_res_171008;
                        int64_t defunc_0_split_count_res_171009;
                        int64_t defunc_0_split_count_res_171010;
                        
                        if (futrts_lifted_normalizze_8970(ctx, &defunc_0_split_count_res_171006, &defunc_0_split_count_res_171007, &defunc_0_split_count_res_171008, &defunc_0_split_count_res_171009, &defunc_0_split_count_res_171010, (int64_t) 0, stride_170852, (int64_t) 0, j_m_i_170875, split_count_arg3_171005) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_171011 = slt64((int64_t) 0, defunc_0_split_count_res_171010);
                        bool defunc_0_split_count_res_171012;
                        int64_t defunc_0_split_count_res_171013;
                        int64_t defunc_0_split_count_res_171014;
                        int64_t defunc_0_split_count_res_171015;
                        int64_t defunc_0_split_count_res_171016;
                        int64_t defunc_0_split_count_res_171017;
                        bool loop_while_171018;
                        int64_t ss_171019;
                        int64_t ss_171020;
                        int64_t tt_171021;
                        int64_t tt_171022;
                        int64_t count_171023;
                        
                        loop_while_171018 = loop_cond_171011;
                        ss_171019 = defunc_0_split_count_res_171006;
                        ss_171020 = defunc_0_split_count_res_171007;
                        tt_171021 = defunc_0_split_count_res_171008;
                        tt_171022 = defunc_0_split_count_res_171009;
                        count_171023 = defunc_0_split_count_res_171010;
                        while (loop_while_171018) {
                            int64_t zlze_lhs_171024 = sub64(ss_171020, ss_171019);
                            bool cond_171025 = sle64(zlze_lhs_171024, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_171026;
                            int64_t defunc_0_lifted_step_res_171027;
                            int64_t defunc_0_lifted_step_res_171028;
                            int64_t defunc_0_lifted_step_res_171029;
                            
                            if (cond_171025) {
                                int64_t tmp_177589 = add64(tt_171021, count_171023);
                                
                                defunc_0_lifted_step_res_171026 = ss_171019;
                                defunc_0_lifted_step_res_171027 = tmp_177589;
                                defunc_0_lifted_step_res_171028 = tt_171022;
                                defunc_0_lifted_step_res_171029 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_171031 = sub64(tt_171022, tt_171021);
                                bool cond_171032 = sle64(zlze_lhs_171031, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_171033;
                                int64_t defunc_0_lifted_step_res_f_res_171034;
                                int64_t defunc_0_lifted_step_res_f_res_171035;
                                int64_t defunc_0_lifted_step_res_f_res_171036;
                                
                                if (cond_171032) {
                                    int64_t tmp_177590 = add64(ss_171019, count_171023);
                                    
                                    defunc_0_lifted_step_res_f_res_171033 = tmp_177590;
                                    defunc_0_lifted_step_res_f_res_171034 = tt_171021;
                                    defunc_0_lifted_step_res_f_res_171035 = tt_171022;
                                    defunc_0_lifted_step_res_f_res_171036 = (int64_t) 0;
                                } else {
                                    bool cond_171038 = count_171023 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171039;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171040;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171041;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171042;
                                    
                                    if (cond_171038) {
                                        bool x_177592 = sle64((int64_t) 0, ss_171019);
                                        bool y_177593 = slt64(ss_171019, stride_170852);
                                        bool bounds_check_177594 = x_177592 && y_177593;
                                        bool index_certs_177595;
                                        
                                        if (!bounds_check_177594) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_171019, "] out of bounds for array of shape [", (long long) stride_170852, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:134:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_177598 = sle64((int64_t) 0, tt_171021);
                                        bool y_177599 = slt64(tt_171021, j_m_i_170875);
                                        bool bounds_check_177600 = x_177598 && y_177599;
                                        bool index_certs_177601;
                                        
                                        if (!bounds_check_177600) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_171021, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:134:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177596 = start_170925 + ss_171019;
                                        int16_t leq_arg1_177597 = ((int16_t *) mem_param_180068.mem)[slice_177596];
                                        int64_t slice_177602 = stride_170852 + tt_171021;
                                        int64_t slice_177603 = start_170925 + slice_177602;
                                        int16_t leq_arg0_177604 = ((int16_t *) mem_param_180068.mem)[slice_177603];
                                        bool zlze_res_177605 = sle16(leq_arg0_177604, leq_arg1_177597);
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_177606;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_177607;
                                        
                                        if (zlze_res_177605) {
                                            int64_t tmp_177608 = add64((int64_t) 1, tt_171021);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177606 = ss_171019;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177607 = tmp_177608;
                                        } else {
                                            int64_t tmp_177609 = add64((int64_t) 1, ss_171019);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177606 = tmp_177609;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177607 = tt_171021;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171039 = defunc_0_lifted_step_res_f_res_f_res_t_res_177606;
                                        defunc_0_lifted_step_res_f_res_f_res_171040 = defunc_0_lifted_step_res_f_res_f_res_t_res_177607;
                                        defunc_0_lifted_step_res_f_res_f_res_171041 = tt_171022;
                                        defunc_0_lifted_step_res_f_res_f_res_171042 = (int64_t) 0;
                                    } else {
                                        int64_t m_171061 = sdiv64(count_171023, (int64_t) 2);
                                        int64_t n_171062 = sub64(count_171023, m_171061);
                                        bool cond_171063 = n_171062 == (int64_t) 0;
                                        int64_t zgze_lhs_171064 = add64(ss_171019, m_171061);
                                        bool cond_f_res_171065 = sle64(ss_171020, zgze_lhs_171064);
                                        bool x_171066 = !cond_171063;
                                        bool y_171067 = cond_f_res_171065 && x_171066;
                                        bool cond_171068 = cond_171063 || y_171067;
                                        bool leq_y_x_171069;
                                        
                                        if (cond_171068) {
                                            leq_y_x_171069 = 1;
                                        } else {
                                            bool x_171070 = sle64((int64_t) 0, zgze_lhs_171064);
                                            bool y_171071 = slt64(zgze_lhs_171064, stride_170852);
                                            bool bounds_check_171072 = x_171070 && y_171071;
                                            bool index_certs_171073;
                                            
                                            if (!bounds_check_171072) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_171064, "] out of bounds for array of shape [", (long long) stride_170852, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:134:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_171076 = add64(tt_171021, n_171062);
                                            int64_t leq_arg0_171077 = sub64(zm_lhs_171076, (int64_t) 1);
                                            bool x_171078 = sle64((int64_t) 0, leq_arg0_171077);
                                            bool y_171079 = slt64(leq_arg0_171077, j_m_i_170875);
                                            bool bounds_check_171080 = x_171078 && y_171079;
                                            bool index_certs_171081;
                                            
                                            if (!bounds_check_171080) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_171077, "] out of bounds for array of shape [", (long long) j_m_i_170875, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:134:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_171074 = start_170925 + zgze_lhs_171064;
                                            int16_t leq_arg1_171075 = ((int16_t *) mem_param_180068.mem)[slice_171074];
                                            int64_t slice_171082 = stride_170852 + leq_arg0_171077;
                                            int64_t slice_171083 = start_170925 + slice_171082;
                                            int16_t leq_arg0_171084 = ((int16_t *) mem_param_180068.mem)[slice_171083];
                                            bool zlze_res_171085 = sle16(leq_arg0_171084, leq_arg1_171075);
                                            
                                            leq_y_x_171069 = zlze_res_171085;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171086;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171087;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171088;
                                        
                                        if (leq_y_x_171069) {
                                            int64_t tmp_177610 = add64(tt_171021, n_171062);
                                            int64_t tmp_177611 = sub64(count_171023, n_171062);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171086 = tmp_177610;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171087 = tt_171022;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171088 = tmp_177611;
                                        } else {
                                            int64_t tmp_171091 = add64(tt_171021, n_171062);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171086 = tt_171021;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171087 = tmp_171091;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171088 = count_171023;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171039 = ss_171019;
                                        defunc_0_lifted_step_res_f_res_f_res_171040 = defunc_0_lifted_step_res_f_res_f_res_f_res_171086;
                                        defunc_0_lifted_step_res_f_res_f_res_171041 = defunc_0_lifted_step_res_f_res_f_res_f_res_171087;
                                        defunc_0_lifted_step_res_f_res_f_res_171042 = defunc_0_lifted_step_res_f_res_f_res_f_res_171088;
                                    }
                                    defunc_0_lifted_step_res_f_res_171033 = defunc_0_lifted_step_res_f_res_f_res_171039;
                                    defunc_0_lifted_step_res_f_res_171034 = defunc_0_lifted_step_res_f_res_f_res_171040;
                                    defunc_0_lifted_step_res_f_res_171035 = defunc_0_lifted_step_res_f_res_f_res_171041;
                                    defunc_0_lifted_step_res_f_res_171036 = defunc_0_lifted_step_res_f_res_f_res_171042;
                                }
                                defunc_0_lifted_step_res_171026 = defunc_0_lifted_step_res_f_res_171033;
                                defunc_0_lifted_step_res_171027 = defunc_0_lifted_step_res_f_res_171034;
                                defunc_0_lifted_step_res_171028 = defunc_0_lifted_step_res_f_res_171035;
                                defunc_0_lifted_step_res_171029 = defunc_0_lifted_step_res_f_res_171036;
                            }
                            
                            int64_t loopres_171092;
                            int64_t loopres_171093;
                            int64_t loopres_171094;
                            int64_t loopres_171095;
                            int64_t loopres_171096;
                            
                            if (futrts_lifted_normalizze_8970(ctx, &loopres_171092, &loopres_171093, &loopres_171094, &loopres_171095, &loopres_171096, defunc_0_lifted_step_res_171026, ss_171020, defunc_0_lifted_step_res_171027, defunc_0_lifted_step_res_171028, defunc_0_lifted_step_res_171029) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_171097 = slt64((int64_t) 0, loopres_171096);
                            bool loop_while_tmp_181434 = loop_cond_171097;
                            int64_t ss_tmp_181435 = loopres_171092;
                            int64_t ss_tmp_181436 = loopres_171093;
                            int64_t tt_tmp_181437 = loopres_171094;
                            int64_t tt_tmp_181438 = loopres_171095;
                            int64_t count_tmp_181439 = loopres_171096;
                            
                            loop_while_171018 = loop_while_tmp_181434;
                            ss_171019 = ss_tmp_181435;
                            ss_171020 = ss_tmp_181436;
                            tt_171021 = tt_tmp_181437;
                            tt_171022 = tt_tmp_181438;
                            count_171023 = count_tmp_181439;
                        }
                        defunc_0_split_count_res_171012 = loop_while_171018;
                        defunc_0_split_count_res_171013 = ss_171019;
                        defunc_0_split_count_res_171014 = ss_171020;
                        defunc_0_split_count_res_171015 = tt_171021;
                        defunc_0_split_count_res_171016 = tt_171022;
                        defunc_0_split_count_res_171017 = count_171023;
                        ((int64_t *) mem_180087)[i_179667] = defunc_0_split_count_res_171013;
                        ((int64_t *) mem_180089)[i_179667] = defunc_0_split_count_res_171015;
                    }
                    if (mem_180104_cached_sizze_181722 < bytes_180103) {
                        err = lexical_realloc(ctx, &mem_180104, &mem_180104_cached_sizze_181722, bytes_180103);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180107_cached_sizze_181723 < bytes_180106) {
                        err = lexical_realloc(ctx, &mem_180107, &mem_180107_cached_sizze_181723, bytes_180106);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179674 = 0; i_179674 < num_blocks_170873; i_179674++) {
                        bool y_171103 = slt64(i_179674, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874);
                        bool index_certs_171105;
                        
                        if (!y_171103) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179674, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:134:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171106 = ((int64_t *) mem_180087)[i_179674];
                        int64_t defunc_0_f_res_171107 = ((int64_t *) mem_180089)[i_179674];
                        int64_t tmp_171108 = add64((int64_t) 1, i_179674);
                        bool x_171109 = sle64((int64_t) 0, tmp_171108);
                        bool y_171110 = slt64(tmp_171108, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874);
                        bool bounds_check_171111 = x_171109 && y_171110;
                        bool index_certs_171112;
                        
                        if (!bounds_check_171111) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171108, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_170874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:134:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171113 = ((int64_t *) mem_180087)[tmp_171108];
                        int64_t defunc_0_f_res_171114 = ((int64_t *) mem_180089)[tmp_171108];
                        int64_t merge_sequential_arg2_171115 = add64(stride_170852, defunc_0_f_res_171107);
                        int64_t merge_sequential_arg2_171116 = add64(stride_170852, defunc_0_f_res_171114);
                        int64_t j_m_i_171117 = sub64(merge_sequential_arg2_171116, merge_sequential_arg2_171115);
                        bool empty_slice_171118 = j_m_i_171117 == (int64_t) 0;
                        int64_t m_171119 = sub64(j_m_i_171117, (int64_t) 1);
                        int64_t i_p_m_t_s_171120 = add64(merge_sequential_arg2_171115, m_171119);
                        bool zzero_leq_i_p_m_t_s_171121 = sle64((int64_t) 0, i_p_m_t_s_171120);
                        bool i_p_m_t_s_leq_w_171122 = slt64(i_p_m_t_s_171120, next_stride_170853);
                        bool zzero_lte_i_171123 = sle64((int64_t) 0, merge_sequential_arg2_171115);
                        bool i_lte_j_171124 = sle64(merge_sequential_arg2_171115, merge_sequential_arg2_171116);
                        bool y_171125 = i_p_m_t_s_leq_w_171122 && zzero_lte_i_171123;
                        bool y_171126 = zzero_leq_i_p_m_t_s_171121 && y_171125;
                        bool forwards_ok_171127 = i_lte_j_171124 && y_171126;
                        bool ok_or_empty_171128 = empty_slice_171118 || forwards_ok_171127;
                        bool index_certs_171129;
                        
                        if (!ok_or_empty_171128) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_171115, ":", (long long) merge_sequential_arg2_171116, "] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:134:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_171130 = sub64(defunc_0_f_res_171113, defunc_0_f_res_171106);
                        bool empty_slice_171131 = j_m_i_171130 == (int64_t) 0;
                        int64_t m_171132 = sub64(j_m_i_171130, (int64_t) 1);
                        int64_t i_p_m_t_s_171133 = add64(defunc_0_f_res_171106, m_171132);
                        bool zzero_leq_i_p_m_t_s_171134 = sle64((int64_t) 0, i_p_m_t_s_171133);
                        bool i_p_m_t_s_leq_w_171135 = slt64(i_p_m_t_s_171133, next_stride_170853);
                        bool zzero_lte_i_171136 = sle64((int64_t) 0, defunc_0_f_res_171106);
                        bool i_lte_j_171137 = sle64(defunc_0_f_res_171106, defunc_0_f_res_171113);
                        bool y_171138 = i_p_m_t_s_leq_w_171135 && zzero_lte_i_171136;
                        bool y_171139 = zzero_leq_i_p_m_t_s_171134 && y_171138;
                        bool forwards_ok_171140 = i_lte_j_171137 && y_171139;
                        bool ok_or_empty_171141 = empty_slice_171131 || forwards_ok_171140;
                        bool index_certs_171142;
                        
                        if (!ok_or_empty_171141) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_171106, ":", (long long) defunc_0_f_res_171113, "] out of bounds for array of shape [", (long long) next_stride_170853, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:134:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_171143 = slt64((int64_t) 0, j_m_i_171130);
                        int16_t dummy_171144;
                        int64_t dummy_171145;
                        
                        if (cond_171143) {
                            bool index_certs_177612;
                            
                            if (!cond_171143) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171130, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:134:54-57\n   #12 ftsort.fut:32:3-27\n   #13 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177613 = start_170925 + defunc_0_f_res_171106;
                            int16_t head_res_177614 = ((int16_t *) mem_param_180068.mem)[slice_177613];
                            int64_t head_res_177615 = ((int64_t *) mem_param_180071.mem)[slice_177613];
                            
                            dummy_171144 = head_res_177614;
                            dummy_171145 = head_res_177615;
                        } else {
                            bool y_171150 = slt64((int64_t) 0, j_m_i_171117);
                            bool index_certs_171151;
                            
                            if (!y_171150) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171117, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:134:54-57\n   #12 ftsort.fut:32:3-27\n   #13 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_171152 = start_170925 + merge_sequential_arg2_171115;
                            int16_t head_res_171153 = ((int16_t *) mem_param_180068.mem)[slice_171152];
                            int64_t head_res_171154 = ((int64_t *) mem_param_180071.mem)[slice_171152];
                            
                            dummy_171144 = head_res_171153;
                            dummy_171145 = head_res_171154;
                        }
                        for (int64_t nest_i_181442 = 0; nest_i_181442 < merge_block_sizze_170740; nest_i_181442++) {
                            ((int16_t *) mem_180104)[i_179674 * merge_block_sizze_170740 + nest_i_181442] = dummy_171144;
                        }
                        for (int64_t nest_i_181443 = 0; nest_i_181443 < merge_block_sizze_170740; nest_i_181443++) {
                            ((int64_t *) mem_180107)[i_179674 * merge_block_sizze_170740 + nest_i_181443] = dummy_171145;
                        }
                        
                        int64_t data_171157;
                        int64_t i_171161 = (int64_t) 0;
                        
                        for (int64_t k_171160 = 0; k_171160 < merge_block_sizze_170740; k_171160++) {
                            int64_t j_171164 = sub64(k_171160, i_171161);
                            bool cond_171165 = j_171164 == j_m_i_171117;
                            bool cond_171166;
                            
                            if (cond_171165) {
                                cond_171166 = 1;
                            } else {
                                bool cond_171167 = slt64(i_171161, j_m_i_171130);
                                bool cond_f_res_171168;
                                
                                if (cond_171167) {
                                    bool x_177616 = sle64((int64_t) 0, j_171164);
                                    bool y_177617 = slt64(j_171164, j_m_i_171117);
                                    bool bounds_check_177618 = x_177616 && y_177617;
                                    bool index_certs_177619;
                                    
                                    if (!bounds_check_177618) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171164, "] out of bounds for array of shape [", (long long) j_m_i_171117, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:134:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_177623 = sle64((int64_t) 0, i_171161);
                                    bool bounds_check_177624 = cond_171167 && x_177623;
                                    bool index_certs_177625;
                                    
                                    if (!bounds_check_177624) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171161, "] out of bounds for array of shape [", (long long) j_m_i_171130, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:134:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_177620 = merge_sequential_arg2_171115 + j_171164;
                                    int64_t slice_177621 = start_170925 + slice_177620;
                                    int16_t leq_arg1_177622 = ((int16_t *) mem_param_180068.mem)[slice_177621];
                                    int64_t slice_177626 = defunc_0_f_res_171106 + i_171161;
                                    int64_t slice_177627 = start_170925 + slice_177626;
                                    int16_t leq_arg0_177628 = ((int16_t *) mem_param_180068.mem)[slice_177627];
                                    bool zlze_res_177629 = sle16(leq_arg0_177628, leq_arg1_177622);
                                    
                                    cond_f_res_171168 = zlze_res_177629;
                                } else {
                                    cond_f_res_171168 = 0;
                                }
                                cond_171166 = cond_f_res_171168;
                            }
                            
                            int64_t loopres_171183;
                            int16_t loopres_171184;
                            int64_t loopres_171185;
                            
                            if (cond_171166) {
                                bool x_177631 = sle64((int64_t) 0, i_171161);
                                bool y_177632 = slt64(i_171161, j_m_i_171130);
                                bool bounds_check_177633 = x_177631 && y_177632;
                                bool index_certs_177634;
                                
                                if (!bounds_check_177633) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171161, "] out of bounds for array of shape [", (long long) j_m_i_171130, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:134:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_177630 = add64((int64_t) 1, i_171161);
                                int64_t slice_177635 = defunc_0_f_res_171106 + i_171161;
                                int64_t slice_177636 = start_170925 + slice_177635;
                                int16_t tmp_177637 = ((int16_t *) mem_param_180068.mem)[slice_177636];
                                int64_t tmp_177638 = ((int64_t *) mem_param_180071.mem)[slice_177636];
                                
                                loopres_171183 = tmp_177630;
                                loopres_171184 = tmp_177637;
                                loopres_171185 = tmp_177638;
                            } else {
                                bool x_171195 = sle64((int64_t) 0, j_171164);
                                bool y_171196 = slt64(j_171164, j_m_i_171117);
                                bool bounds_check_171197 = x_171195 && y_171196;
                                bool index_certs_171198;
                                
                                if (!bounds_check_171197) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171164, "] out of bounds for array of shape [", (long long) j_m_i_171117, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:134:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_171199 = merge_sequential_arg2_171115 + j_171164;
                                int64_t slice_171200 = start_170925 + slice_171199;
                                int16_t tmp_171201 = ((int16_t *) mem_param_180068.mem)[slice_171200];
                                int64_t tmp_171202 = ((int64_t *) mem_param_180071.mem)[slice_171200];
                                
                                loopres_171183 = i_171161;
                                loopres_171184 = tmp_171201;
                                loopres_171185 = tmp_171202;
                            }
                            ((int16_t *) mem_180104)[i_179674 * merge_block_sizze_170740 + k_171160] = loopres_171184;
                            ((int64_t *) mem_180107)[i_179674 * merge_block_sizze_170740 + k_171160] = loopres_171185;
                            
                            int64_t i_tmp_181444 = loopres_171183;
                            
                            i_171161 = i_tmp_181444;
                        }
                        data_171157 = i_171161;
                    }
                    if (memblock_alloc(ctx, &mem_180142, bytes_180103, "mem_180142")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_180142.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_170740, (int64_t) 1}, (uint16_t *) mem_180104, (int64_t) 0, (int64_t []) {merge_block_sizze_170740, (int64_t) 1}, (int64_t []) {num_blocks_170873, merge_block_sizze_170740});
                    if (memblock_alloc(ctx, &mem_180146, bytes_180106, "mem_180146")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180146.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_170740, (int64_t) 1}, (uint64_t *) mem_180107, (int64_t) 0, (int64_t []) {merge_block_sizze_170740, (int64_t) 1}, (int64_t []) {num_blocks_170873, merge_block_sizze_170740});
                    if (memblock_set(ctx, &ext_mem_180169, &mem_180142, "mem_180142") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180166, &mem_180146, "mem_180146") != 0)
                        return 1;
                }
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_180074, i_179681 * next_stride_170853, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_180169.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_170853});
                if (memblock_unref(ctx, &ext_mem_180169, "ext_mem_180169") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180077, i_179681 * next_stride_170853, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180166.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_170853});
                if (memblock_unref(ctx, &ext_mem_180166, "ext_mem_180166") != 0)
                    return 1;
            }
            
            int64_t flat_dim_171209 = next_stride_170853 * num_merges_170857;
            
            if (memblock_alloc(ctx, &mem_180180, bytes_180073, "mem_180180")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_2b(ctx, 2, (uint16_t *) mem_180180.mem, (int64_t) 0, (int64_t []) {next_stride_170853, (int64_t) 1}, (uint16_t *) mem_180074, (int64_t) 0, (int64_t []) {next_stride_170853, (int64_t) 1}, (int64_t []) {num_merges_170857, next_stride_170853});
            if (memblock_alloc(ctx, &mem_180184, bytes_180076, "mem_180184")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_180184.mem, (int64_t) 0, (int64_t []) {next_stride_170853, (int64_t) 1}, (uint64_t *) mem_180077, (int64_t) 0, (int64_t []) {next_stride_170853, (int64_t) 1}, (int64_t []) {num_merges_170857, next_stride_170853});
            
            bool loop_cond_171212 = slt64(next_stride_170853, flat_dim_170737);
            
            if (memblock_set(ctx, &mem_param_tmp_181418, &mem_180180, "mem_180180") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181419, &mem_180184, "mem_180184") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_181420 = flat_dim_171209;
            bool loop_while_tmp_181421 = loop_cond_171212;
            int64_t stride_tmp_181424 = next_stride_170853;
            
            if (memblock_set(ctx, &mem_param_180068, &mem_param_tmp_181418, "mem_param_tmp_181418") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180071, &mem_param_tmp_181419, "mem_param_tmp_181419") != 0)
                return 1;
            loop_dz2084Uz2082U_170848 = loop_dz2084Uz2082U_tmp_181420;
            loop_while_170849 = loop_while_tmp_181421;
            stride_170852 = stride_tmp_181424;
        }
        if (memblock_set(ctx, &ext_mem_180191, &mem_param_180068, "mem_param_180068") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_180190, &mem_param_180071, "mem_param_180071") != 0)
            return 1;
        data_170843 = loop_dz2084Uz2082U_170848;
        data_170844 = loop_while_170849;
        data_170847 = stride_170852;
        if (memblock_unref(ctx, &mem_180060, "mem_180060") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180064, "mem_180064") != 0)
            return 1;
        
        bool empty_slice_171213 = n_98190 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_171214 = sle64((int64_t) 0, zs_lhs_170721);
        bool i_p_m_t_s_leq_w_171215 = slt64(zs_lhs_170721, data_170843);
        bool y_171216 = zzero_leq_i_p_m_t_s_171214 && i_p_m_t_s_leq_w_171215;
        bool ok_or_empty_171217 = empty_slice_171213 || y_171216;
        bool index_certs_171218;
        
        if (!ok_or_empty_171217) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_98190, "] out of bounds for array of shape [", (long long) data_170843, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:134:54-57\n   #5  ftsort.fut:32:3-27\n   #6  ftsort.fut:31:1-32:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_180194, &ext_mem_180190, "ext_mem_180190") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_179989, "mem_179989") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180196, bytes_179988, "mem_180196")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180198, bytes_180197, "mem_180198")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_179688 = 0; i_179688 < n_98190; i_179688++) {
        int64_t eta_p_171222 = ((int64_t *) ext_mem_180194.mem)[i_179688];
        bool x_171223 = sle64((int64_t) 0, eta_p_171222);
        bool y_171224 = slt64(eta_p_171222, n_98190);
        bool bounds_check_171225 = x_171223 && y_171224;
        bool index_certs_171226;
        
        if (!bounds_check_171225) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_171222, "] out of bounds for array of shape [", (long long) n_98190, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:134:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_171227 = ((int64_t *) ext_mem_179987.mem)[eta_p_171222];
        int16_t lifted_lambda_res_171228 = ((int16_t *) xs_mem_179986.mem)[eta_p_171222];
        
        ((int64_t *) mem_180196.mem)[i_179688] = lifted_lambda_res_171227;
        ((int16_t *) mem_180198.mem)[i_179688] = lifted_lambda_res_171228;
    }
    if (memblock_unref(ctx, &ext_mem_179987, "ext_mem_179987") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_180194, "ext_mem_180194") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181400, &mem_180196, "mem_180196") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181401, &mem_180198, "mem_180198") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181712, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181713, &mem_out_181401, "mem_out_181401") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_179992);
        free(mem_179995);
        free(mem_180005);
        free(mem_180007);
        free(mem_180074);
        free(mem_180077);
        free(mem_180087);
        free(mem_180089);
        free(mem_180104);
        free(mem_180107);
        if (memblock_unref(ctx, &mem_180198, "mem_180198") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180196, "mem_180196") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181419, "mem_param_tmp_181419") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181418, "mem_param_tmp_181418") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180184, "mem_180184") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180180, "mem_180180") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180146, "mem_180146") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180142, "mem_180142") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180151, "mem_180151") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180149, "mem_180149") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180166, "ext_mem_180166") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180169, "ext_mem_180169") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180071, "mem_param_180071") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180068, "mem_param_180068") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180190, "ext_mem_180190") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180191, "ext_mem_180191") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180064, "mem_180064") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180060, "mem_180060") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180194, "ext_mem_180194") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179989, "mem_179989") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_179987, "ext_mem_179987") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181401, "mem_out_181401") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_double(struct futhark_context *ctx, struct memblock *mem_out_p_181724, struct memblock *mem_out_p_181725, struct memblock *mem_out_p_181726, int64_t *out_prim_out_181727, struct memblock a_list_mem_179986, struct memblock b_list_mem_179987, int64_t na_162230, int64_t nb_162231, int64_t window_sizze_162232, int64_t threads_162233, bool inParallel_162236)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180003_cached_sizze_181728 = 0;
    unsigned char *mem_180003 = NULL;
    int64_t mem_180005_cached_sizze_181729 = 0;
    unsigned char *mem_180005 = NULL;
    int64_t mem_180044_cached_sizze_181730 = 0;
    unsigned char *mem_180044 = NULL;
    int64_t mem_180047_cached_sizze_181731 = 0;
    unsigned char *mem_180047 = NULL;
    int64_t mem_180050_cached_sizze_181732 = 0;
    unsigned char *mem_180050 = NULL;
    int64_t mem_180063_cached_sizze_181733 = 0;
    unsigned char *mem_180063 = NULL;
    int64_t mem_180065_cached_sizze_181734 = 0;
    unsigned char *mem_180065 = NULL;
    int64_t mem_180067_cached_sizze_181735 = 0;
    unsigned char *mem_180067 = NULL;
    int64_t mem_180164_cached_sizze_181736 = 0;
    unsigned char *mem_180164 = NULL;
    int64_t mem_180167_cached_sizze_181737 = 0;
    unsigned char *mem_180167 = NULL;
    int64_t mem_180170_cached_sizze_181738 = 0;
    unsigned char *mem_180170 = NULL;
    int64_t mem_180184_cached_sizze_181739 = 0;
    unsigned char *mem_180184 = NULL;
    int64_t mem_180186_cached_sizze_181740 = 0;
    unsigned char *mem_180186 = NULL;
    int64_t mem_180200_cached_sizze_181741 = 0;
    unsigned char *mem_180200 = NULL;
    int64_t mem_180203_cached_sizze_181742 = 0;
    unsigned char *mem_180203 = NULL;
    int64_t mem_180206_cached_sizze_181743 = 0;
    unsigned char *mem_180206 = NULL;
    int64_t mem_180348_cached_sizze_181744 = 0;
    unsigned char *mem_180348 = NULL;
    int64_t mem_180350_cached_sizze_181745 = 0;
    unsigned char *mem_180350 = NULL;
    int64_t mem_180365_cached_sizze_181746 = 0;
    unsigned char *mem_180365 = NULL;
    int64_t mem_180367_cached_sizze_181747 = 0;
    unsigned char *mem_180367 = NULL;
    int64_t mem_180370_cached_sizze_181748 = 0;
    unsigned char *mem_180370 = NULL;
    int64_t mem_180373_cached_sizze_181749 = 0;
    unsigned char *mem_180373 = NULL;
    int64_t mem_180407_cached_sizze_181750 = 0;
    unsigned char *mem_180407 = NULL;
    int64_t mem_180410_cached_sizze_181751 = 0;
    unsigned char *mem_180410 = NULL;
    int64_t mem_180413_cached_sizze_181752 = 0;
    unsigned char *mem_180413 = NULL;
    int64_t mem_180426_cached_sizze_181753 = 0;
    unsigned char *mem_180426 = NULL;
    int64_t mem_180428_cached_sizze_181754 = 0;
    unsigned char *mem_180428 = NULL;
    int64_t mem_180430_cached_sizze_181755 = 0;
    unsigned char *mem_180430 = NULL;
    int64_t mem_180527_cached_sizze_181756 = 0;
    unsigned char *mem_180527 = NULL;
    int64_t mem_180530_cached_sizze_181757 = 0;
    unsigned char *mem_180530 = NULL;
    int64_t mem_180533_cached_sizze_181758 = 0;
    unsigned char *mem_180533 = NULL;
    int64_t mem_180547_cached_sizze_181759 = 0;
    unsigned char *mem_180547 = NULL;
    int64_t mem_180549_cached_sizze_181760 = 0;
    unsigned char *mem_180549 = NULL;
    int64_t mem_180563_cached_sizze_181761 = 0;
    unsigned char *mem_180563 = NULL;
    int64_t mem_180566_cached_sizze_181762 = 0;
    unsigned char *mem_180566 = NULL;
    int64_t mem_180569_cached_sizze_181763 = 0;
    unsigned char *mem_180569 = NULL;
    int64_t mem_180786_cached_sizze_181764 = 0;
    unsigned char *mem_180786 = NULL;
    int64_t mem_180789_cached_sizze_181765 = 0;
    unsigned char *mem_180789 = NULL;
    int64_t mem_180792_cached_sizze_181766 = 0;
    unsigned char *mem_180792 = NULL;
    int64_t mem_180805_cached_sizze_181767 = 0;
    unsigned char *mem_180805 = NULL;
    int64_t mem_180807_cached_sizze_181768 = 0;
    unsigned char *mem_180807 = NULL;
    int64_t mem_180809_cached_sizze_181769 = 0;
    unsigned char *mem_180809 = NULL;
    int64_t mem_180906_cached_sizze_181770 = 0;
    unsigned char *mem_180906 = NULL;
    int64_t mem_180909_cached_sizze_181771 = 0;
    unsigned char *mem_180909 = NULL;
    int64_t mem_180912_cached_sizze_181772 = 0;
    unsigned char *mem_180912 = NULL;
    int64_t mem_180926_cached_sizze_181773 = 0;
    unsigned char *mem_180926 = NULL;
    int64_t mem_180928_cached_sizze_181774 = 0;
    unsigned char *mem_180928 = NULL;
    int64_t mem_180942_cached_sizze_181775 = 0;
    unsigned char *mem_180942 = NULL;
    int64_t mem_180945_cached_sizze_181776 = 0;
    unsigned char *mem_180945 = NULL;
    int64_t mem_180948_cached_sizze_181777 = 0;
    unsigned char *mem_180948 = NULL;
    struct memblock mem_param_tmp_181624;
    
    mem_param_tmp_181624.references = NULL;
    
    struct memblock mem_param_tmp_181623;
    
    mem_param_tmp_181623.references = NULL;
    
    struct memblock mem_param_tmp_181622;
    
    mem_param_tmp_181622.references = NULL;
    
    struct memblock mem_181060;
    
    mem_181060.references = NULL;
    
    struct memblock mem_181056;
    
    mem_181056.references = NULL;
    
    struct memblock mem_181052;
    
    mem_181052.references = NULL;
    
    struct memblock mem_181005;
    
    mem_181005.references = NULL;
    
    struct memblock mem_181001;
    
    mem_181001.references = NULL;
    
    struct memblock mem_180997;
    
    mem_180997.references = NULL;
    
    struct memblock mem_181011;
    
    mem_181011.references = NULL;
    
    struct memblock mem_181009;
    
    mem_181009.references = NULL;
    
    struct memblock mem_181007;
    
    mem_181007.references = NULL;
    
    struct memblock ext_mem_181032;
    
    ext_mem_181032.references = NULL;
    
    struct memblock ext_mem_181035;
    
    ext_mem_181035.references = NULL;
    
    struct memblock ext_mem_181038;
    
    ext_mem_181038.references = NULL;
    
    struct memblock mem_param_180904;
    
    mem_param_180904.references = NULL;
    
    struct memblock mem_param_180901;
    
    mem_param_180901.references = NULL;
    
    struct memblock mem_param_180898;
    
    mem_param_180898.references = NULL;
    
    struct memblock ext_mem_181068;
    
    ext_mem_181068.references = NULL;
    
    struct memblock ext_mem_181069;
    
    ext_mem_181069.references = NULL;
    
    struct memblock ext_mem_181070;
    
    ext_mem_181070.references = NULL;
    
    struct memblock mem_180894;
    
    mem_180894.references = NULL;
    
    struct memblock mem_180890;
    
    mem_180890.references = NULL;
    
    struct memblock mem_180886;
    
    mem_180886.references = NULL;
    
    struct memblock ext_mem_181073;
    
    ext_mem_181073.references = NULL;
    
    struct memblock ext_mem_181076;
    
    ext_mem_181076.references = NULL;
    
    struct memblock ext_mem_181079;
    
    ext_mem_181079.references = NULL;
    
    struct memblock mem_180784;
    
    mem_180784.references = NULL;
    
    struct memblock mem_180782;
    
    mem_180782.references = NULL;
    
    struct memblock mem_180780;
    
    mem_180780.references = NULL;
    
    struct memblock mem_param_tmp_181558;
    
    mem_param_tmp_181558.references = NULL;
    
    struct memblock mem_param_tmp_181557;
    
    mem_param_tmp_181557.references = NULL;
    
    struct memblock mem_param_tmp_181556;
    
    mem_param_tmp_181556.references = NULL;
    
    struct memblock mem_180318;
    
    mem_180318.references = NULL;
    
    struct memblock mem_180314;
    
    mem_180314.references = NULL;
    
    struct memblock mem_180310;
    
    mem_180310.references = NULL;
    
    struct memblock mem_180263;
    
    mem_180263.references = NULL;
    
    struct memblock mem_180259;
    
    mem_180259.references = NULL;
    
    struct memblock mem_180255;
    
    mem_180255.references = NULL;
    
    struct memblock mem_180269;
    
    mem_180269.references = NULL;
    
    struct memblock mem_180267;
    
    mem_180267.references = NULL;
    
    struct memblock mem_180265;
    
    mem_180265.references = NULL;
    
    struct memblock ext_mem_180290;
    
    ext_mem_180290.references = NULL;
    
    struct memblock ext_mem_180293;
    
    ext_mem_180293.references = NULL;
    
    struct memblock ext_mem_180296;
    
    ext_mem_180296.references = NULL;
    
    struct memblock mem_param_180162;
    
    mem_param_180162.references = NULL;
    
    struct memblock mem_param_180159;
    
    mem_param_180159.references = NULL;
    
    struct memblock mem_param_180156;
    
    mem_param_180156.references = NULL;
    
    struct memblock ext_mem_180326;
    
    ext_mem_180326.references = NULL;
    
    struct memblock ext_mem_180327;
    
    ext_mem_180327.references = NULL;
    
    struct memblock ext_mem_180328;
    
    ext_mem_180328.references = NULL;
    
    struct memblock mem_180152;
    
    mem_180152.references = NULL;
    
    struct memblock mem_180148;
    
    mem_180148.references = NULL;
    
    struct memblock mem_180144;
    
    mem_180144.references = NULL;
    
    struct memblock ext_mem_180331;
    
    ext_mem_180331.references = NULL;
    
    struct memblock ext_mem_180334;
    
    ext_mem_180334.references = NULL;
    
    struct memblock ext_mem_180337;
    
    ext_mem_180337.references = NULL;
    
    struct memblock mem_180042;
    
    mem_180042.references = NULL;
    
    struct memblock mem_180040;
    
    mem_180040.references = NULL;
    
    struct memblock mem_180038;
    
    mem_180038.references = NULL;
    
    struct memblock mem_180022;
    
    mem_180022.references = NULL;
    
    struct memblock mem_180020;
    
    mem_180020.references = NULL;
    
    struct memblock mem_180018;
    
    mem_180018.references = NULL;
    
    struct memblock mem_180729;
    
    mem_180729.references = NULL;
    
    struct memblock mem_180728;
    
    mem_180728.references = NULL;
    
    struct memblock mem_180726;
    
    mem_180726.references = NULL;
    
    struct memblock mem_param_tmp_181464;
    
    mem_param_tmp_181464.references = NULL;
    
    struct memblock mem_param_tmp_181463;
    
    mem_param_tmp_181463.references = NULL;
    
    struct memblock mem_param_tmp_181462;
    
    mem_param_tmp_181462.references = NULL;
    
    struct memblock mem_180681;
    
    mem_180681.references = NULL;
    
    struct memblock mem_180677;
    
    mem_180677.references = NULL;
    
    struct memblock mem_180673;
    
    mem_180673.references = NULL;
    
    struct memblock mem_180626;
    
    mem_180626.references = NULL;
    
    struct memblock mem_180622;
    
    mem_180622.references = NULL;
    
    struct memblock mem_180618;
    
    mem_180618.references = NULL;
    
    struct memblock mem_180632;
    
    mem_180632.references = NULL;
    
    struct memblock mem_180630;
    
    mem_180630.references = NULL;
    
    struct memblock mem_180628;
    
    mem_180628.references = NULL;
    
    struct memblock ext_mem_180653;
    
    ext_mem_180653.references = NULL;
    
    struct memblock ext_mem_180656;
    
    ext_mem_180656.references = NULL;
    
    struct memblock ext_mem_180659;
    
    ext_mem_180659.references = NULL;
    
    struct memblock mem_param_180525;
    
    mem_param_180525.references = NULL;
    
    struct memblock mem_param_180522;
    
    mem_param_180522.references = NULL;
    
    struct memblock mem_param_180519;
    
    mem_param_180519.references = NULL;
    
    struct memblock ext_mem_180689;
    
    ext_mem_180689.references = NULL;
    
    struct memblock ext_mem_180690;
    
    ext_mem_180690.references = NULL;
    
    struct memblock ext_mem_180691;
    
    ext_mem_180691.references = NULL;
    
    struct memblock mem_180515;
    
    mem_180515.references = NULL;
    
    struct memblock mem_180511;
    
    mem_180511.references = NULL;
    
    struct memblock mem_180507;
    
    mem_180507.references = NULL;
    
    struct memblock ext_mem_180694;
    
    ext_mem_180694.references = NULL;
    
    struct memblock ext_mem_180697;
    
    ext_mem_180697.references = NULL;
    
    struct memblock ext_mem_180700;
    
    ext_mem_180700.references = NULL;
    
    struct memblock mem_180405;
    
    mem_180405.references = NULL;
    
    struct memblock mem_180403;
    
    mem_180403.references = NULL;
    
    struct memblock mem_180401;
    
    mem_180401.references = NULL;
    
    struct memblock ext_mem_180750;
    
    ext_mem_180750.references = NULL;
    
    struct memblock ext_mem_180753;
    
    ext_mem_180753.references = NULL;
    
    struct memblock ext_mem_180756;
    
    ext_mem_180756.references = NULL;
    
    struct memblock mem_179992;
    
    mem_179992.references = NULL;
    
    struct memblock mem_179990;
    
    mem_179990.references = NULL;
    
    struct memblock mem_179988;
    
    mem_179988.references = NULL;
    
    struct memblock mem_out_181402;
    
    mem_out_181402.references = NULL;
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    int64_t prim_out_181403;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475 = add64(na_162230, nb_162231);
    
    if (memblock_alloc(ctx, &mem_179988, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, "mem_179988")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181404 = 0; nest_i_181404 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475; nest_i_181404++) {
        ((int8_t *) mem_179988.mem)[nest_i_181404] = (int8_t) -1;
    }
    
    int64_t bytes_179989 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475;
    
    if (memblock_alloc(ctx, &mem_179990, bytes_179989, "mem_179990")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181405 = 0; nest_i_181405 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475; nest_i_181405++) {
        ((int64_t *) mem_179990.mem)[nest_i_181405] = (int64_t) -1;
    }
    if (memblock_alloc(ctx, &mem_179992, bytes_179989, "mem_179992")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181406 = 0; nest_i_181406 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475; nest_i_181406++) {
        ((double *) mem_179992.mem)[nest_i_181406] = 0.0;
    }
    
    int64_t zl_rhs_174479 = sub64(na_162230, window_sizze_162232);
    bool cond_174480 = slt64((int64_t) 0, zl_rhs_174479);
    int64_t zl_rhs_174481 = sub64(nb_162231, window_sizze_162232);
    bool loop_cond_t_res_174482 = slt64((int64_t) 0, zl_rhs_174481);
    bool x_174483 = cond_174480 && loop_cond_t_res_174482;
    bool empty_slice_174484 = window_sizze_162232 == (int64_t) 0;
    int64_t m_174485 = sub64(window_sizze_162232, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510 = add64((int64_t) 1, threads_162233);
    int64_t partitionFunc_arg0_175511 = mul64((int64_t) 2, threads_162233);
    bool y_175513 = slt64((int64_t) 0, window_sizze_162232);
    bool loop_cond_175759 = slt64((int64_t) 0, threads_162233);
    bool zzero_174530 = threads_162233 == (int64_t) 0;
    bool nonzzero_174531 = !zzero_174530;
    bool loop_not_taken_177288 = !inParallel_162236;
    bool protect_assert_disj_177289 = nonzzero_174531 || loop_not_taken_177288;
    bool loop_not_taken_177378 = !x_174483;
    bool protect_assert_disj_177379 = protect_assert_disj_177289 || loop_not_taken_177378;
    bool nonzzero_cert_174532;
    
    if (!protect_assert_disj_177379) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_174533 = sdiv_safe64(window_sizze_162232, threads_162233);
    int64_t perThread_174534 = add64((int64_t) 1, zp_rhs_174533);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174535 = mul64(threads_162233, perThread_174534);
    bool protect_assert_disj_177425 = inParallel_162236 || y_175513;
    bool protect_assert_disj_177429 = loop_not_taken_177378 || protect_assert_disj_177425;
    bool index_certs_175514;
    
    if (!protect_assert_disj_177429) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_175529 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, (int64_t) 1);
    bool y_176486 = slt64(threads_162233, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
    bool protect_assert_disj_177394 = y_175513 || loop_not_taken_177288;
    bool protect_assert_disj_177433 = loop_not_taken_177378 || protect_assert_disj_177394;
    bool index_certs_174538;
    
    if (!protect_assert_disj_177433) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_175531 = !bounds_invalid_upwards_175529;
    bool protect_assert_disj_177441 = inParallel_162236 || y_176486;
    bool protect_assert_disj_177443 = loop_not_taken_177378 || protect_assert_disj_177441;
    bool index_certs_176488;
    
    if (!protect_assert_disj_177443) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_162233, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177437 = y_176486 || loop_not_taken_177288;
    bool protect_assert_disj_177445 = loop_not_taken_177378 || protect_assert_disj_177437;
    bool index_certs_175492;
    
    if (!protect_assert_disj_177445) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_162233, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177453 = inParallel_162236 || valid_175531;
    bool protect_assert_disj_177455 = loop_not_taken_177378 || protect_assert_disj_177453;
    bool range_valid_c_175532;
    
    if (!protect_assert_disj_177455) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_177297 = sle64((int64_t) 1, threads_162233);
    bool protect_assert_disj_177449 = valid_175531 || loop_not_taken_177288;
    bool protect_assert_disj_177457 = loop_not_taken_177378 || protect_assert_disj_177449;
    bool range_valid_c_174545;
    
    if (!protect_assert_disj_177457) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_175534 = add64(window_sizze_162232, window_sizze_162232);
    bool zzero_175535 = partitionFunc_arg0_175511 == (int64_t) 0;
    int64_t index_concat_i_177298 = sub64(threads_162233, (int64_t) 1);
    bool nonzzero_175536 = !zzero_175535;
    bool protect_assert_disj_177465 = inParallel_162236 || nonzzero_175536;
    bool protect_assert_disj_177471 = loop_not_taken_177378 || protect_assert_disj_177465;
    bool nonzzero_cert_175537;
    
    if (!protect_assert_disj_177471) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177461 = nonzzero_175536 || loop_not_taken_177288;
    bool protect_assert_disj_177477 = loop_not_taken_177378 || protect_assert_disj_177461;
    bool nonzzero_cert_174550;
    
    if (!protect_assert_disj_177477) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180002 = (int64_t) 8 * threads_162233;
    int64_t bytes_180019 = (int64_t) 8 * window_sizze_162232;
    int64_t bytes_180364 = perThread_174534 * bytes_180002;
    bool defunc_0_merge_pipeline_res_174486;
    int64_t defunc_0_merge_pipeline_res_174490;
    int64_t defunc_0_merge_pipeline_res_174491;
    bool loop_while_174492;
    int64_t p_174496;
    int64_t p_174497;
    
    loop_while_174492 = x_174483;
    p_174496 = (int64_t) 0;
    p_174497 = (int64_t) 0;
    while (loop_while_174492) {
        int64_t ubs_174498 = add64(window_sizze_162232, p_174496);
        int64_t ubs_174499 = add64(window_sizze_162232, p_174497);
        int64_t ind_bottom_174500 = add64(p_174496, p_174497);
        int64_t ind_top_174501 = add64(window_sizze_162232, ind_bottom_174500);
        int64_t i_p_m_t_s_174502 = add64(m_174485, p_174496);
        bool zzero_leq_i_p_m_t_s_174503 = sle64((int64_t) 0, i_p_m_t_s_174502);
        bool i_p_m_t_s_leq_w_174504 = slt64(i_p_m_t_s_174502, na_162230);
        bool zzero_lte_i_174505 = sle64((int64_t) 0, p_174496);
        bool i_lte_j_174506 = sle64(p_174496, ubs_174498);
        bool y_174507 = i_p_m_t_s_leq_w_174504 && zzero_lte_i_174505;
        bool y_174508 = zzero_leq_i_p_m_t_s_174503 && y_174507;
        bool forwards_ok_174509 = i_lte_j_174506 && y_174508;
        bool ok_or_empty_174510 = empty_slice_174484 || forwards_ok_174509;
        bool index_certs_174511;
        
        if (!ok_or_empty_174510) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_174496, ":", (long long) ubs_174498, "] out of bounds for array of shape [", (long long) na_162230, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_174513 = add64(m_174485, p_174497);
        bool zzero_leq_i_p_m_t_s_174514 = sle64((int64_t) 0, i_p_m_t_s_174513);
        bool i_p_m_t_s_leq_w_174515 = slt64(i_p_m_t_s_174513, nb_162231);
        bool zzero_lte_i_174516 = sle64((int64_t) 0, p_174497);
        bool i_lte_j_174517 = sle64(p_174497, ubs_174499);
        bool y_174518 = i_p_m_t_s_leq_w_174515 && zzero_lte_i_174516;
        bool y_174519 = zzero_leq_i_p_m_t_s_174514 && y_174518;
        bool forwards_ok_174520 = i_lte_j_174517 && y_174519;
        bool ok_or_empty_174521 = empty_slice_174484 || forwards_ok_174520;
        bool index_certs_174522;
        
        if (!ok_or_empty_174521) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_174497, ":", (long long) ubs_174499, "] out of bounds for array of shape [", (long long) nb_162231, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_176500 = add64(m_174485, ind_bottom_174500);
        bool zzero_leq_i_p_m_t_s_176501 = sle64((int64_t) 0, i_p_m_t_s_176500);
        bool i_p_m_t_s_leq_w_176502 = slt64(i_p_m_t_s_176500, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475);
        bool zzero_lte_i_176503 = sle64((int64_t) 0, ind_bottom_174500);
        bool i_lte_j_176504 = sle64(ind_bottom_174500, ind_top_174501);
        bool y_176505 = i_p_m_t_s_leq_w_176502 && zzero_lte_i_176503;
        bool y_176506 = zzero_leq_i_p_m_t_s_176501 && y_176505;
        bool forwards_ok_176507 = i_lte_j_176504 && y_176506;
        bool ok_or_empty_176508 = empty_slice_174484 || forwards_ok_176507;
        bool index_certs_176509;
        
        if (!ok_or_empty_176508) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_174500, ":", (long long) ind_top_174501, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_174524;
        int64_t loopres_174525;
        
        if (inParallel_162236) {
            double leq_lhs_177958 = ((double *) a_list_mem_179986.mem)[p_174496];
            double leq_rhs_177959 = ((double *) b_list_mem_179987.mem)[p_174497];
            bool defunc_0_leq_res_177960 = leq_lhs_177958 <= leq_rhs_177959;
            double lowest_177961;
            
            if (defunc_0_leq_res_177960) {
                lowest_177961 = leq_lhs_177958;
            } else {
                lowest_177961 = leq_rhs_177959;
            }
            if (mem_180348_cached_sizze_181744 < bytes_180002) {
                err = lexical_realloc(ctx, &mem_180348, &mem_180348_cached_sizze_181744, bytes_180002);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180350_cached_sizze_181745 < bytes_180002) {
                err = lexical_realloc(ctx, &mem_180350, &mem_180350_cached_sizze_181745, bytes_180002);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_179650 = 0; i_179650 < threads_162233; i_179650++) {
                int64_t index_primexp_179922 = add64((int64_t) 1, i_179650);
                int64_t zs_lhs_177966 = mul64(zt_rhs_175534, index_primexp_179922);
                int64_t index_177967 = sdiv64(zs_lhs_177966, partitionFunc_arg0_175511);
                bool cond_177968 = slt64(window_sizze_162232, index_177967);
                int64_t loop_over_177969;
                
                if (cond_177968) {
                    loop_over_177969 = window_sizze_162232;
                } else {
                    loop_over_177969 = index_177967;
                }
                
                int64_t loop_over_177970;
                
                if (cond_177968) {
                    int64_t loop_over_t_res_177971 = sub64(index_177967, window_sizze_162232);
                    
                    loop_over_177970 = loop_over_t_res_177971;
                } else {
                    loop_over_177970 = (int64_t) 0;
                }
                
                int64_t loop_over_177972;
                
                if (cond_177968) {
                    int64_t zm_lhs_177973 = sub64(index_177967, window_sizze_162232);
                    int64_t loop_over_t_res_177974 = sub64(zm_lhs_177973, (int64_t) 1);
                    
                    loop_over_177972 = loop_over_t_res_177974;
                } else {
                    loop_over_177972 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_177975;
                int64_t defunc_0_f_res_177976;
                int64_t defunc_0_f_res_177977;
                int64_t defunc_0_f_res_177978;
                bool loop_while_177979;
                int64_t p_177980;
                int64_t p_177981;
                int64_t p_177982;
                
                loop_while_177979 = 1;
                p_177980 = loop_over_177972;
                p_177981 = loop_over_177969;
                p_177982 = loop_over_177970;
                while (loop_while_177979) {
                    int64_t zs_lhs_177983 = sub64(p_177981, p_177980);
                    int64_t offset_177984 = sdiv64(zs_lhs_177983, (int64_t) 2);
                    int64_t ai_177985 = sub64(p_177981, offset_177984);
                    int64_t max_arg1_177986 = add64(p_177982, offset_177984);
                    int64_t max_res_177987 = smax64((int64_t) 0, max_arg1_177986);
                    bool cond_177988 = slt64((int64_t) 0, max_res_177987);
                    double b_prev_177989;
                    
                    if (cond_177988) {
                        int64_t tmp_177990 = sub64(max_res_177987, (int64_t) 1);
                        bool x_177991 = sle64((int64_t) 0, tmp_177990);
                        bool y_177992 = slt64(tmp_177990, window_sizze_162232);
                        bool bounds_check_177993 = x_177991 && y_177992;
                        bool index_certs_177994;
                        
                        if (!bounds_check_177993) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177990, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_177995 = p_174497 + tmp_177990;
                        double b_prev_t_res_177996 = ((double *) b_list_mem_179987.mem)[slice_177995];
                        
                        b_prev_177989 = b_prev_t_res_177996;
                    } else {
                        b_prev_177989 = lowest_177961;
                    }
                    
                    bool cond_177997 = sle64(ai_177985, (int64_t) 0);
                    int64_t loopres_177998;
                    int64_t loopres_177999;
                    int64_t loopres_178000;
                    bool loopres_178001;
                    
                    if (cond_177997) {
                        loopres_177998 = p_177980;
                        loopres_177999 = (int64_t) 0;
                        loopres_178000 = max_res_177987;
                        loopres_178001 = 0;
                    } else {
                        bool cond_178002 = sle64(window_sizze_162232, max_res_177987);
                        int64_t loopres_f_res_178003;
                        int64_t loopres_f_res_178004;
                        int64_t loopres_f_res_178005;
                        bool loopres_f_res_178006;
                        
                        if (cond_178002) {
                            int64_t min_res_178008 = smin64(m_174485, ai_177985);
                            bool x_178009 = sle64((int64_t) 0, m_174485);
                            bool y_178010 = slt64(m_174485, window_sizze_162232);
                            bool bounds_check_178011 = x_178009 && y_178010;
                            bool index_certs_178012;
                            
                            if (!bounds_check_178011) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174485, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_178015 = sle64((int64_t) 0, min_res_178008);
                            bool y_178016 = slt64(min_res_178008, window_sizze_162232);
                            bool bounds_check_178017 = x_178015 && y_178016;
                            bool index_certs_178018;
                            
                            if (!bounds_check_178017) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178008, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            double leq_lhs_178014 = ((double *) b_list_mem_179987.mem)[i_p_m_t_s_174513];
                            int64_t slice_178019 = p_174496 + min_res_178008;
                            double leq_rhs_178020 = ((double *) a_list_mem_179986.mem)[slice_178019];
                            bool defunc_0_leq_res_178021 = leq_lhs_178014 <= leq_rhs_178020;
                            int64_t loopres_f_res_t_res_178022;
                            
                            if (defunc_0_leq_res_178021) {
                                loopres_f_res_t_res_178022 = ai_177985;
                            } else {
                                loopres_f_res_t_res_178022 = p_177981;
                            }
                            
                            bool x_178023 = !defunc_0_leq_res_178021;
                            int64_t loopres_f_res_t_res_178024;
                            
                            if (defunc_0_leq_res_178021) {
                                loopres_f_res_t_res_178024 = window_sizze_162232;
                            } else {
                                int64_t tmp_178025 = sub64(m_174485, offset_177984);
                                
                                loopres_f_res_t_res_178024 = tmp_178025;
                            }
                            loopres_f_res_178003 = p_177980;
                            loopres_f_res_178004 = loopres_f_res_t_res_178022;
                            loopres_f_res_178005 = loopres_f_res_t_res_178024;
                            loopres_f_res_178006 = x_178023;
                        } else {
                            bool cond_178026 = sle64(window_sizze_162232, ai_177985);
                            int64_t loopres_f_res_f_res_178027;
                            int64_t loopres_f_res_f_res_178028;
                            int64_t loopres_f_res_f_res_178029;
                            bool loopres_f_res_f_res_178030;
                            
                            if (cond_178026) {
                                int64_t min_res_178032 = smin64(m_174485, max_res_177987);
                                bool x_178033 = sle64((int64_t) 0, m_174485);
                                bool y_178034 = slt64(m_174485, window_sizze_162232);
                                bool bounds_check_178035 = x_178033 && y_178034;
                                bool index_certs_178036;
                                
                                if (!bounds_check_178035) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174485, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178039 = sle64((int64_t) 0, min_res_178032);
                                bool y_178040 = slt64(min_res_178032, window_sizze_162232);
                                bool bounds_check_178041 = x_178039 && y_178040;
                                bool index_certs_178042;
                                
                                if (!bounds_check_178041) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178032, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                double leq_lhs_178038 = ((double *) a_list_mem_179986.mem)[i_p_m_t_s_174502];
                                int64_t slice_178043 = p_174497 + min_res_178032;
                                double leq_rhs_178044 = ((double *) b_list_mem_179987.mem)[slice_178043];
                                bool defunc_0_leq_res_178045 = leq_lhs_178038 <= leq_rhs_178044;
                                int64_t loopres_f_res_f_res_t_res_178046;
                                
                                if (defunc_0_leq_res_178045) {
                                    loopres_f_res_f_res_t_res_178046 = max_res_177987;
                                } else {
                                    loopres_f_res_f_res_t_res_178046 = p_177982;
                                }
                                
                                bool x_178047 = !defunc_0_leq_res_178045;
                                int64_t loopres_f_res_f_res_t_res_178048;
                                
                                if (defunc_0_leq_res_178045) {
                                    loopres_f_res_f_res_t_res_178048 = window_sizze_162232;
                                } else {
                                    loopres_f_res_f_res_t_res_178048 = m_174485;
                                }
                                loopres_f_res_f_res_178027 = p_177980;
                                loopres_f_res_f_res_178028 = loopres_f_res_f_res_t_res_178048;
                                loopres_f_res_f_res_178029 = loopres_f_res_f_res_t_res_178046;
                                loopres_f_res_f_res_178030 = x_178047;
                            } else {
                                bool cond_178049 = sle64(p_177981, p_177980);
                                int64_t loopres_f_res_f_res_f_res_178050;
                                int64_t loopres_f_res_f_res_f_res_178051;
                                int64_t loopres_f_res_f_res_f_res_178052;
                                bool loopres_f_res_f_res_f_res_178053;
                                
                                if (cond_178049) {
                                    bool cond_178054 = slt64(ai_177985, window_sizze_162232);
                                    int64_t ai_178055;
                                    
                                    if (cond_178054) {
                                        ai_178055 = ai_177985;
                                    } else {
                                        ai_178055 = m_174485;
                                    }
                                    
                                    bool x_178068 = sle64((int64_t) 0, ai_178055);
                                    bool y_178069 = slt64(ai_178055, window_sizze_162232);
                                    bool bounds_check_178070 = x_178068 && y_178069;
                                    bool index_certs_178071;
                                    
                                    if (!bounds_check_178070) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178055, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    double b_prev_178057;
                                    
                                    if (cond_177988) {
                                        int64_t tmp_178058 = sub64(max_res_177987, (int64_t) 1);
                                        bool x_178059 = sle64((int64_t) 0, tmp_178058);
                                        bool y_178060 = slt64(tmp_178058, window_sizze_162232);
                                        bool bounds_check_178061 = x_178059 && y_178060;
                                        bool index_certs_178062;
                                        
                                        if (!bounds_check_178061) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178058, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178063 = p_174497 + tmp_178058;
                                        double b_prev_t_res_178064 = ((double *) b_list_mem_179987.mem)[slice_178063];
                                        
                                        b_prev_178057 = b_prev_t_res_178064;
                                    } else {
                                        bool index_certs_178066;
                                        
                                        if (!y_175513) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_178057 = leq_rhs_177959;
                                    }
                                    
                                    int64_t slice_178072 = p_174496 + ai_178055;
                                    double gt_lhs_178073 = ((double *) a_list_mem_179986.mem)[slice_178072];
                                    bool defunc_0_gt_res_178074 = b_prev_178057 < gt_lhs_178073;
                                    int64_t defunc_0_partFunc_sequential_search_res_178075;
                                    int64_t defunc_0_partFunc_sequential_search_res_178076;
                                    
                                    if (defunc_0_gt_res_178074) {
                                        int64_t zl_rhs_178077 = sub64(window_sizze_162232, max_res_177987);
                                        bool loop_cond_178078 = slt64((int64_t) 0, zl_rhs_178077);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_178079;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178080;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178081;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178082;
                                        bool loop_while_178083;
                                        int64_t p_178084;
                                        int64_t p_178085;
                                        int64_t p_178086;
                                        
                                        loop_while_178083 = loop_cond_178078;
                                        p_178084 = ai_178055;
                                        p_178085 = max_res_177987;
                                        p_178086 = (int64_t) 0;
                                        while (loop_while_178083) {
                                            int64_t i_a_178087 = sub64(ai_178055, p_178086);
                                            int64_t i_b_178088 = add64(max_res_177987, p_178086);
                                            int64_t leq_lhs_178089 = sub64(i_a_178087, (int64_t) 1);
                                            bool x_178090 = sle64((int64_t) 0, leq_lhs_178089);
                                            bool y_178091 = slt64(leq_lhs_178089, window_sizze_162232);
                                            bool bounds_check_178092 = x_178090 && y_178091;
                                            bool index_certs_178093;
                                            
                                            if (!bounds_check_178092) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178089, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178096 = sle64((int64_t) 0, i_b_178088);
                                            bool y_178097 = slt64(i_b_178088, window_sizze_162232);
                                            bool bounds_check_178098 = x_178096 && y_178097;
                                            bool index_certs_178099;
                                            
                                            if (!bounds_check_178098) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178088, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178094 = p_174496 + leq_lhs_178089;
                                            double leq_lhs_178095 = ((double *) a_list_mem_179986.mem)[slice_178094];
                                            int64_t slice_178100 = p_174497 + i_b_178088;
                                            double leq_rhs_178101 = ((double *) b_list_mem_179987.mem)[slice_178100];
                                            bool defunc_0_leq_res_178102 = leq_lhs_178095 <= leq_rhs_178101;
                                            int64_t loopres_178103;
                                            
                                            if (defunc_0_leq_res_178102) {
                                                loopres_178103 = i_a_178087;
                                            } else {
                                                loopres_178103 = ai_178055;
                                            }
                                            
                                            int64_t loopres_178104;
                                            
                                            if (defunc_0_leq_res_178102) {
                                                loopres_178104 = i_b_178088;
                                            } else {
                                                loopres_178104 = max_res_177987;
                                            }
                                            
                                            int64_t loopres_178105;
                                            
                                            if (defunc_0_leq_res_178102) {
                                                loopres_178105 = zl_rhs_178077;
                                            } else {
                                                int64_t tmp_178106 = add64((int64_t) 1, p_178086);
                                                
                                                loopres_178105 = tmp_178106;
                                            }
                                            
                                            bool loop_cond_178107 = slt64(loopres_178105, zl_rhs_178077);
                                            bool loop_while_tmp_181419 = loop_cond_178107;
                                            int64_t p_tmp_181420 = loopres_178103;
                                            int64_t p_tmp_181421 = loopres_178104;
                                            int64_t p_tmp_181422 = loopres_178105;
                                            
                                            loop_while_178083 = loop_while_tmp_181419;
                                            p_178084 = p_tmp_181420;
                                            p_178085 = p_tmp_181421;
                                            p_178086 = p_tmp_181422;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_178079 = loop_while_178083;
                                        defunc_0_partFunc_sequential_search_res_t_res_178080 = p_178084;
                                        defunc_0_partFunc_sequential_search_res_t_res_178081 = p_178085;
                                        defunc_0_partFunc_sequential_search_res_t_res_178082 = p_178086;
                                        defunc_0_partFunc_sequential_search_res_178075 = defunc_0_partFunc_sequential_search_res_t_res_178080;
                                        defunc_0_partFunc_sequential_search_res_178076 = defunc_0_partFunc_sequential_search_res_t_res_178081;
                                    } else {
                                        int64_t zl_rhs_178108 = sub64(max_res_177987, (int64_t) 1);
                                        bool loop_cond_178109 = slt64((int64_t) 0, zl_rhs_178108);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_178110;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178111;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178112;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178113;
                                        bool loop_while_178114;
                                        int64_t p_178115;
                                        int64_t p_178116;
                                        int64_t p_178117;
                                        
                                        loop_while_178114 = loop_cond_178109;
                                        p_178115 = ai_178055;
                                        p_178116 = max_res_177987;
                                        p_178117 = (int64_t) 0;
                                        while (loop_while_178114) {
                                            int64_t zp_lhs_178118 = add64(ai_178055, p_178117);
                                            int64_t hi_a_178119 = add64((int64_t) 1, zp_lhs_178118);
                                            bool cond_178120 = slt64(hi_a_178119, window_sizze_162232);
                                            int64_t i_a_178121;
                                            
                                            if (cond_178120) {
                                                i_a_178121 = hi_a_178119;
                                            } else {
                                                i_a_178121 = m_174485;
                                            }
                                            
                                            int64_t zm_lhs_178123 = sub64(max_res_177987, p_178117);
                                            int64_t i_b_178124 = sub64(zm_lhs_178123, (int64_t) 1);
                                            bool x_178125 = sle64((int64_t) 0, i_a_178121);
                                            bool y_178126 = slt64(i_a_178121, window_sizze_162232);
                                            bool bounds_check_178127 = x_178125 && y_178126;
                                            bool index_certs_178128;
                                            
                                            if (!bounds_check_178127) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_178121, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178131 = sle64((int64_t) 0, i_b_178124);
                                            bool y_178132 = slt64(i_b_178124, window_sizze_162232);
                                            bool bounds_check_178133 = x_178131 && y_178132;
                                            bool index_certs_178134;
                                            
                                            if (!bounds_check_178133) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178124, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178129 = p_174496 + i_a_178121;
                                            double gt_lhs_178130 = ((double *) a_list_mem_179986.mem)[slice_178129];
                                            int64_t slice_178135 = p_174497 + i_b_178124;
                                            double gt_rhs_178136 = ((double *) b_list_mem_179987.mem)[slice_178135];
                                            bool defunc_0_gt_res_178137 = gt_rhs_178136 < gt_lhs_178130;
                                            int64_t loopres_178138;
                                            
                                            if (defunc_0_gt_res_178137) {
                                                loopres_178138 = i_a_178121;
                                            } else {
                                                loopres_178138 = ai_178055;
                                            }
                                            
                                            int64_t loopres_178139;
                                            
                                            if (defunc_0_gt_res_178137) {
                                                loopres_178139 = zm_lhs_178123;
                                            } else {
                                                loopres_178139 = max_res_177987;
                                            }
                                            
                                            int64_t loopres_178140;
                                            
                                            if (defunc_0_gt_res_178137) {
                                                loopres_178140 = zl_rhs_178108;
                                            } else {
                                                int64_t tmp_178141 = add64((int64_t) 1, p_178117);
                                                
                                                loopres_178140 = tmp_178141;
                                            }
                                            
                                            bool loop_cond_178142 = slt64(loopres_178140, zl_rhs_178108);
                                            bool loop_while_tmp_181423 = loop_cond_178142;
                                            int64_t p_tmp_181424 = loopres_178138;
                                            int64_t p_tmp_181425 = loopres_178139;
                                            int64_t p_tmp_181426 = loopres_178140;
                                            
                                            loop_while_178114 = loop_while_tmp_181423;
                                            p_178115 = p_tmp_181424;
                                            p_178116 = p_tmp_181425;
                                            p_178117 = p_tmp_181426;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_178110 = loop_while_178114;
                                        defunc_0_partFunc_sequential_search_res_f_res_178111 = p_178115;
                                        defunc_0_partFunc_sequential_search_res_f_res_178112 = p_178116;
                                        defunc_0_partFunc_sequential_search_res_f_res_178113 = p_178117;
                                        defunc_0_partFunc_sequential_search_res_178075 = defunc_0_partFunc_sequential_search_res_f_res_178111;
                                        defunc_0_partFunc_sequential_search_res_178076 = defunc_0_partFunc_sequential_search_res_f_res_178112;
                                    }
                                    loopres_f_res_f_res_f_res_178050 = p_177980;
                                    loopres_f_res_f_res_f_res_178051 = defunc_0_partFunc_sequential_search_res_178075;
                                    loopres_f_res_f_res_f_res_178052 = defunc_0_partFunc_sequential_search_res_178076;
                                    loopres_f_res_f_res_f_res_178053 = 0;
                                } else {
                                    bool x_178143 = sle64((int64_t) 0, ai_177985);
                                    bool y_178144 = slt64(ai_177985, window_sizze_162232);
                                    bool bounds_check_178145 = x_178143 && y_178144;
                                    bool index_certs_178146;
                                    
                                    if (!bounds_check_178145) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_177985, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178147 = p_174496 + ai_177985;
                                    double gt_lhs_178148 = ((double *) a_list_mem_179986.mem)[slice_178147];
                                    bool defunc_0_gt_res_178149 = b_prev_177989 < gt_lhs_178148;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178150;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178151;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178152;
                                    bool loopres_f_res_f_res_f_res_f_res_178153;
                                    
                                    if (defunc_0_gt_res_178149) {
                                        int64_t leq_lhs_178154 = sub64(ai_177985, (int64_t) 1);
                                        bool x_178155 = sle64((int64_t) 0, leq_lhs_178154);
                                        bool y_178156 = slt64(leq_lhs_178154, window_sizze_162232);
                                        bool bounds_check_178157 = x_178155 && y_178156;
                                        bool index_certs_178158;
                                        
                                        if (!bounds_check_178157) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178154, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178161 = sle64((int64_t) 0, max_res_177987);
                                        bool y_178162 = slt64(max_res_177987, window_sizze_162232);
                                        bool bounds_check_178163 = x_178161 && y_178162;
                                        bool index_certs_178164;
                                        
                                        if (!bounds_check_178163) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_177987, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178159 = p_174496 + leq_lhs_178154;
                                        double leq_lhs_178160 = ((double *) a_list_mem_179986.mem)[slice_178159];
                                        int64_t slice_178165 = p_174497 + max_res_177987;
                                        double leq_rhs_178166 = ((double *) b_list_mem_179987.mem)[slice_178165];
                                        bool defunc_0_leq_res_178167 = leq_lhs_178160 <= leq_rhs_178166;
                                        bool x_178168 = !defunc_0_leq_res_178167;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178169;
                                        
                                        if (defunc_0_leq_res_178167) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178169 = ai_177985;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178169 = leq_lhs_178154;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178170;
                                        
                                        if (defunc_0_leq_res_178167) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178170 = max_res_177987;
                                        } else {
                                            int64_t tmp_178171 = add64((int64_t) 1, max_res_177987);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_178170 = tmp_178171;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_178150 = p_177980;
                                        loopres_f_res_f_res_f_res_f_res_178151 = loopres_f_res_f_res_f_res_f_res_t_res_178169;
                                        loopres_f_res_f_res_f_res_f_res_178152 = loopres_f_res_f_res_f_res_f_res_t_res_178170;
                                        loopres_f_res_f_res_f_res_f_res_178153 = x_178168;
                                    } else {
                                        int64_t tmp_178172 = add64((int64_t) 1, ai_177985);
                                        
                                        loopres_f_res_f_res_f_res_f_res_178150 = tmp_178172;
                                        loopres_f_res_f_res_f_res_f_res_178151 = p_177981;
                                        loopres_f_res_f_res_f_res_f_res_178152 = p_177982;
                                        loopres_f_res_f_res_f_res_f_res_178153 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_178050 = loopres_f_res_f_res_f_res_f_res_178150;
                                    loopres_f_res_f_res_f_res_178051 = loopres_f_res_f_res_f_res_f_res_178151;
                                    loopres_f_res_f_res_f_res_178052 = loopres_f_res_f_res_f_res_f_res_178152;
                                    loopres_f_res_f_res_f_res_178053 = loopres_f_res_f_res_f_res_f_res_178153;
                                }
                                loopres_f_res_f_res_178027 = loopres_f_res_f_res_f_res_178050;
                                loopres_f_res_f_res_178028 = loopres_f_res_f_res_f_res_178051;
                                loopres_f_res_f_res_178029 = loopres_f_res_f_res_f_res_178052;
                                loopres_f_res_f_res_178030 = loopres_f_res_f_res_f_res_178053;
                            }
                            loopres_f_res_178003 = loopres_f_res_f_res_178027;
                            loopres_f_res_178004 = loopres_f_res_f_res_178028;
                            loopres_f_res_178005 = loopres_f_res_f_res_178029;
                            loopres_f_res_178006 = loopres_f_res_f_res_178030;
                        }
                        loopres_177998 = loopres_f_res_178003;
                        loopres_177999 = loopres_f_res_178004;
                        loopres_178000 = loopres_f_res_178005;
                        loopres_178001 = loopres_f_res_178006;
                    }
                    
                    bool loop_while_tmp_181415 = loopres_178001;
                    int64_t p_tmp_181416 = loopres_177998;
                    int64_t p_tmp_181417 = loopres_177999;
                    int64_t p_tmp_181418 = loopres_178000;
                    
                    loop_while_177979 = loop_while_tmp_181415;
                    p_177980 = p_tmp_181416;
                    p_177981 = p_tmp_181417;
                    p_177982 = p_tmp_181418;
                }
                defunc_0_f_res_177975 = loop_while_177979;
                defunc_0_f_res_177976 = p_177980;
                defunc_0_f_res_177977 = p_177981;
                defunc_0_f_res_177978 = p_177982;
                ((int64_t *) mem_180348)[i_179650] = defunc_0_f_res_177977;
                ((int64_t *) mem_180350)[i_179650] = defunc_0_f_res_177978;
            }
            if (mem_180365_cached_sizze_181746 < bytes_180364) {
                err = lexical_realloc(ctx, &mem_180365, &mem_180365_cached_sizze_181746, bytes_180364);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180367_cached_sizze_181747 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174535) {
                err = lexical_realloc(ctx, &mem_180367, &mem_180367_cached_sizze_181747, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174535);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180370_cached_sizze_181748 < bytes_180364) {
                err = lexical_realloc(ctx, &mem_180370, &mem_180370_cached_sizze_181748, bytes_180364);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180373_cached_sizze_181749 < bytes_180364) {
                err = lexical_realloc(ctx, &mem_180373, &mem_180373_cached_sizze_181749, bytes_180364);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_179716 = 0; i_179716 < threads_162233; i_179716++) {
                bool y_178186 = slt64(i_179716, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
                bool index_certs_178188;
                
                if (!y_178186) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179716, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178189 = sle64((int64_t) 1, i_179716);
                int64_t index_concat_i_178190 = sub64(i_179716, (int64_t) 1);
                int64_t index_concat_178191;
                
                if (index_concat_cmp_178189) {
                    int64_t x_178192 = ((int64_t *) mem_180348)[index_concat_i_178190];
                    
                    index_concat_178191 = x_178192;
                } else {
                    index_concat_178191 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178193;
                
                if (index_concat_cmp_178189) {
                    index_concat_branch_178193 = index_concat_178191;
                } else {
                    index_concat_branch_178193 = (int64_t) 0;
                }
                
                int64_t index_concat_178194;
                
                if (index_concat_cmp_178189) {
                    int64_t x_178195 = ((int64_t *) mem_180350)[index_concat_i_178190];
                    
                    index_concat_178194 = x_178195;
                } else {
                    index_concat_178194 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178196;
                
                if (index_concat_cmp_178189) {
                    index_concat_branch_178196 = index_concat_178194;
                } else {
                    index_concat_branch_178196 = (int64_t) 0;
                }
                
                int64_t ubs_178197 = add64((int64_t) 1, i_179716);
                bool x_178198 = sle64((int64_t) 0, ubs_178197);
                bool y_178199 = slt64(ubs_178197, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
                bool bounds_check_178200 = x_178198 && y_178199;
                bool index_certs_178201;
                
                if (!bounds_check_178200) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_178197, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178202 = sle64((int64_t) 1, ubs_178197);
                int64_t index_concat_178203;
                
                if (index_concat_cmp_178202) {
                    int64_t x_178204 = ((int64_t *) mem_180348)[i_179716];
                    
                    index_concat_178203 = x_178204;
                } else {
                    index_concat_178203 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178205;
                
                if (index_concat_cmp_178202) {
                    index_concat_branch_178205 = index_concat_178203;
                } else {
                    index_concat_branch_178205 = (int64_t) 0;
                }
                
                int64_t index_concat_178206;
                
                if (index_concat_cmp_178202) {
                    int64_t x_178207 = ((int64_t *) mem_180350)[i_179716];
                    
                    index_concat_178206 = x_178207;
                } else {
                    index_concat_178206 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178208;
                
                if (index_concat_cmp_178202) {
                    index_concat_branch_178208 = index_concat_178206;
                } else {
                    index_concat_branch_178208 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209 = sub64(index_concat_branch_178208, index_concat_branch_178196);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210 = sub64(index_concat_branch_178205, index_concat_branch_178193);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                int64_t zm_lhs_178212 = add64(index_concat_branch_178205, index_concat_branch_178208);
                int64_t zm_rhs_178213 = add64(index_concat_branch_178193, index_concat_branch_178196);
                int64_t card_178214 = sub64(zm_lhs_178212, zm_rhs_178213);
                bool empty_slice_178215 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210 == (int64_t) 0;
                int64_t m_178216 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, (int64_t) 1);
                int64_t i_p_m_t_s_178217 = add64(index_concat_branch_178193, m_178216);
                bool zzero_leq_i_p_m_t_s_178218 = sle64((int64_t) 0, i_p_m_t_s_178217);
                bool i_p_m_t_s_leq_w_178219 = slt64(i_p_m_t_s_178217, window_sizze_162232);
                bool zzero_lte_i_178220 = sle64((int64_t) 0, index_concat_branch_178193);
                bool i_lte_j_178221 = sle64(index_concat_branch_178193, index_concat_branch_178205);
                bool y_178222 = i_p_m_t_s_leq_w_178219 && zzero_lte_i_178220;
                bool y_178223 = zzero_leq_i_p_m_t_s_178218 && y_178222;
                bool forwards_ok_178224 = i_lte_j_178221 && y_178223;
                bool ok_or_empty_178225 = empty_slice_178215 || forwards_ok_178224;
                bool index_certs_178226;
                
                if (!ok_or_empty_178225) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178193, ":", (long long) index_concat_branch_178205, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178227 = slt64(index_concat_branch_178205, index_concat_branch_178193);
                bool valid_178228 = !bounds_invalid_upwards_178227;
                bool range_valid_c_178229;
                
                if (!valid_178228) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178193, "..<", (long long) index_concat_branch_178205, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_178234 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209 == (int64_t) 0;
                int64_t m_178235 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209, (int64_t) 1);
                int64_t i_p_m_t_s_178236 = add64(index_concat_branch_178196, m_178235);
                bool zzero_leq_i_p_m_t_s_178237 = sle64((int64_t) 0, i_p_m_t_s_178236);
                bool i_p_m_t_s_leq_w_178238 = slt64(i_p_m_t_s_178236, window_sizze_162232);
                bool zzero_lte_i_178239 = sle64((int64_t) 0, index_concat_branch_178196);
                bool i_lte_j_178240 = sle64(index_concat_branch_178196, index_concat_branch_178208);
                bool y_178241 = i_p_m_t_s_leq_w_178238 && zzero_lte_i_178239;
                bool y_178242 = zzero_leq_i_p_m_t_s_178237 && y_178241;
                bool forwards_ok_178243 = i_lte_j_178240 && y_178242;
                bool ok_or_empty_178244 = empty_slice_178234 || forwards_ok_178243;
                bool index_certs_178245;
                
                if (!ok_or_empty_178244) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178196, ":", (long long) index_concat_branch_178208, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178246 = slt64(index_concat_branch_178208, index_concat_branch_178196);
                bool valid_178247 = !bounds_invalid_upwards_178246;
                bool range_valid_c_178248;
                
                if (!valid_178247) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178196, "..<", (long long) index_concat_branch_178208, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180402 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211;
                bool cond_178256 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, (int64_t) 1);
                int64_t zs_lhs_178257 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, (int64_t) 1);
                int64_t zp_rhs_178258 = sdiv_safe64(zs_lhs_178257, (int64_t) 20);
                int64_t min_num_blocks_178259 = add64((int64_t) 1, zp_rhs_178258);
                bool loop_cond_178260 = slt64((int64_t) 1, min_num_blocks_178259);
                bool smallest_pow_2_geq_than_res_178261;
                int64_t smallest_pow_2_geq_than_res_178262;
                bool loop_while_178263;
                int64_t x_178264;
                
                loop_while_178263 = loop_cond_178260;
                x_178264 = (int64_t) 1;
                while (loop_while_178263) {
                    int64_t loopres_178265 = mul64((int64_t) 2, x_178264);
                    bool loop_cond_178266 = slt64(loopres_178265, min_num_blocks_178259);
                    bool loop_while_tmp_181431 = loop_cond_178266;
                    int64_t x_tmp_181432 = loopres_178265;
                    
                    loop_while_178263 = loop_while_tmp_181431;
                    x_178264 = x_tmp_181432;
                }
                smallest_pow_2_geq_than_res_178261 = loop_while_178263;
                smallest_pow_2_geq_than_res_178262 = x_178264;
                
                bool zzero_178267 = smallest_pow_2_geq_than_res_178262 == (int64_t) 0;
                bool nonzzero_178268 = !zzero_178267;
                bool protect_assert_disj_178269 = cond_178256 || nonzzero_178268;
                bool nonzzero_cert_178270;
                
                if (!protect_assert_disj_178269) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_178271 = sdiv_safe64(zs_lhs_178257, smallest_pow_2_geq_than_res_178262);
                int64_t block_sizze_178272 = add64((int64_t) 1, zp_rhs_178271);
                bool y_178279 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211);
                bool protect_assert_disj_181148 = cond_178256 || y_178279;
                bool index_certs_178280;
                
                if (!protect_assert_disj_181148) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178317 = slt64(smallest_pow_2_geq_than_res_178262, (int64_t) 0);
                bool valid_178318 = !bounds_invalid_upwards_178317;
                bool protect_assert_disj_181158 = cond_178256 || valid_178318;
                bool range_valid_c_178319;
                
                if (!protect_assert_disj_181158) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_178262, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:407:63-73\n   #6  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178321 = slt64(block_sizze_178272, (int64_t) 0);
                bool valid_178322 = !bounds_invalid_upwards_178321;
                bool protect_assert_disj_181160 = cond_178256 || valid_178322;
                bool range_valid_c_178323;
                
                if (!protect_assert_disj_181160) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_178272, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_178325 = sle64(block_sizze_178272, (int64_t) 1);
                int64_t tmp_178326 = sub64(block_sizze_178272, (int64_t) 2);
                bool bounds_invalid_upwards_178327 = slt64(tmp_178326, (int64_t) 0);
                bool valid_178329 = !bounds_invalid_upwards_178327;
                bool protect_assert_disj_178330 = cond_178325 || valid_178329;
                bool protect_assert_disj_181162 = cond_178256 || protect_assert_disj_178330;
                bool range_valid_c_178331;
                
                if (!protect_assert_disj_181162) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_178326, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_178911 = card_178214 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211;
                bool empty_or_match_cert_178912;
                
                if (!dim_match_178911) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "] cannot match shape of type `[", (long long) card_178214, "](i8, i64, f64)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_178913 = card_178214 == (int64_t) 0;
                int64_t m_178914 = sub64(card_178214, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_178915 = sle64((int64_t) 0, m_178914);
                bool i_p_m_t_s_leq_w_178916 = slt64(m_178914, card_178214);
                bool y_178917 = zzero_leq_i_p_m_t_s_178915 && i_p_m_t_s_leq_w_178916;
                bool ok_or_empty_178918 = empty_slice_178913 || y_178917;
                bool index_certs_178919;
                
                if (!ok_or_empty_178918) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178214, "] out of bounds for array of shape [", (long long) card_178214, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_178920 = slt64(m_178914, perThread_174534);
                bool y_178921 = zzero_leq_i_p_m_t_s_178915 && i_p_m_t_s_leq_w_178920;
                bool ok_or_empty_178922 = empty_slice_178913 || y_178921;
                bool index_certs_178923;
                
                if (!ok_or_empty_178922) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178214, "] out of bounds for array of shape [", (long long) perThread_174534, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_181433 = 0; nest_i_181433 < perThread_174534; nest_i_181433++) {
                    ((int8_t *) mem_180367)[i_179716 * perThread_174534 + nest_i_181433] = (int8_t) -1;
                }
                for (int64_t nest_i_181434 = 0; nest_i_181434 < perThread_174534; nest_i_181434++) {
                    ((int64_t *) mem_180370)[i_179716 * perThread_174534 + nest_i_181434] = (int64_t) -1;
                }
                for (int64_t nest_i_181435 = 0; nest_i_181435 < perThread_174534; nest_i_181435++) {
                    ((double *) mem_180373)[i_179716 * perThread_174534 + nest_i_181435] = 0.0;
                }
                
                int64_t slice_178230 = p_174496 + index_concat_branch_178193;
                
                if (memblock_alloc(ctx, &mem_180401, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "mem_180401")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_181436 = 0; nest_i_181436 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210; nest_i_181436++) {
                    ((int8_t *) mem_180401.mem)[nest_i_181436] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180403, bytes_180402, "mem_180403")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_181437 = 0; i_181437 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210; i_181437++) {
                    int64_t x_181438 = index_concat_branch_178193 + i_181437 * (int64_t) 1;
                    
                    ((int64_t *) mem_180403.mem)[i_181437] = x_181438;
                }
                
                int64_t slice_178249 = p_174497 + index_concat_branch_178196;
                
                for (int64_t nest_i_181439 = 0; nest_i_181439 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209; nest_i_181439++) {
                    ((int8_t *) mem_180401.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210 + nest_i_181439] = (int8_t) 1;
                }
                for (int64_t i_181440 = 0; i_181440 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209; i_181440++) {
                    int64_t x_181441 = index_concat_branch_178196 + i_181440 * (int64_t) 1;
                    
                    ((int64_t *) mem_180403.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210 + i_181440] = x_181441;
                }
                
                int64_t tmp_offs_181442 = (int64_t) 0;
                
                if (!(tmp_offs_181442 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180401.mem, tmp_offs_181442, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180401.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210});
                }
                tmp_offs_181442 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210;
                if (!(tmp_offs_181442 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180401.mem, tmp_offs_181442, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180401.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209});
                }
                tmp_offs_181442 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209;
                
                int64_t tmp_offs_181443 = (int64_t) 0;
                
                if (!(tmp_offs_181443 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180403.mem, tmp_offs_181443, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180403.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210});
                }
                tmp_offs_181443 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210;
                if (!(tmp_offs_181443 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180403.mem, tmp_offs_181443, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180403.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209});
                }
                tmp_offs_181443 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209;
                if (memblock_alloc(ctx, &mem_180405, bytes_180402, "mem_180405")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_181444 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180405.mem, tmp_offs_181444, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_179986.mem, slice_178230, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210});
                tmp_offs_181444 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180405.mem, tmp_offs_181444, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_179987.mem, slice_178249, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209});
                tmp_offs_181444 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209;
                
                int64_t flat_dim_178273 = smallest_pow_2_geq_than_res_178262 * block_sizze_178272;
                bool x_181143 = !cond_178256;
                int64_t greatest_divisor_leq_than_arg1_178277 = mul64((int64_t) 2, block_sizze_178272);
                int64_t merge_block_sizze_178278;
                
                if (x_181143) {
                    int64_t x_181145;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181145, (int64_t) 8, greatest_divisor_leq_than_arg1_178277) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_178278 = x_181145;
                } else {
                    merge_block_sizze_178278 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178281 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, (int64_t) 0);
                int8_t index_concat_branch_178282 = btoi_bool_i8(index_concat_cmp_178281);
                int64_t index_concat_i_178284 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                int64_t index_primexp_178285 = add64(index_concat_branch_178196, index_concat_i_178284);
                int64_t index_concat_branch_178283;
                
                if (index_concat_cmp_178281) {
                    index_concat_branch_178283 = index_primexp_178285;
                } else {
                    index_concat_branch_178283 = index_concat_branch_178193;
                }
                
                bool x_181139 = !index_concat_cmp_178281;
                bool protect_cond_conj_181149 = x_181139 && x_181143;
                double index_concat_178291;
                
                if (protect_cond_conj_181149) {
                    double x_181141 = ((double *) a_list_mem_179986.mem)[slice_178230];
                    
                    index_concat_178291 = x_181141;
                } else {
                    index_concat_178291 = 0.0;
                }
                
                int64_t slice_178289 = p_174497 + index_primexp_178285;
                bool protect_cond_conj_181150 = index_concat_cmp_178281 && x_181143;
                double index_concat_178290;
                
                if (protect_cond_conj_181150) {
                    double x_181137 = ((double *) b_list_mem_179987.mem)[slice_178289];
                    
                    index_concat_178290 = x_181137;
                } else {
                    index_concat_178290 = 0.0;
                }
                
                double index_concat_branch_178286;
                
                if (index_concat_cmp_178281) {
                    index_concat_branch_178286 = index_concat_178290;
                } else {
                    index_concat_branch_178286 = index_concat_178291;
                }
                
                int8_t defunc_0_reduce_res_178292;
                int64_t defunc_0_reduce_res_178293;
                double defunc_0_reduce_res_178294;
                
                if (x_181143) {
                    int8_t x_181151;
                    int64_t x_181152;
                    double x_181153;
                    int8_t redout_179653;
                    int64_t redout_179654;
                    double redout_179655;
                    
                    redout_179653 = index_concat_branch_178282;
                    redout_179654 = index_concat_branch_178283;
                    redout_179655 = index_concat_branch_178286;
                    for (int64_t i_179656 = 0; i_179656 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211; i_179656++) {
                        bool index_concat_cmp_179914 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, i_179656);
                        int8_t index_concat_branch_179918 = btoi_bool_i8(index_concat_cmp_179914);
                        int64_t index_concat_branch_179912;
                        
                        if (index_concat_cmp_179914) {
                            int64_t index_concat_i_179909 = sub64(i_179656, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                            int64_t index_primexp_179962 = add64(index_concat_branch_178196, index_concat_i_179909);
                            
                            index_concat_branch_179912 = index_primexp_179962;
                        } else {
                            int64_t index_primexp_179964 = add64(index_concat_branch_178193, i_179656);
                            
                            index_concat_branch_179912 = index_primexp_179964;
                        }
                        
                        double index_concat_branch_179906;
                        
                        if (index_concat_cmp_179914) {
                            int64_t index_concat_i_179903 = sub64(i_179656, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                            int64_t slice_179959 = slice_178249 + index_concat_i_179903;
                            double index_concat_179904 = ((double *) b_list_mem_179987.mem)[slice_179959];
                            
                            index_concat_branch_179906 = index_concat_179904;
                        } else {
                            int64_t slice_179960 = slice_178230 + i_179656;
                            double index_concat_179905 = ((double *) a_list_mem_179986.mem)[slice_179960];
                            
                            index_concat_branch_179906 = index_concat_179905;
                        }
                        
                        bool eq_x_y_179976 = redout_179653 == (int8_t) 1;
                        bool eq_x_zz_179977 = redout_179653 == (int8_t) 0;
                        bool p_and_eq_x_y_179978 = index_concat_cmp_179914 && eq_x_y_179976;
                        bool not_p_179979 = !index_concat_cmp_179914;
                        bool p_and_eq_x_y_179980 = eq_x_zz_179977 && not_p_179979;
                        bool cond_178304 = p_and_eq_x_y_179978 || p_and_eq_x_y_179980;
                        bool defunc_0_leq_res_t_res_178305 = sle64(redout_179654, index_concat_branch_179912);
                        bool defunc_0_leq_res_178306 = redout_179655 <= index_concat_branch_179906;
                        bool x_178307 = cond_178304 && defunc_0_leq_res_t_res_178305;
                        bool x_178308 = !cond_178304;
                        bool y_178309 = defunc_0_leq_res_178306 && x_178308;
                        bool defunc_0_leq_res_178310 = x_178307 || y_178309;
                        int8_t defunc_0_op_res_178311;
                        
                        if (defunc_0_leq_res_178310) {
                            defunc_0_op_res_178311 = index_concat_branch_179918;
                        } else {
                            defunc_0_op_res_178311 = redout_179653;
                        }
                        
                        int64_t defunc_0_op_res_178312;
                        
                        if (defunc_0_leq_res_178310) {
                            defunc_0_op_res_178312 = index_concat_branch_179912;
                        } else {
                            defunc_0_op_res_178312 = redout_179654;
                        }
                        
                        double defunc_0_op_res_178313;
                        
                        if (defunc_0_leq_res_178310) {
                            defunc_0_op_res_178313 = index_concat_branch_179906;
                        } else {
                            defunc_0_op_res_178313 = redout_179655;
                        }
                        
                        int8_t redout_tmp_181445 = defunc_0_op_res_178311;
                        int64_t redout_tmp_181446 = defunc_0_op_res_178312;
                        double redout_tmp_181447 = defunc_0_op_res_178313;
                        
                        redout_179653 = redout_tmp_181445;
                        redout_179654 = redout_tmp_181446;
                        redout_179655 = redout_tmp_181447;
                    }
                    x_181151 = redout_179653;
                    x_181152 = redout_179654;
                    x_181153 = redout_179655;
                    defunc_0_reduce_res_178292 = x_181151;
                    defunc_0_reduce_res_178293 = x_181152;
                    defunc_0_reduce_res_178294 = x_181153;
                } else {
                    defunc_0_reduce_res_178292 = (int8_t) 0;
                    defunc_0_reduce_res_178293 = (int64_t) 0;
                    defunc_0_reduce_res_178294 = 0.0;
                }
                
                int64_t distance_178328 = add64((int64_t) 1, tmp_178326);
                int64_t binop_x_180408 = (int64_t) 8 * smallest_pow_2_geq_than_res_178262;
                int64_t bytes_180409 = block_sizze_178272 * binop_x_180408;
                int64_t bytes_180427 = (int64_t) 8 * block_sizze_178272;
                bool loop_cond_178454 = slt64(block_sizze_178272, flat_dim_178273);
                bool zzero_178455 = merge_block_sizze_178278 == (int64_t) 0;
                bool nonzzero_178456 = !zzero_178455;
                
                if (cond_178256) {
                    if (memblock_set(ctx, &ext_mem_180700, &mem_180401, "mem_180401") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180697, &mem_180403, "mem_180403") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180694, &mem_180405, "mem_180405") != 0)
                        return 1;
                } else {
                    if (mem_180407_cached_sizze_181750 < flat_dim_178273) {
                        err = lexical_realloc(ctx, &mem_180407, &mem_180407_cached_sizze_181750, flat_dim_178273);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180410_cached_sizze_181751 < bytes_180409) {
                        err = lexical_realloc(ctx, &mem_180410, &mem_180410_cached_sizze_181751, bytes_180409);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180413_cached_sizze_181752 < bytes_180409) {
                        err = lexical_realloc(ctx, &mem_180413, &mem_180413_cached_sizze_181752, bytes_180409);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180426_cached_sizze_181753 < block_sizze_178272) {
                        err = lexical_realloc(ctx, &mem_180426, &mem_180426_cached_sizze_181753, block_sizze_178272);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180428_cached_sizze_181754 < bytes_180427) {
                        err = lexical_realloc(ctx, &mem_180428, &mem_180428_cached_sizze_181754, bytes_180427);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180430_cached_sizze_181755 < bytes_180427) {
                        err = lexical_realloc(ctx, &mem_180430, &mem_180430_cached_sizze_181755, bytes_180427);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179673 = 0; i_179673 < smallest_pow_2_geq_than_res_178262; i_179673++) {
                        int64_t zp_lhs_178336 = mul64(block_sizze_178272, i_179673);
                        
                        for (int64_t i_179663 = 0; i_179663 < block_sizze_178272; i_179663++) {
                            int64_t k_178341 = add64(zp_lhs_178336, i_179663);
                            bool cond_178342 = slt64(k_178341, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211);
                            int8_t lifted_lambda_res_178343;
                            int64_t lifted_lambda_res_178344;
                            double lifted_lambda_res_178345;
                            
                            if (cond_178342) {
                                bool x_178346 = sle64((int64_t) 0, k_178341);
                                bool bounds_check_178347 = cond_178342 && x_178346;
                                bool index_certs_178348;
                                
                                if (!bounds_check_178347) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_178341, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_178349 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, k_178341);
                                int8_t index_concat_branch_178350 = btoi_bool_i8(index_concat_cmp_178349);
                                int64_t index_concat_branch_178351;
                                
                                if (index_concat_cmp_178349) {
                                    int64_t index_concat_i_178352 = sub64(k_178341, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                                    int64_t index_primexp_178353 = add64(index_concat_branch_178196, index_concat_i_178352);
                                    
                                    index_concat_branch_178351 = index_primexp_178353;
                                } else {
                                    int64_t index_primexp_178354 = add64(index_concat_branch_178193, k_178341);
                                    
                                    index_concat_branch_178351 = index_primexp_178354;
                                }
                                
                                double index_concat_branch_178355;
                                
                                if (index_concat_cmp_178349) {
                                    int64_t index_concat_i_178356 = sub64(k_178341, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                                    int64_t slice_178357 = index_concat_branch_178196 + index_concat_i_178356;
                                    int64_t slice_178358 = p_174497 + slice_178357;
                                    double index_concat_178359 = ((double *) b_list_mem_179987.mem)[slice_178358];
                                    
                                    index_concat_branch_178355 = index_concat_178359;
                                } else {
                                    int64_t slice_178360 = index_concat_branch_178193 + k_178341;
                                    int64_t slice_178361 = p_174496 + slice_178360;
                                    double index_concat_178362 = ((double *) a_list_mem_179986.mem)[slice_178361];
                                    
                                    index_concat_branch_178355 = index_concat_178362;
                                }
                                lifted_lambda_res_178343 = index_concat_branch_178350;
                                lifted_lambda_res_178344 = index_concat_branch_178351;
                                lifted_lambda_res_178345 = index_concat_branch_178355;
                            } else {
                                lifted_lambda_res_178343 = defunc_0_reduce_res_178292;
                                lifted_lambda_res_178344 = defunc_0_reduce_res_178293;
                                lifted_lambda_res_178345 = defunc_0_reduce_res_178294;
                            }
                            ((int8_t *) mem_180426)[i_179663] = lifted_lambda_res_178343;
                            ((int64_t *) mem_180428)[i_179663] = lifted_lambda_res_178344;
                            ((double *) mem_180430)[i_179663] = lifted_lambda_res_178345;
                        }
                        if (!cond_178325) {
                            for (int64_t i_178372 = 0; i_178372 < distance_178328; i_178372++) {
                                int64_t gt_arg1_178376 = add64((int64_t) 1, i_178372);
                                bool x_178377 = sle64((int64_t) 0, gt_arg1_178376);
                                bool y_178378 = slt64(gt_arg1_178376, block_sizze_178272);
                                bool bounds_check_178379 = x_178377 && y_178378;
                                bool index_certs_178380;
                                
                                if (!bounds_check_178379) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_178376, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_178384 = slt64(i_178372, block_sizze_178272);
                                bool index_certs_178385;
                                
                                if (!y_178384) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178372, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_178381 = ((int8_t *) mem_180426)[gt_arg1_178376];
                                int64_t gt_arg1_178382 = ((int64_t *) mem_180428)[gt_arg1_178376];
                                double gt_arg1_178383 = ((double *) mem_180430)[gt_arg1_178376];
                                int8_t gt_arg0_178386 = ((int8_t *) mem_180426)[i_178372];
                                int64_t gt_arg0_178387 = ((int64_t *) mem_180428)[i_178372];
                                double gt_arg0_178388 = ((double *) mem_180430)[i_178372];
                                bool cond_178389 = gt_arg0_178386 == gt_arg1_178381;
                                bool defunc_0_leq_res_t_res_178390 = sle64(gt_arg0_178387, gt_arg1_178382);
                                bool defunc_0_leq_res_178391 = gt_arg0_178388 <= gt_arg1_178383;
                                bool x_178392 = cond_178389 && defunc_0_leq_res_t_res_178390;
                                bool x_178393 = !cond_178389;
                                bool y_178394 = defunc_0_leq_res_178391 && x_178393;
                                bool defunc_0_leq_res_178395 = x_178392 || y_178394;
                                bool defunc_0_lifted_gt_res_178396 = !defunc_0_leq_res_178395;
                                bool s_178397;
                                int64_t s_178401;
                                bool loop_while_178402;
                                int64_t j_178406;
                                
                                loop_while_178402 = defunc_0_lifted_gt_res_178396;
                                j_178406 = i_178372;
                                while (loop_while_178402) {
                                    bool x_178407 = sle64((int64_t) 0, j_178406);
                                    bool y_178408 = slt64(j_178406, block_sizze_178272);
                                    bool bounds_check_178409 = x_178407 && y_178408;
                                    bool index_certs_178410;
                                    
                                    if (!bounds_check_178409) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178406, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_178414 = add64((int64_t) 1, j_178406);
                                    bool x_178415 = sle64((int64_t) 0, copy_arg0_178414);
                                    bool y_178416 = slt64(copy_arg0_178414, block_sizze_178272);
                                    bool bounds_check_178417 = x_178415 && y_178416;
                                    bool index_certs_178418;
                                    
                                    if (!bounds_check_178417) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_178414, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_178411 = ((int8_t *) mem_180426)[j_178406];
                                    int64_t copy_arg0_178412 = ((int64_t *) mem_180428)[j_178406];
                                    double copy_arg0_178413 = ((double *) mem_180430)[j_178406];
                                    int8_t copy_arg0_178419 = ((int8_t *) mem_180426)[copy_arg0_178414];
                                    int64_t copy_arg0_178420 = ((int64_t *) mem_180428)[copy_arg0_178414];
                                    double copy_arg0_178421 = ((double *) mem_180430)[copy_arg0_178414];
                                    
                                    ((int8_t *) mem_180426)[j_178406] = copy_arg0_178419;
                                    ((int64_t *) mem_180428)[j_178406] = copy_arg0_178420;
                                    ((double *) mem_180430)[j_178406] = copy_arg0_178421;
                                    ((int8_t *) mem_180426)[copy_arg0_178414] = copy_arg0_178411;
                                    ((int64_t *) mem_180428)[copy_arg0_178414] = copy_arg0_178412;
                                    ((double *) mem_180430)[copy_arg0_178414] = copy_arg0_178413;
                                    
                                    int64_t tmp_178428 = sub64(j_178406, (int64_t) 1);
                                    bool cond_178429 = sle64((int64_t) 0, tmp_178428);
                                    bool loop_cond_178430;
                                    
                                    if (cond_178429) {
                                        bool y_178434 = slt64(tmp_178428, block_sizze_178272);
                                        bool bounds_check_178435 = cond_178429 && y_178434;
                                        bool index_certs_178436;
                                        
                                        if (!bounds_check_178435) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178428, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_178431 = ((int8_t *) mem_180426)[j_178406];
                                        int64_t gt_arg1_178432 = ((int64_t *) mem_180428)[j_178406];
                                        double gt_arg1_178433 = ((double *) mem_180430)[j_178406];
                                        int8_t gt_arg0_178437 = ((int8_t *) mem_180426)[tmp_178428];
                                        int64_t gt_arg0_178438 = ((int64_t *) mem_180428)[tmp_178428];
                                        double gt_arg0_178439 = ((double *) mem_180430)[tmp_178428];
                                        bool cond_178440 = gt_arg0_178437 == gt_arg1_178431;
                                        bool defunc_0_leq_res_t_res_178441 = sle64(gt_arg0_178438, gt_arg1_178432);
                                        bool defunc_0_leq_res_178442 = gt_arg0_178439 <= gt_arg1_178433;
                                        bool x_178443 = cond_178440 && defunc_0_leq_res_t_res_178441;
                                        bool x_178444 = !cond_178440;
                                        bool y_178445 = defunc_0_leq_res_178442 && x_178444;
                                        bool defunc_0_leq_res_178446 = x_178443 || y_178445;
                                        bool defunc_0_lifted_gt_res_178447 = !defunc_0_leq_res_178446;
                                        
                                        loop_cond_178430 = defunc_0_lifted_gt_res_178447;
                                    } else {
                                        loop_cond_178430 = 0;
                                    }
                                    
                                    bool loop_while_tmp_181457 = loop_cond_178430;
                                    int64_t j_tmp_181461 = tmp_178428;
                                    
                                    loop_while_178402 = loop_while_tmp_181457;
                                    j_178406 = j_tmp_181461;
                                }
                                s_178397 = loop_while_178402;
                                s_178401 = j_178406;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180407, i_179673 * block_sizze_178272, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180426, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178272});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180410, i_179673 * block_sizze_178272, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180428, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178272});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180413, i_179673 * block_sizze_178272, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180430, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178272});
                    }
                    if (memblock_alloc(ctx, &mem_180507, flat_dim_178273, "mem_180507")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180507.mem, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (uint8_t *) mem_180407, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178262, block_sizze_178272});
                    if (memblock_alloc(ctx, &mem_180511, bytes_180409, "mem_180511")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180511.mem, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (uint64_t *) mem_180410, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178262, block_sizze_178272});
                    if (memblock_alloc(ctx, &mem_180515, bytes_180409, "mem_180515")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180515.mem, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (uint64_t *) mem_180413, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178262, block_sizze_178272});
                    
                    int64_t data_178457;
                    bool data_178458;
                    int64_t data_178462;
                    int64_t loop_dz2084Uz2082U_178463;
                    bool loop_while_178464;
                    int64_t stride_178468;
                    
                    if (memblock_set(ctx, &mem_param_180519, &mem_180507, "mem_180507") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180522, &mem_180511, "mem_180511") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180525, &mem_180515, "mem_180515") != 0)
                        return 1;
                    loop_dz2084Uz2082U_178463 = flat_dim_178273;
                    loop_while_178464 = loop_cond_178454;
                    stride_178468 = block_sizze_178272;
                    while (loop_while_178464) {
                        int64_t next_stride_178469 = mul64((int64_t) 2, stride_178468);
                        bool zzero_178470 = next_stride_178469 == (int64_t) 0;
                        bool nonzzero_178471 = !zzero_178470;
                        bool nonzzero_cert_178472;
                        
                        if (!nonzzero_178471) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_178473 = sdiv64(flat_dim_178273, next_stride_178469);
                        bool bounds_invalid_upwards_178474 = slt64(num_merges_178473, (int64_t) 0);
                        bool valid_178475 = !bounds_invalid_upwards_178474;
                        bool range_valid_c_178476;
                        
                        if (!valid_178475) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_178473, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:407:63-73\n   #6  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_178478 = sub64(next_stride_178469, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_178479 = sle64((int64_t) 0, m_178478);
                        bool cond_178481 = slt64(next_stride_178469, (int64_t) 10);
                        bool protect_assert_disj_178482 = nonzzero_178456 || cond_178481;
                        bool nonzzero_cert_178483;
                        
                        if (!protect_assert_disj_178482) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_178484 = smod_safe64(next_stride_178469, merge_block_sizze_178278);
                        bool num_blocks_178485 = zeze_lhs_178484 == (int64_t) 0;
                        bool protect_assert_disj_178486 = cond_178481 || num_blocks_178485;
                        bool assert_c_178487;
                        
                        if (!protect_assert_disj_178486) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_178488 = sdiv_safe64(next_stride_178469, merge_block_sizze_178278);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489 = add64((int64_t) 1, num_blocks_178488);
                        int64_t j_m_i_178490 = sub64(next_stride_178469, stride_178468);
                        int64_t flat_dim_178491 = merge_block_sizze_178278 * num_blocks_178488;
                        bool bounds_invalid_upwards_178492 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489, (int64_t) 0);
                        bool empty_slice_178493 = j_m_i_178490 == (int64_t) 0;
                        int64_t m_178494 = sub64(j_m_i_178490, (int64_t) 1);
                        bool zzero_lte_i_178495 = sle64((int64_t) 0, stride_178468);
                        bool i_lte_j_178496 = sle64(stride_178468, next_stride_178469);
                        bool empty_slice_178497 = stride_178468 == (int64_t) 0;
                        int64_t m_178498 = sub64(stride_178468, (int64_t) 1);
                        bool bounds_invalid_upwards_178499 = slt64(num_blocks_178488, (int64_t) 0);
                        bool cond_178500 = slt64((int64_t) 0, stride_178468);
                        bool valid_178501 = !bounds_invalid_upwards_178492;
                        int64_t i_p_m_t_s_178502 = add64(stride_178468, m_178494);
                        bool zzero_leq_i_p_m_t_s_178503 = sle64((int64_t) 0, m_178498);
                        bool i_p_m_t_s_leq_w_178504 = slt64(m_178498, next_stride_178469);
                        bool valid_178505 = !bounds_invalid_upwards_178499;
                        bool i_p_m_t_s_leq_w_178506 = slt64(m_178478, flat_dim_178491);
                        bool y_178507 = slt64((int64_t) 0, j_m_i_178490);
                        bool protect_assert_disj_178508 = cond_178481 || valid_178501;
                        bool range_valid_c_178509;
                        
                        if (!protect_assert_disj_178508) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_178510 = sle64((int64_t) 0, i_p_m_t_s_178502);
                        bool i_p_m_t_s_leq_w_178511 = slt64(i_p_m_t_s_178502, next_stride_178469);
                        bool y_178512 = zzero_leq_i_p_m_t_s_178503 && i_p_m_t_s_leq_w_178504;
                        bool protect_assert_disj_178513 = cond_178481 || valid_178505;
                        bool range_valid_c_178514;
                        
                        if (!protect_assert_disj_178513) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_178488, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_178515 = zzero_leq_i_p_m_t_s_178479 && i_p_m_t_s_leq_w_178506;
                        bool y_178516 = zzero_lte_i_178495 && i_p_m_t_s_leq_w_178511;
                        bool forwards_ok_178517 = zzero_lte_i_178495 && y_178512;
                        bool ok_or_empty_178518 = zzero_178470 || y_178515;
                        bool protect_assert_disj_178519 = cond_178500 || y_178507;
                        bool y_178520 = zzero_leq_i_p_m_t_s_178510 && y_178516;
                        bool ok_or_empty_178521 = empty_slice_178497 || forwards_ok_178517;
                        bool protect_assert_disj_178522 = cond_178481 || ok_or_empty_178518;
                        bool index_certs_178523;
                        
                        if (!protect_assert_disj_178522) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_178469, "] out of bounds for array of shape [", (long long) flat_dim_178491, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_178524 = !cond_178481;
                        bool protect_assert_disj_178525 = protect_assert_disj_178519 || loop_not_taken_178524;
                        bool index_certs_178526;
                        
                        if (!protect_assert_disj_178525) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_178527 = i_lte_j_178496 && y_178520;
                        bool protect_assert_disj_178528 = cond_178481 || ok_or_empty_178521;
                        bool index_certs_178529;
                        
                        if (!protect_assert_disj_178528) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_178468, "] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_178530 = ok_or_empty_178521 || loop_not_taken_178524;
                        bool index_certs_178531;
                        
                        if (!protect_assert_disj_178530) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_178468, "] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_178532 = empty_slice_178493 || forwards_ok_178527;
                        bool protect_assert_disj_178533 = cond_178481 || ok_or_empty_178532;
                        bool index_certs_178534;
                        
                        if (!protect_assert_disj_178533) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_178468, ":] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_178535 = loop_not_taken_178524 || ok_or_empty_178532;
                        bool index_certs_178536;
                        
                        if (!protect_assert_disj_178535) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_178468, ":] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180526 = next_stride_178469 * num_merges_178473;
                        int64_t binop_x_180528 = (int64_t) 8 * num_merges_178473;
                        int64_t bytes_180529 = next_stride_178469 * binop_x_180528;
                        bool i_lte_j_178480 = sle64((int64_t) 0, next_stride_178469);
                        
                        if (mem_180527_cached_sizze_181756 < bytes_180526) {
                            err = lexical_realloc(ctx, &mem_180527, &mem_180527_cached_sizze_181756, bytes_180526);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180530_cached_sizze_181757 < bytes_180529) {
                            err = lexical_realloc(ctx, &mem_180530, &mem_180530_cached_sizze_181757, bytes_180529);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180533_cached_sizze_181758 < bytes_180529) {
                            err = lexical_realloc(ctx, &mem_180533, &mem_180533_cached_sizze_181758, bytes_180529);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180546 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489;
                        int64_t binop_x_180564 = (int64_t) 8 * num_blocks_178488;
                        int64_t bytes_180565 = merge_block_sizze_178278 * binop_x_180564;
                        int64_t bytes_180629 = (int64_t) 16 * stride_178468;
                        
                        for (int64_t i_179700 = 0; i_179700 < num_merges_178473; i_179700++) {
                            int64_t start_178541 = mul64(next_stride_178469, i_179700);
                            int64_t j_m_i_178542 = sub64(loop_dz2084Uz2082U_178463, start_178541);
                            bool empty_slice_178543 = j_m_i_178542 == (int64_t) 0;
                            int64_t m_178544 = sub64(j_m_i_178542, (int64_t) 1);
                            int64_t i_p_m_t_s_178545 = add64(start_178541, m_178544);
                            bool zzero_leq_i_p_m_t_s_178546 = sle64((int64_t) 0, i_p_m_t_s_178545);
                            bool i_p_m_t_s_leq_w_178547 = slt64(i_p_m_t_s_178545, loop_dz2084Uz2082U_178463);
                            bool zzero_lte_i_178548 = sle64((int64_t) 0, start_178541);
                            bool i_lte_j_178549 = sle64(start_178541, loop_dz2084Uz2082U_178463);
                            bool y_178550 = i_p_m_t_s_leq_w_178547 && zzero_lte_i_178548;
                            bool y_178551 = zzero_leq_i_p_m_t_s_178546 && y_178550;
                            bool forwards_ok_178552 = i_lte_j_178549 && y_178551;
                            bool ok_or_empty_178553 = empty_slice_178543 || forwards_ok_178552;
                            bool index_certs_178554;
                            
                            if (!ok_or_empty_178553) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_178541, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_178463, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_178555 = slt64(m_178478, j_m_i_178542);
                            bool y_178556 = zzero_leq_i_p_m_t_s_178479 && i_p_m_t_s_leq_w_178555;
                            bool forwards_ok_178557 = i_lte_j_178480 && y_178556;
                            bool ok_or_empty_178558 = zzero_178470 || forwards_ok_178557;
                            bool index_certs_178559;
                            
                            if (!ok_or_empty_178558) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_178469, "] out of bounds for array of shape [", (long long) j_m_i_178542, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_178481) {
                                int8_t dummy_178563;
                                int64_t dummy_178564;
                                double dummy_178565;
                                
                                if (cond_178500) {
                                    int8_t head_res_178566 = ((int8_t *) mem_param_180519.mem)[start_178541];
                                    int64_t head_res_178567 = ((int64_t *) mem_param_180522.mem)[start_178541];
                                    double head_res_178568 = ((double *) mem_param_180525.mem)[start_178541];
                                    
                                    dummy_178563 = head_res_178566;
                                    dummy_178564 = head_res_178567;
                                    dummy_178565 = head_res_178568;
                                } else {
                                    int64_t slice_178569 = stride_178468 + start_178541;
                                    int8_t head_res_178570 = ((int8_t *) mem_param_180519.mem)[slice_178569];
                                    int64_t head_res_178571 = ((int64_t *) mem_param_180522.mem)[slice_178569];
                                    double head_res_178572 = ((double *) mem_param_180525.mem)[slice_178569];
                                    
                                    dummy_178563 = head_res_178570;
                                    dummy_178564 = head_res_178571;
                                    dummy_178565 = head_res_178572;
                                }
                                if (memblock_alloc(ctx, &mem_180628, next_stride_178469, "mem_180628")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181474 = 0; nest_i_181474 < next_stride_178469; nest_i_181474++) {
                                    ((int8_t *) mem_180628.mem)[nest_i_181474] = dummy_178563;
                                }
                                if (memblock_alloc(ctx, &mem_180630, bytes_180629, "mem_180630")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181475 = 0; nest_i_181475 < next_stride_178469; nest_i_181475++) {
                                    ((int64_t *) mem_180630.mem)[nest_i_181475] = dummy_178564;
                                }
                                if (memblock_alloc(ctx, &mem_180632, bytes_180629, "mem_180632")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181476 = 0; nest_i_181476 < next_stride_178469; nest_i_181476++) {
                                    ((double *) mem_180632.mem)[nest_i_181476] = dummy_178565;
                                }
                                
                                int64_t data_178576;
                                int64_t i_178581 = (int64_t) 0;
                                
                                for (int64_t k_178580 = 0; k_178580 < next_stride_178469; k_178580++) {
                                    int64_t j_178585 = sub64(k_178580, i_178581);
                                    bool cond_178586 = j_178585 == j_m_i_178490;
                                    bool cond_178587;
                                    
                                    if (cond_178586) {
                                        cond_178587 = 1;
                                    } else {
                                        bool cond_178588 = slt64(i_178581, stride_178468);
                                        bool cond_f_res_178589;
                                        
                                        if (cond_178588) {
                                            bool x_178590 = sle64((int64_t) 0, j_178585);
                                            bool y_178591 = slt64(j_178585, j_m_i_178490);
                                            bool bounds_check_178592 = x_178590 && y_178591;
                                            bool index_certs_178593;
                                            
                                            if (!bounds_check_178592) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178585, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178599 = sle64((int64_t) 0, i_178581);
                                            bool bounds_check_178600 = cond_178588 && x_178599;
                                            bool index_certs_178601;
                                            
                                            if (!bounds_check_178600) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178581, "] out of bounds for array of shape [", (long long) stride_178468, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178594 = stride_178468 + j_178585;
                                            int64_t slice_178595 = start_178541 + slice_178594;
                                            int8_t leq_arg1_178596 = ((int8_t *) mem_param_180519.mem)[slice_178595];
                                            int64_t leq_arg1_178597 = ((int64_t *) mem_param_180522.mem)[slice_178595];
                                            double leq_arg1_178598 = ((double *) mem_param_180525.mem)[slice_178595];
                                            int64_t slice_178602 = start_178541 + i_178581;
                                            int8_t leq_arg0_178603 = ((int8_t *) mem_param_180519.mem)[slice_178602];
                                            int64_t leq_arg0_178604 = ((int64_t *) mem_param_180522.mem)[slice_178602];
                                            double leq_arg0_178605 = ((double *) mem_param_180525.mem)[slice_178602];
                                            bool cond_178606 = leq_arg0_178603 == leq_arg1_178596;
                                            bool defunc_0_leq_res_t_res_178607 = sle64(leq_arg0_178604, leq_arg1_178597);
                                            bool defunc_0_leq_res_178608 = leq_arg0_178605 <= leq_arg1_178598;
                                            bool x_178609 = cond_178606 && defunc_0_leq_res_t_res_178607;
                                            bool x_178610 = !cond_178606;
                                            bool y_178611 = defunc_0_leq_res_178608 && x_178610;
                                            bool defunc_0_leq_res_178612 = x_178609 || y_178611;
                                            
                                            cond_f_res_178589 = defunc_0_leq_res_178612;
                                        } else {
                                            cond_f_res_178589 = 0;
                                        }
                                        cond_178587 = cond_f_res_178589;
                                    }
                                    
                                    int64_t loopres_178613;
                                    int8_t loopres_178614;
                                    int64_t loopres_178615;
                                    double loopres_178616;
                                    
                                    if (cond_178587) {
                                        bool x_178618 = sle64((int64_t) 0, i_178581);
                                        bool y_178619 = slt64(i_178581, stride_178468);
                                        bool bounds_check_178620 = x_178618 && y_178619;
                                        bool index_certs_178621;
                                        
                                        if (!bounds_check_178620) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178581, "] out of bounds for array of shape [", (long long) stride_178468, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_178617 = add64((int64_t) 1, i_178581);
                                        int64_t slice_178622 = start_178541 + i_178581;
                                        int8_t tmp_178623 = ((int8_t *) mem_param_180519.mem)[slice_178622];
                                        int64_t tmp_178624 = ((int64_t *) mem_param_180522.mem)[slice_178622];
                                        double tmp_178625 = ((double *) mem_param_180525.mem)[slice_178622];
                                        
                                        loopres_178613 = tmp_178617;
                                        loopres_178614 = tmp_178623;
                                        loopres_178615 = tmp_178624;
                                        loopres_178616 = tmp_178625;
                                    } else {
                                        bool x_178626 = sle64((int64_t) 0, j_178585);
                                        bool y_178627 = slt64(j_178585, j_m_i_178490);
                                        bool bounds_check_178628 = x_178626 && y_178627;
                                        bool index_certs_178629;
                                        
                                        if (!bounds_check_178628) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178585, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178630 = stride_178468 + j_178585;
                                        int64_t slice_178631 = start_178541 + slice_178630;
                                        int8_t tmp_178632 = ((int8_t *) mem_param_180519.mem)[slice_178631];
                                        int64_t tmp_178633 = ((int64_t *) mem_param_180522.mem)[slice_178631];
                                        double tmp_178634 = ((double *) mem_param_180525.mem)[slice_178631];
                                        
                                        loopres_178613 = i_178581;
                                        loopres_178614 = tmp_178632;
                                        loopres_178615 = tmp_178633;
                                        loopres_178616 = tmp_178634;
                                    }
                                    ((int8_t *) mem_180628.mem)[k_178580] = loopres_178614;
                                    ((int64_t *) mem_180630.mem)[k_178580] = loopres_178615;
                                    ((double *) mem_180632.mem)[k_178580] = loopres_178616;
                                    
                                    int64_t i_tmp_181477 = loopres_178613;
                                    
                                    i_178581 = i_tmp_181477;
                                }
                                data_178576 = i_178581;
                                if (memblock_set(ctx, &ext_mem_180659, &mem_180628, "mem_180628") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180656, &mem_180630, "mem_180630") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180653, &mem_180632, "mem_180632") != 0)
                                    return 1;
                            } else {
                                if (mem_180547_cached_sizze_181759 < bytes_180546) {
                                    err = lexical_realloc(ctx, &mem_180547, &mem_180547_cached_sizze_181759, bytes_180546);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180549_cached_sizze_181760 < bytes_180546) {
                                    err = lexical_realloc(ctx, &mem_180549, &mem_180549_cached_sizze_181760, bytes_180546);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179681 = 0; i_179681 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489; i_179681++) {
                                    int64_t split_count_arg3_178642 = mul64(merge_block_sizze_178278, i_179681);
                                    int64_t defunc_0_split_count_res_178643;
                                    int64_t defunc_0_split_count_res_178644;
                                    int64_t defunc_0_split_count_res_178645;
                                    int64_t defunc_0_split_count_res_178646;
                                    int64_t defunc_0_split_count_res_178647;
                                    
                                    if (futrts_lifted_normalizze_8970(ctx, &defunc_0_split_count_res_178643, &defunc_0_split_count_res_178644, &defunc_0_split_count_res_178645, &defunc_0_split_count_res_178646, &defunc_0_split_count_res_178647, (int64_t) 0, stride_178468, (int64_t) 0, j_m_i_178490, split_count_arg3_178642) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_178648 = slt64((int64_t) 0, defunc_0_split_count_res_178647);
                                    bool defunc_0_split_count_res_178649;
                                    int64_t defunc_0_split_count_res_178650;
                                    int64_t defunc_0_split_count_res_178651;
                                    int64_t defunc_0_split_count_res_178652;
                                    int64_t defunc_0_split_count_res_178653;
                                    int64_t defunc_0_split_count_res_178654;
                                    bool loop_while_178655;
                                    int64_t ss_178656;
                                    int64_t ss_178657;
                                    int64_t tt_178658;
                                    int64_t tt_178659;
                                    int64_t count_178660;
                                    
                                    loop_while_178655 = loop_cond_178648;
                                    ss_178656 = defunc_0_split_count_res_178643;
                                    ss_178657 = defunc_0_split_count_res_178644;
                                    tt_178658 = defunc_0_split_count_res_178645;
                                    tt_178659 = defunc_0_split_count_res_178646;
                                    count_178660 = defunc_0_split_count_res_178647;
                                    while (loop_while_178655) {
                                        int64_t zlze_lhs_178661 = sub64(ss_178657, ss_178656);
                                        bool cond_178662 = sle64(zlze_lhs_178661, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_178663;
                                        int64_t defunc_0_lifted_step_res_178664;
                                        int64_t defunc_0_lifted_step_res_178665;
                                        int64_t defunc_0_lifted_step_res_178666;
                                        
                                        if (cond_178662) {
                                            int64_t tmp_178667 = add64(tt_178658, count_178660);
                                            
                                            defunc_0_lifted_step_res_178663 = ss_178656;
                                            defunc_0_lifted_step_res_178664 = tmp_178667;
                                            defunc_0_lifted_step_res_178665 = tt_178659;
                                            defunc_0_lifted_step_res_178666 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_178668 = sub64(tt_178659, tt_178658);
                                            bool cond_178669 = sle64(zlze_lhs_178668, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_178670;
                                            int64_t defunc_0_lifted_step_res_f_res_178671;
                                            int64_t defunc_0_lifted_step_res_f_res_178672;
                                            int64_t defunc_0_lifted_step_res_f_res_178673;
                                            
                                            if (cond_178669) {
                                                int64_t tmp_178674 = add64(ss_178656, count_178660);
                                                
                                                defunc_0_lifted_step_res_f_res_178670 = tmp_178674;
                                                defunc_0_lifted_step_res_f_res_178671 = tt_178658;
                                                defunc_0_lifted_step_res_f_res_178672 = tt_178659;
                                                defunc_0_lifted_step_res_f_res_178673 = (int64_t) 0;
                                            } else {
                                                bool cond_178675 = count_178660 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178676;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178677;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178678;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178679;
                                                
                                                if (cond_178675) {
                                                    bool x_178680 = sle64((int64_t) 0, ss_178656);
                                                    bool y_178681 = slt64(ss_178656, stride_178468);
                                                    bool bounds_check_178682 = x_178680 && y_178681;
                                                    bool index_certs_178683;
                                                    
                                                    if (!bounds_check_178682) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_178656, "] out of bounds for array of shape [", (long long) stride_178468, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:407:63-73\n   #13 ftsort.fut:400:1-407:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_178688 = sle64((int64_t) 0, tt_178658);
                                                    bool y_178689 = slt64(tt_178658, j_m_i_178490);
                                                    bool bounds_check_178690 = x_178688 && y_178689;
                                                    bool index_certs_178691;
                                                    
                                                    if (!bounds_check_178690) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_178658, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:407:63-73\n   #13 ftsort.fut:400:1-407:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_178684 = start_178541 + ss_178656;
                                                    int8_t leq_arg1_178685 = ((int8_t *) mem_param_180519.mem)[slice_178684];
                                                    int64_t leq_arg1_178686 = ((int64_t *) mem_param_180522.mem)[slice_178684];
                                                    double leq_arg1_178687 = ((double *) mem_param_180525.mem)[slice_178684];
                                                    int64_t slice_178692 = stride_178468 + tt_178658;
                                                    int64_t slice_178693 = start_178541 + slice_178692;
                                                    int8_t leq_arg0_178694 = ((int8_t *) mem_param_180519.mem)[slice_178693];
                                                    int64_t leq_arg0_178695 = ((int64_t *) mem_param_180522.mem)[slice_178693];
                                                    double leq_arg0_178696 = ((double *) mem_param_180525.mem)[slice_178693];
                                                    bool cond_178697 = leq_arg0_178694 == leq_arg1_178685;
                                                    bool defunc_0_leq_res_t_res_178698 = sle64(leq_arg0_178695, leq_arg1_178686);
                                                    bool defunc_0_leq_res_178699 = leq_arg0_178696 <= leq_arg1_178687;
                                                    bool x_178700 = cond_178697 && defunc_0_leq_res_t_res_178698;
                                                    bool x_178701 = !cond_178697;
                                                    bool y_178702 = defunc_0_leq_res_178699 && x_178701;
                                                    bool defunc_0_leq_res_178703 = x_178700 || y_178702;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178704;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178705;
                                                    
                                                    if (defunc_0_leq_res_178703) {
                                                        int64_t tmp_178706 = add64((int64_t) 1, tt_178658);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178704 = ss_178656;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178705 = tmp_178706;
                                                    } else {
                                                        int64_t tmp_178707 = add64((int64_t) 1, ss_178656);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178704 = tmp_178707;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178705 = tt_178658;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_178676 = defunc_0_lifted_step_res_f_res_f_res_t_res_178704;
                                                    defunc_0_lifted_step_res_f_res_f_res_178677 = defunc_0_lifted_step_res_f_res_f_res_t_res_178705;
                                                    defunc_0_lifted_step_res_f_res_f_res_178678 = tt_178659;
                                                    defunc_0_lifted_step_res_f_res_f_res_178679 = (int64_t) 0;
                                                } else {
                                                    int64_t m_178708 = sdiv64(count_178660, (int64_t) 2);
                                                    int64_t n_178709 = sub64(count_178660, m_178708);
                                                    bool cond_178710 = n_178709 == (int64_t) 0;
                                                    int64_t zgze_lhs_178711 = add64(ss_178656, m_178708);
                                                    bool cond_f_res_178712 = sle64(ss_178657, zgze_lhs_178711);
                                                    bool x_178713 = !cond_178710;
                                                    bool y_178714 = cond_f_res_178712 && x_178713;
                                                    bool cond_178715 = cond_178710 || y_178714;
                                                    bool leq_y_x_178716;
                                                    
                                                    if (cond_178715) {
                                                        leq_y_x_178716 = 1;
                                                    } else {
                                                        bool x_178717 = sle64((int64_t) 0, zgze_lhs_178711);
                                                        bool y_178718 = slt64(zgze_lhs_178711, stride_178468);
                                                        bool bounds_check_178719 = x_178717 && y_178718;
                                                        bool index_certs_178720;
                                                        
                                                        if (!bounds_check_178719) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_178711, "] out of bounds for array of shape [", (long long) stride_178468, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:407:63-73\n   #13 ftsort.fut:400:1-407:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_178725 = add64(tt_178658, n_178709);
                                                        int64_t leq_arg0_178726 = sub64(zm_lhs_178725, (int64_t) 1);
                                                        bool x_178727 = sle64((int64_t) 0, leq_arg0_178726);
                                                        bool y_178728 = slt64(leq_arg0_178726, j_m_i_178490);
                                                        bool bounds_check_178729 = x_178727 && y_178728;
                                                        bool index_certs_178730;
                                                        
                                                        if (!bounds_check_178729) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_178726, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:407:63-73\n   #13 ftsort.fut:400:1-407:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_178721 = start_178541 + zgze_lhs_178711;
                                                        int8_t leq_arg1_178722 = ((int8_t *) mem_param_180519.mem)[slice_178721];
                                                        int64_t leq_arg1_178723 = ((int64_t *) mem_param_180522.mem)[slice_178721];
                                                        double leq_arg1_178724 = ((double *) mem_param_180525.mem)[slice_178721];
                                                        int64_t slice_178731 = stride_178468 + leq_arg0_178726;
                                                        int64_t slice_178732 = start_178541 + slice_178731;
                                                        int8_t leq_arg0_178733 = ((int8_t *) mem_param_180519.mem)[slice_178732];
                                                        int64_t leq_arg0_178734 = ((int64_t *) mem_param_180522.mem)[slice_178732];
                                                        double leq_arg0_178735 = ((double *) mem_param_180525.mem)[slice_178732];
                                                        bool cond_178736 = leq_arg0_178733 == leq_arg1_178722;
                                                        bool defunc_0_leq_res_t_res_178737 = sle64(leq_arg0_178734, leq_arg1_178723);
                                                        bool defunc_0_leq_res_178738 = leq_arg0_178735 <= leq_arg1_178724;
                                                        bool x_178739 = cond_178736 && defunc_0_leq_res_t_res_178737;
                                                        bool x_178740 = !cond_178736;
                                                        bool y_178741 = defunc_0_leq_res_178738 && x_178740;
                                                        bool defunc_0_leq_res_178742 = x_178739 || y_178741;
                                                        
                                                        leq_y_x_178716 = defunc_0_leq_res_178742;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178743;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178744;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178745;
                                                    
                                                    if (leq_y_x_178716) {
                                                        int64_t tmp_178746 = add64(tt_178658, n_178709);
                                                        int64_t tmp_178747 = sub64(count_178660, n_178709);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178743 = tmp_178746;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178744 = tt_178659;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178745 = tmp_178747;
                                                    } else {
                                                        int64_t tmp_178748 = add64(tt_178658, n_178709);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178743 = tt_178658;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178744 = tmp_178748;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178745 = count_178660;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_178676 = ss_178656;
                                                    defunc_0_lifted_step_res_f_res_f_res_178677 = defunc_0_lifted_step_res_f_res_f_res_f_res_178743;
                                                    defunc_0_lifted_step_res_f_res_f_res_178678 = defunc_0_lifted_step_res_f_res_f_res_f_res_178744;
                                                    defunc_0_lifted_step_res_f_res_f_res_178679 = defunc_0_lifted_step_res_f_res_f_res_f_res_178745;
                                                }
                                                defunc_0_lifted_step_res_f_res_178670 = defunc_0_lifted_step_res_f_res_f_res_178676;
                                                defunc_0_lifted_step_res_f_res_178671 = defunc_0_lifted_step_res_f_res_f_res_178677;
                                                defunc_0_lifted_step_res_f_res_178672 = defunc_0_lifted_step_res_f_res_f_res_178678;
                                                defunc_0_lifted_step_res_f_res_178673 = defunc_0_lifted_step_res_f_res_f_res_178679;
                                            }
                                            defunc_0_lifted_step_res_178663 = defunc_0_lifted_step_res_f_res_178670;
                                            defunc_0_lifted_step_res_178664 = defunc_0_lifted_step_res_f_res_178671;
                                            defunc_0_lifted_step_res_178665 = defunc_0_lifted_step_res_f_res_178672;
                                            defunc_0_lifted_step_res_178666 = defunc_0_lifted_step_res_f_res_178673;
                                        }
                                        
                                        int64_t loopres_178749;
                                        int64_t loopres_178750;
                                        int64_t loopres_178751;
                                        int64_t loopres_178752;
                                        int64_t loopres_178753;
                                        
                                        if (futrts_lifted_normalizze_8970(ctx, &loopres_178749, &loopres_178750, &loopres_178751, &loopres_178752, &loopres_178753, defunc_0_lifted_step_res_178663, ss_178657, defunc_0_lifted_step_res_178664, defunc_0_lifted_step_res_178665, defunc_0_lifted_step_res_178666) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_178754 = slt64((int64_t) 0, loopres_178753);
                                        bool loop_while_tmp_181483 = loop_cond_178754;
                                        int64_t ss_tmp_181484 = loopres_178749;
                                        int64_t ss_tmp_181485 = loopres_178750;
                                        int64_t tt_tmp_181486 = loopres_178751;
                                        int64_t tt_tmp_181487 = loopres_178752;
                                        int64_t count_tmp_181488 = loopres_178753;
                                        
                                        loop_while_178655 = loop_while_tmp_181483;
                                        ss_178656 = ss_tmp_181484;
                                        ss_178657 = ss_tmp_181485;
                                        tt_178658 = tt_tmp_181486;
                                        tt_178659 = tt_tmp_181487;
                                        count_178660 = count_tmp_181488;
                                    }
                                    defunc_0_split_count_res_178649 = loop_while_178655;
                                    defunc_0_split_count_res_178650 = ss_178656;
                                    defunc_0_split_count_res_178651 = ss_178657;
                                    defunc_0_split_count_res_178652 = tt_178658;
                                    defunc_0_split_count_res_178653 = tt_178659;
                                    defunc_0_split_count_res_178654 = count_178660;
                                    ((int64_t *) mem_180547)[i_179681] = defunc_0_split_count_res_178650;
                                    ((int64_t *) mem_180549)[i_179681] = defunc_0_split_count_res_178652;
                                }
                                if (mem_180563_cached_sizze_181761 < flat_dim_178491) {
                                    err = lexical_realloc(ctx, &mem_180563, &mem_180563_cached_sizze_181761, flat_dim_178491);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180566_cached_sizze_181762 < bytes_180565) {
                                    err = lexical_realloc(ctx, &mem_180566, &mem_180566_cached_sizze_181762, bytes_180565);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180569_cached_sizze_181763 < bytes_180565) {
                                    err = lexical_realloc(ctx, &mem_180569, &mem_180569_cached_sizze_181763, bytes_180565);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179690 = 0; i_179690 < num_blocks_178488; i_179690++) {
                                    bool y_178763 = slt64(i_179690, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489);
                                    bool index_certs_178765;
                                    
                                    if (!y_178763) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179690, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_178766 = ((int64_t *) mem_180547)[i_179690];
                                    int64_t defunc_0_f_res_178767 = ((int64_t *) mem_180549)[i_179690];
                                    int64_t tmp_178768 = add64((int64_t) 1, i_179690);
                                    bool x_178769 = sle64((int64_t) 0, tmp_178768);
                                    bool y_178770 = slt64(tmp_178768, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489);
                                    bool bounds_check_178771 = x_178769 && y_178770;
                                    bool index_certs_178772;
                                    
                                    if (!bounds_check_178771) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178768, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_178773 = ((int64_t *) mem_180547)[tmp_178768];
                                    int64_t defunc_0_f_res_178774 = ((int64_t *) mem_180549)[tmp_178768];
                                    int64_t merge_sequential_arg2_178775 = add64(stride_178468, defunc_0_f_res_178767);
                                    int64_t merge_sequential_arg2_178776 = add64(stride_178468, defunc_0_f_res_178774);
                                    int64_t j_m_i_178777 = sub64(merge_sequential_arg2_178776, merge_sequential_arg2_178775);
                                    bool empty_slice_178778 = j_m_i_178777 == (int64_t) 0;
                                    int64_t m_178779 = sub64(j_m_i_178777, (int64_t) 1);
                                    int64_t i_p_m_t_s_178780 = add64(merge_sequential_arg2_178775, m_178779);
                                    bool zzero_leq_i_p_m_t_s_178781 = sle64((int64_t) 0, i_p_m_t_s_178780);
                                    bool i_p_m_t_s_leq_w_178782 = slt64(i_p_m_t_s_178780, next_stride_178469);
                                    bool zzero_lte_i_178783 = sle64((int64_t) 0, merge_sequential_arg2_178775);
                                    bool i_lte_j_178784 = sle64(merge_sequential_arg2_178775, merge_sequential_arg2_178776);
                                    bool y_178785 = i_p_m_t_s_leq_w_178782 && zzero_lte_i_178783;
                                    bool y_178786 = zzero_leq_i_p_m_t_s_178781 && y_178785;
                                    bool forwards_ok_178787 = i_lte_j_178784 && y_178786;
                                    bool ok_or_empty_178788 = empty_slice_178778 || forwards_ok_178787;
                                    bool index_certs_178789;
                                    
                                    if (!ok_or_empty_178788) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_178775, ":", (long long) merge_sequential_arg2_178776, "] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_178790 = sub64(defunc_0_f_res_178773, defunc_0_f_res_178766);
                                    bool empty_slice_178791 = j_m_i_178790 == (int64_t) 0;
                                    int64_t m_178792 = sub64(j_m_i_178790, (int64_t) 1);
                                    int64_t i_p_m_t_s_178793 = add64(defunc_0_f_res_178766, m_178792);
                                    bool zzero_leq_i_p_m_t_s_178794 = sle64((int64_t) 0, i_p_m_t_s_178793);
                                    bool i_p_m_t_s_leq_w_178795 = slt64(i_p_m_t_s_178793, next_stride_178469);
                                    bool zzero_lte_i_178796 = sle64((int64_t) 0, defunc_0_f_res_178766);
                                    bool i_lte_j_178797 = sle64(defunc_0_f_res_178766, defunc_0_f_res_178773);
                                    bool y_178798 = i_p_m_t_s_leq_w_178795 && zzero_lte_i_178796;
                                    bool y_178799 = zzero_leq_i_p_m_t_s_178794 && y_178798;
                                    bool forwards_ok_178800 = i_lte_j_178797 && y_178799;
                                    bool ok_or_empty_178801 = empty_slice_178791 || forwards_ok_178800;
                                    bool index_certs_178802;
                                    
                                    if (!ok_or_empty_178801) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_178766, ":", (long long) defunc_0_f_res_178773, "] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_178803 = slt64((int64_t) 0, j_m_i_178790);
                                    int8_t dummy_178804;
                                    int64_t dummy_178805;
                                    double dummy_178806;
                                    
                                    if (cond_178803) {
                                        bool index_certs_178807;
                                        
                                        if (!cond_178803) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178790, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178808 = start_178541 + defunc_0_f_res_178766;
                                        int8_t head_res_178809 = ((int8_t *) mem_param_180519.mem)[slice_178808];
                                        int64_t head_res_178810 = ((int64_t *) mem_param_180522.mem)[slice_178808];
                                        double head_res_178811 = ((double *) mem_param_180525.mem)[slice_178808];
                                        
                                        dummy_178804 = head_res_178809;
                                        dummy_178805 = head_res_178810;
                                        dummy_178806 = head_res_178811;
                                    } else {
                                        bool y_178812 = slt64((int64_t) 0, j_m_i_178777);
                                        bool index_certs_178813;
                                        
                                        if (!y_178812) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178777, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178814 = start_178541 + merge_sequential_arg2_178775;
                                        int8_t head_res_178815 = ((int8_t *) mem_param_180519.mem)[slice_178814];
                                        int64_t head_res_178816 = ((int64_t *) mem_param_180522.mem)[slice_178814];
                                        double head_res_178817 = ((double *) mem_param_180525.mem)[slice_178814];
                                        
                                        dummy_178804 = head_res_178815;
                                        dummy_178805 = head_res_178816;
                                        dummy_178806 = head_res_178817;
                                    }
                                    for (int64_t nest_i_181492 = 0; nest_i_181492 < merge_block_sizze_178278; nest_i_181492++) {
                                        ((int8_t *) mem_180563)[i_179690 * merge_block_sizze_178278 + nest_i_181492] = dummy_178804;
                                    }
                                    for (int64_t nest_i_181493 = 0; nest_i_181493 < merge_block_sizze_178278; nest_i_181493++) {
                                        ((int64_t *) mem_180566)[i_179690 * merge_block_sizze_178278 + nest_i_181493] = dummy_178805;
                                    }
                                    for (int64_t nest_i_181494 = 0; nest_i_181494 < merge_block_sizze_178278; nest_i_181494++) {
                                        ((double *) mem_180569)[i_179690 * merge_block_sizze_178278 + nest_i_181494] = dummy_178806;
                                    }
                                    
                                    int64_t data_178821;
                                    int64_t i_178826 = (int64_t) 0;
                                    
                                    for (int64_t k_178825 = 0; k_178825 < merge_block_sizze_178278; k_178825++) {
                                        int64_t j_178830 = sub64(k_178825, i_178826);
                                        bool cond_178831 = j_178830 == j_m_i_178777;
                                        bool cond_178832;
                                        
                                        if (cond_178831) {
                                            cond_178832 = 1;
                                        } else {
                                            bool cond_178833 = slt64(i_178826, j_m_i_178790);
                                            bool cond_f_res_178834;
                                            
                                            if (cond_178833) {
                                                bool x_178835 = sle64((int64_t) 0, j_178830);
                                                bool y_178836 = slt64(j_178830, j_m_i_178777);
                                                bool bounds_check_178837 = x_178835 && y_178836;
                                                bool index_certs_178838;
                                                
                                                if (!bounds_check_178837) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178830, "] out of bounds for array of shape [", (long long) j_m_i_178777, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_178844 = sle64((int64_t) 0, i_178826);
                                                bool bounds_check_178845 = cond_178833 && x_178844;
                                                bool index_certs_178846;
                                                
                                                if (!bounds_check_178845) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178826, "] out of bounds for array of shape [", (long long) j_m_i_178790, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_178839 = merge_sequential_arg2_178775 + j_178830;
                                                int64_t slice_178840 = start_178541 + slice_178839;
                                                int8_t leq_arg1_178841 = ((int8_t *) mem_param_180519.mem)[slice_178840];
                                                int64_t leq_arg1_178842 = ((int64_t *) mem_param_180522.mem)[slice_178840];
                                                double leq_arg1_178843 = ((double *) mem_param_180525.mem)[slice_178840];
                                                int64_t slice_178847 = defunc_0_f_res_178766 + i_178826;
                                                int64_t slice_178848 = start_178541 + slice_178847;
                                                int8_t leq_arg0_178849 = ((int8_t *) mem_param_180519.mem)[slice_178848];
                                                int64_t leq_arg0_178850 = ((int64_t *) mem_param_180522.mem)[slice_178848];
                                                double leq_arg0_178851 = ((double *) mem_param_180525.mem)[slice_178848];
                                                bool cond_178852 = leq_arg0_178849 == leq_arg1_178841;
                                                bool defunc_0_leq_res_t_res_178853 = sle64(leq_arg0_178850, leq_arg1_178842);
                                                bool defunc_0_leq_res_178854 = leq_arg0_178851 <= leq_arg1_178843;
                                                bool x_178855 = cond_178852 && defunc_0_leq_res_t_res_178853;
                                                bool x_178856 = !cond_178852;
                                                bool y_178857 = defunc_0_leq_res_178854 && x_178856;
                                                bool defunc_0_leq_res_178858 = x_178855 || y_178857;
                                                
                                                cond_f_res_178834 = defunc_0_leq_res_178858;
                                            } else {
                                                cond_f_res_178834 = 0;
                                            }
                                            cond_178832 = cond_f_res_178834;
                                        }
                                        
                                        int64_t loopres_178859;
                                        int8_t loopres_178860;
                                        int64_t loopres_178861;
                                        double loopres_178862;
                                        
                                        if (cond_178832) {
                                            bool x_178864 = sle64((int64_t) 0, i_178826);
                                            bool y_178865 = slt64(i_178826, j_m_i_178790);
                                            bool bounds_check_178866 = x_178864 && y_178865;
                                            bool index_certs_178867;
                                            
                                            if (!bounds_check_178866) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178826, "] out of bounds for array of shape [", (long long) j_m_i_178790, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_178863 = add64((int64_t) 1, i_178826);
                                            int64_t slice_178868 = defunc_0_f_res_178766 + i_178826;
                                            int64_t slice_178869 = start_178541 + slice_178868;
                                            int8_t tmp_178870 = ((int8_t *) mem_param_180519.mem)[slice_178869];
                                            int64_t tmp_178871 = ((int64_t *) mem_param_180522.mem)[slice_178869];
                                            double tmp_178872 = ((double *) mem_param_180525.mem)[slice_178869];
                                            
                                            loopres_178859 = tmp_178863;
                                            loopres_178860 = tmp_178870;
                                            loopres_178861 = tmp_178871;
                                            loopres_178862 = tmp_178872;
                                        } else {
                                            bool x_178873 = sle64((int64_t) 0, j_178830);
                                            bool y_178874 = slt64(j_178830, j_m_i_178777);
                                            bool bounds_check_178875 = x_178873 && y_178874;
                                            bool index_certs_178876;
                                            
                                            if (!bounds_check_178875) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178830, "] out of bounds for array of shape [", (long long) j_m_i_178777, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178877 = merge_sequential_arg2_178775 + j_178830;
                                            int64_t slice_178878 = start_178541 + slice_178877;
                                            int8_t tmp_178879 = ((int8_t *) mem_param_180519.mem)[slice_178878];
                                            int64_t tmp_178880 = ((int64_t *) mem_param_180522.mem)[slice_178878];
                                            double tmp_178881 = ((double *) mem_param_180525.mem)[slice_178878];
                                            
                                            loopres_178859 = i_178826;
                                            loopres_178860 = tmp_178879;
                                            loopres_178861 = tmp_178880;
                                            loopres_178862 = tmp_178881;
                                        }
                                        ((int8_t *) mem_180563)[i_179690 * merge_block_sizze_178278 + k_178825] = loopres_178860;
                                        ((int64_t *) mem_180566)[i_179690 * merge_block_sizze_178278 + k_178825] = loopres_178861;
                                        ((double *) mem_180569)[i_179690 * merge_block_sizze_178278 + k_178825] = loopres_178862;
                                        
                                        int64_t i_tmp_181495 = loopres_178859;
                                        
                                        i_178826 = i_tmp_181495;
                                    }
                                    data_178821 = i_178826;
                                }
                                if (memblock_alloc(ctx, &mem_180618, flat_dim_178491, "mem_180618")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180618.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (uint8_t *) mem_180563, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (int64_t []) {num_blocks_178488, merge_block_sizze_178278});
                                if (memblock_alloc(ctx, &mem_180622, bytes_180565, "mem_180622")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180622.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (uint64_t *) mem_180566, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (int64_t []) {num_blocks_178488, merge_block_sizze_178278});
                                if (memblock_alloc(ctx, &mem_180626, bytes_180565, "mem_180626")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180626.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (uint64_t *) mem_180569, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (int64_t []) {num_blocks_178488, merge_block_sizze_178278});
                                if (memblock_set(ctx, &ext_mem_180659, &mem_180618, "mem_180618") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180656, &mem_180622, "mem_180622") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180653, &mem_180626, "mem_180626") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180527, i_179700 * next_stride_178469, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180659.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178469});
                            if (memblock_unref(ctx, &ext_mem_180659, "ext_mem_180659") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180530, i_179700 * next_stride_178469, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180656.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178469});
                            if (memblock_unref(ctx, &ext_mem_180656, "ext_mem_180656") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180533, i_179700 * next_stride_178469, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180653.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178469});
                            if (memblock_unref(ctx, &ext_mem_180653, "ext_mem_180653") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_180673, bytes_180526, "mem_180673")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180673.mem, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (uint8_t *) mem_180527, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (int64_t []) {num_merges_178473, next_stride_178469});
                        if (memblock_alloc(ctx, &mem_180677, bytes_180529, "mem_180677")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180677.mem, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (uint64_t *) mem_180530, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (int64_t []) {num_merges_178473, next_stride_178469});
                        if (memblock_alloc(ctx, &mem_180681, bytes_180529, "mem_180681")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180681.mem, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (uint64_t *) mem_180533, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (int64_t []) {num_merges_178473, next_stride_178469});
                        
                        bool loop_cond_178901 = slt64(next_stride_178469, flat_dim_178273);
                        
                        if (memblock_set(ctx, &mem_param_tmp_181462, &mem_180673, "mem_180673") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181463, &mem_180677, "mem_180677") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181464, &mem_180681, "mem_180681") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_181465 = bytes_180526;
                        bool loop_while_tmp_181466 = loop_cond_178901;
                        int64_t stride_tmp_181470 = next_stride_178469;
                        
                        if (memblock_set(ctx, &mem_param_180519, &mem_param_tmp_181462, "mem_param_tmp_181462") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180522, &mem_param_tmp_181463, "mem_param_tmp_181463") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180525, &mem_param_tmp_181464, "mem_param_tmp_181464") != 0)
                            return 1;
                        loop_dz2084Uz2082U_178463 = loop_dz2084Uz2082U_tmp_181465;
                        loop_while_178464 = loop_while_tmp_181466;
                        stride_178468 = stride_tmp_181470;
                    }
                    if (memblock_set(ctx, &ext_mem_180691, &mem_param_180519, "mem_param_180519") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180690, &mem_param_180522, "mem_param_180522") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180689, &mem_param_180525, "mem_param_180525") != 0)
                        return 1;
                    data_178457 = loop_dz2084Uz2082U_178463;
                    data_178458 = loop_while_178464;
                    data_178462 = stride_178468;
                    if (memblock_unref(ctx, &mem_180507, "mem_180507") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180511, "mem_180511") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180515, "mem_180515") != 0)
                        return 1;
                    
                    bool empty_slice_178902 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_178903 = sle64((int64_t) 0, zs_lhs_178257);
                    bool i_p_m_t_s_leq_w_178904 = slt64(zs_lhs_178257, data_178457);
                    bool y_178905 = zzero_leq_i_p_m_t_s_178903 && i_p_m_t_s_leq_w_178904;
                    bool ok_or_empty_178906 = empty_slice_178902 || y_178905;
                    bool index_certs_178907;
                    
                    if (!ok_or_empty_178906) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "] out of bounds for array of shape [", (long long) data_178457, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:407:63-73\n   #6  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_180700, &ext_mem_180691, "ext_mem_180691") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180697, &ext_mem_180690, "ext_mem_180690") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180694, &ext_mem_180689, "ext_mem_180689") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180401, "mem_180401") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180403, "mem_180403") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180405, "mem_180405") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180367, i_179716 * perThread_174534, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180700.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211});
                if (memblock_unref(ctx, &ext_mem_180700, "ext_mem_180700") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180370, i_179716 * perThread_174534, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180697.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211});
                if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180373, i_179716 * perThread_174534, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180694.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211});
                if (memblock_unref(ctx, &ext_mem_180694, "ext_mem_180694") != 0)
                    return 1;
                for (int64_t i_179706 = 0; i_179706 < perThread_174534; i_179706++) {
                    int64_t lifted_lambda_res_178929 = add64(zm_rhs_178213, i_179706);
                    
                    ((int64_t *) mem_180365)[i_179716 * perThread_174534 + i_179706] = lifted_lambda_res_178929;
                }
                
                bool cond_178931 = card_178214 == zp_rhs_174533;
                
                if (cond_178931) {
                    bool y_178933 = slt64(card_178214, perThread_174534);
                    bool index_certs_178934;
                    
                    if (!y_178933) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_178214, "] out of bounds for array of shape [", (long long) perThread_174534, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_180365)[i_179716 * perThread_174534 + card_178214] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_180726, bytes_180019, "mem_180726")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181500 = 0; nest_i_181500 < window_sizze_162232; nest_i_181500++) {
                ((double *) mem_180726.mem)[nest_i_181500] = 0.0;
            }
            if (memblock_alloc(ctx, &mem_180728, bytes_180019, "mem_180728")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181501 = 0; nest_i_181501 < window_sizze_162232; nest_i_181501++) {
                ((int64_t *) mem_180728.mem)[nest_i_181501] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180729, window_sizze_162232, "mem_180729")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181502 = 0; nest_i_181502 < window_sizze_162232; nest_i_181502++) {
                ((int8_t *) mem_180729.mem)[nest_i_181502] = (int8_t) -1;
            }
            for (int64_t write_iter_179721 = 0; write_iter_179721 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174535; write_iter_179721++) {
                int64_t new_index_179873 = squot64(write_iter_179721, perThread_174534);
                int64_t binop_y_179875 = perThread_174534 * new_index_179873;
                int64_t new_index_179876 = write_iter_179721 - binop_y_179875;
                int64_t write_iv_179725 = ((int64_t *) mem_180365)[new_index_179873 * perThread_174534 + new_index_179876];
                int8_t write_iv_179726 = ((int8_t *) mem_180367)[new_index_179873 * perThread_174534 + new_index_179876];
                int64_t write_iv_179727 = ((int64_t *) mem_180370)[new_index_179873 * perThread_174534 + new_index_179876];
                double write_iv_179728 = ((double *) mem_180373)[new_index_179873 * perThread_174534 + new_index_179876];
                
                if (sle64((int64_t) 0, write_iv_179725) && slt64(write_iv_179725, window_sizze_162232)) {
                    ((int8_t *) mem_180729.mem)[write_iv_179725] = write_iv_179726;
                }
                if (sle64((int64_t) 0, write_iv_179725) && slt64(write_iv_179725, window_sizze_162232)) {
                    ((int64_t *) mem_180728.mem)[write_iv_179725] = write_iv_179727;
                }
                if (sle64((int64_t) 0, write_iv_179725) && slt64(write_iv_179725, window_sizze_162232)) {
                    ((double *) mem_180726.mem)[write_iv_179725] = write_iv_179728;
                }
            }
            
            int64_t index_concat_branch_178957;
            
            if (index_concat_cmp_177297) {
                int64_t index_concat_178958 = ((int64_t *) mem_180348)[index_concat_i_177298];
                
                index_concat_branch_178957 = index_concat_178958;
            } else {
                index_concat_branch_178957 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178959;
            
            if (index_concat_cmp_177297) {
                int64_t index_concat_178960 = ((int64_t *) mem_180350)[index_concat_i_177298];
                
                index_concat_branch_178959 = index_concat_178960;
            } else {
                index_concat_branch_178959 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_180756, &mem_180729, "mem_180729") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_180753, &mem_180728, "mem_180728") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_180750, &mem_180726, "mem_180726") != 0)
                return 1;
            loopres_174524 = index_concat_branch_178957;
            loopres_174525 = index_concat_branch_178959;
        } else {
            double leq_lhs_175515 = ((double *) a_list_mem_179986.mem)[p_174496];
            double leq_rhs_175518 = ((double *) b_list_mem_179987.mem)[p_174497];
            bool defunc_0_leq_res_175519 = leq_lhs_175515 <= leq_rhs_175518;
            double lowest_175520;
            
            if (defunc_0_leq_res_175519) {
                bool index_certs_178961;
                
                if (!y_175513) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_175520 = leq_lhs_175515;
            } else {
                bool index_certs_175525;
                
                if (!y_175513) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_175520 = leq_rhs_175518;
            }
            if (mem_180003_cached_sizze_181728 < bytes_180002) {
                err = lexical_realloc(ctx, &mem_180003, &mem_180003_cached_sizze_181728, bytes_180002);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180005_cached_sizze_181729 < bytes_180002) {
                err = lexical_realloc(ctx, &mem_180005, &mem_180005_cached_sizze_181729, bytes_180002);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_179736 = 0; i_179736 < threads_162233; i_179736++) {
                int64_t index_primexp_179952 = add64((int64_t) 1, i_179736);
                int64_t zs_lhs_175541 = mul64(zt_rhs_175534, index_primexp_179952);
                int64_t index_175542 = sdiv64(zs_lhs_175541, partitionFunc_arg0_175511);
                bool cond_175543 = slt64(window_sizze_162232, index_175542);
                int64_t loop_over_175544;
                
                if (cond_175543) {
                    loop_over_175544 = window_sizze_162232;
                } else {
                    loop_over_175544 = index_175542;
                }
                
                int64_t loop_over_175545;
                
                if (cond_175543) {
                    int64_t loop_over_t_res_178962 = sub64(index_175542, window_sizze_162232);
                    
                    loop_over_175545 = loop_over_t_res_178962;
                } else {
                    loop_over_175545 = (int64_t) 0;
                }
                
                int64_t loop_over_175547;
                
                if (cond_175543) {
                    int64_t zm_lhs_178963 = sub64(index_175542, window_sizze_162232);
                    int64_t loop_over_t_res_178964 = sub64(zm_lhs_178963, (int64_t) 1);
                    
                    loop_over_175547 = loop_over_t_res_178964;
                } else {
                    loop_over_175547 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_175550;
                int64_t defunc_0_f_res_175551;
                int64_t defunc_0_f_res_175552;
                int64_t defunc_0_f_res_175553;
                bool loop_while_175554;
                int64_t p_175555;
                int64_t p_175556;
                int64_t p_175557;
                
                loop_while_175554 = 1;
                p_175555 = loop_over_175547;
                p_175556 = loop_over_175544;
                p_175557 = loop_over_175545;
                while (loop_while_175554) {
                    int64_t zs_lhs_175558 = sub64(p_175556, p_175555);
                    int64_t offset_175559 = sdiv64(zs_lhs_175558, (int64_t) 2);
                    int64_t ai_175560 = sub64(p_175556, offset_175559);
                    int64_t max_arg1_175561 = add64(p_175557, offset_175559);
                    int64_t max_res_175562 = smax64((int64_t) 0, max_arg1_175561);
                    bool cond_175563 = slt64((int64_t) 0, max_res_175562);
                    double b_prev_175564;
                    
                    if (cond_175563) {
                        int64_t tmp_178965 = sub64(max_res_175562, (int64_t) 1);
                        bool x_178966 = sle64((int64_t) 0, tmp_178965);
                        bool y_178967 = slt64(tmp_178965, window_sizze_162232);
                        bool bounds_check_178968 = x_178966 && y_178967;
                        bool index_certs_178969;
                        
                        if (!bounds_check_178968) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178965, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_178970 = p_174497 + tmp_178965;
                        double b_prev_t_res_178971 = ((double *) b_list_mem_179987.mem)[slice_178970];
                        
                        b_prev_175564 = b_prev_t_res_178971;
                    } else {
                        b_prev_175564 = lowest_175520;
                    }
                    
                    bool cond_175571 = sle64(ai_175560, (int64_t) 0);
                    int64_t loopres_175572;
                    int64_t loopres_175573;
                    int64_t loopres_175574;
                    bool loopres_175575;
                    
                    if (cond_175571) {
                        loopres_175572 = p_175555;
                        loopres_175573 = (int64_t) 0;
                        loopres_175574 = max_res_175562;
                        loopres_175575 = 0;
                    } else {
                        bool cond_175576 = sle64(window_sizze_162232, max_res_175562);
                        int64_t loopres_f_res_175577;
                        int64_t loopres_f_res_175578;
                        int64_t loopres_f_res_175579;
                        bool loopres_f_res_175580;
                        
                        if (cond_175576) {
                            int64_t min_res_178973 = smin64(m_174485, ai_175560);
                            bool x_178974 = sle64((int64_t) 0, m_174485);
                            bool y_178975 = slt64(m_174485, window_sizze_162232);
                            bool bounds_check_178976 = x_178974 && y_178975;
                            bool index_certs_178977;
                            
                            if (!bounds_check_178976) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174485, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_178980 = sle64((int64_t) 0, min_res_178973);
                            bool y_178981 = slt64(min_res_178973, window_sizze_162232);
                            bool bounds_check_178982 = x_178980 && y_178981;
                            bool index_certs_178983;
                            
                            if (!bounds_check_178982) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178973, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            double leq_lhs_178979 = ((double *) b_list_mem_179987.mem)[i_p_m_t_s_174513];
                            int64_t slice_178984 = p_174496 + min_res_178973;
                            double leq_rhs_178985 = ((double *) a_list_mem_179986.mem)[slice_178984];
                            bool defunc_0_leq_res_178986 = leq_lhs_178979 <= leq_rhs_178985;
                            int64_t loopres_f_res_t_res_178987;
                            
                            if (defunc_0_leq_res_178986) {
                                loopres_f_res_t_res_178987 = ai_175560;
                            } else {
                                loopres_f_res_t_res_178987 = p_175556;
                            }
                            
                            bool x_178988 = !defunc_0_leq_res_178986;
                            int64_t loopres_f_res_t_res_178989;
                            
                            if (defunc_0_leq_res_178986) {
                                loopres_f_res_t_res_178989 = window_sizze_162232;
                            } else {
                                int64_t tmp_178990 = sub64(m_174485, offset_175559);
                                
                                loopres_f_res_t_res_178989 = tmp_178990;
                            }
                            loopres_f_res_175577 = p_175555;
                            loopres_f_res_175578 = loopres_f_res_t_res_178987;
                            loopres_f_res_175579 = loopres_f_res_t_res_178989;
                            loopres_f_res_175580 = x_178988;
                        } else {
                            bool cond_175598 = sle64(window_sizze_162232, ai_175560);
                            int64_t loopres_f_res_f_res_175599;
                            int64_t loopres_f_res_f_res_175600;
                            int64_t loopres_f_res_f_res_175601;
                            bool loopres_f_res_f_res_175602;
                            
                            if (cond_175598) {
                                int64_t min_res_178992 = smin64(m_174485, max_res_175562);
                                bool x_178993 = sle64((int64_t) 0, m_174485);
                                bool y_178994 = slt64(m_174485, window_sizze_162232);
                                bool bounds_check_178995 = x_178993 && y_178994;
                                bool index_certs_178996;
                                
                                if (!bounds_check_178995) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174485, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178999 = sle64((int64_t) 0, min_res_178992);
                                bool y_179000 = slt64(min_res_178992, window_sizze_162232);
                                bool bounds_check_179001 = x_178999 && y_179000;
                                bool index_certs_179002;
                                
                                if (!bounds_check_179001) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178992, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                double leq_lhs_178998 = ((double *) a_list_mem_179986.mem)[i_p_m_t_s_174502];
                                int64_t slice_179003 = p_174497 + min_res_178992;
                                double leq_rhs_179004 = ((double *) b_list_mem_179987.mem)[slice_179003];
                                bool defunc_0_leq_res_179005 = leq_lhs_178998 <= leq_rhs_179004;
                                int64_t loopres_f_res_f_res_t_res_179006;
                                
                                if (defunc_0_leq_res_179005) {
                                    loopres_f_res_f_res_t_res_179006 = max_res_175562;
                                } else {
                                    loopres_f_res_f_res_t_res_179006 = p_175557;
                                }
                                
                                bool x_179007 = !defunc_0_leq_res_179005;
                                int64_t loopres_f_res_f_res_t_res_179008;
                                
                                if (defunc_0_leq_res_179005) {
                                    loopres_f_res_f_res_t_res_179008 = window_sizze_162232;
                                } else {
                                    loopres_f_res_f_res_t_res_179008 = m_174485;
                                }
                                loopres_f_res_f_res_175599 = p_175555;
                                loopres_f_res_f_res_175600 = loopres_f_res_f_res_t_res_179008;
                                loopres_f_res_f_res_175601 = loopres_f_res_f_res_t_res_179006;
                                loopres_f_res_f_res_175602 = x_179007;
                            } else {
                                bool cond_175619 = sle64(p_175556, p_175555);
                                int64_t loopres_f_res_f_res_f_res_175620;
                                int64_t loopres_f_res_f_res_f_res_175621;
                                int64_t loopres_f_res_f_res_f_res_175622;
                                bool loopres_f_res_f_res_f_res_175623;
                                
                                if (cond_175619) {
                                    bool cond_179047 = slt64(ai_175560, window_sizze_162232);
                                    int64_t ai_179048;
                                    
                                    if (cond_179047) {
                                        ai_179048 = ai_175560;
                                    } else {
                                        ai_179048 = m_174485;
                                    }
                                    
                                    bool x_179061 = sle64((int64_t) 0, ai_179048);
                                    bool y_179062 = slt64(ai_179048, window_sizze_162232);
                                    bool bounds_check_179063 = x_179061 && y_179062;
                                    bool index_certs_179064;
                                    
                                    if (!bounds_check_179063) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179048, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    double b_prev_179050;
                                    
                                    if (cond_175563) {
                                        int64_t tmp_179051 = sub64(max_res_175562, (int64_t) 1);
                                        bool x_179052 = sle64((int64_t) 0, tmp_179051);
                                        bool y_179053 = slt64(tmp_179051, window_sizze_162232);
                                        bool bounds_check_179054 = x_179052 && y_179053;
                                        bool index_certs_179055;
                                        
                                        if (!bounds_check_179054) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179051, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179056 = p_174497 + tmp_179051;
                                        double b_prev_t_res_179057 = ((double *) b_list_mem_179987.mem)[slice_179056];
                                        
                                        b_prev_179050 = b_prev_t_res_179057;
                                    } else {
                                        bool index_certs_179059;
                                        
                                        if (!y_175513) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179050 = leq_rhs_175518;
                                    }
                                    
                                    int64_t slice_179065 = p_174496 + ai_179048;
                                    double gt_lhs_179066 = ((double *) a_list_mem_179986.mem)[slice_179065];
                                    bool defunc_0_gt_res_179067 = b_prev_179050 < gt_lhs_179066;
                                    int64_t defunc_0_partFunc_sequential_search_res_179068;
                                    int64_t defunc_0_partFunc_sequential_search_res_179069;
                                    
                                    if (defunc_0_gt_res_179067) {
                                        int64_t zl_rhs_179070 = sub64(window_sizze_162232, max_res_175562);
                                        bool loop_cond_179071 = slt64((int64_t) 0, zl_rhs_179070);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179072;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179073;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179074;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179075;
                                        bool loop_while_179076;
                                        int64_t p_179077;
                                        int64_t p_179078;
                                        int64_t p_179079;
                                        
                                        loop_while_179076 = loop_cond_179071;
                                        p_179077 = ai_179048;
                                        p_179078 = max_res_175562;
                                        p_179079 = (int64_t) 0;
                                        while (loop_while_179076) {
                                            int64_t i_a_179080 = sub64(ai_179048, p_179079);
                                            int64_t i_b_179081 = add64(max_res_175562, p_179079);
                                            int64_t leq_lhs_179082 = sub64(i_a_179080, (int64_t) 1);
                                            bool x_179083 = sle64((int64_t) 0, leq_lhs_179082);
                                            bool y_179084 = slt64(leq_lhs_179082, window_sizze_162232);
                                            bool bounds_check_179085 = x_179083 && y_179084;
                                            bool index_certs_179086;
                                            
                                            if (!bounds_check_179085) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179082, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179089 = sle64((int64_t) 0, i_b_179081);
                                            bool y_179090 = slt64(i_b_179081, window_sizze_162232);
                                            bool bounds_check_179091 = x_179089 && y_179090;
                                            bool index_certs_179092;
                                            
                                            if (!bounds_check_179091) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179081, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179087 = p_174496 + leq_lhs_179082;
                                            double leq_lhs_179088 = ((double *) a_list_mem_179986.mem)[slice_179087];
                                            int64_t slice_179093 = p_174497 + i_b_179081;
                                            double leq_rhs_179094 = ((double *) b_list_mem_179987.mem)[slice_179093];
                                            bool defunc_0_leq_res_179095 = leq_lhs_179088 <= leq_rhs_179094;
                                            int64_t loopres_179096;
                                            
                                            if (defunc_0_leq_res_179095) {
                                                loopres_179096 = i_a_179080;
                                            } else {
                                                loopres_179096 = ai_179048;
                                            }
                                            
                                            int64_t loopres_179097;
                                            
                                            if (defunc_0_leq_res_179095) {
                                                loopres_179097 = i_b_179081;
                                            } else {
                                                loopres_179097 = max_res_175562;
                                            }
                                            
                                            int64_t loopres_179098;
                                            
                                            if (defunc_0_leq_res_179095) {
                                                loopres_179098 = zl_rhs_179070;
                                            } else {
                                                int64_t tmp_179099 = add64((int64_t) 1, p_179079);
                                                
                                                loopres_179098 = tmp_179099;
                                            }
                                            
                                            bool loop_cond_179100 = slt64(loopres_179098, zl_rhs_179070);
                                            bool loop_while_tmp_181512 = loop_cond_179100;
                                            int64_t p_tmp_181513 = loopres_179096;
                                            int64_t p_tmp_181514 = loopres_179097;
                                            int64_t p_tmp_181515 = loopres_179098;
                                            
                                            loop_while_179076 = loop_while_tmp_181512;
                                            p_179077 = p_tmp_181513;
                                            p_179078 = p_tmp_181514;
                                            p_179079 = p_tmp_181515;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179072 = loop_while_179076;
                                        defunc_0_partFunc_sequential_search_res_t_res_179073 = p_179077;
                                        defunc_0_partFunc_sequential_search_res_t_res_179074 = p_179078;
                                        defunc_0_partFunc_sequential_search_res_t_res_179075 = p_179079;
                                        defunc_0_partFunc_sequential_search_res_179068 = defunc_0_partFunc_sequential_search_res_t_res_179073;
                                        defunc_0_partFunc_sequential_search_res_179069 = defunc_0_partFunc_sequential_search_res_t_res_179074;
                                    } else {
                                        int64_t zl_rhs_179101 = sub64(max_res_175562, (int64_t) 1);
                                        bool loop_cond_179102 = slt64((int64_t) 0, zl_rhs_179101);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179103;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179104;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179105;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179106;
                                        bool loop_while_179107;
                                        int64_t p_179108;
                                        int64_t p_179109;
                                        int64_t p_179110;
                                        
                                        loop_while_179107 = loop_cond_179102;
                                        p_179108 = ai_179048;
                                        p_179109 = max_res_175562;
                                        p_179110 = (int64_t) 0;
                                        while (loop_while_179107) {
                                            int64_t zp_lhs_179111 = add64(ai_179048, p_179110);
                                            int64_t hi_a_179112 = add64((int64_t) 1, zp_lhs_179111);
                                            bool cond_179113 = slt64(hi_a_179112, window_sizze_162232);
                                            int64_t i_a_179114;
                                            
                                            if (cond_179113) {
                                                i_a_179114 = hi_a_179112;
                                            } else {
                                                i_a_179114 = m_174485;
                                            }
                                            
                                            int64_t zm_lhs_179116 = sub64(max_res_175562, p_179110);
                                            int64_t i_b_179117 = sub64(zm_lhs_179116, (int64_t) 1);
                                            bool x_179118 = sle64((int64_t) 0, i_a_179114);
                                            bool y_179119 = slt64(i_a_179114, window_sizze_162232);
                                            bool bounds_check_179120 = x_179118 && y_179119;
                                            bool index_certs_179121;
                                            
                                            if (!bounds_check_179120) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179114, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179124 = sle64((int64_t) 0, i_b_179117);
                                            bool y_179125 = slt64(i_b_179117, window_sizze_162232);
                                            bool bounds_check_179126 = x_179124 && y_179125;
                                            bool index_certs_179127;
                                            
                                            if (!bounds_check_179126) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179117, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179122 = p_174496 + i_a_179114;
                                            double gt_lhs_179123 = ((double *) a_list_mem_179986.mem)[slice_179122];
                                            int64_t slice_179128 = p_174497 + i_b_179117;
                                            double gt_rhs_179129 = ((double *) b_list_mem_179987.mem)[slice_179128];
                                            bool defunc_0_gt_res_179130 = gt_rhs_179129 < gt_lhs_179123;
                                            int64_t loopres_179131;
                                            
                                            if (defunc_0_gt_res_179130) {
                                                loopres_179131 = i_a_179114;
                                            } else {
                                                loopres_179131 = ai_179048;
                                            }
                                            
                                            int64_t loopres_179132;
                                            
                                            if (defunc_0_gt_res_179130) {
                                                loopres_179132 = zm_lhs_179116;
                                            } else {
                                                loopres_179132 = max_res_175562;
                                            }
                                            
                                            int64_t loopres_179133;
                                            
                                            if (defunc_0_gt_res_179130) {
                                                loopres_179133 = zl_rhs_179101;
                                            } else {
                                                int64_t tmp_179134 = add64((int64_t) 1, p_179110);
                                                
                                                loopres_179133 = tmp_179134;
                                            }
                                            
                                            bool loop_cond_179135 = slt64(loopres_179133, zl_rhs_179101);
                                            bool loop_while_tmp_181516 = loop_cond_179135;
                                            int64_t p_tmp_181517 = loopres_179131;
                                            int64_t p_tmp_181518 = loopres_179132;
                                            int64_t p_tmp_181519 = loopres_179133;
                                            
                                            loop_while_179107 = loop_while_tmp_181516;
                                            p_179108 = p_tmp_181517;
                                            p_179109 = p_tmp_181518;
                                            p_179110 = p_tmp_181519;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179103 = loop_while_179107;
                                        defunc_0_partFunc_sequential_search_res_f_res_179104 = p_179108;
                                        defunc_0_partFunc_sequential_search_res_f_res_179105 = p_179109;
                                        defunc_0_partFunc_sequential_search_res_f_res_179106 = p_179110;
                                        defunc_0_partFunc_sequential_search_res_179068 = defunc_0_partFunc_sequential_search_res_f_res_179104;
                                        defunc_0_partFunc_sequential_search_res_179069 = defunc_0_partFunc_sequential_search_res_f_res_179105;
                                    }
                                    loopres_f_res_f_res_f_res_175620 = p_175555;
                                    loopres_f_res_f_res_f_res_175621 = defunc_0_partFunc_sequential_search_res_179068;
                                    loopres_f_res_f_res_f_res_175622 = defunc_0_partFunc_sequential_search_res_179069;
                                    loopres_f_res_f_res_f_res_175623 = 0;
                                } else {
                                    bool x_175707 = sle64((int64_t) 0, ai_175560);
                                    bool y_175708 = slt64(ai_175560, window_sizze_162232);
                                    bool bounds_check_175709 = x_175707 && y_175708;
                                    bool index_certs_175710;
                                    
                                    if (!bounds_check_175709) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_175560, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_177376 = p_174496 + ai_175560;
                                    double gt_lhs_175711 = ((double *) a_list_mem_179986.mem)[slice_177376];
                                    bool defunc_0_gt_res_175712 = b_prev_175564 < gt_lhs_175711;
                                    int64_t loopres_f_res_f_res_f_res_f_res_175713;
                                    int64_t loopres_f_res_f_res_f_res_f_res_175714;
                                    int64_t loopres_f_res_f_res_f_res_f_res_175715;
                                    bool loopres_f_res_f_res_f_res_f_res_175716;
                                    
                                    if (defunc_0_gt_res_175712) {
                                        int64_t leq_lhs_179136 = sub64(ai_175560, (int64_t) 1);
                                        bool x_179137 = sle64((int64_t) 0, leq_lhs_179136);
                                        bool y_179138 = slt64(leq_lhs_179136, window_sizze_162232);
                                        bool bounds_check_179139 = x_179137 && y_179138;
                                        bool index_certs_179140;
                                        
                                        if (!bounds_check_179139) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179136, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179143 = sle64((int64_t) 0, max_res_175562);
                                        bool y_179144 = slt64(max_res_175562, window_sizze_162232);
                                        bool bounds_check_179145 = x_179143 && y_179144;
                                        bool index_certs_179146;
                                        
                                        if (!bounds_check_179145) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_175562, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179141 = p_174496 + leq_lhs_179136;
                                        double leq_lhs_179142 = ((double *) a_list_mem_179986.mem)[slice_179141];
                                        int64_t slice_179147 = p_174497 + max_res_175562;
                                        double leq_rhs_179148 = ((double *) b_list_mem_179987.mem)[slice_179147];
                                        bool defunc_0_leq_res_179149 = leq_lhs_179142 <= leq_rhs_179148;
                                        bool x_179150 = !defunc_0_leq_res_179149;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179151;
                                        
                                        if (defunc_0_leq_res_179149) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179151 = ai_175560;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179151 = leq_lhs_179136;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179152;
                                        
                                        if (defunc_0_leq_res_179149) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179152 = max_res_175562;
                                        } else {
                                            int64_t tmp_179153 = add64((int64_t) 1, max_res_175562);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179152 = tmp_179153;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_175713 = p_175555;
                                        loopres_f_res_f_res_f_res_f_res_175714 = loopres_f_res_f_res_f_res_f_res_t_res_179151;
                                        loopres_f_res_f_res_f_res_f_res_175715 = loopres_f_res_f_res_f_res_f_res_t_res_179152;
                                        loopres_f_res_f_res_f_res_f_res_175716 = x_179150;
                                    } else {
                                        int64_t tmp_175733 = add64((int64_t) 1, ai_175560);
                                        
                                        loopres_f_res_f_res_f_res_f_res_175713 = tmp_175733;
                                        loopres_f_res_f_res_f_res_f_res_175714 = p_175556;
                                        loopres_f_res_f_res_f_res_f_res_175715 = p_175557;
                                        loopres_f_res_f_res_f_res_f_res_175716 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_175620 = loopres_f_res_f_res_f_res_f_res_175713;
                                    loopres_f_res_f_res_f_res_175621 = loopres_f_res_f_res_f_res_f_res_175714;
                                    loopres_f_res_f_res_f_res_175622 = loopres_f_res_f_res_f_res_f_res_175715;
                                    loopres_f_res_f_res_f_res_175623 = loopres_f_res_f_res_f_res_f_res_175716;
                                }
                                loopres_f_res_f_res_175599 = loopres_f_res_f_res_f_res_175620;
                                loopres_f_res_f_res_175600 = loopres_f_res_f_res_f_res_175621;
                                loopres_f_res_f_res_175601 = loopres_f_res_f_res_f_res_175622;
                                loopres_f_res_f_res_175602 = loopres_f_res_f_res_f_res_175623;
                            }
                            loopres_f_res_175577 = loopres_f_res_f_res_175599;
                            loopres_f_res_175578 = loopres_f_res_f_res_175600;
                            loopres_f_res_175579 = loopres_f_res_f_res_175601;
                            loopres_f_res_175580 = loopres_f_res_f_res_175602;
                        }
                        loopres_175572 = loopres_f_res_175577;
                        loopres_175573 = loopres_f_res_175578;
                        loopres_175574 = loopres_f_res_175579;
                        loopres_175575 = loopres_f_res_175580;
                    }
                    
                    bool loop_while_tmp_181508 = loopres_175575;
                    int64_t p_tmp_181509 = loopres_175572;
                    int64_t p_tmp_181510 = loopres_175573;
                    int64_t p_tmp_181511 = loopres_175574;
                    
                    loop_while_175554 = loop_while_tmp_181508;
                    p_175555 = p_tmp_181509;
                    p_175556 = p_tmp_181510;
                    p_175557 = p_tmp_181511;
                }
                defunc_0_f_res_175550 = loop_while_175554;
                defunc_0_f_res_175551 = p_175555;
                defunc_0_f_res_175552 = p_175556;
                defunc_0_f_res_175553 = p_175557;
                ((int64_t *) mem_180003)[i_179736] = defunc_0_f_res_175552;
                ((int64_t *) mem_180005)[i_179736] = defunc_0_f_res_175553;
            }
            if (memblock_alloc(ctx, &mem_180018, window_sizze_162232, "mem_180018")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181520 = 0; nest_i_181520 < window_sizze_162232; nest_i_181520++) {
                ((int8_t *) mem_180018.mem)[nest_i_181520] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180020, bytes_180019, "mem_180020")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181521 = 0; nest_i_181521 < window_sizze_162232; nest_i_181521++) {
                ((int64_t *) mem_180020.mem)[nest_i_181521] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180022, bytes_180019, "mem_180022")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181522 = 0; nest_i_181522 < window_sizze_162232; nest_i_181522++) {
                ((double *) mem_180022.mem)[nest_i_181522] = 0.0;
            }
            
            bool defunc_0_mergeFunc_seq_res_175760;
            int64_t defunc_0_mergeFunc_seq_res_175761;
            bool loop_while_175765;
            int64_t p_175766;
            
            loop_while_175765 = loop_cond_175759;
            p_175766 = (int64_t) 0;
            while (loop_while_175765) {
                bool x_175770 = sle64((int64_t) 0, p_175766);
                bool y_175771 = slt64(p_175766, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
                bool bounds_check_175772 = x_175770 && y_175771;
                bool index_certs_175773;
                
                if (!bounds_check_175772) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175766, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_177359 = sle64((int64_t) 1, p_175766);
                int64_t index_concat_i_177360 = sub64(p_175766, (int64_t) 1);
                int64_t index_concat_177361;
                
                if (index_concat_cmp_177359) {
                    int64_t x_179154 = ((int64_t *) mem_180003)[index_concat_i_177360];
                    
                    index_concat_177361 = x_179154;
                } else {
                    index_concat_177361 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177363;
                
                if (index_concat_cmp_177359) {
                    index_concat_branch_177363 = index_concat_177361;
                } else {
                    index_concat_branch_177363 = (int64_t) 0;
                }
                
                int64_t index_concat_177355;
                
                if (index_concat_cmp_177359) {
                    int64_t x_179155 = ((int64_t *) mem_180005)[index_concat_i_177360];
                    
                    index_concat_177355 = x_179155;
                } else {
                    index_concat_177355 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177357;
                
                if (index_concat_cmp_177359) {
                    index_concat_branch_177357 = index_concat_177355;
                } else {
                    index_concat_branch_177357 = (int64_t) 0;
                }
                
                int64_t ubs_175776 = add64((int64_t) 1, p_175766);
                bool x_175777 = sle64((int64_t) 0, ubs_175776);
                bool y_175778 = slt64(ubs_175776, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
                bool bounds_check_175779 = x_175777 && y_175778;
                bool index_certs_175780;
                
                if (!bounds_check_175779) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_175776, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_177347 = sle64((int64_t) 1, ubs_175776);
                int64_t index_concat_177349;
                
                if (index_concat_cmp_177347) {
                    int64_t x_179156 = ((int64_t *) mem_180003)[p_175766];
                    
                    index_concat_177349 = x_179156;
                } else {
                    index_concat_177349 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177351;
                
                if (index_concat_cmp_177347) {
                    index_concat_branch_177351 = index_concat_177349;
                } else {
                    index_concat_branch_177351 = (int64_t) 0;
                }
                
                int64_t index_concat_177343;
                
                if (index_concat_cmp_177347) {
                    int64_t x_179157 = ((int64_t *) mem_180005)[p_175766];
                    
                    index_concat_177343 = x_179157;
                } else {
                    index_concat_177343 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177345;
                
                if (index_concat_cmp_177347) {
                    index_concat_branch_177345 = index_concat_177343;
                } else {
                    index_concat_branch_177345 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783 = sub64(index_concat_branch_177345, index_concat_branch_177357);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784 = sub64(index_concat_branch_177351, index_concat_branch_177363);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                int64_t ind_bottom_175786 = add64(index_concat_branch_177357, index_concat_branch_177363);
                int64_t ind_top_175787 = add64(index_concat_branch_177345, index_concat_branch_177351);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788 = sub64(ind_top_175787, ind_bottom_175786);
                bool empty_slice_175789 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784 == (int64_t) 0;
                int64_t m_175790 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, (int64_t) 1);
                int64_t i_p_m_t_s_175791 = add64(m_175790, index_concat_branch_177363);
                bool zzero_leq_i_p_m_t_s_175792 = sle64((int64_t) 0, i_p_m_t_s_175791);
                bool i_p_m_t_s_leq_w_175793 = slt64(i_p_m_t_s_175791, window_sizze_162232);
                bool zzero_lte_i_175794 = sle64((int64_t) 0, index_concat_branch_177363);
                bool i_lte_j_175795 = sle64(index_concat_branch_177363, index_concat_branch_177351);
                bool y_175796 = i_p_m_t_s_leq_w_175793 && zzero_lte_i_175794;
                bool y_175797 = zzero_leq_i_p_m_t_s_175792 && y_175796;
                bool forwards_ok_175798 = i_lte_j_175795 && y_175797;
                bool ok_or_empty_175799 = empty_slice_175789 || forwards_ok_175798;
                bool index_certs_175800;
                
                if (!ok_or_empty_175799) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_177363, ":", (long long) index_concat_branch_177351, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_175801 = slt64(index_concat_branch_177351, index_concat_branch_177363);
                bool valid_175802 = !bounds_invalid_upwards_175801;
                bool range_valid_c_175803;
                
                if (!valid_175802) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_177363, "..<", (long long) index_concat_branch_177351, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_175809 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783 == (int64_t) 0;
                int64_t m_175810 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783, (int64_t) 1);
                int64_t i_p_m_t_s_175811 = add64(m_175810, index_concat_branch_177357);
                bool zzero_leq_i_p_m_t_s_175812 = sle64((int64_t) 0, i_p_m_t_s_175811);
                bool i_p_m_t_s_leq_w_175813 = slt64(i_p_m_t_s_175811, window_sizze_162232);
                bool zzero_lte_i_175814 = sle64((int64_t) 0, index_concat_branch_177357);
                bool i_lte_j_175815 = sle64(index_concat_branch_177357, index_concat_branch_177345);
                bool y_175816 = i_p_m_t_s_leq_w_175813 && zzero_lte_i_175814;
                bool y_175817 = zzero_leq_i_p_m_t_s_175812 && y_175816;
                bool forwards_ok_175818 = i_lte_j_175815 && y_175817;
                bool ok_or_empty_175819 = empty_slice_175809 || forwards_ok_175818;
                bool index_certs_175820;
                
                if (!ok_or_empty_175819) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_177357, ":", (long long) index_concat_branch_177345, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_175821 = slt64(index_concat_branch_177345, index_concat_branch_177357);
                bool valid_175822 = !bounds_invalid_upwards_175821;
                bool range_valid_c_175823;
                
                if (!valid_175822) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_177357, "..<", (long long) index_concat_branch_177345, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180039 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785;
                bool cond_175832 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, (int64_t) 1);
                int64_t zs_lhs_175833 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, (int64_t) 1);
                int64_t zp_rhs_175834 = sdiv_safe64(zs_lhs_175833, (int64_t) 20);
                int64_t min_num_blocks_175835 = add64((int64_t) 1, zp_rhs_175834);
                bool loop_cond_175836 = slt64((int64_t) 1, min_num_blocks_175835);
                bool smallest_pow_2_geq_than_res_175837;
                int64_t smallest_pow_2_geq_than_res_175838;
                bool loop_while_175839;
                int64_t x_175840;
                
                loop_while_175839 = loop_cond_175836;
                x_175840 = (int64_t) 1;
                while (loop_while_175839) {
                    int64_t loopres_175841 = mul64((int64_t) 2, x_175840);
                    bool loop_cond_175842 = slt64(loopres_175841, min_num_blocks_175835);
                    bool loop_while_tmp_181528 = loop_cond_175842;
                    int64_t x_tmp_181529 = loopres_175841;
                    
                    loop_while_175839 = loop_while_tmp_181528;
                    x_175840 = x_tmp_181529;
                }
                smallest_pow_2_geq_than_res_175837 = loop_while_175839;
                smallest_pow_2_geq_than_res_175838 = x_175840;
                
                bool zzero_175843 = smallest_pow_2_geq_than_res_175838 == (int64_t) 0;
                bool nonzzero_175844 = !zzero_175843;
                bool protect_assert_disj_175845 = cond_175832 || nonzzero_175844;
                bool nonzzero_cert_175846;
                
                if (!protect_assert_disj_175845) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_175847 = sdiv_safe64(zs_lhs_175833, smallest_pow_2_geq_than_res_175838);
                int64_t block_sizze_175848 = add64((int64_t) 1, zp_rhs_175847);
                bool y_175855 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785);
                bool protect_assert_disj_181192 = cond_175832 || y_175855;
                bool index_certs_175856;
                
                if (!protect_assert_disj_181192) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_175882 = slt64(smallest_pow_2_geq_than_res_175838, (int64_t) 0);
                bool valid_175883 = !bounds_invalid_upwards_175882;
                bool protect_assert_disj_181202 = cond_175832 || valid_175883;
                bool range_valid_c_175884;
                
                if (!protect_assert_disj_181202) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_175838, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_175886 = slt64(block_sizze_175848, (int64_t) 0);
                bool valid_175887 = !bounds_invalid_upwards_175886;
                bool protect_assert_disj_181204 = cond_175832 || valid_175887;
                bool range_valid_c_175888;
                
                if (!protect_assert_disj_181204) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_175848, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_175890 = sle64(block_sizze_175848, (int64_t) 1);
                int64_t tmp_175891 = sub64(block_sizze_175848, (int64_t) 2);
                bool bounds_invalid_upwards_175892 = slt64(tmp_175891, (int64_t) 0);
                bool valid_175894 = !bounds_invalid_upwards_175892;
                bool protect_assert_disj_175895 = cond_175890 || valid_175894;
                bool protect_assert_disj_181206 = cond_175832 || protect_assert_disj_175895;
                bool range_valid_c_175896;
                
                if (!protect_assert_disj_181206) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_175891, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_176457 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785;
                bool empty_or_match_cert_176458;
                
                if (!dim_match_176457) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788, "](i8, i64, f64)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176459 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788 == (int64_t) 0;
                int64_t m_176460 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_176461 = sle64((int64_t) 0, m_176460);
                bool i_p_m_t_s_leq_w_176462 = slt64(m_176460, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788);
                bool y_176463 = zzero_leq_i_p_m_t_s_176461 && i_p_m_t_s_leq_w_176462;
                bool ok_or_empty_176464 = empty_slice_176459 || y_176463;
                bool index_certs_176465;
                
                if (!ok_or_empty_176464) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_176466 = add64(ind_bottom_175786, m_176460);
                bool zzero_leq_i_p_m_t_s_176467 = sle64((int64_t) 0, i_p_m_t_s_176466);
                bool i_p_m_t_s_leq_w_176468 = slt64(i_p_m_t_s_176466, window_sizze_162232);
                bool zzero_lte_i_176469 = sle64((int64_t) 0, ind_bottom_175786);
                bool i_lte_j_176470 = sle64(ind_bottom_175786, ind_top_175787);
                bool y_176471 = i_p_m_t_s_leq_w_176468 && zzero_lte_i_176469;
                bool y_176472 = zzero_leq_i_p_m_t_s_176467 && y_176471;
                bool forwards_ok_176473 = i_lte_j_176470 && y_176472;
                bool ok_or_empty_176474 = empty_slice_176459 || forwards_ok_176473;
                bool index_certs_176475;
                
                if (!ok_or_empty_176474) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175786, ":", (long long) ind_top_175787, "] out of bounds for array of shape [", (long long) window_sizze_162232, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_177339 = p_174496 + index_concat_branch_177363;
                
                if (memblock_alloc(ctx, &mem_180038, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "mem_180038")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_181530 = 0; nest_i_181530 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784; nest_i_181530++) {
                    ((int8_t *) mem_180038.mem)[nest_i_181530] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180040, bytes_180039, "mem_180040")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_181531 = 0; i_181531 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784; i_181531++) {
                    int64_t x_181532 = index_concat_branch_177363 + i_181531 * (int64_t) 1;
                    
                    ((int64_t *) mem_180040.mem)[i_181531] = x_181532;
                }
                
                int64_t slice_177338 = p_174497 + index_concat_branch_177357;
                
                for (int64_t nest_i_181533 = 0; nest_i_181533 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783; nest_i_181533++) {
                    ((int8_t *) mem_180038.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784 + nest_i_181533] = (int8_t) 1;
                }
                for (int64_t i_181534 = 0; i_181534 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783; i_181534++) {
                    int64_t x_181535 = index_concat_branch_177357 + i_181534 * (int64_t) 1;
                    
                    ((int64_t *) mem_180040.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784 + i_181534] = x_181535;
                }
                
                int64_t tmp_offs_181536 = (int64_t) 0;
                
                if (!(tmp_offs_181536 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180038.mem, tmp_offs_181536, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180038.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784});
                }
                tmp_offs_181536 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784;
                if (!(tmp_offs_181536 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180038.mem, tmp_offs_181536, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180038.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783});
                }
                tmp_offs_181536 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783;
                
                int64_t tmp_offs_181537 = (int64_t) 0;
                
                if (!(tmp_offs_181537 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180040.mem, tmp_offs_181537, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180040.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784});
                }
                tmp_offs_181537 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784;
                if (!(tmp_offs_181537 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180040.mem, tmp_offs_181537, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180040.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783});
                }
                tmp_offs_181537 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783;
                if (memblock_alloc(ctx, &mem_180042, bytes_180039, "mem_180042")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_181538 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180042.mem, tmp_offs_181538, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_179986.mem, slice_177339, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784});
                tmp_offs_181538 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180042.mem, tmp_offs_181538, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_179987.mem, slice_177338, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783});
                tmp_offs_181538 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783;
                
                int64_t flat_dim_175849 = smallest_pow_2_geq_than_res_175838 * block_sizze_175848;
                bool x_181187 = !cond_175832;
                int64_t greatest_divisor_leq_than_arg1_175853 = mul64((int64_t) 2, block_sizze_175848);
                int64_t merge_block_sizze_175854;
                
                if (x_181187) {
                    int64_t x_181189;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181189, (int64_t) 8, greatest_divisor_leq_than_arg1_175853) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_175854 = x_181189;
                } else {
                    merge_block_sizze_175854 = (int64_t) 0;
                }
                
                bool index_concat_cmp_177333 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, (int64_t) 0);
                int8_t index_concat_branch_177337 = btoi_bool_i8(index_concat_cmp_177333);
                int64_t index_concat_i_179158 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                int64_t index_primexp_179159 = add64(index_concat_branch_177357, index_concat_i_179158);
                int64_t index_concat_branch_177331;
                
                if (index_concat_cmp_177333) {
                    index_concat_branch_177331 = index_primexp_179159;
                } else {
                    index_concat_branch_177331 = index_concat_branch_177363;
                }
                
                bool x_181183 = !index_concat_cmp_177333;
                bool protect_cond_conj_181193 = x_181183 && x_181187;
                double index_concat_177324;
                
                if (protect_cond_conj_181193) {
                    double x_181185 = ((double *) a_list_mem_179986.mem)[slice_177339];
                    
                    index_concat_177324 = x_181185;
                } else {
                    index_concat_177324 = 0.0;
                }
                
                int64_t slice_179161 = slice_177338 + index_concat_i_179158;
                bool protect_cond_conj_181194 = index_concat_cmp_177333 && x_181187;
                double index_concat_179162;
                
                if (protect_cond_conj_181194) {
                    double x_181181 = ((double *) b_list_mem_179987.mem)[slice_179161];
                    
                    index_concat_179162 = x_181181;
                } else {
                    index_concat_179162 = 0.0;
                }
                
                double index_concat_branch_177325;
                
                if (index_concat_cmp_177333) {
                    index_concat_branch_177325 = index_concat_179162;
                } else {
                    index_concat_branch_177325 = index_concat_177324;
                }
                
                int8_t defunc_0_reduce_res_179393;
                int64_t defunc_0_reduce_res_179394;
                double defunc_0_reduce_res_179395;
                
                if (x_181187) {
                    int8_t x_181195;
                    int64_t x_181196;
                    double x_181197;
                    int8_t redout_179739;
                    int64_t redout_179740;
                    double redout_179741;
                    
                    redout_179739 = index_concat_branch_177337;
                    redout_179740 = index_concat_branch_177331;
                    redout_179741 = index_concat_branch_177325;
                    for (int64_t i_179742 = 0; i_179742 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785; i_179742++) {
                        bool index_concat_cmp_179946 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, i_179742);
                        int8_t index_concat_branch_179950 = btoi_bool_i8(index_concat_cmp_179946);
                        int64_t index_concat_branch_179944;
                        
                        if (index_concat_cmp_179946) {
                            int64_t index_concat_i_179941 = sub64(i_179742, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                            int64_t index_primexp_179968 = add64(index_concat_branch_177357, index_concat_i_179941);
                            
                            index_concat_branch_179944 = index_primexp_179968;
                        } else {
                            int64_t index_primexp_179970 = add64(index_concat_branch_177363, i_179742);
                            
                            index_concat_branch_179944 = index_primexp_179970;
                        }
                        
                        double index_concat_branch_179938;
                        
                        if (index_concat_cmp_179946) {
                            int64_t index_concat_i_179935 = sub64(i_179742, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                            int64_t slice_179965 = slice_177338 + index_concat_i_179935;
                            double index_concat_179936 = ((double *) b_list_mem_179987.mem)[slice_179965];
                            
                            index_concat_branch_179938 = index_concat_179936;
                        } else {
                            int64_t slice_179966 = slice_177339 + i_179742;
                            double index_concat_179937 = ((double *) a_list_mem_179986.mem)[slice_179966];
                            
                            index_concat_branch_179938 = index_concat_179937;
                        }
                        
                        bool eq_x_y_179981 = redout_179739 == (int8_t) 1;
                        bool eq_x_zz_179982 = redout_179739 == (int8_t) 0;
                        bool p_and_eq_x_y_179983 = index_concat_cmp_179946 && eq_x_y_179981;
                        bool not_p_179984 = !index_concat_cmp_179946;
                        bool p_and_eq_x_y_179985 = eq_x_zz_179982 && not_p_179984;
                        bool cond_175872 = p_and_eq_x_y_179983 || p_and_eq_x_y_179985;
                        bool defunc_0_leq_res_t_res_175873 = sle64(redout_179740, index_concat_branch_179944);
                        bool defunc_0_leq_res_175874 = redout_179741 <= index_concat_branch_179938;
                        bool x_175875 = cond_175872 && defunc_0_leq_res_t_res_175873;
                        bool x_175876 = !cond_175872;
                        bool y_175877 = defunc_0_leq_res_175874 && x_175876;
                        bool defunc_0_leq_res_175878 = x_175875 || y_175877;
                        int8_t defunc_0_op_res_175879;
                        
                        if (defunc_0_leq_res_175878) {
                            defunc_0_op_res_175879 = index_concat_branch_179950;
                        } else {
                            defunc_0_op_res_175879 = redout_179739;
                        }
                        
                        int64_t defunc_0_op_res_175880;
                        
                        if (defunc_0_leq_res_175878) {
                            defunc_0_op_res_175880 = index_concat_branch_179944;
                        } else {
                            defunc_0_op_res_175880 = redout_179740;
                        }
                        
                        double defunc_0_op_res_175881;
                        
                        if (defunc_0_leq_res_175878) {
                            defunc_0_op_res_175881 = index_concat_branch_179938;
                        } else {
                            defunc_0_op_res_175881 = redout_179741;
                        }
                        
                        int8_t redout_tmp_181539 = defunc_0_op_res_175879;
                        int64_t redout_tmp_181540 = defunc_0_op_res_175880;
                        double redout_tmp_181541 = defunc_0_op_res_175881;
                        
                        redout_179739 = redout_tmp_181539;
                        redout_179740 = redout_tmp_181540;
                        redout_179741 = redout_tmp_181541;
                    }
                    x_181195 = redout_179739;
                    x_181196 = redout_179740;
                    x_181197 = redout_179741;
                    defunc_0_reduce_res_179393 = x_181195;
                    defunc_0_reduce_res_179394 = x_181196;
                    defunc_0_reduce_res_179395 = x_181197;
                } else {
                    defunc_0_reduce_res_179393 = (int8_t) 0;
                    defunc_0_reduce_res_179394 = (int64_t) 0;
                    defunc_0_reduce_res_179395 = 0.0;
                }
                
                int64_t distance_175893 = add64((int64_t) 1, tmp_175891);
                int64_t binop_x_180045 = (int64_t) 8 * smallest_pow_2_geq_than_res_175838;
                int64_t bytes_180046 = block_sizze_175848 * binop_x_180045;
                int64_t bytes_180064 = (int64_t) 8 * block_sizze_175848;
                bool loop_cond_176002 = slt64(block_sizze_175848, flat_dim_175849);
                bool zzero_176003 = merge_block_sizze_175854 == (int64_t) 0;
                bool nonzzero_176004 = !zzero_176003;
                
                if (cond_175832) {
                    if (memblock_set(ctx, &ext_mem_180337, &mem_180038, "mem_180038") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180334, &mem_180040, "mem_180040") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180331, &mem_180042, "mem_180042") != 0)
                        return 1;
                } else {
                    if (mem_180044_cached_sizze_181730 < flat_dim_175849) {
                        err = lexical_realloc(ctx, &mem_180044, &mem_180044_cached_sizze_181730, flat_dim_175849);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180047_cached_sizze_181731 < bytes_180046) {
                        err = lexical_realloc(ctx, &mem_180047, &mem_180047_cached_sizze_181731, bytes_180046);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180050_cached_sizze_181732 < bytes_180046) {
                        err = lexical_realloc(ctx, &mem_180050, &mem_180050_cached_sizze_181732, bytes_180046);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180063_cached_sizze_181733 < block_sizze_175848) {
                        err = lexical_realloc(ctx, &mem_180063, &mem_180063_cached_sizze_181733, block_sizze_175848);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180065_cached_sizze_181734 < bytes_180064) {
                        err = lexical_realloc(ctx, &mem_180065, &mem_180065_cached_sizze_181734, bytes_180064);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180067_cached_sizze_181735 < bytes_180064) {
                        err = lexical_realloc(ctx, &mem_180067, &mem_180067_cached_sizze_181735, bytes_180064);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179759 = 0; i_179759 < smallest_pow_2_geq_than_res_175838; i_179759++) {
                        int64_t zp_lhs_175901 = mul64(block_sizze_175848, i_179759);
                        
                        for (int64_t i_179749 = 0; i_179749 < block_sizze_175848; i_179749++) {
                            int64_t k_175906 = add64(zp_lhs_175901, i_179749);
                            bool cond_175907 = slt64(k_175906, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785);
                            int8_t lifted_lambda_res_175908;
                            int64_t lifted_lambda_res_175909;
                            double lifted_lambda_res_175910;
                            
                            if (cond_175907) {
                                bool x_179168 = sle64((int64_t) 0, k_175906);
                                bool bounds_check_179169 = cond_175907 && x_179168;
                                bool index_certs_179170;
                                
                                if (!bounds_check_179169) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_175906, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179171 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, k_175906);
                                int8_t index_concat_branch_179172 = btoi_bool_i8(index_concat_cmp_179171);
                                int64_t index_concat_branch_179173;
                                
                                if (index_concat_cmp_179171) {
                                    int64_t index_concat_i_179174 = sub64(k_175906, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                                    int64_t index_primexp_179175 = add64(index_concat_branch_177357, index_concat_i_179174);
                                    
                                    index_concat_branch_179173 = index_primexp_179175;
                                } else {
                                    int64_t index_primexp_179176 = add64(k_175906, index_concat_branch_177363);
                                    
                                    index_concat_branch_179173 = index_primexp_179176;
                                }
                                
                                double index_concat_branch_179177;
                                
                                if (index_concat_cmp_179171) {
                                    int64_t index_concat_i_179178 = sub64(k_175906, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                                    int64_t slice_179179 = slice_177338 + index_concat_i_179178;
                                    double index_concat_179180 = ((double *) b_list_mem_179987.mem)[slice_179179];
                                    
                                    index_concat_branch_179177 = index_concat_179180;
                                } else {
                                    int64_t slice_179181 = k_175906 + slice_177339;
                                    double index_concat_179182 = ((double *) a_list_mem_179986.mem)[slice_179181];
                                    
                                    index_concat_branch_179177 = index_concat_179182;
                                }
                                lifted_lambda_res_175908 = index_concat_branch_179172;
                                lifted_lambda_res_175909 = index_concat_branch_179173;
                                lifted_lambda_res_175910 = index_concat_branch_179177;
                            } else {
                                lifted_lambda_res_175908 = defunc_0_reduce_res_179393;
                                lifted_lambda_res_175909 = defunc_0_reduce_res_179394;
                                lifted_lambda_res_175910 = defunc_0_reduce_res_179395;
                            }
                            ((int8_t *) mem_180063)[i_179749] = lifted_lambda_res_175908;
                            ((int64_t *) mem_180065)[i_179749] = lifted_lambda_res_175909;
                            ((double *) mem_180067)[i_179749] = lifted_lambda_res_175910;
                        }
                        if (!cond_175890) {
                            for (int64_t i_175923 = 0; i_175923 < distance_175893; i_175923++) {
                                int64_t gt_arg1_175927 = add64((int64_t) 1, i_175923);
                                bool x_175928 = sle64((int64_t) 0, gt_arg1_175927);
                                bool y_175929 = slt64(gt_arg1_175927, block_sizze_175848);
                                bool bounds_check_175930 = x_175928 && y_175929;
                                bool index_certs_175931;
                                
                                if (!bounds_check_175930) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_175927, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_175935 = slt64(i_175923, block_sizze_175848);
                                bool index_certs_175936;
                                
                                if (!y_175935) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_175923, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_175932 = ((int8_t *) mem_180063)[gt_arg1_175927];
                                int64_t gt_arg1_175933 = ((int64_t *) mem_180065)[gt_arg1_175927];
                                double gt_arg1_175934 = ((double *) mem_180067)[gt_arg1_175927];
                                int8_t gt_arg0_175937 = ((int8_t *) mem_180063)[i_175923];
                                int64_t gt_arg0_175938 = ((int64_t *) mem_180065)[i_175923];
                                double gt_arg0_175939 = ((double *) mem_180067)[i_175923];
                                bool cond_175940 = gt_arg0_175937 == gt_arg1_175932;
                                bool defunc_0_leq_res_t_res_175941 = sle64(gt_arg0_175938, gt_arg1_175933);
                                bool defunc_0_leq_res_175942 = gt_arg0_175939 <= gt_arg1_175934;
                                bool x_175943 = cond_175940 && defunc_0_leq_res_t_res_175941;
                                bool x_175944 = !cond_175940;
                                bool y_175945 = defunc_0_leq_res_175942 && x_175944;
                                bool defunc_0_leq_res_175946 = x_175943 || y_175945;
                                bool defunc_0_lifted_gt_res_175947 = !defunc_0_leq_res_175946;
                                bool s_175948;
                                int64_t s_175952;
                                bool loop_while_175953;
                                int64_t j_175957;
                                
                                loop_while_175953 = defunc_0_lifted_gt_res_175947;
                                j_175957 = i_175923;
                                while (loop_while_175953) {
                                    bool x_175958 = sle64((int64_t) 0, j_175957);
                                    bool y_175959 = slt64(j_175957, block_sizze_175848);
                                    bool bounds_check_175960 = x_175958 && y_175959;
                                    bool index_certs_175961;
                                    
                                    if (!bounds_check_175960) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_175957, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_175965 = add64((int64_t) 1, j_175957);
                                    bool x_175966 = sle64((int64_t) 0, copy_arg0_175965);
                                    bool y_175967 = slt64(copy_arg0_175965, block_sizze_175848);
                                    bool bounds_check_175968 = x_175966 && y_175967;
                                    bool index_certs_175969;
                                    
                                    if (!bounds_check_175968) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_175965, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_175962 = ((int8_t *) mem_180063)[j_175957];
                                    int64_t copy_arg0_175963 = ((int64_t *) mem_180065)[j_175957];
                                    double copy_arg0_175964 = ((double *) mem_180067)[j_175957];
                                    int8_t copy_arg0_175970 = ((int8_t *) mem_180063)[copy_arg0_175965];
                                    int64_t copy_arg0_175971 = ((int64_t *) mem_180065)[copy_arg0_175965];
                                    double copy_arg0_175972 = ((double *) mem_180067)[copy_arg0_175965];
                                    
                                    ((int8_t *) mem_180063)[j_175957] = copy_arg0_175970;
                                    ((int64_t *) mem_180065)[j_175957] = copy_arg0_175971;
                                    ((double *) mem_180067)[j_175957] = copy_arg0_175972;
                                    ((int8_t *) mem_180063)[copy_arg0_175965] = copy_arg0_175962;
                                    ((int64_t *) mem_180065)[copy_arg0_175965] = copy_arg0_175963;
                                    ((double *) mem_180067)[copy_arg0_175965] = copy_arg0_175964;
                                    
                                    int64_t tmp_175979 = sub64(j_175957, (int64_t) 1);
                                    bool cond_175980 = sle64((int64_t) 0, tmp_175979);
                                    bool loop_cond_175981;
                                    
                                    if (cond_175980) {
                                        bool y_179186 = slt64(tmp_175979, block_sizze_175848);
                                        bool bounds_check_179187 = cond_175980 && y_179186;
                                        bool index_certs_179188;
                                        
                                        if (!bounds_check_179187) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_175979, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179183 = ((int8_t *) mem_180063)[j_175957];
                                        int64_t gt_arg1_179184 = ((int64_t *) mem_180065)[j_175957];
                                        double gt_arg1_179185 = ((double *) mem_180067)[j_175957];
                                        int8_t gt_arg0_179189 = ((int8_t *) mem_180063)[tmp_175979];
                                        int64_t gt_arg0_179190 = ((int64_t *) mem_180065)[tmp_175979];
                                        double gt_arg0_179191 = ((double *) mem_180067)[tmp_175979];
                                        bool cond_179192 = gt_arg0_179189 == gt_arg1_179183;
                                        bool defunc_0_leq_res_t_res_179193 = sle64(gt_arg0_179190, gt_arg1_179184);
                                        bool defunc_0_leq_res_179194 = gt_arg0_179191 <= gt_arg1_179185;
                                        bool x_179195 = cond_179192 && defunc_0_leq_res_t_res_179193;
                                        bool x_179196 = !cond_179192;
                                        bool y_179197 = defunc_0_leq_res_179194 && x_179196;
                                        bool defunc_0_leq_res_179198 = x_179195 || y_179197;
                                        bool defunc_0_lifted_gt_res_179199 = !defunc_0_leq_res_179198;
                                        
                                        loop_cond_175981 = defunc_0_lifted_gt_res_179199;
                                    } else {
                                        loop_cond_175981 = 0;
                                    }
                                    
                                    bool loop_while_tmp_181551 = loop_cond_175981;
                                    int64_t j_tmp_181555 = tmp_175979;
                                    
                                    loop_while_175953 = loop_while_tmp_181551;
                                    j_175957 = j_tmp_181555;
                                }
                                s_175948 = loop_while_175953;
                                s_175952 = j_175957;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180044, i_179759 * block_sizze_175848, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180063, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175848});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180047, i_179759 * block_sizze_175848, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180065, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175848});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180050, i_179759 * block_sizze_175848, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180067, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175848});
                    }
                    if (memblock_alloc(ctx, &mem_180144, flat_dim_175849, "mem_180144")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180144.mem, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (uint8_t *) mem_180044, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175838, block_sizze_175848});
                    if (memblock_alloc(ctx, &mem_180148, bytes_180046, "mem_180148")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180148.mem, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (uint64_t *) mem_180047, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175838, block_sizze_175848});
                    if (memblock_alloc(ctx, &mem_180152, bytes_180046, "mem_180152")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180152.mem, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (uint64_t *) mem_180050, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175838, block_sizze_175848});
                    
                    int64_t data_176005;
                    bool data_176006;
                    int64_t data_176010;
                    int64_t loop_dz2084Uz2082U_176011;
                    bool loop_while_176012;
                    int64_t stride_176016;
                    
                    if (memblock_set(ctx, &mem_param_180156, &mem_180144, "mem_180144") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180159, &mem_180148, "mem_180148") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180162, &mem_180152, "mem_180152") != 0)
                        return 1;
                    loop_dz2084Uz2082U_176011 = flat_dim_175849;
                    loop_while_176012 = loop_cond_176002;
                    stride_176016 = block_sizze_175848;
                    while (loop_while_176012) {
                        int64_t next_stride_176017 = mul64((int64_t) 2, stride_176016);
                        bool zzero_176018 = next_stride_176017 == (int64_t) 0;
                        bool nonzzero_176019 = !zzero_176018;
                        bool nonzzero_cert_176020;
                        
                        if (!nonzzero_176019) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_176021 = sdiv64(flat_dim_175849, next_stride_176017);
                        bool bounds_invalid_upwards_176022 = slt64(num_merges_176021, (int64_t) 0);
                        bool valid_176023 = !bounds_invalid_upwards_176022;
                        bool range_valid_c_176024;
                        
                        if (!valid_176023) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_176021, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_176026 = sub64(next_stride_176017, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_176027 = sle64((int64_t) 0, m_176026);
                        bool cond_176029 = slt64(next_stride_176017, (int64_t) 10);
                        bool protect_assert_disj_176030 = nonzzero_176004 || cond_176029;
                        bool nonzzero_cert_176031;
                        
                        if (!protect_assert_disj_176030) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_176032 = smod_safe64(next_stride_176017, merge_block_sizze_175854);
                        bool num_blocks_176033 = zeze_lhs_176032 == (int64_t) 0;
                        bool protect_assert_disj_176034 = cond_176029 || num_blocks_176033;
                        bool assert_c_176035;
                        
                        if (!protect_assert_disj_176034) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_176037 = sdiv_safe64(next_stride_176017, merge_block_sizze_175854);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038 = add64((int64_t) 1, num_blocks_176037);
                        int64_t j_m_i_176039 = sub64(next_stride_176017, stride_176016);
                        int64_t flat_dim_176040 = merge_block_sizze_175854 * num_blocks_176037;
                        bool bounds_invalid_upwards_176041 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038, (int64_t) 0);
                        bool empty_slice_176042 = j_m_i_176039 == (int64_t) 0;
                        int64_t m_176043 = sub64(j_m_i_176039, (int64_t) 1);
                        bool zzero_lte_i_176044 = sle64((int64_t) 0, stride_176016);
                        bool i_lte_j_176045 = sle64(stride_176016, next_stride_176017);
                        bool empty_slice_176046 = stride_176016 == (int64_t) 0;
                        int64_t m_176047 = sub64(stride_176016, (int64_t) 1);
                        bool bounds_invalid_upwards_176048 = slt64(num_blocks_176037, (int64_t) 0);
                        bool cond_176049 = slt64((int64_t) 0, stride_176016);
                        bool valid_176050 = !bounds_invalid_upwards_176041;
                        int64_t i_p_m_t_s_176051 = add64(stride_176016, m_176043);
                        bool zzero_leq_i_p_m_t_s_176052 = sle64((int64_t) 0, m_176047);
                        bool i_p_m_t_s_leq_w_176053 = slt64(m_176047, next_stride_176017);
                        bool valid_176054 = !bounds_invalid_upwards_176048;
                        bool i_p_m_t_s_leq_w_176055 = slt64(m_176026, flat_dim_176040);
                        bool y_176056 = slt64((int64_t) 0, j_m_i_176039);
                        bool protect_assert_disj_176057 = cond_176029 || valid_176050;
                        bool range_valid_c_176058;
                        
                        if (!protect_assert_disj_176057) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_176059 = sle64((int64_t) 0, i_p_m_t_s_176051);
                        bool i_p_m_t_s_leq_w_176060 = slt64(i_p_m_t_s_176051, next_stride_176017);
                        bool y_176061 = zzero_leq_i_p_m_t_s_176052 && i_p_m_t_s_leq_w_176053;
                        bool protect_assert_disj_176062 = cond_176029 || valid_176054;
                        bool range_valid_c_176063;
                        
                        if (!protect_assert_disj_176062) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_176037, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_176064 = zzero_leq_i_p_m_t_s_176027 && i_p_m_t_s_leq_w_176055;
                        bool y_176065 = zzero_lte_i_176044 && i_p_m_t_s_leq_w_176060;
                        bool forwards_ok_176066 = zzero_lte_i_176044 && y_176061;
                        bool ok_or_empty_176067 = zzero_176018 || y_176064;
                        bool protect_assert_disj_176068 = cond_176049 || y_176056;
                        bool y_176069 = zzero_leq_i_p_m_t_s_176059 && y_176065;
                        bool ok_or_empty_176070 = empty_slice_176046 || forwards_ok_176066;
                        bool protect_assert_disj_176071 = cond_176029 || ok_or_empty_176067;
                        bool index_certs_176072;
                        
                        if (!protect_assert_disj_176071) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176017, "] out of bounds for array of shape [", (long long) flat_dim_176040, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_176073 = !cond_176029;
                        bool protect_assert_disj_176074 = protect_assert_disj_176068 || loop_not_taken_176073;
                        bool index_certs_176075;
                        
                        if (!protect_assert_disj_176074) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_176076 = i_lte_j_176045 && y_176069;
                        bool protect_assert_disj_176077 = cond_176029 || ok_or_empty_176070;
                        bool index_certs_176078;
                        
                        if (!protect_assert_disj_176077) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176016, "] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176079 = ok_or_empty_176070 || loop_not_taken_176073;
                        bool index_certs_176080;
                        
                        if (!protect_assert_disj_176079) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176016, "] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_176081 = empty_slice_176042 || forwards_ok_176076;
                        bool protect_assert_disj_176082 = cond_176029 || ok_or_empty_176081;
                        bool index_certs_176083;
                        
                        if (!protect_assert_disj_176082) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176016, ":] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176084 = loop_not_taken_176073 || ok_or_empty_176081;
                        bool index_certs_176085;
                        
                        if (!protect_assert_disj_176084) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176016, ":] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180163 = next_stride_176017 * num_merges_176021;
                        int64_t binop_x_180165 = (int64_t) 8 * num_merges_176021;
                        int64_t bytes_180166 = next_stride_176017 * binop_x_180165;
                        bool i_lte_j_176028 = sle64((int64_t) 0, next_stride_176017);
                        
                        if (mem_180164_cached_sizze_181736 < bytes_180163) {
                            err = lexical_realloc(ctx, &mem_180164, &mem_180164_cached_sizze_181736, bytes_180163);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180167_cached_sizze_181737 < bytes_180166) {
                            err = lexical_realloc(ctx, &mem_180167, &mem_180167_cached_sizze_181737, bytes_180166);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180170_cached_sizze_181738 < bytes_180166) {
                            err = lexical_realloc(ctx, &mem_180170, &mem_180170_cached_sizze_181738, bytes_180166);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180183 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038;
                        int64_t binop_x_180201 = (int64_t) 8 * num_blocks_176037;
                        int64_t bytes_180202 = merge_block_sizze_175854 * binop_x_180201;
                        int64_t bytes_180266 = (int64_t) 16 * stride_176016;
                        
                        for (int64_t i_179786 = 0; i_179786 < num_merges_176021; i_179786++) {
                            int64_t start_176090 = mul64(next_stride_176017, i_179786);
                            int64_t j_m_i_176091 = sub64(loop_dz2084Uz2082U_176011, start_176090);
                            bool empty_slice_176092 = j_m_i_176091 == (int64_t) 0;
                            int64_t m_176093 = sub64(j_m_i_176091, (int64_t) 1);
                            int64_t i_p_m_t_s_176094 = add64(start_176090, m_176093);
                            bool zzero_leq_i_p_m_t_s_176095 = sle64((int64_t) 0, i_p_m_t_s_176094);
                            bool i_p_m_t_s_leq_w_176096 = slt64(i_p_m_t_s_176094, loop_dz2084Uz2082U_176011);
                            bool zzero_lte_i_176097 = sle64((int64_t) 0, start_176090);
                            bool i_lte_j_176098 = sle64(start_176090, loop_dz2084Uz2082U_176011);
                            bool y_176099 = i_p_m_t_s_leq_w_176096 && zzero_lte_i_176097;
                            bool y_176100 = zzero_leq_i_p_m_t_s_176095 && y_176099;
                            bool forwards_ok_176101 = i_lte_j_176098 && y_176100;
                            bool ok_or_empty_176102 = empty_slice_176092 || forwards_ok_176101;
                            bool index_certs_176103;
                            
                            if (!ok_or_empty_176102) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_176090, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_176011, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_176104 = slt64(m_176026, j_m_i_176091);
                            bool y_176105 = zzero_leq_i_p_m_t_s_176027 && i_p_m_t_s_leq_w_176104;
                            bool forwards_ok_176106 = i_lte_j_176028 && y_176105;
                            bool ok_or_empty_176107 = zzero_176018 || forwards_ok_176106;
                            bool index_certs_176108;
                            
                            if (!ok_or_empty_176107) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176017, "] out of bounds for array of shape [", (long long) j_m_i_176091, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_176029) {
                                int8_t dummy_179238;
                                int64_t dummy_179239;
                                double dummy_179240;
                                
                                if (cond_176049) {
                                    int8_t head_res_179241 = ((int8_t *) mem_param_180156.mem)[start_176090];
                                    int64_t head_res_179242 = ((int64_t *) mem_param_180159.mem)[start_176090];
                                    double head_res_179243 = ((double *) mem_param_180162.mem)[start_176090];
                                    
                                    dummy_179238 = head_res_179241;
                                    dummy_179239 = head_res_179242;
                                    dummy_179240 = head_res_179243;
                                } else {
                                    int64_t slice_179244 = stride_176016 + start_176090;
                                    int8_t head_res_179245 = ((int8_t *) mem_param_180156.mem)[slice_179244];
                                    int64_t head_res_179246 = ((int64_t *) mem_param_180159.mem)[slice_179244];
                                    double head_res_179247 = ((double *) mem_param_180162.mem)[slice_179244];
                                    
                                    dummy_179238 = head_res_179245;
                                    dummy_179239 = head_res_179246;
                                    dummy_179240 = head_res_179247;
                                }
                                if (memblock_alloc(ctx, &mem_180265, next_stride_176017, "mem_180265")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181568 = 0; nest_i_181568 < next_stride_176017; nest_i_181568++) {
                                    ((int8_t *) mem_180265.mem)[nest_i_181568] = dummy_179238;
                                }
                                if (memblock_alloc(ctx, &mem_180267, bytes_180266, "mem_180267")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181569 = 0; nest_i_181569 < next_stride_176017; nest_i_181569++) {
                                    ((int64_t *) mem_180267.mem)[nest_i_181569] = dummy_179239;
                                }
                                if (memblock_alloc(ctx, &mem_180269, bytes_180266, "mem_180269")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181570 = 0; nest_i_181570 < next_stride_176017; nest_i_181570++) {
                                    ((double *) mem_180269.mem)[nest_i_181570] = dummy_179240;
                                }
                                
                                int64_t data_179251;
                                int64_t i_179256 = (int64_t) 0;
                                
                                for (int64_t k_179255 = 0; k_179255 < next_stride_176017; k_179255++) {
                                    int64_t j_179260 = sub64(k_179255, i_179256);
                                    bool cond_179261 = j_179260 == j_m_i_176039;
                                    bool cond_179262;
                                    
                                    if (cond_179261) {
                                        cond_179262 = 1;
                                    } else {
                                        bool cond_179263 = slt64(i_179256, stride_176016);
                                        bool cond_f_res_179264;
                                        
                                        if (cond_179263) {
                                            bool x_179265 = sle64((int64_t) 0, j_179260);
                                            bool y_179266 = slt64(j_179260, j_m_i_176039);
                                            bool bounds_check_179267 = x_179265 && y_179266;
                                            bool index_certs_179268;
                                            
                                            if (!bounds_check_179267) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179260, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179274 = sle64((int64_t) 0, i_179256);
                                            bool bounds_check_179275 = cond_179263 && x_179274;
                                            bool index_certs_179276;
                                            
                                            if (!bounds_check_179275) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179256, "] out of bounds for array of shape [", (long long) stride_176016, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179269 = stride_176016 + j_179260;
                                            int64_t slice_179270 = start_176090 + slice_179269;
                                            int8_t leq_arg1_179271 = ((int8_t *) mem_param_180156.mem)[slice_179270];
                                            int64_t leq_arg1_179272 = ((int64_t *) mem_param_180159.mem)[slice_179270];
                                            double leq_arg1_179273 = ((double *) mem_param_180162.mem)[slice_179270];
                                            int64_t slice_179277 = start_176090 + i_179256;
                                            int8_t leq_arg0_179278 = ((int8_t *) mem_param_180156.mem)[slice_179277];
                                            int64_t leq_arg0_179279 = ((int64_t *) mem_param_180159.mem)[slice_179277];
                                            double leq_arg0_179280 = ((double *) mem_param_180162.mem)[slice_179277];
                                            bool cond_179281 = leq_arg0_179278 == leq_arg1_179271;
                                            bool defunc_0_leq_res_t_res_179282 = sle64(leq_arg0_179279, leq_arg1_179272);
                                            bool defunc_0_leq_res_179283 = leq_arg0_179280 <= leq_arg1_179273;
                                            bool x_179284 = cond_179281 && defunc_0_leq_res_t_res_179282;
                                            bool x_179285 = !cond_179281;
                                            bool y_179286 = defunc_0_leq_res_179283 && x_179285;
                                            bool defunc_0_leq_res_179287 = x_179284 || y_179286;
                                            
                                            cond_f_res_179264 = defunc_0_leq_res_179287;
                                        } else {
                                            cond_f_res_179264 = 0;
                                        }
                                        cond_179262 = cond_f_res_179264;
                                    }
                                    
                                    int64_t loopres_179288;
                                    int8_t loopres_179289;
                                    int64_t loopres_179290;
                                    double loopres_179291;
                                    
                                    if (cond_179262) {
                                        bool x_179293 = sle64((int64_t) 0, i_179256);
                                        bool y_179294 = slt64(i_179256, stride_176016);
                                        bool bounds_check_179295 = x_179293 && y_179294;
                                        bool index_certs_179296;
                                        
                                        if (!bounds_check_179295) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179256, "] out of bounds for array of shape [", (long long) stride_176016, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179292 = add64((int64_t) 1, i_179256);
                                        int64_t slice_179297 = start_176090 + i_179256;
                                        int8_t tmp_179298 = ((int8_t *) mem_param_180156.mem)[slice_179297];
                                        int64_t tmp_179299 = ((int64_t *) mem_param_180159.mem)[slice_179297];
                                        double tmp_179300 = ((double *) mem_param_180162.mem)[slice_179297];
                                        
                                        loopres_179288 = tmp_179292;
                                        loopres_179289 = tmp_179298;
                                        loopres_179290 = tmp_179299;
                                        loopres_179291 = tmp_179300;
                                    } else {
                                        bool x_179301 = sle64((int64_t) 0, j_179260);
                                        bool y_179302 = slt64(j_179260, j_m_i_176039);
                                        bool bounds_check_179303 = x_179301 && y_179302;
                                        bool index_certs_179304;
                                        
                                        if (!bounds_check_179303) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179260, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179305 = stride_176016 + j_179260;
                                        int64_t slice_179306 = start_176090 + slice_179305;
                                        int8_t tmp_179307 = ((int8_t *) mem_param_180156.mem)[slice_179306];
                                        int64_t tmp_179308 = ((int64_t *) mem_param_180159.mem)[slice_179306];
                                        double tmp_179309 = ((double *) mem_param_180162.mem)[slice_179306];
                                        
                                        loopres_179288 = i_179256;
                                        loopres_179289 = tmp_179307;
                                        loopres_179290 = tmp_179308;
                                        loopres_179291 = tmp_179309;
                                    }
                                    ((int8_t *) mem_180265.mem)[k_179255] = loopres_179289;
                                    ((int64_t *) mem_180267.mem)[k_179255] = loopres_179290;
                                    ((double *) mem_180269.mem)[k_179255] = loopres_179291;
                                    
                                    int64_t i_tmp_181571 = loopres_179288;
                                    
                                    i_179256 = i_tmp_181571;
                                }
                                data_179251 = i_179256;
                                if (memblock_set(ctx, &ext_mem_180296, &mem_180265, "mem_180265") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180293, &mem_180267, "mem_180267") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180290, &mem_180269, "mem_180269") != 0)
                                    return 1;
                            } else {
                                if (mem_180184_cached_sizze_181739 < bytes_180183) {
                                    err = lexical_realloc(ctx, &mem_180184, &mem_180184_cached_sizze_181739, bytes_180183);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180186_cached_sizze_181740 < bytes_180183) {
                                    err = lexical_realloc(ctx, &mem_180186, &mem_180186_cached_sizze_181740, bytes_180183);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179767 = 0; i_179767 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038; i_179767++) {
                                    int64_t split_count_arg3_176191 = mul64(merge_block_sizze_175854, i_179767);
                                    int64_t defunc_0_split_count_res_176192;
                                    int64_t defunc_0_split_count_res_176193;
                                    int64_t defunc_0_split_count_res_176194;
                                    int64_t defunc_0_split_count_res_176195;
                                    int64_t defunc_0_split_count_res_176196;
                                    
                                    if (futrts_lifted_normalizze_8970(ctx, &defunc_0_split_count_res_176192, &defunc_0_split_count_res_176193, &defunc_0_split_count_res_176194, &defunc_0_split_count_res_176195, &defunc_0_split_count_res_176196, (int64_t) 0, stride_176016, (int64_t) 0, j_m_i_176039, split_count_arg3_176191) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_176197 = slt64((int64_t) 0, defunc_0_split_count_res_176196);
                                    bool defunc_0_split_count_res_176198;
                                    int64_t defunc_0_split_count_res_176199;
                                    int64_t defunc_0_split_count_res_176200;
                                    int64_t defunc_0_split_count_res_176201;
                                    int64_t defunc_0_split_count_res_176202;
                                    int64_t defunc_0_split_count_res_176203;
                                    bool loop_while_176204;
                                    int64_t ss_176205;
                                    int64_t ss_176206;
                                    int64_t tt_176207;
                                    int64_t tt_176208;
                                    int64_t count_176209;
                                    
                                    loop_while_176204 = loop_cond_176197;
                                    ss_176205 = defunc_0_split_count_res_176192;
                                    ss_176206 = defunc_0_split_count_res_176193;
                                    tt_176207 = defunc_0_split_count_res_176194;
                                    tt_176208 = defunc_0_split_count_res_176195;
                                    count_176209 = defunc_0_split_count_res_176196;
                                    while (loop_while_176204) {
                                        int64_t zlze_lhs_176210 = sub64(ss_176206, ss_176205);
                                        bool cond_176211 = sle64(zlze_lhs_176210, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_176212;
                                        int64_t defunc_0_lifted_step_res_176213;
                                        int64_t defunc_0_lifted_step_res_176214;
                                        int64_t defunc_0_lifted_step_res_176215;
                                        
                                        if (cond_176211) {
                                            int64_t tmp_179313 = add64(tt_176207, count_176209);
                                            
                                            defunc_0_lifted_step_res_176212 = ss_176205;
                                            defunc_0_lifted_step_res_176213 = tmp_179313;
                                            defunc_0_lifted_step_res_176214 = tt_176208;
                                            defunc_0_lifted_step_res_176215 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_176217 = sub64(tt_176208, tt_176207);
                                            bool cond_176218 = sle64(zlze_lhs_176217, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_176219;
                                            int64_t defunc_0_lifted_step_res_f_res_176220;
                                            int64_t defunc_0_lifted_step_res_f_res_176221;
                                            int64_t defunc_0_lifted_step_res_f_res_176222;
                                            
                                            if (cond_176218) {
                                                int64_t tmp_179314 = add64(ss_176205, count_176209);
                                                
                                                defunc_0_lifted_step_res_f_res_176219 = tmp_179314;
                                                defunc_0_lifted_step_res_f_res_176220 = tt_176207;
                                                defunc_0_lifted_step_res_f_res_176221 = tt_176208;
                                                defunc_0_lifted_step_res_f_res_176222 = (int64_t) 0;
                                            } else {
                                                bool cond_176224 = count_176209 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176225;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176226;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176227;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176228;
                                                
                                                if (cond_176224) {
                                                    bool x_179316 = sle64((int64_t) 0, ss_176205);
                                                    bool y_179317 = slt64(ss_176205, stride_176016);
                                                    bool bounds_check_179318 = x_179316 && y_179317;
                                                    bool index_certs_179319;
                                                    
                                                    if (!bounds_check_179318) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_176205, "] out of bounds for array of shape [", (long long) stride_176016, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179324 = sle64((int64_t) 0, tt_176207);
                                                    bool y_179325 = slt64(tt_176207, j_m_i_176039);
                                                    bool bounds_check_179326 = x_179324 && y_179325;
                                                    bool index_certs_179327;
                                                    
                                                    if (!bounds_check_179326) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_176207, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179320 = start_176090 + ss_176205;
                                                    int8_t leq_arg1_179321 = ((int8_t *) mem_param_180156.mem)[slice_179320];
                                                    int64_t leq_arg1_179322 = ((int64_t *) mem_param_180159.mem)[slice_179320];
                                                    double leq_arg1_179323 = ((double *) mem_param_180162.mem)[slice_179320];
                                                    int64_t slice_179328 = stride_176016 + tt_176207;
                                                    int64_t slice_179329 = start_176090 + slice_179328;
                                                    int8_t leq_arg0_179330 = ((int8_t *) mem_param_180156.mem)[slice_179329];
                                                    int64_t leq_arg0_179331 = ((int64_t *) mem_param_180159.mem)[slice_179329];
                                                    double leq_arg0_179332 = ((double *) mem_param_180162.mem)[slice_179329];
                                                    bool cond_179333 = leq_arg0_179330 == leq_arg1_179321;
                                                    bool defunc_0_leq_res_t_res_179334 = sle64(leq_arg0_179331, leq_arg1_179322);
                                                    bool defunc_0_leq_res_179335 = leq_arg0_179332 <= leq_arg1_179323;
                                                    bool x_179336 = cond_179333 && defunc_0_leq_res_t_res_179334;
                                                    bool x_179337 = !cond_179333;
                                                    bool y_179338 = defunc_0_leq_res_179335 && x_179337;
                                                    bool defunc_0_leq_res_179339 = x_179336 || y_179338;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179340;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179341;
                                                    
                                                    if (defunc_0_leq_res_179339) {
                                                        int64_t tmp_179342 = add64((int64_t) 1, tt_176207);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179340 = ss_176205;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179341 = tmp_179342;
                                                    } else {
                                                        int64_t tmp_179343 = add64((int64_t) 1, ss_176205);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179340 = tmp_179343;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179341 = tt_176207;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176225 = defunc_0_lifted_step_res_f_res_f_res_t_res_179340;
                                                    defunc_0_lifted_step_res_f_res_f_res_176226 = defunc_0_lifted_step_res_f_res_f_res_t_res_179341;
                                                    defunc_0_lifted_step_res_f_res_f_res_176227 = tt_176208;
                                                    defunc_0_lifted_step_res_f_res_f_res_176228 = (int64_t) 0;
                                                } else {
                                                    int64_t m_176257 = sdiv64(count_176209, (int64_t) 2);
                                                    int64_t n_176258 = sub64(count_176209, m_176257);
                                                    bool cond_176259 = n_176258 == (int64_t) 0;
                                                    int64_t zgze_lhs_176260 = add64(ss_176205, m_176257);
                                                    bool cond_f_res_176261 = sle64(ss_176206, zgze_lhs_176260);
                                                    bool x_176262 = !cond_176259;
                                                    bool y_176263 = cond_f_res_176261 && x_176262;
                                                    bool cond_176264 = cond_176259 || y_176263;
                                                    bool leq_y_x_176265;
                                                    
                                                    if (cond_176264) {
                                                        leq_y_x_176265 = 1;
                                                    } else {
                                                        bool x_176266 = sle64((int64_t) 0, zgze_lhs_176260);
                                                        bool y_176267 = slt64(zgze_lhs_176260, stride_176016);
                                                        bool bounds_check_176268 = x_176266 && y_176267;
                                                        bool index_certs_176269;
                                                        
                                                        if (!bounds_check_176268) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_176260, "] out of bounds for array of shape [", (long long) stride_176016, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_176274 = add64(tt_176207, n_176258);
                                                        int64_t leq_arg0_176275 = sub64(zm_lhs_176274, (int64_t) 1);
                                                        bool x_176276 = sle64((int64_t) 0, leq_arg0_176275);
                                                        bool y_176277 = slt64(leq_arg0_176275, j_m_i_176039);
                                                        bool bounds_check_176278 = x_176276 && y_176277;
                                                        bool index_certs_176279;
                                                        
                                                        if (!bounds_check_176278) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_176275, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_176270 = start_176090 + zgze_lhs_176260;
                                                        int8_t leq_arg1_176271 = ((int8_t *) mem_param_180156.mem)[slice_176270];
                                                        int64_t leq_arg1_176272 = ((int64_t *) mem_param_180159.mem)[slice_176270];
                                                        double leq_arg1_176273 = ((double *) mem_param_180162.mem)[slice_176270];
                                                        int64_t slice_176280 = stride_176016 + leq_arg0_176275;
                                                        int64_t slice_176281 = start_176090 + slice_176280;
                                                        int8_t leq_arg0_176282 = ((int8_t *) mem_param_180156.mem)[slice_176281];
                                                        int64_t leq_arg0_176283 = ((int64_t *) mem_param_180159.mem)[slice_176281];
                                                        double leq_arg0_176284 = ((double *) mem_param_180162.mem)[slice_176281];
                                                        bool cond_176285 = leq_arg0_176282 == leq_arg1_176271;
                                                        bool defunc_0_leq_res_t_res_176286 = sle64(leq_arg0_176283, leq_arg1_176272);
                                                        bool defunc_0_leq_res_176287 = leq_arg0_176284 <= leq_arg1_176273;
                                                        bool x_176288 = cond_176285 && defunc_0_leq_res_t_res_176286;
                                                        bool x_176289 = !cond_176285;
                                                        bool y_176290 = defunc_0_leq_res_176287 && x_176289;
                                                        bool defunc_0_leq_res_176291 = x_176288 || y_176290;
                                                        
                                                        leq_y_x_176265 = defunc_0_leq_res_176291;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176292;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176293;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176294;
                                                    
                                                    if (leq_y_x_176265) {
                                                        int64_t tmp_179344 = add64(tt_176207, n_176258);
                                                        int64_t tmp_179345 = sub64(count_176209, n_176258);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176292 = tmp_179344;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176293 = tt_176208;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176294 = tmp_179345;
                                                    } else {
                                                        int64_t tmp_176297 = add64(tt_176207, n_176258);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176292 = tt_176207;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176293 = tmp_176297;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176294 = count_176209;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176225 = ss_176205;
                                                    defunc_0_lifted_step_res_f_res_f_res_176226 = defunc_0_lifted_step_res_f_res_f_res_f_res_176292;
                                                    defunc_0_lifted_step_res_f_res_f_res_176227 = defunc_0_lifted_step_res_f_res_f_res_f_res_176293;
                                                    defunc_0_lifted_step_res_f_res_f_res_176228 = defunc_0_lifted_step_res_f_res_f_res_f_res_176294;
                                                }
                                                defunc_0_lifted_step_res_f_res_176219 = defunc_0_lifted_step_res_f_res_f_res_176225;
                                                defunc_0_lifted_step_res_f_res_176220 = defunc_0_lifted_step_res_f_res_f_res_176226;
                                                defunc_0_lifted_step_res_f_res_176221 = defunc_0_lifted_step_res_f_res_f_res_176227;
                                                defunc_0_lifted_step_res_f_res_176222 = defunc_0_lifted_step_res_f_res_f_res_176228;
                                            }
                                            defunc_0_lifted_step_res_176212 = defunc_0_lifted_step_res_f_res_176219;
                                            defunc_0_lifted_step_res_176213 = defunc_0_lifted_step_res_f_res_176220;
                                            defunc_0_lifted_step_res_176214 = defunc_0_lifted_step_res_f_res_176221;
                                            defunc_0_lifted_step_res_176215 = defunc_0_lifted_step_res_f_res_176222;
                                        }
                                        
                                        int64_t loopres_176298;
                                        int64_t loopres_176299;
                                        int64_t loopres_176300;
                                        int64_t loopres_176301;
                                        int64_t loopres_176302;
                                        
                                        if (futrts_lifted_normalizze_8970(ctx, &loopres_176298, &loopres_176299, &loopres_176300, &loopres_176301, &loopres_176302, defunc_0_lifted_step_res_176212, ss_176206, defunc_0_lifted_step_res_176213, defunc_0_lifted_step_res_176214, defunc_0_lifted_step_res_176215) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_176303 = slt64((int64_t) 0, loopres_176302);
                                        bool loop_while_tmp_181577 = loop_cond_176303;
                                        int64_t ss_tmp_181578 = loopres_176298;
                                        int64_t ss_tmp_181579 = loopres_176299;
                                        int64_t tt_tmp_181580 = loopres_176300;
                                        int64_t tt_tmp_181581 = loopres_176301;
                                        int64_t count_tmp_181582 = loopres_176302;
                                        
                                        loop_while_176204 = loop_while_tmp_181577;
                                        ss_176205 = ss_tmp_181578;
                                        ss_176206 = ss_tmp_181579;
                                        tt_176207 = tt_tmp_181580;
                                        tt_176208 = tt_tmp_181581;
                                        count_176209 = count_tmp_181582;
                                    }
                                    defunc_0_split_count_res_176198 = loop_while_176204;
                                    defunc_0_split_count_res_176199 = ss_176205;
                                    defunc_0_split_count_res_176200 = ss_176206;
                                    defunc_0_split_count_res_176201 = tt_176207;
                                    defunc_0_split_count_res_176202 = tt_176208;
                                    defunc_0_split_count_res_176203 = count_176209;
                                    ((int64_t *) mem_180184)[i_179767] = defunc_0_split_count_res_176199;
                                    ((int64_t *) mem_180186)[i_179767] = defunc_0_split_count_res_176201;
                                }
                                if (mem_180200_cached_sizze_181741 < flat_dim_176040) {
                                    err = lexical_realloc(ctx, &mem_180200, &mem_180200_cached_sizze_181741, flat_dim_176040);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180203_cached_sizze_181742 < bytes_180202) {
                                    err = lexical_realloc(ctx, &mem_180203, &mem_180203_cached_sizze_181742, bytes_180202);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180206_cached_sizze_181743 < bytes_180202) {
                                    err = lexical_realloc(ctx, &mem_180206, &mem_180206_cached_sizze_181743, bytes_180202);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179776 = 0; i_179776 < num_blocks_176037; i_179776++) {
                                    bool y_176310 = slt64(i_179776, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038);
                                    bool index_certs_176312;
                                    
                                    if (!y_176310) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179776, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_176313 = ((int64_t *) mem_180184)[i_179776];
                                    int64_t defunc_0_f_res_176314 = ((int64_t *) mem_180186)[i_179776];
                                    int64_t tmp_176315 = add64((int64_t) 1, i_179776);
                                    bool x_176316 = sle64((int64_t) 0, tmp_176315);
                                    bool y_176317 = slt64(tmp_176315, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038);
                                    bool bounds_check_176318 = x_176316 && y_176317;
                                    bool index_certs_176319;
                                    
                                    if (!bounds_check_176318) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176315, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_176320 = ((int64_t *) mem_180184)[tmp_176315];
                                    int64_t defunc_0_f_res_176321 = ((int64_t *) mem_180186)[tmp_176315];
                                    int64_t merge_sequential_arg2_176322 = add64(stride_176016, defunc_0_f_res_176314);
                                    int64_t merge_sequential_arg2_176323 = add64(stride_176016, defunc_0_f_res_176321);
                                    int64_t j_m_i_176324 = sub64(merge_sequential_arg2_176323, merge_sequential_arg2_176322);
                                    bool empty_slice_176325 = j_m_i_176324 == (int64_t) 0;
                                    int64_t m_176326 = sub64(j_m_i_176324, (int64_t) 1);
                                    int64_t i_p_m_t_s_176327 = add64(merge_sequential_arg2_176322, m_176326);
                                    bool zzero_leq_i_p_m_t_s_176328 = sle64((int64_t) 0, i_p_m_t_s_176327);
                                    bool i_p_m_t_s_leq_w_176329 = slt64(i_p_m_t_s_176327, next_stride_176017);
                                    bool zzero_lte_i_176330 = sle64((int64_t) 0, merge_sequential_arg2_176322);
                                    bool i_lte_j_176331 = sle64(merge_sequential_arg2_176322, merge_sequential_arg2_176323);
                                    bool y_176332 = i_p_m_t_s_leq_w_176329 && zzero_lte_i_176330;
                                    bool y_176333 = zzero_leq_i_p_m_t_s_176328 && y_176332;
                                    bool forwards_ok_176334 = i_lte_j_176331 && y_176333;
                                    bool ok_or_empty_176335 = empty_slice_176325 || forwards_ok_176334;
                                    bool index_certs_176336;
                                    
                                    if (!ok_or_empty_176335) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_176322, ":", (long long) merge_sequential_arg2_176323, "] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_176337 = sub64(defunc_0_f_res_176320, defunc_0_f_res_176313);
                                    bool empty_slice_176338 = j_m_i_176337 == (int64_t) 0;
                                    int64_t m_176339 = sub64(j_m_i_176337, (int64_t) 1);
                                    int64_t i_p_m_t_s_176340 = add64(defunc_0_f_res_176313, m_176339);
                                    bool zzero_leq_i_p_m_t_s_176341 = sle64((int64_t) 0, i_p_m_t_s_176340);
                                    bool i_p_m_t_s_leq_w_176342 = slt64(i_p_m_t_s_176340, next_stride_176017);
                                    bool zzero_lte_i_176343 = sle64((int64_t) 0, defunc_0_f_res_176313);
                                    bool i_lte_j_176344 = sle64(defunc_0_f_res_176313, defunc_0_f_res_176320);
                                    bool y_176345 = i_p_m_t_s_leq_w_176342 && zzero_lte_i_176343;
                                    bool y_176346 = zzero_leq_i_p_m_t_s_176341 && y_176345;
                                    bool forwards_ok_176347 = i_lte_j_176344 && y_176346;
                                    bool ok_or_empty_176348 = empty_slice_176338 || forwards_ok_176347;
                                    bool index_certs_176349;
                                    
                                    if (!ok_or_empty_176348) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_176313, ":", (long long) defunc_0_f_res_176320, "] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_176350 = slt64((int64_t) 0, j_m_i_176337);
                                    int8_t dummy_176351;
                                    int64_t dummy_176352;
                                    double dummy_176353;
                                    
                                    if (cond_176350) {
                                        bool index_certs_179346;
                                        
                                        if (!cond_176350) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176337, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179347 = start_176090 + defunc_0_f_res_176313;
                                        int8_t head_res_179348 = ((int8_t *) mem_param_180156.mem)[slice_179347];
                                        int64_t head_res_179349 = ((int64_t *) mem_param_180159.mem)[slice_179347];
                                        double head_res_179350 = ((double *) mem_param_180162.mem)[slice_179347];
                                        
                                        dummy_176351 = head_res_179348;
                                        dummy_176352 = head_res_179349;
                                        dummy_176353 = head_res_179350;
                                    } else {
                                        bool y_176359 = slt64((int64_t) 0, j_m_i_176324);
                                        bool index_certs_176360;
                                        
                                        if (!y_176359) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176324, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_176361 = start_176090 + merge_sequential_arg2_176322;
                                        int8_t head_res_176362 = ((int8_t *) mem_param_180156.mem)[slice_176361];
                                        int64_t head_res_176363 = ((int64_t *) mem_param_180159.mem)[slice_176361];
                                        double head_res_176364 = ((double *) mem_param_180162.mem)[slice_176361];
                                        
                                        dummy_176351 = head_res_176362;
                                        dummy_176352 = head_res_176363;
                                        dummy_176353 = head_res_176364;
                                    }
                                    for (int64_t nest_i_181586 = 0; nest_i_181586 < merge_block_sizze_175854; nest_i_181586++) {
                                        ((int8_t *) mem_180200)[i_179776 * merge_block_sizze_175854 + nest_i_181586] = dummy_176351;
                                    }
                                    for (int64_t nest_i_181587 = 0; nest_i_181587 < merge_block_sizze_175854; nest_i_181587++) {
                                        ((int64_t *) mem_180203)[i_179776 * merge_block_sizze_175854 + nest_i_181587] = dummy_176352;
                                    }
                                    for (int64_t nest_i_181588 = 0; nest_i_181588 < merge_block_sizze_175854; nest_i_181588++) {
                                        ((double *) mem_180206)[i_179776 * merge_block_sizze_175854 + nest_i_181588] = dummy_176353;
                                    }
                                    
                                    int64_t data_176368;
                                    int64_t i_176373 = (int64_t) 0;
                                    
                                    for (int64_t k_176372 = 0; k_176372 < merge_block_sizze_175854; k_176372++) {
                                        int64_t j_176377 = sub64(k_176372, i_176373);
                                        bool cond_176378 = j_176377 == j_m_i_176324;
                                        bool cond_176379;
                                        
                                        if (cond_176378) {
                                            cond_176379 = 1;
                                        } else {
                                            bool cond_176380 = slt64(i_176373, j_m_i_176337);
                                            bool cond_f_res_176381;
                                            
                                            if (cond_176380) {
                                                bool x_179351 = sle64((int64_t) 0, j_176377);
                                                bool y_179352 = slt64(j_176377, j_m_i_176324);
                                                bool bounds_check_179353 = x_179351 && y_179352;
                                                bool index_certs_179354;
                                                
                                                if (!bounds_check_179353) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176377, "] out of bounds for array of shape [", (long long) j_m_i_176324, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179360 = sle64((int64_t) 0, i_176373);
                                                bool bounds_check_179361 = cond_176380 && x_179360;
                                                bool index_certs_179362;
                                                
                                                if (!bounds_check_179361) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176373, "] out of bounds for array of shape [", (long long) j_m_i_176337, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179355 = merge_sequential_arg2_176322 + j_176377;
                                                int64_t slice_179356 = start_176090 + slice_179355;
                                                int8_t leq_arg1_179357 = ((int8_t *) mem_param_180156.mem)[slice_179356];
                                                int64_t leq_arg1_179358 = ((int64_t *) mem_param_180159.mem)[slice_179356];
                                                double leq_arg1_179359 = ((double *) mem_param_180162.mem)[slice_179356];
                                                int64_t slice_179363 = defunc_0_f_res_176313 + i_176373;
                                                int64_t slice_179364 = start_176090 + slice_179363;
                                                int8_t leq_arg0_179365 = ((int8_t *) mem_param_180156.mem)[slice_179364];
                                                int64_t leq_arg0_179366 = ((int64_t *) mem_param_180159.mem)[slice_179364];
                                                double leq_arg0_179367 = ((double *) mem_param_180162.mem)[slice_179364];
                                                bool cond_179368 = leq_arg0_179365 == leq_arg1_179357;
                                                bool defunc_0_leq_res_t_res_179369 = sle64(leq_arg0_179366, leq_arg1_179358);
                                                bool defunc_0_leq_res_179370 = leq_arg0_179367 <= leq_arg1_179359;
                                                bool x_179371 = cond_179368 && defunc_0_leq_res_t_res_179369;
                                                bool x_179372 = !cond_179368;
                                                bool y_179373 = defunc_0_leq_res_179370 && x_179372;
                                                bool defunc_0_leq_res_179374 = x_179371 || y_179373;
                                                
                                                cond_f_res_176381 = defunc_0_leq_res_179374;
                                            } else {
                                                cond_f_res_176381 = 0;
                                            }
                                            cond_176379 = cond_f_res_176381;
                                        }
                                        
                                        int64_t loopres_176406;
                                        int8_t loopres_176407;
                                        int64_t loopres_176408;
                                        double loopres_176409;
                                        
                                        if (cond_176379) {
                                            bool x_179376 = sle64((int64_t) 0, i_176373);
                                            bool y_179377 = slt64(i_176373, j_m_i_176337);
                                            bool bounds_check_179378 = x_179376 && y_179377;
                                            bool index_certs_179379;
                                            
                                            if (!bounds_check_179378) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176373, "] out of bounds for array of shape [", (long long) j_m_i_176337, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179375 = add64((int64_t) 1, i_176373);
                                            int64_t slice_179380 = defunc_0_f_res_176313 + i_176373;
                                            int64_t slice_179381 = start_176090 + slice_179380;
                                            int8_t tmp_179382 = ((int8_t *) mem_param_180156.mem)[slice_179381];
                                            int64_t tmp_179383 = ((int64_t *) mem_param_180159.mem)[slice_179381];
                                            double tmp_179384 = ((double *) mem_param_180162.mem)[slice_179381];
                                            
                                            loopres_176406 = tmp_179375;
                                            loopres_176407 = tmp_179382;
                                            loopres_176408 = tmp_179383;
                                            loopres_176409 = tmp_179384;
                                        } else {
                                            bool x_176420 = sle64((int64_t) 0, j_176377);
                                            bool y_176421 = slt64(j_176377, j_m_i_176324);
                                            bool bounds_check_176422 = x_176420 && y_176421;
                                            bool index_certs_176423;
                                            
                                            if (!bounds_check_176422) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176377, "] out of bounds for array of shape [", (long long) j_m_i_176324, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_176424 = merge_sequential_arg2_176322 + j_176377;
                                            int64_t slice_176425 = start_176090 + slice_176424;
                                            int8_t tmp_176426 = ((int8_t *) mem_param_180156.mem)[slice_176425];
                                            int64_t tmp_176427 = ((int64_t *) mem_param_180159.mem)[slice_176425];
                                            double tmp_176428 = ((double *) mem_param_180162.mem)[slice_176425];
                                            
                                            loopres_176406 = i_176373;
                                            loopres_176407 = tmp_176426;
                                            loopres_176408 = tmp_176427;
                                            loopres_176409 = tmp_176428;
                                        }
                                        ((int8_t *) mem_180200)[i_179776 * merge_block_sizze_175854 + k_176372] = loopres_176407;
                                        ((int64_t *) mem_180203)[i_179776 * merge_block_sizze_175854 + k_176372] = loopres_176408;
                                        ((double *) mem_180206)[i_179776 * merge_block_sizze_175854 + k_176372] = loopres_176409;
                                        
                                        int64_t i_tmp_181589 = loopres_176406;
                                        
                                        i_176373 = i_tmp_181589;
                                    }
                                    data_176368 = i_176373;
                                }
                                if (memblock_alloc(ctx, &mem_180255, flat_dim_176040, "mem_180255")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180255.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (uint8_t *) mem_180200, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (int64_t []) {num_blocks_176037, merge_block_sizze_175854});
                                if (memblock_alloc(ctx, &mem_180259, bytes_180202, "mem_180259")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180259.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (uint64_t *) mem_180203, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (int64_t []) {num_blocks_176037, merge_block_sizze_175854});
                                if (memblock_alloc(ctx, &mem_180263, bytes_180202, "mem_180263")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180263.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (uint64_t *) mem_180206, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (int64_t []) {num_blocks_176037, merge_block_sizze_175854});
                                if (memblock_set(ctx, &ext_mem_180296, &mem_180255, "mem_180255") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180293, &mem_180259, "mem_180259") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180290, &mem_180263, "mem_180263") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180164, i_179786 * next_stride_176017, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180296.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176017});
                            if (memblock_unref(ctx, &ext_mem_180296, "ext_mem_180296") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180167, i_179786 * next_stride_176017, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180293.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176017});
                            if (memblock_unref(ctx, &ext_mem_180293, "ext_mem_180293") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180170, i_179786 * next_stride_176017, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180290.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176017});
                            if (memblock_unref(ctx, &ext_mem_180290, "ext_mem_180290") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_180310, bytes_180163, "mem_180310")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180310.mem, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (uint8_t *) mem_180164, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (int64_t []) {num_merges_176021, next_stride_176017});
                        if (memblock_alloc(ctx, &mem_180314, bytes_180166, "mem_180314")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180314.mem, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (uint64_t *) mem_180167, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (int64_t []) {num_merges_176021, next_stride_176017});
                        if (memblock_alloc(ctx, &mem_180318, bytes_180166, "mem_180318")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180318.mem, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (uint64_t *) mem_180170, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (int64_t []) {num_merges_176021, next_stride_176017});
                        
                        bool loop_cond_176442 = slt64(next_stride_176017, flat_dim_175849);
                        
                        if (memblock_set(ctx, &mem_param_tmp_181556, &mem_180310, "mem_180310") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181557, &mem_180314, "mem_180314") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181558, &mem_180318, "mem_180318") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_181559 = bytes_180163;
                        bool loop_while_tmp_181560 = loop_cond_176442;
                        int64_t stride_tmp_181564 = next_stride_176017;
                        
                        if (memblock_set(ctx, &mem_param_180156, &mem_param_tmp_181556, "mem_param_tmp_181556") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180159, &mem_param_tmp_181557, "mem_param_tmp_181557") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180162, &mem_param_tmp_181558, "mem_param_tmp_181558") != 0)
                            return 1;
                        loop_dz2084Uz2082U_176011 = loop_dz2084Uz2082U_tmp_181559;
                        loop_while_176012 = loop_while_tmp_181560;
                        stride_176016 = stride_tmp_181564;
                    }
                    if (memblock_set(ctx, &ext_mem_180328, &mem_param_180156, "mem_param_180156") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180327, &mem_param_180159, "mem_param_180159") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180326, &mem_param_180162, "mem_param_180162") != 0)
                        return 1;
                    data_176005 = loop_dz2084Uz2082U_176011;
                    data_176006 = loop_while_176012;
                    data_176010 = stride_176016;
                    if (memblock_unref(ctx, &mem_180144, "mem_180144") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180148, "mem_180148") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180152, "mem_180152") != 0)
                        return 1;
                    
                    bool empty_slice_176443 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_176444 = sle64((int64_t) 0, zs_lhs_175833);
                    bool i_p_m_t_s_leq_w_176445 = slt64(zs_lhs_175833, data_176005);
                    bool y_176446 = zzero_leq_i_p_m_t_s_176444 && i_p_m_t_s_leq_w_176445;
                    bool ok_or_empty_176447 = empty_slice_176443 || y_176446;
                    bool index_certs_176448;
                    
                    if (!ok_or_empty_176447) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "] out of bounds for array of shape [", (long long) data_176005, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_180337, &ext_mem_180328, "ext_mem_180328") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180334, &ext_mem_180327, "ext_mem_180327") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180331, &ext_mem_180326, "ext_mem_180326") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180038, "mem_180038") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180040, "mem_180040") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180042, "mem_180042") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180018.mem, ind_bottom_175786, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180337.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788});
                if (memblock_unref(ctx, &ext_mem_180337, "ext_mem_180337") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180020.mem, ind_bottom_175786, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180334.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788});
                if (memblock_unref(ctx, &ext_mem_180334, "ext_mem_180334") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180022.mem, ind_bottom_175786, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180331.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788});
                if (memblock_unref(ctx, &ext_mem_180331, "ext_mem_180331") != 0)
                    return 1;
                
                bool loop_cond_176484 = slt64(ubs_175776, threads_162233);
                bool loop_while_tmp_181523 = loop_cond_176484;
                int64_t p_tmp_181524 = ubs_175776;
                
                loop_while_175765 = loop_while_tmp_181523;
                p_175766 = p_tmp_181524;
            }
            defunc_0_mergeFunc_seq_res_175760 = loop_while_175765;
            defunc_0_mergeFunc_seq_res_175761 = p_175766;
            
            int64_t index_concat_branch_177301;
            
            if (index_concat_cmp_177297) {
                int64_t index_concat_179399 = ((int64_t *) mem_180003)[index_concat_i_177298];
                
                index_concat_branch_177301 = index_concat_179399;
            } else {
                index_concat_branch_177301 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_177295;
            
            if (index_concat_cmp_177297) {
                int64_t index_concat_179400 = ((int64_t *) mem_180005)[index_concat_i_177298];
                
                index_concat_branch_177295 = index_concat_179400;
            } else {
                index_concat_branch_177295 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_180756, &mem_180018, "mem_180018") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_180753, &mem_180020, "mem_180020") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_180750, &mem_180022, "mem_180022") != 0)
                return 1;
            loopres_174524 = index_concat_branch_177301;
            loopres_174525 = index_concat_branch_177295;
        }
        for (int64_t i_179792 = 0; i_179792 < window_sizze_162232; i_179792++) {
            int8_t eta_p_176492 = ((int8_t *) ext_mem_180756.mem)[i_179792];
            int64_t eta_p_176493 = ((int64_t *) ext_mem_180753.mem)[i_179792];
            bool cond_176494 = eta_p_176492 == (int8_t) 0;
            int64_t tmp_176495;
            
            if (cond_176494) {
                int64_t tmp_t_res_179403 = add64(p_174496, eta_p_176493);
                
                tmp_176495 = tmp_t_res_179403;
            } else {
                int64_t tmp_f_res_176497 = add64(p_174497, eta_p_176493);
                
                tmp_176495 = tmp_f_res_176497;
            }
            ((int64_t *) mem_179990.mem)[ind_bottom_174500 + i_179792] = tmp_176495;
        }
        if (memblock_unref(ctx, &ext_mem_180753, "ext_mem_180753") != 0)
            return 1;
        
        int64_t next_lbs_176498 = add64(p_174496, loopres_174524);
        int64_t next_lbs_176499 = add64(p_174497, loopres_174525);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_179988.mem, ind_bottom_174500, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180756.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_162232});
        if (memblock_unref(ctx, &ext_mem_180756, "ext_mem_180756") != 0)
            return 1;
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_179992.mem, ind_bottom_174500, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180750.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_162232});
        if (memblock_unref(ctx, &ext_mem_180750, "ext_mem_180750") != 0)
            return 1;
        
        bool cond_176513 = slt64(next_lbs_176498, zl_rhs_174479);
        bool loop_cond_t_res_176514 = slt64(next_lbs_176499, zl_rhs_174481);
        bool x_176515 = cond_176513 && loop_cond_t_res_176514;
        bool loop_while_tmp_181407 = x_176515;
        int64_t p_tmp_181411 = next_lbs_176498;
        int64_t p_tmp_181412 = next_lbs_176499;
        
        loop_while_174492 = loop_while_tmp_181407;
        p_174496 = p_tmp_181411;
        p_174497 = p_tmp_181412;
    }
    defunc_0_merge_pipeline_res_174486 = loop_while_174492;
    defunc_0_merge_pipeline_res_174490 = p_174496;
    defunc_0_merge_pipeline_res_174491 = p_174497;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516 = sub64(nb_162231, defunc_0_merge_pipeline_res_174491);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517 = sub64(na_162230, defunc_0_merge_pipeline_res_174490);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
    bool empty_slice_176519 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517 == (int64_t) 0;
    int64_t m_176520 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, (int64_t) 1);
    int64_t i_p_m_t_s_176521 = add64(defunc_0_merge_pipeline_res_174490, m_176520);
    bool zzero_leq_i_p_m_t_s_176522 = sle64((int64_t) 0, i_p_m_t_s_176521);
    bool i_p_m_t_s_leq_w_176523 = slt64(i_p_m_t_s_176521, na_162230);
    bool zzero_lte_i_176524 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_174490);
    bool i_lte_j_176525 = sle64(defunc_0_merge_pipeline_res_174490, na_162230);
    bool y_176526 = i_p_m_t_s_leq_w_176523 && zzero_lte_i_176524;
    bool y_176527 = zzero_leq_i_p_m_t_s_176522 && y_176526;
    bool forwards_ok_176528 = i_lte_j_176525 && y_176527;
    bool ok_or_empty_176529 = empty_slice_176519 || forwards_ok_176528;
    bool index_certs_176530;
    
    if (!ok_or_empty_176529) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_174490, ":", (long long) na_162230, "] out of bounds for array of shape [", (long long) na_162230, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176534 = slt64(na_162230, defunc_0_merge_pipeline_res_174490);
    bool valid_176535 = !bounds_invalid_upwards_176534;
    bool range_valid_c_176536;
    
    if (!valid_176535) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_174490, "..<", (long long) na_162230, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_176540 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516 == (int64_t) 0;
    int64_t m_176541 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516, (int64_t) 1);
    int64_t i_p_m_t_s_176542 = add64(defunc_0_merge_pipeline_res_174491, m_176541);
    bool zzero_leq_i_p_m_t_s_176543 = sle64((int64_t) 0, i_p_m_t_s_176542);
    bool i_p_m_t_s_leq_w_176544 = slt64(i_p_m_t_s_176542, nb_162231);
    bool zzero_lte_i_176545 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_174491);
    bool i_lte_j_176546 = sle64(defunc_0_merge_pipeline_res_174491, nb_162231);
    bool y_176547 = i_p_m_t_s_leq_w_176544 && zzero_lte_i_176545;
    bool y_176548 = zzero_leq_i_p_m_t_s_176543 && y_176547;
    bool forwards_ok_176549 = i_lte_j_176546 && y_176548;
    bool ok_or_empty_176550 = empty_slice_176540 || forwards_ok_176549;
    bool index_certs_176551;
    
    if (!ok_or_empty_176550) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_174491, ":", (long long) nb_162231, "] out of bounds for array of shape [", (long long) nb_162231, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176555 = slt64(nb_162231, defunc_0_merge_pipeline_res_174491);
    bool valid_176556 = !bounds_invalid_upwards_176555;
    bool range_valid_c_176557;
    
    if (!valid_176556) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_174491, "..<", (long long) nb_162231, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180781 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518;
    bool cond_176564 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, (int64_t) 1);
    int64_t zs_lhs_176565 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, (int64_t) 1);
    int64_t zp_rhs_176566 = sdiv_safe64(zs_lhs_176565, (int64_t) 20);
    int64_t min_num_blocks_176567 = add64((int64_t) 1, zp_rhs_176566);
    bool loop_cond_176568 = slt64((int64_t) 1, min_num_blocks_176567);
    bool smallest_pow_2_geq_than_res_176569;
    int64_t smallest_pow_2_geq_than_res_176570;
    bool loop_while_176571;
    int64_t x_176572;
    
    loop_while_176571 = loop_cond_176568;
    x_176572 = (int64_t) 1;
    while (loop_while_176571) {
        int64_t loopres_176573 = mul64((int64_t) 2, x_176572);
        bool loop_cond_176574 = slt64(loopres_176573, min_num_blocks_176567);
        bool loop_while_tmp_181594 = loop_cond_176574;
        int64_t x_tmp_181595 = loopres_176573;
        
        loop_while_176571 = loop_while_tmp_181594;
        x_176572 = x_tmp_181595;
    }
    smallest_pow_2_geq_than_res_176569 = loop_while_176571;
    smallest_pow_2_geq_than_res_176570 = x_176572;
    
    bool zzero_176575 = smallest_pow_2_geq_than_res_176570 == (int64_t) 0;
    bool nonzzero_176576 = !zzero_176575;
    bool protect_assert_disj_176577 = cond_176564 || nonzzero_176576;
    bool nonzzero_cert_176578;
    
    if (!protect_assert_disj_176577) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_176579 = sdiv_safe64(zs_lhs_176565, smallest_pow_2_geq_than_res_176570);
    int64_t block_sizze_176580 = add64((int64_t) 1, zp_rhs_176579);
    bool y_176587 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518);
    bool protect_assert_disj_181109 = cond_176564 || y_176587;
    bool index_certs_176588;
    
    if (!protect_assert_disj_181109) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176614 = slt64(smallest_pow_2_geq_than_res_176570, (int64_t) 0);
    bool valid_176615 = !bounds_invalid_upwards_176614;
    bool protect_assert_disj_181119 = cond_176564 || valid_176615;
    bool range_valid_c_176616;
    
    if (!protect_assert_disj_181119) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176570, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176618 = slt64(block_sizze_176580, (int64_t) 0);
    bool valid_176619 = !bounds_invalid_upwards_176618;
    bool protect_assert_disj_181121 = cond_176564 || valid_176619;
    bool range_valid_c_176620;
    
    if (!protect_assert_disj_181121) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176580, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_176622 = sle64(block_sizze_176580, (int64_t) 1);
    int64_t tmp_176623 = sub64(block_sizze_176580, (int64_t) 2);
    bool bounds_invalid_upwards_176624 = slt64(tmp_176623, (int64_t) 0);
    bool valid_176626 = !bounds_invalid_upwards_176624;
    bool protect_assert_disj_176627 = cond_176622 || valid_176626;
    bool protect_assert_disj_181123 = cond_176564 || protect_assert_disj_176627;
    bool range_valid_c_176628;
    
    if (!protect_assert_disj_181123) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176623, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177189 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_177191 = sle64((int64_t) 0, zs_lhs_176565);
    bool i_p_m_t_s_leq_w_177192 = slt64(zs_lhs_176565, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518);
    bool y_177193 = zzero_leq_i_p_m_t_s_177191 && i_p_m_t_s_leq_w_177192;
    bool ok_or_empty_177194 = empty_slice_177189 || y_177193;
    bool index_certs_177195;
    
    if (!ok_or_empty_177194) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_177196 = add64(defunc_0_merge_pipeline_res_174490, defunc_0_merge_pipeline_res_174491);
    int64_t j_m_i_177197 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, final_buffer_177196);
    bool empty_slice_177198 = j_m_i_177197 == (int64_t) 0;
    int64_t m_177199 = sub64(j_m_i_177197, (int64_t) 1);
    int64_t i_p_m_t_s_177200 = add64(final_buffer_177196, m_177199);
    bool zzero_leq_i_p_m_t_s_177201 = sle64((int64_t) 0, i_p_m_t_s_177200);
    bool i_p_m_t_s_leq_w_177202 = slt64(i_p_m_t_s_177200, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475);
    bool zzero_lte_i_177203 = sle64((int64_t) 0, final_buffer_177196);
    bool i_lte_j_177204 = sle64(final_buffer_177196, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475);
    bool y_177205 = i_p_m_t_s_leq_w_177202 && zzero_lte_i_177203;
    bool y_177206 = zzero_leq_i_p_m_t_s_177201 && y_177205;
    bool forwards_ok_177207 = i_lte_j_177204 && y_177206;
    bool ok_or_empty_177208 = empty_slice_177198 || forwards_ok_177207;
    bool index_certs_177209;
    
    if (!ok_or_empty_177208) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_177196, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_177210 = j_m_i_177197 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518;
    bool empty_or_match_cert_177211;
    
    if (!dim_match_177210) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_177197, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180780, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "mem_180780")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181596 = 0; nest_i_181596 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517; nest_i_181596++) {
        ((int8_t *) mem_180780.mem)[nest_i_181596] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_180782, bytes_180781, "mem_180782")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181597 = 0; i_181597 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517; i_181597++) {
        int64_t x_181598 = defunc_0_merge_pipeline_res_174490 + i_181597 * (int64_t) 1;
        
        ((int64_t *) mem_180782.mem)[i_181597] = x_181598;
    }
    for (int64_t nest_i_181599 = 0; nest_i_181599 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516; nest_i_181599++) {
        ((int8_t *) mem_180780.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517 + nest_i_181599] = (int8_t) 1;
    }
    for (int64_t i_181600 = 0; i_181600 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516; i_181600++) {
        int64_t x_181601 = defunc_0_merge_pipeline_res_174491 + i_181600 * (int64_t) 1;
        
        ((int64_t *) mem_180782.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517 + i_181600] = x_181601;
    }
    
    int64_t tmp_offs_181602 = (int64_t) 0;
    
    if (!(tmp_offs_181602 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180780.mem, tmp_offs_181602, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180780.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517});
    }
    tmp_offs_181602 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517;
    if (!(tmp_offs_181602 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180780.mem, tmp_offs_181602, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180780.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516});
    }
    tmp_offs_181602 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516;
    
    int64_t tmp_offs_181603 = (int64_t) 0;
    
    if (!(tmp_offs_181603 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180782.mem, tmp_offs_181603, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180782.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517});
    }
    tmp_offs_181603 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517;
    if (!(tmp_offs_181603 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180782.mem, tmp_offs_181603, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180782.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516});
    }
    tmp_offs_181603 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516;
    if (memblock_alloc(ctx, &mem_180784, bytes_180781, "mem_180784")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_181604 = (int64_t) 0;
    
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180784.mem, tmp_offs_181604, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_179986.mem, defunc_0_merge_pipeline_res_174490, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517});
    tmp_offs_181604 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180784.mem, tmp_offs_181604, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_179987.mem, defunc_0_merge_pipeline_res_174491, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516});
    tmp_offs_181604 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516;
    
    int64_t flat_dim_176581 = smallest_pow_2_geq_than_res_176570 * block_sizze_176580;
    bool x_181104 = !cond_176564;
    int64_t greatest_divisor_leq_than_arg1_176585 = mul64((int64_t) 2, block_sizze_176580);
    int64_t merge_block_sizze_176586;
    
    if (x_181104) {
        int64_t x_181106;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181106, (int64_t) 8, greatest_divisor_leq_than_arg1_176585) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_176586 = x_181106;
    } else {
        merge_block_sizze_176586 = (int64_t) 0;
    }
    
    bool index_concat_cmp_177261 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, (int64_t) 0);
    int8_t index_concat_branch_177265 = btoi_bool_i8(index_concat_cmp_177261);
    int64_t index_concat_i_179405 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
    int64_t index_primexp_179406 = add64(defunc_0_merge_pipeline_res_174491, index_concat_i_179405);
    int64_t index_concat_branch_177259;
    
    if (index_concat_cmp_177261) {
        index_concat_branch_177259 = index_primexp_179406;
    } else {
        index_concat_branch_177259 = defunc_0_merge_pipeline_res_174490;
    }
    
    bool x_181100 = !index_concat_cmp_177261;
    bool protect_cond_conj_181110 = x_181100 && x_181104;
    double index_concat_177252;
    
    if (protect_cond_conj_181110) {
        double x_181102 = ((double *) a_list_mem_179986.mem)[defunc_0_merge_pipeline_res_174490];
        
        index_concat_177252 = x_181102;
    } else {
        index_concat_177252 = 0.0;
    }
    
    bool protect_cond_conj_181111 = index_concat_cmp_177261 && x_181104;
    double index_concat_179409;
    
    if (protect_cond_conj_181111) {
        double x_181098 = ((double *) b_list_mem_179987.mem)[index_primexp_179406];
        
        index_concat_179409 = x_181098;
    } else {
        index_concat_179409 = 0.0;
    }
    
    double index_concat_branch_177253;
    
    if (index_concat_cmp_177261) {
        index_concat_branch_177253 = index_concat_179409;
    } else {
        index_concat_branch_177253 = index_concat_177252;
    }
    
    int8_t defunc_0_reduce_res_179640;
    int64_t defunc_0_reduce_res_179641;
    double defunc_0_reduce_res_179642;
    
    if (x_181104) {
        int8_t x_181112;
        int64_t x_181113;
        double x_181114;
        int8_t redout_179794;
        int64_t redout_179795;
        double redout_179796;
        
        redout_179794 = index_concat_branch_177265;
        redout_179795 = index_concat_branch_177259;
        redout_179796 = index_concat_branch_177253;
        for (int64_t i_179797 = 0; i_179797 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518; i_179797++) {
            bool index_concat_cmp_179868 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, i_179797);
            int8_t index_concat_branch_179872 = btoi_bool_i8(index_concat_cmp_179868);
            int64_t index_concat_branch_179866;
            
            if (index_concat_cmp_179868) {
                int64_t index_concat_i_179863 = sub64(i_179797, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
                int64_t index_primexp_179956 = add64(defunc_0_merge_pipeline_res_174491, index_concat_i_179863);
                
                index_concat_branch_179866 = index_primexp_179956;
            } else {
                int64_t index_primexp_179958 = add64(defunc_0_merge_pipeline_res_174490, i_179797);
                
                index_concat_branch_179866 = index_primexp_179958;
            }
            
            double index_concat_branch_179860;
            
            if (index_concat_cmp_179868) {
                int64_t index_concat_i_179857 = sub64(i_179797, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
                int64_t slice_179953 = defunc_0_merge_pipeline_res_174491 + index_concat_i_179857;
                double index_concat_179858 = ((double *) b_list_mem_179987.mem)[slice_179953];
                
                index_concat_branch_179860 = index_concat_179858;
            } else {
                int64_t slice_179954 = defunc_0_merge_pipeline_res_174490 + i_179797;
                double index_concat_179859 = ((double *) a_list_mem_179986.mem)[slice_179954];
                
                index_concat_branch_179860 = index_concat_179859;
            }
            
            bool eq_x_y_179971 = redout_179794 == (int8_t) 1;
            bool eq_x_zz_179972 = redout_179794 == (int8_t) 0;
            bool p_and_eq_x_y_179973 = index_concat_cmp_179868 && eq_x_y_179971;
            bool not_p_179974 = !index_concat_cmp_179868;
            bool p_and_eq_x_y_179975 = eq_x_zz_179972 && not_p_179974;
            bool cond_176604 = p_and_eq_x_y_179973 || p_and_eq_x_y_179975;
            bool defunc_0_leq_res_t_res_176605 = sle64(redout_179795, index_concat_branch_179866);
            bool defunc_0_leq_res_176606 = redout_179796 <= index_concat_branch_179860;
            bool x_176607 = cond_176604 && defunc_0_leq_res_t_res_176605;
            bool x_176608 = !cond_176604;
            bool y_176609 = defunc_0_leq_res_176606 && x_176608;
            bool defunc_0_leq_res_176610 = x_176607 || y_176609;
            int8_t defunc_0_op_res_176611;
            
            if (defunc_0_leq_res_176610) {
                defunc_0_op_res_176611 = index_concat_branch_179872;
            } else {
                defunc_0_op_res_176611 = redout_179794;
            }
            
            int64_t defunc_0_op_res_176612;
            
            if (defunc_0_leq_res_176610) {
                defunc_0_op_res_176612 = index_concat_branch_179866;
            } else {
                defunc_0_op_res_176612 = redout_179795;
            }
            
            double defunc_0_op_res_176613;
            
            if (defunc_0_leq_res_176610) {
                defunc_0_op_res_176613 = index_concat_branch_179860;
            } else {
                defunc_0_op_res_176613 = redout_179796;
            }
            
            int8_t redout_tmp_181605 = defunc_0_op_res_176611;
            int64_t redout_tmp_181606 = defunc_0_op_res_176612;
            double redout_tmp_181607 = defunc_0_op_res_176613;
            
            redout_179794 = redout_tmp_181605;
            redout_179795 = redout_tmp_181606;
            redout_179796 = redout_tmp_181607;
        }
        x_181112 = redout_179794;
        x_181113 = redout_179795;
        x_181114 = redout_179796;
        defunc_0_reduce_res_179640 = x_181112;
        defunc_0_reduce_res_179641 = x_181113;
        defunc_0_reduce_res_179642 = x_181114;
    } else {
        defunc_0_reduce_res_179640 = (int8_t) 0;
        defunc_0_reduce_res_179641 = (int64_t) 0;
        defunc_0_reduce_res_179642 = 0.0;
    }
    
    int64_t distance_176625 = add64((int64_t) 1, tmp_176623);
    int64_t binop_x_180787 = (int64_t) 8 * smallest_pow_2_geq_than_res_176570;
    int64_t bytes_180788 = block_sizze_176580 * binop_x_180787;
    int64_t bytes_180806 = (int64_t) 8 * block_sizze_176580;
    bool loop_cond_176734 = slt64(block_sizze_176580, flat_dim_176581);
    bool zzero_176735 = merge_block_sizze_176586 == (int64_t) 0;
    bool nonzzero_176736 = !zzero_176735;
    
    if (cond_176564) {
        if (memblock_set(ctx, &ext_mem_181079, &mem_180780, "mem_180780") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181076, &mem_180782, "mem_180782") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181073, &mem_180784, "mem_180784") != 0)
            return 1;
    } else {
        if (mem_180786_cached_sizze_181764 < flat_dim_176581) {
            err = lexical_realloc(ctx, &mem_180786, &mem_180786_cached_sizze_181764, flat_dim_176581);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180789_cached_sizze_181765 < bytes_180788) {
            err = lexical_realloc(ctx, &mem_180789, &mem_180789_cached_sizze_181765, bytes_180788);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180792_cached_sizze_181766 < bytes_180788) {
            err = lexical_realloc(ctx, &mem_180792, &mem_180792_cached_sizze_181766, bytes_180788);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180805_cached_sizze_181767 < block_sizze_176580) {
            err = lexical_realloc(ctx, &mem_180805, &mem_180805_cached_sizze_181767, block_sizze_176580);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180807_cached_sizze_181768 < bytes_180806) {
            err = lexical_realloc(ctx, &mem_180807, &mem_180807_cached_sizze_181768, bytes_180806);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180809_cached_sizze_181769 < bytes_180806) {
            err = lexical_realloc(ctx, &mem_180809, &mem_180809_cached_sizze_181769, bytes_180806);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_179814 = 0; i_179814 < smallest_pow_2_geq_than_res_176570; i_179814++) {
            int64_t zp_lhs_176633 = mul64(block_sizze_176580, i_179814);
            
            for (int64_t i_179804 = 0; i_179804 < block_sizze_176580; i_179804++) {
                int64_t k_176638 = add64(zp_lhs_176633, i_179804);
                bool cond_176639 = slt64(k_176638, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518);
                int8_t lifted_lambda_res_176640;
                int64_t lifted_lambda_res_176641;
                double lifted_lambda_res_176642;
                
                if (cond_176639) {
                    bool x_179415 = sle64((int64_t) 0, k_176638);
                    bool bounds_check_179416 = cond_176639 && x_179415;
                    bool index_certs_179417;
                    
                    if (!bounds_check_179416) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176638, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_179418 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, k_176638);
                    int8_t index_concat_branch_179419 = btoi_bool_i8(index_concat_cmp_179418);
                    int64_t index_concat_branch_179420;
                    
                    if (index_concat_cmp_179418) {
                        int64_t index_concat_i_179421 = sub64(k_176638, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
                        int64_t index_primexp_179422 = add64(defunc_0_merge_pipeline_res_174491, index_concat_i_179421);
                        
                        index_concat_branch_179420 = index_primexp_179422;
                    } else {
                        int64_t index_primexp_179423 = add64(defunc_0_merge_pipeline_res_174490, k_176638);
                        
                        index_concat_branch_179420 = index_primexp_179423;
                    }
                    
                    double index_concat_branch_179424;
                    
                    if (index_concat_cmp_179418) {
                        int64_t index_concat_i_179425 = sub64(k_176638, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
                        int64_t slice_179426 = defunc_0_merge_pipeline_res_174491 + index_concat_i_179425;
                        double index_concat_179427 = ((double *) b_list_mem_179987.mem)[slice_179426];
                        
                        index_concat_branch_179424 = index_concat_179427;
                    } else {
                        int64_t slice_179428 = defunc_0_merge_pipeline_res_174490 + k_176638;
                        double index_concat_179429 = ((double *) a_list_mem_179986.mem)[slice_179428];
                        
                        index_concat_branch_179424 = index_concat_179429;
                    }
                    lifted_lambda_res_176640 = index_concat_branch_179419;
                    lifted_lambda_res_176641 = index_concat_branch_179420;
                    lifted_lambda_res_176642 = index_concat_branch_179424;
                } else {
                    lifted_lambda_res_176640 = defunc_0_reduce_res_179640;
                    lifted_lambda_res_176641 = defunc_0_reduce_res_179641;
                    lifted_lambda_res_176642 = defunc_0_reduce_res_179642;
                }
                ((int8_t *) mem_180805)[i_179804] = lifted_lambda_res_176640;
                ((int64_t *) mem_180807)[i_179804] = lifted_lambda_res_176641;
                ((double *) mem_180809)[i_179804] = lifted_lambda_res_176642;
            }
            if (!cond_176622) {
                for (int64_t i_176655 = 0; i_176655 < distance_176625; i_176655++) {
                    int64_t gt_arg1_176659 = add64((int64_t) 1, i_176655);
                    bool x_176660 = sle64((int64_t) 0, gt_arg1_176659);
                    bool y_176661 = slt64(gt_arg1_176659, block_sizze_176580);
                    bool bounds_check_176662 = x_176660 && y_176661;
                    bool index_certs_176663;
                    
                    if (!bounds_check_176662) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176659, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_176667 = slt64(i_176655, block_sizze_176580);
                    bool index_certs_176668;
                    
                    if (!y_176667) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176655, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_176664 = ((int8_t *) mem_180805)[gt_arg1_176659];
                    int64_t gt_arg1_176665 = ((int64_t *) mem_180807)[gt_arg1_176659];
                    double gt_arg1_176666 = ((double *) mem_180809)[gt_arg1_176659];
                    int8_t gt_arg0_176669 = ((int8_t *) mem_180805)[i_176655];
                    int64_t gt_arg0_176670 = ((int64_t *) mem_180807)[i_176655];
                    double gt_arg0_176671 = ((double *) mem_180809)[i_176655];
                    bool cond_176672 = gt_arg0_176669 == gt_arg1_176664;
                    bool defunc_0_leq_res_t_res_176673 = sle64(gt_arg0_176670, gt_arg1_176665);
                    bool defunc_0_leq_res_176674 = gt_arg0_176671 <= gt_arg1_176666;
                    bool x_176675 = cond_176672 && defunc_0_leq_res_t_res_176673;
                    bool x_176676 = !cond_176672;
                    bool y_176677 = defunc_0_leq_res_176674 && x_176676;
                    bool defunc_0_leq_res_176678 = x_176675 || y_176677;
                    bool defunc_0_lifted_gt_res_176679 = !defunc_0_leq_res_176678;
                    bool s_176680;
                    int64_t s_176684;
                    bool loop_while_176685;
                    int64_t j_176689;
                    
                    loop_while_176685 = defunc_0_lifted_gt_res_176679;
                    j_176689 = i_176655;
                    while (loop_while_176685) {
                        bool x_176690 = sle64((int64_t) 0, j_176689);
                        bool y_176691 = slt64(j_176689, block_sizze_176580);
                        bool bounds_check_176692 = x_176690 && y_176691;
                        bool index_certs_176693;
                        
                        if (!bounds_check_176692) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176689, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_176697 = add64((int64_t) 1, j_176689);
                        bool x_176698 = sle64((int64_t) 0, copy_arg0_176697);
                        bool y_176699 = slt64(copy_arg0_176697, block_sizze_176580);
                        bool bounds_check_176700 = x_176698 && y_176699;
                        bool index_certs_176701;
                        
                        if (!bounds_check_176700) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_176697, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_176694 = ((int8_t *) mem_180805)[j_176689];
                        int64_t copy_arg0_176695 = ((int64_t *) mem_180807)[j_176689];
                        double copy_arg0_176696 = ((double *) mem_180809)[j_176689];
                        int8_t copy_arg0_176702 = ((int8_t *) mem_180805)[copy_arg0_176697];
                        int64_t copy_arg0_176703 = ((int64_t *) mem_180807)[copy_arg0_176697];
                        double copy_arg0_176704 = ((double *) mem_180809)[copy_arg0_176697];
                        
                        ((int8_t *) mem_180805)[j_176689] = copy_arg0_176702;
                        ((int64_t *) mem_180807)[j_176689] = copy_arg0_176703;
                        ((double *) mem_180809)[j_176689] = copy_arg0_176704;
                        ((int8_t *) mem_180805)[copy_arg0_176697] = copy_arg0_176694;
                        ((int64_t *) mem_180807)[copy_arg0_176697] = copy_arg0_176695;
                        ((double *) mem_180809)[copy_arg0_176697] = copy_arg0_176696;
                        
                        int64_t tmp_176711 = sub64(j_176689, (int64_t) 1);
                        bool cond_176712 = sle64((int64_t) 0, tmp_176711);
                        bool loop_cond_176713;
                        
                        if (cond_176712) {
                            bool y_179433 = slt64(tmp_176711, block_sizze_176580);
                            bool bounds_check_179434 = cond_176712 && y_179433;
                            bool index_certs_179435;
                            
                            if (!bounds_check_179434) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176711, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_179430 = ((int8_t *) mem_180805)[j_176689];
                            int64_t gt_arg1_179431 = ((int64_t *) mem_180807)[j_176689];
                            double gt_arg1_179432 = ((double *) mem_180809)[j_176689];
                            int8_t gt_arg0_179436 = ((int8_t *) mem_180805)[tmp_176711];
                            int64_t gt_arg0_179437 = ((int64_t *) mem_180807)[tmp_176711];
                            double gt_arg0_179438 = ((double *) mem_180809)[tmp_176711];
                            bool cond_179439 = gt_arg0_179436 == gt_arg1_179430;
                            bool defunc_0_leq_res_t_res_179440 = sle64(gt_arg0_179437, gt_arg1_179431);
                            bool defunc_0_leq_res_179441 = gt_arg0_179438 <= gt_arg1_179432;
                            bool x_179442 = cond_179439 && defunc_0_leq_res_t_res_179440;
                            bool x_179443 = !cond_179439;
                            bool y_179444 = defunc_0_leq_res_179441 && x_179443;
                            bool defunc_0_leq_res_179445 = x_179442 || y_179444;
                            bool defunc_0_lifted_gt_res_179446 = !defunc_0_leq_res_179445;
                            
                            loop_cond_176713 = defunc_0_lifted_gt_res_179446;
                        } else {
                            loop_cond_176713 = 0;
                        }
                        
                        bool loop_while_tmp_181617 = loop_cond_176713;
                        int64_t j_tmp_181621 = tmp_176711;
                        
                        loop_while_176685 = loop_while_tmp_181617;
                        j_176689 = j_tmp_181621;
                    }
                    s_176680 = loop_while_176685;
                    s_176684 = j_176689;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180786, i_179814 * block_sizze_176580, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180805, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176580});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180789, i_179814 * block_sizze_176580, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180807, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176580});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180792, i_179814 * block_sizze_176580, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180809, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176580});
        }
        if (memblock_alloc(ctx, &mem_180886, flat_dim_176581, "mem_180886")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180886.mem, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (uint8_t *) mem_180786, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176570, block_sizze_176580});
        if (memblock_alloc(ctx, &mem_180890, bytes_180788, "mem_180890")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180890.mem, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (uint64_t *) mem_180789, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176570, block_sizze_176580});
        if (memblock_alloc(ctx, &mem_180894, bytes_180788, "mem_180894")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180894.mem, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (uint64_t *) mem_180792, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176570, block_sizze_176580});
        
        int64_t data_176737;
        bool data_176738;
        int64_t data_176742;
        int64_t loop_dz2084Uz2082U_176743;
        bool loop_while_176744;
        int64_t stride_176748;
        
        if (memblock_set(ctx, &mem_param_180898, &mem_180886, "mem_180886") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180901, &mem_180890, "mem_180890") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180904, &mem_180894, "mem_180894") != 0)
            return 1;
        loop_dz2084Uz2082U_176743 = flat_dim_176581;
        loop_while_176744 = loop_cond_176734;
        stride_176748 = block_sizze_176580;
        while (loop_while_176744) {
            int64_t next_stride_176749 = mul64((int64_t) 2, stride_176748);
            bool zzero_176750 = next_stride_176749 == (int64_t) 0;
            bool nonzzero_176751 = !zzero_176750;
            bool nonzzero_cert_176752;
            
            if (!nonzzero_176751) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_176753 = sdiv64(flat_dim_176581, next_stride_176749);
            bool bounds_invalid_upwards_176754 = slt64(num_merges_176753, (int64_t) 0);
            bool valid_176755 = !bounds_invalid_upwards_176754;
            bool range_valid_c_176756;
            
            if (!valid_176755) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_176753, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_176758 = sub64(next_stride_176749, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_176759 = sle64((int64_t) 0, m_176758);
            bool cond_176761 = slt64(next_stride_176749, (int64_t) 10);
            bool protect_assert_disj_176762 = nonzzero_176736 || cond_176761;
            bool nonzzero_cert_176763;
            
            if (!protect_assert_disj_176762) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_176764 = smod_safe64(next_stride_176749, merge_block_sizze_176586);
            bool num_blocks_176765 = zeze_lhs_176764 == (int64_t) 0;
            bool protect_assert_disj_176766 = cond_176761 || num_blocks_176765;
            bool assert_c_176767;
            
            if (!protect_assert_disj_176766) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_176769 = sdiv_safe64(next_stride_176749, merge_block_sizze_176586);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770 = add64((int64_t) 1, num_blocks_176769);
            int64_t j_m_i_176771 = sub64(next_stride_176749, stride_176748);
            int64_t flat_dim_176772 = merge_block_sizze_176586 * num_blocks_176769;
            bool bounds_invalid_upwards_176773 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770, (int64_t) 0);
            bool empty_slice_176774 = j_m_i_176771 == (int64_t) 0;
            int64_t m_176775 = sub64(j_m_i_176771, (int64_t) 1);
            bool zzero_lte_i_176776 = sle64((int64_t) 0, stride_176748);
            bool i_lte_j_176777 = sle64(stride_176748, next_stride_176749);
            bool empty_slice_176778 = stride_176748 == (int64_t) 0;
            int64_t m_176779 = sub64(stride_176748, (int64_t) 1);
            bool bounds_invalid_upwards_176780 = slt64(num_blocks_176769, (int64_t) 0);
            bool cond_176781 = slt64((int64_t) 0, stride_176748);
            bool valid_176782 = !bounds_invalid_upwards_176773;
            int64_t i_p_m_t_s_176783 = add64(stride_176748, m_176775);
            bool zzero_leq_i_p_m_t_s_176784 = sle64((int64_t) 0, m_176779);
            bool i_p_m_t_s_leq_w_176785 = slt64(m_176779, next_stride_176749);
            bool valid_176786 = !bounds_invalid_upwards_176780;
            bool i_p_m_t_s_leq_w_176787 = slt64(m_176758, flat_dim_176772);
            bool y_176788 = slt64((int64_t) 0, j_m_i_176771);
            bool protect_assert_disj_176789 = cond_176761 || valid_176782;
            bool range_valid_c_176790;
            
            if (!protect_assert_disj_176789) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_176791 = sle64((int64_t) 0, i_p_m_t_s_176783);
            bool i_p_m_t_s_leq_w_176792 = slt64(i_p_m_t_s_176783, next_stride_176749);
            bool y_176793 = zzero_leq_i_p_m_t_s_176784 && i_p_m_t_s_leq_w_176785;
            bool protect_assert_disj_176794 = cond_176761 || valid_176786;
            bool range_valid_c_176795;
            
            if (!protect_assert_disj_176794) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_176769, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_176796 = zzero_leq_i_p_m_t_s_176759 && i_p_m_t_s_leq_w_176787;
            bool y_176797 = zzero_lte_i_176776 && i_p_m_t_s_leq_w_176792;
            bool forwards_ok_176798 = zzero_lte_i_176776 && y_176793;
            bool ok_or_empty_176799 = zzero_176750 || y_176796;
            bool protect_assert_disj_176800 = cond_176781 || y_176788;
            bool y_176801 = zzero_leq_i_p_m_t_s_176791 && y_176797;
            bool ok_or_empty_176802 = empty_slice_176778 || forwards_ok_176798;
            bool protect_assert_disj_176803 = cond_176761 || ok_or_empty_176799;
            bool index_certs_176804;
            
            if (!protect_assert_disj_176803) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176749, "] out of bounds for array of shape [", (long long) flat_dim_176772, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_176805 = !cond_176761;
            bool protect_assert_disj_176806 = protect_assert_disj_176800 || loop_not_taken_176805;
            bool index_certs_176807;
            
            if (!protect_assert_disj_176806) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_176808 = i_lte_j_176777 && y_176801;
            bool protect_assert_disj_176809 = cond_176761 || ok_or_empty_176802;
            bool index_certs_176810;
            
            if (!protect_assert_disj_176809) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176748, "] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_176811 = ok_or_empty_176802 || loop_not_taken_176805;
            bool index_certs_176812;
            
            if (!protect_assert_disj_176811) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176748, "] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_176813 = empty_slice_176774 || forwards_ok_176808;
            bool protect_assert_disj_176814 = cond_176761 || ok_or_empty_176813;
            bool index_certs_176815;
            
            if (!protect_assert_disj_176814) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176748, ":] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_176816 = loop_not_taken_176805 || ok_or_empty_176813;
            bool index_certs_176817;
            
            if (!protect_assert_disj_176816) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176748, ":] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_180905 = next_stride_176749 * num_merges_176753;
            int64_t binop_x_180907 = (int64_t) 8 * num_merges_176753;
            int64_t bytes_180908 = next_stride_176749 * binop_x_180907;
            bool i_lte_j_176760 = sle64((int64_t) 0, next_stride_176749);
            
            if (mem_180906_cached_sizze_181770 < bytes_180905) {
                err = lexical_realloc(ctx, &mem_180906, &mem_180906_cached_sizze_181770, bytes_180905);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180909_cached_sizze_181771 < bytes_180908) {
                err = lexical_realloc(ctx, &mem_180909, &mem_180909_cached_sizze_181771, bytes_180908);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180912_cached_sizze_181772 < bytes_180908) {
                err = lexical_realloc(ctx, &mem_180912, &mem_180912_cached_sizze_181772, bytes_180908);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_180925 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770;
            int64_t binop_x_180943 = (int64_t) 8 * num_blocks_176769;
            int64_t bytes_180944 = merge_block_sizze_176586 * binop_x_180943;
            int64_t bytes_181008 = (int64_t) 16 * stride_176748;
            
            for (int64_t i_179841 = 0; i_179841 < num_merges_176753; i_179841++) {
                int64_t start_176822 = mul64(next_stride_176749, i_179841);
                int64_t j_m_i_176823 = sub64(loop_dz2084Uz2082U_176743, start_176822);
                bool empty_slice_176824 = j_m_i_176823 == (int64_t) 0;
                int64_t m_176825 = sub64(j_m_i_176823, (int64_t) 1);
                int64_t i_p_m_t_s_176826 = add64(start_176822, m_176825);
                bool zzero_leq_i_p_m_t_s_176827 = sle64((int64_t) 0, i_p_m_t_s_176826);
                bool i_p_m_t_s_leq_w_176828 = slt64(i_p_m_t_s_176826, loop_dz2084Uz2082U_176743);
                bool zzero_lte_i_176829 = sle64((int64_t) 0, start_176822);
                bool i_lte_j_176830 = sle64(start_176822, loop_dz2084Uz2082U_176743);
                bool y_176831 = i_p_m_t_s_leq_w_176828 && zzero_lte_i_176829;
                bool y_176832 = zzero_leq_i_p_m_t_s_176827 && y_176831;
                bool forwards_ok_176833 = i_lte_j_176830 && y_176832;
                bool ok_or_empty_176834 = empty_slice_176824 || forwards_ok_176833;
                bool index_certs_176835;
                
                if (!ok_or_empty_176834) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_176822, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_176743, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_176836 = slt64(m_176758, j_m_i_176823);
                bool y_176837 = zzero_leq_i_p_m_t_s_176759 && i_p_m_t_s_leq_w_176836;
                bool forwards_ok_176838 = i_lte_j_176760 && y_176837;
                bool ok_or_empty_176839 = zzero_176750 || forwards_ok_176838;
                bool index_certs_176840;
                
                if (!ok_or_empty_176839) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176749, "] out of bounds for array of shape [", (long long) j_m_i_176823, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_176761) {
                    int8_t dummy_179485;
                    int64_t dummy_179486;
                    double dummy_179487;
                    
                    if (cond_176781) {
                        int8_t head_res_179488 = ((int8_t *) mem_param_180898.mem)[start_176822];
                        int64_t head_res_179489 = ((int64_t *) mem_param_180901.mem)[start_176822];
                        double head_res_179490 = ((double *) mem_param_180904.mem)[start_176822];
                        
                        dummy_179485 = head_res_179488;
                        dummy_179486 = head_res_179489;
                        dummy_179487 = head_res_179490;
                    } else {
                        int64_t slice_179491 = stride_176748 + start_176822;
                        int8_t head_res_179492 = ((int8_t *) mem_param_180898.mem)[slice_179491];
                        int64_t head_res_179493 = ((int64_t *) mem_param_180901.mem)[slice_179491];
                        double head_res_179494 = ((double *) mem_param_180904.mem)[slice_179491];
                        
                        dummy_179485 = head_res_179492;
                        dummy_179486 = head_res_179493;
                        dummy_179487 = head_res_179494;
                    }
                    if (memblock_alloc(ctx, &mem_181007, next_stride_176749, "mem_181007")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181634 = 0; nest_i_181634 < next_stride_176749; nest_i_181634++) {
                        ((int8_t *) mem_181007.mem)[nest_i_181634] = dummy_179485;
                    }
                    if (memblock_alloc(ctx, &mem_181009, bytes_181008, "mem_181009")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181635 = 0; nest_i_181635 < next_stride_176749; nest_i_181635++) {
                        ((int64_t *) mem_181009.mem)[nest_i_181635] = dummy_179486;
                    }
                    if (memblock_alloc(ctx, &mem_181011, bytes_181008, "mem_181011")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181636 = 0; nest_i_181636 < next_stride_176749; nest_i_181636++) {
                        ((double *) mem_181011.mem)[nest_i_181636] = dummy_179487;
                    }
                    
                    int64_t data_179498;
                    int64_t i_179503 = (int64_t) 0;
                    
                    for (int64_t k_179502 = 0; k_179502 < next_stride_176749; k_179502++) {
                        int64_t j_179507 = sub64(k_179502, i_179503);
                        bool cond_179508 = j_179507 == j_m_i_176771;
                        bool cond_179509;
                        
                        if (cond_179508) {
                            cond_179509 = 1;
                        } else {
                            bool cond_179510 = slt64(i_179503, stride_176748);
                            bool cond_f_res_179511;
                            
                            if (cond_179510) {
                                bool x_179512 = sle64((int64_t) 0, j_179507);
                                bool y_179513 = slt64(j_179507, j_m_i_176771);
                                bool bounds_check_179514 = x_179512 && y_179513;
                                bool index_certs_179515;
                                
                                if (!bounds_check_179514) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179507, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179521 = sle64((int64_t) 0, i_179503);
                                bool bounds_check_179522 = cond_179510 && x_179521;
                                bool index_certs_179523;
                                
                                if (!bounds_check_179522) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179503, "] out of bounds for array of shape [", (long long) stride_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_179516 = stride_176748 + j_179507;
                                int64_t slice_179517 = start_176822 + slice_179516;
                                int8_t leq_arg1_179518 = ((int8_t *) mem_param_180898.mem)[slice_179517];
                                int64_t leq_arg1_179519 = ((int64_t *) mem_param_180901.mem)[slice_179517];
                                double leq_arg1_179520 = ((double *) mem_param_180904.mem)[slice_179517];
                                int64_t slice_179524 = start_176822 + i_179503;
                                int8_t leq_arg0_179525 = ((int8_t *) mem_param_180898.mem)[slice_179524];
                                int64_t leq_arg0_179526 = ((int64_t *) mem_param_180901.mem)[slice_179524];
                                double leq_arg0_179527 = ((double *) mem_param_180904.mem)[slice_179524];
                                bool cond_179528 = leq_arg0_179525 == leq_arg1_179518;
                                bool defunc_0_leq_res_t_res_179529 = sle64(leq_arg0_179526, leq_arg1_179519);
                                bool defunc_0_leq_res_179530 = leq_arg0_179527 <= leq_arg1_179520;
                                bool x_179531 = cond_179528 && defunc_0_leq_res_t_res_179529;
                                bool x_179532 = !cond_179528;
                                bool y_179533 = defunc_0_leq_res_179530 && x_179532;
                                bool defunc_0_leq_res_179534 = x_179531 || y_179533;
                                
                                cond_f_res_179511 = defunc_0_leq_res_179534;
                            } else {
                                cond_f_res_179511 = 0;
                            }
                            cond_179509 = cond_f_res_179511;
                        }
                        
                        int64_t loopres_179535;
                        int8_t loopres_179536;
                        int64_t loopres_179537;
                        double loopres_179538;
                        
                        if (cond_179509) {
                            bool x_179540 = sle64((int64_t) 0, i_179503);
                            bool y_179541 = slt64(i_179503, stride_176748);
                            bool bounds_check_179542 = x_179540 && y_179541;
                            bool index_certs_179543;
                            
                            if (!bounds_check_179542) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179503, "] out of bounds for array of shape [", (long long) stride_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_179539 = add64((int64_t) 1, i_179503);
                            int64_t slice_179544 = start_176822 + i_179503;
                            int8_t tmp_179545 = ((int8_t *) mem_param_180898.mem)[slice_179544];
                            int64_t tmp_179546 = ((int64_t *) mem_param_180901.mem)[slice_179544];
                            double tmp_179547 = ((double *) mem_param_180904.mem)[slice_179544];
                            
                            loopres_179535 = tmp_179539;
                            loopres_179536 = tmp_179545;
                            loopres_179537 = tmp_179546;
                            loopres_179538 = tmp_179547;
                        } else {
                            bool x_179548 = sle64((int64_t) 0, j_179507);
                            bool y_179549 = slt64(j_179507, j_m_i_176771);
                            bool bounds_check_179550 = x_179548 && y_179549;
                            bool index_certs_179551;
                            
                            if (!bounds_check_179550) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179507, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_179552 = stride_176748 + j_179507;
                            int64_t slice_179553 = start_176822 + slice_179552;
                            int8_t tmp_179554 = ((int8_t *) mem_param_180898.mem)[slice_179553];
                            int64_t tmp_179555 = ((int64_t *) mem_param_180901.mem)[slice_179553];
                            double tmp_179556 = ((double *) mem_param_180904.mem)[slice_179553];
                            
                            loopres_179535 = i_179503;
                            loopres_179536 = tmp_179554;
                            loopres_179537 = tmp_179555;
                            loopres_179538 = tmp_179556;
                        }
                        ((int8_t *) mem_181007.mem)[k_179502] = loopres_179536;
                        ((int64_t *) mem_181009.mem)[k_179502] = loopres_179537;
                        ((double *) mem_181011.mem)[k_179502] = loopres_179538;
                        
                        int64_t i_tmp_181637 = loopres_179535;
                        
                        i_179503 = i_tmp_181637;
                    }
                    data_179498 = i_179503;
                    if (memblock_set(ctx, &ext_mem_181038, &mem_181007, "mem_181007") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181035, &mem_181009, "mem_181009") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181032, &mem_181011, "mem_181011") != 0)
                        return 1;
                } else {
                    if (mem_180926_cached_sizze_181773 < bytes_180925) {
                        err = lexical_realloc(ctx, &mem_180926, &mem_180926_cached_sizze_181773, bytes_180925);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180928_cached_sizze_181774 < bytes_180925) {
                        err = lexical_realloc(ctx, &mem_180928, &mem_180928_cached_sizze_181774, bytes_180925);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179822 = 0; i_179822 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770; i_179822++) {
                        int64_t split_count_arg3_176923 = mul64(merge_block_sizze_176586, i_179822);
                        int64_t defunc_0_split_count_res_176924;
                        int64_t defunc_0_split_count_res_176925;
                        int64_t defunc_0_split_count_res_176926;
                        int64_t defunc_0_split_count_res_176927;
                        int64_t defunc_0_split_count_res_176928;
                        
                        if (futrts_lifted_normalizze_8970(ctx, &defunc_0_split_count_res_176924, &defunc_0_split_count_res_176925, &defunc_0_split_count_res_176926, &defunc_0_split_count_res_176927, &defunc_0_split_count_res_176928, (int64_t) 0, stride_176748, (int64_t) 0, j_m_i_176771, split_count_arg3_176923) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_176929 = slt64((int64_t) 0, defunc_0_split_count_res_176928);
                        bool defunc_0_split_count_res_176930;
                        int64_t defunc_0_split_count_res_176931;
                        int64_t defunc_0_split_count_res_176932;
                        int64_t defunc_0_split_count_res_176933;
                        int64_t defunc_0_split_count_res_176934;
                        int64_t defunc_0_split_count_res_176935;
                        bool loop_while_176936;
                        int64_t ss_176937;
                        int64_t ss_176938;
                        int64_t tt_176939;
                        int64_t tt_176940;
                        int64_t count_176941;
                        
                        loop_while_176936 = loop_cond_176929;
                        ss_176937 = defunc_0_split_count_res_176924;
                        ss_176938 = defunc_0_split_count_res_176925;
                        tt_176939 = defunc_0_split_count_res_176926;
                        tt_176940 = defunc_0_split_count_res_176927;
                        count_176941 = defunc_0_split_count_res_176928;
                        while (loop_while_176936) {
                            int64_t zlze_lhs_176942 = sub64(ss_176938, ss_176937);
                            bool cond_176943 = sle64(zlze_lhs_176942, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_176944;
                            int64_t defunc_0_lifted_step_res_176945;
                            int64_t defunc_0_lifted_step_res_176946;
                            int64_t defunc_0_lifted_step_res_176947;
                            
                            if (cond_176943) {
                                int64_t tmp_179560 = add64(tt_176939, count_176941);
                                
                                defunc_0_lifted_step_res_176944 = ss_176937;
                                defunc_0_lifted_step_res_176945 = tmp_179560;
                                defunc_0_lifted_step_res_176946 = tt_176940;
                                defunc_0_lifted_step_res_176947 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_176949 = sub64(tt_176940, tt_176939);
                                bool cond_176950 = sle64(zlze_lhs_176949, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_176951;
                                int64_t defunc_0_lifted_step_res_f_res_176952;
                                int64_t defunc_0_lifted_step_res_f_res_176953;
                                int64_t defunc_0_lifted_step_res_f_res_176954;
                                
                                if (cond_176950) {
                                    int64_t tmp_179561 = add64(ss_176937, count_176941);
                                    
                                    defunc_0_lifted_step_res_f_res_176951 = tmp_179561;
                                    defunc_0_lifted_step_res_f_res_176952 = tt_176939;
                                    defunc_0_lifted_step_res_f_res_176953 = tt_176940;
                                    defunc_0_lifted_step_res_f_res_176954 = (int64_t) 0;
                                } else {
                                    bool cond_176956 = count_176941 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_176957;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_176958;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_176959;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_176960;
                                    
                                    if (cond_176956) {
                                        bool x_179563 = sle64((int64_t) 0, ss_176937);
                                        bool y_179564 = slt64(ss_176937, stride_176748);
                                        bool bounds_check_179565 = x_179563 && y_179564;
                                        bool index_certs_179566;
                                        
                                        if (!bounds_check_179565) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_176937, "] out of bounds for array of shape [", (long long) stride_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179571 = sle64((int64_t) 0, tt_176939);
                                        bool y_179572 = slt64(tt_176939, j_m_i_176771);
                                        bool bounds_check_179573 = x_179571 && y_179572;
                                        bool index_certs_179574;
                                        
                                        if (!bounds_check_179573) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_176939, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179567 = start_176822 + ss_176937;
                                        int8_t leq_arg1_179568 = ((int8_t *) mem_param_180898.mem)[slice_179567];
                                        int64_t leq_arg1_179569 = ((int64_t *) mem_param_180901.mem)[slice_179567];
                                        double leq_arg1_179570 = ((double *) mem_param_180904.mem)[slice_179567];
                                        int64_t slice_179575 = stride_176748 + tt_176939;
                                        int64_t slice_179576 = start_176822 + slice_179575;
                                        int8_t leq_arg0_179577 = ((int8_t *) mem_param_180898.mem)[slice_179576];
                                        int64_t leq_arg0_179578 = ((int64_t *) mem_param_180901.mem)[slice_179576];
                                        double leq_arg0_179579 = ((double *) mem_param_180904.mem)[slice_179576];
                                        bool cond_179580 = leq_arg0_179577 == leq_arg1_179568;
                                        bool defunc_0_leq_res_t_res_179581 = sle64(leq_arg0_179578, leq_arg1_179569);
                                        bool defunc_0_leq_res_179582 = leq_arg0_179579 <= leq_arg1_179570;
                                        bool x_179583 = cond_179580 && defunc_0_leq_res_t_res_179581;
                                        bool x_179584 = !cond_179580;
                                        bool y_179585 = defunc_0_leq_res_179582 && x_179584;
                                        bool defunc_0_leq_res_179586 = x_179583 || y_179585;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179587;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179588;
                                        
                                        if (defunc_0_leq_res_179586) {
                                            int64_t tmp_179589 = add64((int64_t) 1, tt_176939);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179587 = ss_176937;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179588 = tmp_179589;
                                        } else {
                                            int64_t tmp_179590 = add64((int64_t) 1, ss_176937);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179587 = tmp_179590;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179588 = tt_176939;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_176957 = defunc_0_lifted_step_res_f_res_f_res_t_res_179587;
                                        defunc_0_lifted_step_res_f_res_f_res_176958 = defunc_0_lifted_step_res_f_res_f_res_t_res_179588;
                                        defunc_0_lifted_step_res_f_res_f_res_176959 = tt_176940;
                                        defunc_0_lifted_step_res_f_res_f_res_176960 = (int64_t) 0;
                                    } else {
                                        int64_t m_176989 = sdiv64(count_176941, (int64_t) 2);
                                        int64_t n_176990 = sub64(count_176941, m_176989);
                                        bool cond_176991 = n_176990 == (int64_t) 0;
                                        int64_t zgze_lhs_176992 = add64(ss_176937, m_176989);
                                        bool cond_f_res_176993 = sle64(ss_176938, zgze_lhs_176992);
                                        bool x_176994 = !cond_176991;
                                        bool y_176995 = cond_f_res_176993 && x_176994;
                                        bool cond_176996 = cond_176991 || y_176995;
                                        bool leq_y_x_176997;
                                        
                                        if (cond_176996) {
                                            leq_y_x_176997 = 1;
                                        } else {
                                            bool x_176998 = sle64((int64_t) 0, zgze_lhs_176992);
                                            bool y_176999 = slt64(zgze_lhs_176992, stride_176748);
                                            bool bounds_check_177000 = x_176998 && y_176999;
                                            bool index_certs_177001;
                                            
                                            if (!bounds_check_177000) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_176992, "] out of bounds for array of shape [", (long long) stride_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_177006 = add64(tt_176939, n_176990);
                                            int64_t leq_arg0_177007 = sub64(zm_lhs_177006, (int64_t) 1);
                                            bool x_177008 = sle64((int64_t) 0, leq_arg0_177007);
                                            bool y_177009 = slt64(leq_arg0_177007, j_m_i_176771);
                                            bool bounds_check_177010 = x_177008 && y_177009;
                                            bool index_certs_177011;
                                            
                                            if (!bounds_check_177010) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177007, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177002 = start_176822 + zgze_lhs_176992;
                                            int8_t leq_arg1_177003 = ((int8_t *) mem_param_180898.mem)[slice_177002];
                                            int64_t leq_arg1_177004 = ((int64_t *) mem_param_180901.mem)[slice_177002];
                                            double leq_arg1_177005 = ((double *) mem_param_180904.mem)[slice_177002];
                                            int64_t slice_177012 = stride_176748 + leq_arg0_177007;
                                            int64_t slice_177013 = start_176822 + slice_177012;
                                            int8_t leq_arg0_177014 = ((int8_t *) mem_param_180898.mem)[slice_177013];
                                            int64_t leq_arg0_177015 = ((int64_t *) mem_param_180901.mem)[slice_177013];
                                            double leq_arg0_177016 = ((double *) mem_param_180904.mem)[slice_177013];
                                            bool cond_177017 = leq_arg0_177014 == leq_arg1_177003;
                                            bool defunc_0_leq_res_t_res_177018 = sle64(leq_arg0_177015, leq_arg1_177004);
                                            bool defunc_0_leq_res_177019 = leq_arg0_177016 <= leq_arg1_177005;
                                            bool x_177020 = cond_177017 && defunc_0_leq_res_t_res_177018;
                                            bool x_177021 = !cond_177017;
                                            bool y_177022 = defunc_0_leq_res_177019 && x_177021;
                                            bool defunc_0_leq_res_177023 = x_177020 || y_177022;
                                            
                                            leq_y_x_176997 = defunc_0_leq_res_177023;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177024;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177025;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177026;
                                        
                                        if (leq_y_x_176997) {
                                            int64_t tmp_179591 = add64(tt_176939, n_176990);
                                            int64_t tmp_179592 = sub64(count_176941, n_176990);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177024 = tmp_179591;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177025 = tt_176940;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177026 = tmp_179592;
                                        } else {
                                            int64_t tmp_177029 = add64(tt_176939, n_176990);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177024 = tt_176939;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177025 = tmp_177029;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177026 = count_176941;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_176957 = ss_176937;
                                        defunc_0_lifted_step_res_f_res_f_res_176958 = defunc_0_lifted_step_res_f_res_f_res_f_res_177024;
                                        defunc_0_lifted_step_res_f_res_f_res_176959 = defunc_0_lifted_step_res_f_res_f_res_f_res_177025;
                                        defunc_0_lifted_step_res_f_res_f_res_176960 = defunc_0_lifted_step_res_f_res_f_res_f_res_177026;
                                    }
                                    defunc_0_lifted_step_res_f_res_176951 = defunc_0_lifted_step_res_f_res_f_res_176957;
                                    defunc_0_lifted_step_res_f_res_176952 = defunc_0_lifted_step_res_f_res_f_res_176958;
                                    defunc_0_lifted_step_res_f_res_176953 = defunc_0_lifted_step_res_f_res_f_res_176959;
                                    defunc_0_lifted_step_res_f_res_176954 = defunc_0_lifted_step_res_f_res_f_res_176960;
                                }
                                defunc_0_lifted_step_res_176944 = defunc_0_lifted_step_res_f_res_176951;
                                defunc_0_lifted_step_res_176945 = defunc_0_lifted_step_res_f_res_176952;
                                defunc_0_lifted_step_res_176946 = defunc_0_lifted_step_res_f_res_176953;
                                defunc_0_lifted_step_res_176947 = defunc_0_lifted_step_res_f_res_176954;
                            }
                            
                            int64_t loopres_177030;
                            int64_t loopres_177031;
                            int64_t loopres_177032;
                            int64_t loopres_177033;
                            int64_t loopres_177034;
                            
                            if (futrts_lifted_normalizze_8970(ctx, &loopres_177030, &loopres_177031, &loopres_177032, &loopres_177033, &loopres_177034, defunc_0_lifted_step_res_176944, ss_176938, defunc_0_lifted_step_res_176945, defunc_0_lifted_step_res_176946, defunc_0_lifted_step_res_176947) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_177035 = slt64((int64_t) 0, loopres_177034);
                            bool loop_while_tmp_181643 = loop_cond_177035;
                            int64_t ss_tmp_181644 = loopres_177030;
                            int64_t ss_tmp_181645 = loopres_177031;
                            int64_t tt_tmp_181646 = loopres_177032;
                            int64_t tt_tmp_181647 = loopres_177033;
                            int64_t count_tmp_181648 = loopres_177034;
                            
                            loop_while_176936 = loop_while_tmp_181643;
                            ss_176937 = ss_tmp_181644;
                            ss_176938 = ss_tmp_181645;
                            tt_176939 = tt_tmp_181646;
                            tt_176940 = tt_tmp_181647;
                            count_176941 = count_tmp_181648;
                        }
                        defunc_0_split_count_res_176930 = loop_while_176936;
                        defunc_0_split_count_res_176931 = ss_176937;
                        defunc_0_split_count_res_176932 = ss_176938;
                        defunc_0_split_count_res_176933 = tt_176939;
                        defunc_0_split_count_res_176934 = tt_176940;
                        defunc_0_split_count_res_176935 = count_176941;
                        ((int64_t *) mem_180926)[i_179822] = defunc_0_split_count_res_176931;
                        ((int64_t *) mem_180928)[i_179822] = defunc_0_split_count_res_176933;
                    }
                    if (mem_180942_cached_sizze_181775 < flat_dim_176772) {
                        err = lexical_realloc(ctx, &mem_180942, &mem_180942_cached_sizze_181775, flat_dim_176772);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180945_cached_sizze_181776 < bytes_180944) {
                        err = lexical_realloc(ctx, &mem_180945, &mem_180945_cached_sizze_181776, bytes_180944);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180948_cached_sizze_181777 < bytes_180944) {
                        err = lexical_realloc(ctx, &mem_180948, &mem_180948_cached_sizze_181777, bytes_180944);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179831 = 0; i_179831 < num_blocks_176769; i_179831++) {
                        bool y_177042 = slt64(i_179831, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770);
                        bool index_certs_177044;
                        
                        if (!y_177042) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179831, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177045 = ((int64_t *) mem_180926)[i_179831];
                        int64_t defunc_0_f_res_177046 = ((int64_t *) mem_180928)[i_179831];
                        int64_t tmp_177047 = add64((int64_t) 1, i_179831);
                        bool x_177048 = sle64((int64_t) 0, tmp_177047);
                        bool y_177049 = slt64(tmp_177047, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770);
                        bool bounds_check_177050 = x_177048 && y_177049;
                        bool index_certs_177051;
                        
                        if (!bounds_check_177050) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177047, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177052 = ((int64_t *) mem_180926)[tmp_177047];
                        int64_t defunc_0_f_res_177053 = ((int64_t *) mem_180928)[tmp_177047];
                        int64_t merge_sequential_arg2_177054 = add64(stride_176748, defunc_0_f_res_177046);
                        int64_t merge_sequential_arg2_177055 = add64(stride_176748, defunc_0_f_res_177053);
                        int64_t j_m_i_177056 = sub64(merge_sequential_arg2_177055, merge_sequential_arg2_177054);
                        bool empty_slice_177057 = j_m_i_177056 == (int64_t) 0;
                        int64_t m_177058 = sub64(j_m_i_177056, (int64_t) 1);
                        int64_t i_p_m_t_s_177059 = add64(merge_sequential_arg2_177054, m_177058);
                        bool zzero_leq_i_p_m_t_s_177060 = sle64((int64_t) 0, i_p_m_t_s_177059);
                        bool i_p_m_t_s_leq_w_177061 = slt64(i_p_m_t_s_177059, next_stride_176749);
                        bool zzero_lte_i_177062 = sle64((int64_t) 0, merge_sequential_arg2_177054);
                        bool i_lte_j_177063 = sle64(merge_sequential_arg2_177054, merge_sequential_arg2_177055);
                        bool y_177064 = i_p_m_t_s_leq_w_177061 && zzero_lte_i_177062;
                        bool y_177065 = zzero_leq_i_p_m_t_s_177060 && y_177064;
                        bool forwards_ok_177066 = i_lte_j_177063 && y_177065;
                        bool ok_or_empty_177067 = empty_slice_177057 || forwards_ok_177066;
                        bool index_certs_177068;
                        
                        if (!ok_or_empty_177067) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177054, ":", (long long) merge_sequential_arg2_177055, "] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_177069 = sub64(defunc_0_f_res_177052, defunc_0_f_res_177045);
                        bool empty_slice_177070 = j_m_i_177069 == (int64_t) 0;
                        int64_t m_177071 = sub64(j_m_i_177069, (int64_t) 1);
                        int64_t i_p_m_t_s_177072 = add64(defunc_0_f_res_177045, m_177071);
                        bool zzero_leq_i_p_m_t_s_177073 = sle64((int64_t) 0, i_p_m_t_s_177072);
                        bool i_p_m_t_s_leq_w_177074 = slt64(i_p_m_t_s_177072, next_stride_176749);
                        bool zzero_lte_i_177075 = sle64((int64_t) 0, defunc_0_f_res_177045);
                        bool i_lte_j_177076 = sle64(defunc_0_f_res_177045, defunc_0_f_res_177052);
                        bool y_177077 = i_p_m_t_s_leq_w_177074 && zzero_lte_i_177075;
                        bool y_177078 = zzero_leq_i_p_m_t_s_177073 && y_177077;
                        bool forwards_ok_177079 = i_lte_j_177076 && y_177078;
                        bool ok_or_empty_177080 = empty_slice_177070 || forwards_ok_177079;
                        bool index_certs_177081;
                        
                        if (!ok_or_empty_177080) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177045, ":", (long long) defunc_0_f_res_177052, "] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_177082 = slt64((int64_t) 0, j_m_i_177069);
                        int8_t dummy_177083;
                        int64_t dummy_177084;
                        double dummy_177085;
                        
                        if (cond_177082) {
                            bool index_certs_179593;
                            
                            if (!cond_177082) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177069, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_179594 = start_176822 + defunc_0_f_res_177045;
                            int8_t head_res_179595 = ((int8_t *) mem_param_180898.mem)[slice_179594];
                            int64_t head_res_179596 = ((int64_t *) mem_param_180901.mem)[slice_179594];
                            double head_res_179597 = ((double *) mem_param_180904.mem)[slice_179594];
                            
                            dummy_177083 = head_res_179595;
                            dummy_177084 = head_res_179596;
                            dummy_177085 = head_res_179597;
                        } else {
                            bool y_177091 = slt64((int64_t) 0, j_m_i_177056);
                            bool index_certs_177092;
                            
                            if (!y_177091) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177056, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177093 = start_176822 + merge_sequential_arg2_177054;
                            int8_t head_res_177094 = ((int8_t *) mem_param_180898.mem)[slice_177093];
                            int64_t head_res_177095 = ((int64_t *) mem_param_180901.mem)[slice_177093];
                            double head_res_177096 = ((double *) mem_param_180904.mem)[slice_177093];
                            
                            dummy_177083 = head_res_177094;
                            dummy_177084 = head_res_177095;
                            dummy_177085 = head_res_177096;
                        }
                        for (int64_t nest_i_181652 = 0; nest_i_181652 < merge_block_sizze_176586; nest_i_181652++) {
                            ((int8_t *) mem_180942)[i_179831 * merge_block_sizze_176586 + nest_i_181652] = dummy_177083;
                        }
                        for (int64_t nest_i_181653 = 0; nest_i_181653 < merge_block_sizze_176586; nest_i_181653++) {
                            ((int64_t *) mem_180945)[i_179831 * merge_block_sizze_176586 + nest_i_181653] = dummy_177084;
                        }
                        for (int64_t nest_i_181654 = 0; nest_i_181654 < merge_block_sizze_176586; nest_i_181654++) {
                            ((double *) mem_180948)[i_179831 * merge_block_sizze_176586 + nest_i_181654] = dummy_177085;
                        }
                        
                        int64_t data_177100;
                        int64_t i_177105 = (int64_t) 0;
                        
                        for (int64_t k_177104 = 0; k_177104 < merge_block_sizze_176586; k_177104++) {
                            int64_t j_177109 = sub64(k_177104, i_177105);
                            bool cond_177110 = j_177109 == j_m_i_177056;
                            bool cond_177111;
                            
                            if (cond_177110) {
                                cond_177111 = 1;
                            } else {
                                bool cond_177112 = slt64(i_177105, j_m_i_177069);
                                bool cond_f_res_177113;
                                
                                if (cond_177112) {
                                    bool x_179598 = sle64((int64_t) 0, j_177109);
                                    bool y_179599 = slt64(j_177109, j_m_i_177056);
                                    bool bounds_check_179600 = x_179598 && y_179599;
                                    bool index_certs_179601;
                                    
                                    if (!bounds_check_179600) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177109, "] out of bounds for array of shape [", (long long) j_m_i_177056, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_179607 = sle64((int64_t) 0, i_177105);
                                    bool bounds_check_179608 = cond_177112 && x_179607;
                                    bool index_certs_179609;
                                    
                                    if (!bounds_check_179608) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177105, "] out of bounds for array of shape [", (long long) j_m_i_177069, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179602 = merge_sequential_arg2_177054 + j_177109;
                                    int64_t slice_179603 = start_176822 + slice_179602;
                                    int8_t leq_arg1_179604 = ((int8_t *) mem_param_180898.mem)[slice_179603];
                                    int64_t leq_arg1_179605 = ((int64_t *) mem_param_180901.mem)[slice_179603];
                                    double leq_arg1_179606 = ((double *) mem_param_180904.mem)[slice_179603];
                                    int64_t slice_179610 = defunc_0_f_res_177045 + i_177105;
                                    int64_t slice_179611 = start_176822 + slice_179610;
                                    int8_t leq_arg0_179612 = ((int8_t *) mem_param_180898.mem)[slice_179611];
                                    int64_t leq_arg0_179613 = ((int64_t *) mem_param_180901.mem)[slice_179611];
                                    double leq_arg0_179614 = ((double *) mem_param_180904.mem)[slice_179611];
                                    bool cond_179615 = leq_arg0_179612 == leq_arg1_179604;
                                    bool defunc_0_leq_res_t_res_179616 = sle64(leq_arg0_179613, leq_arg1_179605);
                                    bool defunc_0_leq_res_179617 = leq_arg0_179614 <= leq_arg1_179606;
                                    bool x_179618 = cond_179615 && defunc_0_leq_res_t_res_179616;
                                    bool x_179619 = !cond_179615;
                                    bool y_179620 = defunc_0_leq_res_179617 && x_179619;
                                    bool defunc_0_leq_res_179621 = x_179618 || y_179620;
                                    
                                    cond_f_res_177113 = defunc_0_leq_res_179621;
                                } else {
                                    cond_f_res_177113 = 0;
                                }
                                cond_177111 = cond_f_res_177113;
                            }
                            
                            int64_t loopres_177138;
                            int8_t loopres_177139;
                            int64_t loopres_177140;
                            double loopres_177141;
                            
                            if (cond_177111) {
                                bool x_179623 = sle64((int64_t) 0, i_177105);
                                bool y_179624 = slt64(i_177105, j_m_i_177069);
                                bool bounds_check_179625 = x_179623 && y_179624;
                                bool index_certs_179626;
                                
                                if (!bounds_check_179625) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177105, "] out of bounds for array of shape [", (long long) j_m_i_177069, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_179622 = add64((int64_t) 1, i_177105);
                                int64_t slice_179627 = defunc_0_f_res_177045 + i_177105;
                                int64_t slice_179628 = start_176822 + slice_179627;
                                int8_t tmp_179629 = ((int8_t *) mem_param_180898.mem)[slice_179628];
                                int64_t tmp_179630 = ((int64_t *) mem_param_180901.mem)[slice_179628];
                                double tmp_179631 = ((double *) mem_param_180904.mem)[slice_179628];
                                
                                loopres_177138 = tmp_179622;
                                loopres_177139 = tmp_179629;
                                loopres_177140 = tmp_179630;
                                loopres_177141 = tmp_179631;
                            } else {
                                bool x_177152 = sle64((int64_t) 0, j_177109);
                                bool y_177153 = slt64(j_177109, j_m_i_177056);
                                bool bounds_check_177154 = x_177152 && y_177153;
                                bool index_certs_177155;
                                
                                if (!bounds_check_177154) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177109, "] out of bounds for array of shape [", (long long) j_m_i_177056, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177156 = merge_sequential_arg2_177054 + j_177109;
                                int64_t slice_177157 = start_176822 + slice_177156;
                                int8_t tmp_177158 = ((int8_t *) mem_param_180898.mem)[slice_177157];
                                int64_t tmp_177159 = ((int64_t *) mem_param_180901.mem)[slice_177157];
                                double tmp_177160 = ((double *) mem_param_180904.mem)[slice_177157];
                                
                                loopres_177138 = i_177105;
                                loopres_177139 = tmp_177158;
                                loopres_177140 = tmp_177159;
                                loopres_177141 = tmp_177160;
                            }
                            ((int8_t *) mem_180942)[i_179831 * merge_block_sizze_176586 + k_177104] = loopres_177139;
                            ((int64_t *) mem_180945)[i_179831 * merge_block_sizze_176586 + k_177104] = loopres_177140;
                            ((double *) mem_180948)[i_179831 * merge_block_sizze_176586 + k_177104] = loopres_177141;
                            
                            int64_t i_tmp_181655 = loopres_177138;
                            
                            i_177105 = i_tmp_181655;
                        }
                        data_177100 = i_177105;
                    }
                    if (memblock_alloc(ctx, &mem_180997, flat_dim_176772, "mem_180997")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180997.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (uint8_t *) mem_180942, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (int64_t []) {num_blocks_176769, merge_block_sizze_176586});
                    if (memblock_alloc(ctx, &mem_181001, bytes_180944, "mem_181001")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181001.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (uint64_t *) mem_180945, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (int64_t []) {num_blocks_176769, merge_block_sizze_176586});
                    if (memblock_alloc(ctx, &mem_181005, bytes_180944, "mem_181005")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181005.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (uint64_t *) mem_180948, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (int64_t []) {num_blocks_176769, merge_block_sizze_176586});
                    if (memblock_set(ctx, &ext_mem_181038, &mem_180997, "mem_180997") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181035, &mem_181001, "mem_181001") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181032, &mem_181005, "mem_181005") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180906, i_179841 * next_stride_176749, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181038.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176749});
                if (memblock_unref(ctx, &ext_mem_181038, "ext_mem_181038") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180909, i_179841 * next_stride_176749, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181035.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176749});
                if (memblock_unref(ctx, &ext_mem_181035, "ext_mem_181035") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180912, i_179841 * next_stride_176749, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181032.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176749});
                if (memblock_unref(ctx, &ext_mem_181032, "ext_mem_181032") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_181052, bytes_180905, "mem_181052")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_181052.mem, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (uint8_t *) mem_180906, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (int64_t []) {num_merges_176753, next_stride_176749});
            if (memblock_alloc(ctx, &mem_181056, bytes_180908, "mem_181056")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181056.mem, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (uint64_t *) mem_180909, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (int64_t []) {num_merges_176753, next_stride_176749});
            if (memblock_alloc(ctx, &mem_181060, bytes_180908, "mem_181060")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181060.mem, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (uint64_t *) mem_180912, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (int64_t []) {num_merges_176753, next_stride_176749});
            
            bool loop_cond_177174 = slt64(next_stride_176749, flat_dim_176581);
            
            if (memblock_set(ctx, &mem_param_tmp_181622, &mem_181052, "mem_181052") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181623, &mem_181056, "mem_181056") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181624, &mem_181060, "mem_181060") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_181625 = bytes_180905;
            bool loop_while_tmp_181626 = loop_cond_177174;
            int64_t stride_tmp_181630 = next_stride_176749;
            
            if (memblock_set(ctx, &mem_param_180898, &mem_param_tmp_181622, "mem_param_tmp_181622") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180901, &mem_param_tmp_181623, "mem_param_tmp_181623") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180904, &mem_param_tmp_181624, "mem_param_tmp_181624") != 0)
                return 1;
            loop_dz2084Uz2082U_176743 = loop_dz2084Uz2082U_tmp_181625;
            loop_while_176744 = loop_while_tmp_181626;
            stride_176748 = stride_tmp_181630;
        }
        if (memblock_set(ctx, &ext_mem_181070, &mem_param_180898, "mem_param_180898") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181069, &mem_param_180901, "mem_param_180901") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181068, &mem_param_180904, "mem_param_180904") != 0)
            return 1;
        data_176737 = loop_dz2084Uz2082U_176743;
        data_176738 = loop_while_176744;
        data_176742 = stride_176748;
        if (memblock_unref(ctx, &mem_180886, "mem_180886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180890, "mem_180890") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180894, "mem_180894") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_177177 = slt64(zs_lhs_176565, data_176737);
        bool y_177178 = i_p_m_t_s_leq_w_177177 && zzero_leq_i_p_m_t_s_177191;
        bool ok_or_empty_177179 = y_177178 || empty_slice_177189;
        bool index_certs_177180;
        
        if (!ok_or_empty_177179) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "] out of bounds for array of shape [", (long long) data_176737, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181079, &ext_mem_181070, "ext_mem_181070") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181076, &ext_mem_181069, "ext_mem_181069") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181073, &ext_mem_181068, "ext_mem_181068") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_180780, "mem_180780") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_180782, "mem_180782") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_180784, "mem_180784") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_179988.mem, final_buffer_177196, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181079.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177197});
    if (memblock_unref(ctx, &ext_mem_181079, "ext_mem_181079") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_179990.mem, final_buffer_177196, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181076.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177197});
    if (memblock_unref(ctx, &ext_mem_181076, "ext_mem_181076") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_179992.mem, final_buffer_177196, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181073.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177197});
    if (memblock_unref(ctx, &ext_mem_181073, "ext_mem_181073") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181400, &mem_179990, "mem_179990") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181401, &mem_179988, "mem_179988") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181402, &mem_179992, "mem_179992") != 0)
        return 1;
    prim_out_181403 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475;
    if (memblock_set(ctx, &*mem_out_p_181724, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181725, &mem_out_181401, "mem_out_181401") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181726, &mem_out_181402, "mem_out_181402") != 0)
        return 1;
    *out_prim_out_181727 = prim_out_181403;
    
  cleanup:
    {
        free(mem_180003);
        free(mem_180005);
        free(mem_180044);
        free(mem_180047);
        free(mem_180050);
        free(mem_180063);
        free(mem_180065);
        free(mem_180067);
        free(mem_180164);
        free(mem_180167);
        free(mem_180170);
        free(mem_180184);
        free(mem_180186);
        free(mem_180200);
        free(mem_180203);
        free(mem_180206);
        free(mem_180348);
        free(mem_180350);
        free(mem_180365);
        free(mem_180367);
        free(mem_180370);
        free(mem_180373);
        free(mem_180407);
        free(mem_180410);
        free(mem_180413);
        free(mem_180426);
        free(mem_180428);
        free(mem_180430);
        free(mem_180527);
        free(mem_180530);
        free(mem_180533);
        free(mem_180547);
        free(mem_180549);
        free(mem_180563);
        free(mem_180566);
        free(mem_180569);
        free(mem_180786);
        free(mem_180789);
        free(mem_180792);
        free(mem_180805);
        free(mem_180807);
        free(mem_180809);
        free(mem_180906);
        free(mem_180909);
        free(mem_180912);
        free(mem_180926);
        free(mem_180928);
        free(mem_180942);
        free(mem_180945);
        free(mem_180948);
        if (memblock_unref(ctx, &mem_param_tmp_181624, "mem_param_tmp_181624") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181623, "mem_param_tmp_181623") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181622, "mem_param_tmp_181622") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181060, "mem_181060") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181056, "mem_181056") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181052, "mem_181052") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181005, "mem_181005") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181001, "mem_181001") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180997, "mem_180997") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181011, "mem_181011") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181009, "mem_181009") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181007, "mem_181007") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181032, "ext_mem_181032") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181035, "ext_mem_181035") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181038, "ext_mem_181038") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180904, "mem_param_180904") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180901, "mem_param_180901") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180898, "mem_param_180898") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181068, "ext_mem_181068") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181069, "ext_mem_181069") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181070, "ext_mem_181070") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180894, "mem_180894") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180890, "mem_180890") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180886, "mem_180886") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181073, "ext_mem_181073") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181076, "ext_mem_181076") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181079, "ext_mem_181079") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180784, "mem_180784") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180782, "mem_180782") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180780, "mem_180780") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181558, "mem_param_tmp_181558") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181557, "mem_param_tmp_181557") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181556, "mem_param_tmp_181556") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180318, "mem_180318") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180314, "mem_180314") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180310, "mem_180310") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180263, "mem_180263") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180259, "mem_180259") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180255, "mem_180255") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180269, "mem_180269") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180267, "mem_180267") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180265, "mem_180265") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180290, "ext_mem_180290") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180293, "ext_mem_180293") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180296, "ext_mem_180296") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180162, "mem_param_180162") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180159, "mem_param_180159") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180156, "mem_param_180156") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180326, "ext_mem_180326") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180327, "ext_mem_180327") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180328, "ext_mem_180328") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180152, "mem_180152") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180148, "mem_180148") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180144, "mem_180144") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180331, "ext_mem_180331") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180334, "ext_mem_180334") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180337, "ext_mem_180337") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180042, "mem_180042") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180040, "mem_180040") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180038, "mem_180038") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180022, "mem_180022") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180020, "mem_180020") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180018, "mem_180018") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180729, "mem_180729") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180728, "mem_180728") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180726, "mem_180726") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181464, "mem_param_tmp_181464") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181463, "mem_param_tmp_181463") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181462, "mem_param_tmp_181462") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180681, "mem_180681") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180677, "mem_180677") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180673, "mem_180673") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180626, "mem_180626") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180622, "mem_180622") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180618, "mem_180618") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180632, "mem_180632") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180630, "mem_180630") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180628, "mem_180628") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180653, "ext_mem_180653") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180656, "ext_mem_180656") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180659, "ext_mem_180659") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180525, "mem_param_180525") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180522, "mem_param_180522") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180519, "mem_param_180519") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180689, "ext_mem_180689") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180690, "ext_mem_180690") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180691, "ext_mem_180691") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180515, "mem_180515") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180511, "mem_180511") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180507, "mem_180507") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180694, "ext_mem_180694") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180700, "ext_mem_180700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180405, "mem_180405") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180403, "mem_180403") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180401, "mem_180401") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180750, "ext_mem_180750") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180753, "ext_mem_180753") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180756, "ext_mem_180756") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179992, "mem_179992") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179990, "mem_179990") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179988, "mem_179988") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181402, "mem_out_181402") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181401, "mem_out_181401") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_float(struct futhark_context *ctx, struct memblock *mem_out_p_181778, struct memblock *mem_out_p_181779, struct memblock *mem_out_p_181780, int64_t *out_prim_out_181781, struct memblock a_list_mem_179986, struct memblock b_list_mem_179987, int64_t na_151707, int64_t nb_151708, int64_t window_sizze_151709, int64_t threads_151710, bool inParallel_151713)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180003_cached_sizze_181782 = 0;
    unsigned char *mem_180003 = NULL;
    int64_t mem_180005_cached_sizze_181783 = 0;
    unsigned char *mem_180005 = NULL;
    int64_t mem_180044_cached_sizze_181784 = 0;
    unsigned char *mem_180044 = NULL;
    int64_t mem_180047_cached_sizze_181785 = 0;
    unsigned char *mem_180047 = NULL;
    int64_t mem_180050_cached_sizze_181786 = 0;
    unsigned char *mem_180050 = NULL;
    int64_t mem_180063_cached_sizze_181787 = 0;
    unsigned char *mem_180063 = NULL;
    int64_t mem_180065_cached_sizze_181788 = 0;
    unsigned char *mem_180065 = NULL;
    int64_t mem_180067_cached_sizze_181789 = 0;
    unsigned char *mem_180067 = NULL;
    int64_t mem_180164_cached_sizze_181790 = 0;
    unsigned char *mem_180164 = NULL;
    int64_t mem_180167_cached_sizze_181791 = 0;
    unsigned char *mem_180167 = NULL;
    int64_t mem_180170_cached_sizze_181792 = 0;
    unsigned char *mem_180170 = NULL;
    int64_t mem_180184_cached_sizze_181793 = 0;
    unsigned char *mem_180184 = NULL;
    int64_t mem_180186_cached_sizze_181794 = 0;
    unsigned char *mem_180186 = NULL;
    int64_t mem_180200_cached_sizze_181795 = 0;
    unsigned char *mem_180200 = NULL;
    int64_t mem_180203_cached_sizze_181796 = 0;
    unsigned char *mem_180203 = NULL;
    int64_t mem_180206_cached_sizze_181797 = 0;
    unsigned char *mem_180206 = NULL;
    int64_t mem_180348_cached_sizze_181798 = 0;
    unsigned char *mem_180348 = NULL;
    int64_t mem_180350_cached_sizze_181799 = 0;
    unsigned char *mem_180350 = NULL;
    int64_t mem_180365_cached_sizze_181800 = 0;
    unsigned char *mem_180365 = NULL;
    int64_t mem_180367_cached_sizze_181801 = 0;
    unsigned char *mem_180367 = NULL;
    int64_t mem_180370_cached_sizze_181802 = 0;
    unsigned char *mem_180370 = NULL;
    int64_t mem_180373_cached_sizze_181803 = 0;
    unsigned char *mem_180373 = NULL;
    int64_t mem_180407_cached_sizze_181804 = 0;
    unsigned char *mem_180407 = NULL;
    int64_t mem_180410_cached_sizze_181805 = 0;
    unsigned char *mem_180410 = NULL;
    int64_t mem_180413_cached_sizze_181806 = 0;
    unsigned char *mem_180413 = NULL;
    int64_t mem_180426_cached_sizze_181807 = 0;
    unsigned char *mem_180426 = NULL;
    int64_t mem_180428_cached_sizze_181808 = 0;
    unsigned char *mem_180428 = NULL;
    int64_t mem_180430_cached_sizze_181809 = 0;
    unsigned char *mem_180430 = NULL;
    int64_t mem_180527_cached_sizze_181810 = 0;
    unsigned char *mem_180527 = NULL;
    int64_t mem_180530_cached_sizze_181811 = 0;
    unsigned char *mem_180530 = NULL;
    int64_t mem_180533_cached_sizze_181812 = 0;
    unsigned char *mem_180533 = NULL;
    int64_t mem_180547_cached_sizze_181813 = 0;
    unsigned char *mem_180547 = NULL;
    int64_t mem_180549_cached_sizze_181814 = 0;
    unsigned char *mem_180549 = NULL;
    int64_t mem_180563_cached_sizze_181815 = 0;
    unsigned char *mem_180563 = NULL;
    int64_t mem_180566_cached_sizze_181816 = 0;
    unsigned char *mem_180566 = NULL;
    int64_t mem_180569_cached_sizze_181817 = 0;
    unsigned char *mem_180569 = NULL;
    int64_t mem_180786_cached_sizze_181818 = 0;
    unsigned char *mem_180786 = NULL;
    int64_t mem_180789_cached_sizze_181819 = 0;
    unsigned char *mem_180789 = NULL;
    int64_t mem_180792_cached_sizze_181820 = 0;
    unsigned char *mem_180792 = NULL;
    int64_t mem_180805_cached_sizze_181821 = 0;
    unsigned char *mem_180805 = NULL;
    int64_t mem_180807_cached_sizze_181822 = 0;
    unsigned char *mem_180807 = NULL;
    int64_t mem_180809_cached_sizze_181823 = 0;
    unsigned char *mem_180809 = NULL;
    int64_t mem_180906_cached_sizze_181824 = 0;
    unsigned char *mem_180906 = NULL;
    int64_t mem_180909_cached_sizze_181825 = 0;
    unsigned char *mem_180909 = NULL;
    int64_t mem_180912_cached_sizze_181826 = 0;
    unsigned char *mem_180912 = NULL;
    int64_t mem_180926_cached_sizze_181827 = 0;
    unsigned char *mem_180926 = NULL;
    int64_t mem_180928_cached_sizze_181828 = 0;
    unsigned char *mem_180928 = NULL;
    int64_t mem_180942_cached_sizze_181829 = 0;
    unsigned char *mem_180942 = NULL;
    int64_t mem_180945_cached_sizze_181830 = 0;
    unsigned char *mem_180945 = NULL;
    int64_t mem_180948_cached_sizze_181831 = 0;
    unsigned char *mem_180948 = NULL;
    struct memblock mem_param_tmp_181624;
    
    mem_param_tmp_181624.references = NULL;
    
    struct memblock mem_param_tmp_181623;
    
    mem_param_tmp_181623.references = NULL;
    
    struct memblock mem_param_tmp_181622;
    
    mem_param_tmp_181622.references = NULL;
    
    struct memblock mem_181060;
    
    mem_181060.references = NULL;
    
    struct memblock mem_181056;
    
    mem_181056.references = NULL;
    
    struct memblock mem_181052;
    
    mem_181052.references = NULL;
    
    struct memblock mem_181005;
    
    mem_181005.references = NULL;
    
    struct memblock mem_181001;
    
    mem_181001.references = NULL;
    
    struct memblock mem_180997;
    
    mem_180997.references = NULL;
    
    struct memblock mem_181011;
    
    mem_181011.references = NULL;
    
    struct memblock mem_181009;
    
    mem_181009.references = NULL;
    
    struct memblock mem_181007;
    
    mem_181007.references = NULL;
    
    struct memblock ext_mem_181032;
    
    ext_mem_181032.references = NULL;
    
    struct memblock ext_mem_181035;
    
    ext_mem_181035.references = NULL;
    
    struct memblock ext_mem_181038;
    
    ext_mem_181038.references = NULL;
    
    struct memblock mem_param_180904;
    
    mem_param_180904.references = NULL;
    
    struct memblock mem_param_180901;
    
    mem_param_180901.references = NULL;
    
    struct memblock mem_param_180898;
    
    mem_param_180898.references = NULL;
    
    struct memblock ext_mem_181068;
    
    ext_mem_181068.references = NULL;
    
    struct memblock ext_mem_181069;
    
    ext_mem_181069.references = NULL;
    
    struct memblock ext_mem_181070;
    
    ext_mem_181070.references = NULL;
    
    struct memblock mem_180894;
    
    mem_180894.references = NULL;
    
    struct memblock mem_180890;
    
    mem_180890.references = NULL;
    
    struct memblock mem_180886;
    
    mem_180886.references = NULL;
    
    struct memblock ext_mem_181073;
    
    ext_mem_181073.references = NULL;
    
    struct memblock ext_mem_181076;
    
    ext_mem_181076.references = NULL;
    
    struct memblock ext_mem_181079;
    
    ext_mem_181079.references = NULL;
    
    struct memblock mem_180784;
    
    mem_180784.references = NULL;
    
    struct memblock mem_180782;
    
    mem_180782.references = NULL;
    
    struct memblock mem_180780;
    
    mem_180780.references = NULL;
    
    struct memblock mem_param_tmp_181558;
    
    mem_param_tmp_181558.references = NULL;
    
    struct memblock mem_param_tmp_181557;
    
    mem_param_tmp_181557.references = NULL;
    
    struct memblock mem_param_tmp_181556;
    
    mem_param_tmp_181556.references = NULL;
    
    struct memblock mem_180318;
    
    mem_180318.references = NULL;
    
    struct memblock mem_180314;
    
    mem_180314.references = NULL;
    
    struct memblock mem_180310;
    
    mem_180310.references = NULL;
    
    struct memblock mem_180263;
    
    mem_180263.references = NULL;
    
    struct memblock mem_180259;
    
    mem_180259.references = NULL;
    
    struct memblock mem_180255;
    
    mem_180255.references = NULL;
    
    struct memblock mem_180269;
    
    mem_180269.references = NULL;
    
    struct memblock mem_180267;
    
    mem_180267.references = NULL;
    
    struct memblock mem_180265;
    
    mem_180265.references = NULL;
    
    struct memblock ext_mem_180290;
    
    ext_mem_180290.references = NULL;
    
    struct memblock ext_mem_180293;
    
    ext_mem_180293.references = NULL;
    
    struct memblock ext_mem_180296;
    
    ext_mem_180296.references = NULL;
    
    struct memblock mem_param_180162;
    
    mem_param_180162.references = NULL;
    
    struct memblock mem_param_180159;
    
    mem_param_180159.references = NULL;
    
    struct memblock mem_param_180156;
    
    mem_param_180156.references = NULL;
    
    struct memblock ext_mem_180326;
    
    ext_mem_180326.references = NULL;
    
    struct memblock ext_mem_180327;
    
    ext_mem_180327.references = NULL;
    
    struct memblock ext_mem_180328;
    
    ext_mem_180328.references = NULL;
    
    struct memblock mem_180152;
    
    mem_180152.references = NULL;
    
    struct memblock mem_180148;
    
    mem_180148.references = NULL;
    
    struct memblock mem_180144;
    
    mem_180144.references = NULL;
    
    struct memblock ext_mem_180331;
    
    ext_mem_180331.references = NULL;
    
    struct memblock ext_mem_180334;
    
    ext_mem_180334.references = NULL;
    
    struct memblock ext_mem_180337;
    
    ext_mem_180337.references = NULL;
    
    struct memblock mem_180042;
    
    mem_180042.references = NULL;
    
    struct memblock mem_180040;
    
    mem_180040.references = NULL;
    
    struct memblock mem_180038;
    
    mem_180038.references = NULL;
    
    struct memblock mem_180022;
    
    mem_180022.references = NULL;
    
    struct memblock mem_180020;
    
    mem_180020.references = NULL;
    
    struct memblock mem_180018;
    
    mem_180018.references = NULL;
    
    struct memblock mem_180729;
    
    mem_180729.references = NULL;
    
    struct memblock mem_180728;
    
    mem_180728.references = NULL;
    
    struct memblock mem_180726;
    
    mem_180726.references = NULL;
    
    struct memblock mem_param_tmp_181464;
    
    mem_param_tmp_181464.references = NULL;
    
    struct memblock mem_param_tmp_181463;
    
    mem_param_tmp_181463.references = NULL;
    
    struct memblock mem_param_tmp_181462;
    
    mem_param_tmp_181462.references = NULL;
    
    struct memblock mem_180681;
    
    mem_180681.references = NULL;
    
    struct memblock mem_180677;
    
    mem_180677.references = NULL;
    
    struct memblock mem_180673;
    
    mem_180673.references = NULL;
    
    struct memblock mem_180626;
    
    mem_180626.references = NULL;
    
    struct memblock mem_180622;
    
    mem_180622.references = NULL;
    
    struct memblock mem_180618;
    
    mem_180618.references = NULL;
    
    struct memblock mem_180632;
    
    mem_180632.references = NULL;
    
    struct memblock mem_180630;
    
    mem_180630.references = NULL;
    
    struct memblock mem_180628;
    
    mem_180628.references = NULL;
    
    struct memblock ext_mem_180653;
    
    ext_mem_180653.references = NULL;
    
    struct memblock ext_mem_180656;
    
    ext_mem_180656.references = NULL;
    
    struct memblock ext_mem_180659;
    
    ext_mem_180659.references = NULL;
    
    struct memblock mem_param_180525;
    
    mem_param_180525.references = NULL;
    
    struct memblock mem_param_180522;
    
    mem_param_180522.references = NULL;
    
    struct memblock mem_param_180519;
    
    mem_param_180519.references = NULL;
    
    struct memblock ext_mem_180689;
    
    ext_mem_180689.references = NULL;
    
    struct memblock ext_mem_180690;
    
    ext_mem_180690.references = NULL;
    
    struct memblock ext_mem_180691;
    
    ext_mem_180691.references = NULL;
    
    struct memblock mem_180515;
    
    mem_180515.references = NULL;
    
    struct memblock mem_180511;
    
    mem_180511.references = NULL;
    
    struct memblock mem_180507;
    
    mem_180507.references = NULL;
    
    struct memblock ext_mem_180694;
    
    ext_mem_180694.references = NULL;
    
    struct memblock ext_mem_180697;
    
    ext_mem_180697.references = NULL;
    
    struct memblock ext_mem_180700;
    
    ext_mem_180700.references = NULL;
    
    struct memblock mem_180405;
    
    mem_180405.references = NULL;
    
    struct memblock mem_180403;
    
    mem_180403.references = NULL;
    
    struct memblock mem_180401;
    
    mem_180401.references = NULL;
    
    struct memblock ext_mem_180750;
    
    ext_mem_180750.references = NULL;
    
    struct memblock ext_mem_180753;
    
    ext_mem_180753.references = NULL;
    
    struct memblock ext_mem_180756;
    
    ext_mem_180756.references = NULL;
    
    struct memblock mem_179992;
    
    mem_179992.references = NULL;
    
    struct memblock mem_179990;
    
    mem_179990.references = NULL;
    
    struct memblock mem_179988;
    
    mem_179988.references = NULL;
    
    struct memblock mem_out_181402;
    
    mem_out_181402.references = NULL;
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    int64_t prim_out_181403;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475 = add64(na_151707, nb_151708);
    
    if (memblock_alloc(ctx, &mem_179988, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, "mem_179988")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181404 = 0; nest_i_181404 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475; nest_i_181404++) {
        ((int8_t *) mem_179988.mem)[nest_i_181404] = (int8_t) -1;
    }
    
    int64_t bytes_179989 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475;
    
    if (memblock_alloc(ctx, &mem_179990, bytes_179989, "mem_179990")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181405 = 0; nest_i_181405 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475; nest_i_181405++) {
        ((int64_t *) mem_179990.mem)[nest_i_181405] = (int64_t) -1;
    }
    
    int64_t bytes_179991 = (int64_t) 4 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475;
    
    if (memblock_alloc(ctx, &mem_179992, bytes_179991, "mem_179992")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181406 = 0; nest_i_181406 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475; nest_i_181406++) {
        ((float *) mem_179992.mem)[nest_i_181406] = 0.0F;
    }
    
    int64_t zl_rhs_174479 = sub64(na_151707, window_sizze_151709);
    bool cond_174480 = slt64((int64_t) 0, zl_rhs_174479);
    int64_t zl_rhs_174481 = sub64(nb_151708, window_sizze_151709);
    bool loop_cond_t_res_174482 = slt64((int64_t) 0, zl_rhs_174481);
    bool x_174483 = cond_174480 && loop_cond_t_res_174482;
    bool empty_slice_174484 = window_sizze_151709 == (int64_t) 0;
    int64_t m_174485 = sub64(window_sizze_151709, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510 = add64((int64_t) 1, threads_151710);
    int64_t partitionFunc_arg0_175511 = mul64((int64_t) 2, threads_151710);
    bool y_175513 = slt64((int64_t) 0, window_sizze_151709);
    bool loop_cond_175759 = slt64((int64_t) 0, threads_151710);
    bool zzero_174530 = threads_151710 == (int64_t) 0;
    bool nonzzero_174531 = !zzero_174530;
    bool loop_not_taken_177288 = !inParallel_151713;
    bool protect_assert_disj_177289 = nonzzero_174531 || loop_not_taken_177288;
    bool loop_not_taken_177378 = !x_174483;
    bool protect_assert_disj_177379 = protect_assert_disj_177289 || loop_not_taken_177378;
    bool nonzzero_cert_174532;
    
    if (!protect_assert_disj_177379) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_174533 = sdiv_safe64(window_sizze_151709, threads_151710);
    int64_t perThread_174534 = add64((int64_t) 1, zp_rhs_174533);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174535 = mul64(threads_151710, perThread_174534);
    bool protect_assert_disj_177425 = inParallel_151713 || y_175513;
    bool protect_assert_disj_177429 = loop_not_taken_177378 || protect_assert_disj_177425;
    bool index_certs_175514;
    
    if (!protect_assert_disj_177429) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_175529 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, (int64_t) 1);
    bool y_176486 = slt64(threads_151710, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
    bool protect_assert_disj_177394 = y_175513 || loop_not_taken_177288;
    bool protect_assert_disj_177433 = loop_not_taken_177378 || protect_assert_disj_177394;
    bool index_certs_174538;
    
    if (!protect_assert_disj_177433) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_175531 = !bounds_invalid_upwards_175529;
    bool protect_assert_disj_177441 = inParallel_151713 || y_176486;
    bool protect_assert_disj_177443 = loop_not_taken_177378 || protect_assert_disj_177441;
    bool index_certs_176488;
    
    if (!protect_assert_disj_177443) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_151710, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177437 = y_176486 || loop_not_taken_177288;
    bool protect_assert_disj_177445 = loop_not_taken_177378 || protect_assert_disj_177437;
    bool index_certs_175492;
    
    if (!protect_assert_disj_177445) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_151710, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177453 = inParallel_151713 || valid_175531;
    bool protect_assert_disj_177455 = loop_not_taken_177378 || protect_assert_disj_177453;
    bool range_valid_c_175532;
    
    if (!protect_assert_disj_177455) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_177297 = sle64((int64_t) 1, threads_151710);
    bool protect_assert_disj_177449 = valid_175531 || loop_not_taken_177288;
    bool protect_assert_disj_177457 = loop_not_taken_177378 || protect_assert_disj_177449;
    bool range_valid_c_174545;
    
    if (!protect_assert_disj_177457) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_175534 = add64(window_sizze_151709, window_sizze_151709);
    bool zzero_175535 = partitionFunc_arg0_175511 == (int64_t) 0;
    int64_t index_concat_i_177298 = sub64(threads_151710, (int64_t) 1);
    bool nonzzero_175536 = !zzero_175535;
    bool protect_assert_disj_177465 = inParallel_151713 || nonzzero_175536;
    bool protect_assert_disj_177471 = loop_not_taken_177378 || protect_assert_disj_177465;
    bool nonzzero_cert_175537;
    
    if (!protect_assert_disj_177471) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177461 = nonzzero_175536 || loop_not_taken_177288;
    bool protect_assert_disj_177477 = loop_not_taken_177378 || protect_assert_disj_177461;
    bool nonzzero_cert_174550;
    
    if (!protect_assert_disj_177477) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180002 = (int64_t) 8 * threads_151710;
    int64_t bytes_180019 = (int64_t) 8 * window_sizze_151709;
    int64_t bytes_180021 = (int64_t) 4 * window_sizze_151709;
    int64_t bytes_180364 = perThread_174534 * bytes_180002;
    int64_t binop_x_180371 = (int64_t) 4 * threads_151710;
    int64_t bytes_180372 = perThread_174534 * binop_x_180371;
    bool defunc_0_merge_pipeline_res_174486;
    int64_t defunc_0_merge_pipeline_res_174490;
    int64_t defunc_0_merge_pipeline_res_174491;
    bool loop_while_174492;
    int64_t p_174496;
    int64_t p_174497;
    
    loop_while_174492 = x_174483;
    p_174496 = (int64_t) 0;
    p_174497 = (int64_t) 0;
    while (loop_while_174492) {
        int64_t ubs_174498 = add64(window_sizze_151709, p_174496);
        int64_t ubs_174499 = add64(window_sizze_151709, p_174497);
        int64_t ind_bottom_174500 = add64(p_174496, p_174497);
        int64_t ind_top_174501 = add64(window_sizze_151709, ind_bottom_174500);
        int64_t i_p_m_t_s_174502 = add64(m_174485, p_174496);
        bool zzero_leq_i_p_m_t_s_174503 = sle64((int64_t) 0, i_p_m_t_s_174502);
        bool i_p_m_t_s_leq_w_174504 = slt64(i_p_m_t_s_174502, na_151707);
        bool zzero_lte_i_174505 = sle64((int64_t) 0, p_174496);
        bool i_lte_j_174506 = sle64(p_174496, ubs_174498);
        bool y_174507 = i_p_m_t_s_leq_w_174504 && zzero_lte_i_174505;
        bool y_174508 = zzero_leq_i_p_m_t_s_174503 && y_174507;
        bool forwards_ok_174509 = i_lte_j_174506 && y_174508;
        bool ok_or_empty_174510 = empty_slice_174484 || forwards_ok_174509;
        bool index_certs_174511;
        
        if (!ok_or_empty_174510) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_174496, ":", (long long) ubs_174498, "] out of bounds for array of shape [", (long long) na_151707, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_174513 = add64(m_174485, p_174497);
        bool zzero_leq_i_p_m_t_s_174514 = sle64((int64_t) 0, i_p_m_t_s_174513);
        bool i_p_m_t_s_leq_w_174515 = slt64(i_p_m_t_s_174513, nb_151708);
        bool zzero_lte_i_174516 = sle64((int64_t) 0, p_174497);
        bool i_lte_j_174517 = sle64(p_174497, ubs_174499);
        bool y_174518 = i_p_m_t_s_leq_w_174515 && zzero_lte_i_174516;
        bool y_174519 = zzero_leq_i_p_m_t_s_174514 && y_174518;
        bool forwards_ok_174520 = i_lte_j_174517 && y_174519;
        bool ok_or_empty_174521 = empty_slice_174484 || forwards_ok_174520;
        bool index_certs_174522;
        
        if (!ok_or_empty_174521) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_174497, ":", (long long) ubs_174499, "] out of bounds for array of shape [", (long long) nb_151708, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_176500 = add64(m_174485, ind_bottom_174500);
        bool zzero_leq_i_p_m_t_s_176501 = sle64((int64_t) 0, i_p_m_t_s_176500);
        bool i_p_m_t_s_leq_w_176502 = slt64(i_p_m_t_s_176500, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475);
        bool zzero_lte_i_176503 = sle64((int64_t) 0, ind_bottom_174500);
        bool i_lte_j_176504 = sle64(ind_bottom_174500, ind_top_174501);
        bool y_176505 = i_p_m_t_s_leq_w_176502 && zzero_lte_i_176503;
        bool y_176506 = zzero_leq_i_p_m_t_s_176501 && y_176505;
        bool forwards_ok_176507 = i_lte_j_176504 && y_176506;
        bool ok_or_empty_176508 = empty_slice_174484 || forwards_ok_176507;
        bool index_certs_176509;
        
        if (!ok_or_empty_176508) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_174500, ":", (long long) ind_top_174501, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_174524;
        int64_t loopres_174525;
        
        if (inParallel_151713) {
            float leq_lhs_177958 = ((float *) a_list_mem_179986.mem)[p_174496];
            float leq_rhs_177959 = ((float *) b_list_mem_179987.mem)[p_174497];
            bool defunc_0_leq_res_177960 = leq_lhs_177958 <= leq_rhs_177959;
            float lowest_177961;
            
            if (defunc_0_leq_res_177960) {
                lowest_177961 = leq_lhs_177958;
            } else {
                lowest_177961 = leq_rhs_177959;
            }
            if (mem_180348_cached_sizze_181798 < bytes_180002) {
                err = lexical_realloc(ctx, &mem_180348, &mem_180348_cached_sizze_181798, bytes_180002);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180350_cached_sizze_181799 < bytes_180002) {
                err = lexical_realloc(ctx, &mem_180350, &mem_180350_cached_sizze_181799, bytes_180002);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_179650 = 0; i_179650 < threads_151710; i_179650++) {
                int64_t index_primexp_179922 = add64((int64_t) 1, i_179650);
                int64_t zs_lhs_177966 = mul64(zt_rhs_175534, index_primexp_179922);
                int64_t index_177967 = sdiv64(zs_lhs_177966, partitionFunc_arg0_175511);
                bool cond_177968 = slt64(window_sizze_151709, index_177967);
                int64_t loop_over_177969;
                
                if (cond_177968) {
                    loop_over_177969 = window_sizze_151709;
                } else {
                    loop_over_177969 = index_177967;
                }
                
                int64_t loop_over_177970;
                
                if (cond_177968) {
                    int64_t loop_over_t_res_177971 = sub64(index_177967, window_sizze_151709);
                    
                    loop_over_177970 = loop_over_t_res_177971;
                } else {
                    loop_over_177970 = (int64_t) 0;
                }
                
                int64_t loop_over_177972;
                
                if (cond_177968) {
                    int64_t zm_lhs_177973 = sub64(index_177967, window_sizze_151709);
                    int64_t loop_over_t_res_177974 = sub64(zm_lhs_177973, (int64_t) 1);
                    
                    loop_over_177972 = loop_over_t_res_177974;
                } else {
                    loop_over_177972 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_177975;
                int64_t defunc_0_f_res_177976;
                int64_t defunc_0_f_res_177977;
                int64_t defunc_0_f_res_177978;
                bool loop_while_177979;
                int64_t p_177980;
                int64_t p_177981;
                int64_t p_177982;
                
                loop_while_177979 = 1;
                p_177980 = loop_over_177972;
                p_177981 = loop_over_177969;
                p_177982 = loop_over_177970;
                while (loop_while_177979) {
                    int64_t zs_lhs_177983 = sub64(p_177981, p_177980);
                    int64_t offset_177984 = sdiv64(zs_lhs_177983, (int64_t) 2);
                    int64_t ai_177985 = sub64(p_177981, offset_177984);
                    int64_t max_arg1_177986 = add64(p_177982, offset_177984);
                    int64_t max_res_177987 = smax64((int64_t) 0, max_arg1_177986);
                    bool cond_177988 = slt64((int64_t) 0, max_res_177987);
                    float b_prev_177989;
                    
                    if (cond_177988) {
                        int64_t tmp_177990 = sub64(max_res_177987, (int64_t) 1);
                        bool x_177991 = sle64((int64_t) 0, tmp_177990);
                        bool y_177992 = slt64(tmp_177990, window_sizze_151709);
                        bool bounds_check_177993 = x_177991 && y_177992;
                        bool index_certs_177994;
                        
                        if (!bounds_check_177993) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177990, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_177995 = p_174497 + tmp_177990;
                        float b_prev_t_res_177996 = ((float *) b_list_mem_179987.mem)[slice_177995];
                        
                        b_prev_177989 = b_prev_t_res_177996;
                    } else {
                        b_prev_177989 = lowest_177961;
                    }
                    
                    bool cond_177997 = sle64(ai_177985, (int64_t) 0);
                    int64_t loopres_177998;
                    int64_t loopres_177999;
                    int64_t loopres_178000;
                    bool loopres_178001;
                    
                    if (cond_177997) {
                        loopres_177998 = p_177980;
                        loopres_177999 = (int64_t) 0;
                        loopres_178000 = max_res_177987;
                        loopres_178001 = 0;
                    } else {
                        bool cond_178002 = sle64(window_sizze_151709, max_res_177987);
                        int64_t loopres_f_res_178003;
                        int64_t loopres_f_res_178004;
                        int64_t loopres_f_res_178005;
                        bool loopres_f_res_178006;
                        
                        if (cond_178002) {
                            int64_t min_res_178008 = smin64(m_174485, ai_177985);
                            bool x_178009 = sle64((int64_t) 0, m_174485);
                            bool y_178010 = slt64(m_174485, window_sizze_151709);
                            bool bounds_check_178011 = x_178009 && y_178010;
                            bool index_certs_178012;
                            
                            if (!bounds_check_178011) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174485, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_178015 = sle64((int64_t) 0, min_res_178008);
                            bool y_178016 = slt64(min_res_178008, window_sizze_151709);
                            bool bounds_check_178017 = x_178015 && y_178016;
                            bool index_certs_178018;
                            
                            if (!bounds_check_178017) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178008, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            float leq_lhs_178014 = ((float *) b_list_mem_179987.mem)[i_p_m_t_s_174513];
                            int64_t slice_178019 = p_174496 + min_res_178008;
                            float leq_rhs_178020 = ((float *) a_list_mem_179986.mem)[slice_178019];
                            bool defunc_0_leq_res_178021 = leq_lhs_178014 <= leq_rhs_178020;
                            int64_t loopres_f_res_t_res_178022;
                            
                            if (defunc_0_leq_res_178021) {
                                loopres_f_res_t_res_178022 = ai_177985;
                            } else {
                                loopres_f_res_t_res_178022 = p_177981;
                            }
                            
                            bool x_178023 = !defunc_0_leq_res_178021;
                            int64_t loopres_f_res_t_res_178024;
                            
                            if (defunc_0_leq_res_178021) {
                                loopres_f_res_t_res_178024 = window_sizze_151709;
                            } else {
                                int64_t tmp_178025 = sub64(m_174485, offset_177984);
                                
                                loopres_f_res_t_res_178024 = tmp_178025;
                            }
                            loopres_f_res_178003 = p_177980;
                            loopres_f_res_178004 = loopres_f_res_t_res_178022;
                            loopres_f_res_178005 = loopres_f_res_t_res_178024;
                            loopres_f_res_178006 = x_178023;
                        } else {
                            bool cond_178026 = sle64(window_sizze_151709, ai_177985);
                            int64_t loopres_f_res_f_res_178027;
                            int64_t loopres_f_res_f_res_178028;
                            int64_t loopres_f_res_f_res_178029;
                            bool loopres_f_res_f_res_178030;
                            
                            if (cond_178026) {
                                int64_t min_res_178032 = smin64(m_174485, max_res_177987);
                                bool x_178033 = sle64((int64_t) 0, m_174485);
                                bool y_178034 = slt64(m_174485, window_sizze_151709);
                                bool bounds_check_178035 = x_178033 && y_178034;
                                bool index_certs_178036;
                                
                                if (!bounds_check_178035) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174485, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178039 = sle64((int64_t) 0, min_res_178032);
                                bool y_178040 = slt64(min_res_178032, window_sizze_151709);
                                bool bounds_check_178041 = x_178039 && y_178040;
                                bool index_certs_178042;
                                
                                if (!bounds_check_178041) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178032, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                float leq_lhs_178038 = ((float *) a_list_mem_179986.mem)[i_p_m_t_s_174502];
                                int64_t slice_178043 = p_174497 + min_res_178032;
                                float leq_rhs_178044 = ((float *) b_list_mem_179987.mem)[slice_178043];
                                bool defunc_0_leq_res_178045 = leq_lhs_178038 <= leq_rhs_178044;
                                int64_t loopres_f_res_f_res_t_res_178046;
                                
                                if (defunc_0_leq_res_178045) {
                                    loopres_f_res_f_res_t_res_178046 = max_res_177987;
                                } else {
                                    loopres_f_res_f_res_t_res_178046 = p_177982;
                                }
                                
                                bool x_178047 = !defunc_0_leq_res_178045;
                                int64_t loopres_f_res_f_res_t_res_178048;
                                
                                if (defunc_0_leq_res_178045) {
                                    loopres_f_res_f_res_t_res_178048 = window_sizze_151709;
                                } else {
                                    loopres_f_res_f_res_t_res_178048 = m_174485;
                                }
                                loopres_f_res_f_res_178027 = p_177980;
                                loopres_f_res_f_res_178028 = loopres_f_res_f_res_t_res_178048;
                                loopres_f_res_f_res_178029 = loopres_f_res_f_res_t_res_178046;
                                loopres_f_res_f_res_178030 = x_178047;
                            } else {
                                bool cond_178049 = sle64(p_177981, p_177980);
                                int64_t loopres_f_res_f_res_f_res_178050;
                                int64_t loopres_f_res_f_res_f_res_178051;
                                int64_t loopres_f_res_f_res_f_res_178052;
                                bool loopres_f_res_f_res_f_res_178053;
                                
                                if (cond_178049) {
                                    bool cond_178054 = slt64(ai_177985, window_sizze_151709);
                                    int64_t ai_178055;
                                    
                                    if (cond_178054) {
                                        ai_178055 = ai_177985;
                                    } else {
                                        ai_178055 = m_174485;
                                    }
                                    
                                    bool x_178068 = sle64((int64_t) 0, ai_178055);
                                    bool y_178069 = slt64(ai_178055, window_sizze_151709);
                                    bool bounds_check_178070 = x_178068 && y_178069;
                                    bool index_certs_178071;
                                    
                                    if (!bounds_check_178070) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178055, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    float b_prev_178057;
                                    
                                    if (cond_177988) {
                                        int64_t tmp_178058 = sub64(max_res_177987, (int64_t) 1);
                                        bool x_178059 = sle64((int64_t) 0, tmp_178058);
                                        bool y_178060 = slt64(tmp_178058, window_sizze_151709);
                                        bool bounds_check_178061 = x_178059 && y_178060;
                                        bool index_certs_178062;
                                        
                                        if (!bounds_check_178061) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178058, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178063 = p_174497 + tmp_178058;
                                        float b_prev_t_res_178064 = ((float *) b_list_mem_179987.mem)[slice_178063];
                                        
                                        b_prev_178057 = b_prev_t_res_178064;
                                    } else {
                                        bool index_certs_178066;
                                        
                                        if (!y_175513) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_178057 = leq_rhs_177959;
                                    }
                                    
                                    int64_t slice_178072 = p_174496 + ai_178055;
                                    float gt_lhs_178073 = ((float *) a_list_mem_179986.mem)[slice_178072];
                                    bool defunc_0_gt_res_178074 = b_prev_178057 < gt_lhs_178073;
                                    int64_t defunc_0_partFunc_sequential_search_res_178075;
                                    int64_t defunc_0_partFunc_sequential_search_res_178076;
                                    
                                    if (defunc_0_gt_res_178074) {
                                        int64_t zl_rhs_178077 = sub64(window_sizze_151709, max_res_177987);
                                        bool loop_cond_178078 = slt64((int64_t) 0, zl_rhs_178077);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_178079;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178080;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178081;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178082;
                                        bool loop_while_178083;
                                        int64_t p_178084;
                                        int64_t p_178085;
                                        int64_t p_178086;
                                        
                                        loop_while_178083 = loop_cond_178078;
                                        p_178084 = ai_178055;
                                        p_178085 = max_res_177987;
                                        p_178086 = (int64_t) 0;
                                        while (loop_while_178083) {
                                            int64_t i_a_178087 = sub64(ai_178055, p_178086);
                                            int64_t i_b_178088 = add64(max_res_177987, p_178086);
                                            int64_t leq_lhs_178089 = sub64(i_a_178087, (int64_t) 1);
                                            bool x_178090 = sle64((int64_t) 0, leq_lhs_178089);
                                            bool y_178091 = slt64(leq_lhs_178089, window_sizze_151709);
                                            bool bounds_check_178092 = x_178090 && y_178091;
                                            bool index_certs_178093;
                                            
                                            if (!bounds_check_178092) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178089, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178096 = sle64((int64_t) 0, i_b_178088);
                                            bool y_178097 = slt64(i_b_178088, window_sizze_151709);
                                            bool bounds_check_178098 = x_178096 && y_178097;
                                            bool index_certs_178099;
                                            
                                            if (!bounds_check_178098) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178088, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178094 = p_174496 + leq_lhs_178089;
                                            float leq_lhs_178095 = ((float *) a_list_mem_179986.mem)[slice_178094];
                                            int64_t slice_178100 = p_174497 + i_b_178088;
                                            float leq_rhs_178101 = ((float *) b_list_mem_179987.mem)[slice_178100];
                                            bool defunc_0_leq_res_178102 = leq_lhs_178095 <= leq_rhs_178101;
                                            int64_t loopres_178103;
                                            
                                            if (defunc_0_leq_res_178102) {
                                                loopres_178103 = i_a_178087;
                                            } else {
                                                loopres_178103 = ai_178055;
                                            }
                                            
                                            int64_t loopres_178104;
                                            
                                            if (defunc_0_leq_res_178102) {
                                                loopres_178104 = i_b_178088;
                                            } else {
                                                loopres_178104 = max_res_177987;
                                            }
                                            
                                            int64_t loopres_178105;
                                            
                                            if (defunc_0_leq_res_178102) {
                                                loopres_178105 = zl_rhs_178077;
                                            } else {
                                                int64_t tmp_178106 = add64((int64_t) 1, p_178086);
                                                
                                                loopres_178105 = tmp_178106;
                                            }
                                            
                                            bool loop_cond_178107 = slt64(loopres_178105, zl_rhs_178077);
                                            bool loop_while_tmp_181419 = loop_cond_178107;
                                            int64_t p_tmp_181420 = loopres_178103;
                                            int64_t p_tmp_181421 = loopres_178104;
                                            int64_t p_tmp_181422 = loopres_178105;
                                            
                                            loop_while_178083 = loop_while_tmp_181419;
                                            p_178084 = p_tmp_181420;
                                            p_178085 = p_tmp_181421;
                                            p_178086 = p_tmp_181422;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_178079 = loop_while_178083;
                                        defunc_0_partFunc_sequential_search_res_t_res_178080 = p_178084;
                                        defunc_0_partFunc_sequential_search_res_t_res_178081 = p_178085;
                                        defunc_0_partFunc_sequential_search_res_t_res_178082 = p_178086;
                                        defunc_0_partFunc_sequential_search_res_178075 = defunc_0_partFunc_sequential_search_res_t_res_178080;
                                        defunc_0_partFunc_sequential_search_res_178076 = defunc_0_partFunc_sequential_search_res_t_res_178081;
                                    } else {
                                        int64_t zl_rhs_178108 = sub64(max_res_177987, (int64_t) 1);
                                        bool loop_cond_178109 = slt64((int64_t) 0, zl_rhs_178108);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_178110;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178111;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178112;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178113;
                                        bool loop_while_178114;
                                        int64_t p_178115;
                                        int64_t p_178116;
                                        int64_t p_178117;
                                        
                                        loop_while_178114 = loop_cond_178109;
                                        p_178115 = ai_178055;
                                        p_178116 = max_res_177987;
                                        p_178117 = (int64_t) 0;
                                        while (loop_while_178114) {
                                            int64_t zp_lhs_178118 = add64(ai_178055, p_178117);
                                            int64_t hi_a_178119 = add64((int64_t) 1, zp_lhs_178118);
                                            bool cond_178120 = slt64(hi_a_178119, window_sizze_151709);
                                            int64_t i_a_178121;
                                            
                                            if (cond_178120) {
                                                i_a_178121 = hi_a_178119;
                                            } else {
                                                i_a_178121 = m_174485;
                                            }
                                            
                                            int64_t zm_lhs_178123 = sub64(max_res_177987, p_178117);
                                            int64_t i_b_178124 = sub64(zm_lhs_178123, (int64_t) 1);
                                            bool x_178125 = sle64((int64_t) 0, i_a_178121);
                                            bool y_178126 = slt64(i_a_178121, window_sizze_151709);
                                            bool bounds_check_178127 = x_178125 && y_178126;
                                            bool index_certs_178128;
                                            
                                            if (!bounds_check_178127) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_178121, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178131 = sle64((int64_t) 0, i_b_178124);
                                            bool y_178132 = slt64(i_b_178124, window_sizze_151709);
                                            bool bounds_check_178133 = x_178131 && y_178132;
                                            bool index_certs_178134;
                                            
                                            if (!bounds_check_178133) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178124, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178129 = p_174496 + i_a_178121;
                                            float gt_lhs_178130 = ((float *) a_list_mem_179986.mem)[slice_178129];
                                            int64_t slice_178135 = p_174497 + i_b_178124;
                                            float gt_rhs_178136 = ((float *) b_list_mem_179987.mem)[slice_178135];
                                            bool defunc_0_gt_res_178137 = gt_rhs_178136 < gt_lhs_178130;
                                            int64_t loopres_178138;
                                            
                                            if (defunc_0_gt_res_178137) {
                                                loopres_178138 = i_a_178121;
                                            } else {
                                                loopres_178138 = ai_178055;
                                            }
                                            
                                            int64_t loopres_178139;
                                            
                                            if (defunc_0_gt_res_178137) {
                                                loopres_178139 = zm_lhs_178123;
                                            } else {
                                                loopres_178139 = max_res_177987;
                                            }
                                            
                                            int64_t loopres_178140;
                                            
                                            if (defunc_0_gt_res_178137) {
                                                loopres_178140 = zl_rhs_178108;
                                            } else {
                                                int64_t tmp_178141 = add64((int64_t) 1, p_178117);
                                                
                                                loopres_178140 = tmp_178141;
                                            }
                                            
                                            bool loop_cond_178142 = slt64(loopres_178140, zl_rhs_178108);
                                            bool loop_while_tmp_181423 = loop_cond_178142;
                                            int64_t p_tmp_181424 = loopres_178138;
                                            int64_t p_tmp_181425 = loopres_178139;
                                            int64_t p_tmp_181426 = loopres_178140;
                                            
                                            loop_while_178114 = loop_while_tmp_181423;
                                            p_178115 = p_tmp_181424;
                                            p_178116 = p_tmp_181425;
                                            p_178117 = p_tmp_181426;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_178110 = loop_while_178114;
                                        defunc_0_partFunc_sequential_search_res_f_res_178111 = p_178115;
                                        defunc_0_partFunc_sequential_search_res_f_res_178112 = p_178116;
                                        defunc_0_partFunc_sequential_search_res_f_res_178113 = p_178117;
                                        defunc_0_partFunc_sequential_search_res_178075 = defunc_0_partFunc_sequential_search_res_f_res_178111;
                                        defunc_0_partFunc_sequential_search_res_178076 = defunc_0_partFunc_sequential_search_res_f_res_178112;
                                    }
                                    loopres_f_res_f_res_f_res_178050 = p_177980;
                                    loopres_f_res_f_res_f_res_178051 = defunc_0_partFunc_sequential_search_res_178075;
                                    loopres_f_res_f_res_f_res_178052 = defunc_0_partFunc_sequential_search_res_178076;
                                    loopres_f_res_f_res_f_res_178053 = 0;
                                } else {
                                    bool x_178143 = sle64((int64_t) 0, ai_177985);
                                    bool y_178144 = slt64(ai_177985, window_sizze_151709);
                                    bool bounds_check_178145 = x_178143 && y_178144;
                                    bool index_certs_178146;
                                    
                                    if (!bounds_check_178145) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_177985, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178147 = p_174496 + ai_177985;
                                    float gt_lhs_178148 = ((float *) a_list_mem_179986.mem)[slice_178147];
                                    bool defunc_0_gt_res_178149 = b_prev_177989 < gt_lhs_178148;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178150;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178151;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178152;
                                    bool loopres_f_res_f_res_f_res_f_res_178153;
                                    
                                    if (defunc_0_gt_res_178149) {
                                        int64_t leq_lhs_178154 = sub64(ai_177985, (int64_t) 1);
                                        bool x_178155 = sle64((int64_t) 0, leq_lhs_178154);
                                        bool y_178156 = slt64(leq_lhs_178154, window_sizze_151709);
                                        bool bounds_check_178157 = x_178155 && y_178156;
                                        bool index_certs_178158;
                                        
                                        if (!bounds_check_178157) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178154, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178161 = sle64((int64_t) 0, max_res_177987);
                                        bool y_178162 = slt64(max_res_177987, window_sizze_151709);
                                        bool bounds_check_178163 = x_178161 && y_178162;
                                        bool index_certs_178164;
                                        
                                        if (!bounds_check_178163) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_177987, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178159 = p_174496 + leq_lhs_178154;
                                        float leq_lhs_178160 = ((float *) a_list_mem_179986.mem)[slice_178159];
                                        int64_t slice_178165 = p_174497 + max_res_177987;
                                        float leq_rhs_178166 = ((float *) b_list_mem_179987.mem)[slice_178165];
                                        bool defunc_0_leq_res_178167 = leq_lhs_178160 <= leq_rhs_178166;
                                        bool x_178168 = !defunc_0_leq_res_178167;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178169;
                                        
                                        if (defunc_0_leq_res_178167) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178169 = ai_177985;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178169 = leq_lhs_178154;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178170;
                                        
                                        if (defunc_0_leq_res_178167) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178170 = max_res_177987;
                                        } else {
                                            int64_t tmp_178171 = add64((int64_t) 1, max_res_177987);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_178170 = tmp_178171;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_178150 = p_177980;
                                        loopres_f_res_f_res_f_res_f_res_178151 = loopres_f_res_f_res_f_res_f_res_t_res_178169;
                                        loopres_f_res_f_res_f_res_f_res_178152 = loopres_f_res_f_res_f_res_f_res_t_res_178170;
                                        loopres_f_res_f_res_f_res_f_res_178153 = x_178168;
                                    } else {
                                        int64_t tmp_178172 = add64((int64_t) 1, ai_177985);
                                        
                                        loopres_f_res_f_res_f_res_f_res_178150 = tmp_178172;
                                        loopres_f_res_f_res_f_res_f_res_178151 = p_177981;
                                        loopres_f_res_f_res_f_res_f_res_178152 = p_177982;
                                        loopres_f_res_f_res_f_res_f_res_178153 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_178050 = loopres_f_res_f_res_f_res_f_res_178150;
                                    loopres_f_res_f_res_f_res_178051 = loopres_f_res_f_res_f_res_f_res_178151;
                                    loopres_f_res_f_res_f_res_178052 = loopres_f_res_f_res_f_res_f_res_178152;
                                    loopres_f_res_f_res_f_res_178053 = loopres_f_res_f_res_f_res_f_res_178153;
                                }
                                loopres_f_res_f_res_178027 = loopres_f_res_f_res_f_res_178050;
                                loopres_f_res_f_res_178028 = loopres_f_res_f_res_f_res_178051;
                                loopres_f_res_f_res_178029 = loopres_f_res_f_res_f_res_178052;
                                loopres_f_res_f_res_178030 = loopres_f_res_f_res_f_res_178053;
                            }
                            loopres_f_res_178003 = loopres_f_res_f_res_178027;
                            loopres_f_res_178004 = loopres_f_res_f_res_178028;
                            loopres_f_res_178005 = loopres_f_res_f_res_178029;
                            loopres_f_res_178006 = loopres_f_res_f_res_178030;
                        }
                        loopres_177998 = loopres_f_res_178003;
                        loopres_177999 = loopres_f_res_178004;
                        loopres_178000 = loopres_f_res_178005;
                        loopres_178001 = loopres_f_res_178006;
                    }
                    
                    bool loop_while_tmp_181415 = loopres_178001;
                    int64_t p_tmp_181416 = loopres_177998;
                    int64_t p_tmp_181417 = loopres_177999;
                    int64_t p_tmp_181418 = loopres_178000;
                    
                    loop_while_177979 = loop_while_tmp_181415;
                    p_177980 = p_tmp_181416;
                    p_177981 = p_tmp_181417;
                    p_177982 = p_tmp_181418;
                }
                defunc_0_f_res_177975 = loop_while_177979;
                defunc_0_f_res_177976 = p_177980;
                defunc_0_f_res_177977 = p_177981;
                defunc_0_f_res_177978 = p_177982;
                ((int64_t *) mem_180348)[i_179650] = defunc_0_f_res_177977;
                ((int64_t *) mem_180350)[i_179650] = defunc_0_f_res_177978;
            }
            if (mem_180365_cached_sizze_181800 < bytes_180364) {
                err = lexical_realloc(ctx, &mem_180365, &mem_180365_cached_sizze_181800, bytes_180364);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180367_cached_sizze_181801 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174535) {
                err = lexical_realloc(ctx, &mem_180367, &mem_180367_cached_sizze_181801, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174535);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180370_cached_sizze_181802 < bytes_180364) {
                err = lexical_realloc(ctx, &mem_180370, &mem_180370_cached_sizze_181802, bytes_180364);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180373_cached_sizze_181803 < bytes_180372) {
                err = lexical_realloc(ctx, &mem_180373, &mem_180373_cached_sizze_181803, bytes_180372);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_179716 = 0; i_179716 < threads_151710; i_179716++) {
                bool y_178186 = slt64(i_179716, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
                bool index_certs_178188;
                
                if (!y_178186) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179716, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178189 = sle64((int64_t) 1, i_179716);
                int64_t index_concat_i_178190 = sub64(i_179716, (int64_t) 1);
                int64_t index_concat_178191;
                
                if (index_concat_cmp_178189) {
                    int64_t x_178192 = ((int64_t *) mem_180348)[index_concat_i_178190];
                    
                    index_concat_178191 = x_178192;
                } else {
                    index_concat_178191 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178193;
                
                if (index_concat_cmp_178189) {
                    index_concat_branch_178193 = index_concat_178191;
                } else {
                    index_concat_branch_178193 = (int64_t) 0;
                }
                
                int64_t index_concat_178194;
                
                if (index_concat_cmp_178189) {
                    int64_t x_178195 = ((int64_t *) mem_180350)[index_concat_i_178190];
                    
                    index_concat_178194 = x_178195;
                } else {
                    index_concat_178194 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178196;
                
                if (index_concat_cmp_178189) {
                    index_concat_branch_178196 = index_concat_178194;
                } else {
                    index_concat_branch_178196 = (int64_t) 0;
                }
                
                int64_t ubs_178197 = add64((int64_t) 1, i_179716);
                bool x_178198 = sle64((int64_t) 0, ubs_178197);
                bool y_178199 = slt64(ubs_178197, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
                bool bounds_check_178200 = x_178198 && y_178199;
                bool index_certs_178201;
                
                if (!bounds_check_178200) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_178197, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178202 = sle64((int64_t) 1, ubs_178197);
                int64_t index_concat_178203;
                
                if (index_concat_cmp_178202) {
                    int64_t x_178204 = ((int64_t *) mem_180348)[i_179716];
                    
                    index_concat_178203 = x_178204;
                } else {
                    index_concat_178203 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178205;
                
                if (index_concat_cmp_178202) {
                    index_concat_branch_178205 = index_concat_178203;
                } else {
                    index_concat_branch_178205 = (int64_t) 0;
                }
                
                int64_t index_concat_178206;
                
                if (index_concat_cmp_178202) {
                    int64_t x_178207 = ((int64_t *) mem_180350)[i_179716];
                    
                    index_concat_178206 = x_178207;
                } else {
                    index_concat_178206 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178208;
                
                if (index_concat_cmp_178202) {
                    index_concat_branch_178208 = index_concat_178206;
                } else {
                    index_concat_branch_178208 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209 = sub64(index_concat_branch_178208, index_concat_branch_178196);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210 = sub64(index_concat_branch_178205, index_concat_branch_178193);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                int64_t zm_lhs_178212 = add64(index_concat_branch_178205, index_concat_branch_178208);
                int64_t zm_rhs_178213 = add64(index_concat_branch_178193, index_concat_branch_178196);
                int64_t card_178214 = sub64(zm_lhs_178212, zm_rhs_178213);
                bool empty_slice_178215 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210 == (int64_t) 0;
                int64_t m_178216 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, (int64_t) 1);
                int64_t i_p_m_t_s_178217 = add64(index_concat_branch_178193, m_178216);
                bool zzero_leq_i_p_m_t_s_178218 = sle64((int64_t) 0, i_p_m_t_s_178217);
                bool i_p_m_t_s_leq_w_178219 = slt64(i_p_m_t_s_178217, window_sizze_151709);
                bool zzero_lte_i_178220 = sle64((int64_t) 0, index_concat_branch_178193);
                bool i_lte_j_178221 = sle64(index_concat_branch_178193, index_concat_branch_178205);
                bool y_178222 = i_p_m_t_s_leq_w_178219 && zzero_lte_i_178220;
                bool y_178223 = zzero_leq_i_p_m_t_s_178218 && y_178222;
                bool forwards_ok_178224 = i_lte_j_178221 && y_178223;
                bool ok_or_empty_178225 = empty_slice_178215 || forwards_ok_178224;
                bool index_certs_178226;
                
                if (!ok_or_empty_178225) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178193, ":", (long long) index_concat_branch_178205, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178227 = slt64(index_concat_branch_178205, index_concat_branch_178193);
                bool valid_178228 = !bounds_invalid_upwards_178227;
                bool range_valid_c_178229;
                
                if (!valid_178228) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178193, "..<", (long long) index_concat_branch_178205, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_178234 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209 == (int64_t) 0;
                int64_t m_178235 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209, (int64_t) 1);
                int64_t i_p_m_t_s_178236 = add64(index_concat_branch_178196, m_178235);
                bool zzero_leq_i_p_m_t_s_178237 = sle64((int64_t) 0, i_p_m_t_s_178236);
                bool i_p_m_t_s_leq_w_178238 = slt64(i_p_m_t_s_178236, window_sizze_151709);
                bool zzero_lte_i_178239 = sle64((int64_t) 0, index_concat_branch_178196);
                bool i_lte_j_178240 = sle64(index_concat_branch_178196, index_concat_branch_178208);
                bool y_178241 = i_p_m_t_s_leq_w_178238 && zzero_lte_i_178239;
                bool y_178242 = zzero_leq_i_p_m_t_s_178237 && y_178241;
                bool forwards_ok_178243 = i_lte_j_178240 && y_178242;
                bool ok_or_empty_178244 = empty_slice_178234 || forwards_ok_178243;
                bool index_certs_178245;
                
                if (!ok_or_empty_178244) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178196, ":", (long long) index_concat_branch_178208, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178246 = slt64(index_concat_branch_178208, index_concat_branch_178196);
                bool valid_178247 = !bounds_invalid_upwards_178246;
                bool range_valid_c_178248;
                
                if (!valid_178247) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178196, "..<", (long long) index_concat_branch_178208, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180402 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211;
                int64_t bytes_180404 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211;
                bool cond_178256 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, (int64_t) 1);
                int64_t zs_lhs_178257 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, (int64_t) 1);
                int64_t zp_rhs_178258 = sdiv_safe64(zs_lhs_178257, (int64_t) 20);
                int64_t min_num_blocks_178259 = add64((int64_t) 1, zp_rhs_178258);
                bool loop_cond_178260 = slt64((int64_t) 1, min_num_blocks_178259);
                bool smallest_pow_2_geq_than_res_178261;
                int64_t smallest_pow_2_geq_than_res_178262;
                bool loop_while_178263;
                int64_t x_178264;
                
                loop_while_178263 = loop_cond_178260;
                x_178264 = (int64_t) 1;
                while (loop_while_178263) {
                    int64_t loopres_178265 = mul64((int64_t) 2, x_178264);
                    bool loop_cond_178266 = slt64(loopres_178265, min_num_blocks_178259);
                    bool loop_while_tmp_181431 = loop_cond_178266;
                    int64_t x_tmp_181432 = loopres_178265;
                    
                    loop_while_178263 = loop_while_tmp_181431;
                    x_178264 = x_tmp_181432;
                }
                smallest_pow_2_geq_than_res_178261 = loop_while_178263;
                smallest_pow_2_geq_than_res_178262 = x_178264;
                
                bool zzero_178267 = smallest_pow_2_geq_than_res_178262 == (int64_t) 0;
                bool nonzzero_178268 = !zzero_178267;
                bool protect_assert_disj_178269 = cond_178256 || nonzzero_178268;
                bool nonzzero_cert_178270;
                
                if (!protect_assert_disj_178269) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_178271 = sdiv_safe64(zs_lhs_178257, smallest_pow_2_geq_than_res_178262);
                int64_t block_sizze_178272 = add64((int64_t) 1, zp_rhs_178271);
                bool y_178279 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211);
                bool protect_assert_disj_181148 = cond_178256 || y_178279;
                bool index_certs_178280;
                
                if (!protect_assert_disj_181148) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178317 = slt64(smallest_pow_2_geq_than_res_178262, (int64_t) 0);
                bool valid_178318 = !bounds_invalid_upwards_178317;
                bool protect_assert_disj_181158 = cond_178256 || valid_178318;
                bool range_valid_c_178319;
                
                if (!protect_assert_disj_181158) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_178262, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:398:63-73\n   #6  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178321 = slt64(block_sizze_178272, (int64_t) 0);
                bool valid_178322 = !bounds_invalid_upwards_178321;
                bool protect_assert_disj_181160 = cond_178256 || valid_178322;
                bool range_valid_c_178323;
                
                if (!protect_assert_disj_181160) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_178272, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_178325 = sle64(block_sizze_178272, (int64_t) 1);
                int64_t tmp_178326 = sub64(block_sizze_178272, (int64_t) 2);
                bool bounds_invalid_upwards_178327 = slt64(tmp_178326, (int64_t) 0);
                bool valid_178329 = !bounds_invalid_upwards_178327;
                bool protect_assert_disj_178330 = cond_178325 || valid_178329;
                bool protect_assert_disj_181162 = cond_178256 || protect_assert_disj_178330;
                bool range_valid_c_178331;
                
                if (!protect_assert_disj_181162) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_178326, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_178911 = card_178214 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211;
                bool empty_or_match_cert_178912;
                
                if (!dim_match_178911) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "] cannot match shape of type `[", (long long) card_178214, "](i8, i64, f32)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_178913 = card_178214 == (int64_t) 0;
                int64_t m_178914 = sub64(card_178214, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_178915 = sle64((int64_t) 0, m_178914);
                bool i_p_m_t_s_leq_w_178916 = slt64(m_178914, card_178214);
                bool y_178917 = zzero_leq_i_p_m_t_s_178915 && i_p_m_t_s_leq_w_178916;
                bool ok_or_empty_178918 = empty_slice_178913 || y_178917;
                bool index_certs_178919;
                
                if (!ok_or_empty_178918) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178214, "] out of bounds for array of shape [", (long long) card_178214, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_178920 = slt64(m_178914, perThread_174534);
                bool y_178921 = zzero_leq_i_p_m_t_s_178915 && i_p_m_t_s_leq_w_178920;
                bool ok_or_empty_178922 = empty_slice_178913 || y_178921;
                bool index_certs_178923;
                
                if (!ok_or_empty_178922) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178214, "] out of bounds for array of shape [", (long long) perThread_174534, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_181433 = 0; nest_i_181433 < perThread_174534; nest_i_181433++) {
                    ((int8_t *) mem_180367)[i_179716 * perThread_174534 + nest_i_181433] = (int8_t) -1;
                }
                for (int64_t nest_i_181434 = 0; nest_i_181434 < perThread_174534; nest_i_181434++) {
                    ((int64_t *) mem_180370)[i_179716 * perThread_174534 + nest_i_181434] = (int64_t) -1;
                }
                for (int64_t nest_i_181435 = 0; nest_i_181435 < perThread_174534; nest_i_181435++) {
                    ((float *) mem_180373)[i_179716 * perThread_174534 + nest_i_181435] = 0.0F;
                }
                
                int64_t slice_178230 = p_174496 + index_concat_branch_178193;
                
                if (memblock_alloc(ctx, &mem_180401, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "mem_180401")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_181436 = 0; nest_i_181436 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210; nest_i_181436++) {
                    ((int8_t *) mem_180401.mem)[nest_i_181436] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180403, bytes_180402, "mem_180403")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_181437 = 0; i_181437 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210; i_181437++) {
                    int64_t x_181438 = index_concat_branch_178193 + i_181437 * (int64_t) 1;
                    
                    ((int64_t *) mem_180403.mem)[i_181437] = x_181438;
                }
                
                int64_t slice_178249 = p_174497 + index_concat_branch_178196;
                
                for (int64_t nest_i_181439 = 0; nest_i_181439 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209; nest_i_181439++) {
                    ((int8_t *) mem_180401.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210 + nest_i_181439] = (int8_t) 1;
                }
                for (int64_t i_181440 = 0; i_181440 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209; i_181440++) {
                    int64_t x_181441 = index_concat_branch_178196 + i_181440 * (int64_t) 1;
                    
                    ((int64_t *) mem_180403.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210 + i_181440] = x_181441;
                }
                
                int64_t tmp_offs_181442 = (int64_t) 0;
                
                if (!(tmp_offs_181442 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180401.mem, tmp_offs_181442, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180401.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210});
                }
                tmp_offs_181442 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210;
                if (!(tmp_offs_181442 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180401.mem, tmp_offs_181442, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180401.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209});
                }
                tmp_offs_181442 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209;
                
                int64_t tmp_offs_181443 = (int64_t) 0;
                
                if (!(tmp_offs_181443 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180403.mem, tmp_offs_181443, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180403.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210});
                }
                tmp_offs_181443 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210;
                if (!(tmp_offs_181443 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180403.mem, tmp_offs_181443, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180403.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209});
                }
                tmp_offs_181443 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209;
                if (memblock_alloc(ctx, &mem_180405, bytes_180404, "mem_180405")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_181444 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180405.mem, tmp_offs_181444, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_179986.mem, slice_178230, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210});
                tmp_offs_181444 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180405.mem, tmp_offs_181444, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_179987.mem, slice_178249, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209});
                tmp_offs_181444 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209;
                
                int64_t flat_dim_178273 = smallest_pow_2_geq_than_res_178262 * block_sizze_178272;
                bool x_181143 = !cond_178256;
                int64_t greatest_divisor_leq_than_arg1_178277 = mul64((int64_t) 2, block_sizze_178272);
                int64_t merge_block_sizze_178278;
                
                if (x_181143) {
                    int64_t x_181145;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181145, (int64_t) 8, greatest_divisor_leq_than_arg1_178277) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_178278 = x_181145;
                } else {
                    merge_block_sizze_178278 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178281 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, (int64_t) 0);
                int8_t index_concat_branch_178282 = btoi_bool_i8(index_concat_cmp_178281);
                int64_t index_concat_i_178284 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                int64_t index_primexp_178285 = add64(index_concat_branch_178196, index_concat_i_178284);
                int64_t index_concat_branch_178283;
                
                if (index_concat_cmp_178281) {
                    index_concat_branch_178283 = index_primexp_178285;
                } else {
                    index_concat_branch_178283 = index_concat_branch_178193;
                }
                
                bool x_181139 = !index_concat_cmp_178281;
                bool protect_cond_conj_181149 = x_181139 && x_181143;
                float index_concat_178291;
                
                if (protect_cond_conj_181149) {
                    float x_181141 = ((float *) a_list_mem_179986.mem)[slice_178230];
                    
                    index_concat_178291 = x_181141;
                } else {
                    index_concat_178291 = 0.0F;
                }
                
                int64_t slice_178289 = p_174497 + index_primexp_178285;
                bool protect_cond_conj_181150 = index_concat_cmp_178281 && x_181143;
                float index_concat_178290;
                
                if (protect_cond_conj_181150) {
                    float x_181137 = ((float *) b_list_mem_179987.mem)[slice_178289];
                    
                    index_concat_178290 = x_181137;
                } else {
                    index_concat_178290 = 0.0F;
                }
                
                float index_concat_branch_178286;
                
                if (index_concat_cmp_178281) {
                    index_concat_branch_178286 = index_concat_178290;
                } else {
                    index_concat_branch_178286 = index_concat_178291;
                }
                
                int8_t defunc_0_reduce_res_178292;
                int64_t defunc_0_reduce_res_178293;
                float defunc_0_reduce_res_178294;
                
                if (x_181143) {
                    int8_t x_181151;
                    int64_t x_181152;
                    float x_181153;
                    int8_t redout_179653;
                    int64_t redout_179654;
                    float redout_179655;
                    
                    redout_179653 = index_concat_branch_178282;
                    redout_179654 = index_concat_branch_178283;
                    redout_179655 = index_concat_branch_178286;
                    for (int64_t i_179656 = 0; i_179656 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211; i_179656++) {
                        bool index_concat_cmp_179914 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, i_179656);
                        int8_t index_concat_branch_179918 = btoi_bool_i8(index_concat_cmp_179914);
                        int64_t index_concat_branch_179912;
                        
                        if (index_concat_cmp_179914) {
                            int64_t index_concat_i_179909 = sub64(i_179656, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                            int64_t index_primexp_179962 = add64(index_concat_branch_178196, index_concat_i_179909);
                            
                            index_concat_branch_179912 = index_primexp_179962;
                        } else {
                            int64_t index_primexp_179964 = add64(index_concat_branch_178193, i_179656);
                            
                            index_concat_branch_179912 = index_primexp_179964;
                        }
                        
                        float index_concat_branch_179906;
                        
                        if (index_concat_cmp_179914) {
                            int64_t index_concat_i_179903 = sub64(i_179656, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                            int64_t slice_179959 = slice_178249 + index_concat_i_179903;
                            float index_concat_179904 = ((float *) b_list_mem_179987.mem)[slice_179959];
                            
                            index_concat_branch_179906 = index_concat_179904;
                        } else {
                            int64_t slice_179960 = slice_178230 + i_179656;
                            float index_concat_179905 = ((float *) a_list_mem_179986.mem)[slice_179960];
                            
                            index_concat_branch_179906 = index_concat_179905;
                        }
                        
                        bool eq_x_y_179976 = redout_179653 == (int8_t) 1;
                        bool eq_x_zz_179977 = redout_179653 == (int8_t) 0;
                        bool p_and_eq_x_y_179978 = index_concat_cmp_179914 && eq_x_y_179976;
                        bool not_p_179979 = !index_concat_cmp_179914;
                        bool p_and_eq_x_y_179980 = eq_x_zz_179977 && not_p_179979;
                        bool cond_178304 = p_and_eq_x_y_179978 || p_and_eq_x_y_179980;
                        bool defunc_0_leq_res_t_res_178305 = sle64(redout_179654, index_concat_branch_179912);
                        bool defunc_0_leq_res_178306 = redout_179655 <= index_concat_branch_179906;
                        bool x_178307 = cond_178304 && defunc_0_leq_res_t_res_178305;
                        bool x_178308 = !cond_178304;
                        bool y_178309 = defunc_0_leq_res_178306 && x_178308;
                        bool defunc_0_leq_res_178310 = x_178307 || y_178309;
                        int8_t defunc_0_op_res_178311;
                        
                        if (defunc_0_leq_res_178310) {
                            defunc_0_op_res_178311 = index_concat_branch_179918;
                        } else {
                            defunc_0_op_res_178311 = redout_179653;
                        }
                        
                        int64_t defunc_0_op_res_178312;
                        
                        if (defunc_0_leq_res_178310) {
                            defunc_0_op_res_178312 = index_concat_branch_179912;
                        } else {
                            defunc_0_op_res_178312 = redout_179654;
                        }
                        
                        float defunc_0_op_res_178313;
                        
                        if (defunc_0_leq_res_178310) {
                            defunc_0_op_res_178313 = index_concat_branch_179906;
                        } else {
                            defunc_0_op_res_178313 = redout_179655;
                        }
                        
                        int8_t redout_tmp_181445 = defunc_0_op_res_178311;
                        int64_t redout_tmp_181446 = defunc_0_op_res_178312;
                        float redout_tmp_181447 = defunc_0_op_res_178313;
                        
                        redout_179653 = redout_tmp_181445;
                        redout_179654 = redout_tmp_181446;
                        redout_179655 = redout_tmp_181447;
                    }
                    x_181151 = redout_179653;
                    x_181152 = redout_179654;
                    x_181153 = redout_179655;
                    defunc_0_reduce_res_178292 = x_181151;
                    defunc_0_reduce_res_178293 = x_181152;
                    defunc_0_reduce_res_178294 = x_181153;
                } else {
                    defunc_0_reduce_res_178292 = (int8_t) 0;
                    defunc_0_reduce_res_178293 = (int64_t) 0;
                    defunc_0_reduce_res_178294 = 0.0F;
                }
                
                int64_t distance_178328 = add64((int64_t) 1, tmp_178326);
                int64_t binop_x_180408 = (int64_t) 8 * smallest_pow_2_geq_than_res_178262;
                int64_t bytes_180409 = block_sizze_178272 * binop_x_180408;
                int64_t binop_x_180411 = (int64_t) 4 * smallest_pow_2_geq_than_res_178262;
                int64_t bytes_180412 = block_sizze_178272 * binop_x_180411;
                int64_t bytes_180427 = (int64_t) 8 * block_sizze_178272;
                int64_t bytes_180429 = (int64_t) 4 * block_sizze_178272;
                bool loop_cond_178454 = slt64(block_sizze_178272, flat_dim_178273);
                bool zzero_178455 = merge_block_sizze_178278 == (int64_t) 0;
                bool nonzzero_178456 = !zzero_178455;
                
                if (cond_178256) {
                    if (memblock_set(ctx, &ext_mem_180700, &mem_180401, "mem_180401") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180697, &mem_180403, "mem_180403") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180694, &mem_180405, "mem_180405") != 0)
                        return 1;
                } else {
                    if (mem_180407_cached_sizze_181804 < flat_dim_178273) {
                        err = lexical_realloc(ctx, &mem_180407, &mem_180407_cached_sizze_181804, flat_dim_178273);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180410_cached_sizze_181805 < bytes_180409) {
                        err = lexical_realloc(ctx, &mem_180410, &mem_180410_cached_sizze_181805, bytes_180409);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180413_cached_sizze_181806 < bytes_180412) {
                        err = lexical_realloc(ctx, &mem_180413, &mem_180413_cached_sizze_181806, bytes_180412);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180426_cached_sizze_181807 < block_sizze_178272) {
                        err = lexical_realloc(ctx, &mem_180426, &mem_180426_cached_sizze_181807, block_sizze_178272);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180428_cached_sizze_181808 < bytes_180427) {
                        err = lexical_realloc(ctx, &mem_180428, &mem_180428_cached_sizze_181808, bytes_180427);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180430_cached_sizze_181809 < bytes_180429) {
                        err = lexical_realloc(ctx, &mem_180430, &mem_180430_cached_sizze_181809, bytes_180429);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179673 = 0; i_179673 < smallest_pow_2_geq_than_res_178262; i_179673++) {
                        int64_t zp_lhs_178336 = mul64(block_sizze_178272, i_179673);
                        
                        for (int64_t i_179663 = 0; i_179663 < block_sizze_178272; i_179663++) {
                            int64_t k_178341 = add64(zp_lhs_178336, i_179663);
                            bool cond_178342 = slt64(k_178341, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211);
                            int8_t lifted_lambda_res_178343;
                            int64_t lifted_lambda_res_178344;
                            float lifted_lambda_res_178345;
                            
                            if (cond_178342) {
                                bool x_178346 = sle64((int64_t) 0, k_178341);
                                bool bounds_check_178347 = cond_178342 && x_178346;
                                bool index_certs_178348;
                                
                                if (!bounds_check_178347) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_178341, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_178349 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, k_178341);
                                int8_t index_concat_branch_178350 = btoi_bool_i8(index_concat_cmp_178349);
                                int64_t index_concat_branch_178351;
                                
                                if (index_concat_cmp_178349) {
                                    int64_t index_concat_i_178352 = sub64(k_178341, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                                    int64_t index_primexp_178353 = add64(index_concat_branch_178196, index_concat_i_178352);
                                    
                                    index_concat_branch_178351 = index_primexp_178353;
                                } else {
                                    int64_t index_primexp_178354 = add64(index_concat_branch_178193, k_178341);
                                    
                                    index_concat_branch_178351 = index_primexp_178354;
                                }
                                
                                float index_concat_branch_178355;
                                
                                if (index_concat_cmp_178349) {
                                    int64_t index_concat_i_178356 = sub64(k_178341, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                                    int64_t slice_178357 = index_concat_branch_178196 + index_concat_i_178356;
                                    int64_t slice_178358 = p_174497 + slice_178357;
                                    float index_concat_178359 = ((float *) b_list_mem_179987.mem)[slice_178358];
                                    
                                    index_concat_branch_178355 = index_concat_178359;
                                } else {
                                    int64_t slice_178360 = index_concat_branch_178193 + k_178341;
                                    int64_t slice_178361 = p_174496 + slice_178360;
                                    float index_concat_178362 = ((float *) a_list_mem_179986.mem)[slice_178361];
                                    
                                    index_concat_branch_178355 = index_concat_178362;
                                }
                                lifted_lambda_res_178343 = index_concat_branch_178350;
                                lifted_lambda_res_178344 = index_concat_branch_178351;
                                lifted_lambda_res_178345 = index_concat_branch_178355;
                            } else {
                                lifted_lambda_res_178343 = defunc_0_reduce_res_178292;
                                lifted_lambda_res_178344 = defunc_0_reduce_res_178293;
                                lifted_lambda_res_178345 = defunc_0_reduce_res_178294;
                            }
                            ((int8_t *) mem_180426)[i_179663] = lifted_lambda_res_178343;
                            ((int64_t *) mem_180428)[i_179663] = lifted_lambda_res_178344;
                            ((float *) mem_180430)[i_179663] = lifted_lambda_res_178345;
                        }
                        if (!cond_178325) {
                            for (int64_t i_178372 = 0; i_178372 < distance_178328; i_178372++) {
                                int64_t gt_arg1_178376 = add64((int64_t) 1, i_178372);
                                bool x_178377 = sle64((int64_t) 0, gt_arg1_178376);
                                bool y_178378 = slt64(gt_arg1_178376, block_sizze_178272);
                                bool bounds_check_178379 = x_178377 && y_178378;
                                bool index_certs_178380;
                                
                                if (!bounds_check_178379) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_178376, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_178384 = slt64(i_178372, block_sizze_178272);
                                bool index_certs_178385;
                                
                                if (!y_178384) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178372, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_178381 = ((int8_t *) mem_180426)[gt_arg1_178376];
                                int64_t gt_arg1_178382 = ((int64_t *) mem_180428)[gt_arg1_178376];
                                float gt_arg1_178383 = ((float *) mem_180430)[gt_arg1_178376];
                                int8_t gt_arg0_178386 = ((int8_t *) mem_180426)[i_178372];
                                int64_t gt_arg0_178387 = ((int64_t *) mem_180428)[i_178372];
                                float gt_arg0_178388 = ((float *) mem_180430)[i_178372];
                                bool cond_178389 = gt_arg0_178386 == gt_arg1_178381;
                                bool defunc_0_leq_res_t_res_178390 = sle64(gt_arg0_178387, gt_arg1_178382);
                                bool defunc_0_leq_res_178391 = gt_arg0_178388 <= gt_arg1_178383;
                                bool x_178392 = cond_178389 && defunc_0_leq_res_t_res_178390;
                                bool x_178393 = !cond_178389;
                                bool y_178394 = defunc_0_leq_res_178391 && x_178393;
                                bool defunc_0_leq_res_178395 = x_178392 || y_178394;
                                bool defunc_0_lifted_gt_res_178396 = !defunc_0_leq_res_178395;
                                bool s_178397;
                                int64_t s_178401;
                                bool loop_while_178402;
                                int64_t j_178406;
                                
                                loop_while_178402 = defunc_0_lifted_gt_res_178396;
                                j_178406 = i_178372;
                                while (loop_while_178402) {
                                    bool x_178407 = sle64((int64_t) 0, j_178406);
                                    bool y_178408 = slt64(j_178406, block_sizze_178272);
                                    bool bounds_check_178409 = x_178407 && y_178408;
                                    bool index_certs_178410;
                                    
                                    if (!bounds_check_178409) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178406, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_178414 = add64((int64_t) 1, j_178406);
                                    bool x_178415 = sle64((int64_t) 0, copy_arg0_178414);
                                    bool y_178416 = slt64(copy_arg0_178414, block_sizze_178272);
                                    bool bounds_check_178417 = x_178415 && y_178416;
                                    bool index_certs_178418;
                                    
                                    if (!bounds_check_178417) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_178414, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_178411 = ((int8_t *) mem_180426)[j_178406];
                                    int64_t copy_arg0_178412 = ((int64_t *) mem_180428)[j_178406];
                                    float copy_arg0_178413 = ((float *) mem_180430)[j_178406];
                                    int8_t copy_arg0_178419 = ((int8_t *) mem_180426)[copy_arg0_178414];
                                    int64_t copy_arg0_178420 = ((int64_t *) mem_180428)[copy_arg0_178414];
                                    float copy_arg0_178421 = ((float *) mem_180430)[copy_arg0_178414];
                                    
                                    ((int8_t *) mem_180426)[j_178406] = copy_arg0_178419;
                                    ((int64_t *) mem_180428)[j_178406] = copy_arg0_178420;
                                    ((float *) mem_180430)[j_178406] = copy_arg0_178421;
                                    ((int8_t *) mem_180426)[copy_arg0_178414] = copy_arg0_178411;
                                    ((int64_t *) mem_180428)[copy_arg0_178414] = copy_arg0_178412;
                                    ((float *) mem_180430)[copy_arg0_178414] = copy_arg0_178413;
                                    
                                    int64_t tmp_178428 = sub64(j_178406, (int64_t) 1);
                                    bool cond_178429 = sle64((int64_t) 0, tmp_178428);
                                    bool loop_cond_178430;
                                    
                                    if (cond_178429) {
                                        bool y_178434 = slt64(tmp_178428, block_sizze_178272);
                                        bool bounds_check_178435 = cond_178429 && y_178434;
                                        bool index_certs_178436;
                                        
                                        if (!bounds_check_178435) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178428, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_178431 = ((int8_t *) mem_180426)[j_178406];
                                        int64_t gt_arg1_178432 = ((int64_t *) mem_180428)[j_178406];
                                        float gt_arg1_178433 = ((float *) mem_180430)[j_178406];
                                        int8_t gt_arg0_178437 = ((int8_t *) mem_180426)[tmp_178428];
                                        int64_t gt_arg0_178438 = ((int64_t *) mem_180428)[tmp_178428];
                                        float gt_arg0_178439 = ((float *) mem_180430)[tmp_178428];
                                        bool cond_178440 = gt_arg0_178437 == gt_arg1_178431;
                                        bool defunc_0_leq_res_t_res_178441 = sle64(gt_arg0_178438, gt_arg1_178432);
                                        bool defunc_0_leq_res_178442 = gt_arg0_178439 <= gt_arg1_178433;
                                        bool x_178443 = cond_178440 && defunc_0_leq_res_t_res_178441;
                                        bool x_178444 = !cond_178440;
                                        bool y_178445 = defunc_0_leq_res_178442 && x_178444;
                                        bool defunc_0_leq_res_178446 = x_178443 || y_178445;
                                        bool defunc_0_lifted_gt_res_178447 = !defunc_0_leq_res_178446;
                                        
                                        loop_cond_178430 = defunc_0_lifted_gt_res_178447;
                                    } else {
                                        loop_cond_178430 = 0;
                                    }
                                    
                                    bool loop_while_tmp_181457 = loop_cond_178430;
                                    int64_t j_tmp_181461 = tmp_178428;
                                    
                                    loop_while_178402 = loop_while_tmp_181457;
                                    j_178406 = j_tmp_181461;
                                }
                                s_178397 = loop_while_178402;
                                s_178401 = j_178406;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180407, i_179673 * block_sizze_178272, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180426, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178272});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180410, i_179673 * block_sizze_178272, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180428, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178272});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_180413, i_179673 * block_sizze_178272, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180430, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178272});
                    }
                    if (memblock_alloc(ctx, &mem_180507, flat_dim_178273, "mem_180507")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180507.mem, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (uint8_t *) mem_180407, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178262, block_sizze_178272});
                    if (memblock_alloc(ctx, &mem_180511, bytes_180409, "mem_180511")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180511.mem, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (uint64_t *) mem_180410, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178262, block_sizze_178272});
                    if (memblock_alloc(ctx, &mem_180515, bytes_180412, "mem_180515")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_180515.mem, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (uint32_t *) mem_180413, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178262, block_sizze_178272});
                    
                    int64_t data_178457;
                    bool data_178458;
                    int64_t data_178462;
                    int64_t loop_dz2084Uz2082U_178463;
                    bool loop_while_178464;
                    int64_t stride_178468;
                    
                    if (memblock_set(ctx, &mem_param_180519, &mem_180507, "mem_180507") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180522, &mem_180511, "mem_180511") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180525, &mem_180515, "mem_180515") != 0)
                        return 1;
                    loop_dz2084Uz2082U_178463 = flat_dim_178273;
                    loop_while_178464 = loop_cond_178454;
                    stride_178468 = block_sizze_178272;
                    while (loop_while_178464) {
                        int64_t next_stride_178469 = mul64((int64_t) 2, stride_178468);
                        bool zzero_178470 = next_stride_178469 == (int64_t) 0;
                        bool nonzzero_178471 = !zzero_178470;
                        bool nonzzero_cert_178472;
                        
                        if (!nonzzero_178471) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_178473 = sdiv64(flat_dim_178273, next_stride_178469);
                        bool bounds_invalid_upwards_178474 = slt64(num_merges_178473, (int64_t) 0);
                        bool valid_178475 = !bounds_invalid_upwards_178474;
                        bool range_valid_c_178476;
                        
                        if (!valid_178475) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_178473, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:398:63-73\n   #6  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_178478 = sub64(next_stride_178469, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_178479 = sle64((int64_t) 0, m_178478);
                        bool cond_178481 = slt64(next_stride_178469, (int64_t) 10);
                        bool protect_assert_disj_178482 = nonzzero_178456 || cond_178481;
                        bool nonzzero_cert_178483;
                        
                        if (!protect_assert_disj_178482) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_178484 = smod_safe64(next_stride_178469, merge_block_sizze_178278);
                        bool num_blocks_178485 = zeze_lhs_178484 == (int64_t) 0;
                        bool protect_assert_disj_178486 = cond_178481 || num_blocks_178485;
                        bool assert_c_178487;
                        
                        if (!protect_assert_disj_178486) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_178488 = sdiv_safe64(next_stride_178469, merge_block_sizze_178278);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489 = add64((int64_t) 1, num_blocks_178488);
                        int64_t j_m_i_178490 = sub64(next_stride_178469, stride_178468);
                        int64_t flat_dim_178491 = merge_block_sizze_178278 * num_blocks_178488;
                        bool bounds_invalid_upwards_178492 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489, (int64_t) 0);
                        bool empty_slice_178493 = j_m_i_178490 == (int64_t) 0;
                        int64_t m_178494 = sub64(j_m_i_178490, (int64_t) 1);
                        bool zzero_lte_i_178495 = sle64((int64_t) 0, stride_178468);
                        bool i_lte_j_178496 = sle64(stride_178468, next_stride_178469);
                        bool empty_slice_178497 = stride_178468 == (int64_t) 0;
                        int64_t m_178498 = sub64(stride_178468, (int64_t) 1);
                        bool bounds_invalid_upwards_178499 = slt64(num_blocks_178488, (int64_t) 0);
                        bool cond_178500 = slt64((int64_t) 0, stride_178468);
                        bool valid_178501 = !bounds_invalid_upwards_178492;
                        int64_t i_p_m_t_s_178502 = add64(stride_178468, m_178494);
                        bool zzero_leq_i_p_m_t_s_178503 = sle64((int64_t) 0, m_178498);
                        bool i_p_m_t_s_leq_w_178504 = slt64(m_178498, next_stride_178469);
                        bool valid_178505 = !bounds_invalid_upwards_178499;
                        bool i_p_m_t_s_leq_w_178506 = slt64(m_178478, flat_dim_178491);
                        bool y_178507 = slt64((int64_t) 0, j_m_i_178490);
                        bool protect_assert_disj_178508 = cond_178481 || valid_178501;
                        bool range_valid_c_178509;
                        
                        if (!protect_assert_disj_178508) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_178510 = sle64((int64_t) 0, i_p_m_t_s_178502);
                        bool i_p_m_t_s_leq_w_178511 = slt64(i_p_m_t_s_178502, next_stride_178469);
                        bool y_178512 = zzero_leq_i_p_m_t_s_178503 && i_p_m_t_s_leq_w_178504;
                        bool protect_assert_disj_178513 = cond_178481 || valid_178505;
                        bool range_valid_c_178514;
                        
                        if (!protect_assert_disj_178513) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_178488, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_178515 = zzero_leq_i_p_m_t_s_178479 && i_p_m_t_s_leq_w_178506;
                        bool y_178516 = zzero_lte_i_178495 && i_p_m_t_s_leq_w_178511;
                        bool forwards_ok_178517 = zzero_lte_i_178495 && y_178512;
                        bool ok_or_empty_178518 = zzero_178470 || y_178515;
                        bool protect_assert_disj_178519 = cond_178500 || y_178507;
                        bool y_178520 = zzero_leq_i_p_m_t_s_178510 && y_178516;
                        bool ok_or_empty_178521 = empty_slice_178497 || forwards_ok_178517;
                        bool protect_assert_disj_178522 = cond_178481 || ok_or_empty_178518;
                        bool index_certs_178523;
                        
                        if (!protect_assert_disj_178522) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_178469, "] out of bounds for array of shape [", (long long) flat_dim_178491, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_178524 = !cond_178481;
                        bool protect_assert_disj_178525 = protect_assert_disj_178519 || loop_not_taken_178524;
                        bool index_certs_178526;
                        
                        if (!protect_assert_disj_178525) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_178527 = i_lte_j_178496 && y_178520;
                        bool protect_assert_disj_178528 = cond_178481 || ok_or_empty_178521;
                        bool index_certs_178529;
                        
                        if (!protect_assert_disj_178528) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_178468, "] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_178530 = ok_or_empty_178521 || loop_not_taken_178524;
                        bool index_certs_178531;
                        
                        if (!protect_assert_disj_178530) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_178468, "] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_178532 = empty_slice_178493 || forwards_ok_178527;
                        bool protect_assert_disj_178533 = cond_178481 || ok_or_empty_178532;
                        bool index_certs_178534;
                        
                        if (!protect_assert_disj_178533) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_178468, ":] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_178535 = loop_not_taken_178524 || ok_or_empty_178532;
                        bool index_certs_178536;
                        
                        if (!protect_assert_disj_178535) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_178468, ":] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180526 = next_stride_178469 * num_merges_178473;
                        int64_t binop_x_180528 = (int64_t) 8 * num_merges_178473;
                        int64_t bytes_180529 = next_stride_178469 * binop_x_180528;
                        int64_t binop_x_180531 = (int64_t) 4 * num_merges_178473;
                        int64_t bytes_180532 = next_stride_178469 * binop_x_180531;
                        bool i_lte_j_178480 = sle64((int64_t) 0, next_stride_178469);
                        
                        if (mem_180527_cached_sizze_181810 < bytes_180526) {
                            err = lexical_realloc(ctx, &mem_180527, &mem_180527_cached_sizze_181810, bytes_180526);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180530_cached_sizze_181811 < bytes_180529) {
                            err = lexical_realloc(ctx, &mem_180530, &mem_180530_cached_sizze_181811, bytes_180529);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180533_cached_sizze_181812 < bytes_180532) {
                            err = lexical_realloc(ctx, &mem_180533, &mem_180533_cached_sizze_181812, bytes_180532);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180546 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489;
                        int64_t binop_x_180564 = (int64_t) 8 * num_blocks_178488;
                        int64_t bytes_180565 = merge_block_sizze_178278 * binop_x_180564;
                        int64_t binop_x_180567 = (int64_t) 4 * num_blocks_178488;
                        int64_t bytes_180568 = merge_block_sizze_178278 * binop_x_180567;
                        int64_t bytes_180629 = (int64_t) 16 * stride_178468;
                        int64_t bytes_180631 = (int64_t) 8 * stride_178468;
                        
                        for (int64_t i_179700 = 0; i_179700 < num_merges_178473; i_179700++) {
                            int64_t start_178541 = mul64(next_stride_178469, i_179700);
                            int64_t j_m_i_178542 = sub64(loop_dz2084Uz2082U_178463, start_178541);
                            bool empty_slice_178543 = j_m_i_178542 == (int64_t) 0;
                            int64_t m_178544 = sub64(j_m_i_178542, (int64_t) 1);
                            int64_t i_p_m_t_s_178545 = add64(start_178541, m_178544);
                            bool zzero_leq_i_p_m_t_s_178546 = sle64((int64_t) 0, i_p_m_t_s_178545);
                            bool i_p_m_t_s_leq_w_178547 = slt64(i_p_m_t_s_178545, loop_dz2084Uz2082U_178463);
                            bool zzero_lte_i_178548 = sle64((int64_t) 0, start_178541);
                            bool i_lte_j_178549 = sle64(start_178541, loop_dz2084Uz2082U_178463);
                            bool y_178550 = i_p_m_t_s_leq_w_178547 && zzero_lte_i_178548;
                            bool y_178551 = zzero_leq_i_p_m_t_s_178546 && y_178550;
                            bool forwards_ok_178552 = i_lte_j_178549 && y_178551;
                            bool ok_or_empty_178553 = empty_slice_178543 || forwards_ok_178552;
                            bool index_certs_178554;
                            
                            if (!ok_or_empty_178553) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_178541, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_178463, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_178555 = slt64(m_178478, j_m_i_178542);
                            bool y_178556 = zzero_leq_i_p_m_t_s_178479 && i_p_m_t_s_leq_w_178555;
                            bool forwards_ok_178557 = i_lte_j_178480 && y_178556;
                            bool ok_or_empty_178558 = zzero_178470 || forwards_ok_178557;
                            bool index_certs_178559;
                            
                            if (!ok_or_empty_178558) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_178469, "] out of bounds for array of shape [", (long long) j_m_i_178542, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_178481) {
                                int8_t dummy_178563;
                                int64_t dummy_178564;
                                float dummy_178565;
                                
                                if (cond_178500) {
                                    int8_t head_res_178566 = ((int8_t *) mem_param_180519.mem)[start_178541];
                                    int64_t head_res_178567 = ((int64_t *) mem_param_180522.mem)[start_178541];
                                    float head_res_178568 = ((float *) mem_param_180525.mem)[start_178541];
                                    
                                    dummy_178563 = head_res_178566;
                                    dummy_178564 = head_res_178567;
                                    dummy_178565 = head_res_178568;
                                } else {
                                    int64_t slice_178569 = stride_178468 + start_178541;
                                    int8_t head_res_178570 = ((int8_t *) mem_param_180519.mem)[slice_178569];
                                    int64_t head_res_178571 = ((int64_t *) mem_param_180522.mem)[slice_178569];
                                    float head_res_178572 = ((float *) mem_param_180525.mem)[slice_178569];
                                    
                                    dummy_178563 = head_res_178570;
                                    dummy_178564 = head_res_178571;
                                    dummy_178565 = head_res_178572;
                                }
                                if (memblock_alloc(ctx, &mem_180628, next_stride_178469, "mem_180628")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181474 = 0; nest_i_181474 < next_stride_178469; nest_i_181474++) {
                                    ((int8_t *) mem_180628.mem)[nest_i_181474] = dummy_178563;
                                }
                                if (memblock_alloc(ctx, &mem_180630, bytes_180629, "mem_180630")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181475 = 0; nest_i_181475 < next_stride_178469; nest_i_181475++) {
                                    ((int64_t *) mem_180630.mem)[nest_i_181475] = dummy_178564;
                                }
                                if (memblock_alloc(ctx, &mem_180632, bytes_180631, "mem_180632")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181476 = 0; nest_i_181476 < next_stride_178469; nest_i_181476++) {
                                    ((float *) mem_180632.mem)[nest_i_181476] = dummy_178565;
                                }
                                
                                int64_t data_178576;
                                int64_t i_178581 = (int64_t) 0;
                                
                                for (int64_t k_178580 = 0; k_178580 < next_stride_178469; k_178580++) {
                                    int64_t j_178585 = sub64(k_178580, i_178581);
                                    bool cond_178586 = j_178585 == j_m_i_178490;
                                    bool cond_178587;
                                    
                                    if (cond_178586) {
                                        cond_178587 = 1;
                                    } else {
                                        bool cond_178588 = slt64(i_178581, stride_178468);
                                        bool cond_f_res_178589;
                                        
                                        if (cond_178588) {
                                            bool x_178590 = sle64((int64_t) 0, j_178585);
                                            bool y_178591 = slt64(j_178585, j_m_i_178490);
                                            bool bounds_check_178592 = x_178590 && y_178591;
                                            bool index_certs_178593;
                                            
                                            if (!bounds_check_178592) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178585, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178599 = sle64((int64_t) 0, i_178581);
                                            bool bounds_check_178600 = cond_178588 && x_178599;
                                            bool index_certs_178601;
                                            
                                            if (!bounds_check_178600) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178581, "] out of bounds for array of shape [", (long long) stride_178468, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178594 = stride_178468 + j_178585;
                                            int64_t slice_178595 = start_178541 + slice_178594;
                                            int8_t leq_arg1_178596 = ((int8_t *) mem_param_180519.mem)[slice_178595];
                                            int64_t leq_arg1_178597 = ((int64_t *) mem_param_180522.mem)[slice_178595];
                                            float leq_arg1_178598 = ((float *) mem_param_180525.mem)[slice_178595];
                                            int64_t slice_178602 = start_178541 + i_178581;
                                            int8_t leq_arg0_178603 = ((int8_t *) mem_param_180519.mem)[slice_178602];
                                            int64_t leq_arg0_178604 = ((int64_t *) mem_param_180522.mem)[slice_178602];
                                            float leq_arg0_178605 = ((float *) mem_param_180525.mem)[slice_178602];
                                            bool cond_178606 = leq_arg0_178603 == leq_arg1_178596;
                                            bool defunc_0_leq_res_t_res_178607 = sle64(leq_arg0_178604, leq_arg1_178597);
                                            bool defunc_0_leq_res_178608 = leq_arg0_178605 <= leq_arg1_178598;
                                            bool x_178609 = cond_178606 && defunc_0_leq_res_t_res_178607;
                                            bool x_178610 = !cond_178606;
                                            bool y_178611 = defunc_0_leq_res_178608 && x_178610;
                                            bool defunc_0_leq_res_178612 = x_178609 || y_178611;
                                            
                                            cond_f_res_178589 = defunc_0_leq_res_178612;
                                        } else {
                                            cond_f_res_178589 = 0;
                                        }
                                        cond_178587 = cond_f_res_178589;
                                    }
                                    
                                    int64_t loopres_178613;
                                    int8_t loopres_178614;
                                    int64_t loopres_178615;
                                    float loopres_178616;
                                    
                                    if (cond_178587) {
                                        bool x_178618 = sle64((int64_t) 0, i_178581);
                                        bool y_178619 = slt64(i_178581, stride_178468);
                                        bool bounds_check_178620 = x_178618 && y_178619;
                                        bool index_certs_178621;
                                        
                                        if (!bounds_check_178620) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178581, "] out of bounds for array of shape [", (long long) stride_178468, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_178617 = add64((int64_t) 1, i_178581);
                                        int64_t slice_178622 = start_178541 + i_178581;
                                        int8_t tmp_178623 = ((int8_t *) mem_param_180519.mem)[slice_178622];
                                        int64_t tmp_178624 = ((int64_t *) mem_param_180522.mem)[slice_178622];
                                        float tmp_178625 = ((float *) mem_param_180525.mem)[slice_178622];
                                        
                                        loopres_178613 = tmp_178617;
                                        loopres_178614 = tmp_178623;
                                        loopres_178615 = tmp_178624;
                                        loopres_178616 = tmp_178625;
                                    } else {
                                        bool x_178626 = sle64((int64_t) 0, j_178585);
                                        bool y_178627 = slt64(j_178585, j_m_i_178490);
                                        bool bounds_check_178628 = x_178626 && y_178627;
                                        bool index_certs_178629;
                                        
                                        if (!bounds_check_178628) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178585, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178630 = stride_178468 + j_178585;
                                        int64_t slice_178631 = start_178541 + slice_178630;
                                        int8_t tmp_178632 = ((int8_t *) mem_param_180519.mem)[slice_178631];
                                        int64_t tmp_178633 = ((int64_t *) mem_param_180522.mem)[slice_178631];
                                        float tmp_178634 = ((float *) mem_param_180525.mem)[slice_178631];
                                        
                                        loopres_178613 = i_178581;
                                        loopres_178614 = tmp_178632;
                                        loopres_178615 = tmp_178633;
                                        loopres_178616 = tmp_178634;
                                    }
                                    ((int8_t *) mem_180628.mem)[k_178580] = loopres_178614;
                                    ((int64_t *) mem_180630.mem)[k_178580] = loopres_178615;
                                    ((float *) mem_180632.mem)[k_178580] = loopres_178616;
                                    
                                    int64_t i_tmp_181477 = loopres_178613;
                                    
                                    i_178581 = i_tmp_181477;
                                }
                                data_178576 = i_178581;
                                if (memblock_set(ctx, &ext_mem_180659, &mem_180628, "mem_180628") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180656, &mem_180630, "mem_180630") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180653, &mem_180632, "mem_180632") != 0)
                                    return 1;
                            } else {
                                if (mem_180547_cached_sizze_181813 < bytes_180546) {
                                    err = lexical_realloc(ctx, &mem_180547, &mem_180547_cached_sizze_181813, bytes_180546);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180549_cached_sizze_181814 < bytes_180546) {
                                    err = lexical_realloc(ctx, &mem_180549, &mem_180549_cached_sizze_181814, bytes_180546);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179681 = 0; i_179681 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489; i_179681++) {
                                    int64_t split_count_arg3_178642 = mul64(merge_block_sizze_178278, i_179681);
                                    int64_t defunc_0_split_count_res_178643;
                                    int64_t defunc_0_split_count_res_178644;
                                    int64_t defunc_0_split_count_res_178645;
                                    int64_t defunc_0_split_count_res_178646;
                                    int64_t defunc_0_split_count_res_178647;
                                    
                                    if (futrts_lifted_normalizze_8970(ctx, &defunc_0_split_count_res_178643, &defunc_0_split_count_res_178644, &defunc_0_split_count_res_178645, &defunc_0_split_count_res_178646, &defunc_0_split_count_res_178647, (int64_t) 0, stride_178468, (int64_t) 0, j_m_i_178490, split_count_arg3_178642) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_178648 = slt64((int64_t) 0, defunc_0_split_count_res_178647);
                                    bool defunc_0_split_count_res_178649;
                                    int64_t defunc_0_split_count_res_178650;
                                    int64_t defunc_0_split_count_res_178651;
                                    int64_t defunc_0_split_count_res_178652;
                                    int64_t defunc_0_split_count_res_178653;
                                    int64_t defunc_0_split_count_res_178654;
                                    bool loop_while_178655;
                                    int64_t ss_178656;
                                    int64_t ss_178657;
                                    int64_t tt_178658;
                                    int64_t tt_178659;
                                    int64_t count_178660;
                                    
                                    loop_while_178655 = loop_cond_178648;
                                    ss_178656 = defunc_0_split_count_res_178643;
                                    ss_178657 = defunc_0_split_count_res_178644;
                                    tt_178658 = defunc_0_split_count_res_178645;
                                    tt_178659 = defunc_0_split_count_res_178646;
                                    count_178660 = defunc_0_split_count_res_178647;
                                    while (loop_while_178655) {
                                        int64_t zlze_lhs_178661 = sub64(ss_178657, ss_178656);
                                        bool cond_178662 = sle64(zlze_lhs_178661, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_178663;
                                        int64_t defunc_0_lifted_step_res_178664;
                                        int64_t defunc_0_lifted_step_res_178665;
                                        int64_t defunc_0_lifted_step_res_178666;
                                        
                                        if (cond_178662) {
                                            int64_t tmp_178667 = add64(tt_178658, count_178660);
                                            
                                            defunc_0_lifted_step_res_178663 = ss_178656;
                                            defunc_0_lifted_step_res_178664 = tmp_178667;
                                            defunc_0_lifted_step_res_178665 = tt_178659;
                                            defunc_0_lifted_step_res_178666 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_178668 = sub64(tt_178659, tt_178658);
                                            bool cond_178669 = sle64(zlze_lhs_178668, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_178670;
                                            int64_t defunc_0_lifted_step_res_f_res_178671;
                                            int64_t defunc_0_lifted_step_res_f_res_178672;
                                            int64_t defunc_0_lifted_step_res_f_res_178673;
                                            
                                            if (cond_178669) {
                                                int64_t tmp_178674 = add64(ss_178656, count_178660);
                                                
                                                defunc_0_lifted_step_res_f_res_178670 = tmp_178674;
                                                defunc_0_lifted_step_res_f_res_178671 = tt_178658;
                                                defunc_0_lifted_step_res_f_res_178672 = tt_178659;
                                                defunc_0_lifted_step_res_f_res_178673 = (int64_t) 0;
                                            } else {
                                                bool cond_178675 = count_178660 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178676;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178677;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178678;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178679;
                                                
                                                if (cond_178675) {
                                                    bool x_178680 = sle64((int64_t) 0, ss_178656);
                                                    bool y_178681 = slt64(ss_178656, stride_178468);
                                                    bool bounds_check_178682 = x_178680 && y_178681;
                                                    bool index_certs_178683;
                                                    
                                                    if (!bounds_check_178682) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_178656, "] out of bounds for array of shape [", (long long) stride_178468, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:398:63-73\n   #13 ftsort.fut:391:1-398:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_178688 = sle64((int64_t) 0, tt_178658);
                                                    bool y_178689 = slt64(tt_178658, j_m_i_178490);
                                                    bool bounds_check_178690 = x_178688 && y_178689;
                                                    bool index_certs_178691;
                                                    
                                                    if (!bounds_check_178690) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_178658, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:398:63-73\n   #13 ftsort.fut:391:1-398:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_178684 = start_178541 + ss_178656;
                                                    int8_t leq_arg1_178685 = ((int8_t *) mem_param_180519.mem)[slice_178684];
                                                    int64_t leq_arg1_178686 = ((int64_t *) mem_param_180522.mem)[slice_178684];
                                                    float leq_arg1_178687 = ((float *) mem_param_180525.mem)[slice_178684];
                                                    int64_t slice_178692 = stride_178468 + tt_178658;
                                                    int64_t slice_178693 = start_178541 + slice_178692;
                                                    int8_t leq_arg0_178694 = ((int8_t *) mem_param_180519.mem)[slice_178693];
                                                    int64_t leq_arg0_178695 = ((int64_t *) mem_param_180522.mem)[slice_178693];
                                                    float leq_arg0_178696 = ((float *) mem_param_180525.mem)[slice_178693];
                                                    bool cond_178697 = leq_arg0_178694 == leq_arg1_178685;
                                                    bool defunc_0_leq_res_t_res_178698 = sle64(leq_arg0_178695, leq_arg1_178686);
                                                    bool defunc_0_leq_res_178699 = leq_arg0_178696 <= leq_arg1_178687;
                                                    bool x_178700 = cond_178697 && defunc_0_leq_res_t_res_178698;
                                                    bool x_178701 = !cond_178697;
                                                    bool y_178702 = defunc_0_leq_res_178699 && x_178701;
                                                    bool defunc_0_leq_res_178703 = x_178700 || y_178702;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178704;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178705;
                                                    
                                                    if (defunc_0_leq_res_178703) {
                                                        int64_t tmp_178706 = add64((int64_t) 1, tt_178658);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178704 = ss_178656;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178705 = tmp_178706;
                                                    } else {
                                                        int64_t tmp_178707 = add64((int64_t) 1, ss_178656);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178704 = tmp_178707;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178705 = tt_178658;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_178676 = defunc_0_lifted_step_res_f_res_f_res_t_res_178704;
                                                    defunc_0_lifted_step_res_f_res_f_res_178677 = defunc_0_lifted_step_res_f_res_f_res_t_res_178705;
                                                    defunc_0_lifted_step_res_f_res_f_res_178678 = tt_178659;
                                                    defunc_0_lifted_step_res_f_res_f_res_178679 = (int64_t) 0;
                                                } else {
                                                    int64_t m_178708 = sdiv64(count_178660, (int64_t) 2);
                                                    int64_t n_178709 = sub64(count_178660, m_178708);
                                                    bool cond_178710 = n_178709 == (int64_t) 0;
                                                    int64_t zgze_lhs_178711 = add64(ss_178656, m_178708);
                                                    bool cond_f_res_178712 = sle64(ss_178657, zgze_lhs_178711);
                                                    bool x_178713 = !cond_178710;
                                                    bool y_178714 = cond_f_res_178712 && x_178713;
                                                    bool cond_178715 = cond_178710 || y_178714;
                                                    bool leq_y_x_178716;
                                                    
                                                    if (cond_178715) {
                                                        leq_y_x_178716 = 1;
                                                    } else {
                                                        bool x_178717 = sle64((int64_t) 0, zgze_lhs_178711);
                                                        bool y_178718 = slt64(zgze_lhs_178711, stride_178468);
                                                        bool bounds_check_178719 = x_178717 && y_178718;
                                                        bool index_certs_178720;
                                                        
                                                        if (!bounds_check_178719) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_178711, "] out of bounds for array of shape [", (long long) stride_178468, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:398:63-73\n   #13 ftsort.fut:391:1-398:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_178725 = add64(tt_178658, n_178709);
                                                        int64_t leq_arg0_178726 = sub64(zm_lhs_178725, (int64_t) 1);
                                                        bool x_178727 = sle64((int64_t) 0, leq_arg0_178726);
                                                        bool y_178728 = slt64(leq_arg0_178726, j_m_i_178490);
                                                        bool bounds_check_178729 = x_178727 && y_178728;
                                                        bool index_certs_178730;
                                                        
                                                        if (!bounds_check_178729) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_178726, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:398:63-73\n   #13 ftsort.fut:391:1-398:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_178721 = start_178541 + zgze_lhs_178711;
                                                        int8_t leq_arg1_178722 = ((int8_t *) mem_param_180519.mem)[slice_178721];
                                                        int64_t leq_arg1_178723 = ((int64_t *) mem_param_180522.mem)[slice_178721];
                                                        float leq_arg1_178724 = ((float *) mem_param_180525.mem)[slice_178721];
                                                        int64_t slice_178731 = stride_178468 + leq_arg0_178726;
                                                        int64_t slice_178732 = start_178541 + slice_178731;
                                                        int8_t leq_arg0_178733 = ((int8_t *) mem_param_180519.mem)[slice_178732];
                                                        int64_t leq_arg0_178734 = ((int64_t *) mem_param_180522.mem)[slice_178732];
                                                        float leq_arg0_178735 = ((float *) mem_param_180525.mem)[slice_178732];
                                                        bool cond_178736 = leq_arg0_178733 == leq_arg1_178722;
                                                        bool defunc_0_leq_res_t_res_178737 = sle64(leq_arg0_178734, leq_arg1_178723);
                                                        bool defunc_0_leq_res_178738 = leq_arg0_178735 <= leq_arg1_178724;
                                                        bool x_178739 = cond_178736 && defunc_0_leq_res_t_res_178737;
                                                        bool x_178740 = !cond_178736;
                                                        bool y_178741 = defunc_0_leq_res_178738 && x_178740;
                                                        bool defunc_0_leq_res_178742 = x_178739 || y_178741;
                                                        
                                                        leq_y_x_178716 = defunc_0_leq_res_178742;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178743;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178744;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178745;
                                                    
                                                    if (leq_y_x_178716) {
                                                        int64_t tmp_178746 = add64(tt_178658, n_178709);
                                                        int64_t tmp_178747 = sub64(count_178660, n_178709);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178743 = tmp_178746;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178744 = tt_178659;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178745 = tmp_178747;
                                                    } else {
                                                        int64_t tmp_178748 = add64(tt_178658, n_178709);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178743 = tt_178658;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178744 = tmp_178748;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178745 = count_178660;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_178676 = ss_178656;
                                                    defunc_0_lifted_step_res_f_res_f_res_178677 = defunc_0_lifted_step_res_f_res_f_res_f_res_178743;
                                                    defunc_0_lifted_step_res_f_res_f_res_178678 = defunc_0_lifted_step_res_f_res_f_res_f_res_178744;
                                                    defunc_0_lifted_step_res_f_res_f_res_178679 = defunc_0_lifted_step_res_f_res_f_res_f_res_178745;
                                                }
                                                defunc_0_lifted_step_res_f_res_178670 = defunc_0_lifted_step_res_f_res_f_res_178676;
                                                defunc_0_lifted_step_res_f_res_178671 = defunc_0_lifted_step_res_f_res_f_res_178677;
                                                defunc_0_lifted_step_res_f_res_178672 = defunc_0_lifted_step_res_f_res_f_res_178678;
                                                defunc_0_lifted_step_res_f_res_178673 = defunc_0_lifted_step_res_f_res_f_res_178679;
                                            }
                                            defunc_0_lifted_step_res_178663 = defunc_0_lifted_step_res_f_res_178670;
                                            defunc_0_lifted_step_res_178664 = defunc_0_lifted_step_res_f_res_178671;
                                            defunc_0_lifted_step_res_178665 = defunc_0_lifted_step_res_f_res_178672;
                                            defunc_0_lifted_step_res_178666 = defunc_0_lifted_step_res_f_res_178673;
                                        }
                                        
                                        int64_t loopres_178749;
                                        int64_t loopres_178750;
                                        int64_t loopres_178751;
                                        int64_t loopres_178752;
                                        int64_t loopres_178753;
                                        
                                        if (futrts_lifted_normalizze_8970(ctx, &loopres_178749, &loopres_178750, &loopres_178751, &loopres_178752, &loopres_178753, defunc_0_lifted_step_res_178663, ss_178657, defunc_0_lifted_step_res_178664, defunc_0_lifted_step_res_178665, defunc_0_lifted_step_res_178666) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_178754 = slt64((int64_t) 0, loopres_178753);
                                        bool loop_while_tmp_181483 = loop_cond_178754;
                                        int64_t ss_tmp_181484 = loopres_178749;
                                        int64_t ss_tmp_181485 = loopres_178750;
                                        int64_t tt_tmp_181486 = loopres_178751;
                                        int64_t tt_tmp_181487 = loopres_178752;
                                        int64_t count_tmp_181488 = loopres_178753;
                                        
                                        loop_while_178655 = loop_while_tmp_181483;
                                        ss_178656 = ss_tmp_181484;
                                        ss_178657 = ss_tmp_181485;
                                        tt_178658 = tt_tmp_181486;
                                        tt_178659 = tt_tmp_181487;
                                        count_178660 = count_tmp_181488;
                                    }
                                    defunc_0_split_count_res_178649 = loop_while_178655;
                                    defunc_0_split_count_res_178650 = ss_178656;
                                    defunc_0_split_count_res_178651 = ss_178657;
                                    defunc_0_split_count_res_178652 = tt_178658;
                                    defunc_0_split_count_res_178653 = tt_178659;
                                    defunc_0_split_count_res_178654 = count_178660;
                                    ((int64_t *) mem_180547)[i_179681] = defunc_0_split_count_res_178650;
                                    ((int64_t *) mem_180549)[i_179681] = defunc_0_split_count_res_178652;
                                }
                                if (mem_180563_cached_sizze_181815 < flat_dim_178491) {
                                    err = lexical_realloc(ctx, &mem_180563, &mem_180563_cached_sizze_181815, flat_dim_178491);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180566_cached_sizze_181816 < bytes_180565) {
                                    err = lexical_realloc(ctx, &mem_180566, &mem_180566_cached_sizze_181816, bytes_180565);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180569_cached_sizze_181817 < bytes_180568) {
                                    err = lexical_realloc(ctx, &mem_180569, &mem_180569_cached_sizze_181817, bytes_180568);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179690 = 0; i_179690 < num_blocks_178488; i_179690++) {
                                    bool y_178763 = slt64(i_179690, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489);
                                    bool index_certs_178765;
                                    
                                    if (!y_178763) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179690, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_178766 = ((int64_t *) mem_180547)[i_179690];
                                    int64_t defunc_0_f_res_178767 = ((int64_t *) mem_180549)[i_179690];
                                    int64_t tmp_178768 = add64((int64_t) 1, i_179690);
                                    bool x_178769 = sle64((int64_t) 0, tmp_178768);
                                    bool y_178770 = slt64(tmp_178768, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489);
                                    bool bounds_check_178771 = x_178769 && y_178770;
                                    bool index_certs_178772;
                                    
                                    if (!bounds_check_178771) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178768, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_178773 = ((int64_t *) mem_180547)[tmp_178768];
                                    int64_t defunc_0_f_res_178774 = ((int64_t *) mem_180549)[tmp_178768];
                                    int64_t merge_sequential_arg2_178775 = add64(stride_178468, defunc_0_f_res_178767);
                                    int64_t merge_sequential_arg2_178776 = add64(stride_178468, defunc_0_f_res_178774);
                                    int64_t j_m_i_178777 = sub64(merge_sequential_arg2_178776, merge_sequential_arg2_178775);
                                    bool empty_slice_178778 = j_m_i_178777 == (int64_t) 0;
                                    int64_t m_178779 = sub64(j_m_i_178777, (int64_t) 1);
                                    int64_t i_p_m_t_s_178780 = add64(merge_sequential_arg2_178775, m_178779);
                                    bool zzero_leq_i_p_m_t_s_178781 = sle64((int64_t) 0, i_p_m_t_s_178780);
                                    bool i_p_m_t_s_leq_w_178782 = slt64(i_p_m_t_s_178780, next_stride_178469);
                                    bool zzero_lte_i_178783 = sle64((int64_t) 0, merge_sequential_arg2_178775);
                                    bool i_lte_j_178784 = sle64(merge_sequential_arg2_178775, merge_sequential_arg2_178776);
                                    bool y_178785 = i_p_m_t_s_leq_w_178782 && zzero_lte_i_178783;
                                    bool y_178786 = zzero_leq_i_p_m_t_s_178781 && y_178785;
                                    bool forwards_ok_178787 = i_lte_j_178784 && y_178786;
                                    bool ok_or_empty_178788 = empty_slice_178778 || forwards_ok_178787;
                                    bool index_certs_178789;
                                    
                                    if (!ok_or_empty_178788) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_178775, ":", (long long) merge_sequential_arg2_178776, "] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_178790 = sub64(defunc_0_f_res_178773, defunc_0_f_res_178766);
                                    bool empty_slice_178791 = j_m_i_178790 == (int64_t) 0;
                                    int64_t m_178792 = sub64(j_m_i_178790, (int64_t) 1);
                                    int64_t i_p_m_t_s_178793 = add64(defunc_0_f_res_178766, m_178792);
                                    bool zzero_leq_i_p_m_t_s_178794 = sle64((int64_t) 0, i_p_m_t_s_178793);
                                    bool i_p_m_t_s_leq_w_178795 = slt64(i_p_m_t_s_178793, next_stride_178469);
                                    bool zzero_lte_i_178796 = sle64((int64_t) 0, defunc_0_f_res_178766);
                                    bool i_lte_j_178797 = sle64(defunc_0_f_res_178766, defunc_0_f_res_178773);
                                    bool y_178798 = i_p_m_t_s_leq_w_178795 && zzero_lte_i_178796;
                                    bool y_178799 = zzero_leq_i_p_m_t_s_178794 && y_178798;
                                    bool forwards_ok_178800 = i_lte_j_178797 && y_178799;
                                    bool ok_or_empty_178801 = empty_slice_178791 || forwards_ok_178800;
                                    bool index_certs_178802;
                                    
                                    if (!ok_or_empty_178801) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_178766, ":", (long long) defunc_0_f_res_178773, "] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_178803 = slt64((int64_t) 0, j_m_i_178790);
                                    int8_t dummy_178804;
                                    int64_t dummy_178805;
                                    float dummy_178806;
                                    
                                    if (cond_178803) {
                                        bool index_certs_178807;
                                        
                                        if (!cond_178803) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178790, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178808 = start_178541 + defunc_0_f_res_178766;
                                        int8_t head_res_178809 = ((int8_t *) mem_param_180519.mem)[slice_178808];
                                        int64_t head_res_178810 = ((int64_t *) mem_param_180522.mem)[slice_178808];
                                        float head_res_178811 = ((float *) mem_param_180525.mem)[slice_178808];
                                        
                                        dummy_178804 = head_res_178809;
                                        dummy_178805 = head_res_178810;
                                        dummy_178806 = head_res_178811;
                                    } else {
                                        bool y_178812 = slt64((int64_t) 0, j_m_i_178777);
                                        bool index_certs_178813;
                                        
                                        if (!y_178812) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178777, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178814 = start_178541 + merge_sequential_arg2_178775;
                                        int8_t head_res_178815 = ((int8_t *) mem_param_180519.mem)[slice_178814];
                                        int64_t head_res_178816 = ((int64_t *) mem_param_180522.mem)[slice_178814];
                                        float head_res_178817 = ((float *) mem_param_180525.mem)[slice_178814];
                                        
                                        dummy_178804 = head_res_178815;
                                        dummy_178805 = head_res_178816;
                                        dummy_178806 = head_res_178817;
                                    }
                                    for (int64_t nest_i_181492 = 0; nest_i_181492 < merge_block_sizze_178278; nest_i_181492++) {
                                        ((int8_t *) mem_180563)[i_179690 * merge_block_sizze_178278 + nest_i_181492] = dummy_178804;
                                    }
                                    for (int64_t nest_i_181493 = 0; nest_i_181493 < merge_block_sizze_178278; nest_i_181493++) {
                                        ((int64_t *) mem_180566)[i_179690 * merge_block_sizze_178278 + nest_i_181493] = dummy_178805;
                                    }
                                    for (int64_t nest_i_181494 = 0; nest_i_181494 < merge_block_sizze_178278; nest_i_181494++) {
                                        ((float *) mem_180569)[i_179690 * merge_block_sizze_178278 + nest_i_181494] = dummy_178806;
                                    }
                                    
                                    int64_t data_178821;
                                    int64_t i_178826 = (int64_t) 0;
                                    
                                    for (int64_t k_178825 = 0; k_178825 < merge_block_sizze_178278; k_178825++) {
                                        int64_t j_178830 = sub64(k_178825, i_178826);
                                        bool cond_178831 = j_178830 == j_m_i_178777;
                                        bool cond_178832;
                                        
                                        if (cond_178831) {
                                            cond_178832 = 1;
                                        } else {
                                            bool cond_178833 = slt64(i_178826, j_m_i_178790);
                                            bool cond_f_res_178834;
                                            
                                            if (cond_178833) {
                                                bool x_178835 = sle64((int64_t) 0, j_178830);
                                                bool y_178836 = slt64(j_178830, j_m_i_178777);
                                                bool bounds_check_178837 = x_178835 && y_178836;
                                                bool index_certs_178838;
                                                
                                                if (!bounds_check_178837) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178830, "] out of bounds for array of shape [", (long long) j_m_i_178777, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_178844 = sle64((int64_t) 0, i_178826);
                                                bool bounds_check_178845 = cond_178833 && x_178844;
                                                bool index_certs_178846;
                                                
                                                if (!bounds_check_178845) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178826, "] out of bounds for array of shape [", (long long) j_m_i_178790, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_178839 = merge_sequential_arg2_178775 + j_178830;
                                                int64_t slice_178840 = start_178541 + slice_178839;
                                                int8_t leq_arg1_178841 = ((int8_t *) mem_param_180519.mem)[slice_178840];
                                                int64_t leq_arg1_178842 = ((int64_t *) mem_param_180522.mem)[slice_178840];
                                                float leq_arg1_178843 = ((float *) mem_param_180525.mem)[slice_178840];
                                                int64_t slice_178847 = defunc_0_f_res_178766 + i_178826;
                                                int64_t slice_178848 = start_178541 + slice_178847;
                                                int8_t leq_arg0_178849 = ((int8_t *) mem_param_180519.mem)[slice_178848];
                                                int64_t leq_arg0_178850 = ((int64_t *) mem_param_180522.mem)[slice_178848];
                                                float leq_arg0_178851 = ((float *) mem_param_180525.mem)[slice_178848];
                                                bool cond_178852 = leq_arg0_178849 == leq_arg1_178841;
                                                bool defunc_0_leq_res_t_res_178853 = sle64(leq_arg0_178850, leq_arg1_178842);
                                                bool defunc_0_leq_res_178854 = leq_arg0_178851 <= leq_arg1_178843;
                                                bool x_178855 = cond_178852 && defunc_0_leq_res_t_res_178853;
                                                bool x_178856 = !cond_178852;
                                                bool y_178857 = defunc_0_leq_res_178854 && x_178856;
                                                bool defunc_0_leq_res_178858 = x_178855 || y_178857;
                                                
                                                cond_f_res_178834 = defunc_0_leq_res_178858;
                                            } else {
                                                cond_f_res_178834 = 0;
                                            }
                                            cond_178832 = cond_f_res_178834;
                                        }
                                        
                                        int64_t loopres_178859;
                                        int8_t loopres_178860;
                                        int64_t loopres_178861;
                                        float loopres_178862;
                                        
                                        if (cond_178832) {
                                            bool x_178864 = sle64((int64_t) 0, i_178826);
                                            bool y_178865 = slt64(i_178826, j_m_i_178790);
                                            bool bounds_check_178866 = x_178864 && y_178865;
                                            bool index_certs_178867;
                                            
                                            if (!bounds_check_178866) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178826, "] out of bounds for array of shape [", (long long) j_m_i_178790, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_178863 = add64((int64_t) 1, i_178826);
                                            int64_t slice_178868 = defunc_0_f_res_178766 + i_178826;
                                            int64_t slice_178869 = start_178541 + slice_178868;
                                            int8_t tmp_178870 = ((int8_t *) mem_param_180519.mem)[slice_178869];
                                            int64_t tmp_178871 = ((int64_t *) mem_param_180522.mem)[slice_178869];
                                            float tmp_178872 = ((float *) mem_param_180525.mem)[slice_178869];
                                            
                                            loopres_178859 = tmp_178863;
                                            loopres_178860 = tmp_178870;
                                            loopres_178861 = tmp_178871;
                                            loopres_178862 = tmp_178872;
                                        } else {
                                            bool x_178873 = sle64((int64_t) 0, j_178830);
                                            bool y_178874 = slt64(j_178830, j_m_i_178777);
                                            bool bounds_check_178875 = x_178873 && y_178874;
                                            bool index_certs_178876;
                                            
                                            if (!bounds_check_178875) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178830, "] out of bounds for array of shape [", (long long) j_m_i_178777, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178877 = merge_sequential_arg2_178775 + j_178830;
                                            int64_t slice_178878 = start_178541 + slice_178877;
                                            int8_t tmp_178879 = ((int8_t *) mem_param_180519.mem)[slice_178878];
                                            int64_t tmp_178880 = ((int64_t *) mem_param_180522.mem)[slice_178878];
                                            float tmp_178881 = ((float *) mem_param_180525.mem)[slice_178878];
                                            
                                            loopres_178859 = i_178826;
                                            loopres_178860 = tmp_178879;
                                            loopres_178861 = tmp_178880;
                                            loopres_178862 = tmp_178881;
                                        }
                                        ((int8_t *) mem_180563)[i_179690 * merge_block_sizze_178278 + k_178825] = loopres_178860;
                                        ((int64_t *) mem_180566)[i_179690 * merge_block_sizze_178278 + k_178825] = loopres_178861;
                                        ((float *) mem_180569)[i_179690 * merge_block_sizze_178278 + k_178825] = loopres_178862;
                                        
                                        int64_t i_tmp_181495 = loopres_178859;
                                        
                                        i_178826 = i_tmp_181495;
                                    }
                                    data_178821 = i_178826;
                                }
                                if (memblock_alloc(ctx, &mem_180618, flat_dim_178491, "mem_180618")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180618.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (uint8_t *) mem_180563, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (int64_t []) {num_blocks_178488, merge_block_sizze_178278});
                                if (memblock_alloc(ctx, &mem_180622, bytes_180565, "mem_180622")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180622.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (uint64_t *) mem_180566, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (int64_t []) {num_blocks_178488, merge_block_sizze_178278});
                                if (memblock_alloc(ctx, &mem_180626, bytes_180568, "mem_180626")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_180626.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (uint32_t *) mem_180569, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (int64_t []) {num_blocks_178488, merge_block_sizze_178278});
                                if (memblock_set(ctx, &ext_mem_180659, &mem_180618, "mem_180618") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180656, &mem_180622, "mem_180622") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180653, &mem_180626, "mem_180626") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180527, i_179700 * next_stride_178469, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180659.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178469});
                            if (memblock_unref(ctx, &ext_mem_180659, "ext_mem_180659") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180530, i_179700 * next_stride_178469, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180656.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178469});
                            if (memblock_unref(ctx, &ext_mem_180656, "ext_mem_180656") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180533, i_179700 * next_stride_178469, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180653.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178469});
                            if (memblock_unref(ctx, &ext_mem_180653, "ext_mem_180653") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_180673, bytes_180526, "mem_180673")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180673.mem, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (uint8_t *) mem_180527, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (int64_t []) {num_merges_178473, next_stride_178469});
                        if (memblock_alloc(ctx, &mem_180677, bytes_180529, "mem_180677")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180677.mem, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (uint64_t *) mem_180530, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (int64_t []) {num_merges_178473, next_stride_178469});
                        if (memblock_alloc(ctx, &mem_180681, bytes_180532, "mem_180681")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_180681.mem, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (uint32_t *) mem_180533, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (int64_t []) {num_merges_178473, next_stride_178469});
                        
                        bool loop_cond_178901 = slt64(next_stride_178469, flat_dim_178273);
                        
                        if (memblock_set(ctx, &mem_param_tmp_181462, &mem_180673, "mem_180673") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181463, &mem_180677, "mem_180677") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181464, &mem_180681, "mem_180681") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_181465 = bytes_180526;
                        bool loop_while_tmp_181466 = loop_cond_178901;
                        int64_t stride_tmp_181470 = next_stride_178469;
                        
                        if (memblock_set(ctx, &mem_param_180519, &mem_param_tmp_181462, "mem_param_tmp_181462") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180522, &mem_param_tmp_181463, "mem_param_tmp_181463") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180525, &mem_param_tmp_181464, "mem_param_tmp_181464") != 0)
                            return 1;
                        loop_dz2084Uz2082U_178463 = loop_dz2084Uz2082U_tmp_181465;
                        loop_while_178464 = loop_while_tmp_181466;
                        stride_178468 = stride_tmp_181470;
                    }
                    if (memblock_set(ctx, &ext_mem_180691, &mem_param_180519, "mem_param_180519") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180690, &mem_param_180522, "mem_param_180522") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180689, &mem_param_180525, "mem_param_180525") != 0)
                        return 1;
                    data_178457 = loop_dz2084Uz2082U_178463;
                    data_178458 = loop_while_178464;
                    data_178462 = stride_178468;
                    if (memblock_unref(ctx, &mem_180507, "mem_180507") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180511, "mem_180511") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180515, "mem_180515") != 0)
                        return 1;
                    
                    bool empty_slice_178902 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_178903 = sle64((int64_t) 0, zs_lhs_178257);
                    bool i_p_m_t_s_leq_w_178904 = slt64(zs_lhs_178257, data_178457);
                    bool y_178905 = zzero_leq_i_p_m_t_s_178903 && i_p_m_t_s_leq_w_178904;
                    bool ok_or_empty_178906 = empty_slice_178902 || y_178905;
                    bool index_certs_178907;
                    
                    if (!ok_or_empty_178906) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "] out of bounds for array of shape [", (long long) data_178457, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:398:63-73\n   #6  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_180700, &ext_mem_180691, "ext_mem_180691") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180697, &ext_mem_180690, "ext_mem_180690") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180694, &ext_mem_180689, "ext_mem_180689") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180401, "mem_180401") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180403, "mem_180403") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180405, "mem_180405") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180367, i_179716 * perThread_174534, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180700.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211});
                if (memblock_unref(ctx, &ext_mem_180700, "ext_mem_180700") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180370, i_179716 * perThread_174534, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180697.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211});
                if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180373, i_179716 * perThread_174534, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180694.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211});
                if (memblock_unref(ctx, &ext_mem_180694, "ext_mem_180694") != 0)
                    return 1;
                for (int64_t i_179706 = 0; i_179706 < perThread_174534; i_179706++) {
                    int64_t lifted_lambda_res_178929 = add64(zm_rhs_178213, i_179706);
                    
                    ((int64_t *) mem_180365)[i_179716 * perThread_174534 + i_179706] = lifted_lambda_res_178929;
                }
                
                bool cond_178931 = card_178214 == zp_rhs_174533;
                
                if (cond_178931) {
                    bool y_178933 = slt64(card_178214, perThread_174534);
                    bool index_certs_178934;
                    
                    if (!y_178933) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_178214, "] out of bounds for array of shape [", (long long) perThread_174534, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_180365)[i_179716 * perThread_174534 + card_178214] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_180726, bytes_180021, "mem_180726")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181500 = 0; nest_i_181500 < window_sizze_151709; nest_i_181500++) {
                ((float *) mem_180726.mem)[nest_i_181500] = 0.0F;
            }
            if (memblock_alloc(ctx, &mem_180728, bytes_180019, "mem_180728")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181501 = 0; nest_i_181501 < window_sizze_151709; nest_i_181501++) {
                ((int64_t *) mem_180728.mem)[nest_i_181501] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180729, window_sizze_151709, "mem_180729")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181502 = 0; nest_i_181502 < window_sizze_151709; nest_i_181502++) {
                ((int8_t *) mem_180729.mem)[nest_i_181502] = (int8_t) -1;
            }
            for (int64_t write_iter_179721 = 0; write_iter_179721 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174535; write_iter_179721++) {
                int64_t new_index_179873 = squot64(write_iter_179721, perThread_174534);
                int64_t binop_y_179875 = perThread_174534 * new_index_179873;
                int64_t new_index_179876 = write_iter_179721 - binop_y_179875;
                int64_t write_iv_179725 = ((int64_t *) mem_180365)[new_index_179873 * perThread_174534 + new_index_179876];
                int8_t write_iv_179726 = ((int8_t *) mem_180367)[new_index_179873 * perThread_174534 + new_index_179876];
                int64_t write_iv_179727 = ((int64_t *) mem_180370)[new_index_179873 * perThread_174534 + new_index_179876];
                float write_iv_179728 = ((float *) mem_180373)[new_index_179873 * perThread_174534 + new_index_179876];
                
                if (sle64((int64_t) 0, write_iv_179725) && slt64(write_iv_179725, window_sizze_151709)) {
                    ((int8_t *) mem_180729.mem)[write_iv_179725] = write_iv_179726;
                }
                if (sle64((int64_t) 0, write_iv_179725) && slt64(write_iv_179725, window_sizze_151709)) {
                    ((int64_t *) mem_180728.mem)[write_iv_179725] = write_iv_179727;
                }
                if (sle64((int64_t) 0, write_iv_179725) && slt64(write_iv_179725, window_sizze_151709)) {
                    ((float *) mem_180726.mem)[write_iv_179725] = write_iv_179728;
                }
            }
            
            int64_t index_concat_branch_178957;
            
            if (index_concat_cmp_177297) {
                int64_t index_concat_178958 = ((int64_t *) mem_180348)[index_concat_i_177298];
                
                index_concat_branch_178957 = index_concat_178958;
            } else {
                index_concat_branch_178957 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178959;
            
            if (index_concat_cmp_177297) {
                int64_t index_concat_178960 = ((int64_t *) mem_180350)[index_concat_i_177298];
                
                index_concat_branch_178959 = index_concat_178960;
            } else {
                index_concat_branch_178959 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_180756, &mem_180729, "mem_180729") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_180753, &mem_180728, "mem_180728") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_180750, &mem_180726, "mem_180726") != 0)
                return 1;
            loopres_174524 = index_concat_branch_178957;
            loopres_174525 = index_concat_branch_178959;
        } else {
            float leq_lhs_175515 = ((float *) a_list_mem_179986.mem)[p_174496];
            float leq_rhs_175518 = ((float *) b_list_mem_179987.mem)[p_174497];
            bool defunc_0_leq_res_175519 = leq_lhs_175515 <= leq_rhs_175518;
            float lowest_175520;
            
            if (defunc_0_leq_res_175519) {
                bool index_certs_178961;
                
                if (!y_175513) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_175520 = leq_lhs_175515;
            } else {
                bool index_certs_175525;
                
                if (!y_175513) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_175520 = leq_rhs_175518;
            }
            if (mem_180003_cached_sizze_181782 < bytes_180002) {
                err = lexical_realloc(ctx, &mem_180003, &mem_180003_cached_sizze_181782, bytes_180002);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180005_cached_sizze_181783 < bytes_180002) {
                err = lexical_realloc(ctx, &mem_180005, &mem_180005_cached_sizze_181783, bytes_180002);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_179736 = 0; i_179736 < threads_151710; i_179736++) {
                int64_t index_primexp_179952 = add64((int64_t) 1, i_179736);
                int64_t zs_lhs_175541 = mul64(zt_rhs_175534, index_primexp_179952);
                int64_t index_175542 = sdiv64(zs_lhs_175541, partitionFunc_arg0_175511);
                bool cond_175543 = slt64(window_sizze_151709, index_175542);
                int64_t loop_over_175544;
                
                if (cond_175543) {
                    loop_over_175544 = window_sizze_151709;
                } else {
                    loop_over_175544 = index_175542;
                }
                
                int64_t loop_over_175545;
                
                if (cond_175543) {
                    int64_t loop_over_t_res_178962 = sub64(index_175542, window_sizze_151709);
                    
                    loop_over_175545 = loop_over_t_res_178962;
                } else {
                    loop_over_175545 = (int64_t) 0;
                }
                
                int64_t loop_over_175547;
                
                if (cond_175543) {
                    int64_t zm_lhs_178963 = sub64(index_175542, window_sizze_151709);
                    int64_t loop_over_t_res_178964 = sub64(zm_lhs_178963, (int64_t) 1);
                    
                    loop_over_175547 = loop_over_t_res_178964;
                } else {
                    loop_over_175547 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_175550;
                int64_t defunc_0_f_res_175551;
                int64_t defunc_0_f_res_175552;
                int64_t defunc_0_f_res_175553;
                bool loop_while_175554;
                int64_t p_175555;
                int64_t p_175556;
                int64_t p_175557;
                
                loop_while_175554 = 1;
                p_175555 = loop_over_175547;
                p_175556 = loop_over_175544;
                p_175557 = loop_over_175545;
                while (loop_while_175554) {
                    int64_t zs_lhs_175558 = sub64(p_175556, p_175555);
                    int64_t offset_175559 = sdiv64(zs_lhs_175558, (int64_t) 2);
                    int64_t ai_175560 = sub64(p_175556, offset_175559);
                    int64_t max_arg1_175561 = add64(p_175557, offset_175559);
                    int64_t max_res_175562 = smax64((int64_t) 0, max_arg1_175561);
                    bool cond_175563 = slt64((int64_t) 0, max_res_175562);
                    float b_prev_175564;
                    
                    if (cond_175563) {
                        int64_t tmp_178965 = sub64(max_res_175562, (int64_t) 1);
                        bool x_178966 = sle64((int64_t) 0, tmp_178965);
                        bool y_178967 = slt64(tmp_178965, window_sizze_151709);
                        bool bounds_check_178968 = x_178966 && y_178967;
                        bool index_certs_178969;
                        
                        if (!bounds_check_178968) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178965, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_178970 = p_174497 + tmp_178965;
                        float b_prev_t_res_178971 = ((float *) b_list_mem_179987.mem)[slice_178970];
                        
                        b_prev_175564 = b_prev_t_res_178971;
                    } else {
                        b_prev_175564 = lowest_175520;
                    }
                    
                    bool cond_175571 = sle64(ai_175560, (int64_t) 0);
                    int64_t loopres_175572;
                    int64_t loopres_175573;
                    int64_t loopres_175574;
                    bool loopres_175575;
                    
                    if (cond_175571) {
                        loopres_175572 = p_175555;
                        loopres_175573 = (int64_t) 0;
                        loopres_175574 = max_res_175562;
                        loopres_175575 = 0;
                    } else {
                        bool cond_175576 = sle64(window_sizze_151709, max_res_175562);
                        int64_t loopres_f_res_175577;
                        int64_t loopres_f_res_175578;
                        int64_t loopres_f_res_175579;
                        bool loopres_f_res_175580;
                        
                        if (cond_175576) {
                            int64_t min_res_178973 = smin64(m_174485, ai_175560);
                            bool x_178974 = sle64((int64_t) 0, m_174485);
                            bool y_178975 = slt64(m_174485, window_sizze_151709);
                            bool bounds_check_178976 = x_178974 && y_178975;
                            bool index_certs_178977;
                            
                            if (!bounds_check_178976) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174485, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_178980 = sle64((int64_t) 0, min_res_178973);
                            bool y_178981 = slt64(min_res_178973, window_sizze_151709);
                            bool bounds_check_178982 = x_178980 && y_178981;
                            bool index_certs_178983;
                            
                            if (!bounds_check_178982) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178973, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            float leq_lhs_178979 = ((float *) b_list_mem_179987.mem)[i_p_m_t_s_174513];
                            int64_t slice_178984 = p_174496 + min_res_178973;
                            float leq_rhs_178985 = ((float *) a_list_mem_179986.mem)[slice_178984];
                            bool defunc_0_leq_res_178986 = leq_lhs_178979 <= leq_rhs_178985;
                            int64_t loopres_f_res_t_res_178987;
                            
                            if (defunc_0_leq_res_178986) {
                                loopres_f_res_t_res_178987 = ai_175560;
                            } else {
                                loopres_f_res_t_res_178987 = p_175556;
                            }
                            
                            bool x_178988 = !defunc_0_leq_res_178986;
                            int64_t loopres_f_res_t_res_178989;
                            
                            if (defunc_0_leq_res_178986) {
                                loopres_f_res_t_res_178989 = window_sizze_151709;
                            } else {
                                int64_t tmp_178990 = sub64(m_174485, offset_175559);
                                
                                loopres_f_res_t_res_178989 = tmp_178990;
                            }
                            loopres_f_res_175577 = p_175555;
                            loopres_f_res_175578 = loopres_f_res_t_res_178987;
                            loopres_f_res_175579 = loopres_f_res_t_res_178989;
                            loopres_f_res_175580 = x_178988;
                        } else {
                            bool cond_175598 = sle64(window_sizze_151709, ai_175560);
                            int64_t loopres_f_res_f_res_175599;
                            int64_t loopres_f_res_f_res_175600;
                            int64_t loopres_f_res_f_res_175601;
                            bool loopres_f_res_f_res_175602;
                            
                            if (cond_175598) {
                                int64_t min_res_178992 = smin64(m_174485, max_res_175562);
                                bool x_178993 = sle64((int64_t) 0, m_174485);
                                bool y_178994 = slt64(m_174485, window_sizze_151709);
                                bool bounds_check_178995 = x_178993 && y_178994;
                                bool index_certs_178996;
                                
                                if (!bounds_check_178995) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174485, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178999 = sle64((int64_t) 0, min_res_178992);
                                bool y_179000 = slt64(min_res_178992, window_sizze_151709);
                                bool bounds_check_179001 = x_178999 && y_179000;
                                bool index_certs_179002;
                                
                                if (!bounds_check_179001) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178992, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                float leq_lhs_178998 = ((float *) a_list_mem_179986.mem)[i_p_m_t_s_174502];
                                int64_t slice_179003 = p_174497 + min_res_178992;
                                float leq_rhs_179004 = ((float *) b_list_mem_179987.mem)[slice_179003];
                                bool defunc_0_leq_res_179005 = leq_lhs_178998 <= leq_rhs_179004;
                                int64_t loopres_f_res_f_res_t_res_179006;
                                
                                if (defunc_0_leq_res_179005) {
                                    loopres_f_res_f_res_t_res_179006 = max_res_175562;
                                } else {
                                    loopres_f_res_f_res_t_res_179006 = p_175557;
                                }
                                
                                bool x_179007 = !defunc_0_leq_res_179005;
                                int64_t loopres_f_res_f_res_t_res_179008;
                                
                                if (defunc_0_leq_res_179005) {
                                    loopres_f_res_f_res_t_res_179008 = window_sizze_151709;
                                } else {
                                    loopres_f_res_f_res_t_res_179008 = m_174485;
                                }
                                loopres_f_res_f_res_175599 = p_175555;
                                loopres_f_res_f_res_175600 = loopres_f_res_f_res_t_res_179008;
                                loopres_f_res_f_res_175601 = loopres_f_res_f_res_t_res_179006;
                                loopres_f_res_f_res_175602 = x_179007;
                            } else {
                                bool cond_175619 = sle64(p_175556, p_175555);
                                int64_t loopres_f_res_f_res_f_res_175620;
                                int64_t loopres_f_res_f_res_f_res_175621;
                                int64_t loopres_f_res_f_res_f_res_175622;
                                bool loopres_f_res_f_res_f_res_175623;
                                
                                if (cond_175619) {
                                    bool cond_179047 = slt64(ai_175560, window_sizze_151709);
                                    int64_t ai_179048;
                                    
                                    if (cond_179047) {
                                        ai_179048 = ai_175560;
                                    } else {
                                        ai_179048 = m_174485;
                                    }
                                    
                                    bool x_179061 = sle64((int64_t) 0, ai_179048);
                                    bool y_179062 = slt64(ai_179048, window_sizze_151709);
                                    bool bounds_check_179063 = x_179061 && y_179062;
                                    bool index_certs_179064;
                                    
                                    if (!bounds_check_179063) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179048, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    float b_prev_179050;
                                    
                                    if (cond_175563) {
                                        int64_t tmp_179051 = sub64(max_res_175562, (int64_t) 1);
                                        bool x_179052 = sle64((int64_t) 0, tmp_179051);
                                        bool y_179053 = slt64(tmp_179051, window_sizze_151709);
                                        bool bounds_check_179054 = x_179052 && y_179053;
                                        bool index_certs_179055;
                                        
                                        if (!bounds_check_179054) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179051, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179056 = p_174497 + tmp_179051;
                                        float b_prev_t_res_179057 = ((float *) b_list_mem_179987.mem)[slice_179056];
                                        
                                        b_prev_179050 = b_prev_t_res_179057;
                                    } else {
                                        bool index_certs_179059;
                                        
                                        if (!y_175513) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179050 = leq_rhs_175518;
                                    }
                                    
                                    int64_t slice_179065 = p_174496 + ai_179048;
                                    float gt_lhs_179066 = ((float *) a_list_mem_179986.mem)[slice_179065];
                                    bool defunc_0_gt_res_179067 = b_prev_179050 < gt_lhs_179066;
                                    int64_t defunc_0_partFunc_sequential_search_res_179068;
                                    int64_t defunc_0_partFunc_sequential_search_res_179069;
                                    
                                    if (defunc_0_gt_res_179067) {
                                        int64_t zl_rhs_179070 = sub64(window_sizze_151709, max_res_175562);
                                        bool loop_cond_179071 = slt64((int64_t) 0, zl_rhs_179070);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179072;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179073;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179074;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179075;
                                        bool loop_while_179076;
                                        int64_t p_179077;
                                        int64_t p_179078;
                                        int64_t p_179079;
                                        
                                        loop_while_179076 = loop_cond_179071;
                                        p_179077 = ai_179048;
                                        p_179078 = max_res_175562;
                                        p_179079 = (int64_t) 0;
                                        while (loop_while_179076) {
                                            int64_t i_a_179080 = sub64(ai_179048, p_179079);
                                            int64_t i_b_179081 = add64(max_res_175562, p_179079);
                                            int64_t leq_lhs_179082 = sub64(i_a_179080, (int64_t) 1);
                                            bool x_179083 = sle64((int64_t) 0, leq_lhs_179082);
                                            bool y_179084 = slt64(leq_lhs_179082, window_sizze_151709);
                                            bool bounds_check_179085 = x_179083 && y_179084;
                                            bool index_certs_179086;
                                            
                                            if (!bounds_check_179085) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179082, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179089 = sle64((int64_t) 0, i_b_179081);
                                            bool y_179090 = slt64(i_b_179081, window_sizze_151709);
                                            bool bounds_check_179091 = x_179089 && y_179090;
                                            bool index_certs_179092;
                                            
                                            if (!bounds_check_179091) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179081, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179087 = p_174496 + leq_lhs_179082;
                                            float leq_lhs_179088 = ((float *) a_list_mem_179986.mem)[slice_179087];
                                            int64_t slice_179093 = p_174497 + i_b_179081;
                                            float leq_rhs_179094 = ((float *) b_list_mem_179987.mem)[slice_179093];
                                            bool defunc_0_leq_res_179095 = leq_lhs_179088 <= leq_rhs_179094;
                                            int64_t loopres_179096;
                                            
                                            if (defunc_0_leq_res_179095) {
                                                loopres_179096 = i_a_179080;
                                            } else {
                                                loopres_179096 = ai_179048;
                                            }
                                            
                                            int64_t loopres_179097;
                                            
                                            if (defunc_0_leq_res_179095) {
                                                loopres_179097 = i_b_179081;
                                            } else {
                                                loopres_179097 = max_res_175562;
                                            }
                                            
                                            int64_t loopres_179098;
                                            
                                            if (defunc_0_leq_res_179095) {
                                                loopres_179098 = zl_rhs_179070;
                                            } else {
                                                int64_t tmp_179099 = add64((int64_t) 1, p_179079);
                                                
                                                loopres_179098 = tmp_179099;
                                            }
                                            
                                            bool loop_cond_179100 = slt64(loopres_179098, zl_rhs_179070);
                                            bool loop_while_tmp_181512 = loop_cond_179100;
                                            int64_t p_tmp_181513 = loopres_179096;
                                            int64_t p_tmp_181514 = loopres_179097;
                                            int64_t p_tmp_181515 = loopres_179098;
                                            
                                            loop_while_179076 = loop_while_tmp_181512;
                                            p_179077 = p_tmp_181513;
                                            p_179078 = p_tmp_181514;
                                            p_179079 = p_tmp_181515;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179072 = loop_while_179076;
                                        defunc_0_partFunc_sequential_search_res_t_res_179073 = p_179077;
                                        defunc_0_partFunc_sequential_search_res_t_res_179074 = p_179078;
                                        defunc_0_partFunc_sequential_search_res_t_res_179075 = p_179079;
                                        defunc_0_partFunc_sequential_search_res_179068 = defunc_0_partFunc_sequential_search_res_t_res_179073;
                                        defunc_0_partFunc_sequential_search_res_179069 = defunc_0_partFunc_sequential_search_res_t_res_179074;
                                    } else {
                                        int64_t zl_rhs_179101 = sub64(max_res_175562, (int64_t) 1);
                                        bool loop_cond_179102 = slt64((int64_t) 0, zl_rhs_179101);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179103;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179104;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179105;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179106;
                                        bool loop_while_179107;
                                        int64_t p_179108;
                                        int64_t p_179109;
                                        int64_t p_179110;
                                        
                                        loop_while_179107 = loop_cond_179102;
                                        p_179108 = ai_179048;
                                        p_179109 = max_res_175562;
                                        p_179110 = (int64_t) 0;
                                        while (loop_while_179107) {
                                            int64_t zp_lhs_179111 = add64(ai_179048, p_179110);
                                            int64_t hi_a_179112 = add64((int64_t) 1, zp_lhs_179111);
                                            bool cond_179113 = slt64(hi_a_179112, window_sizze_151709);
                                            int64_t i_a_179114;
                                            
                                            if (cond_179113) {
                                                i_a_179114 = hi_a_179112;
                                            } else {
                                                i_a_179114 = m_174485;
                                            }
                                            
                                            int64_t zm_lhs_179116 = sub64(max_res_175562, p_179110);
                                            int64_t i_b_179117 = sub64(zm_lhs_179116, (int64_t) 1);
                                            bool x_179118 = sle64((int64_t) 0, i_a_179114);
                                            bool y_179119 = slt64(i_a_179114, window_sizze_151709);
                                            bool bounds_check_179120 = x_179118 && y_179119;
                                            bool index_certs_179121;
                                            
                                            if (!bounds_check_179120) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179114, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179124 = sle64((int64_t) 0, i_b_179117);
                                            bool y_179125 = slt64(i_b_179117, window_sizze_151709);
                                            bool bounds_check_179126 = x_179124 && y_179125;
                                            bool index_certs_179127;
                                            
                                            if (!bounds_check_179126) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179117, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179122 = p_174496 + i_a_179114;
                                            float gt_lhs_179123 = ((float *) a_list_mem_179986.mem)[slice_179122];
                                            int64_t slice_179128 = p_174497 + i_b_179117;
                                            float gt_rhs_179129 = ((float *) b_list_mem_179987.mem)[slice_179128];
                                            bool defunc_0_gt_res_179130 = gt_rhs_179129 < gt_lhs_179123;
                                            int64_t loopres_179131;
                                            
                                            if (defunc_0_gt_res_179130) {
                                                loopres_179131 = i_a_179114;
                                            } else {
                                                loopres_179131 = ai_179048;
                                            }
                                            
                                            int64_t loopres_179132;
                                            
                                            if (defunc_0_gt_res_179130) {
                                                loopres_179132 = zm_lhs_179116;
                                            } else {
                                                loopres_179132 = max_res_175562;
                                            }
                                            
                                            int64_t loopres_179133;
                                            
                                            if (defunc_0_gt_res_179130) {
                                                loopres_179133 = zl_rhs_179101;
                                            } else {
                                                int64_t tmp_179134 = add64((int64_t) 1, p_179110);
                                                
                                                loopres_179133 = tmp_179134;
                                            }
                                            
                                            bool loop_cond_179135 = slt64(loopres_179133, zl_rhs_179101);
                                            bool loop_while_tmp_181516 = loop_cond_179135;
                                            int64_t p_tmp_181517 = loopres_179131;
                                            int64_t p_tmp_181518 = loopres_179132;
                                            int64_t p_tmp_181519 = loopres_179133;
                                            
                                            loop_while_179107 = loop_while_tmp_181516;
                                            p_179108 = p_tmp_181517;
                                            p_179109 = p_tmp_181518;
                                            p_179110 = p_tmp_181519;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179103 = loop_while_179107;
                                        defunc_0_partFunc_sequential_search_res_f_res_179104 = p_179108;
                                        defunc_0_partFunc_sequential_search_res_f_res_179105 = p_179109;
                                        defunc_0_partFunc_sequential_search_res_f_res_179106 = p_179110;
                                        defunc_0_partFunc_sequential_search_res_179068 = defunc_0_partFunc_sequential_search_res_f_res_179104;
                                        defunc_0_partFunc_sequential_search_res_179069 = defunc_0_partFunc_sequential_search_res_f_res_179105;
                                    }
                                    loopres_f_res_f_res_f_res_175620 = p_175555;
                                    loopres_f_res_f_res_f_res_175621 = defunc_0_partFunc_sequential_search_res_179068;
                                    loopres_f_res_f_res_f_res_175622 = defunc_0_partFunc_sequential_search_res_179069;
                                    loopres_f_res_f_res_f_res_175623 = 0;
                                } else {
                                    bool x_175707 = sle64((int64_t) 0, ai_175560);
                                    bool y_175708 = slt64(ai_175560, window_sizze_151709);
                                    bool bounds_check_175709 = x_175707 && y_175708;
                                    bool index_certs_175710;
                                    
                                    if (!bounds_check_175709) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_175560, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_177376 = p_174496 + ai_175560;
                                    float gt_lhs_175711 = ((float *) a_list_mem_179986.mem)[slice_177376];
                                    bool defunc_0_gt_res_175712 = b_prev_175564 < gt_lhs_175711;
                                    int64_t loopres_f_res_f_res_f_res_f_res_175713;
                                    int64_t loopres_f_res_f_res_f_res_f_res_175714;
                                    int64_t loopres_f_res_f_res_f_res_f_res_175715;
                                    bool loopres_f_res_f_res_f_res_f_res_175716;
                                    
                                    if (defunc_0_gt_res_175712) {
                                        int64_t leq_lhs_179136 = sub64(ai_175560, (int64_t) 1);
                                        bool x_179137 = sle64((int64_t) 0, leq_lhs_179136);
                                        bool y_179138 = slt64(leq_lhs_179136, window_sizze_151709);
                                        bool bounds_check_179139 = x_179137 && y_179138;
                                        bool index_certs_179140;
                                        
                                        if (!bounds_check_179139) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179136, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179143 = sle64((int64_t) 0, max_res_175562);
                                        bool y_179144 = slt64(max_res_175562, window_sizze_151709);
                                        bool bounds_check_179145 = x_179143 && y_179144;
                                        bool index_certs_179146;
                                        
                                        if (!bounds_check_179145) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_175562, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179141 = p_174496 + leq_lhs_179136;
                                        float leq_lhs_179142 = ((float *) a_list_mem_179986.mem)[slice_179141];
                                        int64_t slice_179147 = p_174497 + max_res_175562;
                                        float leq_rhs_179148 = ((float *) b_list_mem_179987.mem)[slice_179147];
                                        bool defunc_0_leq_res_179149 = leq_lhs_179142 <= leq_rhs_179148;
                                        bool x_179150 = !defunc_0_leq_res_179149;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179151;
                                        
                                        if (defunc_0_leq_res_179149) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179151 = ai_175560;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179151 = leq_lhs_179136;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179152;
                                        
                                        if (defunc_0_leq_res_179149) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179152 = max_res_175562;
                                        } else {
                                            int64_t tmp_179153 = add64((int64_t) 1, max_res_175562);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179152 = tmp_179153;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_175713 = p_175555;
                                        loopres_f_res_f_res_f_res_f_res_175714 = loopres_f_res_f_res_f_res_f_res_t_res_179151;
                                        loopres_f_res_f_res_f_res_f_res_175715 = loopres_f_res_f_res_f_res_f_res_t_res_179152;
                                        loopres_f_res_f_res_f_res_f_res_175716 = x_179150;
                                    } else {
                                        int64_t tmp_175733 = add64((int64_t) 1, ai_175560);
                                        
                                        loopres_f_res_f_res_f_res_f_res_175713 = tmp_175733;
                                        loopres_f_res_f_res_f_res_f_res_175714 = p_175556;
                                        loopres_f_res_f_res_f_res_f_res_175715 = p_175557;
                                        loopres_f_res_f_res_f_res_f_res_175716 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_175620 = loopres_f_res_f_res_f_res_f_res_175713;
                                    loopres_f_res_f_res_f_res_175621 = loopres_f_res_f_res_f_res_f_res_175714;
                                    loopres_f_res_f_res_f_res_175622 = loopres_f_res_f_res_f_res_f_res_175715;
                                    loopres_f_res_f_res_f_res_175623 = loopres_f_res_f_res_f_res_f_res_175716;
                                }
                                loopres_f_res_f_res_175599 = loopres_f_res_f_res_f_res_175620;
                                loopres_f_res_f_res_175600 = loopres_f_res_f_res_f_res_175621;
                                loopres_f_res_f_res_175601 = loopres_f_res_f_res_f_res_175622;
                                loopres_f_res_f_res_175602 = loopres_f_res_f_res_f_res_175623;
                            }
                            loopres_f_res_175577 = loopres_f_res_f_res_175599;
                            loopres_f_res_175578 = loopres_f_res_f_res_175600;
                            loopres_f_res_175579 = loopres_f_res_f_res_175601;
                            loopres_f_res_175580 = loopres_f_res_f_res_175602;
                        }
                        loopres_175572 = loopres_f_res_175577;
                        loopres_175573 = loopres_f_res_175578;
                        loopres_175574 = loopres_f_res_175579;
                        loopres_175575 = loopres_f_res_175580;
                    }
                    
                    bool loop_while_tmp_181508 = loopres_175575;
                    int64_t p_tmp_181509 = loopres_175572;
                    int64_t p_tmp_181510 = loopres_175573;
                    int64_t p_tmp_181511 = loopres_175574;
                    
                    loop_while_175554 = loop_while_tmp_181508;
                    p_175555 = p_tmp_181509;
                    p_175556 = p_tmp_181510;
                    p_175557 = p_tmp_181511;
                }
                defunc_0_f_res_175550 = loop_while_175554;
                defunc_0_f_res_175551 = p_175555;
                defunc_0_f_res_175552 = p_175556;
                defunc_0_f_res_175553 = p_175557;
                ((int64_t *) mem_180003)[i_179736] = defunc_0_f_res_175552;
                ((int64_t *) mem_180005)[i_179736] = defunc_0_f_res_175553;
            }
            if (memblock_alloc(ctx, &mem_180018, window_sizze_151709, "mem_180018")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181520 = 0; nest_i_181520 < window_sizze_151709; nest_i_181520++) {
                ((int8_t *) mem_180018.mem)[nest_i_181520] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180020, bytes_180019, "mem_180020")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181521 = 0; nest_i_181521 < window_sizze_151709; nest_i_181521++) {
                ((int64_t *) mem_180020.mem)[nest_i_181521] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180022, bytes_180021, "mem_180022")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181522 = 0; nest_i_181522 < window_sizze_151709; nest_i_181522++) {
                ((float *) mem_180022.mem)[nest_i_181522] = 0.0F;
            }
            
            bool defunc_0_mergeFunc_seq_res_175760;
            int64_t defunc_0_mergeFunc_seq_res_175761;
            bool loop_while_175765;
            int64_t p_175766;
            
            loop_while_175765 = loop_cond_175759;
            p_175766 = (int64_t) 0;
            while (loop_while_175765) {
                bool x_175770 = sle64((int64_t) 0, p_175766);
                bool y_175771 = slt64(p_175766, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
                bool bounds_check_175772 = x_175770 && y_175771;
                bool index_certs_175773;
                
                if (!bounds_check_175772) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175766, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_177359 = sle64((int64_t) 1, p_175766);
                int64_t index_concat_i_177360 = sub64(p_175766, (int64_t) 1);
                int64_t index_concat_177361;
                
                if (index_concat_cmp_177359) {
                    int64_t x_179154 = ((int64_t *) mem_180003)[index_concat_i_177360];
                    
                    index_concat_177361 = x_179154;
                } else {
                    index_concat_177361 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177363;
                
                if (index_concat_cmp_177359) {
                    index_concat_branch_177363 = index_concat_177361;
                } else {
                    index_concat_branch_177363 = (int64_t) 0;
                }
                
                int64_t index_concat_177355;
                
                if (index_concat_cmp_177359) {
                    int64_t x_179155 = ((int64_t *) mem_180005)[index_concat_i_177360];
                    
                    index_concat_177355 = x_179155;
                } else {
                    index_concat_177355 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177357;
                
                if (index_concat_cmp_177359) {
                    index_concat_branch_177357 = index_concat_177355;
                } else {
                    index_concat_branch_177357 = (int64_t) 0;
                }
                
                int64_t ubs_175776 = add64((int64_t) 1, p_175766);
                bool x_175777 = sle64((int64_t) 0, ubs_175776);
                bool y_175778 = slt64(ubs_175776, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
                bool bounds_check_175779 = x_175777 && y_175778;
                bool index_certs_175780;
                
                if (!bounds_check_175779) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_175776, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_177347 = sle64((int64_t) 1, ubs_175776);
                int64_t index_concat_177349;
                
                if (index_concat_cmp_177347) {
                    int64_t x_179156 = ((int64_t *) mem_180003)[p_175766];
                    
                    index_concat_177349 = x_179156;
                } else {
                    index_concat_177349 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177351;
                
                if (index_concat_cmp_177347) {
                    index_concat_branch_177351 = index_concat_177349;
                } else {
                    index_concat_branch_177351 = (int64_t) 0;
                }
                
                int64_t index_concat_177343;
                
                if (index_concat_cmp_177347) {
                    int64_t x_179157 = ((int64_t *) mem_180005)[p_175766];
                    
                    index_concat_177343 = x_179157;
                } else {
                    index_concat_177343 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177345;
                
                if (index_concat_cmp_177347) {
                    index_concat_branch_177345 = index_concat_177343;
                } else {
                    index_concat_branch_177345 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783 = sub64(index_concat_branch_177345, index_concat_branch_177357);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784 = sub64(index_concat_branch_177351, index_concat_branch_177363);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                int64_t ind_bottom_175786 = add64(index_concat_branch_177357, index_concat_branch_177363);
                int64_t ind_top_175787 = add64(index_concat_branch_177345, index_concat_branch_177351);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788 = sub64(ind_top_175787, ind_bottom_175786);
                bool empty_slice_175789 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784 == (int64_t) 0;
                int64_t m_175790 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, (int64_t) 1);
                int64_t i_p_m_t_s_175791 = add64(m_175790, index_concat_branch_177363);
                bool zzero_leq_i_p_m_t_s_175792 = sle64((int64_t) 0, i_p_m_t_s_175791);
                bool i_p_m_t_s_leq_w_175793 = slt64(i_p_m_t_s_175791, window_sizze_151709);
                bool zzero_lte_i_175794 = sle64((int64_t) 0, index_concat_branch_177363);
                bool i_lte_j_175795 = sle64(index_concat_branch_177363, index_concat_branch_177351);
                bool y_175796 = i_p_m_t_s_leq_w_175793 && zzero_lte_i_175794;
                bool y_175797 = zzero_leq_i_p_m_t_s_175792 && y_175796;
                bool forwards_ok_175798 = i_lte_j_175795 && y_175797;
                bool ok_or_empty_175799 = empty_slice_175789 || forwards_ok_175798;
                bool index_certs_175800;
                
                if (!ok_or_empty_175799) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_177363, ":", (long long) index_concat_branch_177351, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_175801 = slt64(index_concat_branch_177351, index_concat_branch_177363);
                bool valid_175802 = !bounds_invalid_upwards_175801;
                bool range_valid_c_175803;
                
                if (!valid_175802) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_177363, "..<", (long long) index_concat_branch_177351, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_175809 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783 == (int64_t) 0;
                int64_t m_175810 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783, (int64_t) 1);
                int64_t i_p_m_t_s_175811 = add64(m_175810, index_concat_branch_177357);
                bool zzero_leq_i_p_m_t_s_175812 = sle64((int64_t) 0, i_p_m_t_s_175811);
                bool i_p_m_t_s_leq_w_175813 = slt64(i_p_m_t_s_175811, window_sizze_151709);
                bool zzero_lte_i_175814 = sle64((int64_t) 0, index_concat_branch_177357);
                bool i_lte_j_175815 = sle64(index_concat_branch_177357, index_concat_branch_177345);
                bool y_175816 = i_p_m_t_s_leq_w_175813 && zzero_lte_i_175814;
                bool y_175817 = zzero_leq_i_p_m_t_s_175812 && y_175816;
                bool forwards_ok_175818 = i_lte_j_175815 && y_175817;
                bool ok_or_empty_175819 = empty_slice_175809 || forwards_ok_175818;
                bool index_certs_175820;
                
                if (!ok_or_empty_175819) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_177357, ":", (long long) index_concat_branch_177345, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_175821 = slt64(index_concat_branch_177345, index_concat_branch_177357);
                bool valid_175822 = !bounds_invalid_upwards_175821;
                bool range_valid_c_175823;
                
                if (!valid_175822) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_177357, "..<", (long long) index_concat_branch_177345, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180039 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785;
                int64_t bytes_180041 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785;
                bool cond_175832 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, (int64_t) 1);
                int64_t zs_lhs_175833 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, (int64_t) 1);
                int64_t zp_rhs_175834 = sdiv_safe64(zs_lhs_175833, (int64_t) 20);
                int64_t min_num_blocks_175835 = add64((int64_t) 1, zp_rhs_175834);
                bool loop_cond_175836 = slt64((int64_t) 1, min_num_blocks_175835);
                bool smallest_pow_2_geq_than_res_175837;
                int64_t smallest_pow_2_geq_than_res_175838;
                bool loop_while_175839;
                int64_t x_175840;
                
                loop_while_175839 = loop_cond_175836;
                x_175840 = (int64_t) 1;
                while (loop_while_175839) {
                    int64_t loopres_175841 = mul64((int64_t) 2, x_175840);
                    bool loop_cond_175842 = slt64(loopres_175841, min_num_blocks_175835);
                    bool loop_while_tmp_181528 = loop_cond_175842;
                    int64_t x_tmp_181529 = loopres_175841;
                    
                    loop_while_175839 = loop_while_tmp_181528;
                    x_175840 = x_tmp_181529;
                }
                smallest_pow_2_geq_than_res_175837 = loop_while_175839;
                smallest_pow_2_geq_than_res_175838 = x_175840;
                
                bool zzero_175843 = smallest_pow_2_geq_than_res_175838 == (int64_t) 0;
                bool nonzzero_175844 = !zzero_175843;
                bool protect_assert_disj_175845 = cond_175832 || nonzzero_175844;
                bool nonzzero_cert_175846;
                
                if (!protect_assert_disj_175845) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_175847 = sdiv_safe64(zs_lhs_175833, smallest_pow_2_geq_than_res_175838);
                int64_t block_sizze_175848 = add64((int64_t) 1, zp_rhs_175847);
                bool y_175855 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785);
                bool protect_assert_disj_181192 = cond_175832 || y_175855;
                bool index_certs_175856;
                
                if (!protect_assert_disj_181192) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_175882 = slt64(smallest_pow_2_geq_than_res_175838, (int64_t) 0);
                bool valid_175883 = !bounds_invalid_upwards_175882;
                bool protect_assert_disj_181202 = cond_175832 || valid_175883;
                bool range_valid_c_175884;
                
                if (!protect_assert_disj_181202) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_175838, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_175886 = slt64(block_sizze_175848, (int64_t) 0);
                bool valid_175887 = !bounds_invalid_upwards_175886;
                bool protect_assert_disj_181204 = cond_175832 || valid_175887;
                bool range_valid_c_175888;
                
                if (!protect_assert_disj_181204) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_175848, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_175890 = sle64(block_sizze_175848, (int64_t) 1);
                int64_t tmp_175891 = sub64(block_sizze_175848, (int64_t) 2);
                bool bounds_invalid_upwards_175892 = slt64(tmp_175891, (int64_t) 0);
                bool valid_175894 = !bounds_invalid_upwards_175892;
                bool protect_assert_disj_175895 = cond_175890 || valid_175894;
                bool protect_assert_disj_181206 = cond_175832 || protect_assert_disj_175895;
                bool range_valid_c_175896;
                
                if (!protect_assert_disj_181206) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_175891, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_176457 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785;
                bool empty_or_match_cert_176458;
                
                if (!dim_match_176457) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788, "](i8, i64, f32)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176459 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788 == (int64_t) 0;
                int64_t m_176460 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_176461 = sle64((int64_t) 0, m_176460);
                bool i_p_m_t_s_leq_w_176462 = slt64(m_176460, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788);
                bool y_176463 = zzero_leq_i_p_m_t_s_176461 && i_p_m_t_s_leq_w_176462;
                bool ok_or_empty_176464 = empty_slice_176459 || y_176463;
                bool index_certs_176465;
                
                if (!ok_or_empty_176464) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_176466 = add64(ind_bottom_175786, m_176460);
                bool zzero_leq_i_p_m_t_s_176467 = sle64((int64_t) 0, i_p_m_t_s_176466);
                bool i_p_m_t_s_leq_w_176468 = slt64(i_p_m_t_s_176466, window_sizze_151709);
                bool zzero_lte_i_176469 = sle64((int64_t) 0, ind_bottom_175786);
                bool i_lte_j_176470 = sle64(ind_bottom_175786, ind_top_175787);
                bool y_176471 = i_p_m_t_s_leq_w_176468 && zzero_lte_i_176469;
                bool y_176472 = zzero_leq_i_p_m_t_s_176467 && y_176471;
                bool forwards_ok_176473 = i_lte_j_176470 && y_176472;
                bool ok_or_empty_176474 = empty_slice_176459 || forwards_ok_176473;
                bool index_certs_176475;
                
                if (!ok_or_empty_176474) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175786, ":", (long long) ind_top_175787, "] out of bounds for array of shape [", (long long) window_sizze_151709, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_177339 = p_174496 + index_concat_branch_177363;
                
                if (memblock_alloc(ctx, &mem_180038, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "mem_180038")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_181530 = 0; nest_i_181530 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784; nest_i_181530++) {
                    ((int8_t *) mem_180038.mem)[nest_i_181530] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180040, bytes_180039, "mem_180040")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_181531 = 0; i_181531 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784; i_181531++) {
                    int64_t x_181532 = index_concat_branch_177363 + i_181531 * (int64_t) 1;
                    
                    ((int64_t *) mem_180040.mem)[i_181531] = x_181532;
                }
                
                int64_t slice_177338 = p_174497 + index_concat_branch_177357;
                
                for (int64_t nest_i_181533 = 0; nest_i_181533 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783; nest_i_181533++) {
                    ((int8_t *) mem_180038.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784 + nest_i_181533] = (int8_t) 1;
                }
                for (int64_t i_181534 = 0; i_181534 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783; i_181534++) {
                    int64_t x_181535 = index_concat_branch_177357 + i_181534 * (int64_t) 1;
                    
                    ((int64_t *) mem_180040.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784 + i_181534] = x_181535;
                }
                
                int64_t tmp_offs_181536 = (int64_t) 0;
                
                if (!(tmp_offs_181536 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180038.mem, tmp_offs_181536, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180038.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784});
                }
                tmp_offs_181536 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784;
                if (!(tmp_offs_181536 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180038.mem, tmp_offs_181536, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180038.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783});
                }
                tmp_offs_181536 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783;
                
                int64_t tmp_offs_181537 = (int64_t) 0;
                
                if (!(tmp_offs_181537 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180040.mem, tmp_offs_181537, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180040.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784});
                }
                tmp_offs_181537 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784;
                if (!(tmp_offs_181537 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180040.mem, tmp_offs_181537, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180040.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783});
                }
                tmp_offs_181537 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783;
                if (memblock_alloc(ctx, &mem_180042, bytes_180041, "mem_180042")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_181538 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180042.mem, tmp_offs_181538, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_179986.mem, slice_177339, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784});
                tmp_offs_181538 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180042.mem, tmp_offs_181538, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_179987.mem, slice_177338, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783});
                tmp_offs_181538 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783;
                
                int64_t flat_dim_175849 = smallest_pow_2_geq_than_res_175838 * block_sizze_175848;
                bool x_181187 = !cond_175832;
                int64_t greatest_divisor_leq_than_arg1_175853 = mul64((int64_t) 2, block_sizze_175848);
                int64_t merge_block_sizze_175854;
                
                if (x_181187) {
                    int64_t x_181189;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181189, (int64_t) 8, greatest_divisor_leq_than_arg1_175853) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_175854 = x_181189;
                } else {
                    merge_block_sizze_175854 = (int64_t) 0;
                }
                
                bool index_concat_cmp_177333 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, (int64_t) 0);
                int8_t index_concat_branch_177337 = btoi_bool_i8(index_concat_cmp_177333);
                int64_t index_concat_i_179158 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                int64_t index_primexp_179159 = add64(index_concat_branch_177357, index_concat_i_179158);
                int64_t index_concat_branch_177331;
                
                if (index_concat_cmp_177333) {
                    index_concat_branch_177331 = index_primexp_179159;
                } else {
                    index_concat_branch_177331 = index_concat_branch_177363;
                }
                
                bool x_181183 = !index_concat_cmp_177333;
                bool protect_cond_conj_181193 = x_181183 && x_181187;
                float index_concat_177324;
                
                if (protect_cond_conj_181193) {
                    float x_181185 = ((float *) a_list_mem_179986.mem)[slice_177339];
                    
                    index_concat_177324 = x_181185;
                } else {
                    index_concat_177324 = 0.0F;
                }
                
                int64_t slice_179161 = slice_177338 + index_concat_i_179158;
                bool protect_cond_conj_181194 = index_concat_cmp_177333 && x_181187;
                float index_concat_179162;
                
                if (protect_cond_conj_181194) {
                    float x_181181 = ((float *) b_list_mem_179987.mem)[slice_179161];
                    
                    index_concat_179162 = x_181181;
                } else {
                    index_concat_179162 = 0.0F;
                }
                
                float index_concat_branch_177325;
                
                if (index_concat_cmp_177333) {
                    index_concat_branch_177325 = index_concat_179162;
                } else {
                    index_concat_branch_177325 = index_concat_177324;
                }
                
                int8_t defunc_0_reduce_res_179393;
                int64_t defunc_0_reduce_res_179394;
                float defunc_0_reduce_res_179395;
                
                if (x_181187) {
                    int8_t x_181195;
                    int64_t x_181196;
                    float x_181197;
                    int8_t redout_179739;
                    int64_t redout_179740;
                    float redout_179741;
                    
                    redout_179739 = index_concat_branch_177337;
                    redout_179740 = index_concat_branch_177331;
                    redout_179741 = index_concat_branch_177325;
                    for (int64_t i_179742 = 0; i_179742 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785; i_179742++) {
                        bool index_concat_cmp_179946 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, i_179742);
                        int8_t index_concat_branch_179950 = btoi_bool_i8(index_concat_cmp_179946);
                        int64_t index_concat_branch_179944;
                        
                        if (index_concat_cmp_179946) {
                            int64_t index_concat_i_179941 = sub64(i_179742, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                            int64_t index_primexp_179968 = add64(index_concat_branch_177357, index_concat_i_179941);
                            
                            index_concat_branch_179944 = index_primexp_179968;
                        } else {
                            int64_t index_primexp_179970 = add64(index_concat_branch_177363, i_179742);
                            
                            index_concat_branch_179944 = index_primexp_179970;
                        }
                        
                        float index_concat_branch_179938;
                        
                        if (index_concat_cmp_179946) {
                            int64_t index_concat_i_179935 = sub64(i_179742, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                            int64_t slice_179965 = slice_177338 + index_concat_i_179935;
                            float index_concat_179936 = ((float *) b_list_mem_179987.mem)[slice_179965];
                            
                            index_concat_branch_179938 = index_concat_179936;
                        } else {
                            int64_t slice_179966 = slice_177339 + i_179742;
                            float index_concat_179937 = ((float *) a_list_mem_179986.mem)[slice_179966];
                            
                            index_concat_branch_179938 = index_concat_179937;
                        }
                        
                        bool eq_x_y_179981 = redout_179739 == (int8_t) 1;
                        bool eq_x_zz_179982 = redout_179739 == (int8_t) 0;
                        bool p_and_eq_x_y_179983 = index_concat_cmp_179946 && eq_x_y_179981;
                        bool not_p_179984 = !index_concat_cmp_179946;
                        bool p_and_eq_x_y_179985 = eq_x_zz_179982 && not_p_179984;
                        bool cond_175872 = p_and_eq_x_y_179983 || p_and_eq_x_y_179985;
                        bool defunc_0_leq_res_t_res_175873 = sle64(redout_179740, index_concat_branch_179944);
                        bool defunc_0_leq_res_175874 = redout_179741 <= index_concat_branch_179938;
                        bool x_175875 = cond_175872 && defunc_0_leq_res_t_res_175873;
                        bool x_175876 = !cond_175872;
                        bool y_175877 = defunc_0_leq_res_175874 && x_175876;
                        bool defunc_0_leq_res_175878 = x_175875 || y_175877;
                        int8_t defunc_0_op_res_175879;
                        
                        if (defunc_0_leq_res_175878) {
                            defunc_0_op_res_175879 = index_concat_branch_179950;
                        } else {
                            defunc_0_op_res_175879 = redout_179739;
                        }
                        
                        int64_t defunc_0_op_res_175880;
                        
                        if (defunc_0_leq_res_175878) {
                            defunc_0_op_res_175880 = index_concat_branch_179944;
                        } else {
                            defunc_0_op_res_175880 = redout_179740;
                        }
                        
                        float defunc_0_op_res_175881;
                        
                        if (defunc_0_leq_res_175878) {
                            defunc_0_op_res_175881 = index_concat_branch_179938;
                        } else {
                            defunc_0_op_res_175881 = redout_179741;
                        }
                        
                        int8_t redout_tmp_181539 = defunc_0_op_res_175879;
                        int64_t redout_tmp_181540 = defunc_0_op_res_175880;
                        float redout_tmp_181541 = defunc_0_op_res_175881;
                        
                        redout_179739 = redout_tmp_181539;
                        redout_179740 = redout_tmp_181540;
                        redout_179741 = redout_tmp_181541;
                    }
                    x_181195 = redout_179739;
                    x_181196 = redout_179740;
                    x_181197 = redout_179741;
                    defunc_0_reduce_res_179393 = x_181195;
                    defunc_0_reduce_res_179394 = x_181196;
                    defunc_0_reduce_res_179395 = x_181197;
                } else {
                    defunc_0_reduce_res_179393 = (int8_t) 0;
                    defunc_0_reduce_res_179394 = (int64_t) 0;
                    defunc_0_reduce_res_179395 = 0.0F;
                }
                
                int64_t distance_175893 = add64((int64_t) 1, tmp_175891);
                int64_t binop_x_180045 = (int64_t) 8 * smallest_pow_2_geq_than_res_175838;
                int64_t bytes_180046 = block_sizze_175848 * binop_x_180045;
                int64_t binop_x_180048 = (int64_t) 4 * smallest_pow_2_geq_than_res_175838;
                int64_t bytes_180049 = block_sizze_175848 * binop_x_180048;
                int64_t bytes_180064 = (int64_t) 8 * block_sizze_175848;
                int64_t bytes_180066 = (int64_t) 4 * block_sizze_175848;
                bool loop_cond_176002 = slt64(block_sizze_175848, flat_dim_175849);
                bool zzero_176003 = merge_block_sizze_175854 == (int64_t) 0;
                bool nonzzero_176004 = !zzero_176003;
                
                if (cond_175832) {
                    if (memblock_set(ctx, &ext_mem_180337, &mem_180038, "mem_180038") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180334, &mem_180040, "mem_180040") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180331, &mem_180042, "mem_180042") != 0)
                        return 1;
                } else {
                    if (mem_180044_cached_sizze_181784 < flat_dim_175849) {
                        err = lexical_realloc(ctx, &mem_180044, &mem_180044_cached_sizze_181784, flat_dim_175849);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180047_cached_sizze_181785 < bytes_180046) {
                        err = lexical_realloc(ctx, &mem_180047, &mem_180047_cached_sizze_181785, bytes_180046);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180050_cached_sizze_181786 < bytes_180049) {
                        err = lexical_realloc(ctx, &mem_180050, &mem_180050_cached_sizze_181786, bytes_180049);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180063_cached_sizze_181787 < block_sizze_175848) {
                        err = lexical_realloc(ctx, &mem_180063, &mem_180063_cached_sizze_181787, block_sizze_175848);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180065_cached_sizze_181788 < bytes_180064) {
                        err = lexical_realloc(ctx, &mem_180065, &mem_180065_cached_sizze_181788, bytes_180064);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180067_cached_sizze_181789 < bytes_180066) {
                        err = lexical_realloc(ctx, &mem_180067, &mem_180067_cached_sizze_181789, bytes_180066);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179759 = 0; i_179759 < smallest_pow_2_geq_than_res_175838; i_179759++) {
                        int64_t zp_lhs_175901 = mul64(block_sizze_175848, i_179759);
                        
                        for (int64_t i_179749 = 0; i_179749 < block_sizze_175848; i_179749++) {
                            int64_t k_175906 = add64(zp_lhs_175901, i_179749);
                            bool cond_175907 = slt64(k_175906, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785);
                            int8_t lifted_lambda_res_175908;
                            int64_t lifted_lambda_res_175909;
                            float lifted_lambda_res_175910;
                            
                            if (cond_175907) {
                                bool x_179168 = sle64((int64_t) 0, k_175906);
                                bool bounds_check_179169 = cond_175907 && x_179168;
                                bool index_certs_179170;
                                
                                if (!bounds_check_179169) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_175906, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179171 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, k_175906);
                                int8_t index_concat_branch_179172 = btoi_bool_i8(index_concat_cmp_179171);
                                int64_t index_concat_branch_179173;
                                
                                if (index_concat_cmp_179171) {
                                    int64_t index_concat_i_179174 = sub64(k_175906, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                                    int64_t index_primexp_179175 = add64(index_concat_branch_177357, index_concat_i_179174);
                                    
                                    index_concat_branch_179173 = index_primexp_179175;
                                } else {
                                    int64_t index_primexp_179176 = add64(k_175906, index_concat_branch_177363);
                                    
                                    index_concat_branch_179173 = index_primexp_179176;
                                }
                                
                                float index_concat_branch_179177;
                                
                                if (index_concat_cmp_179171) {
                                    int64_t index_concat_i_179178 = sub64(k_175906, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                                    int64_t slice_179179 = slice_177338 + index_concat_i_179178;
                                    float index_concat_179180 = ((float *) b_list_mem_179987.mem)[slice_179179];
                                    
                                    index_concat_branch_179177 = index_concat_179180;
                                } else {
                                    int64_t slice_179181 = k_175906 + slice_177339;
                                    float index_concat_179182 = ((float *) a_list_mem_179986.mem)[slice_179181];
                                    
                                    index_concat_branch_179177 = index_concat_179182;
                                }
                                lifted_lambda_res_175908 = index_concat_branch_179172;
                                lifted_lambda_res_175909 = index_concat_branch_179173;
                                lifted_lambda_res_175910 = index_concat_branch_179177;
                            } else {
                                lifted_lambda_res_175908 = defunc_0_reduce_res_179393;
                                lifted_lambda_res_175909 = defunc_0_reduce_res_179394;
                                lifted_lambda_res_175910 = defunc_0_reduce_res_179395;
                            }
                            ((int8_t *) mem_180063)[i_179749] = lifted_lambda_res_175908;
                            ((int64_t *) mem_180065)[i_179749] = lifted_lambda_res_175909;
                            ((float *) mem_180067)[i_179749] = lifted_lambda_res_175910;
                        }
                        if (!cond_175890) {
                            for (int64_t i_175923 = 0; i_175923 < distance_175893; i_175923++) {
                                int64_t gt_arg1_175927 = add64((int64_t) 1, i_175923);
                                bool x_175928 = sle64((int64_t) 0, gt_arg1_175927);
                                bool y_175929 = slt64(gt_arg1_175927, block_sizze_175848);
                                bool bounds_check_175930 = x_175928 && y_175929;
                                bool index_certs_175931;
                                
                                if (!bounds_check_175930) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_175927, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_175935 = slt64(i_175923, block_sizze_175848);
                                bool index_certs_175936;
                                
                                if (!y_175935) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_175923, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_175932 = ((int8_t *) mem_180063)[gt_arg1_175927];
                                int64_t gt_arg1_175933 = ((int64_t *) mem_180065)[gt_arg1_175927];
                                float gt_arg1_175934 = ((float *) mem_180067)[gt_arg1_175927];
                                int8_t gt_arg0_175937 = ((int8_t *) mem_180063)[i_175923];
                                int64_t gt_arg0_175938 = ((int64_t *) mem_180065)[i_175923];
                                float gt_arg0_175939 = ((float *) mem_180067)[i_175923];
                                bool cond_175940 = gt_arg0_175937 == gt_arg1_175932;
                                bool defunc_0_leq_res_t_res_175941 = sle64(gt_arg0_175938, gt_arg1_175933);
                                bool defunc_0_leq_res_175942 = gt_arg0_175939 <= gt_arg1_175934;
                                bool x_175943 = cond_175940 && defunc_0_leq_res_t_res_175941;
                                bool x_175944 = !cond_175940;
                                bool y_175945 = defunc_0_leq_res_175942 && x_175944;
                                bool defunc_0_leq_res_175946 = x_175943 || y_175945;
                                bool defunc_0_lifted_gt_res_175947 = !defunc_0_leq_res_175946;
                                bool s_175948;
                                int64_t s_175952;
                                bool loop_while_175953;
                                int64_t j_175957;
                                
                                loop_while_175953 = defunc_0_lifted_gt_res_175947;
                                j_175957 = i_175923;
                                while (loop_while_175953) {
                                    bool x_175958 = sle64((int64_t) 0, j_175957);
                                    bool y_175959 = slt64(j_175957, block_sizze_175848);
                                    bool bounds_check_175960 = x_175958 && y_175959;
                                    bool index_certs_175961;
                                    
                                    if (!bounds_check_175960) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_175957, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_175965 = add64((int64_t) 1, j_175957);
                                    bool x_175966 = sle64((int64_t) 0, copy_arg0_175965);
                                    bool y_175967 = slt64(copy_arg0_175965, block_sizze_175848);
                                    bool bounds_check_175968 = x_175966 && y_175967;
                                    bool index_certs_175969;
                                    
                                    if (!bounds_check_175968) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_175965, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_175962 = ((int8_t *) mem_180063)[j_175957];
                                    int64_t copy_arg0_175963 = ((int64_t *) mem_180065)[j_175957];
                                    float copy_arg0_175964 = ((float *) mem_180067)[j_175957];
                                    int8_t copy_arg0_175970 = ((int8_t *) mem_180063)[copy_arg0_175965];
                                    int64_t copy_arg0_175971 = ((int64_t *) mem_180065)[copy_arg0_175965];
                                    float copy_arg0_175972 = ((float *) mem_180067)[copy_arg0_175965];
                                    
                                    ((int8_t *) mem_180063)[j_175957] = copy_arg0_175970;
                                    ((int64_t *) mem_180065)[j_175957] = copy_arg0_175971;
                                    ((float *) mem_180067)[j_175957] = copy_arg0_175972;
                                    ((int8_t *) mem_180063)[copy_arg0_175965] = copy_arg0_175962;
                                    ((int64_t *) mem_180065)[copy_arg0_175965] = copy_arg0_175963;
                                    ((float *) mem_180067)[copy_arg0_175965] = copy_arg0_175964;
                                    
                                    int64_t tmp_175979 = sub64(j_175957, (int64_t) 1);
                                    bool cond_175980 = sle64((int64_t) 0, tmp_175979);
                                    bool loop_cond_175981;
                                    
                                    if (cond_175980) {
                                        bool y_179186 = slt64(tmp_175979, block_sizze_175848);
                                        bool bounds_check_179187 = cond_175980 && y_179186;
                                        bool index_certs_179188;
                                        
                                        if (!bounds_check_179187) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_175979, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179183 = ((int8_t *) mem_180063)[j_175957];
                                        int64_t gt_arg1_179184 = ((int64_t *) mem_180065)[j_175957];
                                        float gt_arg1_179185 = ((float *) mem_180067)[j_175957];
                                        int8_t gt_arg0_179189 = ((int8_t *) mem_180063)[tmp_175979];
                                        int64_t gt_arg0_179190 = ((int64_t *) mem_180065)[tmp_175979];
                                        float gt_arg0_179191 = ((float *) mem_180067)[tmp_175979];
                                        bool cond_179192 = gt_arg0_179189 == gt_arg1_179183;
                                        bool defunc_0_leq_res_t_res_179193 = sle64(gt_arg0_179190, gt_arg1_179184);
                                        bool defunc_0_leq_res_179194 = gt_arg0_179191 <= gt_arg1_179185;
                                        bool x_179195 = cond_179192 && defunc_0_leq_res_t_res_179193;
                                        bool x_179196 = !cond_179192;
                                        bool y_179197 = defunc_0_leq_res_179194 && x_179196;
                                        bool defunc_0_leq_res_179198 = x_179195 || y_179197;
                                        bool defunc_0_lifted_gt_res_179199 = !defunc_0_leq_res_179198;
                                        
                                        loop_cond_175981 = defunc_0_lifted_gt_res_179199;
                                    } else {
                                        loop_cond_175981 = 0;
                                    }
                                    
                                    bool loop_while_tmp_181551 = loop_cond_175981;
                                    int64_t j_tmp_181555 = tmp_175979;
                                    
                                    loop_while_175953 = loop_while_tmp_181551;
                                    j_175957 = j_tmp_181555;
                                }
                                s_175948 = loop_while_175953;
                                s_175952 = j_175957;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180044, i_179759 * block_sizze_175848, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180063, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175848});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180047, i_179759 * block_sizze_175848, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180065, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175848});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_180050, i_179759 * block_sizze_175848, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180067, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175848});
                    }
                    if (memblock_alloc(ctx, &mem_180144, flat_dim_175849, "mem_180144")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180144.mem, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (uint8_t *) mem_180044, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175838, block_sizze_175848});
                    if (memblock_alloc(ctx, &mem_180148, bytes_180046, "mem_180148")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180148.mem, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (uint64_t *) mem_180047, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175838, block_sizze_175848});
                    if (memblock_alloc(ctx, &mem_180152, bytes_180049, "mem_180152")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_180152.mem, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (uint32_t *) mem_180050, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175838, block_sizze_175848});
                    
                    int64_t data_176005;
                    bool data_176006;
                    int64_t data_176010;
                    int64_t loop_dz2084Uz2082U_176011;
                    bool loop_while_176012;
                    int64_t stride_176016;
                    
                    if (memblock_set(ctx, &mem_param_180156, &mem_180144, "mem_180144") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180159, &mem_180148, "mem_180148") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180162, &mem_180152, "mem_180152") != 0)
                        return 1;
                    loop_dz2084Uz2082U_176011 = flat_dim_175849;
                    loop_while_176012 = loop_cond_176002;
                    stride_176016 = block_sizze_175848;
                    while (loop_while_176012) {
                        int64_t next_stride_176017 = mul64((int64_t) 2, stride_176016);
                        bool zzero_176018 = next_stride_176017 == (int64_t) 0;
                        bool nonzzero_176019 = !zzero_176018;
                        bool nonzzero_cert_176020;
                        
                        if (!nonzzero_176019) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_176021 = sdiv64(flat_dim_175849, next_stride_176017);
                        bool bounds_invalid_upwards_176022 = slt64(num_merges_176021, (int64_t) 0);
                        bool valid_176023 = !bounds_invalid_upwards_176022;
                        bool range_valid_c_176024;
                        
                        if (!valid_176023) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_176021, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_176026 = sub64(next_stride_176017, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_176027 = sle64((int64_t) 0, m_176026);
                        bool cond_176029 = slt64(next_stride_176017, (int64_t) 10);
                        bool protect_assert_disj_176030 = nonzzero_176004 || cond_176029;
                        bool nonzzero_cert_176031;
                        
                        if (!protect_assert_disj_176030) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_176032 = smod_safe64(next_stride_176017, merge_block_sizze_175854);
                        bool num_blocks_176033 = zeze_lhs_176032 == (int64_t) 0;
                        bool protect_assert_disj_176034 = cond_176029 || num_blocks_176033;
                        bool assert_c_176035;
                        
                        if (!protect_assert_disj_176034) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_176037 = sdiv_safe64(next_stride_176017, merge_block_sizze_175854);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038 = add64((int64_t) 1, num_blocks_176037);
                        int64_t j_m_i_176039 = sub64(next_stride_176017, stride_176016);
                        int64_t flat_dim_176040 = merge_block_sizze_175854 * num_blocks_176037;
                        bool bounds_invalid_upwards_176041 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038, (int64_t) 0);
                        bool empty_slice_176042 = j_m_i_176039 == (int64_t) 0;
                        int64_t m_176043 = sub64(j_m_i_176039, (int64_t) 1);
                        bool zzero_lte_i_176044 = sle64((int64_t) 0, stride_176016);
                        bool i_lte_j_176045 = sle64(stride_176016, next_stride_176017);
                        bool empty_slice_176046 = stride_176016 == (int64_t) 0;
                        int64_t m_176047 = sub64(stride_176016, (int64_t) 1);
                        bool bounds_invalid_upwards_176048 = slt64(num_blocks_176037, (int64_t) 0);
                        bool cond_176049 = slt64((int64_t) 0, stride_176016);
                        bool valid_176050 = !bounds_invalid_upwards_176041;
                        int64_t i_p_m_t_s_176051 = add64(stride_176016, m_176043);
                        bool zzero_leq_i_p_m_t_s_176052 = sle64((int64_t) 0, m_176047);
                        bool i_p_m_t_s_leq_w_176053 = slt64(m_176047, next_stride_176017);
                        bool valid_176054 = !bounds_invalid_upwards_176048;
                        bool i_p_m_t_s_leq_w_176055 = slt64(m_176026, flat_dim_176040);
                        bool y_176056 = slt64((int64_t) 0, j_m_i_176039);
                        bool protect_assert_disj_176057 = cond_176029 || valid_176050;
                        bool range_valid_c_176058;
                        
                        if (!protect_assert_disj_176057) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_176059 = sle64((int64_t) 0, i_p_m_t_s_176051);
                        bool i_p_m_t_s_leq_w_176060 = slt64(i_p_m_t_s_176051, next_stride_176017);
                        bool y_176061 = zzero_leq_i_p_m_t_s_176052 && i_p_m_t_s_leq_w_176053;
                        bool protect_assert_disj_176062 = cond_176029 || valid_176054;
                        bool range_valid_c_176063;
                        
                        if (!protect_assert_disj_176062) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_176037, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_176064 = zzero_leq_i_p_m_t_s_176027 && i_p_m_t_s_leq_w_176055;
                        bool y_176065 = zzero_lte_i_176044 && i_p_m_t_s_leq_w_176060;
                        bool forwards_ok_176066 = zzero_lte_i_176044 && y_176061;
                        bool ok_or_empty_176067 = zzero_176018 || y_176064;
                        bool protect_assert_disj_176068 = cond_176049 || y_176056;
                        bool y_176069 = zzero_leq_i_p_m_t_s_176059 && y_176065;
                        bool ok_or_empty_176070 = empty_slice_176046 || forwards_ok_176066;
                        bool protect_assert_disj_176071 = cond_176029 || ok_or_empty_176067;
                        bool index_certs_176072;
                        
                        if (!protect_assert_disj_176071) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176017, "] out of bounds for array of shape [", (long long) flat_dim_176040, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_176073 = !cond_176029;
                        bool protect_assert_disj_176074 = protect_assert_disj_176068 || loop_not_taken_176073;
                        bool index_certs_176075;
                        
                        if (!protect_assert_disj_176074) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_176076 = i_lte_j_176045 && y_176069;
                        bool protect_assert_disj_176077 = cond_176029 || ok_or_empty_176070;
                        bool index_certs_176078;
                        
                        if (!protect_assert_disj_176077) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176016, "] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176079 = ok_or_empty_176070 || loop_not_taken_176073;
                        bool index_certs_176080;
                        
                        if (!protect_assert_disj_176079) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176016, "] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_176081 = empty_slice_176042 || forwards_ok_176076;
                        bool protect_assert_disj_176082 = cond_176029 || ok_or_empty_176081;
                        bool index_certs_176083;
                        
                        if (!protect_assert_disj_176082) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176016, ":] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176084 = loop_not_taken_176073 || ok_or_empty_176081;
                        bool index_certs_176085;
                        
                        if (!protect_assert_disj_176084) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176016, ":] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180163 = next_stride_176017 * num_merges_176021;
                        int64_t binop_x_180165 = (int64_t) 8 * num_merges_176021;
                        int64_t bytes_180166 = next_stride_176017 * binop_x_180165;
                        int64_t binop_x_180168 = (int64_t) 4 * num_merges_176021;
                        int64_t bytes_180169 = next_stride_176017 * binop_x_180168;
                        bool i_lte_j_176028 = sle64((int64_t) 0, next_stride_176017);
                        
                        if (mem_180164_cached_sizze_181790 < bytes_180163) {
                            err = lexical_realloc(ctx, &mem_180164, &mem_180164_cached_sizze_181790, bytes_180163);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180167_cached_sizze_181791 < bytes_180166) {
                            err = lexical_realloc(ctx, &mem_180167, &mem_180167_cached_sizze_181791, bytes_180166);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180170_cached_sizze_181792 < bytes_180169) {
                            err = lexical_realloc(ctx, &mem_180170, &mem_180170_cached_sizze_181792, bytes_180169);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180183 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038;
                        int64_t binop_x_180201 = (int64_t) 8 * num_blocks_176037;
                        int64_t bytes_180202 = merge_block_sizze_175854 * binop_x_180201;
                        int64_t binop_x_180204 = (int64_t) 4 * num_blocks_176037;
                        int64_t bytes_180205 = merge_block_sizze_175854 * binop_x_180204;
                        int64_t bytes_180266 = (int64_t) 16 * stride_176016;
                        int64_t bytes_180268 = (int64_t) 8 * stride_176016;
                        
                        for (int64_t i_179786 = 0; i_179786 < num_merges_176021; i_179786++) {
                            int64_t start_176090 = mul64(next_stride_176017, i_179786);
                            int64_t j_m_i_176091 = sub64(loop_dz2084Uz2082U_176011, start_176090);
                            bool empty_slice_176092 = j_m_i_176091 == (int64_t) 0;
                            int64_t m_176093 = sub64(j_m_i_176091, (int64_t) 1);
                            int64_t i_p_m_t_s_176094 = add64(start_176090, m_176093);
                            bool zzero_leq_i_p_m_t_s_176095 = sle64((int64_t) 0, i_p_m_t_s_176094);
                            bool i_p_m_t_s_leq_w_176096 = slt64(i_p_m_t_s_176094, loop_dz2084Uz2082U_176011);
                            bool zzero_lte_i_176097 = sle64((int64_t) 0, start_176090);
                            bool i_lte_j_176098 = sle64(start_176090, loop_dz2084Uz2082U_176011);
                            bool y_176099 = i_p_m_t_s_leq_w_176096 && zzero_lte_i_176097;
                            bool y_176100 = zzero_leq_i_p_m_t_s_176095 && y_176099;
                            bool forwards_ok_176101 = i_lte_j_176098 && y_176100;
                            bool ok_or_empty_176102 = empty_slice_176092 || forwards_ok_176101;
                            bool index_certs_176103;
                            
                            if (!ok_or_empty_176102) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_176090, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_176011, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_176104 = slt64(m_176026, j_m_i_176091);
                            bool y_176105 = zzero_leq_i_p_m_t_s_176027 && i_p_m_t_s_leq_w_176104;
                            bool forwards_ok_176106 = i_lte_j_176028 && y_176105;
                            bool ok_or_empty_176107 = zzero_176018 || forwards_ok_176106;
                            bool index_certs_176108;
                            
                            if (!ok_or_empty_176107) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176017, "] out of bounds for array of shape [", (long long) j_m_i_176091, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_176029) {
                                int8_t dummy_179238;
                                int64_t dummy_179239;
                                float dummy_179240;
                                
                                if (cond_176049) {
                                    int8_t head_res_179241 = ((int8_t *) mem_param_180156.mem)[start_176090];
                                    int64_t head_res_179242 = ((int64_t *) mem_param_180159.mem)[start_176090];
                                    float head_res_179243 = ((float *) mem_param_180162.mem)[start_176090];
                                    
                                    dummy_179238 = head_res_179241;
                                    dummy_179239 = head_res_179242;
                                    dummy_179240 = head_res_179243;
                                } else {
                                    int64_t slice_179244 = stride_176016 + start_176090;
                                    int8_t head_res_179245 = ((int8_t *) mem_param_180156.mem)[slice_179244];
                                    int64_t head_res_179246 = ((int64_t *) mem_param_180159.mem)[slice_179244];
                                    float head_res_179247 = ((float *) mem_param_180162.mem)[slice_179244];
                                    
                                    dummy_179238 = head_res_179245;
                                    dummy_179239 = head_res_179246;
                                    dummy_179240 = head_res_179247;
                                }
                                if (memblock_alloc(ctx, &mem_180265, next_stride_176017, "mem_180265")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181568 = 0; nest_i_181568 < next_stride_176017; nest_i_181568++) {
                                    ((int8_t *) mem_180265.mem)[nest_i_181568] = dummy_179238;
                                }
                                if (memblock_alloc(ctx, &mem_180267, bytes_180266, "mem_180267")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181569 = 0; nest_i_181569 < next_stride_176017; nest_i_181569++) {
                                    ((int64_t *) mem_180267.mem)[nest_i_181569] = dummy_179239;
                                }
                                if (memblock_alloc(ctx, &mem_180269, bytes_180268, "mem_180269")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181570 = 0; nest_i_181570 < next_stride_176017; nest_i_181570++) {
                                    ((float *) mem_180269.mem)[nest_i_181570] = dummy_179240;
                                }
                                
                                int64_t data_179251;
                                int64_t i_179256 = (int64_t) 0;
                                
                                for (int64_t k_179255 = 0; k_179255 < next_stride_176017; k_179255++) {
                                    int64_t j_179260 = sub64(k_179255, i_179256);
                                    bool cond_179261 = j_179260 == j_m_i_176039;
                                    bool cond_179262;
                                    
                                    if (cond_179261) {
                                        cond_179262 = 1;
                                    } else {
                                        bool cond_179263 = slt64(i_179256, stride_176016);
                                        bool cond_f_res_179264;
                                        
                                        if (cond_179263) {
                                            bool x_179265 = sle64((int64_t) 0, j_179260);
                                            bool y_179266 = slt64(j_179260, j_m_i_176039);
                                            bool bounds_check_179267 = x_179265 && y_179266;
                                            bool index_certs_179268;
                                            
                                            if (!bounds_check_179267) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179260, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179274 = sle64((int64_t) 0, i_179256);
                                            bool bounds_check_179275 = cond_179263 && x_179274;
                                            bool index_certs_179276;
                                            
                                            if (!bounds_check_179275) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179256, "] out of bounds for array of shape [", (long long) stride_176016, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179269 = stride_176016 + j_179260;
                                            int64_t slice_179270 = start_176090 + slice_179269;
                                            int8_t leq_arg1_179271 = ((int8_t *) mem_param_180156.mem)[slice_179270];
                                            int64_t leq_arg1_179272 = ((int64_t *) mem_param_180159.mem)[slice_179270];
                                            float leq_arg1_179273 = ((float *) mem_param_180162.mem)[slice_179270];
                                            int64_t slice_179277 = start_176090 + i_179256;
                                            int8_t leq_arg0_179278 = ((int8_t *) mem_param_180156.mem)[slice_179277];
                                            int64_t leq_arg0_179279 = ((int64_t *) mem_param_180159.mem)[slice_179277];
                                            float leq_arg0_179280 = ((float *) mem_param_180162.mem)[slice_179277];
                                            bool cond_179281 = leq_arg0_179278 == leq_arg1_179271;
                                            bool defunc_0_leq_res_t_res_179282 = sle64(leq_arg0_179279, leq_arg1_179272);
                                            bool defunc_0_leq_res_179283 = leq_arg0_179280 <= leq_arg1_179273;
                                            bool x_179284 = cond_179281 && defunc_0_leq_res_t_res_179282;
                                            bool x_179285 = !cond_179281;
                                            bool y_179286 = defunc_0_leq_res_179283 && x_179285;
                                            bool defunc_0_leq_res_179287 = x_179284 || y_179286;
                                            
                                            cond_f_res_179264 = defunc_0_leq_res_179287;
                                        } else {
                                            cond_f_res_179264 = 0;
                                        }
                                        cond_179262 = cond_f_res_179264;
                                    }
                                    
                                    int64_t loopres_179288;
                                    int8_t loopres_179289;
                                    int64_t loopres_179290;
                                    float loopres_179291;
                                    
                                    if (cond_179262) {
                                        bool x_179293 = sle64((int64_t) 0, i_179256);
                                        bool y_179294 = slt64(i_179256, stride_176016);
                                        bool bounds_check_179295 = x_179293 && y_179294;
                                        bool index_certs_179296;
                                        
                                        if (!bounds_check_179295) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179256, "] out of bounds for array of shape [", (long long) stride_176016, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179292 = add64((int64_t) 1, i_179256);
                                        int64_t slice_179297 = start_176090 + i_179256;
                                        int8_t tmp_179298 = ((int8_t *) mem_param_180156.mem)[slice_179297];
                                        int64_t tmp_179299 = ((int64_t *) mem_param_180159.mem)[slice_179297];
                                        float tmp_179300 = ((float *) mem_param_180162.mem)[slice_179297];
                                        
                                        loopres_179288 = tmp_179292;
                                        loopres_179289 = tmp_179298;
                                        loopres_179290 = tmp_179299;
                                        loopres_179291 = tmp_179300;
                                    } else {
                                        bool x_179301 = sle64((int64_t) 0, j_179260);
                                        bool y_179302 = slt64(j_179260, j_m_i_176039);
                                        bool bounds_check_179303 = x_179301 && y_179302;
                                        bool index_certs_179304;
                                        
                                        if (!bounds_check_179303) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179260, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179305 = stride_176016 + j_179260;
                                        int64_t slice_179306 = start_176090 + slice_179305;
                                        int8_t tmp_179307 = ((int8_t *) mem_param_180156.mem)[slice_179306];
                                        int64_t tmp_179308 = ((int64_t *) mem_param_180159.mem)[slice_179306];
                                        float tmp_179309 = ((float *) mem_param_180162.mem)[slice_179306];
                                        
                                        loopres_179288 = i_179256;
                                        loopres_179289 = tmp_179307;
                                        loopres_179290 = tmp_179308;
                                        loopres_179291 = tmp_179309;
                                    }
                                    ((int8_t *) mem_180265.mem)[k_179255] = loopres_179289;
                                    ((int64_t *) mem_180267.mem)[k_179255] = loopres_179290;
                                    ((float *) mem_180269.mem)[k_179255] = loopres_179291;
                                    
                                    int64_t i_tmp_181571 = loopres_179288;
                                    
                                    i_179256 = i_tmp_181571;
                                }
                                data_179251 = i_179256;
                                if (memblock_set(ctx, &ext_mem_180296, &mem_180265, "mem_180265") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180293, &mem_180267, "mem_180267") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180290, &mem_180269, "mem_180269") != 0)
                                    return 1;
                            } else {
                                if (mem_180184_cached_sizze_181793 < bytes_180183) {
                                    err = lexical_realloc(ctx, &mem_180184, &mem_180184_cached_sizze_181793, bytes_180183);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180186_cached_sizze_181794 < bytes_180183) {
                                    err = lexical_realloc(ctx, &mem_180186, &mem_180186_cached_sizze_181794, bytes_180183);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179767 = 0; i_179767 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038; i_179767++) {
                                    int64_t split_count_arg3_176191 = mul64(merge_block_sizze_175854, i_179767);
                                    int64_t defunc_0_split_count_res_176192;
                                    int64_t defunc_0_split_count_res_176193;
                                    int64_t defunc_0_split_count_res_176194;
                                    int64_t defunc_0_split_count_res_176195;
                                    int64_t defunc_0_split_count_res_176196;
                                    
                                    if (futrts_lifted_normalizze_8970(ctx, &defunc_0_split_count_res_176192, &defunc_0_split_count_res_176193, &defunc_0_split_count_res_176194, &defunc_0_split_count_res_176195, &defunc_0_split_count_res_176196, (int64_t) 0, stride_176016, (int64_t) 0, j_m_i_176039, split_count_arg3_176191) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_176197 = slt64((int64_t) 0, defunc_0_split_count_res_176196);
                                    bool defunc_0_split_count_res_176198;
                                    int64_t defunc_0_split_count_res_176199;
                                    int64_t defunc_0_split_count_res_176200;
                                    int64_t defunc_0_split_count_res_176201;
                                    int64_t defunc_0_split_count_res_176202;
                                    int64_t defunc_0_split_count_res_176203;
                                    bool loop_while_176204;
                                    int64_t ss_176205;
                                    int64_t ss_176206;
                                    int64_t tt_176207;
                                    int64_t tt_176208;
                                    int64_t count_176209;
                                    
                                    loop_while_176204 = loop_cond_176197;
                                    ss_176205 = defunc_0_split_count_res_176192;
                                    ss_176206 = defunc_0_split_count_res_176193;
                                    tt_176207 = defunc_0_split_count_res_176194;
                                    tt_176208 = defunc_0_split_count_res_176195;
                                    count_176209 = defunc_0_split_count_res_176196;
                                    while (loop_while_176204) {
                                        int64_t zlze_lhs_176210 = sub64(ss_176206, ss_176205);
                                        bool cond_176211 = sle64(zlze_lhs_176210, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_176212;
                                        int64_t defunc_0_lifted_step_res_176213;
                                        int64_t defunc_0_lifted_step_res_176214;
                                        int64_t defunc_0_lifted_step_res_176215;
                                        
                                        if (cond_176211) {
                                            int64_t tmp_179313 = add64(tt_176207, count_176209);
                                            
                                            defunc_0_lifted_step_res_176212 = ss_176205;
                                            defunc_0_lifted_step_res_176213 = tmp_179313;
                                            defunc_0_lifted_step_res_176214 = tt_176208;
                                            defunc_0_lifted_step_res_176215 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_176217 = sub64(tt_176208, tt_176207);
                                            bool cond_176218 = sle64(zlze_lhs_176217, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_176219;
                                            int64_t defunc_0_lifted_step_res_f_res_176220;
                                            int64_t defunc_0_lifted_step_res_f_res_176221;
                                            int64_t defunc_0_lifted_step_res_f_res_176222;
                                            
                                            if (cond_176218) {
                                                int64_t tmp_179314 = add64(ss_176205, count_176209);
                                                
                                                defunc_0_lifted_step_res_f_res_176219 = tmp_179314;
                                                defunc_0_lifted_step_res_f_res_176220 = tt_176207;
                                                defunc_0_lifted_step_res_f_res_176221 = tt_176208;
                                                defunc_0_lifted_step_res_f_res_176222 = (int64_t) 0;
                                            } else {
                                                bool cond_176224 = count_176209 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176225;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176226;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176227;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176228;
                                                
                                                if (cond_176224) {
                                                    bool x_179316 = sle64((int64_t) 0, ss_176205);
                                                    bool y_179317 = slt64(ss_176205, stride_176016);
                                                    bool bounds_check_179318 = x_179316 && y_179317;
                                                    bool index_certs_179319;
                                                    
                                                    if (!bounds_check_179318) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_176205, "] out of bounds for array of shape [", (long long) stride_176016, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179324 = sle64((int64_t) 0, tt_176207);
                                                    bool y_179325 = slt64(tt_176207, j_m_i_176039);
                                                    bool bounds_check_179326 = x_179324 && y_179325;
                                                    bool index_certs_179327;
                                                    
                                                    if (!bounds_check_179326) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_176207, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179320 = start_176090 + ss_176205;
                                                    int8_t leq_arg1_179321 = ((int8_t *) mem_param_180156.mem)[slice_179320];
                                                    int64_t leq_arg1_179322 = ((int64_t *) mem_param_180159.mem)[slice_179320];
                                                    float leq_arg1_179323 = ((float *) mem_param_180162.mem)[slice_179320];
                                                    int64_t slice_179328 = stride_176016 + tt_176207;
                                                    int64_t slice_179329 = start_176090 + slice_179328;
                                                    int8_t leq_arg0_179330 = ((int8_t *) mem_param_180156.mem)[slice_179329];
                                                    int64_t leq_arg0_179331 = ((int64_t *) mem_param_180159.mem)[slice_179329];
                                                    float leq_arg0_179332 = ((float *) mem_param_180162.mem)[slice_179329];
                                                    bool cond_179333 = leq_arg0_179330 == leq_arg1_179321;
                                                    bool defunc_0_leq_res_t_res_179334 = sle64(leq_arg0_179331, leq_arg1_179322);
                                                    bool defunc_0_leq_res_179335 = leq_arg0_179332 <= leq_arg1_179323;
                                                    bool x_179336 = cond_179333 && defunc_0_leq_res_t_res_179334;
                                                    bool x_179337 = !cond_179333;
                                                    bool y_179338 = defunc_0_leq_res_179335 && x_179337;
                                                    bool defunc_0_leq_res_179339 = x_179336 || y_179338;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179340;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179341;
                                                    
                                                    if (defunc_0_leq_res_179339) {
                                                        int64_t tmp_179342 = add64((int64_t) 1, tt_176207);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179340 = ss_176205;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179341 = tmp_179342;
                                                    } else {
                                                        int64_t tmp_179343 = add64((int64_t) 1, ss_176205);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179340 = tmp_179343;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179341 = tt_176207;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176225 = defunc_0_lifted_step_res_f_res_f_res_t_res_179340;
                                                    defunc_0_lifted_step_res_f_res_f_res_176226 = defunc_0_lifted_step_res_f_res_f_res_t_res_179341;
                                                    defunc_0_lifted_step_res_f_res_f_res_176227 = tt_176208;
                                                    defunc_0_lifted_step_res_f_res_f_res_176228 = (int64_t) 0;
                                                } else {
                                                    int64_t m_176257 = sdiv64(count_176209, (int64_t) 2);
                                                    int64_t n_176258 = sub64(count_176209, m_176257);
                                                    bool cond_176259 = n_176258 == (int64_t) 0;
                                                    int64_t zgze_lhs_176260 = add64(ss_176205, m_176257);
                                                    bool cond_f_res_176261 = sle64(ss_176206, zgze_lhs_176260);
                                                    bool x_176262 = !cond_176259;
                                                    bool y_176263 = cond_f_res_176261 && x_176262;
                                                    bool cond_176264 = cond_176259 || y_176263;
                                                    bool leq_y_x_176265;
                                                    
                                                    if (cond_176264) {
                                                        leq_y_x_176265 = 1;
                                                    } else {
                                                        bool x_176266 = sle64((int64_t) 0, zgze_lhs_176260);
                                                        bool y_176267 = slt64(zgze_lhs_176260, stride_176016);
                                                        bool bounds_check_176268 = x_176266 && y_176267;
                                                        bool index_certs_176269;
                                                        
                                                        if (!bounds_check_176268) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_176260, "] out of bounds for array of shape [", (long long) stride_176016, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_176274 = add64(tt_176207, n_176258);
                                                        int64_t leq_arg0_176275 = sub64(zm_lhs_176274, (int64_t) 1);
                                                        bool x_176276 = sle64((int64_t) 0, leq_arg0_176275);
                                                        bool y_176277 = slt64(leq_arg0_176275, j_m_i_176039);
                                                        bool bounds_check_176278 = x_176276 && y_176277;
                                                        bool index_certs_176279;
                                                        
                                                        if (!bounds_check_176278) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_176275, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_176270 = start_176090 + zgze_lhs_176260;
                                                        int8_t leq_arg1_176271 = ((int8_t *) mem_param_180156.mem)[slice_176270];
                                                        int64_t leq_arg1_176272 = ((int64_t *) mem_param_180159.mem)[slice_176270];
                                                        float leq_arg1_176273 = ((float *) mem_param_180162.mem)[slice_176270];
                                                        int64_t slice_176280 = stride_176016 + leq_arg0_176275;
                                                        int64_t slice_176281 = start_176090 + slice_176280;
                                                        int8_t leq_arg0_176282 = ((int8_t *) mem_param_180156.mem)[slice_176281];
                                                        int64_t leq_arg0_176283 = ((int64_t *) mem_param_180159.mem)[slice_176281];
                                                        float leq_arg0_176284 = ((float *) mem_param_180162.mem)[slice_176281];
                                                        bool cond_176285 = leq_arg0_176282 == leq_arg1_176271;
                                                        bool defunc_0_leq_res_t_res_176286 = sle64(leq_arg0_176283, leq_arg1_176272);
                                                        bool defunc_0_leq_res_176287 = leq_arg0_176284 <= leq_arg1_176273;
                                                        bool x_176288 = cond_176285 && defunc_0_leq_res_t_res_176286;
                                                        bool x_176289 = !cond_176285;
                                                        bool y_176290 = defunc_0_leq_res_176287 && x_176289;
                                                        bool defunc_0_leq_res_176291 = x_176288 || y_176290;
                                                        
                                                        leq_y_x_176265 = defunc_0_leq_res_176291;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176292;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176293;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176294;
                                                    
                                                    if (leq_y_x_176265) {
                                                        int64_t tmp_179344 = add64(tt_176207, n_176258);
                                                        int64_t tmp_179345 = sub64(count_176209, n_176258);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176292 = tmp_179344;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176293 = tt_176208;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176294 = tmp_179345;
                                                    } else {
                                                        int64_t tmp_176297 = add64(tt_176207, n_176258);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176292 = tt_176207;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176293 = tmp_176297;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176294 = count_176209;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176225 = ss_176205;
                                                    defunc_0_lifted_step_res_f_res_f_res_176226 = defunc_0_lifted_step_res_f_res_f_res_f_res_176292;
                                                    defunc_0_lifted_step_res_f_res_f_res_176227 = defunc_0_lifted_step_res_f_res_f_res_f_res_176293;
                                                    defunc_0_lifted_step_res_f_res_f_res_176228 = defunc_0_lifted_step_res_f_res_f_res_f_res_176294;
                                                }
                                                defunc_0_lifted_step_res_f_res_176219 = defunc_0_lifted_step_res_f_res_f_res_176225;
                                                defunc_0_lifted_step_res_f_res_176220 = defunc_0_lifted_step_res_f_res_f_res_176226;
                                                defunc_0_lifted_step_res_f_res_176221 = defunc_0_lifted_step_res_f_res_f_res_176227;
                                                defunc_0_lifted_step_res_f_res_176222 = defunc_0_lifted_step_res_f_res_f_res_176228;
                                            }
                                            defunc_0_lifted_step_res_176212 = defunc_0_lifted_step_res_f_res_176219;
                                            defunc_0_lifted_step_res_176213 = defunc_0_lifted_step_res_f_res_176220;
                                            defunc_0_lifted_step_res_176214 = defunc_0_lifted_step_res_f_res_176221;
                                            defunc_0_lifted_step_res_176215 = defunc_0_lifted_step_res_f_res_176222;
                                        }
                                        
                                        int64_t loopres_176298;
                                        int64_t loopres_176299;
                                        int64_t loopres_176300;
                                        int64_t loopres_176301;
                                        int64_t loopres_176302;
                                        
                                        if (futrts_lifted_normalizze_8970(ctx, &loopres_176298, &loopres_176299, &loopres_176300, &loopres_176301, &loopres_176302, defunc_0_lifted_step_res_176212, ss_176206, defunc_0_lifted_step_res_176213, defunc_0_lifted_step_res_176214, defunc_0_lifted_step_res_176215) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_176303 = slt64((int64_t) 0, loopres_176302);
                                        bool loop_while_tmp_181577 = loop_cond_176303;
                                        int64_t ss_tmp_181578 = loopres_176298;
                                        int64_t ss_tmp_181579 = loopres_176299;
                                        int64_t tt_tmp_181580 = loopres_176300;
                                        int64_t tt_tmp_181581 = loopres_176301;
                                        int64_t count_tmp_181582 = loopres_176302;
                                        
                                        loop_while_176204 = loop_while_tmp_181577;
                                        ss_176205 = ss_tmp_181578;
                                        ss_176206 = ss_tmp_181579;
                                        tt_176207 = tt_tmp_181580;
                                        tt_176208 = tt_tmp_181581;
                                        count_176209 = count_tmp_181582;
                                    }
                                    defunc_0_split_count_res_176198 = loop_while_176204;
                                    defunc_0_split_count_res_176199 = ss_176205;
                                    defunc_0_split_count_res_176200 = ss_176206;
                                    defunc_0_split_count_res_176201 = tt_176207;
                                    defunc_0_split_count_res_176202 = tt_176208;
                                    defunc_0_split_count_res_176203 = count_176209;
                                    ((int64_t *) mem_180184)[i_179767] = defunc_0_split_count_res_176199;
                                    ((int64_t *) mem_180186)[i_179767] = defunc_0_split_count_res_176201;
                                }
                                if (mem_180200_cached_sizze_181795 < flat_dim_176040) {
                                    err = lexical_realloc(ctx, &mem_180200, &mem_180200_cached_sizze_181795, flat_dim_176040);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180203_cached_sizze_181796 < bytes_180202) {
                                    err = lexical_realloc(ctx, &mem_180203, &mem_180203_cached_sizze_181796, bytes_180202);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180206_cached_sizze_181797 < bytes_180205) {
                                    err = lexical_realloc(ctx, &mem_180206, &mem_180206_cached_sizze_181797, bytes_180205);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179776 = 0; i_179776 < num_blocks_176037; i_179776++) {
                                    bool y_176310 = slt64(i_179776, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038);
                                    bool index_certs_176312;
                                    
                                    if (!y_176310) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179776, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_176313 = ((int64_t *) mem_180184)[i_179776];
                                    int64_t defunc_0_f_res_176314 = ((int64_t *) mem_180186)[i_179776];
                                    int64_t tmp_176315 = add64((int64_t) 1, i_179776);
                                    bool x_176316 = sle64((int64_t) 0, tmp_176315);
                                    bool y_176317 = slt64(tmp_176315, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038);
                                    bool bounds_check_176318 = x_176316 && y_176317;
                                    bool index_certs_176319;
                                    
                                    if (!bounds_check_176318) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176315, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_176320 = ((int64_t *) mem_180184)[tmp_176315];
                                    int64_t defunc_0_f_res_176321 = ((int64_t *) mem_180186)[tmp_176315];
                                    int64_t merge_sequential_arg2_176322 = add64(stride_176016, defunc_0_f_res_176314);
                                    int64_t merge_sequential_arg2_176323 = add64(stride_176016, defunc_0_f_res_176321);
                                    int64_t j_m_i_176324 = sub64(merge_sequential_arg2_176323, merge_sequential_arg2_176322);
                                    bool empty_slice_176325 = j_m_i_176324 == (int64_t) 0;
                                    int64_t m_176326 = sub64(j_m_i_176324, (int64_t) 1);
                                    int64_t i_p_m_t_s_176327 = add64(merge_sequential_arg2_176322, m_176326);
                                    bool zzero_leq_i_p_m_t_s_176328 = sle64((int64_t) 0, i_p_m_t_s_176327);
                                    bool i_p_m_t_s_leq_w_176329 = slt64(i_p_m_t_s_176327, next_stride_176017);
                                    bool zzero_lte_i_176330 = sle64((int64_t) 0, merge_sequential_arg2_176322);
                                    bool i_lte_j_176331 = sle64(merge_sequential_arg2_176322, merge_sequential_arg2_176323);
                                    bool y_176332 = i_p_m_t_s_leq_w_176329 && zzero_lte_i_176330;
                                    bool y_176333 = zzero_leq_i_p_m_t_s_176328 && y_176332;
                                    bool forwards_ok_176334 = i_lte_j_176331 && y_176333;
                                    bool ok_or_empty_176335 = empty_slice_176325 || forwards_ok_176334;
                                    bool index_certs_176336;
                                    
                                    if (!ok_or_empty_176335) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_176322, ":", (long long) merge_sequential_arg2_176323, "] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_176337 = sub64(defunc_0_f_res_176320, defunc_0_f_res_176313);
                                    bool empty_slice_176338 = j_m_i_176337 == (int64_t) 0;
                                    int64_t m_176339 = sub64(j_m_i_176337, (int64_t) 1);
                                    int64_t i_p_m_t_s_176340 = add64(defunc_0_f_res_176313, m_176339);
                                    bool zzero_leq_i_p_m_t_s_176341 = sle64((int64_t) 0, i_p_m_t_s_176340);
                                    bool i_p_m_t_s_leq_w_176342 = slt64(i_p_m_t_s_176340, next_stride_176017);
                                    bool zzero_lte_i_176343 = sle64((int64_t) 0, defunc_0_f_res_176313);
                                    bool i_lte_j_176344 = sle64(defunc_0_f_res_176313, defunc_0_f_res_176320);
                                    bool y_176345 = i_p_m_t_s_leq_w_176342 && zzero_lte_i_176343;
                                    bool y_176346 = zzero_leq_i_p_m_t_s_176341 && y_176345;
                                    bool forwards_ok_176347 = i_lte_j_176344 && y_176346;
                                    bool ok_or_empty_176348 = empty_slice_176338 || forwards_ok_176347;
                                    bool index_certs_176349;
                                    
                                    if (!ok_or_empty_176348) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_176313, ":", (long long) defunc_0_f_res_176320, "] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_176350 = slt64((int64_t) 0, j_m_i_176337);
                                    int8_t dummy_176351;
                                    int64_t dummy_176352;
                                    float dummy_176353;
                                    
                                    if (cond_176350) {
                                        bool index_certs_179346;
                                        
                                        if (!cond_176350) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176337, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179347 = start_176090 + defunc_0_f_res_176313;
                                        int8_t head_res_179348 = ((int8_t *) mem_param_180156.mem)[slice_179347];
                                        int64_t head_res_179349 = ((int64_t *) mem_param_180159.mem)[slice_179347];
                                        float head_res_179350 = ((float *) mem_param_180162.mem)[slice_179347];
                                        
                                        dummy_176351 = head_res_179348;
                                        dummy_176352 = head_res_179349;
                                        dummy_176353 = head_res_179350;
                                    } else {
                                        bool y_176359 = slt64((int64_t) 0, j_m_i_176324);
                                        bool index_certs_176360;
                                        
                                        if (!y_176359) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176324, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_176361 = start_176090 + merge_sequential_arg2_176322;
                                        int8_t head_res_176362 = ((int8_t *) mem_param_180156.mem)[slice_176361];
                                        int64_t head_res_176363 = ((int64_t *) mem_param_180159.mem)[slice_176361];
                                        float head_res_176364 = ((float *) mem_param_180162.mem)[slice_176361];
                                        
                                        dummy_176351 = head_res_176362;
                                        dummy_176352 = head_res_176363;
                                        dummy_176353 = head_res_176364;
                                    }
                                    for (int64_t nest_i_181586 = 0; nest_i_181586 < merge_block_sizze_175854; nest_i_181586++) {
                                        ((int8_t *) mem_180200)[i_179776 * merge_block_sizze_175854 + nest_i_181586] = dummy_176351;
                                    }
                                    for (int64_t nest_i_181587 = 0; nest_i_181587 < merge_block_sizze_175854; nest_i_181587++) {
                                        ((int64_t *) mem_180203)[i_179776 * merge_block_sizze_175854 + nest_i_181587] = dummy_176352;
                                    }
                                    for (int64_t nest_i_181588 = 0; nest_i_181588 < merge_block_sizze_175854; nest_i_181588++) {
                                        ((float *) mem_180206)[i_179776 * merge_block_sizze_175854 + nest_i_181588] = dummy_176353;
                                    }
                                    
                                    int64_t data_176368;
                                    int64_t i_176373 = (int64_t) 0;
                                    
                                    for (int64_t k_176372 = 0; k_176372 < merge_block_sizze_175854; k_176372++) {
                                        int64_t j_176377 = sub64(k_176372, i_176373);
                                        bool cond_176378 = j_176377 == j_m_i_176324;
                                        bool cond_176379;
                                        
                                        if (cond_176378) {
                                            cond_176379 = 1;
                                        } else {
                                            bool cond_176380 = slt64(i_176373, j_m_i_176337);
                                            bool cond_f_res_176381;
                                            
                                            if (cond_176380) {
                                                bool x_179351 = sle64((int64_t) 0, j_176377);
                                                bool y_179352 = slt64(j_176377, j_m_i_176324);
                                                bool bounds_check_179353 = x_179351 && y_179352;
                                                bool index_certs_179354;
                                                
                                                if (!bounds_check_179353) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176377, "] out of bounds for array of shape [", (long long) j_m_i_176324, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179360 = sle64((int64_t) 0, i_176373);
                                                bool bounds_check_179361 = cond_176380 && x_179360;
                                                bool index_certs_179362;
                                                
                                                if (!bounds_check_179361) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176373, "] out of bounds for array of shape [", (long long) j_m_i_176337, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179355 = merge_sequential_arg2_176322 + j_176377;
                                                int64_t slice_179356 = start_176090 + slice_179355;
                                                int8_t leq_arg1_179357 = ((int8_t *) mem_param_180156.mem)[slice_179356];
                                                int64_t leq_arg1_179358 = ((int64_t *) mem_param_180159.mem)[slice_179356];
                                                float leq_arg1_179359 = ((float *) mem_param_180162.mem)[slice_179356];
                                                int64_t slice_179363 = defunc_0_f_res_176313 + i_176373;
                                                int64_t slice_179364 = start_176090 + slice_179363;
                                                int8_t leq_arg0_179365 = ((int8_t *) mem_param_180156.mem)[slice_179364];
                                                int64_t leq_arg0_179366 = ((int64_t *) mem_param_180159.mem)[slice_179364];
                                                float leq_arg0_179367 = ((float *) mem_param_180162.mem)[slice_179364];
                                                bool cond_179368 = leq_arg0_179365 == leq_arg1_179357;
                                                bool defunc_0_leq_res_t_res_179369 = sle64(leq_arg0_179366, leq_arg1_179358);
                                                bool defunc_0_leq_res_179370 = leq_arg0_179367 <= leq_arg1_179359;
                                                bool x_179371 = cond_179368 && defunc_0_leq_res_t_res_179369;
                                                bool x_179372 = !cond_179368;
                                                bool y_179373 = defunc_0_leq_res_179370 && x_179372;
                                                bool defunc_0_leq_res_179374 = x_179371 || y_179373;
                                                
                                                cond_f_res_176381 = defunc_0_leq_res_179374;
                                            } else {
                                                cond_f_res_176381 = 0;
                                            }
                                            cond_176379 = cond_f_res_176381;
                                        }
                                        
                                        int64_t loopres_176406;
                                        int8_t loopres_176407;
                                        int64_t loopres_176408;
                                        float loopres_176409;
                                        
                                        if (cond_176379) {
                                            bool x_179376 = sle64((int64_t) 0, i_176373);
                                            bool y_179377 = slt64(i_176373, j_m_i_176337);
                                            bool bounds_check_179378 = x_179376 && y_179377;
                                            bool index_certs_179379;
                                            
                                            if (!bounds_check_179378) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176373, "] out of bounds for array of shape [", (long long) j_m_i_176337, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179375 = add64((int64_t) 1, i_176373);
                                            int64_t slice_179380 = defunc_0_f_res_176313 + i_176373;
                                            int64_t slice_179381 = start_176090 + slice_179380;
                                            int8_t tmp_179382 = ((int8_t *) mem_param_180156.mem)[slice_179381];
                                            int64_t tmp_179383 = ((int64_t *) mem_param_180159.mem)[slice_179381];
                                            float tmp_179384 = ((float *) mem_param_180162.mem)[slice_179381];
                                            
                                            loopres_176406 = tmp_179375;
                                            loopres_176407 = tmp_179382;
                                            loopres_176408 = tmp_179383;
                                            loopres_176409 = tmp_179384;
                                        } else {
                                            bool x_176420 = sle64((int64_t) 0, j_176377);
                                            bool y_176421 = slt64(j_176377, j_m_i_176324);
                                            bool bounds_check_176422 = x_176420 && y_176421;
                                            bool index_certs_176423;
                                            
                                            if (!bounds_check_176422) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176377, "] out of bounds for array of shape [", (long long) j_m_i_176324, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_176424 = merge_sequential_arg2_176322 + j_176377;
                                            int64_t slice_176425 = start_176090 + slice_176424;
                                            int8_t tmp_176426 = ((int8_t *) mem_param_180156.mem)[slice_176425];
                                            int64_t tmp_176427 = ((int64_t *) mem_param_180159.mem)[slice_176425];
                                            float tmp_176428 = ((float *) mem_param_180162.mem)[slice_176425];
                                            
                                            loopres_176406 = i_176373;
                                            loopres_176407 = tmp_176426;
                                            loopres_176408 = tmp_176427;
                                            loopres_176409 = tmp_176428;
                                        }
                                        ((int8_t *) mem_180200)[i_179776 * merge_block_sizze_175854 + k_176372] = loopres_176407;
                                        ((int64_t *) mem_180203)[i_179776 * merge_block_sizze_175854 + k_176372] = loopres_176408;
                                        ((float *) mem_180206)[i_179776 * merge_block_sizze_175854 + k_176372] = loopres_176409;
                                        
                                        int64_t i_tmp_181589 = loopres_176406;
                                        
                                        i_176373 = i_tmp_181589;
                                    }
                                    data_176368 = i_176373;
                                }
                                if (memblock_alloc(ctx, &mem_180255, flat_dim_176040, "mem_180255")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180255.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (uint8_t *) mem_180200, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (int64_t []) {num_blocks_176037, merge_block_sizze_175854});
                                if (memblock_alloc(ctx, &mem_180259, bytes_180202, "mem_180259")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180259.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (uint64_t *) mem_180203, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (int64_t []) {num_blocks_176037, merge_block_sizze_175854});
                                if (memblock_alloc(ctx, &mem_180263, bytes_180205, "mem_180263")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_180263.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (uint32_t *) mem_180206, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (int64_t []) {num_blocks_176037, merge_block_sizze_175854});
                                if (memblock_set(ctx, &ext_mem_180296, &mem_180255, "mem_180255") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180293, &mem_180259, "mem_180259") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180290, &mem_180263, "mem_180263") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180164, i_179786 * next_stride_176017, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180296.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176017});
                            if (memblock_unref(ctx, &ext_mem_180296, "ext_mem_180296") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180167, i_179786 * next_stride_176017, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180293.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176017});
                            if (memblock_unref(ctx, &ext_mem_180293, "ext_mem_180293") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180170, i_179786 * next_stride_176017, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180290.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176017});
                            if (memblock_unref(ctx, &ext_mem_180290, "ext_mem_180290") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_180310, bytes_180163, "mem_180310")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180310.mem, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (uint8_t *) mem_180164, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (int64_t []) {num_merges_176021, next_stride_176017});
                        if (memblock_alloc(ctx, &mem_180314, bytes_180166, "mem_180314")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180314.mem, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (uint64_t *) mem_180167, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (int64_t []) {num_merges_176021, next_stride_176017});
                        if (memblock_alloc(ctx, &mem_180318, bytes_180169, "mem_180318")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_180318.mem, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (uint32_t *) mem_180170, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (int64_t []) {num_merges_176021, next_stride_176017});
                        
                        bool loop_cond_176442 = slt64(next_stride_176017, flat_dim_175849);
                        
                        if (memblock_set(ctx, &mem_param_tmp_181556, &mem_180310, "mem_180310") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181557, &mem_180314, "mem_180314") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181558, &mem_180318, "mem_180318") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_181559 = bytes_180163;
                        bool loop_while_tmp_181560 = loop_cond_176442;
                        int64_t stride_tmp_181564 = next_stride_176017;
                        
                        if (memblock_set(ctx, &mem_param_180156, &mem_param_tmp_181556, "mem_param_tmp_181556") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180159, &mem_param_tmp_181557, "mem_param_tmp_181557") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180162, &mem_param_tmp_181558, "mem_param_tmp_181558") != 0)
                            return 1;
                        loop_dz2084Uz2082U_176011 = loop_dz2084Uz2082U_tmp_181559;
                        loop_while_176012 = loop_while_tmp_181560;
                        stride_176016 = stride_tmp_181564;
                    }
                    if (memblock_set(ctx, &ext_mem_180328, &mem_param_180156, "mem_param_180156") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180327, &mem_param_180159, "mem_param_180159") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180326, &mem_param_180162, "mem_param_180162") != 0)
                        return 1;
                    data_176005 = loop_dz2084Uz2082U_176011;
                    data_176006 = loop_while_176012;
                    data_176010 = stride_176016;
                    if (memblock_unref(ctx, &mem_180144, "mem_180144") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180148, "mem_180148") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180152, "mem_180152") != 0)
                        return 1;
                    
                    bool empty_slice_176443 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_176444 = sle64((int64_t) 0, zs_lhs_175833);
                    bool i_p_m_t_s_leq_w_176445 = slt64(zs_lhs_175833, data_176005);
                    bool y_176446 = zzero_leq_i_p_m_t_s_176444 && i_p_m_t_s_leq_w_176445;
                    bool ok_or_empty_176447 = empty_slice_176443 || y_176446;
                    bool index_certs_176448;
                    
                    if (!ok_or_empty_176447) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "] out of bounds for array of shape [", (long long) data_176005, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_180337, &ext_mem_180328, "ext_mem_180328") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180334, &ext_mem_180327, "ext_mem_180327") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180331, &ext_mem_180326, "ext_mem_180326") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180038, "mem_180038") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180040, "mem_180040") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180042, "mem_180042") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180018.mem, ind_bottom_175786, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180337.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788});
                if (memblock_unref(ctx, &ext_mem_180337, "ext_mem_180337") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180020.mem, ind_bottom_175786, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180334.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788});
                if (memblock_unref(ctx, &ext_mem_180334, "ext_mem_180334") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180022.mem, ind_bottom_175786, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180331.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788});
                if (memblock_unref(ctx, &ext_mem_180331, "ext_mem_180331") != 0)
                    return 1;
                
                bool loop_cond_176484 = slt64(ubs_175776, threads_151710);
                bool loop_while_tmp_181523 = loop_cond_176484;
                int64_t p_tmp_181524 = ubs_175776;
                
                loop_while_175765 = loop_while_tmp_181523;
                p_175766 = p_tmp_181524;
            }
            defunc_0_mergeFunc_seq_res_175760 = loop_while_175765;
            defunc_0_mergeFunc_seq_res_175761 = p_175766;
            
            int64_t index_concat_branch_177301;
            
            if (index_concat_cmp_177297) {
                int64_t index_concat_179399 = ((int64_t *) mem_180003)[index_concat_i_177298];
                
                index_concat_branch_177301 = index_concat_179399;
            } else {
                index_concat_branch_177301 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_177295;
            
            if (index_concat_cmp_177297) {
                int64_t index_concat_179400 = ((int64_t *) mem_180005)[index_concat_i_177298];
                
                index_concat_branch_177295 = index_concat_179400;
            } else {
                index_concat_branch_177295 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_180756, &mem_180018, "mem_180018") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_180753, &mem_180020, "mem_180020") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_180750, &mem_180022, "mem_180022") != 0)
                return 1;
            loopres_174524 = index_concat_branch_177301;
            loopres_174525 = index_concat_branch_177295;
        }
        for (int64_t i_179792 = 0; i_179792 < window_sizze_151709; i_179792++) {
            int8_t eta_p_176492 = ((int8_t *) ext_mem_180756.mem)[i_179792];
            int64_t eta_p_176493 = ((int64_t *) ext_mem_180753.mem)[i_179792];
            bool cond_176494 = eta_p_176492 == (int8_t) 0;
            int64_t tmp_176495;
            
            if (cond_176494) {
                int64_t tmp_t_res_179403 = add64(p_174496, eta_p_176493);
                
                tmp_176495 = tmp_t_res_179403;
            } else {
                int64_t tmp_f_res_176497 = add64(p_174497, eta_p_176493);
                
                tmp_176495 = tmp_f_res_176497;
            }
            ((int64_t *) mem_179990.mem)[ind_bottom_174500 + i_179792] = tmp_176495;
        }
        if (memblock_unref(ctx, &ext_mem_180753, "ext_mem_180753") != 0)
            return 1;
        
        int64_t next_lbs_176498 = add64(p_174496, loopres_174524);
        int64_t next_lbs_176499 = add64(p_174497, loopres_174525);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_179988.mem, ind_bottom_174500, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180756.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_151709});
        if (memblock_unref(ctx, &ext_mem_180756, "ext_mem_180756") != 0)
            return 1;
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_179992.mem, ind_bottom_174500, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180750.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_151709});
        if (memblock_unref(ctx, &ext_mem_180750, "ext_mem_180750") != 0)
            return 1;
        
        bool cond_176513 = slt64(next_lbs_176498, zl_rhs_174479);
        bool loop_cond_t_res_176514 = slt64(next_lbs_176499, zl_rhs_174481);
        bool x_176515 = cond_176513 && loop_cond_t_res_176514;
        bool loop_while_tmp_181407 = x_176515;
        int64_t p_tmp_181411 = next_lbs_176498;
        int64_t p_tmp_181412 = next_lbs_176499;
        
        loop_while_174492 = loop_while_tmp_181407;
        p_174496 = p_tmp_181411;
        p_174497 = p_tmp_181412;
    }
    defunc_0_merge_pipeline_res_174486 = loop_while_174492;
    defunc_0_merge_pipeline_res_174490 = p_174496;
    defunc_0_merge_pipeline_res_174491 = p_174497;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516 = sub64(nb_151708, defunc_0_merge_pipeline_res_174491);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517 = sub64(na_151707, defunc_0_merge_pipeline_res_174490);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
    bool empty_slice_176519 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517 == (int64_t) 0;
    int64_t m_176520 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, (int64_t) 1);
    int64_t i_p_m_t_s_176521 = add64(defunc_0_merge_pipeline_res_174490, m_176520);
    bool zzero_leq_i_p_m_t_s_176522 = sle64((int64_t) 0, i_p_m_t_s_176521);
    bool i_p_m_t_s_leq_w_176523 = slt64(i_p_m_t_s_176521, na_151707);
    bool zzero_lte_i_176524 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_174490);
    bool i_lte_j_176525 = sle64(defunc_0_merge_pipeline_res_174490, na_151707);
    bool y_176526 = i_p_m_t_s_leq_w_176523 && zzero_lte_i_176524;
    bool y_176527 = zzero_leq_i_p_m_t_s_176522 && y_176526;
    bool forwards_ok_176528 = i_lte_j_176525 && y_176527;
    bool ok_or_empty_176529 = empty_slice_176519 || forwards_ok_176528;
    bool index_certs_176530;
    
    if (!ok_or_empty_176529) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_174490, ":", (long long) na_151707, "] out of bounds for array of shape [", (long long) na_151707, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176534 = slt64(na_151707, defunc_0_merge_pipeline_res_174490);
    bool valid_176535 = !bounds_invalid_upwards_176534;
    bool range_valid_c_176536;
    
    if (!valid_176535) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_174490, "..<", (long long) na_151707, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_176540 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516 == (int64_t) 0;
    int64_t m_176541 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516, (int64_t) 1);
    int64_t i_p_m_t_s_176542 = add64(defunc_0_merge_pipeline_res_174491, m_176541);
    bool zzero_leq_i_p_m_t_s_176543 = sle64((int64_t) 0, i_p_m_t_s_176542);
    bool i_p_m_t_s_leq_w_176544 = slt64(i_p_m_t_s_176542, nb_151708);
    bool zzero_lte_i_176545 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_174491);
    bool i_lte_j_176546 = sle64(defunc_0_merge_pipeline_res_174491, nb_151708);
    bool y_176547 = i_p_m_t_s_leq_w_176544 && zzero_lte_i_176545;
    bool y_176548 = zzero_leq_i_p_m_t_s_176543 && y_176547;
    bool forwards_ok_176549 = i_lte_j_176546 && y_176548;
    bool ok_or_empty_176550 = empty_slice_176540 || forwards_ok_176549;
    bool index_certs_176551;
    
    if (!ok_or_empty_176550) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_174491, ":", (long long) nb_151708, "] out of bounds for array of shape [", (long long) nb_151708, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176555 = slt64(nb_151708, defunc_0_merge_pipeline_res_174491);
    bool valid_176556 = !bounds_invalid_upwards_176555;
    bool range_valid_c_176557;
    
    if (!valid_176556) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_174491, "..<", (long long) nb_151708, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180781 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518;
    int64_t bytes_180783 = (int64_t) 4 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518;
    bool cond_176564 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, (int64_t) 1);
    int64_t zs_lhs_176565 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, (int64_t) 1);
    int64_t zp_rhs_176566 = sdiv_safe64(zs_lhs_176565, (int64_t) 20);
    int64_t min_num_blocks_176567 = add64((int64_t) 1, zp_rhs_176566);
    bool loop_cond_176568 = slt64((int64_t) 1, min_num_blocks_176567);
    bool smallest_pow_2_geq_than_res_176569;
    int64_t smallest_pow_2_geq_than_res_176570;
    bool loop_while_176571;
    int64_t x_176572;
    
    loop_while_176571 = loop_cond_176568;
    x_176572 = (int64_t) 1;
    while (loop_while_176571) {
        int64_t loopres_176573 = mul64((int64_t) 2, x_176572);
        bool loop_cond_176574 = slt64(loopres_176573, min_num_blocks_176567);
        bool loop_while_tmp_181594 = loop_cond_176574;
        int64_t x_tmp_181595 = loopres_176573;
        
        loop_while_176571 = loop_while_tmp_181594;
        x_176572 = x_tmp_181595;
    }
    smallest_pow_2_geq_than_res_176569 = loop_while_176571;
    smallest_pow_2_geq_than_res_176570 = x_176572;
    
    bool zzero_176575 = smallest_pow_2_geq_than_res_176570 == (int64_t) 0;
    bool nonzzero_176576 = !zzero_176575;
    bool protect_assert_disj_176577 = cond_176564 || nonzzero_176576;
    bool nonzzero_cert_176578;
    
    if (!protect_assert_disj_176577) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_176579 = sdiv_safe64(zs_lhs_176565, smallest_pow_2_geq_than_res_176570);
    int64_t block_sizze_176580 = add64((int64_t) 1, zp_rhs_176579);
    bool y_176587 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518);
    bool protect_assert_disj_181109 = cond_176564 || y_176587;
    bool index_certs_176588;
    
    if (!protect_assert_disj_181109) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176614 = slt64(smallest_pow_2_geq_than_res_176570, (int64_t) 0);
    bool valid_176615 = !bounds_invalid_upwards_176614;
    bool protect_assert_disj_181119 = cond_176564 || valid_176615;
    bool range_valid_c_176616;
    
    if (!protect_assert_disj_181119) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176570, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176618 = slt64(block_sizze_176580, (int64_t) 0);
    bool valid_176619 = !bounds_invalid_upwards_176618;
    bool protect_assert_disj_181121 = cond_176564 || valid_176619;
    bool range_valid_c_176620;
    
    if (!protect_assert_disj_181121) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176580, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_176622 = sle64(block_sizze_176580, (int64_t) 1);
    int64_t tmp_176623 = sub64(block_sizze_176580, (int64_t) 2);
    bool bounds_invalid_upwards_176624 = slt64(tmp_176623, (int64_t) 0);
    bool valid_176626 = !bounds_invalid_upwards_176624;
    bool protect_assert_disj_176627 = cond_176622 || valid_176626;
    bool protect_assert_disj_181123 = cond_176564 || protect_assert_disj_176627;
    bool range_valid_c_176628;
    
    if (!protect_assert_disj_181123) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176623, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177189 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_177191 = sle64((int64_t) 0, zs_lhs_176565);
    bool i_p_m_t_s_leq_w_177192 = slt64(zs_lhs_176565, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518);
    bool y_177193 = zzero_leq_i_p_m_t_s_177191 && i_p_m_t_s_leq_w_177192;
    bool ok_or_empty_177194 = empty_slice_177189 || y_177193;
    bool index_certs_177195;
    
    if (!ok_or_empty_177194) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_177196 = add64(defunc_0_merge_pipeline_res_174490, defunc_0_merge_pipeline_res_174491);
    int64_t j_m_i_177197 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, final_buffer_177196);
    bool empty_slice_177198 = j_m_i_177197 == (int64_t) 0;
    int64_t m_177199 = sub64(j_m_i_177197, (int64_t) 1);
    int64_t i_p_m_t_s_177200 = add64(final_buffer_177196, m_177199);
    bool zzero_leq_i_p_m_t_s_177201 = sle64((int64_t) 0, i_p_m_t_s_177200);
    bool i_p_m_t_s_leq_w_177202 = slt64(i_p_m_t_s_177200, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475);
    bool zzero_lte_i_177203 = sle64((int64_t) 0, final_buffer_177196);
    bool i_lte_j_177204 = sle64(final_buffer_177196, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475);
    bool y_177205 = i_p_m_t_s_leq_w_177202 && zzero_lte_i_177203;
    bool y_177206 = zzero_leq_i_p_m_t_s_177201 && y_177205;
    bool forwards_ok_177207 = i_lte_j_177204 && y_177206;
    bool ok_or_empty_177208 = empty_slice_177198 || forwards_ok_177207;
    bool index_certs_177209;
    
    if (!ok_or_empty_177208) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_177196, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_177210 = j_m_i_177197 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518;
    bool empty_or_match_cert_177211;
    
    if (!dim_match_177210) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_177197, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180780, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "mem_180780")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181596 = 0; nest_i_181596 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517; nest_i_181596++) {
        ((int8_t *) mem_180780.mem)[nest_i_181596] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_180782, bytes_180781, "mem_180782")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181597 = 0; i_181597 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517; i_181597++) {
        int64_t x_181598 = defunc_0_merge_pipeline_res_174490 + i_181597 * (int64_t) 1;
        
        ((int64_t *) mem_180782.mem)[i_181597] = x_181598;
    }
    for (int64_t nest_i_181599 = 0; nest_i_181599 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516; nest_i_181599++) {
        ((int8_t *) mem_180780.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517 + nest_i_181599] = (int8_t) 1;
    }
    for (int64_t i_181600 = 0; i_181600 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516; i_181600++) {
        int64_t x_181601 = defunc_0_merge_pipeline_res_174491 + i_181600 * (int64_t) 1;
        
        ((int64_t *) mem_180782.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517 + i_181600] = x_181601;
    }
    
    int64_t tmp_offs_181602 = (int64_t) 0;
    
    if (!(tmp_offs_181602 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180780.mem, tmp_offs_181602, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180780.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517});
    }
    tmp_offs_181602 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517;
    if (!(tmp_offs_181602 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180780.mem, tmp_offs_181602, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180780.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516});
    }
    tmp_offs_181602 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516;
    
    int64_t tmp_offs_181603 = (int64_t) 0;
    
    if (!(tmp_offs_181603 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180782.mem, tmp_offs_181603, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180782.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517});
    }
    tmp_offs_181603 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517;
    if (!(tmp_offs_181603 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180782.mem, tmp_offs_181603, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180782.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516});
    }
    tmp_offs_181603 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516;
    if (memblock_alloc(ctx, &mem_180784, bytes_180783, "mem_180784")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_181604 = (int64_t) 0;
    
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_180784.mem, tmp_offs_181604, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_179986.mem, defunc_0_merge_pipeline_res_174490, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517});
    tmp_offs_181604 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_180784.mem, tmp_offs_181604, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_179987.mem, defunc_0_merge_pipeline_res_174491, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516});
    tmp_offs_181604 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516;
    
    int64_t flat_dim_176581 = smallest_pow_2_geq_than_res_176570 * block_sizze_176580;
    bool x_181104 = !cond_176564;
    int64_t greatest_divisor_leq_than_arg1_176585 = mul64((int64_t) 2, block_sizze_176580);
    int64_t merge_block_sizze_176586;
    
    if (x_181104) {
        int64_t x_181106;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181106, (int64_t) 8, greatest_divisor_leq_than_arg1_176585) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_176586 = x_181106;
    } else {
        merge_block_sizze_176586 = (int64_t) 0;
    }
    
    bool index_concat_cmp_177261 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, (int64_t) 0);
    int8_t index_concat_branch_177265 = btoi_bool_i8(index_concat_cmp_177261);
    int64_t index_concat_i_179405 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
    int64_t index_primexp_179406 = add64(defunc_0_merge_pipeline_res_174491, index_concat_i_179405);
    int64_t index_concat_branch_177259;
    
    if (index_concat_cmp_177261) {
        index_concat_branch_177259 = index_primexp_179406;
    } else {
        index_concat_branch_177259 = defunc_0_merge_pipeline_res_174490;
    }
    
    bool x_181100 = !index_concat_cmp_177261;
    bool protect_cond_conj_181110 = x_181100 && x_181104;
    float index_concat_177252;
    
    if (protect_cond_conj_181110) {
        float x_181102 = ((float *) a_list_mem_179986.mem)[defunc_0_merge_pipeline_res_174490];
        
        index_concat_177252 = x_181102;
    } else {
        index_concat_177252 = 0.0F;
    }
    
    bool protect_cond_conj_181111 = index_concat_cmp_177261 && x_181104;
    float index_concat_179409;
    
    if (protect_cond_conj_181111) {
        float x_181098 = ((float *) b_list_mem_179987.mem)[index_primexp_179406];
        
        index_concat_179409 = x_181098;
    } else {
        index_concat_179409 = 0.0F;
    }
    
    float index_concat_branch_177253;
    
    if (index_concat_cmp_177261) {
        index_concat_branch_177253 = index_concat_179409;
    } else {
        index_concat_branch_177253 = index_concat_177252;
    }
    
    int8_t defunc_0_reduce_res_179640;
    int64_t defunc_0_reduce_res_179641;
    float defunc_0_reduce_res_179642;
    
    if (x_181104) {
        int8_t x_181112;
        int64_t x_181113;
        float x_181114;
        int8_t redout_179794;
        int64_t redout_179795;
        float redout_179796;
        
        redout_179794 = index_concat_branch_177265;
        redout_179795 = index_concat_branch_177259;
        redout_179796 = index_concat_branch_177253;
        for (int64_t i_179797 = 0; i_179797 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518; i_179797++) {
            bool index_concat_cmp_179868 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, i_179797);
            int8_t index_concat_branch_179872 = btoi_bool_i8(index_concat_cmp_179868);
            int64_t index_concat_branch_179866;
            
            if (index_concat_cmp_179868) {
                int64_t index_concat_i_179863 = sub64(i_179797, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
                int64_t index_primexp_179956 = add64(defunc_0_merge_pipeline_res_174491, index_concat_i_179863);
                
                index_concat_branch_179866 = index_primexp_179956;
            } else {
                int64_t index_primexp_179958 = add64(defunc_0_merge_pipeline_res_174490, i_179797);
                
                index_concat_branch_179866 = index_primexp_179958;
            }
            
            float index_concat_branch_179860;
            
            if (index_concat_cmp_179868) {
                int64_t index_concat_i_179857 = sub64(i_179797, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
                int64_t slice_179953 = defunc_0_merge_pipeline_res_174491 + index_concat_i_179857;
                float index_concat_179858 = ((float *) b_list_mem_179987.mem)[slice_179953];
                
                index_concat_branch_179860 = index_concat_179858;
            } else {
                int64_t slice_179954 = defunc_0_merge_pipeline_res_174490 + i_179797;
                float index_concat_179859 = ((float *) a_list_mem_179986.mem)[slice_179954];
                
                index_concat_branch_179860 = index_concat_179859;
            }
            
            bool eq_x_y_179971 = redout_179794 == (int8_t) 1;
            bool eq_x_zz_179972 = redout_179794 == (int8_t) 0;
            bool p_and_eq_x_y_179973 = index_concat_cmp_179868 && eq_x_y_179971;
            bool not_p_179974 = !index_concat_cmp_179868;
            bool p_and_eq_x_y_179975 = eq_x_zz_179972 && not_p_179974;
            bool cond_176604 = p_and_eq_x_y_179973 || p_and_eq_x_y_179975;
            bool defunc_0_leq_res_t_res_176605 = sle64(redout_179795, index_concat_branch_179866);
            bool defunc_0_leq_res_176606 = redout_179796 <= index_concat_branch_179860;
            bool x_176607 = cond_176604 && defunc_0_leq_res_t_res_176605;
            bool x_176608 = !cond_176604;
            bool y_176609 = defunc_0_leq_res_176606 && x_176608;
            bool defunc_0_leq_res_176610 = x_176607 || y_176609;
            int8_t defunc_0_op_res_176611;
            
            if (defunc_0_leq_res_176610) {
                defunc_0_op_res_176611 = index_concat_branch_179872;
            } else {
                defunc_0_op_res_176611 = redout_179794;
            }
            
            int64_t defunc_0_op_res_176612;
            
            if (defunc_0_leq_res_176610) {
                defunc_0_op_res_176612 = index_concat_branch_179866;
            } else {
                defunc_0_op_res_176612 = redout_179795;
            }
            
            float defunc_0_op_res_176613;
            
            if (defunc_0_leq_res_176610) {
                defunc_0_op_res_176613 = index_concat_branch_179860;
            } else {
                defunc_0_op_res_176613 = redout_179796;
            }
            
            int8_t redout_tmp_181605 = defunc_0_op_res_176611;
            int64_t redout_tmp_181606 = defunc_0_op_res_176612;
            float redout_tmp_181607 = defunc_0_op_res_176613;
            
            redout_179794 = redout_tmp_181605;
            redout_179795 = redout_tmp_181606;
            redout_179796 = redout_tmp_181607;
        }
        x_181112 = redout_179794;
        x_181113 = redout_179795;
        x_181114 = redout_179796;
        defunc_0_reduce_res_179640 = x_181112;
        defunc_0_reduce_res_179641 = x_181113;
        defunc_0_reduce_res_179642 = x_181114;
    } else {
        defunc_0_reduce_res_179640 = (int8_t) 0;
        defunc_0_reduce_res_179641 = (int64_t) 0;
        defunc_0_reduce_res_179642 = 0.0F;
    }
    
    int64_t distance_176625 = add64((int64_t) 1, tmp_176623);
    int64_t binop_x_180787 = (int64_t) 8 * smallest_pow_2_geq_than_res_176570;
    int64_t bytes_180788 = block_sizze_176580 * binop_x_180787;
    int64_t binop_x_180790 = (int64_t) 4 * smallest_pow_2_geq_than_res_176570;
    int64_t bytes_180791 = block_sizze_176580 * binop_x_180790;
    int64_t bytes_180806 = (int64_t) 8 * block_sizze_176580;
    int64_t bytes_180808 = (int64_t) 4 * block_sizze_176580;
    bool loop_cond_176734 = slt64(block_sizze_176580, flat_dim_176581);
    bool zzero_176735 = merge_block_sizze_176586 == (int64_t) 0;
    bool nonzzero_176736 = !zzero_176735;
    
    if (cond_176564) {
        if (memblock_set(ctx, &ext_mem_181079, &mem_180780, "mem_180780") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181076, &mem_180782, "mem_180782") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181073, &mem_180784, "mem_180784") != 0)
            return 1;
    } else {
        if (mem_180786_cached_sizze_181818 < flat_dim_176581) {
            err = lexical_realloc(ctx, &mem_180786, &mem_180786_cached_sizze_181818, flat_dim_176581);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180789_cached_sizze_181819 < bytes_180788) {
            err = lexical_realloc(ctx, &mem_180789, &mem_180789_cached_sizze_181819, bytes_180788);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180792_cached_sizze_181820 < bytes_180791) {
            err = lexical_realloc(ctx, &mem_180792, &mem_180792_cached_sizze_181820, bytes_180791);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180805_cached_sizze_181821 < block_sizze_176580) {
            err = lexical_realloc(ctx, &mem_180805, &mem_180805_cached_sizze_181821, block_sizze_176580);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180807_cached_sizze_181822 < bytes_180806) {
            err = lexical_realloc(ctx, &mem_180807, &mem_180807_cached_sizze_181822, bytes_180806);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180809_cached_sizze_181823 < bytes_180808) {
            err = lexical_realloc(ctx, &mem_180809, &mem_180809_cached_sizze_181823, bytes_180808);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_179814 = 0; i_179814 < smallest_pow_2_geq_than_res_176570; i_179814++) {
            int64_t zp_lhs_176633 = mul64(block_sizze_176580, i_179814);
            
            for (int64_t i_179804 = 0; i_179804 < block_sizze_176580; i_179804++) {
                int64_t k_176638 = add64(zp_lhs_176633, i_179804);
                bool cond_176639 = slt64(k_176638, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518);
                int8_t lifted_lambda_res_176640;
                int64_t lifted_lambda_res_176641;
                float lifted_lambda_res_176642;
                
                if (cond_176639) {
                    bool x_179415 = sle64((int64_t) 0, k_176638);
                    bool bounds_check_179416 = cond_176639 && x_179415;
                    bool index_certs_179417;
                    
                    if (!bounds_check_179416) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176638, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_179418 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, k_176638);
                    int8_t index_concat_branch_179419 = btoi_bool_i8(index_concat_cmp_179418);
                    int64_t index_concat_branch_179420;
                    
                    if (index_concat_cmp_179418) {
                        int64_t index_concat_i_179421 = sub64(k_176638, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
                        int64_t index_primexp_179422 = add64(defunc_0_merge_pipeline_res_174491, index_concat_i_179421);
                        
                        index_concat_branch_179420 = index_primexp_179422;
                    } else {
                        int64_t index_primexp_179423 = add64(defunc_0_merge_pipeline_res_174490, k_176638);
                        
                        index_concat_branch_179420 = index_primexp_179423;
                    }
                    
                    float index_concat_branch_179424;
                    
                    if (index_concat_cmp_179418) {
                        int64_t index_concat_i_179425 = sub64(k_176638, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
                        int64_t slice_179426 = defunc_0_merge_pipeline_res_174491 + index_concat_i_179425;
                        float index_concat_179427 = ((float *) b_list_mem_179987.mem)[slice_179426];
                        
                        index_concat_branch_179424 = index_concat_179427;
                    } else {
                        int64_t slice_179428 = defunc_0_merge_pipeline_res_174490 + k_176638;
                        float index_concat_179429 = ((float *) a_list_mem_179986.mem)[slice_179428];
                        
                        index_concat_branch_179424 = index_concat_179429;
                    }
                    lifted_lambda_res_176640 = index_concat_branch_179419;
                    lifted_lambda_res_176641 = index_concat_branch_179420;
                    lifted_lambda_res_176642 = index_concat_branch_179424;
                } else {
                    lifted_lambda_res_176640 = defunc_0_reduce_res_179640;
                    lifted_lambda_res_176641 = defunc_0_reduce_res_179641;
                    lifted_lambda_res_176642 = defunc_0_reduce_res_179642;
                }
                ((int8_t *) mem_180805)[i_179804] = lifted_lambda_res_176640;
                ((int64_t *) mem_180807)[i_179804] = lifted_lambda_res_176641;
                ((float *) mem_180809)[i_179804] = lifted_lambda_res_176642;
            }
            if (!cond_176622) {
                for (int64_t i_176655 = 0; i_176655 < distance_176625; i_176655++) {
                    int64_t gt_arg1_176659 = add64((int64_t) 1, i_176655);
                    bool x_176660 = sle64((int64_t) 0, gt_arg1_176659);
                    bool y_176661 = slt64(gt_arg1_176659, block_sizze_176580);
                    bool bounds_check_176662 = x_176660 && y_176661;
                    bool index_certs_176663;
                    
                    if (!bounds_check_176662) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176659, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_176667 = slt64(i_176655, block_sizze_176580);
                    bool index_certs_176668;
                    
                    if (!y_176667) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176655, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_176664 = ((int8_t *) mem_180805)[gt_arg1_176659];
                    int64_t gt_arg1_176665 = ((int64_t *) mem_180807)[gt_arg1_176659];
                    float gt_arg1_176666 = ((float *) mem_180809)[gt_arg1_176659];
                    int8_t gt_arg0_176669 = ((int8_t *) mem_180805)[i_176655];
                    int64_t gt_arg0_176670 = ((int64_t *) mem_180807)[i_176655];
                    float gt_arg0_176671 = ((float *) mem_180809)[i_176655];
                    bool cond_176672 = gt_arg0_176669 == gt_arg1_176664;
                    bool defunc_0_leq_res_t_res_176673 = sle64(gt_arg0_176670, gt_arg1_176665);
                    bool defunc_0_leq_res_176674 = gt_arg0_176671 <= gt_arg1_176666;
                    bool x_176675 = cond_176672 && defunc_0_leq_res_t_res_176673;
                    bool x_176676 = !cond_176672;
                    bool y_176677 = defunc_0_leq_res_176674 && x_176676;
                    bool defunc_0_leq_res_176678 = x_176675 || y_176677;
                    bool defunc_0_lifted_gt_res_176679 = !defunc_0_leq_res_176678;
                    bool s_176680;
                    int64_t s_176684;
                    bool loop_while_176685;
                    int64_t j_176689;
                    
                    loop_while_176685 = defunc_0_lifted_gt_res_176679;
                    j_176689 = i_176655;
                    while (loop_while_176685) {
                        bool x_176690 = sle64((int64_t) 0, j_176689);
                        bool y_176691 = slt64(j_176689, block_sizze_176580);
                        bool bounds_check_176692 = x_176690 && y_176691;
                        bool index_certs_176693;
                        
                        if (!bounds_check_176692) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176689, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_176697 = add64((int64_t) 1, j_176689);
                        bool x_176698 = sle64((int64_t) 0, copy_arg0_176697);
                        bool y_176699 = slt64(copy_arg0_176697, block_sizze_176580);
                        bool bounds_check_176700 = x_176698 && y_176699;
                        bool index_certs_176701;
                        
                        if (!bounds_check_176700) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_176697, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_176694 = ((int8_t *) mem_180805)[j_176689];
                        int64_t copy_arg0_176695 = ((int64_t *) mem_180807)[j_176689];
                        float copy_arg0_176696 = ((float *) mem_180809)[j_176689];
                        int8_t copy_arg0_176702 = ((int8_t *) mem_180805)[copy_arg0_176697];
                        int64_t copy_arg0_176703 = ((int64_t *) mem_180807)[copy_arg0_176697];
                        float copy_arg0_176704 = ((float *) mem_180809)[copy_arg0_176697];
                        
                        ((int8_t *) mem_180805)[j_176689] = copy_arg0_176702;
                        ((int64_t *) mem_180807)[j_176689] = copy_arg0_176703;
                        ((float *) mem_180809)[j_176689] = copy_arg0_176704;
                        ((int8_t *) mem_180805)[copy_arg0_176697] = copy_arg0_176694;
                        ((int64_t *) mem_180807)[copy_arg0_176697] = copy_arg0_176695;
                        ((float *) mem_180809)[copy_arg0_176697] = copy_arg0_176696;
                        
                        int64_t tmp_176711 = sub64(j_176689, (int64_t) 1);
                        bool cond_176712 = sle64((int64_t) 0, tmp_176711);
                        bool loop_cond_176713;
                        
                        if (cond_176712) {
                            bool y_179433 = slt64(tmp_176711, block_sizze_176580);
                            bool bounds_check_179434 = cond_176712 && y_179433;
                            bool index_certs_179435;
                            
                            if (!bounds_check_179434) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176711, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_179430 = ((int8_t *) mem_180805)[j_176689];
                            int64_t gt_arg1_179431 = ((int64_t *) mem_180807)[j_176689];
                            float gt_arg1_179432 = ((float *) mem_180809)[j_176689];
                            int8_t gt_arg0_179436 = ((int8_t *) mem_180805)[tmp_176711];
                            int64_t gt_arg0_179437 = ((int64_t *) mem_180807)[tmp_176711];
                            float gt_arg0_179438 = ((float *) mem_180809)[tmp_176711];
                            bool cond_179439 = gt_arg0_179436 == gt_arg1_179430;
                            bool defunc_0_leq_res_t_res_179440 = sle64(gt_arg0_179437, gt_arg1_179431);
                            bool defunc_0_leq_res_179441 = gt_arg0_179438 <= gt_arg1_179432;
                            bool x_179442 = cond_179439 && defunc_0_leq_res_t_res_179440;
                            bool x_179443 = !cond_179439;
                            bool y_179444 = defunc_0_leq_res_179441 && x_179443;
                            bool defunc_0_leq_res_179445 = x_179442 || y_179444;
                            bool defunc_0_lifted_gt_res_179446 = !defunc_0_leq_res_179445;
                            
                            loop_cond_176713 = defunc_0_lifted_gt_res_179446;
                        } else {
                            loop_cond_176713 = 0;
                        }
                        
                        bool loop_while_tmp_181617 = loop_cond_176713;
                        int64_t j_tmp_181621 = tmp_176711;
                        
                        loop_while_176685 = loop_while_tmp_181617;
                        j_176689 = j_tmp_181621;
                    }
                    s_176680 = loop_while_176685;
                    s_176684 = j_176689;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180786, i_179814 * block_sizze_176580, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180805, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176580});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180789, i_179814 * block_sizze_176580, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180807, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176580});
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180792, i_179814 * block_sizze_176580, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180809, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176580});
        }
        if (memblock_alloc(ctx, &mem_180886, flat_dim_176581, "mem_180886")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180886.mem, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (uint8_t *) mem_180786, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176570, block_sizze_176580});
        if (memblock_alloc(ctx, &mem_180890, bytes_180788, "mem_180890")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180890.mem, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (uint64_t *) mem_180789, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176570, block_sizze_176580});
        if (memblock_alloc(ctx, &mem_180894, bytes_180791, "mem_180894")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_180894.mem, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (uint32_t *) mem_180792, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176570, block_sizze_176580});
        
        int64_t data_176737;
        bool data_176738;
        int64_t data_176742;
        int64_t loop_dz2084Uz2082U_176743;
        bool loop_while_176744;
        int64_t stride_176748;
        
        if (memblock_set(ctx, &mem_param_180898, &mem_180886, "mem_180886") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180901, &mem_180890, "mem_180890") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180904, &mem_180894, "mem_180894") != 0)
            return 1;
        loop_dz2084Uz2082U_176743 = flat_dim_176581;
        loop_while_176744 = loop_cond_176734;
        stride_176748 = block_sizze_176580;
        while (loop_while_176744) {
            int64_t next_stride_176749 = mul64((int64_t) 2, stride_176748);
            bool zzero_176750 = next_stride_176749 == (int64_t) 0;
            bool nonzzero_176751 = !zzero_176750;
            bool nonzzero_cert_176752;
            
            if (!nonzzero_176751) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_176753 = sdiv64(flat_dim_176581, next_stride_176749);
            bool bounds_invalid_upwards_176754 = slt64(num_merges_176753, (int64_t) 0);
            bool valid_176755 = !bounds_invalid_upwards_176754;
            bool range_valid_c_176756;
            
            if (!valid_176755) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_176753, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_176758 = sub64(next_stride_176749, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_176759 = sle64((int64_t) 0, m_176758);
            bool cond_176761 = slt64(next_stride_176749, (int64_t) 10);
            bool protect_assert_disj_176762 = nonzzero_176736 || cond_176761;
            bool nonzzero_cert_176763;
            
            if (!protect_assert_disj_176762) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_176764 = smod_safe64(next_stride_176749, merge_block_sizze_176586);
            bool num_blocks_176765 = zeze_lhs_176764 == (int64_t) 0;
            bool protect_assert_disj_176766 = cond_176761 || num_blocks_176765;
            bool assert_c_176767;
            
            if (!protect_assert_disj_176766) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_176769 = sdiv_safe64(next_stride_176749, merge_block_sizze_176586);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770 = add64((int64_t) 1, num_blocks_176769);
            int64_t j_m_i_176771 = sub64(next_stride_176749, stride_176748);
            int64_t flat_dim_176772 = merge_block_sizze_176586 * num_blocks_176769;
            bool bounds_invalid_upwards_176773 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770, (int64_t) 0);
            bool empty_slice_176774 = j_m_i_176771 == (int64_t) 0;
            int64_t m_176775 = sub64(j_m_i_176771, (int64_t) 1);
            bool zzero_lte_i_176776 = sle64((int64_t) 0, stride_176748);
            bool i_lte_j_176777 = sle64(stride_176748, next_stride_176749);
            bool empty_slice_176778 = stride_176748 == (int64_t) 0;
            int64_t m_176779 = sub64(stride_176748, (int64_t) 1);
            bool bounds_invalid_upwards_176780 = slt64(num_blocks_176769, (int64_t) 0);
            bool cond_176781 = slt64((int64_t) 0, stride_176748);
            bool valid_176782 = !bounds_invalid_upwards_176773;
            int64_t i_p_m_t_s_176783 = add64(stride_176748, m_176775);
            bool zzero_leq_i_p_m_t_s_176784 = sle64((int64_t) 0, m_176779);
            bool i_p_m_t_s_leq_w_176785 = slt64(m_176779, next_stride_176749);
            bool valid_176786 = !bounds_invalid_upwards_176780;
            bool i_p_m_t_s_leq_w_176787 = slt64(m_176758, flat_dim_176772);
            bool y_176788 = slt64((int64_t) 0, j_m_i_176771);
            bool protect_assert_disj_176789 = cond_176761 || valid_176782;
            bool range_valid_c_176790;
            
            if (!protect_assert_disj_176789) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_176791 = sle64((int64_t) 0, i_p_m_t_s_176783);
            bool i_p_m_t_s_leq_w_176792 = slt64(i_p_m_t_s_176783, next_stride_176749);
            bool y_176793 = zzero_leq_i_p_m_t_s_176784 && i_p_m_t_s_leq_w_176785;
            bool protect_assert_disj_176794 = cond_176761 || valid_176786;
            bool range_valid_c_176795;
            
            if (!protect_assert_disj_176794) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_176769, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_176796 = zzero_leq_i_p_m_t_s_176759 && i_p_m_t_s_leq_w_176787;
            bool y_176797 = zzero_lte_i_176776 && i_p_m_t_s_leq_w_176792;
            bool forwards_ok_176798 = zzero_lte_i_176776 && y_176793;
            bool ok_or_empty_176799 = zzero_176750 || y_176796;
            bool protect_assert_disj_176800 = cond_176781 || y_176788;
            bool y_176801 = zzero_leq_i_p_m_t_s_176791 && y_176797;
            bool ok_or_empty_176802 = empty_slice_176778 || forwards_ok_176798;
            bool protect_assert_disj_176803 = cond_176761 || ok_or_empty_176799;
            bool index_certs_176804;
            
            if (!protect_assert_disj_176803) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176749, "] out of bounds for array of shape [", (long long) flat_dim_176772, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_176805 = !cond_176761;
            bool protect_assert_disj_176806 = protect_assert_disj_176800 || loop_not_taken_176805;
            bool index_certs_176807;
            
            if (!protect_assert_disj_176806) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_176808 = i_lte_j_176777 && y_176801;
            bool protect_assert_disj_176809 = cond_176761 || ok_or_empty_176802;
            bool index_certs_176810;
            
            if (!protect_assert_disj_176809) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176748, "] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_176811 = ok_or_empty_176802 || loop_not_taken_176805;
            bool index_certs_176812;
            
            if (!protect_assert_disj_176811) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176748, "] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_176813 = empty_slice_176774 || forwards_ok_176808;
            bool protect_assert_disj_176814 = cond_176761 || ok_or_empty_176813;
            bool index_certs_176815;
            
            if (!protect_assert_disj_176814) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176748, ":] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_176816 = loop_not_taken_176805 || ok_or_empty_176813;
            bool index_certs_176817;
            
            if (!protect_assert_disj_176816) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176748, ":] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_180905 = next_stride_176749 * num_merges_176753;
            int64_t binop_x_180907 = (int64_t) 8 * num_merges_176753;
            int64_t bytes_180908 = next_stride_176749 * binop_x_180907;
            int64_t binop_x_180910 = (int64_t) 4 * num_merges_176753;
            int64_t bytes_180911 = next_stride_176749 * binop_x_180910;
            bool i_lte_j_176760 = sle64((int64_t) 0, next_stride_176749);
            
            if (mem_180906_cached_sizze_181824 < bytes_180905) {
                err = lexical_realloc(ctx, &mem_180906, &mem_180906_cached_sizze_181824, bytes_180905);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180909_cached_sizze_181825 < bytes_180908) {
                err = lexical_realloc(ctx, &mem_180909, &mem_180909_cached_sizze_181825, bytes_180908);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180912_cached_sizze_181826 < bytes_180911) {
                err = lexical_realloc(ctx, &mem_180912, &mem_180912_cached_sizze_181826, bytes_180911);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_180925 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770;
            int64_t binop_x_180943 = (int64_t) 8 * num_blocks_176769;
            int64_t bytes_180944 = merge_block_sizze_176586 * binop_x_180943;
            int64_t binop_x_180946 = (int64_t) 4 * num_blocks_176769;
            int64_t bytes_180947 = merge_block_sizze_176586 * binop_x_180946;
            int64_t bytes_181008 = (int64_t) 16 * stride_176748;
            int64_t bytes_181010 = (int64_t) 8 * stride_176748;
            
            for (int64_t i_179841 = 0; i_179841 < num_merges_176753; i_179841++) {
                int64_t start_176822 = mul64(next_stride_176749, i_179841);
                int64_t j_m_i_176823 = sub64(loop_dz2084Uz2082U_176743, start_176822);
                bool empty_slice_176824 = j_m_i_176823 == (int64_t) 0;
                int64_t m_176825 = sub64(j_m_i_176823, (int64_t) 1);
                int64_t i_p_m_t_s_176826 = add64(start_176822, m_176825);
                bool zzero_leq_i_p_m_t_s_176827 = sle64((int64_t) 0, i_p_m_t_s_176826);
                bool i_p_m_t_s_leq_w_176828 = slt64(i_p_m_t_s_176826, loop_dz2084Uz2082U_176743);
                bool zzero_lte_i_176829 = sle64((int64_t) 0, start_176822);
                bool i_lte_j_176830 = sle64(start_176822, loop_dz2084Uz2082U_176743);
                bool y_176831 = i_p_m_t_s_leq_w_176828 && zzero_lte_i_176829;
                bool y_176832 = zzero_leq_i_p_m_t_s_176827 && y_176831;
                bool forwards_ok_176833 = i_lte_j_176830 && y_176832;
                bool ok_or_empty_176834 = empty_slice_176824 || forwards_ok_176833;
                bool index_certs_176835;
                
                if (!ok_or_empty_176834) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_176822, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_176743, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_176836 = slt64(m_176758, j_m_i_176823);
                bool y_176837 = zzero_leq_i_p_m_t_s_176759 && i_p_m_t_s_leq_w_176836;
                bool forwards_ok_176838 = i_lte_j_176760 && y_176837;
                bool ok_or_empty_176839 = zzero_176750 || forwards_ok_176838;
                bool index_certs_176840;
                
                if (!ok_or_empty_176839) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176749, "] out of bounds for array of shape [", (long long) j_m_i_176823, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_176761) {
                    int8_t dummy_179485;
                    int64_t dummy_179486;
                    float dummy_179487;
                    
                    if (cond_176781) {
                        int8_t head_res_179488 = ((int8_t *) mem_param_180898.mem)[start_176822];
                        int64_t head_res_179489 = ((int64_t *) mem_param_180901.mem)[start_176822];
                        float head_res_179490 = ((float *) mem_param_180904.mem)[start_176822];
                        
                        dummy_179485 = head_res_179488;
                        dummy_179486 = head_res_179489;
                        dummy_179487 = head_res_179490;
                    } else {
                        int64_t slice_179491 = stride_176748 + start_176822;
                        int8_t head_res_179492 = ((int8_t *) mem_param_180898.mem)[slice_179491];
                        int64_t head_res_179493 = ((int64_t *) mem_param_180901.mem)[slice_179491];
                        float head_res_179494 = ((float *) mem_param_180904.mem)[slice_179491];
                        
                        dummy_179485 = head_res_179492;
                        dummy_179486 = head_res_179493;
                        dummy_179487 = head_res_179494;
                    }
                    if (memblock_alloc(ctx, &mem_181007, next_stride_176749, "mem_181007")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181634 = 0; nest_i_181634 < next_stride_176749; nest_i_181634++) {
                        ((int8_t *) mem_181007.mem)[nest_i_181634] = dummy_179485;
                    }
                    if (memblock_alloc(ctx, &mem_181009, bytes_181008, "mem_181009")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181635 = 0; nest_i_181635 < next_stride_176749; nest_i_181635++) {
                        ((int64_t *) mem_181009.mem)[nest_i_181635] = dummy_179486;
                    }
                    if (memblock_alloc(ctx, &mem_181011, bytes_181010, "mem_181011")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181636 = 0; nest_i_181636 < next_stride_176749; nest_i_181636++) {
                        ((float *) mem_181011.mem)[nest_i_181636] = dummy_179487;
                    }
                    
                    int64_t data_179498;
                    int64_t i_179503 = (int64_t) 0;
                    
                    for (int64_t k_179502 = 0; k_179502 < next_stride_176749; k_179502++) {
                        int64_t j_179507 = sub64(k_179502, i_179503);
                        bool cond_179508 = j_179507 == j_m_i_176771;
                        bool cond_179509;
                        
                        if (cond_179508) {
                            cond_179509 = 1;
                        } else {
                            bool cond_179510 = slt64(i_179503, stride_176748);
                            bool cond_f_res_179511;
                            
                            if (cond_179510) {
                                bool x_179512 = sle64((int64_t) 0, j_179507);
                                bool y_179513 = slt64(j_179507, j_m_i_176771);
                                bool bounds_check_179514 = x_179512 && y_179513;
                                bool index_certs_179515;
                                
                                if (!bounds_check_179514) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179507, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179521 = sle64((int64_t) 0, i_179503);
                                bool bounds_check_179522 = cond_179510 && x_179521;
                                bool index_certs_179523;
                                
                                if (!bounds_check_179522) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179503, "] out of bounds for array of shape [", (long long) stride_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_179516 = stride_176748 + j_179507;
                                int64_t slice_179517 = start_176822 + slice_179516;
                                int8_t leq_arg1_179518 = ((int8_t *) mem_param_180898.mem)[slice_179517];
                                int64_t leq_arg1_179519 = ((int64_t *) mem_param_180901.mem)[slice_179517];
                                float leq_arg1_179520 = ((float *) mem_param_180904.mem)[slice_179517];
                                int64_t slice_179524 = start_176822 + i_179503;
                                int8_t leq_arg0_179525 = ((int8_t *) mem_param_180898.mem)[slice_179524];
                                int64_t leq_arg0_179526 = ((int64_t *) mem_param_180901.mem)[slice_179524];
                                float leq_arg0_179527 = ((float *) mem_param_180904.mem)[slice_179524];
                                bool cond_179528 = leq_arg0_179525 == leq_arg1_179518;
                                bool defunc_0_leq_res_t_res_179529 = sle64(leq_arg0_179526, leq_arg1_179519);
                                bool defunc_0_leq_res_179530 = leq_arg0_179527 <= leq_arg1_179520;
                                bool x_179531 = cond_179528 && defunc_0_leq_res_t_res_179529;
                                bool x_179532 = !cond_179528;
                                bool y_179533 = defunc_0_leq_res_179530 && x_179532;
                                bool defunc_0_leq_res_179534 = x_179531 || y_179533;
                                
                                cond_f_res_179511 = defunc_0_leq_res_179534;
                            } else {
                                cond_f_res_179511 = 0;
                            }
                            cond_179509 = cond_f_res_179511;
                        }
                        
                        int64_t loopres_179535;
                        int8_t loopres_179536;
                        int64_t loopres_179537;
                        float loopres_179538;
                        
                        if (cond_179509) {
                            bool x_179540 = sle64((int64_t) 0, i_179503);
                            bool y_179541 = slt64(i_179503, stride_176748);
                            bool bounds_check_179542 = x_179540 && y_179541;
                            bool index_certs_179543;
                            
                            if (!bounds_check_179542) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179503, "] out of bounds for array of shape [", (long long) stride_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_179539 = add64((int64_t) 1, i_179503);
                            int64_t slice_179544 = start_176822 + i_179503;
                            int8_t tmp_179545 = ((int8_t *) mem_param_180898.mem)[slice_179544];
                            int64_t tmp_179546 = ((int64_t *) mem_param_180901.mem)[slice_179544];
                            float tmp_179547 = ((float *) mem_param_180904.mem)[slice_179544];
                            
                            loopres_179535 = tmp_179539;
                            loopres_179536 = tmp_179545;
                            loopres_179537 = tmp_179546;
                            loopres_179538 = tmp_179547;
                        } else {
                            bool x_179548 = sle64((int64_t) 0, j_179507);
                            bool y_179549 = slt64(j_179507, j_m_i_176771);
                            bool bounds_check_179550 = x_179548 && y_179549;
                            bool index_certs_179551;
                            
                            if (!bounds_check_179550) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179507, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_179552 = stride_176748 + j_179507;
                            int64_t slice_179553 = start_176822 + slice_179552;
                            int8_t tmp_179554 = ((int8_t *) mem_param_180898.mem)[slice_179553];
                            int64_t tmp_179555 = ((int64_t *) mem_param_180901.mem)[slice_179553];
                            float tmp_179556 = ((float *) mem_param_180904.mem)[slice_179553];
                            
                            loopres_179535 = i_179503;
                            loopres_179536 = tmp_179554;
                            loopres_179537 = tmp_179555;
                            loopres_179538 = tmp_179556;
                        }
                        ((int8_t *) mem_181007.mem)[k_179502] = loopres_179536;
                        ((int64_t *) mem_181009.mem)[k_179502] = loopres_179537;
                        ((float *) mem_181011.mem)[k_179502] = loopres_179538;
                        
                        int64_t i_tmp_181637 = loopres_179535;
                        
                        i_179503 = i_tmp_181637;
                    }
                    data_179498 = i_179503;
                    if (memblock_set(ctx, &ext_mem_181038, &mem_181007, "mem_181007") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181035, &mem_181009, "mem_181009") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181032, &mem_181011, "mem_181011") != 0)
                        return 1;
                } else {
                    if (mem_180926_cached_sizze_181827 < bytes_180925) {
                        err = lexical_realloc(ctx, &mem_180926, &mem_180926_cached_sizze_181827, bytes_180925);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180928_cached_sizze_181828 < bytes_180925) {
                        err = lexical_realloc(ctx, &mem_180928, &mem_180928_cached_sizze_181828, bytes_180925);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179822 = 0; i_179822 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770; i_179822++) {
                        int64_t split_count_arg3_176923 = mul64(merge_block_sizze_176586, i_179822);
                        int64_t defunc_0_split_count_res_176924;
                        int64_t defunc_0_split_count_res_176925;
                        int64_t defunc_0_split_count_res_176926;
                        int64_t defunc_0_split_count_res_176927;
                        int64_t defunc_0_split_count_res_176928;
                        
                        if (futrts_lifted_normalizze_8970(ctx, &defunc_0_split_count_res_176924, &defunc_0_split_count_res_176925, &defunc_0_split_count_res_176926, &defunc_0_split_count_res_176927, &defunc_0_split_count_res_176928, (int64_t) 0, stride_176748, (int64_t) 0, j_m_i_176771, split_count_arg3_176923) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_176929 = slt64((int64_t) 0, defunc_0_split_count_res_176928);
                        bool defunc_0_split_count_res_176930;
                        int64_t defunc_0_split_count_res_176931;
                        int64_t defunc_0_split_count_res_176932;
                        int64_t defunc_0_split_count_res_176933;
                        int64_t defunc_0_split_count_res_176934;
                        int64_t defunc_0_split_count_res_176935;
                        bool loop_while_176936;
                        int64_t ss_176937;
                        int64_t ss_176938;
                        int64_t tt_176939;
                        int64_t tt_176940;
                        int64_t count_176941;
                        
                        loop_while_176936 = loop_cond_176929;
                        ss_176937 = defunc_0_split_count_res_176924;
                        ss_176938 = defunc_0_split_count_res_176925;
                        tt_176939 = defunc_0_split_count_res_176926;
                        tt_176940 = defunc_0_split_count_res_176927;
                        count_176941 = defunc_0_split_count_res_176928;
                        while (loop_while_176936) {
                            int64_t zlze_lhs_176942 = sub64(ss_176938, ss_176937);
                            bool cond_176943 = sle64(zlze_lhs_176942, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_176944;
                            int64_t defunc_0_lifted_step_res_176945;
                            int64_t defunc_0_lifted_step_res_176946;
                            int64_t defunc_0_lifted_step_res_176947;
                            
                            if (cond_176943) {
                                int64_t tmp_179560 = add64(tt_176939, count_176941);
                                
                                defunc_0_lifted_step_res_176944 = ss_176937;
                                defunc_0_lifted_step_res_176945 = tmp_179560;
                                defunc_0_lifted_step_res_176946 = tt_176940;
                                defunc_0_lifted_step_res_176947 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_176949 = sub64(tt_176940, tt_176939);
                                bool cond_176950 = sle64(zlze_lhs_176949, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_176951;
                                int64_t defunc_0_lifted_step_res_f_res_176952;
                                int64_t defunc_0_lifted_step_res_f_res_176953;
                                int64_t defunc_0_lifted_step_res_f_res_176954;
                                
                                if (cond_176950) {
                                    int64_t tmp_179561 = add64(ss_176937, count_176941);
                                    
                                    defunc_0_lifted_step_res_f_res_176951 = tmp_179561;
                                    defunc_0_lifted_step_res_f_res_176952 = tt_176939;
                                    defunc_0_lifted_step_res_f_res_176953 = tt_176940;
                                    defunc_0_lifted_step_res_f_res_176954 = (int64_t) 0;
                                } else {
                                    bool cond_176956 = count_176941 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_176957;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_176958;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_176959;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_176960;
                                    
                                    if (cond_176956) {
                                        bool x_179563 = sle64((int64_t) 0, ss_176937);
                                        bool y_179564 = slt64(ss_176937, stride_176748);
                                        bool bounds_check_179565 = x_179563 && y_179564;
                                        bool index_certs_179566;
                                        
                                        if (!bounds_check_179565) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_176937, "] out of bounds for array of shape [", (long long) stride_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179571 = sle64((int64_t) 0, tt_176939);
                                        bool y_179572 = slt64(tt_176939, j_m_i_176771);
                                        bool bounds_check_179573 = x_179571 && y_179572;
                                        bool index_certs_179574;
                                        
                                        if (!bounds_check_179573) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_176939, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179567 = start_176822 + ss_176937;
                                        int8_t leq_arg1_179568 = ((int8_t *) mem_param_180898.mem)[slice_179567];
                                        int64_t leq_arg1_179569 = ((int64_t *) mem_param_180901.mem)[slice_179567];
                                        float leq_arg1_179570 = ((float *) mem_param_180904.mem)[slice_179567];
                                        int64_t slice_179575 = stride_176748 + tt_176939;
                                        int64_t slice_179576 = start_176822 + slice_179575;
                                        int8_t leq_arg0_179577 = ((int8_t *) mem_param_180898.mem)[slice_179576];
                                        int64_t leq_arg0_179578 = ((int64_t *) mem_param_180901.mem)[slice_179576];
                                        float leq_arg0_179579 = ((float *) mem_param_180904.mem)[slice_179576];
                                        bool cond_179580 = leq_arg0_179577 == leq_arg1_179568;
                                        bool defunc_0_leq_res_t_res_179581 = sle64(leq_arg0_179578, leq_arg1_179569);
                                        bool defunc_0_leq_res_179582 = leq_arg0_179579 <= leq_arg1_179570;
                                        bool x_179583 = cond_179580 && defunc_0_leq_res_t_res_179581;
                                        bool x_179584 = !cond_179580;
                                        bool y_179585 = defunc_0_leq_res_179582 && x_179584;
                                        bool defunc_0_leq_res_179586 = x_179583 || y_179585;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179587;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179588;
                                        
                                        if (defunc_0_leq_res_179586) {
                                            int64_t tmp_179589 = add64((int64_t) 1, tt_176939);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179587 = ss_176937;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179588 = tmp_179589;
                                        } else {
                                            int64_t tmp_179590 = add64((int64_t) 1, ss_176937);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179587 = tmp_179590;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179588 = tt_176939;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_176957 = defunc_0_lifted_step_res_f_res_f_res_t_res_179587;
                                        defunc_0_lifted_step_res_f_res_f_res_176958 = defunc_0_lifted_step_res_f_res_f_res_t_res_179588;
                                        defunc_0_lifted_step_res_f_res_f_res_176959 = tt_176940;
                                        defunc_0_lifted_step_res_f_res_f_res_176960 = (int64_t) 0;
                                    } else {
                                        int64_t m_176989 = sdiv64(count_176941, (int64_t) 2);
                                        int64_t n_176990 = sub64(count_176941, m_176989);
                                        bool cond_176991 = n_176990 == (int64_t) 0;
                                        int64_t zgze_lhs_176992 = add64(ss_176937, m_176989);
                                        bool cond_f_res_176993 = sle64(ss_176938, zgze_lhs_176992);
                                        bool x_176994 = !cond_176991;
                                        bool y_176995 = cond_f_res_176993 && x_176994;
                                        bool cond_176996 = cond_176991 || y_176995;
                                        bool leq_y_x_176997;
                                        
                                        if (cond_176996) {
                                            leq_y_x_176997 = 1;
                                        } else {
                                            bool x_176998 = sle64((int64_t) 0, zgze_lhs_176992);
                                            bool y_176999 = slt64(zgze_lhs_176992, stride_176748);
                                            bool bounds_check_177000 = x_176998 && y_176999;
                                            bool index_certs_177001;
                                            
                                            if (!bounds_check_177000) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_176992, "] out of bounds for array of shape [", (long long) stride_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_177006 = add64(tt_176939, n_176990);
                                            int64_t leq_arg0_177007 = sub64(zm_lhs_177006, (int64_t) 1);
                                            bool x_177008 = sle64((int64_t) 0, leq_arg0_177007);
                                            bool y_177009 = slt64(leq_arg0_177007, j_m_i_176771);
                                            bool bounds_check_177010 = x_177008 && y_177009;
                                            bool index_certs_177011;
                                            
                                            if (!bounds_check_177010) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177007, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177002 = start_176822 + zgze_lhs_176992;
                                            int8_t leq_arg1_177003 = ((int8_t *) mem_param_180898.mem)[slice_177002];
                                            int64_t leq_arg1_177004 = ((int64_t *) mem_param_180901.mem)[slice_177002];
                                            float leq_arg1_177005 = ((float *) mem_param_180904.mem)[slice_177002];
                                            int64_t slice_177012 = stride_176748 + leq_arg0_177007;
                                            int64_t slice_177013 = start_176822 + slice_177012;
                                            int8_t leq_arg0_177014 = ((int8_t *) mem_param_180898.mem)[slice_177013];
                                            int64_t leq_arg0_177015 = ((int64_t *) mem_param_180901.mem)[slice_177013];
                                            float leq_arg0_177016 = ((float *) mem_param_180904.mem)[slice_177013];
                                            bool cond_177017 = leq_arg0_177014 == leq_arg1_177003;
                                            bool defunc_0_leq_res_t_res_177018 = sle64(leq_arg0_177015, leq_arg1_177004);
                                            bool defunc_0_leq_res_177019 = leq_arg0_177016 <= leq_arg1_177005;
                                            bool x_177020 = cond_177017 && defunc_0_leq_res_t_res_177018;
                                            bool x_177021 = !cond_177017;
                                            bool y_177022 = defunc_0_leq_res_177019 && x_177021;
                                            bool defunc_0_leq_res_177023 = x_177020 || y_177022;
                                            
                                            leq_y_x_176997 = defunc_0_leq_res_177023;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177024;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177025;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177026;
                                        
                                        if (leq_y_x_176997) {
                                            int64_t tmp_179591 = add64(tt_176939, n_176990);
                                            int64_t tmp_179592 = sub64(count_176941, n_176990);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177024 = tmp_179591;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177025 = tt_176940;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177026 = tmp_179592;
                                        } else {
                                            int64_t tmp_177029 = add64(tt_176939, n_176990);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177024 = tt_176939;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177025 = tmp_177029;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177026 = count_176941;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_176957 = ss_176937;
                                        defunc_0_lifted_step_res_f_res_f_res_176958 = defunc_0_lifted_step_res_f_res_f_res_f_res_177024;
                                        defunc_0_lifted_step_res_f_res_f_res_176959 = defunc_0_lifted_step_res_f_res_f_res_f_res_177025;
                                        defunc_0_lifted_step_res_f_res_f_res_176960 = defunc_0_lifted_step_res_f_res_f_res_f_res_177026;
                                    }
                                    defunc_0_lifted_step_res_f_res_176951 = defunc_0_lifted_step_res_f_res_f_res_176957;
                                    defunc_0_lifted_step_res_f_res_176952 = defunc_0_lifted_step_res_f_res_f_res_176958;
                                    defunc_0_lifted_step_res_f_res_176953 = defunc_0_lifted_step_res_f_res_f_res_176959;
                                    defunc_0_lifted_step_res_f_res_176954 = defunc_0_lifted_step_res_f_res_f_res_176960;
                                }
                                defunc_0_lifted_step_res_176944 = defunc_0_lifted_step_res_f_res_176951;
                                defunc_0_lifted_step_res_176945 = defunc_0_lifted_step_res_f_res_176952;
                                defunc_0_lifted_step_res_176946 = defunc_0_lifted_step_res_f_res_176953;
                                defunc_0_lifted_step_res_176947 = defunc_0_lifted_step_res_f_res_176954;
                            }
                            
                            int64_t loopres_177030;
                            int64_t loopres_177031;
                            int64_t loopres_177032;
                            int64_t loopres_177033;
                            int64_t loopres_177034;
                            
                            if (futrts_lifted_normalizze_8970(ctx, &loopres_177030, &loopres_177031, &loopres_177032, &loopres_177033, &loopres_177034, defunc_0_lifted_step_res_176944, ss_176938, defunc_0_lifted_step_res_176945, defunc_0_lifted_step_res_176946, defunc_0_lifted_step_res_176947) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_177035 = slt64((int64_t) 0, loopres_177034);
                            bool loop_while_tmp_181643 = loop_cond_177035;
                            int64_t ss_tmp_181644 = loopres_177030;
                            int64_t ss_tmp_181645 = loopres_177031;
                            int64_t tt_tmp_181646 = loopres_177032;
                            int64_t tt_tmp_181647 = loopres_177033;
                            int64_t count_tmp_181648 = loopres_177034;
                            
                            loop_while_176936 = loop_while_tmp_181643;
                            ss_176937 = ss_tmp_181644;
                            ss_176938 = ss_tmp_181645;
                            tt_176939 = tt_tmp_181646;
                            tt_176940 = tt_tmp_181647;
                            count_176941 = count_tmp_181648;
                        }
                        defunc_0_split_count_res_176930 = loop_while_176936;
                        defunc_0_split_count_res_176931 = ss_176937;
                        defunc_0_split_count_res_176932 = ss_176938;
                        defunc_0_split_count_res_176933 = tt_176939;
                        defunc_0_split_count_res_176934 = tt_176940;
                        defunc_0_split_count_res_176935 = count_176941;
                        ((int64_t *) mem_180926)[i_179822] = defunc_0_split_count_res_176931;
                        ((int64_t *) mem_180928)[i_179822] = defunc_0_split_count_res_176933;
                    }
                    if (mem_180942_cached_sizze_181829 < flat_dim_176772) {
                        err = lexical_realloc(ctx, &mem_180942, &mem_180942_cached_sizze_181829, flat_dim_176772);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180945_cached_sizze_181830 < bytes_180944) {
                        err = lexical_realloc(ctx, &mem_180945, &mem_180945_cached_sizze_181830, bytes_180944);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180948_cached_sizze_181831 < bytes_180947) {
                        err = lexical_realloc(ctx, &mem_180948, &mem_180948_cached_sizze_181831, bytes_180947);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179831 = 0; i_179831 < num_blocks_176769; i_179831++) {
                        bool y_177042 = slt64(i_179831, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770);
                        bool index_certs_177044;
                        
                        if (!y_177042) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179831, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177045 = ((int64_t *) mem_180926)[i_179831];
                        int64_t defunc_0_f_res_177046 = ((int64_t *) mem_180928)[i_179831];
                        int64_t tmp_177047 = add64((int64_t) 1, i_179831);
                        bool x_177048 = sle64((int64_t) 0, tmp_177047);
                        bool y_177049 = slt64(tmp_177047, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770);
                        bool bounds_check_177050 = x_177048 && y_177049;
                        bool index_certs_177051;
                        
                        if (!bounds_check_177050) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177047, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177052 = ((int64_t *) mem_180926)[tmp_177047];
                        int64_t defunc_0_f_res_177053 = ((int64_t *) mem_180928)[tmp_177047];
                        int64_t merge_sequential_arg2_177054 = add64(stride_176748, defunc_0_f_res_177046);
                        int64_t merge_sequential_arg2_177055 = add64(stride_176748, defunc_0_f_res_177053);
                        int64_t j_m_i_177056 = sub64(merge_sequential_arg2_177055, merge_sequential_arg2_177054);
                        bool empty_slice_177057 = j_m_i_177056 == (int64_t) 0;
                        int64_t m_177058 = sub64(j_m_i_177056, (int64_t) 1);
                        int64_t i_p_m_t_s_177059 = add64(merge_sequential_arg2_177054, m_177058);
                        bool zzero_leq_i_p_m_t_s_177060 = sle64((int64_t) 0, i_p_m_t_s_177059);
                        bool i_p_m_t_s_leq_w_177061 = slt64(i_p_m_t_s_177059, next_stride_176749);
                        bool zzero_lte_i_177062 = sle64((int64_t) 0, merge_sequential_arg2_177054);
                        bool i_lte_j_177063 = sle64(merge_sequential_arg2_177054, merge_sequential_arg2_177055);
                        bool y_177064 = i_p_m_t_s_leq_w_177061 && zzero_lte_i_177062;
                        bool y_177065 = zzero_leq_i_p_m_t_s_177060 && y_177064;
                        bool forwards_ok_177066 = i_lte_j_177063 && y_177065;
                        bool ok_or_empty_177067 = empty_slice_177057 || forwards_ok_177066;
                        bool index_certs_177068;
                        
                        if (!ok_or_empty_177067) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177054, ":", (long long) merge_sequential_arg2_177055, "] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_177069 = sub64(defunc_0_f_res_177052, defunc_0_f_res_177045);
                        bool empty_slice_177070 = j_m_i_177069 == (int64_t) 0;
                        int64_t m_177071 = sub64(j_m_i_177069, (int64_t) 1);
                        int64_t i_p_m_t_s_177072 = add64(defunc_0_f_res_177045, m_177071);
                        bool zzero_leq_i_p_m_t_s_177073 = sle64((int64_t) 0, i_p_m_t_s_177072);
                        bool i_p_m_t_s_leq_w_177074 = slt64(i_p_m_t_s_177072, next_stride_176749);
                        bool zzero_lte_i_177075 = sle64((int64_t) 0, defunc_0_f_res_177045);
                        bool i_lte_j_177076 = sle64(defunc_0_f_res_177045, defunc_0_f_res_177052);
                        bool y_177077 = i_p_m_t_s_leq_w_177074 && zzero_lte_i_177075;
                        bool y_177078 = zzero_leq_i_p_m_t_s_177073 && y_177077;
                        bool forwards_ok_177079 = i_lte_j_177076 && y_177078;
                        bool ok_or_empty_177080 = empty_slice_177070 || forwards_ok_177079;
                        bool index_certs_177081;
                        
                        if (!ok_or_empty_177080) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177045, ":", (long long) defunc_0_f_res_177052, "] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_177082 = slt64((int64_t) 0, j_m_i_177069);
                        int8_t dummy_177083;
                        int64_t dummy_177084;
                        float dummy_177085;
                        
                        if (cond_177082) {
                            bool index_certs_179593;
                            
                            if (!cond_177082) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177069, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_179594 = start_176822 + defunc_0_f_res_177045;
                            int8_t head_res_179595 = ((int8_t *) mem_param_180898.mem)[slice_179594];
                            int64_t head_res_179596 = ((int64_t *) mem_param_180901.mem)[slice_179594];
                            float head_res_179597 = ((float *) mem_param_180904.mem)[slice_179594];
                            
                            dummy_177083 = head_res_179595;
                            dummy_177084 = head_res_179596;
                            dummy_177085 = head_res_179597;
                        } else {
                            bool y_177091 = slt64((int64_t) 0, j_m_i_177056);
                            bool index_certs_177092;
                            
                            if (!y_177091) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177056, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177093 = start_176822 + merge_sequential_arg2_177054;
                            int8_t head_res_177094 = ((int8_t *) mem_param_180898.mem)[slice_177093];
                            int64_t head_res_177095 = ((int64_t *) mem_param_180901.mem)[slice_177093];
                            float head_res_177096 = ((float *) mem_param_180904.mem)[slice_177093];
                            
                            dummy_177083 = head_res_177094;
                            dummy_177084 = head_res_177095;
                            dummy_177085 = head_res_177096;
                        }
                        for (int64_t nest_i_181652 = 0; nest_i_181652 < merge_block_sizze_176586; nest_i_181652++) {
                            ((int8_t *) mem_180942)[i_179831 * merge_block_sizze_176586 + nest_i_181652] = dummy_177083;
                        }
                        for (int64_t nest_i_181653 = 0; nest_i_181653 < merge_block_sizze_176586; nest_i_181653++) {
                            ((int64_t *) mem_180945)[i_179831 * merge_block_sizze_176586 + nest_i_181653] = dummy_177084;
                        }
                        for (int64_t nest_i_181654 = 0; nest_i_181654 < merge_block_sizze_176586; nest_i_181654++) {
                            ((float *) mem_180948)[i_179831 * merge_block_sizze_176586 + nest_i_181654] = dummy_177085;
                        }
                        
                        int64_t data_177100;
                        int64_t i_177105 = (int64_t) 0;
                        
                        for (int64_t k_177104 = 0; k_177104 < merge_block_sizze_176586; k_177104++) {
                            int64_t j_177109 = sub64(k_177104, i_177105);
                            bool cond_177110 = j_177109 == j_m_i_177056;
                            bool cond_177111;
                            
                            if (cond_177110) {
                                cond_177111 = 1;
                            } else {
                                bool cond_177112 = slt64(i_177105, j_m_i_177069);
                                bool cond_f_res_177113;
                                
                                if (cond_177112) {
                                    bool x_179598 = sle64((int64_t) 0, j_177109);
                                    bool y_179599 = slt64(j_177109, j_m_i_177056);
                                    bool bounds_check_179600 = x_179598 && y_179599;
                                    bool index_certs_179601;
                                    
                                    if (!bounds_check_179600) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177109, "] out of bounds for array of shape [", (long long) j_m_i_177056, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_179607 = sle64((int64_t) 0, i_177105);
                                    bool bounds_check_179608 = cond_177112 && x_179607;
                                    bool index_certs_179609;
                                    
                                    if (!bounds_check_179608) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177105, "] out of bounds for array of shape [", (long long) j_m_i_177069, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179602 = merge_sequential_arg2_177054 + j_177109;
                                    int64_t slice_179603 = start_176822 + slice_179602;
                                    int8_t leq_arg1_179604 = ((int8_t *) mem_param_180898.mem)[slice_179603];
                                    int64_t leq_arg1_179605 = ((int64_t *) mem_param_180901.mem)[slice_179603];
                                    float leq_arg1_179606 = ((float *) mem_param_180904.mem)[slice_179603];
                                    int64_t slice_179610 = defunc_0_f_res_177045 + i_177105;
                                    int64_t slice_179611 = start_176822 + slice_179610;
                                    int8_t leq_arg0_179612 = ((int8_t *) mem_param_180898.mem)[slice_179611];
                                    int64_t leq_arg0_179613 = ((int64_t *) mem_param_180901.mem)[slice_179611];
                                    float leq_arg0_179614 = ((float *) mem_param_180904.mem)[slice_179611];
                                    bool cond_179615 = leq_arg0_179612 == leq_arg1_179604;
                                    bool defunc_0_leq_res_t_res_179616 = sle64(leq_arg0_179613, leq_arg1_179605);
                                    bool defunc_0_leq_res_179617 = leq_arg0_179614 <= leq_arg1_179606;
                                    bool x_179618 = cond_179615 && defunc_0_leq_res_t_res_179616;
                                    bool x_179619 = !cond_179615;
                                    bool y_179620 = defunc_0_leq_res_179617 && x_179619;
                                    bool defunc_0_leq_res_179621 = x_179618 || y_179620;
                                    
                                    cond_f_res_177113 = defunc_0_leq_res_179621;
                                } else {
                                    cond_f_res_177113 = 0;
                                }
                                cond_177111 = cond_f_res_177113;
                            }
                            
                            int64_t loopres_177138;
                            int8_t loopres_177139;
                            int64_t loopres_177140;
                            float loopres_177141;
                            
                            if (cond_177111) {
                                bool x_179623 = sle64((int64_t) 0, i_177105);
                                bool y_179624 = slt64(i_177105, j_m_i_177069);
                                bool bounds_check_179625 = x_179623 && y_179624;
                                bool index_certs_179626;
                                
                                if (!bounds_check_179625) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177105, "] out of bounds for array of shape [", (long long) j_m_i_177069, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_179622 = add64((int64_t) 1, i_177105);
                                int64_t slice_179627 = defunc_0_f_res_177045 + i_177105;
                                int64_t slice_179628 = start_176822 + slice_179627;
                                int8_t tmp_179629 = ((int8_t *) mem_param_180898.mem)[slice_179628];
                                int64_t tmp_179630 = ((int64_t *) mem_param_180901.mem)[slice_179628];
                                float tmp_179631 = ((float *) mem_param_180904.mem)[slice_179628];
                                
                                loopres_177138 = tmp_179622;
                                loopres_177139 = tmp_179629;
                                loopres_177140 = tmp_179630;
                                loopres_177141 = tmp_179631;
                            } else {
                                bool x_177152 = sle64((int64_t) 0, j_177109);
                                bool y_177153 = slt64(j_177109, j_m_i_177056);
                                bool bounds_check_177154 = x_177152 && y_177153;
                                bool index_certs_177155;
                                
                                if (!bounds_check_177154) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177109, "] out of bounds for array of shape [", (long long) j_m_i_177056, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177156 = merge_sequential_arg2_177054 + j_177109;
                                int64_t slice_177157 = start_176822 + slice_177156;
                                int8_t tmp_177158 = ((int8_t *) mem_param_180898.mem)[slice_177157];
                                int64_t tmp_177159 = ((int64_t *) mem_param_180901.mem)[slice_177157];
                                float tmp_177160 = ((float *) mem_param_180904.mem)[slice_177157];
                                
                                loopres_177138 = i_177105;
                                loopres_177139 = tmp_177158;
                                loopres_177140 = tmp_177159;
                                loopres_177141 = tmp_177160;
                            }
                            ((int8_t *) mem_180942)[i_179831 * merge_block_sizze_176586 + k_177104] = loopres_177139;
                            ((int64_t *) mem_180945)[i_179831 * merge_block_sizze_176586 + k_177104] = loopres_177140;
                            ((float *) mem_180948)[i_179831 * merge_block_sizze_176586 + k_177104] = loopres_177141;
                            
                            int64_t i_tmp_181655 = loopres_177138;
                            
                            i_177105 = i_tmp_181655;
                        }
                        data_177100 = i_177105;
                    }
                    if (memblock_alloc(ctx, &mem_180997, flat_dim_176772, "mem_180997")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180997.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (uint8_t *) mem_180942, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (int64_t []) {num_blocks_176769, merge_block_sizze_176586});
                    if (memblock_alloc(ctx, &mem_181001, bytes_180944, "mem_181001")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181001.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (uint64_t *) mem_180945, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (int64_t []) {num_blocks_176769, merge_block_sizze_176586});
                    if (memblock_alloc(ctx, &mem_181005, bytes_180947, "mem_181005")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181005.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (uint32_t *) mem_180948, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (int64_t []) {num_blocks_176769, merge_block_sizze_176586});
                    if (memblock_set(ctx, &ext_mem_181038, &mem_180997, "mem_180997") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181035, &mem_181001, "mem_181001") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181032, &mem_181005, "mem_181005") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180906, i_179841 * next_stride_176749, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181038.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176749});
                if (memblock_unref(ctx, &ext_mem_181038, "ext_mem_181038") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180909, i_179841 * next_stride_176749, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181035.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176749});
                if (memblock_unref(ctx, &ext_mem_181035, "ext_mem_181035") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180912, i_179841 * next_stride_176749, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181032.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176749});
                if (memblock_unref(ctx, &ext_mem_181032, "ext_mem_181032") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_181052, bytes_180905, "mem_181052")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_181052.mem, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (uint8_t *) mem_180906, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (int64_t []) {num_merges_176753, next_stride_176749});
            if (memblock_alloc(ctx, &mem_181056, bytes_180908, "mem_181056")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181056.mem, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (uint64_t *) mem_180909, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (int64_t []) {num_merges_176753, next_stride_176749});
            if (memblock_alloc(ctx, &mem_181060, bytes_180911, "mem_181060")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_181060.mem, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (uint32_t *) mem_180912, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (int64_t []) {num_merges_176753, next_stride_176749});
            
            bool loop_cond_177174 = slt64(next_stride_176749, flat_dim_176581);
            
            if (memblock_set(ctx, &mem_param_tmp_181622, &mem_181052, "mem_181052") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181623, &mem_181056, "mem_181056") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181624, &mem_181060, "mem_181060") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_181625 = bytes_180905;
            bool loop_while_tmp_181626 = loop_cond_177174;
            int64_t stride_tmp_181630 = next_stride_176749;
            
            if (memblock_set(ctx, &mem_param_180898, &mem_param_tmp_181622, "mem_param_tmp_181622") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180901, &mem_param_tmp_181623, "mem_param_tmp_181623") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180904, &mem_param_tmp_181624, "mem_param_tmp_181624") != 0)
                return 1;
            loop_dz2084Uz2082U_176743 = loop_dz2084Uz2082U_tmp_181625;
            loop_while_176744 = loop_while_tmp_181626;
            stride_176748 = stride_tmp_181630;
        }
        if (memblock_set(ctx, &ext_mem_181070, &mem_param_180898, "mem_param_180898") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181069, &mem_param_180901, "mem_param_180901") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181068, &mem_param_180904, "mem_param_180904") != 0)
            return 1;
        data_176737 = loop_dz2084Uz2082U_176743;
        data_176738 = loop_while_176744;
        data_176742 = stride_176748;
        if (memblock_unref(ctx, &mem_180886, "mem_180886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180890, "mem_180890") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180894, "mem_180894") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_177177 = slt64(zs_lhs_176565, data_176737);
        bool y_177178 = i_p_m_t_s_leq_w_177177 && zzero_leq_i_p_m_t_s_177191;
        bool ok_or_empty_177179 = y_177178 || empty_slice_177189;
        bool index_certs_177180;
        
        if (!ok_or_empty_177179) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "] out of bounds for array of shape [", (long long) data_176737, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181079, &ext_mem_181070, "ext_mem_181070") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181076, &ext_mem_181069, "ext_mem_181069") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181073, &ext_mem_181068, "ext_mem_181068") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_180780, "mem_180780") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_180782, "mem_180782") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_180784, "mem_180784") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_179988.mem, final_buffer_177196, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181079.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177197});
    if (memblock_unref(ctx, &ext_mem_181079, "ext_mem_181079") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_179990.mem, final_buffer_177196, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181076.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177197});
    if (memblock_unref(ctx, &ext_mem_181076, "ext_mem_181076") != 0)
        return 1;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_179992.mem, final_buffer_177196, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181073.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177197});
    if (memblock_unref(ctx, &ext_mem_181073, "ext_mem_181073") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181400, &mem_179990, "mem_179990") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181401, &mem_179988, "mem_179988") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181402, &mem_179992, "mem_179992") != 0)
        return 1;
    prim_out_181403 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475;
    if (memblock_set(ctx, &*mem_out_p_181778, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181779, &mem_out_181401, "mem_out_181401") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181780, &mem_out_181402, "mem_out_181402") != 0)
        return 1;
    *out_prim_out_181781 = prim_out_181403;
    
  cleanup:
    {
        free(mem_180003);
        free(mem_180005);
        free(mem_180044);
        free(mem_180047);
        free(mem_180050);
        free(mem_180063);
        free(mem_180065);
        free(mem_180067);
        free(mem_180164);
        free(mem_180167);
        free(mem_180170);
        free(mem_180184);
        free(mem_180186);
        free(mem_180200);
        free(mem_180203);
        free(mem_180206);
        free(mem_180348);
        free(mem_180350);
        free(mem_180365);
        free(mem_180367);
        free(mem_180370);
        free(mem_180373);
        free(mem_180407);
        free(mem_180410);
        free(mem_180413);
        free(mem_180426);
        free(mem_180428);
        free(mem_180430);
        free(mem_180527);
        free(mem_180530);
        free(mem_180533);
        free(mem_180547);
        free(mem_180549);
        free(mem_180563);
        free(mem_180566);
        free(mem_180569);
        free(mem_180786);
        free(mem_180789);
        free(mem_180792);
        free(mem_180805);
        free(mem_180807);
        free(mem_180809);
        free(mem_180906);
        free(mem_180909);
        free(mem_180912);
        free(mem_180926);
        free(mem_180928);
        free(mem_180942);
        free(mem_180945);
        free(mem_180948);
        if (memblock_unref(ctx, &mem_param_tmp_181624, "mem_param_tmp_181624") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181623, "mem_param_tmp_181623") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181622, "mem_param_tmp_181622") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181060, "mem_181060") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181056, "mem_181056") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181052, "mem_181052") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181005, "mem_181005") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181001, "mem_181001") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180997, "mem_180997") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181011, "mem_181011") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181009, "mem_181009") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181007, "mem_181007") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181032, "ext_mem_181032") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181035, "ext_mem_181035") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181038, "ext_mem_181038") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180904, "mem_param_180904") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180901, "mem_param_180901") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180898, "mem_param_180898") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181068, "ext_mem_181068") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181069, "ext_mem_181069") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181070, "ext_mem_181070") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180894, "mem_180894") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180890, "mem_180890") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180886, "mem_180886") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181073, "ext_mem_181073") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181076, "ext_mem_181076") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181079, "ext_mem_181079") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180784, "mem_180784") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180782, "mem_180782") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180780, "mem_180780") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181558, "mem_param_tmp_181558") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181557, "mem_param_tmp_181557") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181556, "mem_param_tmp_181556") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180318, "mem_180318") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180314, "mem_180314") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180310, "mem_180310") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180263, "mem_180263") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180259, "mem_180259") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180255, "mem_180255") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180269, "mem_180269") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180267, "mem_180267") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180265, "mem_180265") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180290, "ext_mem_180290") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180293, "ext_mem_180293") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180296, "ext_mem_180296") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180162, "mem_param_180162") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180159, "mem_param_180159") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180156, "mem_param_180156") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180326, "ext_mem_180326") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180327, "ext_mem_180327") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180328, "ext_mem_180328") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180152, "mem_180152") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180148, "mem_180148") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180144, "mem_180144") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180331, "ext_mem_180331") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180334, "ext_mem_180334") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180337, "ext_mem_180337") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180042, "mem_180042") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180040, "mem_180040") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180038, "mem_180038") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180022, "mem_180022") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180020, "mem_180020") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180018, "mem_180018") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180729, "mem_180729") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180728, "mem_180728") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180726, "mem_180726") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181464, "mem_param_tmp_181464") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181463, "mem_param_tmp_181463") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181462, "mem_param_tmp_181462") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180681, "mem_180681") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180677, "mem_180677") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180673, "mem_180673") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180626, "mem_180626") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180622, "mem_180622") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180618, "mem_180618") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180632, "mem_180632") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180630, "mem_180630") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180628, "mem_180628") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180653, "ext_mem_180653") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180656, "ext_mem_180656") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180659, "ext_mem_180659") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180525, "mem_param_180525") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180522, "mem_param_180522") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180519, "mem_param_180519") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180689, "ext_mem_180689") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180690, "ext_mem_180690") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180691, "ext_mem_180691") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180515, "mem_180515") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180511, "mem_180511") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180507, "mem_180507") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180694, "ext_mem_180694") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180700, "ext_mem_180700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180405, "mem_180405") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180403, "mem_180403") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180401, "mem_180401") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180750, "ext_mem_180750") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180753, "ext_mem_180753") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180756, "ext_mem_180756") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179992, "mem_179992") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179990, "mem_179990") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179988, "mem_179988") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181402, "mem_out_181402") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181401, "mem_out_181401") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_int(struct futhark_context *ctx, struct memblock *mem_out_p_181832, struct memblock *mem_out_p_181833, struct memblock *mem_out_p_181834, int64_t *out_prim_out_181835, struct memblock a_list_mem_179986, struct memblock b_list_mem_179987, int64_t na_130661, int64_t nb_130662, int64_t window_sizze_130663, int64_t threads_130664, bool inParallel_130667)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180003_cached_sizze_181836 = 0;
    unsigned char *mem_180003 = NULL;
    int64_t mem_180005_cached_sizze_181837 = 0;
    unsigned char *mem_180005 = NULL;
    int64_t mem_180044_cached_sizze_181838 = 0;
    unsigned char *mem_180044 = NULL;
    int64_t mem_180047_cached_sizze_181839 = 0;
    unsigned char *mem_180047 = NULL;
    int64_t mem_180050_cached_sizze_181840 = 0;
    unsigned char *mem_180050 = NULL;
    int64_t mem_180063_cached_sizze_181841 = 0;
    unsigned char *mem_180063 = NULL;
    int64_t mem_180065_cached_sizze_181842 = 0;
    unsigned char *mem_180065 = NULL;
    int64_t mem_180067_cached_sizze_181843 = 0;
    unsigned char *mem_180067 = NULL;
    int64_t mem_180164_cached_sizze_181844 = 0;
    unsigned char *mem_180164 = NULL;
    int64_t mem_180167_cached_sizze_181845 = 0;
    unsigned char *mem_180167 = NULL;
    int64_t mem_180170_cached_sizze_181846 = 0;
    unsigned char *mem_180170 = NULL;
    int64_t mem_180184_cached_sizze_181847 = 0;
    unsigned char *mem_180184 = NULL;
    int64_t mem_180186_cached_sizze_181848 = 0;
    unsigned char *mem_180186 = NULL;
    int64_t mem_180200_cached_sizze_181849 = 0;
    unsigned char *mem_180200 = NULL;
    int64_t mem_180203_cached_sizze_181850 = 0;
    unsigned char *mem_180203 = NULL;
    int64_t mem_180206_cached_sizze_181851 = 0;
    unsigned char *mem_180206 = NULL;
    int64_t mem_180348_cached_sizze_181852 = 0;
    unsigned char *mem_180348 = NULL;
    int64_t mem_180350_cached_sizze_181853 = 0;
    unsigned char *mem_180350 = NULL;
    int64_t mem_180365_cached_sizze_181854 = 0;
    unsigned char *mem_180365 = NULL;
    int64_t mem_180367_cached_sizze_181855 = 0;
    unsigned char *mem_180367 = NULL;
    int64_t mem_180370_cached_sizze_181856 = 0;
    unsigned char *mem_180370 = NULL;
    int64_t mem_180373_cached_sizze_181857 = 0;
    unsigned char *mem_180373 = NULL;
    int64_t mem_180407_cached_sizze_181858 = 0;
    unsigned char *mem_180407 = NULL;
    int64_t mem_180410_cached_sizze_181859 = 0;
    unsigned char *mem_180410 = NULL;
    int64_t mem_180413_cached_sizze_181860 = 0;
    unsigned char *mem_180413 = NULL;
    int64_t mem_180426_cached_sizze_181861 = 0;
    unsigned char *mem_180426 = NULL;
    int64_t mem_180428_cached_sizze_181862 = 0;
    unsigned char *mem_180428 = NULL;
    int64_t mem_180430_cached_sizze_181863 = 0;
    unsigned char *mem_180430 = NULL;
    int64_t mem_180527_cached_sizze_181864 = 0;
    unsigned char *mem_180527 = NULL;
    int64_t mem_180530_cached_sizze_181865 = 0;
    unsigned char *mem_180530 = NULL;
    int64_t mem_180533_cached_sizze_181866 = 0;
    unsigned char *mem_180533 = NULL;
    int64_t mem_180547_cached_sizze_181867 = 0;
    unsigned char *mem_180547 = NULL;
    int64_t mem_180549_cached_sizze_181868 = 0;
    unsigned char *mem_180549 = NULL;
    int64_t mem_180563_cached_sizze_181869 = 0;
    unsigned char *mem_180563 = NULL;
    int64_t mem_180566_cached_sizze_181870 = 0;
    unsigned char *mem_180566 = NULL;
    int64_t mem_180569_cached_sizze_181871 = 0;
    unsigned char *mem_180569 = NULL;
    int64_t mem_180786_cached_sizze_181872 = 0;
    unsigned char *mem_180786 = NULL;
    int64_t mem_180789_cached_sizze_181873 = 0;
    unsigned char *mem_180789 = NULL;
    int64_t mem_180792_cached_sizze_181874 = 0;
    unsigned char *mem_180792 = NULL;
    int64_t mem_180805_cached_sizze_181875 = 0;
    unsigned char *mem_180805 = NULL;
    int64_t mem_180807_cached_sizze_181876 = 0;
    unsigned char *mem_180807 = NULL;
    int64_t mem_180809_cached_sizze_181877 = 0;
    unsigned char *mem_180809 = NULL;
    int64_t mem_180906_cached_sizze_181878 = 0;
    unsigned char *mem_180906 = NULL;
    int64_t mem_180909_cached_sizze_181879 = 0;
    unsigned char *mem_180909 = NULL;
    int64_t mem_180912_cached_sizze_181880 = 0;
    unsigned char *mem_180912 = NULL;
    int64_t mem_180926_cached_sizze_181881 = 0;
    unsigned char *mem_180926 = NULL;
    int64_t mem_180928_cached_sizze_181882 = 0;
    unsigned char *mem_180928 = NULL;
    int64_t mem_180942_cached_sizze_181883 = 0;
    unsigned char *mem_180942 = NULL;
    int64_t mem_180945_cached_sizze_181884 = 0;
    unsigned char *mem_180945 = NULL;
    int64_t mem_180948_cached_sizze_181885 = 0;
    unsigned char *mem_180948 = NULL;
    struct memblock mem_param_tmp_181624;
    
    mem_param_tmp_181624.references = NULL;
    
    struct memblock mem_param_tmp_181623;
    
    mem_param_tmp_181623.references = NULL;
    
    struct memblock mem_param_tmp_181622;
    
    mem_param_tmp_181622.references = NULL;
    
    struct memblock mem_181060;
    
    mem_181060.references = NULL;
    
    struct memblock mem_181056;
    
    mem_181056.references = NULL;
    
    struct memblock mem_181052;
    
    mem_181052.references = NULL;
    
    struct memblock mem_181005;
    
    mem_181005.references = NULL;
    
    struct memblock mem_181001;
    
    mem_181001.references = NULL;
    
    struct memblock mem_180997;
    
    mem_180997.references = NULL;
    
    struct memblock mem_181011;
    
    mem_181011.references = NULL;
    
    struct memblock mem_181009;
    
    mem_181009.references = NULL;
    
    struct memblock mem_181007;
    
    mem_181007.references = NULL;
    
    struct memblock ext_mem_181032;
    
    ext_mem_181032.references = NULL;
    
    struct memblock ext_mem_181035;
    
    ext_mem_181035.references = NULL;
    
    struct memblock ext_mem_181038;
    
    ext_mem_181038.references = NULL;
    
    struct memblock mem_param_180904;
    
    mem_param_180904.references = NULL;
    
    struct memblock mem_param_180901;
    
    mem_param_180901.references = NULL;
    
    struct memblock mem_param_180898;
    
    mem_param_180898.references = NULL;
    
    struct memblock ext_mem_181068;
    
    ext_mem_181068.references = NULL;
    
    struct memblock ext_mem_181069;
    
    ext_mem_181069.references = NULL;
    
    struct memblock ext_mem_181070;
    
    ext_mem_181070.references = NULL;
    
    struct memblock mem_180894;
    
    mem_180894.references = NULL;
    
    struct memblock mem_180890;
    
    mem_180890.references = NULL;
    
    struct memblock mem_180886;
    
    mem_180886.references = NULL;
    
    struct memblock ext_mem_181073;
    
    ext_mem_181073.references = NULL;
    
    struct memblock ext_mem_181076;
    
    ext_mem_181076.references = NULL;
    
    struct memblock ext_mem_181079;
    
    ext_mem_181079.references = NULL;
    
    struct memblock mem_180784;
    
    mem_180784.references = NULL;
    
    struct memblock mem_180782;
    
    mem_180782.references = NULL;
    
    struct memblock mem_180780;
    
    mem_180780.references = NULL;
    
    struct memblock mem_param_tmp_181558;
    
    mem_param_tmp_181558.references = NULL;
    
    struct memblock mem_param_tmp_181557;
    
    mem_param_tmp_181557.references = NULL;
    
    struct memblock mem_param_tmp_181556;
    
    mem_param_tmp_181556.references = NULL;
    
    struct memblock mem_180318;
    
    mem_180318.references = NULL;
    
    struct memblock mem_180314;
    
    mem_180314.references = NULL;
    
    struct memblock mem_180310;
    
    mem_180310.references = NULL;
    
    struct memblock mem_180263;
    
    mem_180263.references = NULL;
    
    struct memblock mem_180259;
    
    mem_180259.references = NULL;
    
    struct memblock mem_180255;
    
    mem_180255.references = NULL;
    
    struct memblock mem_180269;
    
    mem_180269.references = NULL;
    
    struct memblock mem_180267;
    
    mem_180267.references = NULL;
    
    struct memblock mem_180265;
    
    mem_180265.references = NULL;
    
    struct memblock ext_mem_180290;
    
    ext_mem_180290.references = NULL;
    
    struct memblock ext_mem_180293;
    
    ext_mem_180293.references = NULL;
    
    struct memblock ext_mem_180296;
    
    ext_mem_180296.references = NULL;
    
    struct memblock mem_param_180162;
    
    mem_param_180162.references = NULL;
    
    struct memblock mem_param_180159;
    
    mem_param_180159.references = NULL;
    
    struct memblock mem_param_180156;
    
    mem_param_180156.references = NULL;
    
    struct memblock ext_mem_180326;
    
    ext_mem_180326.references = NULL;
    
    struct memblock ext_mem_180327;
    
    ext_mem_180327.references = NULL;
    
    struct memblock ext_mem_180328;
    
    ext_mem_180328.references = NULL;
    
    struct memblock mem_180152;
    
    mem_180152.references = NULL;
    
    struct memblock mem_180148;
    
    mem_180148.references = NULL;
    
    struct memblock mem_180144;
    
    mem_180144.references = NULL;
    
    struct memblock ext_mem_180331;
    
    ext_mem_180331.references = NULL;
    
    struct memblock ext_mem_180334;
    
    ext_mem_180334.references = NULL;
    
    struct memblock ext_mem_180337;
    
    ext_mem_180337.references = NULL;
    
    struct memblock mem_180042;
    
    mem_180042.references = NULL;
    
    struct memblock mem_180040;
    
    mem_180040.references = NULL;
    
    struct memblock mem_180038;
    
    mem_180038.references = NULL;
    
    struct memblock mem_180022;
    
    mem_180022.references = NULL;
    
    struct memblock mem_180020;
    
    mem_180020.references = NULL;
    
    struct memblock mem_180018;
    
    mem_180018.references = NULL;
    
    struct memblock mem_180729;
    
    mem_180729.references = NULL;
    
    struct memblock mem_180728;
    
    mem_180728.references = NULL;
    
    struct memblock mem_180726;
    
    mem_180726.references = NULL;
    
    struct memblock mem_param_tmp_181464;
    
    mem_param_tmp_181464.references = NULL;
    
    struct memblock mem_param_tmp_181463;
    
    mem_param_tmp_181463.references = NULL;
    
    struct memblock mem_param_tmp_181462;
    
    mem_param_tmp_181462.references = NULL;
    
    struct memblock mem_180681;
    
    mem_180681.references = NULL;
    
    struct memblock mem_180677;
    
    mem_180677.references = NULL;
    
    struct memblock mem_180673;
    
    mem_180673.references = NULL;
    
    struct memblock mem_180626;
    
    mem_180626.references = NULL;
    
    struct memblock mem_180622;
    
    mem_180622.references = NULL;
    
    struct memblock mem_180618;
    
    mem_180618.references = NULL;
    
    struct memblock mem_180632;
    
    mem_180632.references = NULL;
    
    struct memblock mem_180630;
    
    mem_180630.references = NULL;
    
    struct memblock mem_180628;
    
    mem_180628.references = NULL;
    
    struct memblock ext_mem_180653;
    
    ext_mem_180653.references = NULL;
    
    struct memblock ext_mem_180656;
    
    ext_mem_180656.references = NULL;
    
    struct memblock ext_mem_180659;
    
    ext_mem_180659.references = NULL;
    
    struct memblock mem_param_180525;
    
    mem_param_180525.references = NULL;
    
    struct memblock mem_param_180522;
    
    mem_param_180522.references = NULL;
    
    struct memblock mem_param_180519;
    
    mem_param_180519.references = NULL;
    
    struct memblock ext_mem_180689;
    
    ext_mem_180689.references = NULL;
    
    struct memblock ext_mem_180690;
    
    ext_mem_180690.references = NULL;
    
    struct memblock ext_mem_180691;
    
    ext_mem_180691.references = NULL;
    
    struct memblock mem_180515;
    
    mem_180515.references = NULL;
    
    struct memblock mem_180511;
    
    mem_180511.references = NULL;
    
    struct memblock mem_180507;
    
    mem_180507.references = NULL;
    
    struct memblock ext_mem_180694;
    
    ext_mem_180694.references = NULL;
    
    struct memblock ext_mem_180697;
    
    ext_mem_180697.references = NULL;
    
    struct memblock ext_mem_180700;
    
    ext_mem_180700.references = NULL;
    
    struct memblock mem_180405;
    
    mem_180405.references = NULL;
    
    struct memblock mem_180403;
    
    mem_180403.references = NULL;
    
    struct memblock mem_180401;
    
    mem_180401.references = NULL;
    
    struct memblock ext_mem_180750;
    
    ext_mem_180750.references = NULL;
    
    struct memblock ext_mem_180753;
    
    ext_mem_180753.references = NULL;
    
    struct memblock ext_mem_180756;
    
    ext_mem_180756.references = NULL;
    
    struct memblock mem_179992;
    
    mem_179992.references = NULL;
    
    struct memblock mem_179990;
    
    mem_179990.references = NULL;
    
    struct memblock mem_179988;
    
    mem_179988.references = NULL;
    
    struct memblock mem_out_181402;
    
    mem_out_181402.references = NULL;
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    int64_t prim_out_181403;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475 = add64(na_130661, nb_130662);
    
    if (memblock_alloc(ctx, &mem_179988, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, "mem_179988")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181404 = 0; nest_i_181404 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475; nest_i_181404++) {
        ((int8_t *) mem_179988.mem)[nest_i_181404] = (int8_t) -1;
    }
    
    int64_t bytes_179989 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475;
    
    if (memblock_alloc(ctx, &mem_179990, bytes_179989, "mem_179990")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181405 = 0; nest_i_181405 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475; nest_i_181405++) {
        ((int64_t *) mem_179990.mem)[nest_i_181405] = (int64_t) -1;
    }
    
    int64_t bytes_179991 = (int64_t) 4 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475;
    
    if (memblock_alloc(ctx, &mem_179992, bytes_179991, "mem_179992")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181406 = 0; nest_i_181406 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475; nest_i_181406++) {
        ((int32_t *) mem_179992.mem)[nest_i_181406] = 0;
    }
    
    int64_t zl_rhs_174479 = sub64(na_130661, window_sizze_130663);
    bool cond_174480 = slt64((int64_t) 0, zl_rhs_174479);
    int64_t zl_rhs_174481 = sub64(nb_130662, window_sizze_130663);
    bool loop_cond_t_res_174482 = slt64((int64_t) 0, zl_rhs_174481);
    bool x_174483 = cond_174480 && loop_cond_t_res_174482;
    bool empty_slice_174484 = window_sizze_130663 == (int64_t) 0;
    int64_t m_174485 = sub64(window_sizze_130663, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510 = add64((int64_t) 1, threads_130664);
    int64_t partitionFunc_arg0_175511 = mul64((int64_t) 2, threads_130664);
    bool y_175513 = slt64((int64_t) 0, window_sizze_130663);
    bool loop_cond_175759 = slt64((int64_t) 0, threads_130664);
    bool zzero_174530 = threads_130664 == (int64_t) 0;
    bool nonzzero_174531 = !zzero_174530;
    bool loop_not_taken_177288 = !inParallel_130667;
    bool protect_assert_disj_177289 = nonzzero_174531 || loop_not_taken_177288;
    bool loop_not_taken_177378 = !x_174483;
    bool protect_assert_disj_177379 = protect_assert_disj_177289 || loop_not_taken_177378;
    bool nonzzero_cert_174532;
    
    if (!protect_assert_disj_177379) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_174533 = sdiv_safe64(window_sizze_130663, threads_130664);
    int64_t perThread_174534 = add64((int64_t) 1, zp_rhs_174533);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174535 = mul64(threads_130664, perThread_174534);
    bool protect_assert_disj_177425 = inParallel_130667 || y_175513;
    bool protect_assert_disj_177429 = loop_not_taken_177378 || protect_assert_disj_177425;
    bool index_certs_175514;
    
    if (!protect_assert_disj_177429) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_175529 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, (int64_t) 1);
    bool y_176486 = slt64(threads_130664, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
    bool protect_assert_disj_177394 = y_175513 || loop_not_taken_177288;
    bool protect_assert_disj_177433 = loop_not_taken_177378 || protect_assert_disj_177394;
    bool index_certs_174538;
    
    if (!protect_assert_disj_177433) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_175531 = !bounds_invalid_upwards_175529;
    bool protect_assert_disj_177441 = inParallel_130667 || y_176486;
    bool protect_assert_disj_177443 = loop_not_taken_177378 || protect_assert_disj_177441;
    bool index_certs_176488;
    
    if (!protect_assert_disj_177443) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_130664, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177437 = y_176486 || loop_not_taken_177288;
    bool protect_assert_disj_177445 = loop_not_taken_177378 || protect_assert_disj_177437;
    bool index_certs_175492;
    
    if (!protect_assert_disj_177445) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_130664, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177453 = inParallel_130667 || valid_175531;
    bool protect_assert_disj_177455 = loop_not_taken_177378 || protect_assert_disj_177453;
    bool range_valid_c_175532;
    
    if (!protect_assert_disj_177455) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_177297 = sle64((int64_t) 1, threads_130664);
    bool protect_assert_disj_177449 = valid_175531 || loop_not_taken_177288;
    bool protect_assert_disj_177457 = loop_not_taken_177378 || protect_assert_disj_177449;
    bool range_valid_c_174545;
    
    if (!protect_assert_disj_177457) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_175534 = add64(window_sizze_130663, window_sizze_130663);
    bool zzero_175535 = partitionFunc_arg0_175511 == (int64_t) 0;
    int64_t index_concat_i_177298 = sub64(threads_130664, (int64_t) 1);
    bool nonzzero_175536 = !zzero_175535;
    bool protect_assert_disj_177465 = inParallel_130667 || nonzzero_175536;
    bool protect_assert_disj_177471 = loop_not_taken_177378 || protect_assert_disj_177465;
    bool nonzzero_cert_175537;
    
    if (!protect_assert_disj_177471) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177461 = nonzzero_175536 || loop_not_taken_177288;
    bool protect_assert_disj_177477 = loop_not_taken_177378 || protect_assert_disj_177461;
    bool nonzzero_cert_174550;
    
    if (!protect_assert_disj_177477) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180002 = (int64_t) 8 * threads_130664;
    int64_t bytes_180019 = (int64_t) 8 * window_sizze_130663;
    int64_t bytes_180021 = (int64_t) 4 * window_sizze_130663;
    int64_t bytes_180364 = perThread_174534 * bytes_180002;
    int64_t binop_x_180371 = (int64_t) 4 * threads_130664;
    int64_t bytes_180372 = perThread_174534 * binop_x_180371;
    bool defunc_0_merge_pipeline_res_174486;
    int64_t defunc_0_merge_pipeline_res_174490;
    int64_t defunc_0_merge_pipeline_res_174491;
    bool loop_while_174492;
    int64_t p_174496;
    int64_t p_174497;
    
    loop_while_174492 = x_174483;
    p_174496 = (int64_t) 0;
    p_174497 = (int64_t) 0;
    while (loop_while_174492) {
        int64_t ubs_174498 = add64(window_sizze_130663, p_174496);
        int64_t ubs_174499 = add64(window_sizze_130663, p_174497);
        int64_t ind_bottom_174500 = add64(p_174496, p_174497);
        int64_t ind_top_174501 = add64(window_sizze_130663, ind_bottom_174500);
        int64_t i_p_m_t_s_174502 = add64(m_174485, p_174496);
        bool zzero_leq_i_p_m_t_s_174503 = sle64((int64_t) 0, i_p_m_t_s_174502);
        bool i_p_m_t_s_leq_w_174504 = slt64(i_p_m_t_s_174502, na_130661);
        bool zzero_lte_i_174505 = sle64((int64_t) 0, p_174496);
        bool i_lte_j_174506 = sle64(p_174496, ubs_174498);
        bool y_174507 = i_p_m_t_s_leq_w_174504 && zzero_lte_i_174505;
        bool y_174508 = zzero_leq_i_p_m_t_s_174503 && y_174507;
        bool forwards_ok_174509 = i_lte_j_174506 && y_174508;
        bool ok_or_empty_174510 = empty_slice_174484 || forwards_ok_174509;
        bool index_certs_174511;
        
        if (!ok_or_empty_174510) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_174496, ":", (long long) ubs_174498, "] out of bounds for array of shape [", (long long) na_130661, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_174513 = add64(m_174485, p_174497);
        bool zzero_leq_i_p_m_t_s_174514 = sle64((int64_t) 0, i_p_m_t_s_174513);
        bool i_p_m_t_s_leq_w_174515 = slt64(i_p_m_t_s_174513, nb_130662);
        bool zzero_lte_i_174516 = sle64((int64_t) 0, p_174497);
        bool i_lte_j_174517 = sle64(p_174497, ubs_174499);
        bool y_174518 = i_p_m_t_s_leq_w_174515 && zzero_lte_i_174516;
        bool y_174519 = zzero_leq_i_p_m_t_s_174514 && y_174518;
        bool forwards_ok_174520 = i_lte_j_174517 && y_174519;
        bool ok_or_empty_174521 = empty_slice_174484 || forwards_ok_174520;
        bool index_certs_174522;
        
        if (!ok_or_empty_174521) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_174497, ":", (long long) ubs_174499, "] out of bounds for array of shape [", (long long) nb_130662, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_176500 = add64(m_174485, ind_bottom_174500);
        bool zzero_leq_i_p_m_t_s_176501 = sle64((int64_t) 0, i_p_m_t_s_176500);
        bool i_p_m_t_s_leq_w_176502 = slt64(i_p_m_t_s_176500, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475);
        bool zzero_lte_i_176503 = sle64((int64_t) 0, ind_bottom_174500);
        bool i_lte_j_176504 = sle64(ind_bottom_174500, ind_top_174501);
        bool y_176505 = i_p_m_t_s_leq_w_176502 && zzero_lte_i_176503;
        bool y_176506 = zzero_leq_i_p_m_t_s_176501 && y_176505;
        bool forwards_ok_176507 = i_lte_j_176504 && y_176506;
        bool ok_or_empty_176508 = empty_slice_174484 || forwards_ok_176507;
        bool index_certs_176509;
        
        if (!ok_or_empty_176508) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_174500, ":", (long long) ind_top_174501, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_174524;
        int64_t loopres_174525;
        
        if (inParallel_130667) {
            int32_t leq_lhs_177958 = ((int32_t *) a_list_mem_179986.mem)[p_174496];
            int32_t leq_rhs_177959 = ((int32_t *) b_list_mem_179987.mem)[p_174497];
            bool defunc_0_leq_res_177960 = sle32(leq_lhs_177958, leq_rhs_177959);
            int32_t lowest_177961;
            
            if (defunc_0_leq_res_177960) {
                lowest_177961 = leq_lhs_177958;
            } else {
                lowest_177961 = leq_rhs_177959;
            }
            if (mem_180348_cached_sizze_181852 < bytes_180002) {
                err = lexical_realloc(ctx, &mem_180348, &mem_180348_cached_sizze_181852, bytes_180002);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180350_cached_sizze_181853 < bytes_180002) {
                err = lexical_realloc(ctx, &mem_180350, &mem_180350_cached_sizze_181853, bytes_180002);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_179650 = 0; i_179650 < threads_130664; i_179650++) {
                int64_t index_primexp_179922 = add64((int64_t) 1, i_179650);
                int64_t zs_lhs_177966 = mul64(zt_rhs_175534, index_primexp_179922);
                int64_t index_177967 = sdiv64(zs_lhs_177966, partitionFunc_arg0_175511);
                bool cond_177968 = slt64(window_sizze_130663, index_177967);
                int64_t loop_over_177969;
                
                if (cond_177968) {
                    loop_over_177969 = window_sizze_130663;
                } else {
                    loop_over_177969 = index_177967;
                }
                
                int64_t loop_over_177970;
                
                if (cond_177968) {
                    int64_t loop_over_t_res_177971 = sub64(index_177967, window_sizze_130663);
                    
                    loop_over_177970 = loop_over_t_res_177971;
                } else {
                    loop_over_177970 = (int64_t) 0;
                }
                
                int64_t loop_over_177972;
                
                if (cond_177968) {
                    int64_t zm_lhs_177973 = sub64(index_177967, window_sizze_130663);
                    int64_t loop_over_t_res_177974 = sub64(zm_lhs_177973, (int64_t) 1);
                    
                    loop_over_177972 = loop_over_t_res_177974;
                } else {
                    loop_over_177972 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_177975;
                int64_t defunc_0_f_res_177976;
                int64_t defunc_0_f_res_177977;
                int64_t defunc_0_f_res_177978;
                bool loop_while_177979;
                int64_t p_177980;
                int64_t p_177981;
                int64_t p_177982;
                
                loop_while_177979 = 1;
                p_177980 = loop_over_177972;
                p_177981 = loop_over_177969;
                p_177982 = loop_over_177970;
                while (loop_while_177979) {
                    int64_t zs_lhs_177983 = sub64(p_177981, p_177980);
                    int64_t offset_177984 = sdiv64(zs_lhs_177983, (int64_t) 2);
                    int64_t ai_177985 = sub64(p_177981, offset_177984);
                    int64_t max_arg1_177986 = add64(p_177982, offset_177984);
                    int64_t max_res_177987 = smax64((int64_t) 0, max_arg1_177986);
                    bool cond_177988 = slt64((int64_t) 0, max_res_177987);
                    int32_t b_prev_177989;
                    
                    if (cond_177988) {
                        int64_t tmp_177990 = sub64(max_res_177987, (int64_t) 1);
                        bool x_177991 = sle64((int64_t) 0, tmp_177990);
                        bool y_177992 = slt64(tmp_177990, window_sizze_130663);
                        bool bounds_check_177993 = x_177991 && y_177992;
                        bool index_certs_177994;
                        
                        if (!bounds_check_177993) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177990, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_177995 = p_174497 + tmp_177990;
                        int32_t b_prev_t_res_177996 = ((int32_t *) b_list_mem_179987.mem)[slice_177995];
                        
                        b_prev_177989 = b_prev_t_res_177996;
                    } else {
                        b_prev_177989 = lowest_177961;
                    }
                    
                    bool cond_177997 = sle64(ai_177985, (int64_t) 0);
                    int64_t loopres_177998;
                    int64_t loopres_177999;
                    int64_t loopres_178000;
                    bool loopres_178001;
                    
                    if (cond_177997) {
                        loopres_177998 = p_177980;
                        loopres_177999 = (int64_t) 0;
                        loopres_178000 = max_res_177987;
                        loopres_178001 = 0;
                    } else {
                        bool cond_178002 = sle64(window_sizze_130663, max_res_177987);
                        int64_t loopres_f_res_178003;
                        int64_t loopres_f_res_178004;
                        int64_t loopres_f_res_178005;
                        bool loopres_f_res_178006;
                        
                        if (cond_178002) {
                            int64_t min_res_178008 = smin64(m_174485, ai_177985);
                            bool x_178009 = sle64((int64_t) 0, m_174485);
                            bool y_178010 = slt64(m_174485, window_sizze_130663);
                            bool bounds_check_178011 = x_178009 && y_178010;
                            bool index_certs_178012;
                            
                            if (!bounds_check_178011) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174485, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_178015 = sle64((int64_t) 0, min_res_178008);
                            bool y_178016 = slt64(min_res_178008, window_sizze_130663);
                            bool bounds_check_178017 = x_178015 && y_178016;
                            bool index_certs_178018;
                            
                            if (!bounds_check_178017) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178008, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int32_t leq_lhs_178014 = ((int32_t *) b_list_mem_179987.mem)[i_p_m_t_s_174513];
                            int64_t slice_178019 = p_174496 + min_res_178008;
                            int32_t leq_rhs_178020 = ((int32_t *) a_list_mem_179986.mem)[slice_178019];
                            bool defunc_0_leq_res_178021 = sle32(leq_lhs_178014, leq_rhs_178020);
                            int64_t loopres_f_res_t_res_178022;
                            
                            if (defunc_0_leq_res_178021) {
                                loopres_f_res_t_res_178022 = ai_177985;
                            } else {
                                loopres_f_res_t_res_178022 = p_177981;
                            }
                            
                            bool x_178023 = !defunc_0_leq_res_178021;
                            int64_t loopres_f_res_t_res_178024;
                            
                            if (defunc_0_leq_res_178021) {
                                loopres_f_res_t_res_178024 = window_sizze_130663;
                            } else {
                                int64_t tmp_178025 = sub64(m_174485, offset_177984);
                                
                                loopres_f_res_t_res_178024 = tmp_178025;
                            }
                            loopres_f_res_178003 = p_177980;
                            loopres_f_res_178004 = loopres_f_res_t_res_178022;
                            loopres_f_res_178005 = loopres_f_res_t_res_178024;
                            loopres_f_res_178006 = x_178023;
                        } else {
                            bool cond_178026 = sle64(window_sizze_130663, ai_177985);
                            int64_t loopres_f_res_f_res_178027;
                            int64_t loopres_f_res_f_res_178028;
                            int64_t loopres_f_res_f_res_178029;
                            bool loopres_f_res_f_res_178030;
                            
                            if (cond_178026) {
                                int64_t min_res_178032 = smin64(m_174485, max_res_177987);
                                bool x_178033 = sle64((int64_t) 0, m_174485);
                                bool y_178034 = slt64(m_174485, window_sizze_130663);
                                bool bounds_check_178035 = x_178033 && y_178034;
                                bool index_certs_178036;
                                
                                if (!bounds_check_178035) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174485, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178039 = sle64((int64_t) 0, min_res_178032);
                                bool y_178040 = slt64(min_res_178032, window_sizze_130663);
                                bool bounds_check_178041 = x_178039 && y_178040;
                                bool index_certs_178042;
                                
                                if (!bounds_check_178041) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178032, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int32_t leq_lhs_178038 = ((int32_t *) a_list_mem_179986.mem)[i_p_m_t_s_174502];
                                int64_t slice_178043 = p_174497 + min_res_178032;
                                int32_t leq_rhs_178044 = ((int32_t *) b_list_mem_179987.mem)[slice_178043];
                                bool defunc_0_leq_res_178045 = sle32(leq_lhs_178038, leq_rhs_178044);
                                int64_t loopres_f_res_f_res_t_res_178046;
                                
                                if (defunc_0_leq_res_178045) {
                                    loopres_f_res_f_res_t_res_178046 = max_res_177987;
                                } else {
                                    loopres_f_res_f_res_t_res_178046 = p_177982;
                                }
                                
                                bool x_178047 = !defunc_0_leq_res_178045;
                                int64_t loopres_f_res_f_res_t_res_178048;
                                
                                if (defunc_0_leq_res_178045) {
                                    loopres_f_res_f_res_t_res_178048 = window_sizze_130663;
                                } else {
                                    loopres_f_res_f_res_t_res_178048 = m_174485;
                                }
                                loopres_f_res_f_res_178027 = p_177980;
                                loopres_f_res_f_res_178028 = loopres_f_res_f_res_t_res_178048;
                                loopres_f_res_f_res_178029 = loopres_f_res_f_res_t_res_178046;
                                loopres_f_res_f_res_178030 = x_178047;
                            } else {
                                bool cond_178049 = sle64(p_177981, p_177980);
                                int64_t loopres_f_res_f_res_f_res_178050;
                                int64_t loopres_f_res_f_res_f_res_178051;
                                int64_t loopres_f_res_f_res_f_res_178052;
                                bool loopres_f_res_f_res_f_res_178053;
                                
                                if (cond_178049) {
                                    bool cond_178054 = slt64(ai_177985, window_sizze_130663);
                                    int64_t ai_178055;
                                    
                                    if (cond_178054) {
                                        ai_178055 = ai_177985;
                                    } else {
                                        ai_178055 = m_174485;
                                    }
                                    
                                    bool x_178068 = sle64((int64_t) 0, ai_178055);
                                    bool y_178069 = slt64(ai_178055, window_sizze_130663);
                                    bool bounds_check_178070 = x_178068 && y_178069;
                                    bool index_certs_178071;
                                    
                                    if (!bounds_check_178070) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178055, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int32_t b_prev_178057;
                                    
                                    if (cond_177988) {
                                        int64_t tmp_178058 = sub64(max_res_177987, (int64_t) 1);
                                        bool x_178059 = sle64((int64_t) 0, tmp_178058);
                                        bool y_178060 = slt64(tmp_178058, window_sizze_130663);
                                        bool bounds_check_178061 = x_178059 && y_178060;
                                        bool index_certs_178062;
                                        
                                        if (!bounds_check_178061) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178058, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178063 = p_174497 + tmp_178058;
                                        int32_t b_prev_t_res_178064 = ((int32_t *) b_list_mem_179987.mem)[slice_178063];
                                        
                                        b_prev_178057 = b_prev_t_res_178064;
                                    } else {
                                        bool index_certs_178066;
                                        
                                        if (!y_175513) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_178057 = leq_rhs_177959;
                                    }
                                    
                                    int64_t slice_178072 = p_174496 + ai_178055;
                                    int32_t gt_lhs_178073 = ((int32_t *) a_list_mem_179986.mem)[slice_178072];
                                    bool defunc_0_gt_res_178074 = slt32(b_prev_178057, gt_lhs_178073);
                                    int64_t defunc_0_partFunc_sequential_search_res_178075;
                                    int64_t defunc_0_partFunc_sequential_search_res_178076;
                                    
                                    if (defunc_0_gt_res_178074) {
                                        int64_t zl_rhs_178077 = sub64(window_sizze_130663, max_res_177987);
                                        bool loop_cond_178078 = slt64((int64_t) 0, zl_rhs_178077);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_178079;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178080;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178081;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178082;
                                        bool loop_while_178083;
                                        int64_t p_178084;
                                        int64_t p_178085;
                                        int64_t p_178086;
                                        
                                        loop_while_178083 = loop_cond_178078;
                                        p_178084 = ai_178055;
                                        p_178085 = max_res_177987;
                                        p_178086 = (int64_t) 0;
                                        while (loop_while_178083) {
                                            int64_t i_a_178087 = sub64(ai_178055, p_178086);
                                            int64_t i_b_178088 = add64(max_res_177987, p_178086);
                                            int64_t leq_lhs_178089 = sub64(i_a_178087, (int64_t) 1);
                                            bool x_178090 = sle64((int64_t) 0, leq_lhs_178089);
                                            bool y_178091 = slt64(leq_lhs_178089, window_sizze_130663);
                                            bool bounds_check_178092 = x_178090 && y_178091;
                                            bool index_certs_178093;
                                            
                                            if (!bounds_check_178092) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178089, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178096 = sle64((int64_t) 0, i_b_178088);
                                            bool y_178097 = slt64(i_b_178088, window_sizze_130663);
                                            bool bounds_check_178098 = x_178096 && y_178097;
                                            bool index_certs_178099;
                                            
                                            if (!bounds_check_178098) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178088, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178094 = p_174496 + leq_lhs_178089;
                                            int32_t leq_lhs_178095 = ((int32_t *) a_list_mem_179986.mem)[slice_178094];
                                            int64_t slice_178100 = p_174497 + i_b_178088;
                                            int32_t leq_rhs_178101 = ((int32_t *) b_list_mem_179987.mem)[slice_178100];
                                            bool defunc_0_leq_res_178102 = sle32(leq_lhs_178095, leq_rhs_178101);
                                            int64_t loopres_178103;
                                            
                                            if (defunc_0_leq_res_178102) {
                                                loopres_178103 = i_a_178087;
                                            } else {
                                                loopres_178103 = ai_178055;
                                            }
                                            
                                            int64_t loopres_178104;
                                            
                                            if (defunc_0_leq_res_178102) {
                                                loopres_178104 = i_b_178088;
                                            } else {
                                                loopres_178104 = max_res_177987;
                                            }
                                            
                                            int64_t loopres_178105;
                                            
                                            if (defunc_0_leq_res_178102) {
                                                loopres_178105 = zl_rhs_178077;
                                            } else {
                                                int64_t tmp_178106 = add64((int64_t) 1, p_178086);
                                                
                                                loopres_178105 = tmp_178106;
                                            }
                                            
                                            bool loop_cond_178107 = slt64(loopres_178105, zl_rhs_178077);
                                            bool loop_while_tmp_181419 = loop_cond_178107;
                                            int64_t p_tmp_181420 = loopres_178103;
                                            int64_t p_tmp_181421 = loopres_178104;
                                            int64_t p_tmp_181422 = loopres_178105;
                                            
                                            loop_while_178083 = loop_while_tmp_181419;
                                            p_178084 = p_tmp_181420;
                                            p_178085 = p_tmp_181421;
                                            p_178086 = p_tmp_181422;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_178079 = loop_while_178083;
                                        defunc_0_partFunc_sequential_search_res_t_res_178080 = p_178084;
                                        defunc_0_partFunc_sequential_search_res_t_res_178081 = p_178085;
                                        defunc_0_partFunc_sequential_search_res_t_res_178082 = p_178086;
                                        defunc_0_partFunc_sequential_search_res_178075 = defunc_0_partFunc_sequential_search_res_t_res_178080;
                                        defunc_0_partFunc_sequential_search_res_178076 = defunc_0_partFunc_sequential_search_res_t_res_178081;
                                    } else {
                                        int64_t zl_rhs_178108 = sub64(max_res_177987, (int64_t) 1);
                                        bool loop_cond_178109 = slt64((int64_t) 0, zl_rhs_178108);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_178110;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178111;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178112;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178113;
                                        bool loop_while_178114;
                                        int64_t p_178115;
                                        int64_t p_178116;
                                        int64_t p_178117;
                                        
                                        loop_while_178114 = loop_cond_178109;
                                        p_178115 = ai_178055;
                                        p_178116 = max_res_177987;
                                        p_178117 = (int64_t) 0;
                                        while (loop_while_178114) {
                                            int64_t zp_lhs_178118 = add64(ai_178055, p_178117);
                                            int64_t hi_a_178119 = add64((int64_t) 1, zp_lhs_178118);
                                            bool cond_178120 = slt64(hi_a_178119, window_sizze_130663);
                                            int64_t i_a_178121;
                                            
                                            if (cond_178120) {
                                                i_a_178121 = hi_a_178119;
                                            } else {
                                                i_a_178121 = m_174485;
                                            }
                                            
                                            int64_t zm_lhs_178123 = sub64(max_res_177987, p_178117);
                                            int64_t i_b_178124 = sub64(zm_lhs_178123, (int64_t) 1);
                                            bool x_178125 = sle64((int64_t) 0, i_a_178121);
                                            bool y_178126 = slt64(i_a_178121, window_sizze_130663);
                                            bool bounds_check_178127 = x_178125 && y_178126;
                                            bool index_certs_178128;
                                            
                                            if (!bounds_check_178127) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_178121, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178131 = sle64((int64_t) 0, i_b_178124);
                                            bool y_178132 = slt64(i_b_178124, window_sizze_130663);
                                            bool bounds_check_178133 = x_178131 && y_178132;
                                            bool index_certs_178134;
                                            
                                            if (!bounds_check_178133) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178124, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178129 = p_174496 + i_a_178121;
                                            int32_t gt_lhs_178130 = ((int32_t *) a_list_mem_179986.mem)[slice_178129];
                                            int64_t slice_178135 = p_174497 + i_b_178124;
                                            int32_t gt_rhs_178136 = ((int32_t *) b_list_mem_179987.mem)[slice_178135];
                                            bool defunc_0_gt_res_178137 = slt32(gt_rhs_178136, gt_lhs_178130);
                                            int64_t loopres_178138;
                                            
                                            if (defunc_0_gt_res_178137) {
                                                loopres_178138 = i_a_178121;
                                            } else {
                                                loopres_178138 = ai_178055;
                                            }
                                            
                                            int64_t loopres_178139;
                                            
                                            if (defunc_0_gt_res_178137) {
                                                loopres_178139 = zm_lhs_178123;
                                            } else {
                                                loopres_178139 = max_res_177987;
                                            }
                                            
                                            int64_t loopres_178140;
                                            
                                            if (defunc_0_gt_res_178137) {
                                                loopres_178140 = zl_rhs_178108;
                                            } else {
                                                int64_t tmp_178141 = add64((int64_t) 1, p_178117);
                                                
                                                loopres_178140 = tmp_178141;
                                            }
                                            
                                            bool loop_cond_178142 = slt64(loopres_178140, zl_rhs_178108);
                                            bool loop_while_tmp_181423 = loop_cond_178142;
                                            int64_t p_tmp_181424 = loopres_178138;
                                            int64_t p_tmp_181425 = loopres_178139;
                                            int64_t p_tmp_181426 = loopres_178140;
                                            
                                            loop_while_178114 = loop_while_tmp_181423;
                                            p_178115 = p_tmp_181424;
                                            p_178116 = p_tmp_181425;
                                            p_178117 = p_tmp_181426;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_178110 = loop_while_178114;
                                        defunc_0_partFunc_sequential_search_res_f_res_178111 = p_178115;
                                        defunc_0_partFunc_sequential_search_res_f_res_178112 = p_178116;
                                        defunc_0_partFunc_sequential_search_res_f_res_178113 = p_178117;
                                        defunc_0_partFunc_sequential_search_res_178075 = defunc_0_partFunc_sequential_search_res_f_res_178111;
                                        defunc_0_partFunc_sequential_search_res_178076 = defunc_0_partFunc_sequential_search_res_f_res_178112;
                                    }
                                    loopres_f_res_f_res_f_res_178050 = p_177980;
                                    loopres_f_res_f_res_f_res_178051 = defunc_0_partFunc_sequential_search_res_178075;
                                    loopres_f_res_f_res_f_res_178052 = defunc_0_partFunc_sequential_search_res_178076;
                                    loopres_f_res_f_res_f_res_178053 = 0;
                                } else {
                                    bool x_178143 = sle64((int64_t) 0, ai_177985);
                                    bool y_178144 = slt64(ai_177985, window_sizze_130663);
                                    bool bounds_check_178145 = x_178143 && y_178144;
                                    bool index_certs_178146;
                                    
                                    if (!bounds_check_178145) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_177985, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178147 = p_174496 + ai_177985;
                                    int32_t gt_lhs_178148 = ((int32_t *) a_list_mem_179986.mem)[slice_178147];
                                    bool defunc_0_gt_res_178149 = slt32(b_prev_177989, gt_lhs_178148);
                                    int64_t loopres_f_res_f_res_f_res_f_res_178150;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178151;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178152;
                                    bool loopres_f_res_f_res_f_res_f_res_178153;
                                    
                                    if (defunc_0_gt_res_178149) {
                                        int64_t leq_lhs_178154 = sub64(ai_177985, (int64_t) 1);
                                        bool x_178155 = sle64((int64_t) 0, leq_lhs_178154);
                                        bool y_178156 = slt64(leq_lhs_178154, window_sizze_130663);
                                        bool bounds_check_178157 = x_178155 && y_178156;
                                        bool index_certs_178158;
                                        
                                        if (!bounds_check_178157) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178154, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178161 = sle64((int64_t) 0, max_res_177987);
                                        bool y_178162 = slt64(max_res_177987, window_sizze_130663);
                                        bool bounds_check_178163 = x_178161 && y_178162;
                                        bool index_certs_178164;
                                        
                                        if (!bounds_check_178163) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_177987, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178159 = p_174496 + leq_lhs_178154;
                                        int32_t leq_lhs_178160 = ((int32_t *) a_list_mem_179986.mem)[slice_178159];
                                        int64_t slice_178165 = p_174497 + max_res_177987;
                                        int32_t leq_rhs_178166 = ((int32_t *) b_list_mem_179987.mem)[slice_178165];
                                        bool defunc_0_leq_res_178167 = sle32(leq_lhs_178160, leq_rhs_178166);
                                        bool x_178168 = !defunc_0_leq_res_178167;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178169;
                                        
                                        if (defunc_0_leq_res_178167) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178169 = ai_177985;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178169 = leq_lhs_178154;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178170;
                                        
                                        if (defunc_0_leq_res_178167) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178170 = max_res_177987;
                                        } else {
                                            int64_t tmp_178171 = add64((int64_t) 1, max_res_177987);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_178170 = tmp_178171;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_178150 = p_177980;
                                        loopres_f_res_f_res_f_res_f_res_178151 = loopres_f_res_f_res_f_res_f_res_t_res_178169;
                                        loopres_f_res_f_res_f_res_f_res_178152 = loopres_f_res_f_res_f_res_f_res_t_res_178170;
                                        loopres_f_res_f_res_f_res_f_res_178153 = x_178168;
                                    } else {
                                        int64_t tmp_178172 = add64((int64_t) 1, ai_177985);
                                        
                                        loopres_f_res_f_res_f_res_f_res_178150 = tmp_178172;
                                        loopres_f_res_f_res_f_res_f_res_178151 = p_177981;
                                        loopres_f_res_f_res_f_res_f_res_178152 = p_177982;
                                        loopres_f_res_f_res_f_res_f_res_178153 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_178050 = loopres_f_res_f_res_f_res_f_res_178150;
                                    loopres_f_res_f_res_f_res_178051 = loopres_f_res_f_res_f_res_f_res_178151;
                                    loopres_f_res_f_res_f_res_178052 = loopres_f_res_f_res_f_res_f_res_178152;
                                    loopres_f_res_f_res_f_res_178053 = loopres_f_res_f_res_f_res_f_res_178153;
                                }
                                loopres_f_res_f_res_178027 = loopres_f_res_f_res_f_res_178050;
                                loopres_f_res_f_res_178028 = loopres_f_res_f_res_f_res_178051;
                                loopres_f_res_f_res_178029 = loopres_f_res_f_res_f_res_178052;
                                loopres_f_res_f_res_178030 = loopres_f_res_f_res_f_res_178053;
                            }
                            loopres_f_res_178003 = loopres_f_res_f_res_178027;
                            loopres_f_res_178004 = loopres_f_res_f_res_178028;
                            loopres_f_res_178005 = loopres_f_res_f_res_178029;
                            loopres_f_res_178006 = loopres_f_res_f_res_178030;
                        }
                        loopres_177998 = loopres_f_res_178003;
                        loopres_177999 = loopres_f_res_178004;
                        loopres_178000 = loopres_f_res_178005;
                        loopres_178001 = loopres_f_res_178006;
                    }
                    
                    bool loop_while_tmp_181415 = loopres_178001;
                    int64_t p_tmp_181416 = loopres_177998;
                    int64_t p_tmp_181417 = loopres_177999;
                    int64_t p_tmp_181418 = loopres_178000;
                    
                    loop_while_177979 = loop_while_tmp_181415;
                    p_177980 = p_tmp_181416;
                    p_177981 = p_tmp_181417;
                    p_177982 = p_tmp_181418;
                }
                defunc_0_f_res_177975 = loop_while_177979;
                defunc_0_f_res_177976 = p_177980;
                defunc_0_f_res_177977 = p_177981;
                defunc_0_f_res_177978 = p_177982;
                ((int64_t *) mem_180348)[i_179650] = defunc_0_f_res_177977;
                ((int64_t *) mem_180350)[i_179650] = defunc_0_f_res_177978;
            }
            if (mem_180365_cached_sizze_181854 < bytes_180364) {
                err = lexical_realloc(ctx, &mem_180365, &mem_180365_cached_sizze_181854, bytes_180364);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180367_cached_sizze_181855 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174535) {
                err = lexical_realloc(ctx, &mem_180367, &mem_180367_cached_sizze_181855, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174535);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180370_cached_sizze_181856 < bytes_180364) {
                err = lexical_realloc(ctx, &mem_180370, &mem_180370_cached_sizze_181856, bytes_180364);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180373_cached_sizze_181857 < bytes_180372) {
                err = lexical_realloc(ctx, &mem_180373, &mem_180373_cached_sizze_181857, bytes_180372);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_179716 = 0; i_179716 < threads_130664; i_179716++) {
                bool y_178186 = slt64(i_179716, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
                bool index_certs_178188;
                
                if (!y_178186) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179716, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178189 = sle64((int64_t) 1, i_179716);
                int64_t index_concat_i_178190 = sub64(i_179716, (int64_t) 1);
                int64_t index_concat_178191;
                
                if (index_concat_cmp_178189) {
                    int64_t x_178192 = ((int64_t *) mem_180348)[index_concat_i_178190];
                    
                    index_concat_178191 = x_178192;
                } else {
                    index_concat_178191 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178193;
                
                if (index_concat_cmp_178189) {
                    index_concat_branch_178193 = index_concat_178191;
                } else {
                    index_concat_branch_178193 = (int64_t) 0;
                }
                
                int64_t index_concat_178194;
                
                if (index_concat_cmp_178189) {
                    int64_t x_178195 = ((int64_t *) mem_180350)[index_concat_i_178190];
                    
                    index_concat_178194 = x_178195;
                } else {
                    index_concat_178194 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178196;
                
                if (index_concat_cmp_178189) {
                    index_concat_branch_178196 = index_concat_178194;
                } else {
                    index_concat_branch_178196 = (int64_t) 0;
                }
                
                int64_t ubs_178197 = add64((int64_t) 1, i_179716);
                bool x_178198 = sle64((int64_t) 0, ubs_178197);
                bool y_178199 = slt64(ubs_178197, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
                bool bounds_check_178200 = x_178198 && y_178199;
                bool index_certs_178201;
                
                if (!bounds_check_178200) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_178197, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178202 = sle64((int64_t) 1, ubs_178197);
                int64_t index_concat_178203;
                
                if (index_concat_cmp_178202) {
                    int64_t x_178204 = ((int64_t *) mem_180348)[i_179716];
                    
                    index_concat_178203 = x_178204;
                } else {
                    index_concat_178203 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178205;
                
                if (index_concat_cmp_178202) {
                    index_concat_branch_178205 = index_concat_178203;
                } else {
                    index_concat_branch_178205 = (int64_t) 0;
                }
                
                int64_t index_concat_178206;
                
                if (index_concat_cmp_178202) {
                    int64_t x_178207 = ((int64_t *) mem_180350)[i_179716];
                    
                    index_concat_178206 = x_178207;
                } else {
                    index_concat_178206 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178208;
                
                if (index_concat_cmp_178202) {
                    index_concat_branch_178208 = index_concat_178206;
                } else {
                    index_concat_branch_178208 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209 = sub64(index_concat_branch_178208, index_concat_branch_178196);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210 = sub64(index_concat_branch_178205, index_concat_branch_178193);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                int64_t zm_lhs_178212 = add64(index_concat_branch_178205, index_concat_branch_178208);
                int64_t zm_rhs_178213 = add64(index_concat_branch_178193, index_concat_branch_178196);
                int64_t card_178214 = sub64(zm_lhs_178212, zm_rhs_178213);
                bool empty_slice_178215 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210 == (int64_t) 0;
                int64_t m_178216 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, (int64_t) 1);
                int64_t i_p_m_t_s_178217 = add64(index_concat_branch_178193, m_178216);
                bool zzero_leq_i_p_m_t_s_178218 = sle64((int64_t) 0, i_p_m_t_s_178217);
                bool i_p_m_t_s_leq_w_178219 = slt64(i_p_m_t_s_178217, window_sizze_130663);
                bool zzero_lte_i_178220 = sle64((int64_t) 0, index_concat_branch_178193);
                bool i_lte_j_178221 = sle64(index_concat_branch_178193, index_concat_branch_178205);
                bool y_178222 = i_p_m_t_s_leq_w_178219 && zzero_lte_i_178220;
                bool y_178223 = zzero_leq_i_p_m_t_s_178218 && y_178222;
                bool forwards_ok_178224 = i_lte_j_178221 && y_178223;
                bool ok_or_empty_178225 = empty_slice_178215 || forwards_ok_178224;
                bool index_certs_178226;
                
                if (!ok_or_empty_178225) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178193, ":", (long long) index_concat_branch_178205, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178227 = slt64(index_concat_branch_178205, index_concat_branch_178193);
                bool valid_178228 = !bounds_invalid_upwards_178227;
                bool range_valid_c_178229;
                
                if (!valid_178228) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178193, "..<", (long long) index_concat_branch_178205, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_178234 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209 == (int64_t) 0;
                int64_t m_178235 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209, (int64_t) 1);
                int64_t i_p_m_t_s_178236 = add64(index_concat_branch_178196, m_178235);
                bool zzero_leq_i_p_m_t_s_178237 = sle64((int64_t) 0, i_p_m_t_s_178236);
                bool i_p_m_t_s_leq_w_178238 = slt64(i_p_m_t_s_178236, window_sizze_130663);
                bool zzero_lte_i_178239 = sle64((int64_t) 0, index_concat_branch_178196);
                bool i_lte_j_178240 = sle64(index_concat_branch_178196, index_concat_branch_178208);
                bool y_178241 = i_p_m_t_s_leq_w_178238 && zzero_lte_i_178239;
                bool y_178242 = zzero_leq_i_p_m_t_s_178237 && y_178241;
                bool forwards_ok_178243 = i_lte_j_178240 && y_178242;
                bool ok_or_empty_178244 = empty_slice_178234 || forwards_ok_178243;
                bool index_certs_178245;
                
                if (!ok_or_empty_178244) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178196, ":", (long long) index_concat_branch_178208, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178246 = slt64(index_concat_branch_178208, index_concat_branch_178196);
                bool valid_178247 = !bounds_invalid_upwards_178246;
                bool range_valid_c_178248;
                
                if (!valid_178247) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178196, "..<", (long long) index_concat_branch_178208, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180402 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211;
                int64_t bytes_180404 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211;
                bool cond_178256 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, (int64_t) 1);
                int64_t zs_lhs_178257 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, (int64_t) 1);
                int64_t zp_rhs_178258 = sdiv_safe64(zs_lhs_178257, (int64_t) 20);
                int64_t min_num_blocks_178259 = add64((int64_t) 1, zp_rhs_178258);
                bool loop_cond_178260 = slt64((int64_t) 1, min_num_blocks_178259);
                bool smallest_pow_2_geq_than_res_178261;
                int64_t smallest_pow_2_geq_than_res_178262;
                bool loop_while_178263;
                int64_t x_178264;
                
                loop_while_178263 = loop_cond_178260;
                x_178264 = (int64_t) 1;
                while (loop_while_178263) {
                    int64_t loopres_178265 = mul64((int64_t) 2, x_178264);
                    bool loop_cond_178266 = slt64(loopres_178265, min_num_blocks_178259);
                    bool loop_while_tmp_181431 = loop_cond_178266;
                    int64_t x_tmp_181432 = loopres_178265;
                    
                    loop_while_178263 = loop_while_tmp_181431;
                    x_178264 = x_tmp_181432;
                }
                smallest_pow_2_geq_than_res_178261 = loop_while_178263;
                smallest_pow_2_geq_than_res_178262 = x_178264;
                
                bool zzero_178267 = smallest_pow_2_geq_than_res_178262 == (int64_t) 0;
                bool nonzzero_178268 = !zzero_178267;
                bool protect_assert_disj_178269 = cond_178256 || nonzzero_178268;
                bool nonzzero_cert_178270;
                
                if (!protect_assert_disj_178269) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_178271 = sdiv_safe64(zs_lhs_178257, smallest_pow_2_geq_than_res_178262);
                int64_t block_sizze_178272 = add64((int64_t) 1, zp_rhs_178271);
                bool y_178279 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211);
                bool protect_assert_disj_181148 = cond_178256 || y_178279;
                bool index_certs_178280;
                
                if (!protect_assert_disj_181148) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178317 = slt64(smallest_pow_2_geq_than_res_178262, (int64_t) 0);
                bool valid_178318 = !bounds_invalid_upwards_178317;
                bool protect_assert_disj_181158 = cond_178256 || valid_178318;
                bool range_valid_c_178319;
                
                if (!protect_assert_disj_181158) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_178262, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:380:63-73\n   #6  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178321 = slt64(block_sizze_178272, (int64_t) 0);
                bool valid_178322 = !bounds_invalid_upwards_178321;
                bool protect_assert_disj_181160 = cond_178256 || valid_178322;
                bool range_valid_c_178323;
                
                if (!protect_assert_disj_181160) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_178272, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_178325 = sle64(block_sizze_178272, (int64_t) 1);
                int64_t tmp_178326 = sub64(block_sizze_178272, (int64_t) 2);
                bool bounds_invalid_upwards_178327 = slt64(tmp_178326, (int64_t) 0);
                bool valid_178329 = !bounds_invalid_upwards_178327;
                bool protect_assert_disj_178330 = cond_178325 || valid_178329;
                bool protect_assert_disj_181162 = cond_178256 || protect_assert_disj_178330;
                bool range_valid_c_178331;
                
                if (!protect_assert_disj_181162) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_178326, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_178911 = card_178214 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211;
                bool empty_or_match_cert_178912;
                
                if (!dim_match_178911) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "] cannot match shape of type `[", (long long) card_178214, "](i8, i64, i32)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_178913 = card_178214 == (int64_t) 0;
                int64_t m_178914 = sub64(card_178214, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_178915 = sle64((int64_t) 0, m_178914);
                bool i_p_m_t_s_leq_w_178916 = slt64(m_178914, card_178214);
                bool y_178917 = zzero_leq_i_p_m_t_s_178915 && i_p_m_t_s_leq_w_178916;
                bool ok_or_empty_178918 = empty_slice_178913 || y_178917;
                bool index_certs_178919;
                
                if (!ok_or_empty_178918) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178214, "] out of bounds for array of shape [", (long long) card_178214, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_178920 = slt64(m_178914, perThread_174534);
                bool y_178921 = zzero_leq_i_p_m_t_s_178915 && i_p_m_t_s_leq_w_178920;
                bool ok_or_empty_178922 = empty_slice_178913 || y_178921;
                bool index_certs_178923;
                
                if (!ok_or_empty_178922) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178214, "] out of bounds for array of shape [", (long long) perThread_174534, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_181433 = 0; nest_i_181433 < perThread_174534; nest_i_181433++) {
                    ((int8_t *) mem_180367)[i_179716 * perThread_174534 + nest_i_181433] = (int8_t) -1;
                }
                for (int64_t nest_i_181434 = 0; nest_i_181434 < perThread_174534; nest_i_181434++) {
                    ((int64_t *) mem_180370)[i_179716 * perThread_174534 + nest_i_181434] = (int64_t) -1;
                }
                for (int64_t nest_i_181435 = 0; nest_i_181435 < perThread_174534; nest_i_181435++) {
                    ((int32_t *) mem_180373)[i_179716 * perThread_174534 + nest_i_181435] = 0;
                }
                
                int64_t slice_178230 = p_174496 + index_concat_branch_178193;
                
                if (memblock_alloc(ctx, &mem_180401, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "mem_180401")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_181436 = 0; nest_i_181436 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210; nest_i_181436++) {
                    ((int8_t *) mem_180401.mem)[nest_i_181436] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180403, bytes_180402, "mem_180403")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_181437 = 0; i_181437 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210; i_181437++) {
                    int64_t x_181438 = index_concat_branch_178193 + i_181437 * (int64_t) 1;
                    
                    ((int64_t *) mem_180403.mem)[i_181437] = x_181438;
                }
                
                int64_t slice_178249 = p_174497 + index_concat_branch_178196;
                
                for (int64_t nest_i_181439 = 0; nest_i_181439 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209; nest_i_181439++) {
                    ((int8_t *) mem_180401.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210 + nest_i_181439] = (int8_t) 1;
                }
                for (int64_t i_181440 = 0; i_181440 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209; i_181440++) {
                    int64_t x_181441 = index_concat_branch_178196 + i_181440 * (int64_t) 1;
                    
                    ((int64_t *) mem_180403.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210 + i_181440] = x_181441;
                }
                
                int64_t tmp_offs_181442 = (int64_t) 0;
                
                if (!(tmp_offs_181442 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180401.mem, tmp_offs_181442, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180401.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210});
                }
                tmp_offs_181442 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210;
                if (!(tmp_offs_181442 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180401.mem, tmp_offs_181442, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180401.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209});
                }
                tmp_offs_181442 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209;
                
                int64_t tmp_offs_181443 = (int64_t) 0;
                
                if (!(tmp_offs_181443 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180403.mem, tmp_offs_181443, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180403.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210});
                }
                tmp_offs_181443 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210;
                if (!(tmp_offs_181443 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180403.mem, tmp_offs_181443, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180403.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209});
                }
                tmp_offs_181443 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209;
                if (memblock_alloc(ctx, &mem_180405, bytes_180404, "mem_180405")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_181444 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180405.mem, tmp_offs_181444, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_179986.mem, slice_178230, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210});
                tmp_offs_181444 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180405.mem, tmp_offs_181444, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_179987.mem, slice_178249, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209});
                tmp_offs_181444 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209;
                
                int64_t flat_dim_178273 = smallest_pow_2_geq_than_res_178262 * block_sizze_178272;
                bool x_181143 = !cond_178256;
                int64_t greatest_divisor_leq_than_arg1_178277 = mul64((int64_t) 2, block_sizze_178272);
                int64_t merge_block_sizze_178278;
                
                if (x_181143) {
                    int64_t x_181145;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181145, (int64_t) 8, greatest_divisor_leq_than_arg1_178277) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_178278 = x_181145;
                } else {
                    merge_block_sizze_178278 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178281 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, (int64_t) 0);
                int8_t index_concat_branch_178282 = btoi_bool_i8(index_concat_cmp_178281);
                int64_t index_concat_i_178284 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                int64_t index_primexp_178285 = add64(index_concat_branch_178196, index_concat_i_178284);
                int64_t index_concat_branch_178283;
                
                if (index_concat_cmp_178281) {
                    index_concat_branch_178283 = index_primexp_178285;
                } else {
                    index_concat_branch_178283 = index_concat_branch_178193;
                }
                
                bool x_181139 = !index_concat_cmp_178281;
                bool protect_cond_conj_181149 = x_181139 && x_181143;
                int32_t index_concat_178291;
                
                if (protect_cond_conj_181149) {
                    int32_t x_181141 = ((int32_t *) a_list_mem_179986.mem)[slice_178230];
                    
                    index_concat_178291 = x_181141;
                } else {
                    index_concat_178291 = 0;
                }
                
                int64_t slice_178289 = p_174497 + index_primexp_178285;
                bool protect_cond_conj_181150 = index_concat_cmp_178281 && x_181143;
                int32_t index_concat_178290;
                
                if (protect_cond_conj_181150) {
                    int32_t x_181137 = ((int32_t *) b_list_mem_179987.mem)[slice_178289];
                    
                    index_concat_178290 = x_181137;
                } else {
                    index_concat_178290 = 0;
                }
                
                int32_t index_concat_branch_178286;
                
                if (index_concat_cmp_178281) {
                    index_concat_branch_178286 = index_concat_178290;
                } else {
                    index_concat_branch_178286 = index_concat_178291;
                }
                
                int8_t defunc_0_reduce_res_178292;
                int64_t defunc_0_reduce_res_178293;
                int32_t defunc_0_reduce_res_178294;
                
                if (x_181143) {
                    int8_t x_181151;
                    int64_t x_181152;
                    int32_t x_181153;
                    int8_t redout_179653;
                    int64_t redout_179654;
                    int32_t redout_179655;
                    
                    redout_179653 = index_concat_branch_178282;
                    redout_179654 = index_concat_branch_178283;
                    redout_179655 = index_concat_branch_178286;
                    for (int64_t i_179656 = 0; i_179656 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211; i_179656++) {
                        bool index_concat_cmp_179914 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, i_179656);
                        int8_t index_concat_branch_179918 = btoi_bool_i8(index_concat_cmp_179914);
                        int64_t index_concat_branch_179912;
                        
                        if (index_concat_cmp_179914) {
                            int64_t index_concat_i_179909 = sub64(i_179656, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                            int64_t index_primexp_179962 = add64(index_concat_branch_178196, index_concat_i_179909);
                            
                            index_concat_branch_179912 = index_primexp_179962;
                        } else {
                            int64_t index_primexp_179964 = add64(index_concat_branch_178193, i_179656);
                            
                            index_concat_branch_179912 = index_primexp_179964;
                        }
                        
                        int32_t index_concat_branch_179906;
                        
                        if (index_concat_cmp_179914) {
                            int64_t index_concat_i_179903 = sub64(i_179656, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                            int64_t slice_179959 = slice_178249 + index_concat_i_179903;
                            int32_t index_concat_179904 = ((int32_t *) b_list_mem_179987.mem)[slice_179959];
                            
                            index_concat_branch_179906 = index_concat_179904;
                        } else {
                            int64_t slice_179960 = slice_178230 + i_179656;
                            int32_t index_concat_179905 = ((int32_t *) a_list_mem_179986.mem)[slice_179960];
                            
                            index_concat_branch_179906 = index_concat_179905;
                        }
                        
                        bool eq_x_y_179976 = redout_179653 == (int8_t) 1;
                        bool eq_x_zz_179977 = redout_179653 == (int8_t) 0;
                        bool p_and_eq_x_y_179978 = index_concat_cmp_179914 && eq_x_y_179976;
                        bool not_p_179979 = !index_concat_cmp_179914;
                        bool p_and_eq_x_y_179980 = eq_x_zz_179977 && not_p_179979;
                        bool cond_178304 = p_and_eq_x_y_179978 || p_and_eq_x_y_179980;
                        bool defunc_0_leq_res_t_res_178305 = sle64(redout_179654, index_concat_branch_179912);
                        bool defunc_0_leq_res_178306 = sle32(redout_179655, index_concat_branch_179906);
                        bool x_178307 = cond_178304 && defunc_0_leq_res_t_res_178305;
                        bool x_178308 = !cond_178304;
                        bool y_178309 = defunc_0_leq_res_178306 && x_178308;
                        bool defunc_0_leq_res_178310 = x_178307 || y_178309;
                        int8_t defunc_0_op_res_178311;
                        
                        if (defunc_0_leq_res_178310) {
                            defunc_0_op_res_178311 = index_concat_branch_179918;
                        } else {
                            defunc_0_op_res_178311 = redout_179653;
                        }
                        
                        int64_t defunc_0_op_res_178312;
                        
                        if (defunc_0_leq_res_178310) {
                            defunc_0_op_res_178312 = index_concat_branch_179912;
                        } else {
                            defunc_0_op_res_178312 = redout_179654;
                        }
                        
                        int32_t defunc_0_op_res_178313;
                        
                        if (defunc_0_leq_res_178310) {
                            defunc_0_op_res_178313 = index_concat_branch_179906;
                        } else {
                            defunc_0_op_res_178313 = redout_179655;
                        }
                        
                        int8_t redout_tmp_181445 = defunc_0_op_res_178311;
                        int64_t redout_tmp_181446 = defunc_0_op_res_178312;
                        int32_t redout_tmp_181447 = defunc_0_op_res_178313;
                        
                        redout_179653 = redout_tmp_181445;
                        redout_179654 = redout_tmp_181446;
                        redout_179655 = redout_tmp_181447;
                    }
                    x_181151 = redout_179653;
                    x_181152 = redout_179654;
                    x_181153 = redout_179655;
                    defunc_0_reduce_res_178292 = x_181151;
                    defunc_0_reduce_res_178293 = x_181152;
                    defunc_0_reduce_res_178294 = x_181153;
                } else {
                    defunc_0_reduce_res_178292 = (int8_t) 0;
                    defunc_0_reduce_res_178293 = (int64_t) 0;
                    defunc_0_reduce_res_178294 = 0;
                }
                
                int64_t distance_178328 = add64((int64_t) 1, tmp_178326);
                int64_t binop_x_180408 = (int64_t) 8 * smallest_pow_2_geq_than_res_178262;
                int64_t bytes_180409 = block_sizze_178272 * binop_x_180408;
                int64_t binop_x_180411 = (int64_t) 4 * smallest_pow_2_geq_than_res_178262;
                int64_t bytes_180412 = block_sizze_178272 * binop_x_180411;
                int64_t bytes_180427 = (int64_t) 8 * block_sizze_178272;
                int64_t bytes_180429 = (int64_t) 4 * block_sizze_178272;
                bool loop_cond_178454 = slt64(block_sizze_178272, flat_dim_178273);
                bool zzero_178455 = merge_block_sizze_178278 == (int64_t) 0;
                bool nonzzero_178456 = !zzero_178455;
                
                if (cond_178256) {
                    if (memblock_set(ctx, &ext_mem_180700, &mem_180401, "mem_180401") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180697, &mem_180403, "mem_180403") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180694, &mem_180405, "mem_180405") != 0)
                        return 1;
                } else {
                    if (mem_180407_cached_sizze_181858 < flat_dim_178273) {
                        err = lexical_realloc(ctx, &mem_180407, &mem_180407_cached_sizze_181858, flat_dim_178273);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180410_cached_sizze_181859 < bytes_180409) {
                        err = lexical_realloc(ctx, &mem_180410, &mem_180410_cached_sizze_181859, bytes_180409);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180413_cached_sizze_181860 < bytes_180412) {
                        err = lexical_realloc(ctx, &mem_180413, &mem_180413_cached_sizze_181860, bytes_180412);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180426_cached_sizze_181861 < block_sizze_178272) {
                        err = lexical_realloc(ctx, &mem_180426, &mem_180426_cached_sizze_181861, block_sizze_178272);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180428_cached_sizze_181862 < bytes_180427) {
                        err = lexical_realloc(ctx, &mem_180428, &mem_180428_cached_sizze_181862, bytes_180427);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180430_cached_sizze_181863 < bytes_180429) {
                        err = lexical_realloc(ctx, &mem_180430, &mem_180430_cached_sizze_181863, bytes_180429);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179673 = 0; i_179673 < smallest_pow_2_geq_than_res_178262; i_179673++) {
                        int64_t zp_lhs_178336 = mul64(block_sizze_178272, i_179673);
                        
                        for (int64_t i_179663 = 0; i_179663 < block_sizze_178272; i_179663++) {
                            int64_t k_178341 = add64(zp_lhs_178336, i_179663);
                            bool cond_178342 = slt64(k_178341, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211);
                            int8_t lifted_lambda_res_178343;
                            int64_t lifted_lambda_res_178344;
                            int32_t lifted_lambda_res_178345;
                            
                            if (cond_178342) {
                                bool x_178346 = sle64((int64_t) 0, k_178341);
                                bool bounds_check_178347 = cond_178342 && x_178346;
                                bool index_certs_178348;
                                
                                if (!bounds_check_178347) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_178341, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_178349 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, k_178341);
                                int8_t index_concat_branch_178350 = btoi_bool_i8(index_concat_cmp_178349);
                                int64_t index_concat_branch_178351;
                                
                                if (index_concat_cmp_178349) {
                                    int64_t index_concat_i_178352 = sub64(k_178341, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                                    int64_t index_primexp_178353 = add64(index_concat_branch_178196, index_concat_i_178352);
                                    
                                    index_concat_branch_178351 = index_primexp_178353;
                                } else {
                                    int64_t index_primexp_178354 = add64(index_concat_branch_178193, k_178341);
                                    
                                    index_concat_branch_178351 = index_primexp_178354;
                                }
                                
                                int32_t index_concat_branch_178355;
                                
                                if (index_concat_cmp_178349) {
                                    int64_t index_concat_i_178356 = sub64(k_178341, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                                    int64_t slice_178357 = index_concat_branch_178196 + index_concat_i_178356;
                                    int64_t slice_178358 = p_174497 + slice_178357;
                                    int32_t index_concat_178359 = ((int32_t *) b_list_mem_179987.mem)[slice_178358];
                                    
                                    index_concat_branch_178355 = index_concat_178359;
                                } else {
                                    int64_t slice_178360 = index_concat_branch_178193 + k_178341;
                                    int64_t slice_178361 = p_174496 + slice_178360;
                                    int32_t index_concat_178362 = ((int32_t *) a_list_mem_179986.mem)[slice_178361];
                                    
                                    index_concat_branch_178355 = index_concat_178362;
                                }
                                lifted_lambda_res_178343 = index_concat_branch_178350;
                                lifted_lambda_res_178344 = index_concat_branch_178351;
                                lifted_lambda_res_178345 = index_concat_branch_178355;
                            } else {
                                lifted_lambda_res_178343 = defunc_0_reduce_res_178292;
                                lifted_lambda_res_178344 = defunc_0_reduce_res_178293;
                                lifted_lambda_res_178345 = defunc_0_reduce_res_178294;
                            }
                            ((int8_t *) mem_180426)[i_179663] = lifted_lambda_res_178343;
                            ((int64_t *) mem_180428)[i_179663] = lifted_lambda_res_178344;
                            ((int32_t *) mem_180430)[i_179663] = lifted_lambda_res_178345;
                        }
                        if (!cond_178325) {
                            for (int64_t i_178372 = 0; i_178372 < distance_178328; i_178372++) {
                                int64_t gt_arg1_178376 = add64((int64_t) 1, i_178372);
                                bool x_178377 = sle64((int64_t) 0, gt_arg1_178376);
                                bool y_178378 = slt64(gt_arg1_178376, block_sizze_178272);
                                bool bounds_check_178379 = x_178377 && y_178378;
                                bool index_certs_178380;
                                
                                if (!bounds_check_178379) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_178376, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_178384 = slt64(i_178372, block_sizze_178272);
                                bool index_certs_178385;
                                
                                if (!y_178384) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178372, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_178381 = ((int8_t *) mem_180426)[gt_arg1_178376];
                                int64_t gt_arg1_178382 = ((int64_t *) mem_180428)[gt_arg1_178376];
                                int32_t gt_arg1_178383 = ((int32_t *) mem_180430)[gt_arg1_178376];
                                int8_t gt_arg0_178386 = ((int8_t *) mem_180426)[i_178372];
                                int64_t gt_arg0_178387 = ((int64_t *) mem_180428)[i_178372];
                                int32_t gt_arg0_178388 = ((int32_t *) mem_180430)[i_178372];
                                bool cond_178389 = gt_arg0_178386 == gt_arg1_178381;
                                bool defunc_0_leq_res_t_res_178390 = sle64(gt_arg0_178387, gt_arg1_178382);
                                bool defunc_0_leq_res_178391 = sle32(gt_arg0_178388, gt_arg1_178383);
                                bool x_178392 = cond_178389 && defunc_0_leq_res_t_res_178390;
                                bool x_178393 = !cond_178389;
                                bool y_178394 = defunc_0_leq_res_178391 && x_178393;
                                bool defunc_0_leq_res_178395 = x_178392 || y_178394;
                                bool defunc_0_lifted_gt_res_178396 = !defunc_0_leq_res_178395;
                                bool s_178397;
                                int64_t s_178401;
                                bool loop_while_178402;
                                int64_t j_178406;
                                
                                loop_while_178402 = defunc_0_lifted_gt_res_178396;
                                j_178406 = i_178372;
                                while (loop_while_178402) {
                                    bool x_178407 = sle64((int64_t) 0, j_178406);
                                    bool y_178408 = slt64(j_178406, block_sizze_178272);
                                    bool bounds_check_178409 = x_178407 && y_178408;
                                    bool index_certs_178410;
                                    
                                    if (!bounds_check_178409) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178406, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_178414 = add64((int64_t) 1, j_178406);
                                    bool x_178415 = sle64((int64_t) 0, copy_arg0_178414);
                                    bool y_178416 = slt64(copy_arg0_178414, block_sizze_178272);
                                    bool bounds_check_178417 = x_178415 && y_178416;
                                    bool index_certs_178418;
                                    
                                    if (!bounds_check_178417) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_178414, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_178411 = ((int8_t *) mem_180426)[j_178406];
                                    int64_t copy_arg0_178412 = ((int64_t *) mem_180428)[j_178406];
                                    int32_t copy_arg0_178413 = ((int32_t *) mem_180430)[j_178406];
                                    int8_t copy_arg0_178419 = ((int8_t *) mem_180426)[copy_arg0_178414];
                                    int64_t copy_arg0_178420 = ((int64_t *) mem_180428)[copy_arg0_178414];
                                    int32_t copy_arg0_178421 = ((int32_t *) mem_180430)[copy_arg0_178414];
                                    
                                    ((int8_t *) mem_180426)[j_178406] = copy_arg0_178419;
                                    ((int64_t *) mem_180428)[j_178406] = copy_arg0_178420;
                                    ((int32_t *) mem_180430)[j_178406] = copy_arg0_178421;
                                    ((int8_t *) mem_180426)[copy_arg0_178414] = copy_arg0_178411;
                                    ((int64_t *) mem_180428)[copy_arg0_178414] = copy_arg0_178412;
                                    ((int32_t *) mem_180430)[copy_arg0_178414] = copy_arg0_178413;
                                    
                                    int64_t tmp_178428 = sub64(j_178406, (int64_t) 1);
                                    bool cond_178429 = sle64((int64_t) 0, tmp_178428);
                                    bool loop_cond_178430;
                                    
                                    if (cond_178429) {
                                        bool y_178434 = slt64(tmp_178428, block_sizze_178272);
                                        bool bounds_check_178435 = cond_178429 && y_178434;
                                        bool index_certs_178436;
                                        
                                        if (!bounds_check_178435) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178428, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_178431 = ((int8_t *) mem_180426)[j_178406];
                                        int64_t gt_arg1_178432 = ((int64_t *) mem_180428)[j_178406];
                                        int32_t gt_arg1_178433 = ((int32_t *) mem_180430)[j_178406];
                                        int8_t gt_arg0_178437 = ((int8_t *) mem_180426)[tmp_178428];
                                        int64_t gt_arg0_178438 = ((int64_t *) mem_180428)[tmp_178428];
                                        int32_t gt_arg0_178439 = ((int32_t *) mem_180430)[tmp_178428];
                                        bool cond_178440 = gt_arg0_178437 == gt_arg1_178431;
                                        bool defunc_0_leq_res_t_res_178441 = sle64(gt_arg0_178438, gt_arg1_178432);
                                        bool defunc_0_leq_res_178442 = sle32(gt_arg0_178439, gt_arg1_178433);
                                        bool x_178443 = cond_178440 && defunc_0_leq_res_t_res_178441;
                                        bool x_178444 = !cond_178440;
                                        bool y_178445 = defunc_0_leq_res_178442 && x_178444;
                                        bool defunc_0_leq_res_178446 = x_178443 || y_178445;
                                        bool defunc_0_lifted_gt_res_178447 = !defunc_0_leq_res_178446;
                                        
                                        loop_cond_178430 = defunc_0_lifted_gt_res_178447;
                                    } else {
                                        loop_cond_178430 = 0;
                                    }
                                    
                                    bool loop_while_tmp_181457 = loop_cond_178430;
                                    int64_t j_tmp_181461 = tmp_178428;
                                    
                                    loop_while_178402 = loop_while_tmp_181457;
                                    j_178406 = j_tmp_181461;
                                }
                                s_178397 = loop_while_178402;
                                s_178401 = j_178406;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180407, i_179673 * block_sizze_178272, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180426, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178272});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180410, i_179673 * block_sizze_178272, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180428, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178272});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_180413, i_179673 * block_sizze_178272, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180430, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178272});
                    }
                    if (memblock_alloc(ctx, &mem_180507, flat_dim_178273, "mem_180507")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180507.mem, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (uint8_t *) mem_180407, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178262, block_sizze_178272});
                    if (memblock_alloc(ctx, &mem_180511, bytes_180409, "mem_180511")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180511.mem, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (uint64_t *) mem_180410, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178262, block_sizze_178272});
                    if (memblock_alloc(ctx, &mem_180515, bytes_180412, "mem_180515")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_180515.mem, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (uint32_t *) mem_180413, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178262, block_sizze_178272});
                    
                    int64_t data_178457;
                    bool data_178458;
                    int64_t data_178462;
                    int64_t loop_dz2084Uz2082U_178463;
                    bool loop_while_178464;
                    int64_t stride_178468;
                    
                    if (memblock_set(ctx, &mem_param_180519, &mem_180507, "mem_180507") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180522, &mem_180511, "mem_180511") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180525, &mem_180515, "mem_180515") != 0)
                        return 1;
                    loop_dz2084Uz2082U_178463 = flat_dim_178273;
                    loop_while_178464 = loop_cond_178454;
                    stride_178468 = block_sizze_178272;
                    while (loop_while_178464) {
                        int64_t next_stride_178469 = mul64((int64_t) 2, stride_178468);
                        bool zzero_178470 = next_stride_178469 == (int64_t) 0;
                        bool nonzzero_178471 = !zzero_178470;
                        bool nonzzero_cert_178472;
                        
                        if (!nonzzero_178471) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_178473 = sdiv64(flat_dim_178273, next_stride_178469);
                        bool bounds_invalid_upwards_178474 = slt64(num_merges_178473, (int64_t) 0);
                        bool valid_178475 = !bounds_invalid_upwards_178474;
                        bool range_valid_c_178476;
                        
                        if (!valid_178475) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_178473, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:380:63-73\n   #6  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_178478 = sub64(next_stride_178469, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_178479 = sle64((int64_t) 0, m_178478);
                        bool cond_178481 = slt64(next_stride_178469, (int64_t) 10);
                        bool protect_assert_disj_178482 = nonzzero_178456 || cond_178481;
                        bool nonzzero_cert_178483;
                        
                        if (!protect_assert_disj_178482) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_178484 = smod_safe64(next_stride_178469, merge_block_sizze_178278);
                        bool num_blocks_178485 = zeze_lhs_178484 == (int64_t) 0;
                        bool protect_assert_disj_178486 = cond_178481 || num_blocks_178485;
                        bool assert_c_178487;
                        
                        if (!protect_assert_disj_178486) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_178488 = sdiv_safe64(next_stride_178469, merge_block_sizze_178278);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489 = add64((int64_t) 1, num_blocks_178488);
                        int64_t j_m_i_178490 = sub64(next_stride_178469, stride_178468);
                        int64_t flat_dim_178491 = merge_block_sizze_178278 * num_blocks_178488;
                        bool bounds_invalid_upwards_178492 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489, (int64_t) 0);
                        bool empty_slice_178493 = j_m_i_178490 == (int64_t) 0;
                        int64_t m_178494 = sub64(j_m_i_178490, (int64_t) 1);
                        bool zzero_lte_i_178495 = sle64((int64_t) 0, stride_178468);
                        bool i_lte_j_178496 = sle64(stride_178468, next_stride_178469);
                        bool empty_slice_178497 = stride_178468 == (int64_t) 0;
                        int64_t m_178498 = sub64(stride_178468, (int64_t) 1);
                        bool bounds_invalid_upwards_178499 = slt64(num_blocks_178488, (int64_t) 0);
                        bool cond_178500 = slt64((int64_t) 0, stride_178468);
                        bool valid_178501 = !bounds_invalid_upwards_178492;
                        int64_t i_p_m_t_s_178502 = add64(stride_178468, m_178494);
                        bool zzero_leq_i_p_m_t_s_178503 = sle64((int64_t) 0, m_178498);
                        bool i_p_m_t_s_leq_w_178504 = slt64(m_178498, next_stride_178469);
                        bool valid_178505 = !bounds_invalid_upwards_178499;
                        bool i_p_m_t_s_leq_w_178506 = slt64(m_178478, flat_dim_178491);
                        bool y_178507 = slt64((int64_t) 0, j_m_i_178490);
                        bool protect_assert_disj_178508 = cond_178481 || valid_178501;
                        bool range_valid_c_178509;
                        
                        if (!protect_assert_disj_178508) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_178510 = sle64((int64_t) 0, i_p_m_t_s_178502);
                        bool i_p_m_t_s_leq_w_178511 = slt64(i_p_m_t_s_178502, next_stride_178469);
                        bool y_178512 = zzero_leq_i_p_m_t_s_178503 && i_p_m_t_s_leq_w_178504;
                        bool protect_assert_disj_178513 = cond_178481 || valid_178505;
                        bool range_valid_c_178514;
                        
                        if (!protect_assert_disj_178513) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_178488, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_178515 = zzero_leq_i_p_m_t_s_178479 && i_p_m_t_s_leq_w_178506;
                        bool y_178516 = zzero_lte_i_178495 && i_p_m_t_s_leq_w_178511;
                        bool forwards_ok_178517 = zzero_lte_i_178495 && y_178512;
                        bool ok_or_empty_178518 = zzero_178470 || y_178515;
                        bool protect_assert_disj_178519 = cond_178500 || y_178507;
                        bool y_178520 = zzero_leq_i_p_m_t_s_178510 && y_178516;
                        bool ok_or_empty_178521 = empty_slice_178497 || forwards_ok_178517;
                        bool protect_assert_disj_178522 = cond_178481 || ok_or_empty_178518;
                        bool index_certs_178523;
                        
                        if (!protect_assert_disj_178522) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_178469, "] out of bounds for array of shape [", (long long) flat_dim_178491, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_178524 = !cond_178481;
                        bool protect_assert_disj_178525 = protect_assert_disj_178519 || loop_not_taken_178524;
                        bool index_certs_178526;
                        
                        if (!protect_assert_disj_178525) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_178527 = i_lte_j_178496 && y_178520;
                        bool protect_assert_disj_178528 = cond_178481 || ok_or_empty_178521;
                        bool index_certs_178529;
                        
                        if (!protect_assert_disj_178528) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_178468, "] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_178530 = ok_or_empty_178521 || loop_not_taken_178524;
                        bool index_certs_178531;
                        
                        if (!protect_assert_disj_178530) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_178468, "] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_178532 = empty_slice_178493 || forwards_ok_178527;
                        bool protect_assert_disj_178533 = cond_178481 || ok_or_empty_178532;
                        bool index_certs_178534;
                        
                        if (!protect_assert_disj_178533) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_178468, ":] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_178535 = loop_not_taken_178524 || ok_or_empty_178532;
                        bool index_certs_178536;
                        
                        if (!protect_assert_disj_178535) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_178468, ":] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180526 = next_stride_178469 * num_merges_178473;
                        int64_t binop_x_180528 = (int64_t) 8 * num_merges_178473;
                        int64_t bytes_180529 = next_stride_178469 * binop_x_180528;
                        int64_t binop_x_180531 = (int64_t) 4 * num_merges_178473;
                        int64_t bytes_180532 = next_stride_178469 * binop_x_180531;
                        bool i_lte_j_178480 = sle64((int64_t) 0, next_stride_178469);
                        
                        if (mem_180527_cached_sizze_181864 < bytes_180526) {
                            err = lexical_realloc(ctx, &mem_180527, &mem_180527_cached_sizze_181864, bytes_180526);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180530_cached_sizze_181865 < bytes_180529) {
                            err = lexical_realloc(ctx, &mem_180530, &mem_180530_cached_sizze_181865, bytes_180529);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180533_cached_sizze_181866 < bytes_180532) {
                            err = lexical_realloc(ctx, &mem_180533, &mem_180533_cached_sizze_181866, bytes_180532);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180546 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489;
                        int64_t binop_x_180564 = (int64_t) 8 * num_blocks_178488;
                        int64_t bytes_180565 = merge_block_sizze_178278 * binop_x_180564;
                        int64_t binop_x_180567 = (int64_t) 4 * num_blocks_178488;
                        int64_t bytes_180568 = merge_block_sizze_178278 * binop_x_180567;
                        int64_t bytes_180629 = (int64_t) 16 * stride_178468;
                        int64_t bytes_180631 = (int64_t) 8 * stride_178468;
                        
                        for (int64_t i_179700 = 0; i_179700 < num_merges_178473; i_179700++) {
                            int64_t start_178541 = mul64(next_stride_178469, i_179700);
                            int64_t j_m_i_178542 = sub64(loop_dz2084Uz2082U_178463, start_178541);
                            bool empty_slice_178543 = j_m_i_178542 == (int64_t) 0;
                            int64_t m_178544 = sub64(j_m_i_178542, (int64_t) 1);
                            int64_t i_p_m_t_s_178545 = add64(start_178541, m_178544);
                            bool zzero_leq_i_p_m_t_s_178546 = sle64((int64_t) 0, i_p_m_t_s_178545);
                            bool i_p_m_t_s_leq_w_178547 = slt64(i_p_m_t_s_178545, loop_dz2084Uz2082U_178463);
                            bool zzero_lte_i_178548 = sle64((int64_t) 0, start_178541);
                            bool i_lte_j_178549 = sle64(start_178541, loop_dz2084Uz2082U_178463);
                            bool y_178550 = i_p_m_t_s_leq_w_178547 && zzero_lte_i_178548;
                            bool y_178551 = zzero_leq_i_p_m_t_s_178546 && y_178550;
                            bool forwards_ok_178552 = i_lte_j_178549 && y_178551;
                            bool ok_or_empty_178553 = empty_slice_178543 || forwards_ok_178552;
                            bool index_certs_178554;
                            
                            if (!ok_or_empty_178553) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_178541, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_178463, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_178555 = slt64(m_178478, j_m_i_178542);
                            bool y_178556 = zzero_leq_i_p_m_t_s_178479 && i_p_m_t_s_leq_w_178555;
                            bool forwards_ok_178557 = i_lte_j_178480 && y_178556;
                            bool ok_or_empty_178558 = zzero_178470 || forwards_ok_178557;
                            bool index_certs_178559;
                            
                            if (!ok_or_empty_178558) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_178469, "] out of bounds for array of shape [", (long long) j_m_i_178542, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_178481) {
                                int8_t dummy_178563;
                                int64_t dummy_178564;
                                int32_t dummy_178565;
                                
                                if (cond_178500) {
                                    int8_t head_res_178566 = ((int8_t *) mem_param_180519.mem)[start_178541];
                                    int64_t head_res_178567 = ((int64_t *) mem_param_180522.mem)[start_178541];
                                    int32_t head_res_178568 = ((int32_t *) mem_param_180525.mem)[start_178541];
                                    
                                    dummy_178563 = head_res_178566;
                                    dummy_178564 = head_res_178567;
                                    dummy_178565 = head_res_178568;
                                } else {
                                    int64_t slice_178569 = stride_178468 + start_178541;
                                    int8_t head_res_178570 = ((int8_t *) mem_param_180519.mem)[slice_178569];
                                    int64_t head_res_178571 = ((int64_t *) mem_param_180522.mem)[slice_178569];
                                    int32_t head_res_178572 = ((int32_t *) mem_param_180525.mem)[slice_178569];
                                    
                                    dummy_178563 = head_res_178570;
                                    dummy_178564 = head_res_178571;
                                    dummy_178565 = head_res_178572;
                                }
                                if (memblock_alloc(ctx, &mem_180628, next_stride_178469, "mem_180628")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181474 = 0; nest_i_181474 < next_stride_178469; nest_i_181474++) {
                                    ((int8_t *) mem_180628.mem)[nest_i_181474] = dummy_178563;
                                }
                                if (memblock_alloc(ctx, &mem_180630, bytes_180629, "mem_180630")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181475 = 0; nest_i_181475 < next_stride_178469; nest_i_181475++) {
                                    ((int64_t *) mem_180630.mem)[nest_i_181475] = dummy_178564;
                                }
                                if (memblock_alloc(ctx, &mem_180632, bytes_180631, "mem_180632")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181476 = 0; nest_i_181476 < next_stride_178469; nest_i_181476++) {
                                    ((int32_t *) mem_180632.mem)[nest_i_181476] = dummy_178565;
                                }
                                
                                int64_t data_178576;
                                int64_t i_178581 = (int64_t) 0;
                                
                                for (int64_t k_178580 = 0; k_178580 < next_stride_178469; k_178580++) {
                                    int64_t j_178585 = sub64(k_178580, i_178581);
                                    bool cond_178586 = j_178585 == j_m_i_178490;
                                    bool cond_178587;
                                    
                                    if (cond_178586) {
                                        cond_178587 = 1;
                                    } else {
                                        bool cond_178588 = slt64(i_178581, stride_178468);
                                        bool cond_f_res_178589;
                                        
                                        if (cond_178588) {
                                            bool x_178590 = sle64((int64_t) 0, j_178585);
                                            bool y_178591 = slt64(j_178585, j_m_i_178490);
                                            bool bounds_check_178592 = x_178590 && y_178591;
                                            bool index_certs_178593;
                                            
                                            if (!bounds_check_178592) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178585, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178599 = sle64((int64_t) 0, i_178581);
                                            bool bounds_check_178600 = cond_178588 && x_178599;
                                            bool index_certs_178601;
                                            
                                            if (!bounds_check_178600) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178581, "] out of bounds for array of shape [", (long long) stride_178468, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178594 = stride_178468 + j_178585;
                                            int64_t slice_178595 = start_178541 + slice_178594;
                                            int8_t leq_arg1_178596 = ((int8_t *) mem_param_180519.mem)[slice_178595];
                                            int64_t leq_arg1_178597 = ((int64_t *) mem_param_180522.mem)[slice_178595];
                                            int32_t leq_arg1_178598 = ((int32_t *) mem_param_180525.mem)[slice_178595];
                                            int64_t slice_178602 = start_178541 + i_178581;
                                            int8_t leq_arg0_178603 = ((int8_t *) mem_param_180519.mem)[slice_178602];
                                            int64_t leq_arg0_178604 = ((int64_t *) mem_param_180522.mem)[slice_178602];
                                            int32_t leq_arg0_178605 = ((int32_t *) mem_param_180525.mem)[slice_178602];
                                            bool cond_178606 = leq_arg0_178603 == leq_arg1_178596;
                                            bool defunc_0_leq_res_t_res_178607 = sle64(leq_arg0_178604, leq_arg1_178597);
                                            bool defunc_0_leq_res_178608 = sle32(leq_arg0_178605, leq_arg1_178598);
                                            bool x_178609 = cond_178606 && defunc_0_leq_res_t_res_178607;
                                            bool x_178610 = !cond_178606;
                                            bool y_178611 = defunc_0_leq_res_178608 && x_178610;
                                            bool defunc_0_leq_res_178612 = x_178609 || y_178611;
                                            
                                            cond_f_res_178589 = defunc_0_leq_res_178612;
                                        } else {
                                            cond_f_res_178589 = 0;
                                        }
                                        cond_178587 = cond_f_res_178589;
                                    }
                                    
                                    int64_t loopres_178613;
                                    int8_t loopres_178614;
                                    int64_t loopres_178615;
                                    int32_t loopres_178616;
                                    
                                    if (cond_178587) {
                                        bool x_178618 = sle64((int64_t) 0, i_178581);
                                        bool y_178619 = slt64(i_178581, stride_178468);
                                        bool bounds_check_178620 = x_178618 && y_178619;
                                        bool index_certs_178621;
                                        
                                        if (!bounds_check_178620) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178581, "] out of bounds for array of shape [", (long long) stride_178468, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_178617 = add64((int64_t) 1, i_178581);
                                        int64_t slice_178622 = start_178541 + i_178581;
                                        int8_t tmp_178623 = ((int8_t *) mem_param_180519.mem)[slice_178622];
                                        int64_t tmp_178624 = ((int64_t *) mem_param_180522.mem)[slice_178622];
                                        int32_t tmp_178625 = ((int32_t *) mem_param_180525.mem)[slice_178622];
                                        
                                        loopres_178613 = tmp_178617;
                                        loopres_178614 = tmp_178623;
                                        loopres_178615 = tmp_178624;
                                        loopres_178616 = tmp_178625;
                                    } else {
                                        bool x_178626 = sle64((int64_t) 0, j_178585);
                                        bool y_178627 = slt64(j_178585, j_m_i_178490);
                                        bool bounds_check_178628 = x_178626 && y_178627;
                                        bool index_certs_178629;
                                        
                                        if (!bounds_check_178628) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178585, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178630 = stride_178468 + j_178585;
                                        int64_t slice_178631 = start_178541 + slice_178630;
                                        int8_t tmp_178632 = ((int8_t *) mem_param_180519.mem)[slice_178631];
                                        int64_t tmp_178633 = ((int64_t *) mem_param_180522.mem)[slice_178631];
                                        int32_t tmp_178634 = ((int32_t *) mem_param_180525.mem)[slice_178631];
                                        
                                        loopres_178613 = i_178581;
                                        loopres_178614 = tmp_178632;
                                        loopres_178615 = tmp_178633;
                                        loopres_178616 = tmp_178634;
                                    }
                                    ((int8_t *) mem_180628.mem)[k_178580] = loopres_178614;
                                    ((int64_t *) mem_180630.mem)[k_178580] = loopres_178615;
                                    ((int32_t *) mem_180632.mem)[k_178580] = loopres_178616;
                                    
                                    int64_t i_tmp_181477 = loopres_178613;
                                    
                                    i_178581 = i_tmp_181477;
                                }
                                data_178576 = i_178581;
                                if (memblock_set(ctx, &ext_mem_180659, &mem_180628, "mem_180628") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180656, &mem_180630, "mem_180630") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180653, &mem_180632, "mem_180632") != 0)
                                    return 1;
                            } else {
                                if (mem_180547_cached_sizze_181867 < bytes_180546) {
                                    err = lexical_realloc(ctx, &mem_180547, &mem_180547_cached_sizze_181867, bytes_180546);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180549_cached_sizze_181868 < bytes_180546) {
                                    err = lexical_realloc(ctx, &mem_180549, &mem_180549_cached_sizze_181868, bytes_180546);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179681 = 0; i_179681 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489; i_179681++) {
                                    int64_t split_count_arg3_178642 = mul64(merge_block_sizze_178278, i_179681);
                                    int64_t defunc_0_split_count_res_178643;
                                    int64_t defunc_0_split_count_res_178644;
                                    int64_t defunc_0_split_count_res_178645;
                                    int64_t defunc_0_split_count_res_178646;
                                    int64_t defunc_0_split_count_res_178647;
                                    
                                    if (futrts_lifted_normalizze_8970(ctx, &defunc_0_split_count_res_178643, &defunc_0_split_count_res_178644, &defunc_0_split_count_res_178645, &defunc_0_split_count_res_178646, &defunc_0_split_count_res_178647, (int64_t) 0, stride_178468, (int64_t) 0, j_m_i_178490, split_count_arg3_178642) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_178648 = slt64((int64_t) 0, defunc_0_split_count_res_178647);
                                    bool defunc_0_split_count_res_178649;
                                    int64_t defunc_0_split_count_res_178650;
                                    int64_t defunc_0_split_count_res_178651;
                                    int64_t defunc_0_split_count_res_178652;
                                    int64_t defunc_0_split_count_res_178653;
                                    int64_t defunc_0_split_count_res_178654;
                                    bool loop_while_178655;
                                    int64_t ss_178656;
                                    int64_t ss_178657;
                                    int64_t tt_178658;
                                    int64_t tt_178659;
                                    int64_t count_178660;
                                    
                                    loop_while_178655 = loop_cond_178648;
                                    ss_178656 = defunc_0_split_count_res_178643;
                                    ss_178657 = defunc_0_split_count_res_178644;
                                    tt_178658 = defunc_0_split_count_res_178645;
                                    tt_178659 = defunc_0_split_count_res_178646;
                                    count_178660 = defunc_0_split_count_res_178647;
                                    while (loop_while_178655) {
                                        int64_t zlze_lhs_178661 = sub64(ss_178657, ss_178656);
                                        bool cond_178662 = sle64(zlze_lhs_178661, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_178663;
                                        int64_t defunc_0_lifted_step_res_178664;
                                        int64_t defunc_0_lifted_step_res_178665;
                                        int64_t defunc_0_lifted_step_res_178666;
                                        
                                        if (cond_178662) {
                                            int64_t tmp_178667 = add64(tt_178658, count_178660);
                                            
                                            defunc_0_lifted_step_res_178663 = ss_178656;
                                            defunc_0_lifted_step_res_178664 = tmp_178667;
                                            defunc_0_lifted_step_res_178665 = tt_178659;
                                            defunc_0_lifted_step_res_178666 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_178668 = sub64(tt_178659, tt_178658);
                                            bool cond_178669 = sle64(zlze_lhs_178668, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_178670;
                                            int64_t defunc_0_lifted_step_res_f_res_178671;
                                            int64_t defunc_0_lifted_step_res_f_res_178672;
                                            int64_t defunc_0_lifted_step_res_f_res_178673;
                                            
                                            if (cond_178669) {
                                                int64_t tmp_178674 = add64(ss_178656, count_178660);
                                                
                                                defunc_0_lifted_step_res_f_res_178670 = tmp_178674;
                                                defunc_0_lifted_step_res_f_res_178671 = tt_178658;
                                                defunc_0_lifted_step_res_f_res_178672 = tt_178659;
                                                defunc_0_lifted_step_res_f_res_178673 = (int64_t) 0;
                                            } else {
                                                bool cond_178675 = count_178660 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178676;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178677;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178678;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178679;
                                                
                                                if (cond_178675) {
                                                    bool x_178680 = sle64((int64_t) 0, ss_178656);
                                                    bool y_178681 = slt64(ss_178656, stride_178468);
                                                    bool bounds_check_178682 = x_178680 && y_178681;
                                                    bool index_certs_178683;
                                                    
                                                    if (!bounds_check_178682) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_178656, "] out of bounds for array of shape [", (long long) stride_178468, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:380:63-73\n   #13 ftsort.fut:373:1-380:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_178688 = sle64((int64_t) 0, tt_178658);
                                                    bool y_178689 = slt64(tt_178658, j_m_i_178490);
                                                    bool bounds_check_178690 = x_178688 && y_178689;
                                                    bool index_certs_178691;
                                                    
                                                    if (!bounds_check_178690) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_178658, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:380:63-73\n   #13 ftsort.fut:373:1-380:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_178684 = start_178541 + ss_178656;
                                                    int8_t leq_arg1_178685 = ((int8_t *) mem_param_180519.mem)[slice_178684];
                                                    int64_t leq_arg1_178686 = ((int64_t *) mem_param_180522.mem)[slice_178684];
                                                    int32_t leq_arg1_178687 = ((int32_t *) mem_param_180525.mem)[slice_178684];
                                                    int64_t slice_178692 = stride_178468 + tt_178658;
                                                    int64_t slice_178693 = start_178541 + slice_178692;
                                                    int8_t leq_arg0_178694 = ((int8_t *) mem_param_180519.mem)[slice_178693];
                                                    int64_t leq_arg0_178695 = ((int64_t *) mem_param_180522.mem)[slice_178693];
                                                    int32_t leq_arg0_178696 = ((int32_t *) mem_param_180525.mem)[slice_178693];
                                                    bool cond_178697 = leq_arg0_178694 == leq_arg1_178685;
                                                    bool defunc_0_leq_res_t_res_178698 = sle64(leq_arg0_178695, leq_arg1_178686);
                                                    bool defunc_0_leq_res_178699 = sle32(leq_arg0_178696, leq_arg1_178687);
                                                    bool x_178700 = cond_178697 && defunc_0_leq_res_t_res_178698;
                                                    bool x_178701 = !cond_178697;
                                                    bool y_178702 = defunc_0_leq_res_178699 && x_178701;
                                                    bool defunc_0_leq_res_178703 = x_178700 || y_178702;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178704;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178705;
                                                    
                                                    if (defunc_0_leq_res_178703) {
                                                        int64_t tmp_178706 = add64((int64_t) 1, tt_178658);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178704 = ss_178656;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178705 = tmp_178706;
                                                    } else {
                                                        int64_t tmp_178707 = add64((int64_t) 1, ss_178656);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178704 = tmp_178707;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178705 = tt_178658;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_178676 = defunc_0_lifted_step_res_f_res_f_res_t_res_178704;
                                                    defunc_0_lifted_step_res_f_res_f_res_178677 = defunc_0_lifted_step_res_f_res_f_res_t_res_178705;
                                                    defunc_0_lifted_step_res_f_res_f_res_178678 = tt_178659;
                                                    defunc_0_lifted_step_res_f_res_f_res_178679 = (int64_t) 0;
                                                } else {
                                                    int64_t m_178708 = sdiv64(count_178660, (int64_t) 2);
                                                    int64_t n_178709 = sub64(count_178660, m_178708);
                                                    bool cond_178710 = n_178709 == (int64_t) 0;
                                                    int64_t zgze_lhs_178711 = add64(ss_178656, m_178708);
                                                    bool cond_f_res_178712 = sle64(ss_178657, zgze_lhs_178711);
                                                    bool x_178713 = !cond_178710;
                                                    bool y_178714 = cond_f_res_178712 && x_178713;
                                                    bool cond_178715 = cond_178710 || y_178714;
                                                    bool leq_y_x_178716;
                                                    
                                                    if (cond_178715) {
                                                        leq_y_x_178716 = 1;
                                                    } else {
                                                        bool x_178717 = sle64((int64_t) 0, zgze_lhs_178711);
                                                        bool y_178718 = slt64(zgze_lhs_178711, stride_178468);
                                                        bool bounds_check_178719 = x_178717 && y_178718;
                                                        bool index_certs_178720;
                                                        
                                                        if (!bounds_check_178719) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_178711, "] out of bounds for array of shape [", (long long) stride_178468, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:380:63-73\n   #13 ftsort.fut:373:1-380:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_178725 = add64(tt_178658, n_178709);
                                                        int64_t leq_arg0_178726 = sub64(zm_lhs_178725, (int64_t) 1);
                                                        bool x_178727 = sle64((int64_t) 0, leq_arg0_178726);
                                                        bool y_178728 = slt64(leq_arg0_178726, j_m_i_178490);
                                                        bool bounds_check_178729 = x_178727 && y_178728;
                                                        bool index_certs_178730;
                                                        
                                                        if (!bounds_check_178729) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_178726, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:380:63-73\n   #13 ftsort.fut:373:1-380:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_178721 = start_178541 + zgze_lhs_178711;
                                                        int8_t leq_arg1_178722 = ((int8_t *) mem_param_180519.mem)[slice_178721];
                                                        int64_t leq_arg1_178723 = ((int64_t *) mem_param_180522.mem)[slice_178721];
                                                        int32_t leq_arg1_178724 = ((int32_t *) mem_param_180525.mem)[slice_178721];
                                                        int64_t slice_178731 = stride_178468 + leq_arg0_178726;
                                                        int64_t slice_178732 = start_178541 + slice_178731;
                                                        int8_t leq_arg0_178733 = ((int8_t *) mem_param_180519.mem)[slice_178732];
                                                        int64_t leq_arg0_178734 = ((int64_t *) mem_param_180522.mem)[slice_178732];
                                                        int32_t leq_arg0_178735 = ((int32_t *) mem_param_180525.mem)[slice_178732];
                                                        bool cond_178736 = leq_arg0_178733 == leq_arg1_178722;
                                                        bool defunc_0_leq_res_t_res_178737 = sle64(leq_arg0_178734, leq_arg1_178723);
                                                        bool defunc_0_leq_res_178738 = sle32(leq_arg0_178735, leq_arg1_178724);
                                                        bool x_178739 = cond_178736 && defunc_0_leq_res_t_res_178737;
                                                        bool x_178740 = !cond_178736;
                                                        bool y_178741 = defunc_0_leq_res_178738 && x_178740;
                                                        bool defunc_0_leq_res_178742 = x_178739 || y_178741;
                                                        
                                                        leq_y_x_178716 = defunc_0_leq_res_178742;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178743;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178744;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178745;
                                                    
                                                    if (leq_y_x_178716) {
                                                        int64_t tmp_178746 = add64(tt_178658, n_178709);
                                                        int64_t tmp_178747 = sub64(count_178660, n_178709);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178743 = tmp_178746;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178744 = tt_178659;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178745 = tmp_178747;
                                                    } else {
                                                        int64_t tmp_178748 = add64(tt_178658, n_178709);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178743 = tt_178658;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178744 = tmp_178748;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178745 = count_178660;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_178676 = ss_178656;
                                                    defunc_0_lifted_step_res_f_res_f_res_178677 = defunc_0_lifted_step_res_f_res_f_res_f_res_178743;
                                                    defunc_0_lifted_step_res_f_res_f_res_178678 = defunc_0_lifted_step_res_f_res_f_res_f_res_178744;
                                                    defunc_0_lifted_step_res_f_res_f_res_178679 = defunc_0_lifted_step_res_f_res_f_res_f_res_178745;
                                                }
                                                defunc_0_lifted_step_res_f_res_178670 = defunc_0_lifted_step_res_f_res_f_res_178676;
                                                defunc_0_lifted_step_res_f_res_178671 = defunc_0_lifted_step_res_f_res_f_res_178677;
                                                defunc_0_lifted_step_res_f_res_178672 = defunc_0_lifted_step_res_f_res_f_res_178678;
                                                defunc_0_lifted_step_res_f_res_178673 = defunc_0_lifted_step_res_f_res_f_res_178679;
                                            }
                                            defunc_0_lifted_step_res_178663 = defunc_0_lifted_step_res_f_res_178670;
                                            defunc_0_lifted_step_res_178664 = defunc_0_lifted_step_res_f_res_178671;
                                            defunc_0_lifted_step_res_178665 = defunc_0_lifted_step_res_f_res_178672;
                                            defunc_0_lifted_step_res_178666 = defunc_0_lifted_step_res_f_res_178673;
                                        }
                                        
                                        int64_t loopres_178749;
                                        int64_t loopres_178750;
                                        int64_t loopres_178751;
                                        int64_t loopres_178752;
                                        int64_t loopres_178753;
                                        
                                        if (futrts_lifted_normalizze_8970(ctx, &loopres_178749, &loopres_178750, &loopres_178751, &loopres_178752, &loopres_178753, defunc_0_lifted_step_res_178663, ss_178657, defunc_0_lifted_step_res_178664, defunc_0_lifted_step_res_178665, defunc_0_lifted_step_res_178666) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_178754 = slt64((int64_t) 0, loopres_178753);
                                        bool loop_while_tmp_181483 = loop_cond_178754;
                                        int64_t ss_tmp_181484 = loopres_178749;
                                        int64_t ss_tmp_181485 = loopres_178750;
                                        int64_t tt_tmp_181486 = loopres_178751;
                                        int64_t tt_tmp_181487 = loopres_178752;
                                        int64_t count_tmp_181488 = loopres_178753;
                                        
                                        loop_while_178655 = loop_while_tmp_181483;
                                        ss_178656 = ss_tmp_181484;
                                        ss_178657 = ss_tmp_181485;
                                        tt_178658 = tt_tmp_181486;
                                        tt_178659 = tt_tmp_181487;
                                        count_178660 = count_tmp_181488;
                                    }
                                    defunc_0_split_count_res_178649 = loop_while_178655;
                                    defunc_0_split_count_res_178650 = ss_178656;
                                    defunc_0_split_count_res_178651 = ss_178657;
                                    defunc_0_split_count_res_178652 = tt_178658;
                                    defunc_0_split_count_res_178653 = tt_178659;
                                    defunc_0_split_count_res_178654 = count_178660;
                                    ((int64_t *) mem_180547)[i_179681] = defunc_0_split_count_res_178650;
                                    ((int64_t *) mem_180549)[i_179681] = defunc_0_split_count_res_178652;
                                }
                                if (mem_180563_cached_sizze_181869 < flat_dim_178491) {
                                    err = lexical_realloc(ctx, &mem_180563, &mem_180563_cached_sizze_181869, flat_dim_178491);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180566_cached_sizze_181870 < bytes_180565) {
                                    err = lexical_realloc(ctx, &mem_180566, &mem_180566_cached_sizze_181870, bytes_180565);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180569_cached_sizze_181871 < bytes_180568) {
                                    err = lexical_realloc(ctx, &mem_180569, &mem_180569_cached_sizze_181871, bytes_180568);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179690 = 0; i_179690 < num_blocks_178488; i_179690++) {
                                    bool y_178763 = slt64(i_179690, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489);
                                    bool index_certs_178765;
                                    
                                    if (!y_178763) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179690, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_178766 = ((int64_t *) mem_180547)[i_179690];
                                    int64_t defunc_0_f_res_178767 = ((int64_t *) mem_180549)[i_179690];
                                    int64_t tmp_178768 = add64((int64_t) 1, i_179690);
                                    bool x_178769 = sle64((int64_t) 0, tmp_178768);
                                    bool y_178770 = slt64(tmp_178768, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489);
                                    bool bounds_check_178771 = x_178769 && y_178770;
                                    bool index_certs_178772;
                                    
                                    if (!bounds_check_178771) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178768, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_178773 = ((int64_t *) mem_180547)[tmp_178768];
                                    int64_t defunc_0_f_res_178774 = ((int64_t *) mem_180549)[tmp_178768];
                                    int64_t merge_sequential_arg2_178775 = add64(stride_178468, defunc_0_f_res_178767);
                                    int64_t merge_sequential_arg2_178776 = add64(stride_178468, defunc_0_f_res_178774);
                                    int64_t j_m_i_178777 = sub64(merge_sequential_arg2_178776, merge_sequential_arg2_178775);
                                    bool empty_slice_178778 = j_m_i_178777 == (int64_t) 0;
                                    int64_t m_178779 = sub64(j_m_i_178777, (int64_t) 1);
                                    int64_t i_p_m_t_s_178780 = add64(merge_sequential_arg2_178775, m_178779);
                                    bool zzero_leq_i_p_m_t_s_178781 = sle64((int64_t) 0, i_p_m_t_s_178780);
                                    bool i_p_m_t_s_leq_w_178782 = slt64(i_p_m_t_s_178780, next_stride_178469);
                                    bool zzero_lte_i_178783 = sle64((int64_t) 0, merge_sequential_arg2_178775);
                                    bool i_lte_j_178784 = sle64(merge_sequential_arg2_178775, merge_sequential_arg2_178776);
                                    bool y_178785 = i_p_m_t_s_leq_w_178782 && zzero_lte_i_178783;
                                    bool y_178786 = zzero_leq_i_p_m_t_s_178781 && y_178785;
                                    bool forwards_ok_178787 = i_lte_j_178784 && y_178786;
                                    bool ok_or_empty_178788 = empty_slice_178778 || forwards_ok_178787;
                                    bool index_certs_178789;
                                    
                                    if (!ok_or_empty_178788) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_178775, ":", (long long) merge_sequential_arg2_178776, "] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_178790 = sub64(defunc_0_f_res_178773, defunc_0_f_res_178766);
                                    bool empty_slice_178791 = j_m_i_178790 == (int64_t) 0;
                                    int64_t m_178792 = sub64(j_m_i_178790, (int64_t) 1);
                                    int64_t i_p_m_t_s_178793 = add64(defunc_0_f_res_178766, m_178792);
                                    bool zzero_leq_i_p_m_t_s_178794 = sle64((int64_t) 0, i_p_m_t_s_178793);
                                    bool i_p_m_t_s_leq_w_178795 = slt64(i_p_m_t_s_178793, next_stride_178469);
                                    bool zzero_lte_i_178796 = sle64((int64_t) 0, defunc_0_f_res_178766);
                                    bool i_lte_j_178797 = sle64(defunc_0_f_res_178766, defunc_0_f_res_178773);
                                    bool y_178798 = i_p_m_t_s_leq_w_178795 && zzero_lte_i_178796;
                                    bool y_178799 = zzero_leq_i_p_m_t_s_178794 && y_178798;
                                    bool forwards_ok_178800 = i_lte_j_178797 && y_178799;
                                    bool ok_or_empty_178801 = empty_slice_178791 || forwards_ok_178800;
                                    bool index_certs_178802;
                                    
                                    if (!ok_or_empty_178801) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_178766, ":", (long long) defunc_0_f_res_178773, "] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_178803 = slt64((int64_t) 0, j_m_i_178790);
                                    int8_t dummy_178804;
                                    int64_t dummy_178805;
                                    int32_t dummy_178806;
                                    
                                    if (cond_178803) {
                                        bool index_certs_178807;
                                        
                                        if (!cond_178803) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178790, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178808 = start_178541 + defunc_0_f_res_178766;
                                        int8_t head_res_178809 = ((int8_t *) mem_param_180519.mem)[slice_178808];
                                        int64_t head_res_178810 = ((int64_t *) mem_param_180522.mem)[slice_178808];
                                        int32_t head_res_178811 = ((int32_t *) mem_param_180525.mem)[slice_178808];
                                        
                                        dummy_178804 = head_res_178809;
                                        dummy_178805 = head_res_178810;
                                        dummy_178806 = head_res_178811;
                                    } else {
                                        bool y_178812 = slt64((int64_t) 0, j_m_i_178777);
                                        bool index_certs_178813;
                                        
                                        if (!y_178812) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178777, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178814 = start_178541 + merge_sequential_arg2_178775;
                                        int8_t head_res_178815 = ((int8_t *) mem_param_180519.mem)[slice_178814];
                                        int64_t head_res_178816 = ((int64_t *) mem_param_180522.mem)[slice_178814];
                                        int32_t head_res_178817 = ((int32_t *) mem_param_180525.mem)[slice_178814];
                                        
                                        dummy_178804 = head_res_178815;
                                        dummy_178805 = head_res_178816;
                                        dummy_178806 = head_res_178817;
                                    }
                                    for (int64_t nest_i_181492 = 0; nest_i_181492 < merge_block_sizze_178278; nest_i_181492++) {
                                        ((int8_t *) mem_180563)[i_179690 * merge_block_sizze_178278 + nest_i_181492] = dummy_178804;
                                    }
                                    for (int64_t nest_i_181493 = 0; nest_i_181493 < merge_block_sizze_178278; nest_i_181493++) {
                                        ((int64_t *) mem_180566)[i_179690 * merge_block_sizze_178278 + nest_i_181493] = dummy_178805;
                                    }
                                    for (int64_t nest_i_181494 = 0; nest_i_181494 < merge_block_sizze_178278; nest_i_181494++) {
                                        ((int32_t *) mem_180569)[i_179690 * merge_block_sizze_178278 + nest_i_181494] = dummy_178806;
                                    }
                                    
                                    int64_t data_178821;
                                    int64_t i_178826 = (int64_t) 0;
                                    
                                    for (int64_t k_178825 = 0; k_178825 < merge_block_sizze_178278; k_178825++) {
                                        int64_t j_178830 = sub64(k_178825, i_178826);
                                        bool cond_178831 = j_178830 == j_m_i_178777;
                                        bool cond_178832;
                                        
                                        if (cond_178831) {
                                            cond_178832 = 1;
                                        } else {
                                            bool cond_178833 = slt64(i_178826, j_m_i_178790);
                                            bool cond_f_res_178834;
                                            
                                            if (cond_178833) {
                                                bool x_178835 = sle64((int64_t) 0, j_178830);
                                                bool y_178836 = slt64(j_178830, j_m_i_178777);
                                                bool bounds_check_178837 = x_178835 && y_178836;
                                                bool index_certs_178838;
                                                
                                                if (!bounds_check_178837) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178830, "] out of bounds for array of shape [", (long long) j_m_i_178777, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_178844 = sle64((int64_t) 0, i_178826);
                                                bool bounds_check_178845 = cond_178833 && x_178844;
                                                bool index_certs_178846;
                                                
                                                if (!bounds_check_178845) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178826, "] out of bounds for array of shape [", (long long) j_m_i_178790, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_178839 = merge_sequential_arg2_178775 + j_178830;
                                                int64_t slice_178840 = start_178541 + slice_178839;
                                                int8_t leq_arg1_178841 = ((int8_t *) mem_param_180519.mem)[slice_178840];
                                                int64_t leq_arg1_178842 = ((int64_t *) mem_param_180522.mem)[slice_178840];
                                                int32_t leq_arg1_178843 = ((int32_t *) mem_param_180525.mem)[slice_178840];
                                                int64_t slice_178847 = defunc_0_f_res_178766 + i_178826;
                                                int64_t slice_178848 = start_178541 + slice_178847;
                                                int8_t leq_arg0_178849 = ((int8_t *) mem_param_180519.mem)[slice_178848];
                                                int64_t leq_arg0_178850 = ((int64_t *) mem_param_180522.mem)[slice_178848];
                                                int32_t leq_arg0_178851 = ((int32_t *) mem_param_180525.mem)[slice_178848];
                                                bool cond_178852 = leq_arg0_178849 == leq_arg1_178841;
                                                bool defunc_0_leq_res_t_res_178853 = sle64(leq_arg0_178850, leq_arg1_178842);
                                                bool defunc_0_leq_res_178854 = sle32(leq_arg0_178851, leq_arg1_178843);
                                                bool x_178855 = cond_178852 && defunc_0_leq_res_t_res_178853;
                                                bool x_178856 = !cond_178852;
                                                bool y_178857 = defunc_0_leq_res_178854 && x_178856;
                                                bool defunc_0_leq_res_178858 = x_178855 || y_178857;
                                                
                                                cond_f_res_178834 = defunc_0_leq_res_178858;
                                            } else {
                                                cond_f_res_178834 = 0;
                                            }
                                            cond_178832 = cond_f_res_178834;
                                        }
                                        
                                        int64_t loopres_178859;
                                        int8_t loopres_178860;
                                        int64_t loopres_178861;
                                        int32_t loopres_178862;
                                        
                                        if (cond_178832) {
                                            bool x_178864 = sle64((int64_t) 0, i_178826);
                                            bool y_178865 = slt64(i_178826, j_m_i_178790);
                                            bool bounds_check_178866 = x_178864 && y_178865;
                                            bool index_certs_178867;
                                            
                                            if (!bounds_check_178866) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178826, "] out of bounds for array of shape [", (long long) j_m_i_178790, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_178863 = add64((int64_t) 1, i_178826);
                                            int64_t slice_178868 = defunc_0_f_res_178766 + i_178826;
                                            int64_t slice_178869 = start_178541 + slice_178868;
                                            int8_t tmp_178870 = ((int8_t *) mem_param_180519.mem)[slice_178869];
                                            int64_t tmp_178871 = ((int64_t *) mem_param_180522.mem)[slice_178869];
                                            int32_t tmp_178872 = ((int32_t *) mem_param_180525.mem)[slice_178869];
                                            
                                            loopres_178859 = tmp_178863;
                                            loopres_178860 = tmp_178870;
                                            loopres_178861 = tmp_178871;
                                            loopres_178862 = tmp_178872;
                                        } else {
                                            bool x_178873 = sle64((int64_t) 0, j_178830);
                                            bool y_178874 = slt64(j_178830, j_m_i_178777);
                                            bool bounds_check_178875 = x_178873 && y_178874;
                                            bool index_certs_178876;
                                            
                                            if (!bounds_check_178875) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178830, "] out of bounds for array of shape [", (long long) j_m_i_178777, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178877 = merge_sequential_arg2_178775 + j_178830;
                                            int64_t slice_178878 = start_178541 + slice_178877;
                                            int8_t tmp_178879 = ((int8_t *) mem_param_180519.mem)[slice_178878];
                                            int64_t tmp_178880 = ((int64_t *) mem_param_180522.mem)[slice_178878];
                                            int32_t tmp_178881 = ((int32_t *) mem_param_180525.mem)[slice_178878];
                                            
                                            loopres_178859 = i_178826;
                                            loopres_178860 = tmp_178879;
                                            loopres_178861 = tmp_178880;
                                            loopres_178862 = tmp_178881;
                                        }
                                        ((int8_t *) mem_180563)[i_179690 * merge_block_sizze_178278 + k_178825] = loopres_178860;
                                        ((int64_t *) mem_180566)[i_179690 * merge_block_sizze_178278 + k_178825] = loopres_178861;
                                        ((int32_t *) mem_180569)[i_179690 * merge_block_sizze_178278 + k_178825] = loopres_178862;
                                        
                                        int64_t i_tmp_181495 = loopres_178859;
                                        
                                        i_178826 = i_tmp_181495;
                                    }
                                    data_178821 = i_178826;
                                }
                                if (memblock_alloc(ctx, &mem_180618, flat_dim_178491, "mem_180618")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180618.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (uint8_t *) mem_180563, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (int64_t []) {num_blocks_178488, merge_block_sizze_178278});
                                if (memblock_alloc(ctx, &mem_180622, bytes_180565, "mem_180622")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180622.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (uint64_t *) mem_180566, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (int64_t []) {num_blocks_178488, merge_block_sizze_178278});
                                if (memblock_alloc(ctx, &mem_180626, bytes_180568, "mem_180626")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_180626.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (uint32_t *) mem_180569, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (int64_t []) {num_blocks_178488, merge_block_sizze_178278});
                                if (memblock_set(ctx, &ext_mem_180659, &mem_180618, "mem_180618") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180656, &mem_180622, "mem_180622") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180653, &mem_180626, "mem_180626") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180527, i_179700 * next_stride_178469, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180659.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178469});
                            if (memblock_unref(ctx, &ext_mem_180659, "ext_mem_180659") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180530, i_179700 * next_stride_178469, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180656.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178469});
                            if (memblock_unref(ctx, &ext_mem_180656, "ext_mem_180656") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180533, i_179700 * next_stride_178469, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180653.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178469});
                            if (memblock_unref(ctx, &ext_mem_180653, "ext_mem_180653") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_180673, bytes_180526, "mem_180673")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180673.mem, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (uint8_t *) mem_180527, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (int64_t []) {num_merges_178473, next_stride_178469});
                        if (memblock_alloc(ctx, &mem_180677, bytes_180529, "mem_180677")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180677.mem, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (uint64_t *) mem_180530, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (int64_t []) {num_merges_178473, next_stride_178469});
                        if (memblock_alloc(ctx, &mem_180681, bytes_180532, "mem_180681")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_180681.mem, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (uint32_t *) mem_180533, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (int64_t []) {num_merges_178473, next_stride_178469});
                        
                        bool loop_cond_178901 = slt64(next_stride_178469, flat_dim_178273);
                        
                        if (memblock_set(ctx, &mem_param_tmp_181462, &mem_180673, "mem_180673") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181463, &mem_180677, "mem_180677") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181464, &mem_180681, "mem_180681") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_181465 = bytes_180526;
                        bool loop_while_tmp_181466 = loop_cond_178901;
                        int64_t stride_tmp_181470 = next_stride_178469;
                        
                        if (memblock_set(ctx, &mem_param_180519, &mem_param_tmp_181462, "mem_param_tmp_181462") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180522, &mem_param_tmp_181463, "mem_param_tmp_181463") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180525, &mem_param_tmp_181464, "mem_param_tmp_181464") != 0)
                            return 1;
                        loop_dz2084Uz2082U_178463 = loop_dz2084Uz2082U_tmp_181465;
                        loop_while_178464 = loop_while_tmp_181466;
                        stride_178468 = stride_tmp_181470;
                    }
                    if (memblock_set(ctx, &ext_mem_180691, &mem_param_180519, "mem_param_180519") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180690, &mem_param_180522, "mem_param_180522") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180689, &mem_param_180525, "mem_param_180525") != 0)
                        return 1;
                    data_178457 = loop_dz2084Uz2082U_178463;
                    data_178458 = loop_while_178464;
                    data_178462 = stride_178468;
                    if (memblock_unref(ctx, &mem_180507, "mem_180507") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180511, "mem_180511") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180515, "mem_180515") != 0)
                        return 1;
                    
                    bool empty_slice_178902 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_178903 = sle64((int64_t) 0, zs_lhs_178257);
                    bool i_p_m_t_s_leq_w_178904 = slt64(zs_lhs_178257, data_178457);
                    bool y_178905 = zzero_leq_i_p_m_t_s_178903 && i_p_m_t_s_leq_w_178904;
                    bool ok_or_empty_178906 = empty_slice_178902 || y_178905;
                    bool index_certs_178907;
                    
                    if (!ok_or_empty_178906) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "] out of bounds for array of shape [", (long long) data_178457, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:380:63-73\n   #6  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_180700, &ext_mem_180691, "ext_mem_180691") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180697, &ext_mem_180690, "ext_mem_180690") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180694, &ext_mem_180689, "ext_mem_180689") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180401, "mem_180401") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180403, "mem_180403") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180405, "mem_180405") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180367, i_179716 * perThread_174534, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180700.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211});
                if (memblock_unref(ctx, &ext_mem_180700, "ext_mem_180700") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180370, i_179716 * perThread_174534, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180697.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211});
                if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180373, i_179716 * perThread_174534, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180694.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211});
                if (memblock_unref(ctx, &ext_mem_180694, "ext_mem_180694") != 0)
                    return 1;
                for (int64_t i_179706 = 0; i_179706 < perThread_174534; i_179706++) {
                    int64_t lifted_lambda_res_178929 = add64(zm_rhs_178213, i_179706);
                    
                    ((int64_t *) mem_180365)[i_179716 * perThread_174534 + i_179706] = lifted_lambda_res_178929;
                }
                
                bool cond_178931 = card_178214 == zp_rhs_174533;
                
                if (cond_178931) {
                    bool y_178933 = slt64(card_178214, perThread_174534);
                    bool index_certs_178934;
                    
                    if (!y_178933) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_178214, "] out of bounds for array of shape [", (long long) perThread_174534, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_180365)[i_179716 * perThread_174534 + card_178214] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_180726, bytes_180021, "mem_180726")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181500 = 0; nest_i_181500 < window_sizze_130663; nest_i_181500++) {
                ((int32_t *) mem_180726.mem)[nest_i_181500] = 0;
            }
            if (memblock_alloc(ctx, &mem_180728, bytes_180019, "mem_180728")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181501 = 0; nest_i_181501 < window_sizze_130663; nest_i_181501++) {
                ((int64_t *) mem_180728.mem)[nest_i_181501] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180729, window_sizze_130663, "mem_180729")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181502 = 0; nest_i_181502 < window_sizze_130663; nest_i_181502++) {
                ((int8_t *) mem_180729.mem)[nest_i_181502] = (int8_t) -1;
            }
            for (int64_t write_iter_179721 = 0; write_iter_179721 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174535; write_iter_179721++) {
                int64_t new_index_179873 = squot64(write_iter_179721, perThread_174534);
                int64_t binop_y_179875 = perThread_174534 * new_index_179873;
                int64_t new_index_179876 = write_iter_179721 - binop_y_179875;
                int64_t write_iv_179725 = ((int64_t *) mem_180365)[new_index_179873 * perThread_174534 + new_index_179876];
                int8_t write_iv_179726 = ((int8_t *) mem_180367)[new_index_179873 * perThread_174534 + new_index_179876];
                int64_t write_iv_179727 = ((int64_t *) mem_180370)[new_index_179873 * perThread_174534 + new_index_179876];
                int32_t write_iv_179728 = ((int32_t *) mem_180373)[new_index_179873 * perThread_174534 + new_index_179876];
                
                if (sle64((int64_t) 0, write_iv_179725) && slt64(write_iv_179725, window_sizze_130663)) {
                    ((int8_t *) mem_180729.mem)[write_iv_179725] = write_iv_179726;
                }
                if (sle64((int64_t) 0, write_iv_179725) && slt64(write_iv_179725, window_sizze_130663)) {
                    ((int64_t *) mem_180728.mem)[write_iv_179725] = write_iv_179727;
                }
                if (sle64((int64_t) 0, write_iv_179725) && slt64(write_iv_179725, window_sizze_130663)) {
                    ((int32_t *) mem_180726.mem)[write_iv_179725] = write_iv_179728;
                }
            }
            
            int64_t index_concat_branch_178957;
            
            if (index_concat_cmp_177297) {
                int64_t index_concat_178958 = ((int64_t *) mem_180348)[index_concat_i_177298];
                
                index_concat_branch_178957 = index_concat_178958;
            } else {
                index_concat_branch_178957 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178959;
            
            if (index_concat_cmp_177297) {
                int64_t index_concat_178960 = ((int64_t *) mem_180350)[index_concat_i_177298];
                
                index_concat_branch_178959 = index_concat_178960;
            } else {
                index_concat_branch_178959 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_180756, &mem_180729, "mem_180729") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_180753, &mem_180728, "mem_180728") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_180750, &mem_180726, "mem_180726") != 0)
                return 1;
            loopres_174524 = index_concat_branch_178957;
            loopres_174525 = index_concat_branch_178959;
        } else {
            int32_t leq_lhs_175515 = ((int32_t *) a_list_mem_179986.mem)[p_174496];
            int32_t leq_rhs_175518 = ((int32_t *) b_list_mem_179987.mem)[p_174497];
            bool defunc_0_leq_res_175519 = sle32(leq_lhs_175515, leq_rhs_175518);
            int32_t lowest_175520;
            
            if (defunc_0_leq_res_175519) {
                bool index_certs_178961;
                
                if (!y_175513) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_175520 = leq_lhs_175515;
            } else {
                bool index_certs_175525;
                
                if (!y_175513) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_175520 = leq_rhs_175518;
            }
            if (mem_180003_cached_sizze_181836 < bytes_180002) {
                err = lexical_realloc(ctx, &mem_180003, &mem_180003_cached_sizze_181836, bytes_180002);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180005_cached_sizze_181837 < bytes_180002) {
                err = lexical_realloc(ctx, &mem_180005, &mem_180005_cached_sizze_181837, bytes_180002);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_179736 = 0; i_179736 < threads_130664; i_179736++) {
                int64_t index_primexp_179952 = add64((int64_t) 1, i_179736);
                int64_t zs_lhs_175541 = mul64(zt_rhs_175534, index_primexp_179952);
                int64_t index_175542 = sdiv64(zs_lhs_175541, partitionFunc_arg0_175511);
                bool cond_175543 = slt64(window_sizze_130663, index_175542);
                int64_t loop_over_175544;
                
                if (cond_175543) {
                    loop_over_175544 = window_sizze_130663;
                } else {
                    loop_over_175544 = index_175542;
                }
                
                int64_t loop_over_175545;
                
                if (cond_175543) {
                    int64_t loop_over_t_res_178962 = sub64(index_175542, window_sizze_130663);
                    
                    loop_over_175545 = loop_over_t_res_178962;
                } else {
                    loop_over_175545 = (int64_t) 0;
                }
                
                int64_t loop_over_175547;
                
                if (cond_175543) {
                    int64_t zm_lhs_178963 = sub64(index_175542, window_sizze_130663);
                    int64_t loop_over_t_res_178964 = sub64(zm_lhs_178963, (int64_t) 1);
                    
                    loop_over_175547 = loop_over_t_res_178964;
                } else {
                    loop_over_175547 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_175550;
                int64_t defunc_0_f_res_175551;
                int64_t defunc_0_f_res_175552;
                int64_t defunc_0_f_res_175553;
                bool loop_while_175554;
                int64_t p_175555;
                int64_t p_175556;
                int64_t p_175557;
                
                loop_while_175554 = 1;
                p_175555 = loop_over_175547;
                p_175556 = loop_over_175544;
                p_175557 = loop_over_175545;
                while (loop_while_175554) {
                    int64_t zs_lhs_175558 = sub64(p_175556, p_175555);
                    int64_t offset_175559 = sdiv64(zs_lhs_175558, (int64_t) 2);
                    int64_t ai_175560 = sub64(p_175556, offset_175559);
                    int64_t max_arg1_175561 = add64(p_175557, offset_175559);
                    int64_t max_res_175562 = smax64((int64_t) 0, max_arg1_175561);
                    bool cond_175563 = slt64((int64_t) 0, max_res_175562);
                    int32_t b_prev_175564;
                    
                    if (cond_175563) {
                        int64_t tmp_178965 = sub64(max_res_175562, (int64_t) 1);
                        bool x_178966 = sle64((int64_t) 0, tmp_178965);
                        bool y_178967 = slt64(tmp_178965, window_sizze_130663);
                        bool bounds_check_178968 = x_178966 && y_178967;
                        bool index_certs_178969;
                        
                        if (!bounds_check_178968) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178965, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_178970 = p_174497 + tmp_178965;
                        int32_t b_prev_t_res_178971 = ((int32_t *) b_list_mem_179987.mem)[slice_178970];
                        
                        b_prev_175564 = b_prev_t_res_178971;
                    } else {
                        b_prev_175564 = lowest_175520;
                    }
                    
                    bool cond_175571 = sle64(ai_175560, (int64_t) 0);
                    int64_t loopres_175572;
                    int64_t loopres_175573;
                    int64_t loopres_175574;
                    bool loopres_175575;
                    
                    if (cond_175571) {
                        loopres_175572 = p_175555;
                        loopres_175573 = (int64_t) 0;
                        loopres_175574 = max_res_175562;
                        loopres_175575 = 0;
                    } else {
                        bool cond_175576 = sle64(window_sizze_130663, max_res_175562);
                        int64_t loopres_f_res_175577;
                        int64_t loopres_f_res_175578;
                        int64_t loopres_f_res_175579;
                        bool loopres_f_res_175580;
                        
                        if (cond_175576) {
                            int64_t min_res_178973 = smin64(m_174485, ai_175560);
                            bool x_178974 = sle64((int64_t) 0, m_174485);
                            bool y_178975 = slt64(m_174485, window_sizze_130663);
                            bool bounds_check_178976 = x_178974 && y_178975;
                            bool index_certs_178977;
                            
                            if (!bounds_check_178976) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174485, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_178980 = sle64((int64_t) 0, min_res_178973);
                            bool y_178981 = slt64(min_res_178973, window_sizze_130663);
                            bool bounds_check_178982 = x_178980 && y_178981;
                            bool index_certs_178983;
                            
                            if (!bounds_check_178982) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178973, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int32_t leq_lhs_178979 = ((int32_t *) b_list_mem_179987.mem)[i_p_m_t_s_174513];
                            int64_t slice_178984 = p_174496 + min_res_178973;
                            int32_t leq_rhs_178985 = ((int32_t *) a_list_mem_179986.mem)[slice_178984];
                            bool defunc_0_leq_res_178986 = sle32(leq_lhs_178979, leq_rhs_178985);
                            int64_t loopres_f_res_t_res_178987;
                            
                            if (defunc_0_leq_res_178986) {
                                loopres_f_res_t_res_178987 = ai_175560;
                            } else {
                                loopres_f_res_t_res_178987 = p_175556;
                            }
                            
                            bool x_178988 = !defunc_0_leq_res_178986;
                            int64_t loopres_f_res_t_res_178989;
                            
                            if (defunc_0_leq_res_178986) {
                                loopres_f_res_t_res_178989 = window_sizze_130663;
                            } else {
                                int64_t tmp_178990 = sub64(m_174485, offset_175559);
                                
                                loopres_f_res_t_res_178989 = tmp_178990;
                            }
                            loopres_f_res_175577 = p_175555;
                            loopres_f_res_175578 = loopres_f_res_t_res_178987;
                            loopres_f_res_175579 = loopres_f_res_t_res_178989;
                            loopres_f_res_175580 = x_178988;
                        } else {
                            bool cond_175598 = sle64(window_sizze_130663, ai_175560);
                            int64_t loopres_f_res_f_res_175599;
                            int64_t loopres_f_res_f_res_175600;
                            int64_t loopres_f_res_f_res_175601;
                            bool loopres_f_res_f_res_175602;
                            
                            if (cond_175598) {
                                int64_t min_res_178992 = smin64(m_174485, max_res_175562);
                                bool x_178993 = sle64((int64_t) 0, m_174485);
                                bool y_178994 = slt64(m_174485, window_sizze_130663);
                                bool bounds_check_178995 = x_178993 && y_178994;
                                bool index_certs_178996;
                                
                                if (!bounds_check_178995) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174485, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178999 = sle64((int64_t) 0, min_res_178992);
                                bool y_179000 = slt64(min_res_178992, window_sizze_130663);
                                bool bounds_check_179001 = x_178999 && y_179000;
                                bool index_certs_179002;
                                
                                if (!bounds_check_179001) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178992, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int32_t leq_lhs_178998 = ((int32_t *) a_list_mem_179986.mem)[i_p_m_t_s_174502];
                                int64_t slice_179003 = p_174497 + min_res_178992;
                                int32_t leq_rhs_179004 = ((int32_t *) b_list_mem_179987.mem)[slice_179003];
                                bool defunc_0_leq_res_179005 = sle32(leq_lhs_178998, leq_rhs_179004);
                                int64_t loopres_f_res_f_res_t_res_179006;
                                
                                if (defunc_0_leq_res_179005) {
                                    loopres_f_res_f_res_t_res_179006 = max_res_175562;
                                } else {
                                    loopres_f_res_f_res_t_res_179006 = p_175557;
                                }
                                
                                bool x_179007 = !defunc_0_leq_res_179005;
                                int64_t loopres_f_res_f_res_t_res_179008;
                                
                                if (defunc_0_leq_res_179005) {
                                    loopres_f_res_f_res_t_res_179008 = window_sizze_130663;
                                } else {
                                    loopres_f_res_f_res_t_res_179008 = m_174485;
                                }
                                loopres_f_res_f_res_175599 = p_175555;
                                loopres_f_res_f_res_175600 = loopres_f_res_f_res_t_res_179008;
                                loopres_f_res_f_res_175601 = loopres_f_res_f_res_t_res_179006;
                                loopres_f_res_f_res_175602 = x_179007;
                            } else {
                                bool cond_175619 = sle64(p_175556, p_175555);
                                int64_t loopres_f_res_f_res_f_res_175620;
                                int64_t loopres_f_res_f_res_f_res_175621;
                                int64_t loopres_f_res_f_res_f_res_175622;
                                bool loopres_f_res_f_res_f_res_175623;
                                
                                if (cond_175619) {
                                    bool cond_179047 = slt64(ai_175560, window_sizze_130663);
                                    int64_t ai_179048;
                                    
                                    if (cond_179047) {
                                        ai_179048 = ai_175560;
                                    } else {
                                        ai_179048 = m_174485;
                                    }
                                    
                                    bool x_179061 = sle64((int64_t) 0, ai_179048);
                                    bool y_179062 = slt64(ai_179048, window_sizze_130663);
                                    bool bounds_check_179063 = x_179061 && y_179062;
                                    bool index_certs_179064;
                                    
                                    if (!bounds_check_179063) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179048, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int32_t b_prev_179050;
                                    
                                    if (cond_175563) {
                                        int64_t tmp_179051 = sub64(max_res_175562, (int64_t) 1);
                                        bool x_179052 = sle64((int64_t) 0, tmp_179051);
                                        bool y_179053 = slt64(tmp_179051, window_sizze_130663);
                                        bool bounds_check_179054 = x_179052 && y_179053;
                                        bool index_certs_179055;
                                        
                                        if (!bounds_check_179054) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179051, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179056 = p_174497 + tmp_179051;
                                        int32_t b_prev_t_res_179057 = ((int32_t *) b_list_mem_179987.mem)[slice_179056];
                                        
                                        b_prev_179050 = b_prev_t_res_179057;
                                    } else {
                                        bool index_certs_179059;
                                        
                                        if (!y_175513) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179050 = leq_rhs_175518;
                                    }
                                    
                                    int64_t slice_179065 = p_174496 + ai_179048;
                                    int32_t gt_lhs_179066 = ((int32_t *) a_list_mem_179986.mem)[slice_179065];
                                    bool defunc_0_gt_res_179067 = slt32(b_prev_179050, gt_lhs_179066);
                                    int64_t defunc_0_partFunc_sequential_search_res_179068;
                                    int64_t defunc_0_partFunc_sequential_search_res_179069;
                                    
                                    if (defunc_0_gt_res_179067) {
                                        int64_t zl_rhs_179070 = sub64(window_sizze_130663, max_res_175562);
                                        bool loop_cond_179071 = slt64((int64_t) 0, zl_rhs_179070);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179072;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179073;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179074;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179075;
                                        bool loop_while_179076;
                                        int64_t p_179077;
                                        int64_t p_179078;
                                        int64_t p_179079;
                                        
                                        loop_while_179076 = loop_cond_179071;
                                        p_179077 = ai_179048;
                                        p_179078 = max_res_175562;
                                        p_179079 = (int64_t) 0;
                                        while (loop_while_179076) {
                                            int64_t i_a_179080 = sub64(ai_179048, p_179079);
                                            int64_t i_b_179081 = add64(max_res_175562, p_179079);
                                            int64_t leq_lhs_179082 = sub64(i_a_179080, (int64_t) 1);
                                            bool x_179083 = sle64((int64_t) 0, leq_lhs_179082);
                                            bool y_179084 = slt64(leq_lhs_179082, window_sizze_130663);
                                            bool bounds_check_179085 = x_179083 && y_179084;
                                            bool index_certs_179086;
                                            
                                            if (!bounds_check_179085) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179082, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179089 = sle64((int64_t) 0, i_b_179081);
                                            bool y_179090 = slt64(i_b_179081, window_sizze_130663);
                                            bool bounds_check_179091 = x_179089 && y_179090;
                                            bool index_certs_179092;
                                            
                                            if (!bounds_check_179091) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179081, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179087 = p_174496 + leq_lhs_179082;
                                            int32_t leq_lhs_179088 = ((int32_t *) a_list_mem_179986.mem)[slice_179087];
                                            int64_t slice_179093 = p_174497 + i_b_179081;
                                            int32_t leq_rhs_179094 = ((int32_t *) b_list_mem_179987.mem)[slice_179093];
                                            bool defunc_0_leq_res_179095 = sle32(leq_lhs_179088, leq_rhs_179094);
                                            int64_t loopres_179096;
                                            
                                            if (defunc_0_leq_res_179095) {
                                                loopres_179096 = i_a_179080;
                                            } else {
                                                loopres_179096 = ai_179048;
                                            }
                                            
                                            int64_t loopres_179097;
                                            
                                            if (defunc_0_leq_res_179095) {
                                                loopres_179097 = i_b_179081;
                                            } else {
                                                loopres_179097 = max_res_175562;
                                            }
                                            
                                            int64_t loopres_179098;
                                            
                                            if (defunc_0_leq_res_179095) {
                                                loopres_179098 = zl_rhs_179070;
                                            } else {
                                                int64_t tmp_179099 = add64((int64_t) 1, p_179079);
                                                
                                                loopres_179098 = tmp_179099;
                                            }
                                            
                                            bool loop_cond_179100 = slt64(loopres_179098, zl_rhs_179070);
                                            bool loop_while_tmp_181512 = loop_cond_179100;
                                            int64_t p_tmp_181513 = loopres_179096;
                                            int64_t p_tmp_181514 = loopres_179097;
                                            int64_t p_tmp_181515 = loopres_179098;
                                            
                                            loop_while_179076 = loop_while_tmp_181512;
                                            p_179077 = p_tmp_181513;
                                            p_179078 = p_tmp_181514;
                                            p_179079 = p_tmp_181515;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179072 = loop_while_179076;
                                        defunc_0_partFunc_sequential_search_res_t_res_179073 = p_179077;
                                        defunc_0_partFunc_sequential_search_res_t_res_179074 = p_179078;
                                        defunc_0_partFunc_sequential_search_res_t_res_179075 = p_179079;
                                        defunc_0_partFunc_sequential_search_res_179068 = defunc_0_partFunc_sequential_search_res_t_res_179073;
                                        defunc_0_partFunc_sequential_search_res_179069 = defunc_0_partFunc_sequential_search_res_t_res_179074;
                                    } else {
                                        int64_t zl_rhs_179101 = sub64(max_res_175562, (int64_t) 1);
                                        bool loop_cond_179102 = slt64((int64_t) 0, zl_rhs_179101);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179103;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179104;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179105;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179106;
                                        bool loop_while_179107;
                                        int64_t p_179108;
                                        int64_t p_179109;
                                        int64_t p_179110;
                                        
                                        loop_while_179107 = loop_cond_179102;
                                        p_179108 = ai_179048;
                                        p_179109 = max_res_175562;
                                        p_179110 = (int64_t) 0;
                                        while (loop_while_179107) {
                                            int64_t zp_lhs_179111 = add64(ai_179048, p_179110);
                                            int64_t hi_a_179112 = add64((int64_t) 1, zp_lhs_179111);
                                            bool cond_179113 = slt64(hi_a_179112, window_sizze_130663);
                                            int64_t i_a_179114;
                                            
                                            if (cond_179113) {
                                                i_a_179114 = hi_a_179112;
                                            } else {
                                                i_a_179114 = m_174485;
                                            }
                                            
                                            int64_t zm_lhs_179116 = sub64(max_res_175562, p_179110);
                                            int64_t i_b_179117 = sub64(zm_lhs_179116, (int64_t) 1);
                                            bool x_179118 = sle64((int64_t) 0, i_a_179114);
                                            bool y_179119 = slt64(i_a_179114, window_sizze_130663);
                                            bool bounds_check_179120 = x_179118 && y_179119;
                                            bool index_certs_179121;
                                            
                                            if (!bounds_check_179120) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179114, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179124 = sle64((int64_t) 0, i_b_179117);
                                            bool y_179125 = slt64(i_b_179117, window_sizze_130663);
                                            bool bounds_check_179126 = x_179124 && y_179125;
                                            bool index_certs_179127;
                                            
                                            if (!bounds_check_179126) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179117, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179122 = p_174496 + i_a_179114;
                                            int32_t gt_lhs_179123 = ((int32_t *) a_list_mem_179986.mem)[slice_179122];
                                            int64_t slice_179128 = p_174497 + i_b_179117;
                                            int32_t gt_rhs_179129 = ((int32_t *) b_list_mem_179987.mem)[slice_179128];
                                            bool defunc_0_gt_res_179130 = slt32(gt_rhs_179129, gt_lhs_179123);
                                            int64_t loopres_179131;
                                            
                                            if (defunc_0_gt_res_179130) {
                                                loopres_179131 = i_a_179114;
                                            } else {
                                                loopres_179131 = ai_179048;
                                            }
                                            
                                            int64_t loopres_179132;
                                            
                                            if (defunc_0_gt_res_179130) {
                                                loopres_179132 = zm_lhs_179116;
                                            } else {
                                                loopres_179132 = max_res_175562;
                                            }
                                            
                                            int64_t loopres_179133;
                                            
                                            if (defunc_0_gt_res_179130) {
                                                loopres_179133 = zl_rhs_179101;
                                            } else {
                                                int64_t tmp_179134 = add64((int64_t) 1, p_179110);
                                                
                                                loopres_179133 = tmp_179134;
                                            }
                                            
                                            bool loop_cond_179135 = slt64(loopres_179133, zl_rhs_179101);
                                            bool loop_while_tmp_181516 = loop_cond_179135;
                                            int64_t p_tmp_181517 = loopres_179131;
                                            int64_t p_tmp_181518 = loopres_179132;
                                            int64_t p_tmp_181519 = loopres_179133;
                                            
                                            loop_while_179107 = loop_while_tmp_181516;
                                            p_179108 = p_tmp_181517;
                                            p_179109 = p_tmp_181518;
                                            p_179110 = p_tmp_181519;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179103 = loop_while_179107;
                                        defunc_0_partFunc_sequential_search_res_f_res_179104 = p_179108;
                                        defunc_0_partFunc_sequential_search_res_f_res_179105 = p_179109;
                                        defunc_0_partFunc_sequential_search_res_f_res_179106 = p_179110;
                                        defunc_0_partFunc_sequential_search_res_179068 = defunc_0_partFunc_sequential_search_res_f_res_179104;
                                        defunc_0_partFunc_sequential_search_res_179069 = defunc_0_partFunc_sequential_search_res_f_res_179105;
                                    }
                                    loopres_f_res_f_res_f_res_175620 = p_175555;
                                    loopres_f_res_f_res_f_res_175621 = defunc_0_partFunc_sequential_search_res_179068;
                                    loopres_f_res_f_res_f_res_175622 = defunc_0_partFunc_sequential_search_res_179069;
                                    loopres_f_res_f_res_f_res_175623 = 0;
                                } else {
                                    bool x_175707 = sle64((int64_t) 0, ai_175560);
                                    bool y_175708 = slt64(ai_175560, window_sizze_130663);
                                    bool bounds_check_175709 = x_175707 && y_175708;
                                    bool index_certs_175710;
                                    
                                    if (!bounds_check_175709) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_175560, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_177376 = p_174496 + ai_175560;
                                    int32_t gt_lhs_175711 = ((int32_t *) a_list_mem_179986.mem)[slice_177376];
                                    bool defunc_0_gt_res_175712 = slt32(b_prev_175564, gt_lhs_175711);
                                    int64_t loopres_f_res_f_res_f_res_f_res_175713;
                                    int64_t loopres_f_res_f_res_f_res_f_res_175714;
                                    int64_t loopres_f_res_f_res_f_res_f_res_175715;
                                    bool loopres_f_res_f_res_f_res_f_res_175716;
                                    
                                    if (defunc_0_gt_res_175712) {
                                        int64_t leq_lhs_179136 = sub64(ai_175560, (int64_t) 1);
                                        bool x_179137 = sle64((int64_t) 0, leq_lhs_179136);
                                        bool y_179138 = slt64(leq_lhs_179136, window_sizze_130663);
                                        bool bounds_check_179139 = x_179137 && y_179138;
                                        bool index_certs_179140;
                                        
                                        if (!bounds_check_179139) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179136, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179143 = sle64((int64_t) 0, max_res_175562);
                                        bool y_179144 = slt64(max_res_175562, window_sizze_130663);
                                        bool bounds_check_179145 = x_179143 && y_179144;
                                        bool index_certs_179146;
                                        
                                        if (!bounds_check_179145) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_175562, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179141 = p_174496 + leq_lhs_179136;
                                        int32_t leq_lhs_179142 = ((int32_t *) a_list_mem_179986.mem)[slice_179141];
                                        int64_t slice_179147 = p_174497 + max_res_175562;
                                        int32_t leq_rhs_179148 = ((int32_t *) b_list_mem_179987.mem)[slice_179147];
                                        bool defunc_0_leq_res_179149 = sle32(leq_lhs_179142, leq_rhs_179148);
                                        bool x_179150 = !defunc_0_leq_res_179149;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179151;
                                        
                                        if (defunc_0_leq_res_179149) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179151 = ai_175560;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179151 = leq_lhs_179136;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179152;
                                        
                                        if (defunc_0_leq_res_179149) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179152 = max_res_175562;
                                        } else {
                                            int64_t tmp_179153 = add64((int64_t) 1, max_res_175562);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179152 = tmp_179153;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_175713 = p_175555;
                                        loopres_f_res_f_res_f_res_f_res_175714 = loopres_f_res_f_res_f_res_f_res_t_res_179151;
                                        loopres_f_res_f_res_f_res_f_res_175715 = loopres_f_res_f_res_f_res_f_res_t_res_179152;
                                        loopres_f_res_f_res_f_res_f_res_175716 = x_179150;
                                    } else {
                                        int64_t tmp_175733 = add64((int64_t) 1, ai_175560);
                                        
                                        loopres_f_res_f_res_f_res_f_res_175713 = tmp_175733;
                                        loopres_f_res_f_res_f_res_f_res_175714 = p_175556;
                                        loopres_f_res_f_res_f_res_f_res_175715 = p_175557;
                                        loopres_f_res_f_res_f_res_f_res_175716 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_175620 = loopres_f_res_f_res_f_res_f_res_175713;
                                    loopres_f_res_f_res_f_res_175621 = loopres_f_res_f_res_f_res_f_res_175714;
                                    loopres_f_res_f_res_f_res_175622 = loopres_f_res_f_res_f_res_f_res_175715;
                                    loopres_f_res_f_res_f_res_175623 = loopres_f_res_f_res_f_res_f_res_175716;
                                }
                                loopres_f_res_f_res_175599 = loopres_f_res_f_res_f_res_175620;
                                loopres_f_res_f_res_175600 = loopres_f_res_f_res_f_res_175621;
                                loopres_f_res_f_res_175601 = loopres_f_res_f_res_f_res_175622;
                                loopres_f_res_f_res_175602 = loopres_f_res_f_res_f_res_175623;
                            }
                            loopres_f_res_175577 = loopres_f_res_f_res_175599;
                            loopres_f_res_175578 = loopres_f_res_f_res_175600;
                            loopres_f_res_175579 = loopres_f_res_f_res_175601;
                            loopres_f_res_175580 = loopres_f_res_f_res_175602;
                        }
                        loopres_175572 = loopres_f_res_175577;
                        loopres_175573 = loopres_f_res_175578;
                        loopres_175574 = loopres_f_res_175579;
                        loopres_175575 = loopres_f_res_175580;
                    }
                    
                    bool loop_while_tmp_181508 = loopres_175575;
                    int64_t p_tmp_181509 = loopres_175572;
                    int64_t p_tmp_181510 = loopres_175573;
                    int64_t p_tmp_181511 = loopres_175574;
                    
                    loop_while_175554 = loop_while_tmp_181508;
                    p_175555 = p_tmp_181509;
                    p_175556 = p_tmp_181510;
                    p_175557 = p_tmp_181511;
                }
                defunc_0_f_res_175550 = loop_while_175554;
                defunc_0_f_res_175551 = p_175555;
                defunc_0_f_res_175552 = p_175556;
                defunc_0_f_res_175553 = p_175557;
                ((int64_t *) mem_180003)[i_179736] = defunc_0_f_res_175552;
                ((int64_t *) mem_180005)[i_179736] = defunc_0_f_res_175553;
            }
            if (memblock_alloc(ctx, &mem_180018, window_sizze_130663, "mem_180018")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181520 = 0; nest_i_181520 < window_sizze_130663; nest_i_181520++) {
                ((int8_t *) mem_180018.mem)[nest_i_181520] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180020, bytes_180019, "mem_180020")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181521 = 0; nest_i_181521 < window_sizze_130663; nest_i_181521++) {
                ((int64_t *) mem_180020.mem)[nest_i_181521] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180022, bytes_180021, "mem_180022")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181522 = 0; nest_i_181522 < window_sizze_130663; nest_i_181522++) {
                ((int32_t *) mem_180022.mem)[nest_i_181522] = 0;
            }
            
            bool defunc_0_mergeFunc_seq_res_175760;
            int64_t defunc_0_mergeFunc_seq_res_175761;
            bool loop_while_175765;
            int64_t p_175766;
            
            loop_while_175765 = loop_cond_175759;
            p_175766 = (int64_t) 0;
            while (loop_while_175765) {
                bool x_175770 = sle64((int64_t) 0, p_175766);
                bool y_175771 = slt64(p_175766, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
                bool bounds_check_175772 = x_175770 && y_175771;
                bool index_certs_175773;
                
                if (!bounds_check_175772) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175766, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_177359 = sle64((int64_t) 1, p_175766);
                int64_t index_concat_i_177360 = sub64(p_175766, (int64_t) 1);
                int64_t index_concat_177361;
                
                if (index_concat_cmp_177359) {
                    int64_t x_179154 = ((int64_t *) mem_180003)[index_concat_i_177360];
                    
                    index_concat_177361 = x_179154;
                } else {
                    index_concat_177361 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177363;
                
                if (index_concat_cmp_177359) {
                    index_concat_branch_177363 = index_concat_177361;
                } else {
                    index_concat_branch_177363 = (int64_t) 0;
                }
                
                int64_t index_concat_177355;
                
                if (index_concat_cmp_177359) {
                    int64_t x_179155 = ((int64_t *) mem_180005)[index_concat_i_177360];
                    
                    index_concat_177355 = x_179155;
                } else {
                    index_concat_177355 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177357;
                
                if (index_concat_cmp_177359) {
                    index_concat_branch_177357 = index_concat_177355;
                } else {
                    index_concat_branch_177357 = (int64_t) 0;
                }
                
                int64_t ubs_175776 = add64((int64_t) 1, p_175766);
                bool x_175777 = sle64((int64_t) 0, ubs_175776);
                bool y_175778 = slt64(ubs_175776, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
                bool bounds_check_175779 = x_175777 && y_175778;
                bool index_certs_175780;
                
                if (!bounds_check_175779) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_175776, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_177347 = sle64((int64_t) 1, ubs_175776);
                int64_t index_concat_177349;
                
                if (index_concat_cmp_177347) {
                    int64_t x_179156 = ((int64_t *) mem_180003)[p_175766];
                    
                    index_concat_177349 = x_179156;
                } else {
                    index_concat_177349 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177351;
                
                if (index_concat_cmp_177347) {
                    index_concat_branch_177351 = index_concat_177349;
                } else {
                    index_concat_branch_177351 = (int64_t) 0;
                }
                
                int64_t index_concat_177343;
                
                if (index_concat_cmp_177347) {
                    int64_t x_179157 = ((int64_t *) mem_180005)[p_175766];
                    
                    index_concat_177343 = x_179157;
                } else {
                    index_concat_177343 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177345;
                
                if (index_concat_cmp_177347) {
                    index_concat_branch_177345 = index_concat_177343;
                } else {
                    index_concat_branch_177345 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783 = sub64(index_concat_branch_177345, index_concat_branch_177357);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784 = sub64(index_concat_branch_177351, index_concat_branch_177363);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                int64_t ind_bottom_175786 = add64(index_concat_branch_177357, index_concat_branch_177363);
                int64_t ind_top_175787 = add64(index_concat_branch_177345, index_concat_branch_177351);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788 = sub64(ind_top_175787, ind_bottom_175786);
                bool empty_slice_175789 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784 == (int64_t) 0;
                int64_t m_175790 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, (int64_t) 1);
                int64_t i_p_m_t_s_175791 = add64(m_175790, index_concat_branch_177363);
                bool zzero_leq_i_p_m_t_s_175792 = sle64((int64_t) 0, i_p_m_t_s_175791);
                bool i_p_m_t_s_leq_w_175793 = slt64(i_p_m_t_s_175791, window_sizze_130663);
                bool zzero_lte_i_175794 = sle64((int64_t) 0, index_concat_branch_177363);
                bool i_lte_j_175795 = sle64(index_concat_branch_177363, index_concat_branch_177351);
                bool y_175796 = i_p_m_t_s_leq_w_175793 && zzero_lte_i_175794;
                bool y_175797 = zzero_leq_i_p_m_t_s_175792 && y_175796;
                bool forwards_ok_175798 = i_lte_j_175795 && y_175797;
                bool ok_or_empty_175799 = empty_slice_175789 || forwards_ok_175798;
                bool index_certs_175800;
                
                if (!ok_or_empty_175799) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_177363, ":", (long long) index_concat_branch_177351, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_175801 = slt64(index_concat_branch_177351, index_concat_branch_177363);
                bool valid_175802 = !bounds_invalid_upwards_175801;
                bool range_valid_c_175803;
                
                if (!valid_175802) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_177363, "..<", (long long) index_concat_branch_177351, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_175809 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783 == (int64_t) 0;
                int64_t m_175810 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783, (int64_t) 1);
                int64_t i_p_m_t_s_175811 = add64(m_175810, index_concat_branch_177357);
                bool zzero_leq_i_p_m_t_s_175812 = sle64((int64_t) 0, i_p_m_t_s_175811);
                bool i_p_m_t_s_leq_w_175813 = slt64(i_p_m_t_s_175811, window_sizze_130663);
                bool zzero_lte_i_175814 = sle64((int64_t) 0, index_concat_branch_177357);
                bool i_lte_j_175815 = sle64(index_concat_branch_177357, index_concat_branch_177345);
                bool y_175816 = i_p_m_t_s_leq_w_175813 && zzero_lte_i_175814;
                bool y_175817 = zzero_leq_i_p_m_t_s_175812 && y_175816;
                bool forwards_ok_175818 = i_lte_j_175815 && y_175817;
                bool ok_or_empty_175819 = empty_slice_175809 || forwards_ok_175818;
                bool index_certs_175820;
                
                if (!ok_or_empty_175819) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_177357, ":", (long long) index_concat_branch_177345, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_175821 = slt64(index_concat_branch_177345, index_concat_branch_177357);
                bool valid_175822 = !bounds_invalid_upwards_175821;
                bool range_valid_c_175823;
                
                if (!valid_175822) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_177357, "..<", (long long) index_concat_branch_177345, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180039 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785;
                int64_t bytes_180041 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785;
                bool cond_175832 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, (int64_t) 1);
                int64_t zs_lhs_175833 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, (int64_t) 1);
                int64_t zp_rhs_175834 = sdiv_safe64(zs_lhs_175833, (int64_t) 20);
                int64_t min_num_blocks_175835 = add64((int64_t) 1, zp_rhs_175834);
                bool loop_cond_175836 = slt64((int64_t) 1, min_num_blocks_175835);
                bool smallest_pow_2_geq_than_res_175837;
                int64_t smallest_pow_2_geq_than_res_175838;
                bool loop_while_175839;
                int64_t x_175840;
                
                loop_while_175839 = loop_cond_175836;
                x_175840 = (int64_t) 1;
                while (loop_while_175839) {
                    int64_t loopres_175841 = mul64((int64_t) 2, x_175840);
                    bool loop_cond_175842 = slt64(loopres_175841, min_num_blocks_175835);
                    bool loop_while_tmp_181528 = loop_cond_175842;
                    int64_t x_tmp_181529 = loopres_175841;
                    
                    loop_while_175839 = loop_while_tmp_181528;
                    x_175840 = x_tmp_181529;
                }
                smallest_pow_2_geq_than_res_175837 = loop_while_175839;
                smallest_pow_2_geq_than_res_175838 = x_175840;
                
                bool zzero_175843 = smallest_pow_2_geq_than_res_175838 == (int64_t) 0;
                bool nonzzero_175844 = !zzero_175843;
                bool protect_assert_disj_175845 = cond_175832 || nonzzero_175844;
                bool nonzzero_cert_175846;
                
                if (!protect_assert_disj_175845) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_175847 = sdiv_safe64(zs_lhs_175833, smallest_pow_2_geq_than_res_175838);
                int64_t block_sizze_175848 = add64((int64_t) 1, zp_rhs_175847);
                bool y_175855 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785);
                bool protect_assert_disj_181192 = cond_175832 || y_175855;
                bool index_certs_175856;
                
                if (!protect_assert_disj_181192) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_175882 = slt64(smallest_pow_2_geq_than_res_175838, (int64_t) 0);
                bool valid_175883 = !bounds_invalid_upwards_175882;
                bool protect_assert_disj_181202 = cond_175832 || valid_175883;
                bool range_valid_c_175884;
                
                if (!protect_assert_disj_181202) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_175838, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_175886 = slt64(block_sizze_175848, (int64_t) 0);
                bool valid_175887 = !bounds_invalid_upwards_175886;
                bool protect_assert_disj_181204 = cond_175832 || valid_175887;
                bool range_valid_c_175888;
                
                if (!protect_assert_disj_181204) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_175848, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_175890 = sle64(block_sizze_175848, (int64_t) 1);
                int64_t tmp_175891 = sub64(block_sizze_175848, (int64_t) 2);
                bool bounds_invalid_upwards_175892 = slt64(tmp_175891, (int64_t) 0);
                bool valid_175894 = !bounds_invalid_upwards_175892;
                bool protect_assert_disj_175895 = cond_175890 || valid_175894;
                bool protect_assert_disj_181206 = cond_175832 || protect_assert_disj_175895;
                bool range_valid_c_175896;
                
                if (!protect_assert_disj_181206) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_175891, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_176457 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785;
                bool empty_or_match_cert_176458;
                
                if (!dim_match_176457) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788, "](i8, i64, i32)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176459 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788 == (int64_t) 0;
                int64_t m_176460 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_176461 = sle64((int64_t) 0, m_176460);
                bool i_p_m_t_s_leq_w_176462 = slt64(m_176460, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788);
                bool y_176463 = zzero_leq_i_p_m_t_s_176461 && i_p_m_t_s_leq_w_176462;
                bool ok_or_empty_176464 = empty_slice_176459 || y_176463;
                bool index_certs_176465;
                
                if (!ok_or_empty_176464) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_176466 = add64(ind_bottom_175786, m_176460);
                bool zzero_leq_i_p_m_t_s_176467 = sle64((int64_t) 0, i_p_m_t_s_176466);
                bool i_p_m_t_s_leq_w_176468 = slt64(i_p_m_t_s_176466, window_sizze_130663);
                bool zzero_lte_i_176469 = sle64((int64_t) 0, ind_bottom_175786);
                bool i_lte_j_176470 = sle64(ind_bottom_175786, ind_top_175787);
                bool y_176471 = i_p_m_t_s_leq_w_176468 && zzero_lte_i_176469;
                bool y_176472 = zzero_leq_i_p_m_t_s_176467 && y_176471;
                bool forwards_ok_176473 = i_lte_j_176470 && y_176472;
                bool ok_or_empty_176474 = empty_slice_176459 || forwards_ok_176473;
                bool index_certs_176475;
                
                if (!ok_or_empty_176474) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175786, ":", (long long) ind_top_175787, "] out of bounds for array of shape [", (long long) window_sizze_130663, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_177339 = p_174496 + index_concat_branch_177363;
                
                if (memblock_alloc(ctx, &mem_180038, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "mem_180038")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_181530 = 0; nest_i_181530 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784; nest_i_181530++) {
                    ((int8_t *) mem_180038.mem)[nest_i_181530] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180040, bytes_180039, "mem_180040")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_181531 = 0; i_181531 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784; i_181531++) {
                    int64_t x_181532 = index_concat_branch_177363 + i_181531 * (int64_t) 1;
                    
                    ((int64_t *) mem_180040.mem)[i_181531] = x_181532;
                }
                
                int64_t slice_177338 = p_174497 + index_concat_branch_177357;
                
                for (int64_t nest_i_181533 = 0; nest_i_181533 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783; nest_i_181533++) {
                    ((int8_t *) mem_180038.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784 + nest_i_181533] = (int8_t) 1;
                }
                for (int64_t i_181534 = 0; i_181534 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783; i_181534++) {
                    int64_t x_181535 = index_concat_branch_177357 + i_181534 * (int64_t) 1;
                    
                    ((int64_t *) mem_180040.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784 + i_181534] = x_181535;
                }
                
                int64_t tmp_offs_181536 = (int64_t) 0;
                
                if (!(tmp_offs_181536 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180038.mem, tmp_offs_181536, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180038.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784});
                }
                tmp_offs_181536 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784;
                if (!(tmp_offs_181536 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180038.mem, tmp_offs_181536, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180038.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783});
                }
                tmp_offs_181536 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783;
                
                int64_t tmp_offs_181537 = (int64_t) 0;
                
                if (!(tmp_offs_181537 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180040.mem, tmp_offs_181537, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180040.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784});
                }
                tmp_offs_181537 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784;
                if (!(tmp_offs_181537 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180040.mem, tmp_offs_181537, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180040.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783});
                }
                tmp_offs_181537 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783;
                if (memblock_alloc(ctx, &mem_180042, bytes_180041, "mem_180042")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_181538 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180042.mem, tmp_offs_181538, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_179986.mem, slice_177339, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784});
                tmp_offs_181538 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180042.mem, tmp_offs_181538, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_179987.mem, slice_177338, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783});
                tmp_offs_181538 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783;
                
                int64_t flat_dim_175849 = smallest_pow_2_geq_than_res_175838 * block_sizze_175848;
                bool x_181187 = !cond_175832;
                int64_t greatest_divisor_leq_than_arg1_175853 = mul64((int64_t) 2, block_sizze_175848);
                int64_t merge_block_sizze_175854;
                
                if (x_181187) {
                    int64_t x_181189;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181189, (int64_t) 8, greatest_divisor_leq_than_arg1_175853) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_175854 = x_181189;
                } else {
                    merge_block_sizze_175854 = (int64_t) 0;
                }
                
                bool index_concat_cmp_177333 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, (int64_t) 0);
                int8_t index_concat_branch_177337 = btoi_bool_i8(index_concat_cmp_177333);
                int64_t index_concat_i_179158 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                int64_t index_primexp_179159 = add64(index_concat_branch_177357, index_concat_i_179158);
                int64_t index_concat_branch_177331;
                
                if (index_concat_cmp_177333) {
                    index_concat_branch_177331 = index_primexp_179159;
                } else {
                    index_concat_branch_177331 = index_concat_branch_177363;
                }
                
                bool x_181183 = !index_concat_cmp_177333;
                bool protect_cond_conj_181193 = x_181183 && x_181187;
                int32_t index_concat_177324;
                
                if (protect_cond_conj_181193) {
                    int32_t x_181185 = ((int32_t *) a_list_mem_179986.mem)[slice_177339];
                    
                    index_concat_177324 = x_181185;
                } else {
                    index_concat_177324 = 0;
                }
                
                int64_t slice_179161 = slice_177338 + index_concat_i_179158;
                bool protect_cond_conj_181194 = index_concat_cmp_177333 && x_181187;
                int32_t index_concat_179162;
                
                if (protect_cond_conj_181194) {
                    int32_t x_181181 = ((int32_t *) b_list_mem_179987.mem)[slice_179161];
                    
                    index_concat_179162 = x_181181;
                } else {
                    index_concat_179162 = 0;
                }
                
                int32_t index_concat_branch_177325;
                
                if (index_concat_cmp_177333) {
                    index_concat_branch_177325 = index_concat_179162;
                } else {
                    index_concat_branch_177325 = index_concat_177324;
                }
                
                int8_t defunc_0_reduce_res_179393;
                int64_t defunc_0_reduce_res_179394;
                int32_t defunc_0_reduce_res_179395;
                
                if (x_181187) {
                    int8_t x_181195;
                    int64_t x_181196;
                    int32_t x_181197;
                    int8_t redout_179739;
                    int64_t redout_179740;
                    int32_t redout_179741;
                    
                    redout_179739 = index_concat_branch_177337;
                    redout_179740 = index_concat_branch_177331;
                    redout_179741 = index_concat_branch_177325;
                    for (int64_t i_179742 = 0; i_179742 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785; i_179742++) {
                        bool index_concat_cmp_179946 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, i_179742);
                        int8_t index_concat_branch_179950 = btoi_bool_i8(index_concat_cmp_179946);
                        int64_t index_concat_branch_179944;
                        
                        if (index_concat_cmp_179946) {
                            int64_t index_concat_i_179941 = sub64(i_179742, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                            int64_t index_primexp_179968 = add64(index_concat_branch_177357, index_concat_i_179941);
                            
                            index_concat_branch_179944 = index_primexp_179968;
                        } else {
                            int64_t index_primexp_179970 = add64(index_concat_branch_177363, i_179742);
                            
                            index_concat_branch_179944 = index_primexp_179970;
                        }
                        
                        int32_t index_concat_branch_179938;
                        
                        if (index_concat_cmp_179946) {
                            int64_t index_concat_i_179935 = sub64(i_179742, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                            int64_t slice_179965 = slice_177338 + index_concat_i_179935;
                            int32_t index_concat_179936 = ((int32_t *) b_list_mem_179987.mem)[slice_179965];
                            
                            index_concat_branch_179938 = index_concat_179936;
                        } else {
                            int64_t slice_179966 = slice_177339 + i_179742;
                            int32_t index_concat_179937 = ((int32_t *) a_list_mem_179986.mem)[slice_179966];
                            
                            index_concat_branch_179938 = index_concat_179937;
                        }
                        
                        bool eq_x_y_179981 = redout_179739 == (int8_t) 1;
                        bool eq_x_zz_179982 = redout_179739 == (int8_t) 0;
                        bool p_and_eq_x_y_179983 = index_concat_cmp_179946 && eq_x_y_179981;
                        bool not_p_179984 = !index_concat_cmp_179946;
                        bool p_and_eq_x_y_179985 = eq_x_zz_179982 && not_p_179984;
                        bool cond_175872 = p_and_eq_x_y_179983 || p_and_eq_x_y_179985;
                        bool defunc_0_leq_res_t_res_175873 = sle64(redout_179740, index_concat_branch_179944);
                        bool defunc_0_leq_res_175874 = sle32(redout_179741, index_concat_branch_179938);
                        bool x_175875 = cond_175872 && defunc_0_leq_res_t_res_175873;
                        bool x_175876 = !cond_175872;
                        bool y_175877 = defunc_0_leq_res_175874 && x_175876;
                        bool defunc_0_leq_res_175878 = x_175875 || y_175877;
                        int8_t defunc_0_op_res_175879;
                        
                        if (defunc_0_leq_res_175878) {
                            defunc_0_op_res_175879 = index_concat_branch_179950;
                        } else {
                            defunc_0_op_res_175879 = redout_179739;
                        }
                        
                        int64_t defunc_0_op_res_175880;
                        
                        if (defunc_0_leq_res_175878) {
                            defunc_0_op_res_175880 = index_concat_branch_179944;
                        } else {
                            defunc_0_op_res_175880 = redout_179740;
                        }
                        
                        int32_t defunc_0_op_res_175881;
                        
                        if (defunc_0_leq_res_175878) {
                            defunc_0_op_res_175881 = index_concat_branch_179938;
                        } else {
                            defunc_0_op_res_175881 = redout_179741;
                        }
                        
                        int8_t redout_tmp_181539 = defunc_0_op_res_175879;
                        int64_t redout_tmp_181540 = defunc_0_op_res_175880;
                        int32_t redout_tmp_181541 = defunc_0_op_res_175881;
                        
                        redout_179739 = redout_tmp_181539;
                        redout_179740 = redout_tmp_181540;
                        redout_179741 = redout_tmp_181541;
                    }
                    x_181195 = redout_179739;
                    x_181196 = redout_179740;
                    x_181197 = redout_179741;
                    defunc_0_reduce_res_179393 = x_181195;
                    defunc_0_reduce_res_179394 = x_181196;
                    defunc_0_reduce_res_179395 = x_181197;
                } else {
                    defunc_0_reduce_res_179393 = (int8_t) 0;
                    defunc_0_reduce_res_179394 = (int64_t) 0;
                    defunc_0_reduce_res_179395 = 0;
                }
                
                int64_t distance_175893 = add64((int64_t) 1, tmp_175891);
                int64_t binop_x_180045 = (int64_t) 8 * smallest_pow_2_geq_than_res_175838;
                int64_t bytes_180046 = block_sizze_175848 * binop_x_180045;
                int64_t binop_x_180048 = (int64_t) 4 * smallest_pow_2_geq_than_res_175838;
                int64_t bytes_180049 = block_sizze_175848 * binop_x_180048;
                int64_t bytes_180064 = (int64_t) 8 * block_sizze_175848;
                int64_t bytes_180066 = (int64_t) 4 * block_sizze_175848;
                bool loop_cond_176002 = slt64(block_sizze_175848, flat_dim_175849);
                bool zzero_176003 = merge_block_sizze_175854 == (int64_t) 0;
                bool nonzzero_176004 = !zzero_176003;
                
                if (cond_175832) {
                    if (memblock_set(ctx, &ext_mem_180337, &mem_180038, "mem_180038") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180334, &mem_180040, "mem_180040") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180331, &mem_180042, "mem_180042") != 0)
                        return 1;
                } else {
                    if (mem_180044_cached_sizze_181838 < flat_dim_175849) {
                        err = lexical_realloc(ctx, &mem_180044, &mem_180044_cached_sizze_181838, flat_dim_175849);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180047_cached_sizze_181839 < bytes_180046) {
                        err = lexical_realloc(ctx, &mem_180047, &mem_180047_cached_sizze_181839, bytes_180046);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180050_cached_sizze_181840 < bytes_180049) {
                        err = lexical_realloc(ctx, &mem_180050, &mem_180050_cached_sizze_181840, bytes_180049);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180063_cached_sizze_181841 < block_sizze_175848) {
                        err = lexical_realloc(ctx, &mem_180063, &mem_180063_cached_sizze_181841, block_sizze_175848);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180065_cached_sizze_181842 < bytes_180064) {
                        err = lexical_realloc(ctx, &mem_180065, &mem_180065_cached_sizze_181842, bytes_180064);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180067_cached_sizze_181843 < bytes_180066) {
                        err = lexical_realloc(ctx, &mem_180067, &mem_180067_cached_sizze_181843, bytes_180066);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179759 = 0; i_179759 < smallest_pow_2_geq_than_res_175838; i_179759++) {
                        int64_t zp_lhs_175901 = mul64(block_sizze_175848, i_179759);
                        
                        for (int64_t i_179749 = 0; i_179749 < block_sizze_175848; i_179749++) {
                            int64_t k_175906 = add64(zp_lhs_175901, i_179749);
                            bool cond_175907 = slt64(k_175906, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785);
                            int8_t lifted_lambda_res_175908;
                            int64_t lifted_lambda_res_175909;
                            int32_t lifted_lambda_res_175910;
                            
                            if (cond_175907) {
                                bool x_179168 = sle64((int64_t) 0, k_175906);
                                bool bounds_check_179169 = cond_175907 && x_179168;
                                bool index_certs_179170;
                                
                                if (!bounds_check_179169) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_175906, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179171 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, k_175906);
                                int8_t index_concat_branch_179172 = btoi_bool_i8(index_concat_cmp_179171);
                                int64_t index_concat_branch_179173;
                                
                                if (index_concat_cmp_179171) {
                                    int64_t index_concat_i_179174 = sub64(k_175906, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                                    int64_t index_primexp_179175 = add64(index_concat_branch_177357, index_concat_i_179174);
                                    
                                    index_concat_branch_179173 = index_primexp_179175;
                                } else {
                                    int64_t index_primexp_179176 = add64(k_175906, index_concat_branch_177363);
                                    
                                    index_concat_branch_179173 = index_primexp_179176;
                                }
                                
                                int32_t index_concat_branch_179177;
                                
                                if (index_concat_cmp_179171) {
                                    int64_t index_concat_i_179178 = sub64(k_175906, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                                    int64_t slice_179179 = slice_177338 + index_concat_i_179178;
                                    int32_t index_concat_179180 = ((int32_t *) b_list_mem_179987.mem)[slice_179179];
                                    
                                    index_concat_branch_179177 = index_concat_179180;
                                } else {
                                    int64_t slice_179181 = k_175906 + slice_177339;
                                    int32_t index_concat_179182 = ((int32_t *) a_list_mem_179986.mem)[slice_179181];
                                    
                                    index_concat_branch_179177 = index_concat_179182;
                                }
                                lifted_lambda_res_175908 = index_concat_branch_179172;
                                lifted_lambda_res_175909 = index_concat_branch_179173;
                                lifted_lambda_res_175910 = index_concat_branch_179177;
                            } else {
                                lifted_lambda_res_175908 = defunc_0_reduce_res_179393;
                                lifted_lambda_res_175909 = defunc_0_reduce_res_179394;
                                lifted_lambda_res_175910 = defunc_0_reduce_res_179395;
                            }
                            ((int8_t *) mem_180063)[i_179749] = lifted_lambda_res_175908;
                            ((int64_t *) mem_180065)[i_179749] = lifted_lambda_res_175909;
                            ((int32_t *) mem_180067)[i_179749] = lifted_lambda_res_175910;
                        }
                        if (!cond_175890) {
                            for (int64_t i_175923 = 0; i_175923 < distance_175893; i_175923++) {
                                int64_t gt_arg1_175927 = add64((int64_t) 1, i_175923);
                                bool x_175928 = sle64((int64_t) 0, gt_arg1_175927);
                                bool y_175929 = slt64(gt_arg1_175927, block_sizze_175848);
                                bool bounds_check_175930 = x_175928 && y_175929;
                                bool index_certs_175931;
                                
                                if (!bounds_check_175930) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_175927, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_175935 = slt64(i_175923, block_sizze_175848);
                                bool index_certs_175936;
                                
                                if (!y_175935) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_175923, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_175932 = ((int8_t *) mem_180063)[gt_arg1_175927];
                                int64_t gt_arg1_175933 = ((int64_t *) mem_180065)[gt_arg1_175927];
                                int32_t gt_arg1_175934 = ((int32_t *) mem_180067)[gt_arg1_175927];
                                int8_t gt_arg0_175937 = ((int8_t *) mem_180063)[i_175923];
                                int64_t gt_arg0_175938 = ((int64_t *) mem_180065)[i_175923];
                                int32_t gt_arg0_175939 = ((int32_t *) mem_180067)[i_175923];
                                bool cond_175940 = gt_arg0_175937 == gt_arg1_175932;
                                bool defunc_0_leq_res_t_res_175941 = sle64(gt_arg0_175938, gt_arg1_175933);
                                bool defunc_0_leq_res_175942 = sle32(gt_arg0_175939, gt_arg1_175934);
                                bool x_175943 = cond_175940 && defunc_0_leq_res_t_res_175941;
                                bool x_175944 = !cond_175940;
                                bool y_175945 = defunc_0_leq_res_175942 && x_175944;
                                bool defunc_0_leq_res_175946 = x_175943 || y_175945;
                                bool defunc_0_lifted_gt_res_175947 = !defunc_0_leq_res_175946;
                                bool s_175948;
                                int64_t s_175952;
                                bool loop_while_175953;
                                int64_t j_175957;
                                
                                loop_while_175953 = defunc_0_lifted_gt_res_175947;
                                j_175957 = i_175923;
                                while (loop_while_175953) {
                                    bool x_175958 = sle64((int64_t) 0, j_175957);
                                    bool y_175959 = slt64(j_175957, block_sizze_175848);
                                    bool bounds_check_175960 = x_175958 && y_175959;
                                    bool index_certs_175961;
                                    
                                    if (!bounds_check_175960) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_175957, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_175965 = add64((int64_t) 1, j_175957);
                                    bool x_175966 = sle64((int64_t) 0, copy_arg0_175965);
                                    bool y_175967 = slt64(copy_arg0_175965, block_sizze_175848);
                                    bool bounds_check_175968 = x_175966 && y_175967;
                                    bool index_certs_175969;
                                    
                                    if (!bounds_check_175968) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_175965, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_175962 = ((int8_t *) mem_180063)[j_175957];
                                    int64_t copy_arg0_175963 = ((int64_t *) mem_180065)[j_175957];
                                    int32_t copy_arg0_175964 = ((int32_t *) mem_180067)[j_175957];
                                    int8_t copy_arg0_175970 = ((int8_t *) mem_180063)[copy_arg0_175965];
                                    int64_t copy_arg0_175971 = ((int64_t *) mem_180065)[copy_arg0_175965];
                                    int32_t copy_arg0_175972 = ((int32_t *) mem_180067)[copy_arg0_175965];
                                    
                                    ((int8_t *) mem_180063)[j_175957] = copy_arg0_175970;
                                    ((int64_t *) mem_180065)[j_175957] = copy_arg0_175971;
                                    ((int32_t *) mem_180067)[j_175957] = copy_arg0_175972;
                                    ((int8_t *) mem_180063)[copy_arg0_175965] = copy_arg0_175962;
                                    ((int64_t *) mem_180065)[copy_arg0_175965] = copy_arg0_175963;
                                    ((int32_t *) mem_180067)[copy_arg0_175965] = copy_arg0_175964;
                                    
                                    int64_t tmp_175979 = sub64(j_175957, (int64_t) 1);
                                    bool cond_175980 = sle64((int64_t) 0, tmp_175979);
                                    bool loop_cond_175981;
                                    
                                    if (cond_175980) {
                                        bool y_179186 = slt64(tmp_175979, block_sizze_175848);
                                        bool bounds_check_179187 = cond_175980 && y_179186;
                                        bool index_certs_179188;
                                        
                                        if (!bounds_check_179187) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_175979, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179183 = ((int8_t *) mem_180063)[j_175957];
                                        int64_t gt_arg1_179184 = ((int64_t *) mem_180065)[j_175957];
                                        int32_t gt_arg1_179185 = ((int32_t *) mem_180067)[j_175957];
                                        int8_t gt_arg0_179189 = ((int8_t *) mem_180063)[tmp_175979];
                                        int64_t gt_arg0_179190 = ((int64_t *) mem_180065)[tmp_175979];
                                        int32_t gt_arg0_179191 = ((int32_t *) mem_180067)[tmp_175979];
                                        bool cond_179192 = gt_arg0_179189 == gt_arg1_179183;
                                        bool defunc_0_leq_res_t_res_179193 = sle64(gt_arg0_179190, gt_arg1_179184);
                                        bool defunc_0_leq_res_179194 = sle32(gt_arg0_179191, gt_arg1_179185);
                                        bool x_179195 = cond_179192 && defunc_0_leq_res_t_res_179193;
                                        bool x_179196 = !cond_179192;
                                        bool y_179197 = defunc_0_leq_res_179194 && x_179196;
                                        bool defunc_0_leq_res_179198 = x_179195 || y_179197;
                                        bool defunc_0_lifted_gt_res_179199 = !defunc_0_leq_res_179198;
                                        
                                        loop_cond_175981 = defunc_0_lifted_gt_res_179199;
                                    } else {
                                        loop_cond_175981 = 0;
                                    }
                                    
                                    bool loop_while_tmp_181551 = loop_cond_175981;
                                    int64_t j_tmp_181555 = tmp_175979;
                                    
                                    loop_while_175953 = loop_while_tmp_181551;
                                    j_175957 = j_tmp_181555;
                                }
                                s_175948 = loop_while_175953;
                                s_175952 = j_175957;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180044, i_179759 * block_sizze_175848, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180063, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175848});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180047, i_179759 * block_sizze_175848, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180065, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175848});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_180050, i_179759 * block_sizze_175848, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180067, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175848});
                    }
                    if (memblock_alloc(ctx, &mem_180144, flat_dim_175849, "mem_180144")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180144.mem, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (uint8_t *) mem_180044, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175838, block_sizze_175848});
                    if (memblock_alloc(ctx, &mem_180148, bytes_180046, "mem_180148")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180148.mem, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (uint64_t *) mem_180047, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175838, block_sizze_175848});
                    if (memblock_alloc(ctx, &mem_180152, bytes_180049, "mem_180152")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_180152.mem, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (uint32_t *) mem_180050, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175838, block_sizze_175848});
                    
                    int64_t data_176005;
                    bool data_176006;
                    int64_t data_176010;
                    int64_t loop_dz2084Uz2082U_176011;
                    bool loop_while_176012;
                    int64_t stride_176016;
                    
                    if (memblock_set(ctx, &mem_param_180156, &mem_180144, "mem_180144") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180159, &mem_180148, "mem_180148") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180162, &mem_180152, "mem_180152") != 0)
                        return 1;
                    loop_dz2084Uz2082U_176011 = flat_dim_175849;
                    loop_while_176012 = loop_cond_176002;
                    stride_176016 = block_sizze_175848;
                    while (loop_while_176012) {
                        int64_t next_stride_176017 = mul64((int64_t) 2, stride_176016);
                        bool zzero_176018 = next_stride_176017 == (int64_t) 0;
                        bool nonzzero_176019 = !zzero_176018;
                        bool nonzzero_cert_176020;
                        
                        if (!nonzzero_176019) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_176021 = sdiv64(flat_dim_175849, next_stride_176017);
                        bool bounds_invalid_upwards_176022 = slt64(num_merges_176021, (int64_t) 0);
                        bool valid_176023 = !bounds_invalid_upwards_176022;
                        bool range_valid_c_176024;
                        
                        if (!valid_176023) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_176021, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_176026 = sub64(next_stride_176017, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_176027 = sle64((int64_t) 0, m_176026);
                        bool cond_176029 = slt64(next_stride_176017, (int64_t) 10);
                        bool protect_assert_disj_176030 = nonzzero_176004 || cond_176029;
                        bool nonzzero_cert_176031;
                        
                        if (!protect_assert_disj_176030) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_176032 = smod_safe64(next_stride_176017, merge_block_sizze_175854);
                        bool num_blocks_176033 = zeze_lhs_176032 == (int64_t) 0;
                        bool protect_assert_disj_176034 = cond_176029 || num_blocks_176033;
                        bool assert_c_176035;
                        
                        if (!protect_assert_disj_176034) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_176037 = sdiv_safe64(next_stride_176017, merge_block_sizze_175854);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038 = add64((int64_t) 1, num_blocks_176037);
                        int64_t j_m_i_176039 = sub64(next_stride_176017, stride_176016);
                        int64_t flat_dim_176040 = merge_block_sizze_175854 * num_blocks_176037;
                        bool bounds_invalid_upwards_176041 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038, (int64_t) 0);
                        bool empty_slice_176042 = j_m_i_176039 == (int64_t) 0;
                        int64_t m_176043 = sub64(j_m_i_176039, (int64_t) 1);
                        bool zzero_lte_i_176044 = sle64((int64_t) 0, stride_176016);
                        bool i_lte_j_176045 = sle64(stride_176016, next_stride_176017);
                        bool empty_slice_176046 = stride_176016 == (int64_t) 0;
                        int64_t m_176047 = sub64(stride_176016, (int64_t) 1);
                        bool bounds_invalid_upwards_176048 = slt64(num_blocks_176037, (int64_t) 0);
                        bool cond_176049 = slt64((int64_t) 0, stride_176016);
                        bool valid_176050 = !bounds_invalid_upwards_176041;
                        int64_t i_p_m_t_s_176051 = add64(stride_176016, m_176043);
                        bool zzero_leq_i_p_m_t_s_176052 = sle64((int64_t) 0, m_176047);
                        bool i_p_m_t_s_leq_w_176053 = slt64(m_176047, next_stride_176017);
                        bool valid_176054 = !bounds_invalid_upwards_176048;
                        bool i_p_m_t_s_leq_w_176055 = slt64(m_176026, flat_dim_176040);
                        bool y_176056 = slt64((int64_t) 0, j_m_i_176039);
                        bool protect_assert_disj_176057 = cond_176029 || valid_176050;
                        bool range_valid_c_176058;
                        
                        if (!protect_assert_disj_176057) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_176059 = sle64((int64_t) 0, i_p_m_t_s_176051);
                        bool i_p_m_t_s_leq_w_176060 = slt64(i_p_m_t_s_176051, next_stride_176017);
                        bool y_176061 = zzero_leq_i_p_m_t_s_176052 && i_p_m_t_s_leq_w_176053;
                        bool protect_assert_disj_176062 = cond_176029 || valid_176054;
                        bool range_valid_c_176063;
                        
                        if (!protect_assert_disj_176062) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_176037, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_176064 = zzero_leq_i_p_m_t_s_176027 && i_p_m_t_s_leq_w_176055;
                        bool y_176065 = zzero_lte_i_176044 && i_p_m_t_s_leq_w_176060;
                        bool forwards_ok_176066 = zzero_lte_i_176044 && y_176061;
                        bool ok_or_empty_176067 = zzero_176018 || y_176064;
                        bool protect_assert_disj_176068 = cond_176049 || y_176056;
                        bool y_176069 = zzero_leq_i_p_m_t_s_176059 && y_176065;
                        bool ok_or_empty_176070 = empty_slice_176046 || forwards_ok_176066;
                        bool protect_assert_disj_176071 = cond_176029 || ok_or_empty_176067;
                        bool index_certs_176072;
                        
                        if (!protect_assert_disj_176071) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176017, "] out of bounds for array of shape [", (long long) flat_dim_176040, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_176073 = !cond_176029;
                        bool protect_assert_disj_176074 = protect_assert_disj_176068 || loop_not_taken_176073;
                        bool index_certs_176075;
                        
                        if (!protect_assert_disj_176074) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_176076 = i_lte_j_176045 && y_176069;
                        bool protect_assert_disj_176077 = cond_176029 || ok_or_empty_176070;
                        bool index_certs_176078;
                        
                        if (!protect_assert_disj_176077) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176016, "] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176079 = ok_or_empty_176070 || loop_not_taken_176073;
                        bool index_certs_176080;
                        
                        if (!protect_assert_disj_176079) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176016, "] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_176081 = empty_slice_176042 || forwards_ok_176076;
                        bool protect_assert_disj_176082 = cond_176029 || ok_or_empty_176081;
                        bool index_certs_176083;
                        
                        if (!protect_assert_disj_176082) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176016, ":] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176084 = loop_not_taken_176073 || ok_or_empty_176081;
                        bool index_certs_176085;
                        
                        if (!protect_assert_disj_176084) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176016, ":] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180163 = next_stride_176017 * num_merges_176021;
                        int64_t binop_x_180165 = (int64_t) 8 * num_merges_176021;
                        int64_t bytes_180166 = next_stride_176017 * binop_x_180165;
                        int64_t binop_x_180168 = (int64_t) 4 * num_merges_176021;
                        int64_t bytes_180169 = next_stride_176017 * binop_x_180168;
                        bool i_lte_j_176028 = sle64((int64_t) 0, next_stride_176017);
                        
                        if (mem_180164_cached_sizze_181844 < bytes_180163) {
                            err = lexical_realloc(ctx, &mem_180164, &mem_180164_cached_sizze_181844, bytes_180163);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180167_cached_sizze_181845 < bytes_180166) {
                            err = lexical_realloc(ctx, &mem_180167, &mem_180167_cached_sizze_181845, bytes_180166);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180170_cached_sizze_181846 < bytes_180169) {
                            err = lexical_realloc(ctx, &mem_180170, &mem_180170_cached_sizze_181846, bytes_180169);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180183 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038;
                        int64_t binop_x_180201 = (int64_t) 8 * num_blocks_176037;
                        int64_t bytes_180202 = merge_block_sizze_175854 * binop_x_180201;
                        int64_t binop_x_180204 = (int64_t) 4 * num_blocks_176037;
                        int64_t bytes_180205 = merge_block_sizze_175854 * binop_x_180204;
                        int64_t bytes_180266 = (int64_t) 16 * stride_176016;
                        int64_t bytes_180268 = (int64_t) 8 * stride_176016;
                        
                        for (int64_t i_179786 = 0; i_179786 < num_merges_176021; i_179786++) {
                            int64_t start_176090 = mul64(next_stride_176017, i_179786);
                            int64_t j_m_i_176091 = sub64(loop_dz2084Uz2082U_176011, start_176090);
                            bool empty_slice_176092 = j_m_i_176091 == (int64_t) 0;
                            int64_t m_176093 = sub64(j_m_i_176091, (int64_t) 1);
                            int64_t i_p_m_t_s_176094 = add64(start_176090, m_176093);
                            bool zzero_leq_i_p_m_t_s_176095 = sle64((int64_t) 0, i_p_m_t_s_176094);
                            bool i_p_m_t_s_leq_w_176096 = slt64(i_p_m_t_s_176094, loop_dz2084Uz2082U_176011);
                            bool zzero_lte_i_176097 = sle64((int64_t) 0, start_176090);
                            bool i_lte_j_176098 = sle64(start_176090, loop_dz2084Uz2082U_176011);
                            bool y_176099 = i_p_m_t_s_leq_w_176096 && zzero_lte_i_176097;
                            bool y_176100 = zzero_leq_i_p_m_t_s_176095 && y_176099;
                            bool forwards_ok_176101 = i_lte_j_176098 && y_176100;
                            bool ok_or_empty_176102 = empty_slice_176092 || forwards_ok_176101;
                            bool index_certs_176103;
                            
                            if (!ok_or_empty_176102) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_176090, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_176011, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_176104 = slt64(m_176026, j_m_i_176091);
                            bool y_176105 = zzero_leq_i_p_m_t_s_176027 && i_p_m_t_s_leq_w_176104;
                            bool forwards_ok_176106 = i_lte_j_176028 && y_176105;
                            bool ok_or_empty_176107 = zzero_176018 || forwards_ok_176106;
                            bool index_certs_176108;
                            
                            if (!ok_or_empty_176107) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176017, "] out of bounds for array of shape [", (long long) j_m_i_176091, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_176029) {
                                int8_t dummy_179238;
                                int64_t dummy_179239;
                                int32_t dummy_179240;
                                
                                if (cond_176049) {
                                    int8_t head_res_179241 = ((int8_t *) mem_param_180156.mem)[start_176090];
                                    int64_t head_res_179242 = ((int64_t *) mem_param_180159.mem)[start_176090];
                                    int32_t head_res_179243 = ((int32_t *) mem_param_180162.mem)[start_176090];
                                    
                                    dummy_179238 = head_res_179241;
                                    dummy_179239 = head_res_179242;
                                    dummy_179240 = head_res_179243;
                                } else {
                                    int64_t slice_179244 = stride_176016 + start_176090;
                                    int8_t head_res_179245 = ((int8_t *) mem_param_180156.mem)[slice_179244];
                                    int64_t head_res_179246 = ((int64_t *) mem_param_180159.mem)[slice_179244];
                                    int32_t head_res_179247 = ((int32_t *) mem_param_180162.mem)[slice_179244];
                                    
                                    dummy_179238 = head_res_179245;
                                    dummy_179239 = head_res_179246;
                                    dummy_179240 = head_res_179247;
                                }
                                if (memblock_alloc(ctx, &mem_180265, next_stride_176017, "mem_180265")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181568 = 0; nest_i_181568 < next_stride_176017; nest_i_181568++) {
                                    ((int8_t *) mem_180265.mem)[nest_i_181568] = dummy_179238;
                                }
                                if (memblock_alloc(ctx, &mem_180267, bytes_180266, "mem_180267")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181569 = 0; nest_i_181569 < next_stride_176017; nest_i_181569++) {
                                    ((int64_t *) mem_180267.mem)[nest_i_181569] = dummy_179239;
                                }
                                if (memblock_alloc(ctx, &mem_180269, bytes_180268, "mem_180269")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181570 = 0; nest_i_181570 < next_stride_176017; nest_i_181570++) {
                                    ((int32_t *) mem_180269.mem)[nest_i_181570] = dummy_179240;
                                }
                                
                                int64_t data_179251;
                                int64_t i_179256 = (int64_t) 0;
                                
                                for (int64_t k_179255 = 0; k_179255 < next_stride_176017; k_179255++) {
                                    int64_t j_179260 = sub64(k_179255, i_179256);
                                    bool cond_179261 = j_179260 == j_m_i_176039;
                                    bool cond_179262;
                                    
                                    if (cond_179261) {
                                        cond_179262 = 1;
                                    } else {
                                        bool cond_179263 = slt64(i_179256, stride_176016);
                                        bool cond_f_res_179264;
                                        
                                        if (cond_179263) {
                                            bool x_179265 = sle64((int64_t) 0, j_179260);
                                            bool y_179266 = slt64(j_179260, j_m_i_176039);
                                            bool bounds_check_179267 = x_179265 && y_179266;
                                            bool index_certs_179268;
                                            
                                            if (!bounds_check_179267) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179260, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179274 = sle64((int64_t) 0, i_179256);
                                            bool bounds_check_179275 = cond_179263 && x_179274;
                                            bool index_certs_179276;
                                            
                                            if (!bounds_check_179275) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179256, "] out of bounds for array of shape [", (long long) stride_176016, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179269 = stride_176016 + j_179260;
                                            int64_t slice_179270 = start_176090 + slice_179269;
                                            int8_t leq_arg1_179271 = ((int8_t *) mem_param_180156.mem)[slice_179270];
                                            int64_t leq_arg1_179272 = ((int64_t *) mem_param_180159.mem)[slice_179270];
                                            int32_t leq_arg1_179273 = ((int32_t *) mem_param_180162.mem)[slice_179270];
                                            int64_t slice_179277 = start_176090 + i_179256;
                                            int8_t leq_arg0_179278 = ((int8_t *) mem_param_180156.mem)[slice_179277];
                                            int64_t leq_arg0_179279 = ((int64_t *) mem_param_180159.mem)[slice_179277];
                                            int32_t leq_arg0_179280 = ((int32_t *) mem_param_180162.mem)[slice_179277];
                                            bool cond_179281 = leq_arg0_179278 == leq_arg1_179271;
                                            bool defunc_0_leq_res_t_res_179282 = sle64(leq_arg0_179279, leq_arg1_179272);
                                            bool defunc_0_leq_res_179283 = sle32(leq_arg0_179280, leq_arg1_179273);
                                            bool x_179284 = cond_179281 && defunc_0_leq_res_t_res_179282;
                                            bool x_179285 = !cond_179281;
                                            bool y_179286 = defunc_0_leq_res_179283 && x_179285;
                                            bool defunc_0_leq_res_179287 = x_179284 || y_179286;
                                            
                                            cond_f_res_179264 = defunc_0_leq_res_179287;
                                        } else {
                                            cond_f_res_179264 = 0;
                                        }
                                        cond_179262 = cond_f_res_179264;
                                    }
                                    
                                    int64_t loopres_179288;
                                    int8_t loopres_179289;
                                    int64_t loopres_179290;
                                    int32_t loopres_179291;
                                    
                                    if (cond_179262) {
                                        bool x_179293 = sle64((int64_t) 0, i_179256);
                                        bool y_179294 = slt64(i_179256, stride_176016);
                                        bool bounds_check_179295 = x_179293 && y_179294;
                                        bool index_certs_179296;
                                        
                                        if (!bounds_check_179295) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179256, "] out of bounds for array of shape [", (long long) stride_176016, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179292 = add64((int64_t) 1, i_179256);
                                        int64_t slice_179297 = start_176090 + i_179256;
                                        int8_t tmp_179298 = ((int8_t *) mem_param_180156.mem)[slice_179297];
                                        int64_t tmp_179299 = ((int64_t *) mem_param_180159.mem)[slice_179297];
                                        int32_t tmp_179300 = ((int32_t *) mem_param_180162.mem)[slice_179297];
                                        
                                        loopres_179288 = tmp_179292;
                                        loopres_179289 = tmp_179298;
                                        loopres_179290 = tmp_179299;
                                        loopres_179291 = tmp_179300;
                                    } else {
                                        bool x_179301 = sle64((int64_t) 0, j_179260);
                                        bool y_179302 = slt64(j_179260, j_m_i_176039);
                                        bool bounds_check_179303 = x_179301 && y_179302;
                                        bool index_certs_179304;
                                        
                                        if (!bounds_check_179303) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179260, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179305 = stride_176016 + j_179260;
                                        int64_t slice_179306 = start_176090 + slice_179305;
                                        int8_t tmp_179307 = ((int8_t *) mem_param_180156.mem)[slice_179306];
                                        int64_t tmp_179308 = ((int64_t *) mem_param_180159.mem)[slice_179306];
                                        int32_t tmp_179309 = ((int32_t *) mem_param_180162.mem)[slice_179306];
                                        
                                        loopres_179288 = i_179256;
                                        loopres_179289 = tmp_179307;
                                        loopres_179290 = tmp_179308;
                                        loopres_179291 = tmp_179309;
                                    }
                                    ((int8_t *) mem_180265.mem)[k_179255] = loopres_179289;
                                    ((int64_t *) mem_180267.mem)[k_179255] = loopres_179290;
                                    ((int32_t *) mem_180269.mem)[k_179255] = loopres_179291;
                                    
                                    int64_t i_tmp_181571 = loopres_179288;
                                    
                                    i_179256 = i_tmp_181571;
                                }
                                data_179251 = i_179256;
                                if (memblock_set(ctx, &ext_mem_180296, &mem_180265, "mem_180265") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180293, &mem_180267, "mem_180267") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180290, &mem_180269, "mem_180269") != 0)
                                    return 1;
                            } else {
                                if (mem_180184_cached_sizze_181847 < bytes_180183) {
                                    err = lexical_realloc(ctx, &mem_180184, &mem_180184_cached_sizze_181847, bytes_180183);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180186_cached_sizze_181848 < bytes_180183) {
                                    err = lexical_realloc(ctx, &mem_180186, &mem_180186_cached_sizze_181848, bytes_180183);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179767 = 0; i_179767 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038; i_179767++) {
                                    int64_t split_count_arg3_176191 = mul64(merge_block_sizze_175854, i_179767);
                                    int64_t defunc_0_split_count_res_176192;
                                    int64_t defunc_0_split_count_res_176193;
                                    int64_t defunc_0_split_count_res_176194;
                                    int64_t defunc_0_split_count_res_176195;
                                    int64_t defunc_0_split_count_res_176196;
                                    
                                    if (futrts_lifted_normalizze_8970(ctx, &defunc_0_split_count_res_176192, &defunc_0_split_count_res_176193, &defunc_0_split_count_res_176194, &defunc_0_split_count_res_176195, &defunc_0_split_count_res_176196, (int64_t) 0, stride_176016, (int64_t) 0, j_m_i_176039, split_count_arg3_176191) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_176197 = slt64((int64_t) 0, defunc_0_split_count_res_176196);
                                    bool defunc_0_split_count_res_176198;
                                    int64_t defunc_0_split_count_res_176199;
                                    int64_t defunc_0_split_count_res_176200;
                                    int64_t defunc_0_split_count_res_176201;
                                    int64_t defunc_0_split_count_res_176202;
                                    int64_t defunc_0_split_count_res_176203;
                                    bool loop_while_176204;
                                    int64_t ss_176205;
                                    int64_t ss_176206;
                                    int64_t tt_176207;
                                    int64_t tt_176208;
                                    int64_t count_176209;
                                    
                                    loop_while_176204 = loop_cond_176197;
                                    ss_176205 = defunc_0_split_count_res_176192;
                                    ss_176206 = defunc_0_split_count_res_176193;
                                    tt_176207 = defunc_0_split_count_res_176194;
                                    tt_176208 = defunc_0_split_count_res_176195;
                                    count_176209 = defunc_0_split_count_res_176196;
                                    while (loop_while_176204) {
                                        int64_t zlze_lhs_176210 = sub64(ss_176206, ss_176205);
                                        bool cond_176211 = sle64(zlze_lhs_176210, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_176212;
                                        int64_t defunc_0_lifted_step_res_176213;
                                        int64_t defunc_0_lifted_step_res_176214;
                                        int64_t defunc_0_lifted_step_res_176215;
                                        
                                        if (cond_176211) {
                                            int64_t tmp_179313 = add64(tt_176207, count_176209);
                                            
                                            defunc_0_lifted_step_res_176212 = ss_176205;
                                            defunc_0_lifted_step_res_176213 = tmp_179313;
                                            defunc_0_lifted_step_res_176214 = tt_176208;
                                            defunc_0_lifted_step_res_176215 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_176217 = sub64(tt_176208, tt_176207);
                                            bool cond_176218 = sle64(zlze_lhs_176217, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_176219;
                                            int64_t defunc_0_lifted_step_res_f_res_176220;
                                            int64_t defunc_0_lifted_step_res_f_res_176221;
                                            int64_t defunc_0_lifted_step_res_f_res_176222;
                                            
                                            if (cond_176218) {
                                                int64_t tmp_179314 = add64(ss_176205, count_176209);
                                                
                                                defunc_0_lifted_step_res_f_res_176219 = tmp_179314;
                                                defunc_0_lifted_step_res_f_res_176220 = tt_176207;
                                                defunc_0_lifted_step_res_f_res_176221 = tt_176208;
                                                defunc_0_lifted_step_res_f_res_176222 = (int64_t) 0;
                                            } else {
                                                bool cond_176224 = count_176209 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176225;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176226;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176227;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176228;
                                                
                                                if (cond_176224) {
                                                    bool x_179316 = sle64((int64_t) 0, ss_176205);
                                                    bool y_179317 = slt64(ss_176205, stride_176016);
                                                    bool bounds_check_179318 = x_179316 && y_179317;
                                                    bool index_certs_179319;
                                                    
                                                    if (!bounds_check_179318) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_176205, "] out of bounds for array of shape [", (long long) stride_176016, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179324 = sle64((int64_t) 0, tt_176207);
                                                    bool y_179325 = slt64(tt_176207, j_m_i_176039);
                                                    bool bounds_check_179326 = x_179324 && y_179325;
                                                    bool index_certs_179327;
                                                    
                                                    if (!bounds_check_179326) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_176207, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179320 = start_176090 + ss_176205;
                                                    int8_t leq_arg1_179321 = ((int8_t *) mem_param_180156.mem)[slice_179320];
                                                    int64_t leq_arg1_179322 = ((int64_t *) mem_param_180159.mem)[slice_179320];
                                                    int32_t leq_arg1_179323 = ((int32_t *) mem_param_180162.mem)[slice_179320];
                                                    int64_t slice_179328 = stride_176016 + tt_176207;
                                                    int64_t slice_179329 = start_176090 + slice_179328;
                                                    int8_t leq_arg0_179330 = ((int8_t *) mem_param_180156.mem)[slice_179329];
                                                    int64_t leq_arg0_179331 = ((int64_t *) mem_param_180159.mem)[slice_179329];
                                                    int32_t leq_arg0_179332 = ((int32_t *) mem_param_180162.mem)[slice_179329];
                                                    bool cond_179333 = leq_arg0_179330 == leq_arg1_179321;
                                                    bool defunc_0_leq_res_t_res_179334 = sle64(leq_arg0_179331, leq_arg1_179322);
                                                    bool defunc_0_leq_res_179335 = sle32(leq_arg0_179332, leq_arg1_179323);
                                                    bool x_179336 = cond_179333 && defunc_0_leq_res_t_res_179334;
                                                    bool x_179337 = !cond_179333;
                                                    bool y_179338 = defunc_0_leq_res_179335 && x_179337;
                                                    bool defunc_0_leq_res_179339 = x_179336 || y_179338;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179340;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179341;
                                                    
                                                    if (defunc_0_leq_res_179339) {
                                                        int64_t tmp_179342 = add64((int64_t) 1, tt_176207);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179340 = ss_176205;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179341 = tmp_179342;
                                                    } else {
                                                        int64_t tmp_179343 = add64((int64_t) 1, ss_176205);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179340 = tmp_179343;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179341 = tt_176207;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176225 = defunc_0_lifted_step_res_f_res_f_res_t_res_179340;
                                                    defunc_0_lifted_step_res_f_res_f_res_176226 = defunc_0_lifted_step_res_f_res_f_res_t_res_179341;
                                                    defunc_0_lifted_step_res_f_res_f_res_176227 = tt_176208;
                                                    defunc_0_lifted_step_res_f_res_f_res_176228 = (int64_t) 0;
                                                } else {
                                                    int64_t m_176257 = sdiv64(count_176209, (int64_t) 2);
                                                    int64_t n_176258 = sub64(count_176209, m_176257);
                                                    bool cond_176259 = n_176258 == (int64_t) 0;
                                                    int64_t zgze_lhs_176260 = add64(ss_176205, m_176257);
                                                    bool cond_f_res_176261 = sle64(ss_176206, zgze_lhs_176260);
                                                    bool x_176262 = !cond_176259;
                                                    bool y_176263 = cond_f_res_176261 && x_176262;
                                                    bool cond_176264 = cond_176259 || y_176263;
                                                    bool leq_y_x_176265;
                                                    
                                                    if (cond_176264) {
                                                        leq_y_x_176265 = 1;
                                                    } else {
                                                        bool x_176266 = sle64((int64_t) 0, zgze_lhs_176260);
                                                        bool y_176267 = slt64(zgze_lhs_176260, stride_176016);
                                                        bool bounds_check_176268 = x_176266 && y_176267;
                                                        bool index_certs_176269;
                                                        
                                                        if (!bounds_check_176268) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_176260, "] out of bounds for array of shape [", (long long) stride_176016, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_176274 = add64(tt_176207, n_176258);
                                                        int64_t leq_arg0_176275 = sub64(zm_lhs_176274, (int64_t) 1);
                                                        bool x_176276 = sle64((int64_t) 0, leq_arg0_176275);
                                                        bool y_176277 = slt64(leq_arg0_176275, j_m_i_176039);
                                                        bool bounds_check_176278 = x_176276 && y_176277;
                                                        bool index_certs_176279;
                                                        
                                                        if (!bounds_check_176278) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_176275, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_176270 = start_176090 + zgze_lhs_176260;
                                                        int8_t leq_arg1_176271 = ((int8_t *) mem_param_180156.mem)[slice_176270];
                                                        int64_t leq_arg1_176272 = ((int64_t *) mem_param_180159.mem)[slice_176270];
                                                        int32_t leq_arg1_176273 = ((int32_t *) mem_param_180162.mem)[slice_176270];
                                                        int64_t slice_176280 = stride_176016 + leq_arg0_176275;
                                                        int64_t slice_176281 = start_176090 + slice_176280;
                                                        int8_t leq_arg0_176282 = ((int8_t *) mem_param_180156.mem)[slice_176281];
                                                        int64_t leq_arg0_176283 = ((int64_t *) mem_param_180159.mem)[slice_176281];
                                                        int32_t leq_arg0_176284 = ((int32_t *) mem_param_180162.mem)[slice_176281];
                                                        bool cond_176285 = leq_arg0_176282 == leq_arg1_176271;
                                                        bool defunc_0_leq_res_t_res_176286 = sle64(leq_arg0_176283, leq_arg1_176272);
                                                        bool defunc_0_leq_res_176287 = sle32(leq_arg0_176284, leq_arg1_176273);
                                                        bool x_176288 = cond_176285 && defunc_0_leq_res_t_res_176286;
                                                        bool x_176289 = !cond_176285;
                                                        bool y_176290 = defunc_0_leq_res_176287 && x_176289;
                                                        bool defunc_0_leq_res_176291 = x_176288 || y_176290;
                                                        
                                                        leq_y_x_176265 = defunc_0_leq_res_176291;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176292;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176293;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176294;
                                                    
                                                    if (leq_y_x_176265) {
                                                        int64_t tmp_179344 = add64(tt_176207, n_176258);
                                                        int64_t tmp_179345 = sub64(count_176209, n_176258);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176292 = tmp_179344;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176293 = tt_176208;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176294 = tmp_179345;
                                                    } else {
                                                        int64_t tmp_176297 = add64(tt_176207, n_176258);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176292 = tt_176207;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176293 = tmp_176297;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176294 = count_176209;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176225 = ss_176205;
                                                    defunc_0_lifted_step_res_f_res_f_res_176226 = defunc_0_lifted_step_res_f_res_f_res_f_res_176292;
                                                    defunc_0_lifted_step_res_f_res_f_res_176227 = defunc_0_lifted_step_res_f_res_f_res_f_res_176293;
                                                    defunc_0_lifted_step_res_f_res_f_res_176228 = defunc_0_lifted_step_res_f_res_f_res_f_res_176294;
                                                }
                                                defunc_0_lifted_step_res_f_res_176219 = defunc_0_lifted_step_res_f_res_f_res_176225;
                                                defunc_0_lifted_step_res_f_res_176220 = defunc_0_lifted_step_res_f_res_f_res_176226;
                                                defunc_0_lifted_step_res_f_res_176221 = defunc_0_lifted_step_res_f_res_f_res_176227;
                                                defunc_0_lifted_step_res_f_res_176222 = defunc_0_lifted_step_res_f_res_f_res_176228;
                                            }
                                            defunc_0_lifted_step_res_176212 = defunc_0_lifted_step_res_f_res_176219;
                                            defunc_0_lifted_step_res_176213 = defunc_0_lifted_step_res_f_res_176220;
                                            defunc_0_lifted_step_res_176214 = defunc_0_lifted_step_res_f_res_176221;
                                            defunc_0_lifted_step_res_176215 = defunc_0_lifted_step_res_f_res_176222;
                                        }
                                        
                                        int64_t loopres_176298;
                                        int64_t loopres_176299;
                                        int64_t loopres_176300;
                                        int64_t loopres_176301;
                                        int64_t loopres_176302;
                                        
                                        if (futrts_lifted_normalizze_8970(ctx, &loopres_176298, &loopres_176299, &loopres_176300, &loopres_176301, &loopres_176302, defunc_0_lifted_step_res_176212, ss_176206, defunc_0_lifted_step_res_176213, defunc_0_lifted_step_res_176214, defunc_0_lifted_step_res_176215) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_176303 = slt64((int64_t) 0, loopres_176302);
                                        bool loop_while_tmp_181577 = loop_cond_176303;
                                        int64_t ss_tmp_181578 = loopres_176298;
                                        int64_t ss_tmp_181579 = loopres_176299;
                                        int64_t tt_tmp_181580 = loopres_176300;
                                        int64_t tt_tmp_181581 = loopres_176301;
                                        int64_t count_tmp_181582 = loopres_176302;
                                        
                                        loop_while_176204 = loop_while_tmp_181577;
                                        ss_176205 = ss_tmp_181578;
                                        ss_176206 = ss_tmp_181579;
                                        tt_176207 = tt_tmp_181580;
                                        tt_176208 = tt_tmp_181581;
                                        count_176209 = count_tmp_181582;
                                    }
                                    defunc_0_split_count_res_176198 = loop_while_176204;
                                    defunc_0_split_count_res_176199 = ss_176205;
                                    defunc_0_split_count_res_176200 = ss_176206;
                                    defunc_0_split_count_res_176201 = tt_176207;
                                    defunc_0_split_count_res_176202 = tt_176208;
                                    defunc_0_split_count_res_176203 = count_176209;
                                    ((int64_t *) mem_180184)[i_179767] = defunc_0_split_count_res_176199;
                                    ((int64_t *) mem_180186)[i_179767] = defunc_0_split_count_res_176201;
                                }
                                if (mem_180200_cached_sizze_181849 < flat_dim_176040) {
                                    err = lexical_realloc(ctx, &mem_180200, &mem_180200_cached_sizze_181849, flat_dim_176040);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180203_cached_sizze_181850 < bytes_180202) {
                                    err = lexical_realloc(ctx, &mem_180203, &mem_180203_cached_sizze_181850, bytes_180202);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180206_cached_sizze_181851 < bytes_180205) {
                                    err = lexical_realloc(ctx, &mem_180206, &mem_180206_cached_sizze_181851, bytes_180205);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179776 = 0; i_179776 < num_blocks_176037; i_179776++) {
                                    bool y_176310 = slt64(i_179776, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038);
                                    bool index_certs_176312;
                                    
                                    if (!y_176310) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179776, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_176313 = ((int64_t *) mem_180184)[i_179776];
                                    int64_t defunc_0_f_res_176314 = ((int64_t *) mem_180186)[i_179776];
                                    int64_t tmp_176315 = add64((int64_t) 1, i_179776);
                                    bool x_176316 = sle64((int64_t) 0, tmp_176315);
                                    bool y_176317 = slt64(tmp_176315, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038);
                                    bool bounds_check_176318 = x_176316 && y_176317;
                                    bool index_certs_176319;
                                    
                                    if (!bounds_check_176318) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176315, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_176320 = ((int64_t *) mem_180184)[tmp_176315];
                                    int64_t defunc_0_f_res_176321 = ((int64_t *) mem_180186)[tmp_176315];
                                    int64_t merge_sequential_arg2_176322 = add64(stride_176016, defunc_0_f_res_176314);
                                    int64_t merge_sequential_arg2_176323 = add64(stride_176016, defunc_0_f_res_176321);
                                    int64_t j_m_i_176324 = sub64(merge_sequential_arg2_176323, merge_sequential_arg2_176322);
                                    bool empty_slice_176325 = j_m_i_176324 == (int64_t) 0;
                                    int64_t m_176326 = sub64(j_m_i_176324, (int64_t) 1);
                                    int64_t i_p_m_t_s_176327 = add64(merge_sequential_arg2_176322, m_176326);
                                    bool zzero_leq_i_p_m_t_s_176328 = sle64((int64_t) 0, i_p_m_t_s_176327);
                                    bool i_p_m_t_s_leq_w_176329 = slt64(i_p_m_t_s_176327, next_stride_176017);
                                    bool zzero_lte_i_176330 = sle64((int64_t) 0, merge_sequential_arg2_176322);
                                    bool i_lte_j_176331 = sle64(merge_sequential_arg2_176322, merge_sequential_arg2_176323);
                                    bool y_176332 = i_p_m_t_s_leq_w_176329 && zzero_lte_i_176330;
                                    bool y_176333 = zzero_leq_i_p_m_t_s_176328 && y_176332;
                                    bool forwards_ok_176334 = i_lte_j_176331 && y_176333;
                                    bool ok_or_empty_176335 = empty_slice_176325 || forwards_ok_176334;
                                    bool index_certs_176336;
                                    
                                    if (!ok_or_empty_176335) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_176322, ":", (long long) merge_sequential_arg2_176323, "] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_176337 = sub64(defunc_0_f_res_176320, defunc_0_f_res_176313);
                                    bool empty_slice_176338 = j_m_i_176337 == (int64_t) 0;
                                    int64_t m_176339 = sub64(j_m_i_176337, (int64_t) 1);
                                    int64_t i_p_m_t_s_176340 = add64(defunc_0_f_res_176313, m_176339);
                                    bool zzero_leq_i_p_m_t_s_176341 = sle64((int64_t) 0, i_p_m_t_s_176340);
                                    bool i_p_m_t_s_leq_w_176342 = slt64(i_p_m_t_s_176340, next_stride_176017);
                                    bool zzero_lte_i_176343 = sle64((int64_t) 0, defunc_0_f_res_176313);
                                    bool i_lte_j_176344 = sle64(defunc_0_f_res_176313, defunc_0_f_res_176320);
                                    bool y_176345 = i_p_m_t_s_leq_w_176342 && zzero_lte_i_176343;
                                    bool y_176346 = zzero_leq_i_p_m_t_s_176341 && y_176345;
                                    bool forwards_ok_176347 = i_lte_j_176344 && y_176346;
                                    bool ok_or_empty_176348 = empty_slice_176338 || forwards_ok_176347;
                                    bool index_certs_176349;
                                    
                                    if (!ok_or_empty_176348) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_176313, ":", (long long) defunc_0_f_res_176320, "] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_176350 = slt64((int64_t) 0, j_m_i_176337);
                                    int8_t dummy_176351;
                                    int64_t dummy_176352;
                                    int32_t dummy_176353;
                                    
                                    if (cond_176350) {
                                        bool index_certs_179346;
                                        
                                        if (!cond_176350) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176337, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179347 = start_176090 + defunc_0_f_res_176313;
                                        int8_t head_res_179348 = ((int8_t *) mem_param_180156.mem)[slice_179347];
                                        int64_t head_res_179349 = ((int64_t *) mem_param_180159.mem)[slice_179347];
                                        int32_t head_res_179350 = ((int32_t *) mem_param_180162.mem)[slice_179347];
                                        
                                        dummy_176351 = head_res_179348;
                                        dummy_176352 = head_res_179349;
                                        dummy_176353 = head_res_179350;
                                    } else {
                                        bool y_176359 = slt64((int64_t) 0, j_m_i_176324);
                                        bool index_certs_176360;
                                        
                                        if (!y_176359) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176324, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_176361 = start_176090 + merge_sequential_arg2_176322;
                                        int8_t head_res_176362 = ((int8_t *) mem_param_180156.mem)[slice_176361];
                                        int64_t head_res_176363 = ((int64_t *) mem_param_180159.mem)[slice_176361];
                                        int32_t head_res_176364 = ((int32_t *) mem_param_180162.mem)[slice_176361];
                                        
                                        dummy_176351 = head_res_176362;
                                        dummy_176352 = head_res_176363;
                                        dummy_176353 = head_res_176364;
                                    }
                                    for (int64_t nest_i_181586 = 0; nest_i_181586 < merge_block_sizze_175854; nest_i_181586++) {
                                        ((int8_t *) mem_180200)[i_179776 * merge_block_sizze_175854 + nest_i_181586] = dummy_176351;
                                    }
                                    for (int64_t nest_i_181587 = 0; nest_i_181587 < merge_block_sizze_175854; nest_i_181587++) {
                                        ((int64_t *) mem_180203)[i_179776 * merge_block_sizze_175854 + nest_i_181587] = dummy_176352;
                                    }
                                    for (int64_t nest_i_181588 = 0; nest_i_181588 < merge_block_sizze_175854; nest_i_181588++) {
                                        ((int32_t *) mem_180206)[i_179776 * merge_block_sizze_175854 + nest_i_181588] = dummy_176353;
                                    }
                                    
                                    int64_t data_176368;
                                    int64_t i_176373 = (int64_t) 0;
                                    
                                    for (int64_t k_176372 = 0; k_176372 < merge_block_sizze_175854; k_176372++) {
                                        int64_t j_176377 = sub64(k_176372, i_176373);
                                        bool cond_176378 = j_176377 == j_m_i_176324;
                                        bool cond_176379;
                                        
                                        if (cond_176378) {
                                            cond_176379 = 1;
                                        } else {
                                            bool cond_176380 = slt64(i_176373, j_m_i_176337);
                                            bool cond_f_res_176381;
                                            
                                            if (cond_176380) {
                                                bool x_179351 = sle64((int64_t) 0, j_176377);
                                                bool y_179352 = slt64(j_176377, j_m_i_176324);
                                                bool bounds_check_179353 = x_179351 && y_179352;
                                                bool index_certs_179354;
                                                
                                                if (!bounds_check_179353) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176377, "] out of bounds for array of shape [", (long long) j_m_i_176324, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179360 = sle64((int64_t) 0, i_176373);
                                                bool bounds_check_179361 = cond_176380 && x_179360;
                                                bool index_certs_179362;
                                                
                                                if (!bounds_check_179361) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176373, "] out of bounds for array of shape [", (long long) j_m_i_176337, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179355 = merge_sequential_arg2_176322 + j_176377;
                                                int64_t slice_179356 = start_176090 + slice_179355;
                                                int8_t leq_arg1_179357 = ((int8_t *) mem_param_180156.mem)[slice_179356];
                                                int64_t leq_arg1_179358 = ((int64_t *) mem_param_180159.mem)[slice_179356];
                                                int32_t leq_arg1_179359 = ((int32_t *) mem_param_180162.mem)[slice_179356];
                                                int64_t slice_179363 = defunc_0_f_res_176313 + i_176373;
                                                int64_t slice_179364 = start_176090 + slice_179363;
                                                int8_t leq_arg0_179365 = ((int8_t *) mem_param_180156.mem)[slice_179364];
                                                int64_t leq_arg0_179366 = ((int64_t *) mem_param_180159.mem)[slice_179364];
                                                int32_t leq_arg0_179367 = ((int32_t *) mem_param_180162.mem)[slice_179364];
                                                bool cond_179368 = leq_arg0_179365 == leq_arg1_179357;
                                                bool defunc_0_leq_res_t_res_179369 = sle64(leq_arg0_179366, leq_arg1_179358);
                                                bool defunc_0_leq_res_179370 = sle32(leq_arg0_179367, leq_arg1_179359);
                                                bool x_179371 = cond_179368 && defunc_0_leq_res_t_res_179369;
                                                bool x_179372 = !cond_179368;
                                                bool y_179373 = defunc_0_leq_res_179370 && x_179372;
                                                bool defunc_0_leq_res_179374 = x_179371 || y_179373;
                                                
                                                cond_f_res_176381 = defunc_0_leq_res_179374;
                                            } else {
                                                cond_f_res_176381 = 0;
                                            }
                                            cond_176379 = cond_f_res_176381;
                                        }
                                        
                                        int64_t loopres_176406;
                                        int8_t loopres_176407;
                                        int64_t loopres_176408;
                                        int32_t loopres_176409;
                                        
                                        if (cond_176379) {
                                            bool x_179376 = sle64((int64_t) 0, i_176373);
                                            bool y_179377 = slt64(i_176373, j_m_i_176337);
                                            bool bounds_check_179378 = x_179376 && y_179377;
                                            bool index_certs_179379;
                                            
                                            if (!bounds_check_179378) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176373, "] out of bounds for array of shape [", (long long) j_m_i_176337, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179375 = add64((int64_t) 1, i_176373);
                                            int64_t slice_179380 = defunc_0_f_res_176313 + i_176373;
                                            int64_t slice_179381 = start_176090 + slice_179380;
                                            int8_t tmp_179382 = ((int8_t *) mem_param_180156.mem)[slice_179381];
                                            int64_t tmp_179383 = ((int64_t *) mem_param_180159.mem)[slice_179381];
                                            int32_t tmp_179384 = ((int32_t *) mem_param_180162.mem)[slice_179381];
                                            
                                            loopres_176406 = tmp_179375;
                                            loopres_176407 = tmp_179382;
                                            loopres_176408 = tmp_179383;
                                            loopres_176409 = tmp_179384;
                                        } else {
                                            bool x_176420 = sle64((int64_t) 0, j_176377);
                                            bool y_176421 = slt64(j_176377, j_m_i_176324);
                                            bool bounds_check_176422 = x_176420 && y_176421;
                                            bool index_certs_176423;
                                            
                                            if (!bounds_check_176422) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176377, "] out of bounds for array of shape [", (long long) j_m_i_176324, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_176424 = merge_sequential_arg2_176322 + j_176377;
                                            int64_t slice_176425 = start_176090 + slice_176424;
                                            int8_t tmp_176426 = ((int8_t *) mem_param_180156.mem)[slice_176425];
                                            int64_t tmp_176427 = ((int64_t *) mem_param_180159.mem)[slice_176425];
                                            int32_t tmp_176428 = ((int32_t *) mem_param_180162.mem)[slice_176425];
                                            
                                            loopres_176406 = i_176373;
                                            loopres_176407 = tmp_176426;
                                            loopres_176408 = tmp_176427;
                                            loopres_176409 = tmp_176428;
                                        }
                                        ((int8_t *) mem_180200)[i_179776 * merge_block_sizze_175854 + k_176372] = loopres_176407;
                                        ((int64_t *) mem_180203)[i_179776 * merge_block_sizze_175854 + k_176372] = loopres_176408;
                                        ((int32_t *) mem_180206)[i_179776 * merge_block_sizze_175854 + k_176372] = loopres_176409;
                                        
                                        int64_t i_tmp_181589 = loopres_176406;
                                        
                                        i_176373 = i_tmp_181589;
                                    }
                                    data_176368 = i_176373;
                                }
                                if (memblock_alloc(ctx, &mem_180255, flat_dim_176040, "mem_180255")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180255.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (uint8_t *) mem_180200, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (int64_t []) {num_blocks_176037, merge_block_sizze_175854});
                                if (memblock_alloc(ctx, &mem_180259, bytes_180202, "mem_180259")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180259.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (uint64_t *) mem_180203, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (int64_t []) {num_blocks_176037, merge_block_sizze_175854});
                                if (memblock_alloc(ctx, &mem_180263, bytes_180205, "mem_180263")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_180263.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (uint32_t *) mem_180206, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (int64_t []) {num_blocks_176037, merge_block_sizze_175854});
                                if (memblock_set(ctx, &ext_mem_180296, &mem_180255, "mem_180255") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180293, &mem_180259, "mem_180259") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180290, &mem_180263, "mem_180263") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180164, i_179786 * next_stride_176017, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180296.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176017});
                            if (memblock_unref(ctx, &ext_mem_180296, "ext_mem_180296") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180167, i_179786 * next_stride_176017, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180293.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176017});
                            if (memblock_unref(ctx, &ext_mem_180293, "ext_mem_180293") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180170, i_179786 * next_stride_176017, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180290.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176017});
                            if (memblock_unref(ctx, &ext_mem_180290, "ext_mem_180290") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_180310, bytes_180163, "mem_180310")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180310.mem, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (uint8_t *) mem_180164, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (int64_t []) {num_merges_176021, next_stride_176017});
                        if (memblock_alloc(ctx, &mem_180314, bytes_180166, "mem_180314")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180314.mem, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (uint64_t *) mem_180167, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (int64_t []) {num_merges_176021, next_stride_176017});
                        if (memblock_alloc(ctx, &mem_180318, bytes_180169, "mem_180318")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_180318.mem, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (uint32_t *) mem_180170, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (int64_t []) {num_merges_176021, next_stride_176017});
                        
                        bool loop_cond_176442 = slt64(next_stride_176017, flat_dim_175849);
                        
                        if (memblock_set(ctx, &mem_param_tmp_181556, &mem_180310, "mem_180310") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181557, &mem_180314, "mem_180314") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181558, &mem_180318, "mem_180318") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_181559 = bytes_180163;
                        bool loop_while_tmp_181560 = loop_cond_176442;
                        int64_t stride_tmp_181564 = next_stride_176017;
                        
                        if (memblock_set(ctx, &mem_param_180156, &mem_param_tmp_181556, "mem_param_tmp_181556") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180159, &mem_param_tmp_181557, "mem_param_tmp_181557") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180162, &mem_param_tmp_181558, "mem_param_tmp_181558") != 0)
                            return 1;
                        loop_dz2084Uz2082U_176011 = loop_dz2084Uz2082U_tmp_181559;
                        loop_while_176012 = loop_while_tmp_181560;
                        stride_176016 = stride_tmp_181564;
                    }
                    if (memblock_set(ctx, &ext_mem_180328, &mem_param_180156, "mem_param_180156") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180327, &mem_param_180159, "mem_param_180159") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180326, &mem_param_180162, "mem_param_180162") != 0)
                        return 1;
                    data_176005 = loop_dz2084Uz2082U_176011;
                    data_176006 = loop_while_176012;
                    data_176010 = stride_176016;
                    if (memblock_unref(ctx, &mem_180144, "mem_180144") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180148, "mem_180148") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180152, "mem_180152") != 0)
                        return 1;
                    
                    bool empty_slice_176443 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_176444 = sle64((int64_t) 0, zs_lhs_175833);
                    bool i_p_m_t_s_leq_w_176445 = slt64(zs_lhs_175833, data_176005);
                    bool y_176446 = zzero_leq_i_p_m_t_s_176444 && i_p_m_t_s_leq_w_176445;
                    bool ok_or_empty_176447 = empty_slice_176443 || y_176446;
                    bool index_certs_176448;
                    
                    if (!ok_or_empty_176447) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "] out of bounds for array of shape [", (long long) data_176005, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_180337, &ext_mem_180328, "ext_mem_180328") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180334, &ext_mem_180327, "ext_mem_180327") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180331, &ext_mem_180326, "ext_mem_180326") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180038, "mem_180038") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180040, "mem_180040") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180042, "mem_180042") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180018.mem, ind_bottom_175786, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180337.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788});
                if (memblock_unref(ctx, &ext_mem_180337, "ext_mem_180337") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180020.mem, ind_bottom_175786, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180334.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788});
                if (memblock_unref(ctx, &ext_mem_180334, "ext_mem_180334") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180022.mem, ind_bottom_175786, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180331.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788});
                if (memblock_unref(ctx, &ext_mem_180331, "ext_mem_180331") != 0)
                    return 1;
                
                bool loop_cond_176484 = slt64(ubs_175776, threads_130664);
                bool loop_while_tmp_181523 = loop_cond_176484;
                int64_t p_tmp_181524 = ubs_175776;
                
                loop_while_175765 = loop_while_tmp_181523;
                p_175766 = p_tmp_181524;
            }
            defunc_0_mergeFunc_seq_res_175760 = loop_while_175765;
            defunc_0_mergeFunc_seq_res_175761 = p_175766;
            
            int64_t index_concat_branch_177301;
            
            if (index_concat_cmp_177297) {
                int64_t index_concat_179399 = ((int64_t *) mem_180003)[index_concat_i_177298];
                
                index_concat_branch_177301 = index_concat_179399;
            } else {
                index_concat_branch_177301 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_177295;
            
            if (index_concat_cmp_177297) {
                int64_t index_concat_179400 = ((int64_t *) mem_180005)[index_concat_i_177298];
                
                index_concat_branch_177295 = index_concat_179400;
            } else {
                index_concat_branch_177295 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_180756, &mem_180018, "mem_180018") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_180753, &mem_180020, "mem_180020") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_180750, &mem_180022, "mem_180022") != 0)
                return 1;
            loopres_174524 = index_concat_branch_177301;
            loopres_174525 = index_concat_branch_177295;
        }
        for (int64_t i_179792 = 0; i_179792 < window_sizze_130663; i_179792++) {
            int8_t eta_p_176492 = ((int8_t *) ext_mem_180756.mem)[i_179792];
            int64_t eta_p_176493 = ((int64_t *) ext_mem_180753.mem)[i_179792];
            bool cond_176494 = eta_p_176492 == (int8_t) 0;
            int64_t tmp_176495;
            
            if (cond_176494) {
                int64_t tmp_t_res_179403 = add64(p_174496, eta_p_176493);
                
                tmp_176495 = tmp_t_res_179403;
            } else {
                int64_t tmp_f_res_176497 = add64(p_174497, eta_p_176493);
                
                tmp_176495 = tmp_f_res_176497;
            }
            ((int64_t *) mem_179990.mem)[ind_bottom_174500 + i_179792] = tmp_176495;
        }
        if (memblock_unref(ctx, &ext_mem_180753, "ext_mem_180753") != 0)
            return 1;
        
        int64_t next_lbs_176498 = add64(p_174496, loopres_174524);
        int64_t next_lbs_176499 = add64(p_174497, loopres_174525);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_179988.mem, ind_bottom_174500, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180756.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_130663});
        if (memblock_unref(ctx, &ext_mem_180756, "ext_mem_180756") != 0)
            return 1;
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_179992.mem, ind_bottom_174500, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180750.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_130663});
        if (memblock_unref(ctx, &ext_mem_180750, "ext_mem_180750") != 0)
            return 1;
        
        bool cond_176513 = slt64(next_lbs_176498, zl_rhs_174479);
        bool loop_cond_t_res_176514 = slt64(next_lbs_176499, zl_rhs_174481);
        bool x_176515 = cond_176513 && loop_cond_t_res_176514;
        bool loop_while_tmp_181407 = x_176515;
        int64_t p_tmp_181411 = next_lbs_176498;
        int64_t p_tmp_181412 = next_lbs_176499;
        
        loop_while_174492 = loop_while_tmp_181407;
        p_174496 = p_tmp_181411;
        p_174497 = p_tmp_181412;
    }
    defunc_0_merge_pipeline_res_174486 = loop_while_174492;
    defunc_0_merge_pipeline_res_174490 = p_174496;
    defunc_0_merge_pipeline_res_174491 = p_174497;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516 = sub64(nb_130662, defunc_0_merge_pipeline_res_174491);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517 = sub64(na_130661, defunc_0_merge_pipeline_res_174490);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
    bool empty_slice_176519 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517 == (int64_t) 0;
    int64_t m_176520 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, (int64_t) 1);
    int64_t i_p_m_t_s_176521 = add64(defunc_0_merge_pipeline_res_174490, m_176520);
    bool zzero_leq_i_p_m_t_s_176522 = sle64((int64_t) 0, i_p_m_t_s_176521);
    bool i_p_m_t_s_leq_w_176523 = slt64(i_p_m_t_s_176521, na_130661);
    bool zzero_lte_i_176524 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_174490);
    bool i_lte_j_176525 = sle64(defunc_0_merge_pipeline_res_174490, na_130661);
    bool y_176526 = i_p_m_t_s_leq_w_176523 && zzero_lte_i_176524;
    bool y_176527 = zzero_leq_i_p_m_t_s_176522 && y_176526;
    bool forwards_ok_176528 = i_lte_j_176525 && y_176527;
    bool ok_or_empty_176529 = empty_slice_176519 || forwards_ok_176528;
    bool index_certs_176530;
    
    if (!ok_or_empty_176529) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_174490, ":", (long long) na_130661, "] out of bounds for array of shape [", (long long) na_130661, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176534 = slt64(na_130661, defunc_0_merge_pipeline_res_174490);
    bool valid_176535 = !bounds_invalid_upwards_176534;
    bool range_valid_c_176536;
    
    if (!valid_176535) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_174490, "..<", (long long) na_130661, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_176540 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516 == (int64_t) 0;
    int64_t m_176541 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516, (int64_t) 1);
    int64_t i_p_m_t_s_176542 = add64(defunc_0_merge_pipeline_res_174491, m_176541);
    bool zzero_leq_i_p_m_t_s_176543 = sle64((int64_t) 0, i_p_m_t_s_176542);
    bool i_p_m_t_s_leq_w_176544 = slt64(i_p_m_t_s_176542, nb_130662);
    bool zzero_lte_i_176545 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_174491);
    bool i_lte_j_176546 = sle64(defunc_0_merge_pipeline_res_174491, nb_130662);
    bool y_176547 = i_p_m_t_s_leq_w_176544 && zzero_lte_i_176545;
    bool y_176548 = zzero_leq_i_p_m_t_s_176543 && y_176547;
    bool forwards_ok_176549 = i_lte_j_176546 && y_176548;
    bool ok_or_empty_176550 = empty_slice_176540 || forwards_ok_176549;
    bool index_certs_176551;
    
    if (!ok_or_empty_176550) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_174491, ":", (long long) nb_130662, "] out of bounds for array of shape [", (long long) nb_130662, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176555 = slt64(nb_130662, defunc_0_merge_pipeline_res_174491);
    bool valid_176556 = !bounds_invalid_upwards_176555;
    bool range_valid_c_176557;
    
    if (!valid_176556) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_174491, "..<", (long long) nb_130662, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180781 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518;
    int64_t bytes_180783 = (int64_t) 4 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518;
    bool cond_176564 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, (int64_t) 1);
    int64_t zs_lhs_176565 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, (int64_t) 1);
    int64_t zp_rhs_176566 = sdiv_safe64(zs_lhs_176565, (int64_t) 20);
    int64_t min_num_blocks_176567 = add64((int64_t) 1, zp_rhs_176566);
    bool loop_cond_176568 = slt64((int64_t) 1, min_num_blocks_176567);
    bool smallest_pow_2_geq_than_res_176569;
    int64_t smallest_pow_2_geq_than_res_176570;
    bool loop_while_176571;
    int64_t x_176572;
    
    loop_while_176571 = loop_cond_176568;
    x_176572 = (int64_t) 1;
    while (loop_while_176571) {
        int64_t loopres_176573 = mul64((int64_t) 2, x_176572);
        bool loop_cond_176574 = slt64(loopres_176573, min_num_blocks_176567);
        bool loop_while_tmp_181594 = loop_cond_176574;
        int64_t x_tmp_181595 = loopres_176573;
        
        loop_while_176571 = loop_while_tmp_181594;
        x_176572 = x_tmp_181595;
    }
    smallest_pow_2_geq_than_res_176569 = loop_while_176571;
    smallest_pow_2_geq_than_res_176570 = x_176572;
    
    bool zzero_176575 = smallest_pow_2_geq_than_res_176570 == (int64_t) 0;
    bool nonzzero_176576 = !zzero_176575;
    bool protect_assert_disj_176577 = cond_176564 || nonzzero_176576;
    bool nonzzero_cert_176578;
    
    if (!protect_assert_disj_176577) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_176579 = sdiv_safe64(zs_lhs_176565, smallest_pow_2_geq_than_res_176570);
    int64_t block_sizze_176580 = add64((int64_t) 1, zp_rhs_176579);
    bool y_176587 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518);
    bool protect_assert_disj_181109 = cond_176564 || y_176587;
    bool index_certs_176588;
    
    if (!protect_assert_disj_181109) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176614 = slt64(smallest_pow_2_geq_than_res_176570, (int64_t) 0);
    bool valid_176615 = !bounds_invalid_upwards_176614;
    bool protect_assert_disj_181119 = cond_176564 || valid_176615;
    bool range_valid_c_176616;
    
    if (!protect_assert_disj_181119) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176570, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176618 = slt64(block_sizze_176580, (int64_t) 0);
    bool valid_176619 = !bounds_invalid_upwards_176618;
    bool protect_assert_disj_181121 = cond_176564 || valid_176619;
    bool range_valid_c_176620;
    
    if (!protect_assert_disj_181121) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176580, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_176622 = sle64(block_sizze_176580, (int64_t) 1);
    int64_t tmp_176623 = sub64(block_sizze_176580, (int64_t) 2);
    bool bounds_invalid_upwards_176624 = slt64(tmp_176623, (int64_t) 0);
    bool valid_176626 = !bounds_invalid_upwards_176624;
    bool protect_assert_disj_176627 = cond_176622 || valid_176626;
    bool protect_assert_disj_181123 = cond_176564 || protect_assert_disj_176627;
    bool range_valid_c_176628;
    
    if (!protect_assert_disj_181123) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176623, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177189 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_177191 = sle64((int64_t) 0, zs_lhs_176565);
    bool i_p_m_t_s_leq_w_177192 = slt64(zs_lhs_176565, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518);
    bool y_177193 = zzero_leq_i_p_m_t_s_177191 && i_p_m_t_s_leq_w_177192;
    bool ok_or_empty_177194 = empty_slice_177189 || y_177193;
    bool index_certs_177195;
    
    if (!ok_or_empty_177194) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_177196 = add64(defunc_0_merge_pipeline_res_174490, defunc_0_merge_pipeline_res_174491);
    int64_t j_m_i_177197 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, final_buffer_177196);
    bool empty_slice_177198 = j_m_i_177197 == (int64_t) 0;
    int64_t m_177199 = sub64(j_m_i_177197, (int64_t) 1);
    int64_t i_p_m_t_s_177200 = add64(final_buffer_177196, m_177199);
    bool zzero_leq_i_p_m_t_s_177201 = sle64((int64_t) 0, i_p_m_t_s_177200);
    bool i_p_m_t_s_leq_w_177202 = slt64(i_p_m_t_s_177200, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475);
    bool zzero_lte_i_177203 = sle64((int64_t) 0, final_buffer_177196);
    bool i_lte_j_177204 = sle64(final_buffer_177196, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475);
    bool y_177205 = i_p_m_t_s_leq_w_177202 && zzero_lte_i_177203;
    bool y_177206 = zzero_leq_i_p_m_t_s_177201 && y_177205;
    bool forwards_ok_177207 = i_lte_j_177204 && y_177206;
    bool ok_or_empty_177208 = empty_slice_177198 || forwards_ok_177207;
    bool index_certs_177209;
    
    if (!ok_or_empty_177208) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_177196, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_177210 = j_m_i_177197 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518;
    bool empty_or_match_cert_177211;
    
    if (!dim_match_177210) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_177197, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180780, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "mem_180780")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181596 = 0; nest_i_181596 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517; nest_i_181596++) {
        ((int8_t *) mem_180780.mem)[nest_i_181596] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_180782, bytes_180781, "mem_180782")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181597 = 0; i_181597 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517; i_181597++) {
        int64_t x_181598 = defunc_0_merge_pipeline_res_174490 + i_181597 * (int64_t) 1;
        
        ((int64_t *) mem_180782.mem)[i_181597] = x_181598;
    }
    for (int64_t nest_i_181599 = 0; nest_i_181599 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516; nest_i_181599++) {
        ((int8_t *) mem_180780.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517 + nest_i_181599] = (int8_t) 1;
    }
    for (int64_t i_181600 = 0; i_181600 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516; i_181600++) {
        int64_t x_181601 = defunc_0_merge_pipeline_res_174491 + i_181600 * (int64_t) 1;
        
        ((int64_t *) mem_180782.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517 + i_181600] = x_181601;
    }
    
    int64_t tmp_offs_181602 = (int64_t) 0;
    
    if (!(tmp_offs_181602 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180780.mem, tmp_offs_181602, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180780.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517});
    }
    tmp_offs_181602 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517;
    if (!(tmp_offs_181602 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180780.mem, tmp_offs_181602, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180780.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516});
    }
    tmp_offs_181602 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516;
    
    int64_t tmp_offs_181603 = (int64_t) 0;
    
    if (!(tmp_offs_181603 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180782.mem, tmp_offs_181603, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180782.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517});
    }
    tmp_offs_181603 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517;
    if (!(tmp_offs_181603 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180782.mem, tmp_offs_181603, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180782.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516});
    }
    tmp_offs_181603 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516;
    if (memblock_alloc(ctx, &mem_180784, bytes_180783, "mem_180784")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_181604 = (int64_t) 0;
    
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_180784.mem, tmp_offs_181604, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_179986.mem, defunc_0_merge_pipeline_res_174490, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517});
    tmp_offs_181604 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_180784.mem, tmp_offs_181604, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_179987.mem, defunc_0_merge_pipeline_res_174491, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516});
    tmp_offs_181604 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516;
    
    int64_t flat_dim_176581 = smallest_pow_2_geq_than_res_176570 * block_sizze_176580;
    bool x_181104 = !cond_176564;
    int64_t greatest_divisor_leq_than_arg1_176585 = mul64((int64_t) 2, block_sizze_176580);
    int64_t merge_block_sizze_176586;
    
    if (x_181104) {
        int64_t x_181106;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181106, (int64_t) 8, greatest_divisor_leq_than_arg1_176585) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_176586 = x_181106;
    } else {
        merge_block_sizze_176586 = (int64_t) 0;
    }
    
    bool index_concat_cmp_177261 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, (int64_t) 0);
    int8_t index_concat_branch_177265 = btoi_bool_i8(index_concat_cmp_177261);
    int64_t index_concat_i_179405 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
    int64_t index_primexp_179406 = add64(defunc_0_merge_pipeline_res_174491, index_concat_i_179405);
    int64_t index_concat_branch_177259;
    
    if (index_concat_cmp_177261) {
        index_concat_branch_177259 = index_primexp_179406;
    } else {
        index_concat_branch_177259 = defunc_0_merge_pipeline_res_174490;
    }
    
    bool x_181100 = !index_concat_cmp_177261;
    bool protect_cond_conj_181110 = x_181100 && x_181104;
    int32_t index_concat_177252;
    
    if (protect_cond_conj_181110) {
        int32_t x_181102 = ((int32_t *) a_list_mem_179986.mem)[defunc_0_merge_pipeline_res_174490];
        
        index_concat_177252 = x_181102;
    } else {
        index_concat_177252 = 0;
    }
    
    bool protect_cond_conj_181111 = index_concat_cmp_177261 && x_181104;
    int32_t index_concat_179409;
    
    if (protect_cond_conj_181111) {
        int32_t x_181098 = ((int32_t *) b_list_mem_179987.mem)[index_primexp_179406];
        
        index_concat_179409 = x_181098;
    } else {
        index_concat_179409 = 0;
    }
    
    int32_t index_concat_branch_177253;
    
    if (index_concat_cmp_177261) {
        index_concat_branch_177253 = index_concat_179409;
    } else {
        index_concat_branch_177253 = index_concat_177252;
    }
    
    int8_t defunc_0_reduce_res_179640;
    int64_t defunc_0_reduce_res_179641;
    int32_t defunc_0_reduce_res_179642;
    
    if (x_181104) {
        int8_t x_181112;
        int64_t x_181113;
        int32_t x_181114;
        int8_t redout_179794;
        int64_t redout_179795;
        int32_t redout_179796;
        
        redout_179794 = index_concat_branch_177265;
        redout_179795 = index_concat_branch_177259;
        redout_179796 = index_concat_branch_177253;
        for (int64_t i_179797 = 0; i_179797 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518; i_179797++) {
            bool index_concat_cmp_179868 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, i_179797);
            int8_t index_concat_branch_179872 = btoi_bool_i8(index_concat_cmp_179868);
            int64_t index_concat_branch_179866;
            
            if (index_concat_cmp_179868) {
                int64_t index_concat_i_179863 = sub64(i_179797, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
                int64_t index_primexp_179956 = add64(defunc_0_merge_pipeline_res_174491, index_concat_i_179863);
                
                index_concat_branch_179866 = index_primexp_179956;
            } else {
                int64_t index_primexp_179958 = add64(defunc_0_merge_pipeline_res_174490, i_179797);
                
                index_concat_branch_179866 = index_primexp_179958;
            }
            
            int32_t index_concat_branch_179860;
            
            if (index_concat_cmp_179868) {
                int64_t index_concat_i_179857 = sub64(i_179797, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
                int64_t slice_179953 = defunc_0_merge_pipeline_res_174491 + index_concat_i_179857;
                int32_t index_concat_179858 = ((int32_t *) b_list_mem_179987.mem)[slice_179953];
                
                index_concat_branch_179860 = index_concat_179858;
            } else {
                int64_t slice_179954 = defunc_0_merge_pipeline_res_174490 + i_179797;
                int32_t index_concat_179859 = ((int32_t *) a_list_mem_179986.mem)[slice_179954];
                
                index_concat_branch_179860 = index_concat_179859;
            }
            
            bool eq_x_y_179971 = redout_179794 == (int8_t) 1;
            bool eq_x_zz_179972 = redout_179794 == (int8_t) 0;
            bool p_and_eq_x_y_179973 = index_concat_cmp_179868 && eq_x_y_179971;
            bool not_p_179974 = !index_concat_cmp_179868;
            bool p_and_eq_x_y_179975 = eq_x_zz_179972 && not_p_179974;
            bool cond_176604 = p_and_eq_x_y_179973 || p_and_eq_x_y_179975;
            bool defunc_0_leq_res_t_res_176605 = sle64(redout_179795, index_concat_branch_179866);
            bool defunc_0_leq_res_176606 = sle32(redout_179796, index_concat_branch_179860);
            bool x_176607 = cond_176604 && defunc_0_leq_res_t_res_176605;
            bool x_176608 = !cond_176604;
            bool y_176609 = defunc_0_leq_res_176606 && x_176608;
            bool defunc_0_leq_res_176610 = x_176607 || y_176609;
            int8_t defunc_0_op_res_176611;
            
            if (defunc_0_leq_res_176610) {
                defunc_0_op_res_176611 = index_concat_branch_179872;
            } else {
                defunc_0_op_res_176611 = redout_179794;
            }
            
            int64_t defunc_0_op_res_176612;
            
            if (defunc_0_leq_res_176610) {
                defunc_0_op_res_176612 = index_concat_branch_179866;
            } else {
                defunc_0_op_res_176612 = redout_179795;
            }
            
            int32_t defunc_0_op_res_176613;
            
            if (defunc_0_leq_res_176610) {
                defunc_0_op_res_176613 = index_concat_branch_179860;
            } else {
                defunc_0_op_res_176613 = redout_179796;
            }
            
            int8_t redout_tmp_181605 = defunc_0_op_res_176611;
            int64_t redout_tmp_181606 = defunc_0_op_res_176612;
            int32_t redout_tmp_181607 = defunc_0_op_res_176613;
            
            redout_179794 = redout_tmp_181605;
            redout_179795 = redout_tmp_181606;
            redout_179796 = redout_tmp_181607;
        }
        x_181112 = redout_179794;
        x_181113 = redout_179795;
        x_181114 = redout_179796;
        defunc_0_reduce_res_179640 = x_181112;
        defunc_0_reduce_res_179641 = x_181113;
        defunc_0_reduce_res_179642 = x_181114;
    } else {
        defunc_0_reduce_res_179640 = (int8_t) 0;
        defunc_0_reduce_res_179641 = (int64_t) 0;
        defunc_0_reduce_res_179642 = 0;
    }
    
    int64_t distance_176625 = add64((int64_t) 1, tmp_176623);
    int64_t binop_x_180787 = (int64_t) 8 * smallest_pow_2_geq_than_res_176570;
    int64_t bytes_180788 = block_sizze_176580 * binop_x_180787;
    int64_t binop_x_180790 = (int64_t) 4 * smallest_pow_2_geq_than_res_176570;
    int64_t bytes_180791 = block_sizze_176580 * binop_x_180790;
    int64_t bytes_180806 = (int64_t) 8 * block_sizze_176580;
    int64_t bytes_180808 = (int64_t) 4 * block_sizze_176580;
    bool loop_cond_176734 = slt64(block_sizze_176580, flat_dim_176581);
    bool zzero_176735 = merge_block_sizze_176586 == (int64_t) 0;
    bool nonzzero_176736 = !zzero_176735;
    
    if (cond_176564) {
        if (memblock_set(ctx, &ext_mem_181079, &mem_180780, "mem_180780") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181076, &mem_180782, "mem_180782") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181073, &mem_180784, "mem_180784") != 0)
            return 1;
    } else {
        if (mem_180786_cached_sizze_181872 < flat_dim_176581) {
            err = lexical_realloc(ctx, &mem_180786, &mem_180786_cached_sizze_181872, flat_dim_176581);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180789_cached_sizze_181873 < bytes_180788) {
            err = lexical_realloc(ctx, &mem_180789, &mem_180789_cached_sizze_181873, bytes_180788);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180792_cached_sizze_181874 < bytes_180791) {
            err = lexical_realloc(ctx, &mem_180792, &mem_180792_cached_sizze_181874, bytes_180791);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180805_cached_sizze_181875 < block_sizze_176580) {
            err = lexical_realloc(ctx, &mem_180805, &mem_180805_cached_sizze_181875, block_sizze_176580);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180807_cached_sizze_181876 < bytes_180806) {
            err = lexical_realloc(ctx, &mem_180807, &mem_180807_cached_sizze_181876, bytes_180806);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180809_cached_sizze_181877 < bytes_180808) {
            err = lexical_realloc(ctx, &mem_180809, &mem_180809_cached_sizze_181877, bytes_180808);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_179814 = 0; i_179814 < smallest_pow_2_geq_than_res_176570; i_179814++) {
            int64_t zp_lhs_176633 = mul64(block_sizze_176580, i_179814);
            
            for (int64_t i_179804 = 0; i_179804 < block_sizze_176580; i_179804++) {
                int64_t k_176638 = add64(zp_lhs_176633, i_179804);
                bool cond_176639 = slt64(k_176638, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518);
                int8_t lifted_lambda_res_176640;
                int64_t lifted_lambda_res_176641;
                int32_t lifted_lambda_res_176642;
                
                if (cond_176639) {
                    bool x_179415 = sle64((int64_t) 0, k_176638);
                    bool bounds_check_179416 = cond_176639 && x_179415;
                    bool index_certs_179417;
                    
                    if (!bounds_check_179416) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176638, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_179418 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, k_176638);
                    int8_t index_concat_branch_179419 = btoi_bool_i8(index_concat_cmp_179418);
                    int64_t index_concat_branch_179420;
                    
                    if (index_concat_cmp_179418) {
                        int64_t index_concat_i_179421 = sub64(k_176638, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
                        int64_t index_primexp_179422 = add64(defunc_0_merge_pipeline_res_174491, index_concat_i_179421);
                        
                        index_concat_branch_179420 = index_primexp_179422;
                    } else {
                        int64_t index_primexp_179423 = add64(defunc_0_merge_pipeline_res_174490, k_176638);
                        
                        index_concat_branch_179420 = index_primexp_179423;
                    }
                    
                    int32_t index_concat_branch_179424;
                    
                    if (index_concat_cmp_179418) {
                        int64_t index_concat_i_179425 = sub64(k_176638, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
                        int64_t slice_179426 = defunc_0_merge_pipeline_res_174491 + index_concat_i_179425;
                        int32_t index_concat_179427 = ((int32_t *) b_list_mem_179987.mem)[slice_179426];
                        
                        index_concat_branch_179424 = index_concat_179427;
                    } else {
                        int64_t slice_179428 = defunc_0_merge_pipeline_res_174490 + k_176638;
                        int32_t index_concat_179429 = ((int32_t *) a_list_mem_179986.mem)[slice_179428];
                        
                        index_concat_branch_179424 = index_concat_179429;
                    }
                    lifted_lambda_res_176640 = index_concat_branch_179419;
                    lifted_lambda_res_176641 = index_concat_branch_179420;
                    lifted_lambda_res_176642 = index_concat_branch_179424;
                } else {
                    lifted_lambda_res_176640 = defunc_0_reduce_res_179640;
                    lifted_lambda_res_176641 = defunc_0_reduce_res_179641;
                    lifted_lambda_res_176642 = defunc_0_reduce_res_179642;
                }
                ((int8_t *) mem_180805)[i_179804] = lifted_lambda_res_176640;
                ((int64_t *) mem_180807)[i_179804] = lifted_lambda_res_176641;
                ((int32_t *) mem_180809)[i_179804] = lifted_lambda_res_176642;
            }
            if (!cond_176622) {
                for (int64_t i_176655 = 0; i_176655 < distance_176625; i_176655++) {
                    int64_t gt_arg1_176659 = add64((int64_t) 1, i_176655);
                    bool x_176660 = sle64((int64_t) 0, gt_arg1_176659);
                    bool y_176661 = slt64(gt_arg1_176659, block_sizze_176580);
                    bool bounds_check_176662 = x_176660 && y_176661;
                    bool index_certs_176663;
                    
                    if (!bounds_check_176662) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176659, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_176667 = slt64(i_176655, block_sizze_176580);
                    bool index_certs_176668;
                    
                    if (!y_176667) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176655, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_176664 = ((int8_t *) mem_180805)[gt_arg1_176659];
                    int64_t gt_arg1_176665 = ((int64_t *) mem_180807)[gt_arg1_176659];
                    int32_t gt_arg1_176666 = ((int32_t *) mem_180809)[gt_arg1_176659];
                    int8_t gt_arg0_176669 = ((int8_t *) mem_180805)[i_176655];
                    int64_t gt_arg0_176670 = ((int64_t *) mem_180807)[i_176655];
                    int32_t gt_arg0_176671 = ((int32_t *) mem_180809)[i_176655];
                    bool cond_176672 = gt_arg0_176669 == gt_arg1_176664;
                    bool defunc_0_leq_res_t_res_176673 = sle64(gt_arg0_176670, gt_arg1_176665);
                    bool defunc_0_leq_res_176674 = sle32(gt_arg0_176671, gt_arg1_176666);
                    bool x_176675 = cond_176672 && defunc_0_leq_res_t_res_176673;
                    bool x_176676 = !cond_176672;
                    bool y_176677 = defunc_0_leq_res_176674 && x_176676;
                    bool defunc_0_leq_res_176678 = x_176675 || y_176677;
                    bool defunc_0_lifted_gt_res_176679 = !defunc_0_leq_res_176678;
                    bool s_176680;
                    int64_t s_176684;
                    bool loop_while_176685;
                    int64_t j_176689;
                    
                    loop_while_176685 = defunc_0_lifted_gt_res_176679;
                    j_176689 = i_176655;
                    while (loop_while_176685) {
                        bool x_176690 = sle64((int64_t) 0, j_176689);
                        bool y_176691 = slt64(j_176689, block_sizze_176580);
                        bool bounds_check_176692 = x_176690 && y_176691;
                        bool index_certs_176693;
                        
                        if (!bounds_check_176692) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176689, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_176697 = add64((int64_t) 1, j_176689);
                        bool x_176698 = sle64((int64_t) 0, copy_arg0_176697);
                        bool y_176699 = slt64(copy_arg0_176697, block_sizze_176580);
                        bool bounds_check_176700 = x_176698 && y_176699;
                        bool index_certs_176701;
                        
                        if (!bounds_check_176700) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_176697, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_176694 = ((int8_t *) mem_180805)[j_176689];
                        int64_t copy_arg0_176695 = ((int64_t *) mem_180807)[j_176689];
                        int32_t copy_arg0_176696 = ((int32_t *) mem_180809)[j_176689];
                        int8_t copy_arg0_176702 = ((int8_t *) mem_180805)[copy_arg0_176697];
                        int64_t copy_arg0_176703 = ((int64_t *) mem_180807)[copy_arg0_176697];
                        int32_t copy_arg0_176704 = ((int32_t *) mem_180809)[copy_arg0_176697];
                        
                        ((int8_t *) mem_180805)[j_176689] = copy_arg0_176702;
                        ((int64_t *) mem_180807)[j_176689] = copy_arg0_176703;
                        ((int32_t *) mem_180809)[j_176689] = copy_arg0_176704;
                        ((int8_t *) mem_180805)[copy_arg0_176697] = copy_arg0_176694;
                        ((int64_t *) mem_180807)[copy_arg0_176697] = copy_arg0_176695;
                        ((int32_t *) mem_180809)[copy_arg0_176697] = copy_arg0_176696;
                        
                        int64_t tmp_176711 = sub64(j_176689, (int64_t) 1);
                        bool cond_176712 = sle64((int64_t) 0, tmp_176711);
                        bool loop_cond_176713;
                        
                        if (cond_176712) {
                            bool y_179433 = slt64(tmp_176711, block_sizze_176580);
                            bool bounds_check_179434 = cond_176712 && y_179433;
                            bool index_certs_179435;
                            
                            if (!bounds_check_179434) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176711, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_179430 = ((int8_t *) mem_180805)[j_176689];
                            int64_t gt_arg1_179431 = ((int64_t *) mem_180807)[j_176689];
                            int32_t gt_arg1_179432 = ((int32_t *) mem_180809)[j_176689];
                            int8_t gt_arg0_179436 = ((int8_t *) mem_180805)[tmp_176711];
                            int64_t gt_arg0_179437 = ((int64_t *) mem_180807)[tmp_176711];
                            int32_t gt_arg0_179438 = ((int32_t *) mem_180809)[tmp_176711];
                            bool cond_179439 = gt_arg0_179436 == gt_arg1_179430;
                            bool defunc_0_leq_res_t_res_179440 = sle64(gt_arg0_179437, gt_arg1_179431);
                            bool defunc_0_leq_res_179441 = sle32(gt_arg0_179438, gt_arg1_179432);
                            bool x_179442 = cond_179439 && defunc_0_leq_res_t_res_179440;
                            bool x_179443 = !cond_179439;
                            bool y_179444 = defunc_0_leq_res_179441 && x_179443;
                            bool defunc_0_leq_res_179445 = x_179442 || y_179444;
                            bool defunc_0_lifted_gt_res_179446 = !defunc_0_leq_res_179445;
                            
                            loop_cond_176713 = defunc_0_lifted_gt_res_179446;
                        } else {
                            loop_cond_176713 = 0;
                        }
                        
                        bool loop_while_tmp_181617 = loop_cond_176713;
                        int64_t j_tmp_181621 = tmp_176711;
                        
                        loop_while_176685 = loop_while_tmp_181617;
                        j_176689 = j_tmp_181621;
                    }
                    s_176680 = loop_while_176685;
                    s_176684 = j_176689;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180786, i_179814 * block_sizze_176580, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180805, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176580});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180789, i_179814 * block_sizze_176580, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180807, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176580});
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180792, i_179814 * block_sizze_176580, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180809, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176580});
        }
        if (memblock_alloc(ctx, &mem_180886, flat_dim_176581, "mem_180886")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180886.mem, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (uint8_t *) mem_180786, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176570, block_sizze_176580});
        if (memblock_alloc(ctx, &mem_180890, bytes_180788, "mem_180890")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180890.mem, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (uint64_t *) mem_180789, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176570, block_sizze_176580});
        if (memblock_alloc(ctx, &mem_180894, bytes_180791, "mem_180894")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_180894.mem, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (uint32_t *) mem_180792, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176570, block_sizze_176580});
        
        int64_t data_176737;
        bool data_176738;
        int64_t data_176742;
        int64_t loop_dz2084Uz2082U_176743;
        bool loop_while_176744;
        int64_t stride_176748;
        
        if (memblock_set(ctx, &mem_param_180898, &mem_180886, "mem_180886") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180901, &mem_180890, "mem_180890") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180904, &mem_180894, "mem_180894") != 0)
            return 1;
        loop_dz2084Uz2082U_176743 = flat_dim_176581;
        loop_while_176744 = loop_cond_176734;
        stride_176748 = block_sizze_176580;
        while (loop_while_176744) {
            int64_t next_stride_176749 = mul64((int64_t) 2, stride_176748);
            bool zzero_176750 = next_stride_176749 == (int64_t) 0;
            bool nonzzero_176751 = !zzero_176750;
            bool nonzzero_cert_176752;
            
            if (!nonzzero_176751) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_176753 = sdiv64(flat_dim_176581, next_stride_176749);
            bool bounds_invalid_upwards_176754 = slt64(num_merges_176753, (int64_t) 0);
            bool valid_176755 = !bounds_invalid_upwards_176754;
            bool range_valid_c_176756;
            
            if (!valid_176755) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_176753, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_176758 = sub64(next_stride_176749, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_176759 = sle64((int64_t) 0, m_176758);
            bool cond_176761 = slt64(next_stride_176749, (int64_t) 10);
            bool protect_assert_disj_176762 = nonzzero_176736 || cond_176761;
            bool nonzzero_cert_176763;
            
            if (!protect_assert_disj_176762) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_176764 = smod_safe64(next_stride_176749, merge_block_sizze_176586);
            bool num_blocks_176765 = zeze_lhs_176764 == (int64_t) 0;
            bool protect_assert_disj_176766 = cond_176761 || num_blocks_176765;
            bool assert_c_176767;
            
            if (!protect_assert_disj_176766) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_176769 = sdiv_safe64(next_stride_176749, merge_block_sizze_176586);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770 = add64((int64_t) 1, num_blocks_176769);
            int64_t j_m_i_176771 = sub64(next_stride_176749, stride_176748);
            int64_t flat_dim_176772 = merge_block_sizze_176586 * num_blocks_176769;
            bool bounds_invalid_upwards_176773 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770, (int64_t) 0);
            bool empty_slice_176774 = j_m_i_176771 == (int64_t) 0;
            int64_t m_176775 = sub64(j_m_i_176771, (int64_t) 1);
            bool zzero_lte_i_176776 = sle64((int64_t) 0, stride_176748);
            bool i_lte_j_176777 = sle64(stride_176748, next_stride_176749);
            bool empty_slice_176778 = stride_176748 == (int64_t) 0;
            int64_t m_176779 = sub64(stride_176748, (int64_t) 1);
            bool bounds_invalid_upwards_176780 = slt64(num_blocks_176769, (int64_t) 0);
            bool cond_176781 = slt64((int64_t) 0, stride_176748);
            bool valid_176782 = !bounds_invalid_upwards_176773;
            int64_t i_p_m_t_s_176783 = add64(stride_176748, m_176775);
            bool zzero_leq_i_p_m_t_s_176784 = sle64((int64_t) 0, m_176779);
            bool i_p_m_t_s_leq_w_176785 = slt64(m_176779, next_stride_176749);
            bool valid_176786 = !bounds_invalid_upwards_176780;
            bool i_p_m_t_s_leq_w_176787 = slt64(m_176758, flat_dim_176772);
            bool y_176788 = slt64((int64_t) 0, j_m_i_176771);
            bool protect_assert_disj_176789 = cond_176761 || valid_176782;
            bool range_valid_c_176790;
            
            if (!protect_assert_disj_176789) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_176791 = sle64((int64_t) 0, i_p_m_t_s_176783);
            bool i_p_m_t_s_leq_w_176792 = slt64(i_p_m_t_s_176783, next_stride_176749);
            bool y_176793 = zzero_leq_i_p_m_t_s_176784 && i_p_m_t_s_leq_w_176785;
            bool protect_assert_disj_176794 = cond_176761 || valid_176786;
            bool range_valid_c_176795;
            
            if (!protect_assert_disj_176794) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_176769, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_176796 = zzero_leq_i_p_m_t_s_176759 && i_p_m_t_s_leq_w_176787;
            bool y_176797 = zzero_lte_i_176776 && i_p_m_t_s_leq_w_176792;
            bool forwards_ok_176798 = zzero_lte_i_176776 && y_176793;
            bool ok_or_empty_176799 = zzero_176750 || y_176796;
            bool protect_assert_disj_176800 = cond_176781 || y_176788;
            bool y_176801 = zzero_leq_i_p_m_t_s_176791 && y_176797;
            bool ok_or_empty_176802 = empty_slice_176778 || forwards_ok_176798;
            bool protect_assert_disj_176803 = cond_176761 || ok_or_empty_176799;
            bool index_certs_176804;
            
            if (!protect_assert_disj_176803) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176749, "] out of bounds for array of shape [", (long long) flat_dim_176772, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_176805 = !cond_176761;
            bool protect_assert_disj_176806 = protect_assert_disj_176800 || loop_not_taken_176805;
            bool index_certs_176807;
            
            if (!protect_assert_disj_176806) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_176808 = i_lte_j_176777 && y_176801;
            bool protect_assert_disj_176809 = cond_176761 || ok_or_empty_176802;
            bool index_certs_176810;
            
            if (!protect_assert_disj_176809) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176748, "] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_176811 = ok_or_empty_176802 || loop_not_taken_176805;
            bool index_certs_176812;
            
            if (!protect_assert_disj_176811) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176748, "] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_176813 = empty_slice_176774 || forwards_ok_176808;
            bool protect_assert_disj_176814 = cond_176761 || ok_or_empty_176813;
            bool index_certs_176815;
            
            if (!protect_assert_disj_176814) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176748, ":] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_176816 = loop_not_taken_176805 || ok_or_empty_176813;
            bool index_certs_176817;
            
            if (!protect_assert_disj_176816) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176748, ":] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_180905 = next_stride_176749 * num_merges_176753;
            int64_t binop_x_180907 = (int64_t) 8 * num_merges_176753;
            int64_t bytes_180908 = next_stride_176749 * binop_x_180907;
            int64_t binop_x_180910 = (int64_t) 4 * num_merges_176753;
            int64_t bytes_180911 = next_stride_176749 * binop_x_180910;
            bool i_lte_j_176760 = sle64((int64_t) 0, next_stride_176749);
            
            if (mem_180906_cached_sizze_181878 < bytes_180905) {
                err = lexical_realloc(ctx, &mem_180906, &mem_180906_cached_sizze_181878, bytes_180905);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180909_cached_sizze_181879 < bytes_180908) {
                err = lexical_realloc(ctx, &mem_180909, &mem_180909_cached_sizze_181879, bytes_180908);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180912_cached_sizze_181880 < bytes_180911) {
                err = lexical_realloc(ctx, &mem_180912, &mem_180912_cached_sizze_181880, bytes_180911);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_180925 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770;
            int64_t binop_x_180943 = (int64_t) 8 * num_blocks_176769;
            int64_t bytes_180944 = merge_block_sizze_176586 * binop_x_180943;
            int64_t binop_x_180946 = (int64_t) 4 * num_blocks_176769;
            int64_t bytes_180947 = merge_block_sizze_176586 * binop_x_180946;
            int64_t bytes_181008 = (int64_t) 16 * stride_176748;
            int64_t bytes_181010 = (int64_t) 8 * stride_176748;
            
            for (int64_t i_179841 = 0; i_179841 < num_merges_176753; i_179841++) {
                int64_t start_176822 = mul64(next_stride_176749, i_179841);
                int64_t j_m_i_176823 = sub64(loop_dz2084Uz2082U_176743, start_176822);
                bool empty_slice_176824 = j_m_i_176823 == (int64_t) 0;
                int64_t m_176825 = sub64(j_m_i_176823, (int64_t) 1);
                int64_t i_p_m_t_s_176826 = add64(start_176822, m_176825);
                bool zzero_leq_i_p_m_t_s_176827 = sle64((int64_t) 0, i_p_m_t_s_176826);
                bool i_p_m_t_s_leq_w_176828 = slt64(i_p_m_t_s_176826, loop_dz2084Uz2082U_176743);
                bool zzero_lte_i_176829 = sle64((int64_t) 0, start_176822);
                bool i_lte_j_176830 = sle64(start_176822, loop_dz2084Uz2082U_176743);
                bool y_176831 = i_p_m_t_s_leq_w_176828 && zzero_lte_i_176829;
                bool y_176832 = zzero_leq_i_p_m_t_s_176827 && y_176831;
                bool forwards_ok_176833 = i_lte_j_176830 && y_176832;
                bool ok_or_empty_176834 = empty_slice_176824 || forwards_ok_176833;
                bool index_certs_176835;
                
                if (!ok_or_empty_176834) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_176822, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_176743, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_176836 = slt64(m_176758, j_m_i_176823);
                bool y_176837 = zzero_leq_i_p_m_t_s_176759 && i_p_m_t_s_leq_w_176836;
                bool forwards_ok_176838 = i_lte_j_176760 && y_176837;
                bool ok_or_empty_176839 = zzero_176750 || forwards_ok_176838;
                bool index_certs_176840;
                
                if (!ok_or_empty_176839) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176749, "] out of bounds for array of shape [", (long long) j_m_i_176823, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_176761) {
                    int8_t dummy_179485;
                    int64_t dummy_179486;
                    int32_t dummy_179487;
                    
                    if (cond_176781) {
                        int8_t head_res_179488 = ((int8_t *) mem_param_180898.mem)[start_176822];
                        int64_t head_res_179489 = ((int64_t *) mem_param_180901.mem)[start_176822];
                        int32_t head_res_179490 = ((int32_t *) mem_param_180904.mem)[start_176822];
                        
                        dummy_179485 = head_res_179488;
                        dummy_179486 = head_res_179489;
                        dummy_179487 = head_res_179490;
                    } else {
                        int64_t slice_179491 = stride_176748 + start_176822;
                        int8_t head_res_179492 = ((int8_t *) mem_param_180898.mem)[slice_179491];
                        int64_t head_res_179493 = ((int64_t *) mem_param_180901.mem)[slice_179491];
                        int32_t head_res_179494 = ((int32_t *) mem_param_180904.mem)[slice_179491];
                        
                        dummy_179485 = head_res_179492;
                        dummy_179486 = head_res_179493;
                        dummy_179487 = head_res_179494;
                    }
                    if (memblock_alloc(ctx, &mem_181007, next_stride_176749, "mem_181007")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181634 = 0; nest_i_181634 < next_stride_176749; nest_i_181634++) {
                        ((int8_t *) mem_181007.mem)[nest_i_181634] = dummy_179485;
                    }
                    if (memblock_alloc(ctx, &mem_181009, bytes_181008, "mem_181009")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181635 = 0; nest_i_181635 < next_stride_176749; nest_i_181635++) {
                        ((int64_t *) mem_181009.mem)[nest_i_181635] = dummy_179486;
                    }
                    if (memblock_alloc(ctx, &mem_181011, bytes_181010, "mem_181011")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181636 = 0; nest_i_181636 < next_stride_176749; nest_i_181636++) {
                        ((int32_t *) mem_181011.mem)[nest_i_181636] = dummy_179487;
                    }
                    
                    int64_t data_179498;
                    int64_t i_179503 = (int64_t) 0;
                    
                    for (int64_t k_179502 = 0; k_179502 < next_stride_176749; k_179502++) {
                        int64_t j_179507 = sub64(k_179502, i_179503);
                        bool cond_179508 = j_179507 == j_m_i_176771;
                        bool cond_179509;
                        
                        if (cond_179508) {
                            cond_179509 = 1;
                        } else {
                            bool cond_179510 = slt64(i_179503, stride_176748);
                            bool cond_f_res_179511;
                            
                            if (cond_179510) {
                                bool x_179512 = sle64((int64_t) 0, j_179507);
                                bool y_179513 = slt64(j_179507, j_m_i_176771);
                                bool bounds_check_179514 = x_179512 && y_179513;
                                bool index_certs_179515;
                                
                                if (!bounds_check_179514) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179507, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179521 = sle64((int64_t) 0, i_179503);
                                bool bounds_check_179522 = cond_179510 && x_179521;
                                bool index_certs_179523;
                                
                                if (!bounds_check_179522) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179503, "] out of bounds for array of shape [", (long long) stride_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_179516 = stride_176748 + j_179507;
                                int64_t slice_179517 = start_176822 + slice_179516;
                                int8_t leq_arg1_179518 = ((int8_t *) mem_param_180898.mem)[slice_179517];
                                int64_t leq_arg1_179519 = ((int64_t *) mem_param_180901.mem)[slice_179517];
                                int32_t leq_arg1_179520 = ((int32_t *) mem_param_180904.mem)[slice_179517];
                                int64_t slice_179524 = start_176822 + i_179503;
                                int8_t leq_arg0_179525 = ((int8_t *) mem_param_180898.mem)[slice_179524];
                                int64_t leq_arg0_179526 = ((int64_t *) mem_param_180901.mem)[slice_179524];
                                int32_t leq_arg0_179527 = ((int32_t *) mem_param_180904.mem)[slice_179524];
                                bool cond_179528 = leq_arg0_179525 == leq_arg1_179518;
                                bool defunc_0_leq_res_t_res_179529 = sle64(leq_arg0_179526, leq_arg1_179519);
                                bool defunc_0_leq_res_179530 = sle32(leq_arg0_179527, leq_arg1_179520);
                                bool x_179531 = cond_179528 && defunc_0_leq_res_t_res_179529;
                                bool x_179532 = !cond_179528;
                                bool y_179533 = defunc_0_leq_res_179530 && x_179532;
                                bool defunc_0_leq_res_179534 = x_179531 || y_179533;
                                
                                cond_f_res_179511 = defunc_0_leq_res_179534;
                            } else {
                                cond_f_res_179511 = 0;
                            }
                            cond_179509 = cond_f_res_179511;
                        }
                        
                        int64_t loopres_179535;
                        int8_t loopres_179536;
                        int64_t loopres_179537;
                        int32_t loopres_179538;
                        
                        if (cond_179509) {
                            bool x_179540 = sle64((int64_t) 0, i_179503);
                            bool y_179541 = slt64(i_179503, stride_176748);
                            bool bounds_check_179542 = x_179540 && y_179541;
                            bool index_certs_179543;
                            
                            if (!bounds_check_179542) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179503, "] out of bounds for array of shape [", (long long) stride_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_179539 = add64((int64_t) 1, i_179503);
                            int64_t slice_179544 = start_176822 + i_179503;
                            int8_t tmp_179545 = ((int8_t *) mem_param_180898.mem)[slice_179544];
                            int64_t tmp_179546 = ((int64_t *) mem_param_180901.mem)[slice_179544];
                            int32_t tmp_179547 = ((int32_t *) mem_param_180904.mem)[slice_179544];
                            
                            loopres_179535 = tmp_179539;
                            loopres_179536 = tmp_179545;
                            loopres_179537 = tmp_179546;
                            loopres_179538 = tmp_179547;
                        } else {
                            bool x_179548 = sle64((int64_t) 0, j_179507);
                            bool y_179549 = slt64(j_179507, j_m_i_176771);
                            bool bounds_check_179550 = x_179548 && y_179549;
                            bool index_certs_179551;
                            
                            if (!bounds_check_179550) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179507, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_179552 = stride_176748 + j_179507;
                            int64_t slice_179553 = start_176822 + slice_179552;
                            int8_t tmp_179554 = ((int8_t *) mem_param_180898.mem)[slice_179553];
                            int64_t tmp_179555 = ((int64_t *) mem_param_180901.mem)[slice_179553];
                            int32_t tmp_179556 = ((int32_t *) mem_param_180904.mem)[slice_179553];
                            
                            loopres_179535 = i_179503;
                            loopres_179536 = tmp_179554;
                            loopres_179537 = tmp_179555;
                            loopres_179538 = tmp_179556;
                        }
                        ((int8_t *) mem_181007.mem)[k_179502] = loopres_179536;
                        ((int64_t *) mem_181009.mem)[k_179502] = loopres_179537;
                        ((int32_t *) mem_181011.mem)[k_179502] = loopres_179538;
                        
                        int64_t i_tmp_181637 = loopres_179535;
                        
                        i_179503 = i_tmp_181637;
                    }
                    data_179498 = i_179503;
                    if (memblock_set(ctx, &ext_mem_181038, &mem_181007, "mem_181007") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181035, &mem_181009, "mem_181009") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181032, &mem_181011, "mem_181011") != 0)
                        return 1;
                } else {
                    if (mem_180926_cached_sizze_181881 < bytes_180925) {
                        err = lexical_realloc(ctx, &mem_180926, &mem_180926_cached_sizze_181881, bytes_180925);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180928_cached_sizze_181882 < bytes_180925) {
                        err = lexical_realloc(ctx, &mem_180928, &mem_180928_cached_sizze_181882, bytes_180925);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179822 = 0; i_179822 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770; i_179822++) {
                        int64_t split_count_arg3_176923 = mul64(merge_block_sizze_176586, i_179822);
                        int64_t defunc_0_split_count_res_176924;
                        int64_t defunc_0_split_count_res_176925;
                        int64_t defunc_0_split_count_res_176926;
                        int64_t defunc_0_split_count_res_176927;
                        int64_t defunc_0_split_count_res_176928;
                        
                        if (futrts_lifted_normalizze_8970(ctx, &defunc_0_split_count_res_176924, &defunc_0_split_count_res_176925, &defunc_0_split_count_res_176926, &defunc_0_split_count_res_176927, &defunc_0_split_count_res_176928, (int64_t) 0, stride_176748, (int64_t) 0, j_m_i_176771, split_count_arg3_176923) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_176929 = slt64((int64_t) 0, defunc_0_split_count_res_176928);
                        bool defunc_0_split_count_res_176930;
                        int64_t defunc_0_split_count_res_176931;
                        int64_t defunc_0_split_count_res_176932;
                        int64_t defunc_0_split_count_res_176933;
                        int64_t defunc_0_split_count_res_176934;
                        int64_t defunc_0_split_count_res_176935;
                        bool loop_while_176936;
                        int64_t ss_176937;
                        int64_t ss_176938;
                        int64_t tt_176939;
                        int64_t tt_176940;
                        int64_t count_176941;
                        
                        loop_while_176936 = loop_cond_176929;
                        ss_176937 = defunc_0_split_count_res_176924;
                        ss_176938 = defunc_0_split_count_res_176925;
                        tt_176939 = defunc_0_split_count_res_176926;
                        tt_176940 = defunc_0_split_count_res_176927;
                        count_176941 = defunc_0_split_count_res_176928;
                        while (loop_while_176936) {
                            int64_t zlze_lhs_176942 = sub64(ss_176938, ss_176937);
                            bool cond_176943 = sle64(zlze_lhs_176942, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_176944;
                            int64_t defunc_0_lifted_step_res_176945;
                            int64_t defunc_0_lifted_step_res_176946;
                            int64_t defunc_0_lifted_step_res_176947;
                            
                            if (cond_176943) {
                                int64_t tmp_179560 = add64(tt_176939, count_176941);
                                
                                defunc_0_lifted_step_res_176944 = ss_176937;
                                defunc_0_lifted_step_res_176945 = tmp_179560;
                                defunc_0_lifted_step_res_176946 = tt_176940;
                                defunc_0_lifted_step_res_176947 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_176949 = sub64(tt_176940, tt_176939);
                                bool cond_176950 = sle64(zlze_lhs_176949, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_176951;
                                int64_t defunc_0_lifted_step_res_f_res_176952;
                                int64_t defunc_0_lifted_step_res_f_res_176953;
                                int64_t defunc_0_lifted_step_res_f_res_176954;
                                
                                if (cond_176950) {
                                    int64_t tmp_179561 = add64(ss_176937, count_176941);
                                    
                                    defunc_0_lifted_step_res_f_res_176951 = tmp_179561;
                                    defunc_0_lifted_step_res_f_res_176952 = tt_176939;
                                    defunc_0_lifted_step_res_f_res_176953 = tt_176940;
                                    defunc_0_lifted_step_res_f_res_176954 = (int64_t) 0;
                                } else {
                                    bool cond_176956 = count_176941 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_176957;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_176958;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_176959;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_176960;
                                    
                                    if (cond_176956) {
                                        bool x_179563 = sle64((int64_t) 0, ss_176937);
                                        bool y_179564 = slt64(ss_176937, stride_176748);
                                        bool bounds_check_179565 = x_179563 && y_179564;
                                        bool index_certs_179566;
                                        
                                        if (!bounds_check_179565) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_176937, "] out of bounds for array of shape [", (long long) stride_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179571 = sle64((int64_t) 0, tt_176939);
                                        bool y_179572 = slt64(tt_176939, j_m_i_176771);
                                        bool bounds_check_179573 = x_179571 && y_179572;
                                        bool index_certs_179574;
                                        
                                        if (!bounds_check_179573) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_176939, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179567 = start_176822 + ss_176937;
                                        int8_t leq_arg1_179568 = ((int8_t *) mem_param_180898.mem)[slice_179567];
                                        int64_t leq_arg1_179569 = ((int64_t *) mem_param_180901.mem)[slice_179567];
                                        int32_t leq_arg1_179570 = ((int32_t *) mem_param_180904.mem)[slice_179567];
                                        int64_t slice_179575 = stride_176748 + tt_176939;
                                        int64_t slice_179576 = start_176822 + slice_179575;
                                        int8_t leq_arg0_179577 = ((int8_t *) mem_param_180898.mem)[slice_179576];
                                        int64_t leq_arg0_179578 = ((int64_t *) mem_param_180901.mem)[slice_179576];
                                        int32_t leq_arg0_179579 = ((int32_t *) mem_param_180904.mem)[slice_179576];
                                        bool cond_179580 = leq_arg0_179577 == leq_arg1_179568;
                                        bool defunc_0_leq_res_t_res_179581 = sle64(leq_arg0_179578, leq_arg1_179569);
                                        bool defunc_0_leq_res_179582 = sle32(leq_arg0_179579, leq_arg1_179570);
                                        bool x_179583 = cond_179580 && defunc_0_leq_res_t_res_179581;
                                        bool x_179584 = !cond_179580;
                                        bool y_179585 = defunc_0_leq_res_179582 && x_179584;
                                        bool defunc_0_leq_res_179586 = x_179583 || y_179585;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179587;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179588;
                                        
                                        if (defunc_0_leq_res_179586) {
                                            int64_t tmp_179589 = add64((int64_t) 1, tt_176939);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179587 = ss_176937;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179588 = tmp_179589;
                                        } else {
                                            int64_t tmp_179590 = add64((int64_t) 1, ss_176937);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179587 = tmp_179590;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179588 = tt_176939;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_176957 = defunc_0_lifted_step_res_f_res_f_res_t_res_179587;
                                        defunc_0_lifted_step_res_f_res_f_res_176958 = defunc_0_lifted_step_res_f_res_f_res_t_res_179588;
                                        defunc_0_lifted_step_res_f_res_f_res_176959 = tt_176940;
                                        defunc_0_lifted_step_res_f_res_f_res_176960 = (int64_t) 0;
                                    } else {
                                        int64_t m_176989 = sdiv64(count_176941, (int64_t) 2);
                                        int64_t n_176990 = sub64(count_176941, m_176989);
                                        bool cond_176991 = n_176990 == (int64_t) 0;
                                        int64_t zgze_lhs_176992 = add64(ss_176937, m_176989);
                                        bool cond_f_res_176993 = sle64(ss_176938, zgze_lhs_176992);
                                        bool x_176994 = !cond_176991;
                                        bool y_176995 = cond_f_res_176993 && x_176994;
                                        bool cond_176996 = cond_176991 || y_176995;
                                        bool leq_y_x_176997;
                                        
                                        if (cond_176996) {
                                            leq_y_x_176997 = 1;
                                        } else {
                                            bool x_176998 = sle64((int64_t) 0, zgze_lhs_176992);
                                            bool y_176999 = slt64(zgze_lhs_176992, stride_176748);
                                            bool bounds_check_177000 = x_176998 && y_176999;
                                            bool index_certs_177001;
                                            
                                            if (!bounds_check_177000) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_176992, "] out of bounds for array of shape [", (long long) stride_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_177006 = add64(tt_176939, n_176990);
                                            int64_t leq_arg0_177007 = sub64(zm_lhs_177006, (int64_t) 1);
                                            bool x_177008 = sle64((int64_t) 0, leq_arg0_177007);
                                            bool y_177009 = slt64(leq_arg0_177007, j_m_i_176771);
                                            bool bounds_check_177010 = x_177008 && y_177009;
                                            bool index_certs_177011;
                                            
                                            if (!bounds_check_177010) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177007, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177002 = start_176822 + zgze_lhs_176992;
                                            int8_t leq_arg1_177003 = ((int8_t *) mem_param_180898.mem)[slice_177002];
                                            int64_t leq_arg1_177004 = ((int64_t *) mem_param_180901.mem)[slice_177002];
                                            int32_t leq_arg1_177005 = ((int32_t *) mem_param_180904.mem)[slice_177002];
                                            int64_t slice_177012 = stride_176748 + leq_arg0_177007;
                                            int64_t slice_177013 = start_176822 + slice_177012;
                                            int8_t leq_arg0_177014 = ((int8_t *) mem_param_180898.mem)[slice_177013];
                                            int64_t leq_arg0_177015 = ((int64_t *) mem_param_180901.mem)[slice_177013];
                                            int32_t leq_arg0_177016 = ((int32_t *) mem_param_180904.mem)[slice_177013];
                                            bool cond_177017 = leq_arg0_177014 == leq_arg1_177003;
                                            bool defunc_0_leq_res_t_res_177018 = sle64(leq_arg0_177015, leq_arg1_177004);
                                            bool defunc_0_leq_res_177019 = sle32(leq_arg0_177016, leq_arg1_177005);
                                            bool x_177020 = cond_177017 && defunc_0_leq_res_t_res_177018;
                                            bool x_177021 = !cond_177017;
                                            bool y_177022 = defunc_0_leq_res_177019 && x_177021;
                                            bool defunc_0_leq_res_177023 = x_177020 || y_177022;
                                            
                                            leq_y_x_176997 = defunc_0_leq_res_177023;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177024;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177025;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177026;
                                        
                                        if (leq_y_x_176997) {
                                            int64_t tmp_179591 = add64(tt_176939, n_176990);
                                            int64_t tmp_179592 = sub64(count_176941, n_176990);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177024 = tmp_179591;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177025 = tt_176940;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177026 = tmp_179592;
                                        } else {
                                            int64_t tmp_177029 = add64(tt_176939, n_176990);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177024 = tt_176939;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177025 = tmp_177029;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177026 = count_176941;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_176957 = ss_176937;
                                        defunc_0_lifted_step_res_f_res_f_res_176958 = defunc_0_lifted_step_res_f_res_f_res_f_res_177024;
                                        defunc_0_lifted_step_res_f_res_f_res_176959 = defunc_0_lifted_step_res_f_res_f_res_f_res_177025;
                                        defunc_0_lifted_step_res_f_res_f_res_176960 = defunc_0_lifted_step_res_f_res_f_res_f_res_177026;
                                    }
                                    defunc_0_lifted_step_res_f_res_176951 = defunc_0_lifted_step_res_f_res_f_res_176957;
                                    defunc_0_lifted_step_res_f_res_176952 = defunc_0_lifted_step_res_f_res_f_res_176958;
                                    defunc_0_lifted_step_res_f_res_176953 = defunc_0_lifted_step_res_f_res_f_res_176959;
                                    defunc_0_lifted_step_res_f_res_176954 = defunc_0_lifted_step_res_f_res_f_res_176960;
                                }
                                defunc_0_lifted_step_res_176944 = defunc_0_lifted_step_res_f_res_176951;
                                defunc_0_lifted_step_res_176945 = defunc_0_lifted_step_res_f_res_176952;
                                defunc_0_lifted_step_res_176946 = defunc_0_lifted_step_res_f_res_176953;
                                defunc_0_lifted_step_res_176947 = defunc_0_lifted_step_res_f_res_176954;
                            }
                            
                            int64_t loopres_177030;
                            int64_t loopres_177031;
                            int64_t loopres_177032;
                            int64_t loopres_177033;
                            int64_t loopres_177034;
                            
                            if (futrts_lifted_normalizze_8970(ctx, &loopres_177030, &loopres_177031, &loopres_177032, &loopres_177033, &loopres_177034, defunc_0_lifted_step_res_176944, ss_176938, defunc_0_lifted_step_res_176945, defunc_0_lifted_step_res_176946, defunc_0_lifted_step_res_176947) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_177035 = slt64((int64_t) 0, loopres_177034);
                            bool loop_while_tmp_181643 = loop_cond_177035;
                            int64_t ss_tmp_181644 = loopres_177030;
                            int64_t ss_tmp_181645 = loopres_177031;
                            int64_t tt_tmp_181646 = loopres_177032;
                            int64_t tt_tmp_181647 = loopres_177033;
                            int64_t count_tmp_181648 = loopres_177034;
                            
                            loop_while_176936 = loop_while_tmp_181643;
                            ss_176937 = ss_tmp_181644;
                            ss_176938 = ss_tmp_181645;
                            tt_176939 = tt_tmp_181646;
                            tt_176940 = tt_tmp_181647;
                            count_176941 = count_tmp_181648;
                        }
                        defunc_0_split_count_res_176930 = loop_while_176936;
                        defunc_0_split_count_res_176931 = ss_176937;
                        defunc_0_split_count_res_176932 = ss_176938;
                        defunc_0_split_count_res_176933 = tt_176939;
                        defunc_0_split_count_res_176934 = tt_176940;
                        defunc_0_split_count_res_176935 = count_176941;
                        ((int64_t *) mem_180926)[i_179822] = defunc_0_split_count_res_176931;
                        ((int64_t *) mem_180928)[i_179822] = defunc_0_split_count_res_176933;
                    }
                    if (mem_180942_cached_sizze_181883 < flat_dim_176772) {
                        err = lexical_realloc(ctx, &mem_180942, &mem_180942_cached_sizze_181883, flat_dim_176772);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180945_cached_sizze_181884 < bytes_180944) {
                        err = lexical_realloc(ctx, &mem_180945, &mem_180945_cached_sizze_181884, bytes_180944);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180948_cached_sizze_181885 < bytes_180947) {
                        err = lexical_realloc(ctx, &mem_180948, &mem_180948_cached_sizze_181885, bytes_180947);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179831 = 0; i_179831 < num_blocks_176769; i_179831++) {
                        bool y_177042 = slt64(i_179831, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770);
                        bool index_certs_177044;
                        
                        if (!y_177042) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179831, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177045 = ((int64_t *) mem_180926)[i_179831];
                        int64_t defunc_0_f_res_177046 = ((int64_t *) mem_180928)[i_179831];
                        int64_t tmp_177047 = add64((int64_t) 1, i_179831);
                        bool x_177048 = sle64((int64_t) 0, tmp_177047);
                        bool y_177049 = slt64(tmp_177047, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770);
                        bool bounds_check_177050 = x_177048 && y_177049;
                        bool index_certs_177051;
                        
                        if (!bounds_check_177050) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177047, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177052 = ((int64_t *) mem_180926)[tmp_177047];
                        int64_t defunc_0_f_res_177053 = ((int64_t *) mem_180928)[tmp_177047];
                        int64_t merge_sequential_arg2_177054 = add64(stride_176748, defunc_0_f_res_177046);
                        int64_t merge_sequential_arg2_177055 = add64(stride_176748, defunc_0_f_res_177053);
                        int64_t j_m_i_177056 = sub64(merge_sequential_arg2_177055, merge_sequential_arg2_177054);
                        bool empty_slice_177057 = j_m_i_177056 == (int64_t) 0;
                        int64_t m_177058 = sub64(j_m_i_177056, (int64_t) 1);
                        int64_t i_p_m_t_s_177059 = add64(merge_sequential_arg2_177054, m_177058);
                        bool zzero_leq_i_p_m_t_s_177060 = sle64((int64_t) 0, i_p_m_t_s_177059);
                        bool i_p_m_t_s_leq_w_177061 = slt64(i_p_m_t_s_177059, next_stride_176749);
                        bool zzero_lte_i_177062 = sle64((int64_t) 0, merge_sequential_arg2_177054);
                        bool i_lte_j_177063 = sle64(merge_sequential_arg2_177054, merge_sequential_arg2_177055);
                        bool y_177064 = i_p_m_t_s_leq_w_177061 && zzero_lte_i_177062;
                        bool y_177065 = zzero_leq_i_p_m_t_s_177060 && y_177064;
                        bool forwards_ok_177066 = i_lte_j_177063 && y_177065;
                        bool ok_or_empty_177067 = empty_slice_177057 || forwards_ok_177066;
                        bool index_certs_177068;
                        
                        if (!ok_or_empty_177067) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177054, ":", (long long) merge_sequential_arg2_177055, "] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_177069 = sub64(defunc_0_f_res_177052, defunc_0_f_res_177045);
                        bool empty_slice_177070 = j_m_i_177069 == (int64_t) 0;
                        int64_t m_177071 = sub64(j_m_i_177069, (int64_t) 1);
                        int64_t i_p_m_t_s_177072 = add64(defunc_0_f_res_177045, m_177071);
                        bool zzero_leq_i_p_m_t_s_177073 = sle64((int64_t) 0, i_p_m_t_s_177072);
                        bool i_p_m_t_s_leq_w_177074 = slt64(i_p_m_t_s_177072, next_stride_176749);
                        bool zzero_lte_i_177075 = sle64((int64_t) 0, defunc_0_f_res_177045);
                        bool i_lte_j_177076 = sle64(defunc_0_f_res_177045, defunc_0_f_res_177052);
                        bool y_177077 = i_p_m_t_s_leq_w_177074 && zzero_lte_i_177075;
                        bool y_177078 = zzero_leq_i_p_m_t_s_177073 && y_177077;
                        bool forwards_ok_177079 = i_lte_j_177076 && y_177078;
                        bool ok_or_empty_177080 = empty_slice_177070 || forwards_ok_177079;
                        bool index_certs_177081;
                        
                        if (!ok_or_empty_177080) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177045, ":", (long long) defunc_0_f_res_177052, "] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_177082 = slt64((int64_t) 0, j_m_i_177069);
                        int8_t dummy_177083;
                        int64_t dummy_177084;
                        int32_t dummy_177085;
                        
                        if (cond_177082) {
                            bool index_certs_179593;
                            
                            if (!cond_177082) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177069, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_179594 = start_176822 + defunc_0_f_res_177045;
                            int8_t head_res_179595 = ((int8_t *) mem_param_180898.mem)[slice_179594];
                            int64_t head_res_179596 = ((int64_t *) mem_param_180901.mem)[slice_179594];
                            int32_t head_res_179597 = ((int32_t *) mem_param_180904.mem)[slice_179594];
                            
                            dummy_177083 = head_res_179595;
                            dummy_177084 = head_res_179596;
                            dummy_177085 = head_res_179597;
                        } else {
                            bool y_177091 = slt64((int64_t) 0, j_m_i_177056);
                            bool index_certs_177092;
                            
                            if (!y_177091) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177056, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177093 = start_176822 + merge_sequential_arg2_177054;
                            int8_t head_res_177094 = ((int8_t *) mem_param_180898.mem)[slice_177093];
                            int64_t head_res_177095 = ((int64_t *) mem_param_180901.mem)[slice_177093];
                            int32_t head_res_177096 = ((int32_t *) mem_param_180904.mem)[slice_177093];
                            
                            dummy_177083 = head_res_177094;
                            dummy_177084 = head_res_177095;
                            dummy_177085 = head_res_177096;
                        }
                        for (int64_t nest_i_181652 = 0; nest_i_181652 < merge_block_sizze_176586; nest_i_181652++) {
                            ((int8_t *) mem_180942)[i_179831 * merge_block_sizze_176586 + nest_i_181652] = dummy_177083;
                        }
                        for (int64_t nest_i_181653 = 0; nest_i_181653 < merge_block_sizze_176586; nest_i_181653++) {
                            ((int64_t *) mem_180945)[i_179831 * merge_block_sizze_176586 + nest_i_181653] = dummy_177084;
                        }
                        for (int64_t nest_i_181654 = 0; nest_i_181654 < merge_block_sizze_176586; nest_i_181654++) {
                            ((int32_t *) mem_180948)[i_179831 * merge_block_sizze_176586 + nest_i_181654] = dummy_177085;
                        }
                        
                        int64_t data_177100;
                        int64_t i_177105 = (int64_t) 0;
                        
                        for (int64_t k_177104 = 0; k_177104 < merge_block_sizze_176586; k_177104++) {
                            int64_t j_177109 = sub64(k_177104, i_177105);
                            bool cond_177110 = j_177109 == j_m_i_177056;
                            bool cond_177111;
                            
                            if (cond_177110) {
                                cond_177111 = 1;
                            } else {
                                bool cond_177112 = slt64(i_177105, j_m_i_177069);
                                bool cond_f_res_177113;
                                
                                if (cond_177112) {
                                    bool x_179598 = sle64((int64_t) 0, j_177109);
                                    bool y_179599 = slt64(j_177109, j_m_i_177056);
                                    bool bounds_check_179600 = x_179598 && y_179599;
                                    bool index_certs_179601;
                                    
                                    if (!bounds_check_179600) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177109, "] out of bounds for array of shape [", (long long) j_m_i_177056, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_179607 = sle64((int64_t) 0, i_177105);
                                    bool bounds_check_179608 = cond_177112 && x_179607;
                                    bool index_certs_179609;
                                    
                                    if (!bounds_check_179608) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177105, "] out of bounds for array of shape [", (long long) j_m_i_177069, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179602 = merge_sequential_arg2_177054 + j_177109;
                                    int64_t slice_179603 = start_176822 + slice_179602;
                                    int8_t leq_arg1_179604 = ((int8_t *) mem_param_180898.mem)[slice_179603];
                                    int64_t leq_arg1_179605 = ((int64_t *) mem_param_180901.mem)[slice_179603];
                                    int32_t leq_arg1_179606 = ((int32_t *) mem_param_180904.mem)[slice_179603];
                                    int64_t slice_179610 = defunc_0_f_res_177045 + i_177105;
                                    int64_t slice_179611 = start_176822 + slice_179610;
                                    int8_t leq_arg0_179612 = ((int8_t *) mem_param_180898.mem)[slice_179611];
                                    int64_t leq_arg0_179613 = ((int64_t *) mem_param_180901.mem)[slice_179611];
                                    int32_t leq_arg0_179614 = ((int32_t *) mem_param_180904.mem)[slice_179611];
                                    bool cond_179615 = leq_arg0_179612 == leq_arg1_179604;
                                    bool defunc_0_leq_res_t_res_179616 = sle64(leq_arg0_179613, leq_arg1_179605);
                                    bool defunc_0_leq_res_179617 = sle32(leq_arg0_179614, leq_arg1_179606);
                                    bool x_179618 = cond_179615 && defunc_0_leq_res_t_res_179616;
                                    bool x_179619 = !cond_179615;
                                    bool y_179620 = defunc_0_leq_res_179617 && x_179619;
                                    bool defunc_0_leq_res_179621 = x_179618 || y_179620;
                                    
                                    cond_f_res_177113 = defunc_0_leq_res_179621;
                                } else {
                                    cond_f_res_177113 = 0;
                                }
                                cond_177111 = cond_f_res_177113;
                            }
                            
                            int64_t loopres_177138;
                            int8_t loopres_177139;
                            int64_t loopres_177140;
                            int32_t loopres_177141;
                            
                            if (cond_177111) {
                                bool x_179623 = sle64((int64_t) 0, i_177105);
                                bool y_179624 = slt64(i_177105, j_m_i_177069);
                                bool bounds_check_179625 = x_179623 && y_179624;
                                bool index_certs_179626;
                                
                                if (!bounds_check_179625) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177105, "] out of bounds for array of shape [", (long long) j_m_i_177069, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_179622 = add64((int64_t) 1, i_177105);
                                int64_t slice_179627 = defunc_0_f_res_177045 + i_177105;
                                int64_t slice_179628 = start_176822 + slice_179627;
                                int8_t tmp_179629 = ((int8_t *) mem_param_180898.mem)[slice_179628];
                                int64_t tmp_179630 = ((int64_t *) mem_param_180901.mem)[slice_179628];
                                int32_t tmp_179631 = ((int32_t *) mem_param_180904.mem)[slice_179628];
                                
                                loopres_177138 = tmp_179622;
                                loopres_177139 = tmp_179629;
                                loopres_177140 = tmp_179630;
                                loopres_177141 = tmp_179631;
                            } else {
                                bool x_177152 = sle64((int64_t) 0, j_177109);
                                bool y_177153 = slt64(j_177109, j_m_i_177056);
                                bool bounds_check_177154 = x_177152 && y_177153;
                                bool index_certs_177155;
                                
                                if (!bounds_check_177154) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177109, "] out of bounds for array of shape [", (long long) j_m_i_177056, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177156 = merge_sequential_arg2_177054 + j_177109;
                                int64_t slice_177157 = start_176822 + slice_177156;
                                int8_t tmp_177158 = ((int8_t *) mem_param_180898.mem)[slice_177157];
                                int64_t tmp_177159 = ((int64_t *) mem_param_180901.mem)[slice_177157];
                                int32_t tmp_177160 = ((int32_t *) mem_param_180904.mem)[slice_177157];
                                
                                loopres_177138 = i_177105;
                                loopres_177139 = tmp_177158;
                                loopres_177140 = tmp_177159;
                                loopres_177141 = tmp_177160;
                            }
                            ((int8_t *) mem_180942)[i_179831 * merge_block_sizze_176586 + k_177104] = loopres_177139;
                            ((int64_t *) mem_180945)[i_179831 * merge_block_sizze_176586 + k_177104] = loopres_177140;
                            ((int32_t *) mem_180948)[i_179831 * merge_block_sizze_176586 + k_177104] = loopres_177141;
                            
                            int64_t i_tmp_181655 = loopres_177138;
                            
                            i_177105 = i_tmp_181655;
                        }
                        data_177100 = i_177105;
                    }
                    if (memblock_alloc(ctx, &mem_180997, flat_dim_176772, "mem_180997")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180997.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (uint8_t *) mem_180942, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (int64_t []) {num_blocks_176769, merge_block_sizze_176586});
                    if (memblock_alloc(ctx, &mem_181001, bytes_180944, "mem_181001")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181001.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (uint64_t *) mem_180945, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (int64_t []) {num_blocks_176769, merge_block_sizze_176586});
                    if (memblock_alloc(ctx, &mem_181005, bytes_180947, "mem_181005")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181005.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (uint32_t *) mem_180948, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (int64_t []) {num_blocks_176769, merge_block_sizze_176586});
                    if (memblock_set(ctx, &ext_mem_181038, &mem_180997, "mem_180997") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181035, &mem_181001, "mem_181001") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181032, &mem_181005, "mem_181005") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180906, i_179841 * next_stride_176749, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181038.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176749});
                if (memblock_unref(ctx, &ext_mem_181038, "ext_mem_181038") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180909, i_179841 * next_stride_176749, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181035.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176749});
                if (memblock_unref(ctx, &ext_mem_181035, "ext_mem_181035") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180912, i_179841 * next_stride_176749, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181032.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176749});
                if (memblock_unref(ctx, &ext_mem_181032, "ext_mem_181032") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_181052, bytes_180905, "mem_181052")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_181052.mem, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (uint8_t *) mem_180906, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (int64_t []) {num_merges_176753, next_stride_176749});
            if (memblock_alloc(ctx, &mem_181056, bytes_180908, "mem_181056")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181056.mem, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (uint64_t *) mem_180909, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (int64_t []) {num_merges_176753, next_stride_176749});
            if (memblock_alloc(ctx, &mem_181060, bytes_180911, "mem_181060")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_181060.mem, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (uint32_t *) mem_180912, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (int64_t []) {num_merges_176753, next_stride_176749});
            
            bool loop_cond_177174 = slt64(next_stride_176749, flat_dim_176581);
            
            if (memblock_set(ctx, &mem_param_tmp_181622, &mem_181052, "mem_181052") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181623, &mem_181056, "mem_181056") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181624, &mem_181060, "mem_181060") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_181625 = bytes_180905;
            bool loop_while_tmp_181626 = loop_cond_177174;
            int64_t stride_tmp_181630 = next_stride_176749;
            
            if (memblock_set(ctx, &mem_param_180898, &mem_param_tmp_181622, "mem_param_tmp_181622") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180901, &mem_param_tmp_181623, "mem_param_tmp_181623") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180904, &mem_param_tmp_181624, "mem_param_tmp_181624") != 0)
                return 1;
            loop_dz2084Uz2082U_176743 = loop_dz2084Uz2082U_tmp_181625;
            loop_while_176744 = loop_while_tmp_181626;
            stride_176748 = stride_tmp_181630;
        }
        if (memblock_set(ctx, &ext_mem_181070, &mem_param_180898, "mem_param_180898") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181069, &mem_param_180901, "mem_param_180901") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181068, &mem_param_180904, "mem_param_180904") != 0)
            return 1;
        data_176737 = loop_dz2084Uz2082U_176743;
        data_176738 = loop_while_176744;
        data_176742 = stride_176748;
        if (memblock_unref(ctx, &mem_180886, "mem_180886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180890, "mem_180890") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180894, "mem_180894") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_177177 = slt64(zs_lhs_176565, data_176737);
        bool y_177178 = i_p_m_t_s_leq_w_177177 && zzero_leq_i_p_m_t_s_177191;
        bool ok_or_empty_177179 = y_177178 || empty_slice_177189;
        bool index_certs_177180;
        
        if (!ok_or_empty_177179) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "] out of bounds for array of shape [", (long long) data_176737, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181079, &ext_mem_181070, "ext_mem_181070") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181076, &ext_mem_181069, "ext_mem_181069") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181073, &ext_mem_181068, "ext_mem_181068") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_180780, "mem_180780") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_180782, "mem_180782") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_180784, "mem_180784") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_179988.mem, final_buffer_177196, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181079.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177197});
    if (memblock_unref(ctx, &ext_mem_181079, "ext_mem_181079") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_179990.mem, final_buffer_177196, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181076.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177197});
    if (memblock_unref(ctx, &ext_mem_181076, "ext_mem_181076") != 0)
        return 1;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_179992.mem, final_buffer_177196, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181073.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177197});
    if (memblock_unref(ctx, &ext_mem_181073, "ext_mem_181073") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181400, &mem_179990, "mem_179990") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181401, &mem_179988, "mem_179988") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181402, &mem_179992, "mem_179992") != 0)
        return 1;
    prim_out_181403 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475;
    if (memblock_set(ctx, &*mem_out_p_181832, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181833, &mem_out_181401, "mem_out_181401") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181834, &mem_out_181402, "mem_out_181402") != 0)
        return 1;
    *out_prim_out_181835 = prim_out_181403;
    
  cleanup:
    {
        free(mem_180003);
        free(mem_180005);
        free(mem_180044);
        free(mem_180047);
        free(mem_180050);
        free(mem_180063);
        free(mem_180065);
        free(mem_180067);
        free(mem_180164);
        free(mem_180167);
        free(mem_180170);
        free(mem_180184);
        free(mem_180186);
        free(mem_180200);
        free(mem_180203);
        free(mem_180206);
        free(mem_180348);
        free(mem_180350);
        free(mem_180365);
        free(mem_180367);
        free(mem_180370);
        free(mem_180373);
        free(mem_180407);
        free(mem_180410);
        free(mem_180413);
        free(mem_180426);
        free(mem_180428);
        free(mem_180430);
        free(mem_180527);
        free(mem_180530);
        free(mem_180533);
        free(mem_180547);
        free(mem_180549);
        free(mem_180563);
        free(mem_180566);
        free(mem_180569);
        free(mem_180786);
        free(mem_180789);
        free(mem_180792);
        free(mem_180805);
        free(mem_180807);
        free(mem_180809);
        free(mem_180906);
        free(mem_180909);
        free(mem_180912);
        free(mem_180926);
        free(mem_180928);
        free(mem_180942);
        free(mem_180945);
        free(mem_180948);
        if (memblock_unref(ctx, &mem_param_tmp_181624, "mem_param_tmp_181624") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181623, "mem_param_tmp_181623") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181622, "mem_param_tmp_181622") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181060, "mem_181060") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181056, "mem_181056") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181052, "mem_181052") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181005, "mem_181005") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181001, "mem_181001") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180997, "mem_180997") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181011, "mem_181011") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181009, "mem_181009") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181007, "mem_181007") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181032, "ext_mem_181032") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181035, "ext_mem_181035") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181038, "ext_mem_181038") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180904, "mem_param_180904") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180901, "mem_param_180901") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180898, "mem_param_180898") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181068, "ext_mem_181068") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181069, "ext_mem_181069") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181070, "ext_mem_181070") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180894, "mem_180894") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180890, "mem_180890") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180886, "mem_180886") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181073, "ext_mem_181073") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181076, "ext_mem_181076") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181079, "ext_mem_181079") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180784, "mem_180784") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180782, "mem_180782") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180780, "mem_180780") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181558, "mem_param_tmp_181558") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181557, "mem_param_tmp_181557") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181556, "mem_param_tmp_181556") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180318, "mem_180318") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180314, "mem_180314") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180310, "mem_180310") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180263, "mem_180263") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180259, "mem_180259") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180255, "mem_180255") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180269, "mem_180269") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180267, "mem_180267") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180265, "mem_180265") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180290, "ext_mem_180290") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180293, "ext_mem_180293") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180296, "ext_mem_180296") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180162, "mem_param_180162") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180159, "mem_param_180159") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180156, "mem_param_180156") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180326, "ext_mem_180326") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180327, "ext_mem_180327") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180328, "ext_mem_180328") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180152, "mem_180152") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180148, "mem_180148") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180144, "mem_180144") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180331, "ext_mem_180331") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180334, "ext_mem_180334") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180337, "ext_mem_180337") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180042, "mem_180042") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180040, "mem_180040") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180038, "mem_180038") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180022, "mem_180022") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180020, "mem_180020") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180018, "mem_180018") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180729, "mem_180729") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180728, "mem_180728") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180726, "mem_180726") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181464, "mem_param_tmp_181464") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181463, "mem_param_tmp_181463") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181462, "mem_param_tmp_181462") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180681, "mem_180681") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180677, "mem_180677") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180673, "mem_180673") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180626, "mem_180626") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180622, "mem_180622") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180618, "mem_180618") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180632, "mem_180632") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180630, "mem_180630") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180628, "mem_180628") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180653, "ext_mem_180653") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180656, "ext_mem_180656") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180659, "ext_mem_180659") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180525, "mem_param_180525") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180522, "mem_param_180522") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180519, "mem_param_180519") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180689, "ext_mem_180689") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180690, "ext_mem_180690") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180691, "ext_mem_180691") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180515, "mem_180515") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180511, "mem_180511") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180507, "mem_180507") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180694, "ext_mem_180694") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180700, "ext_mem_180700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180405, "mem_180405") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180403, "mem_180403") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180401, "mem_180401") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180750, "ext_mem_180750") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180753, "ext_mem_180753") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180756, "ext_mem_180756") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179992, "mem_179992") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179990, "mem_179990") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179988, "mem_179988") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181402, "mem_out_181402") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181401, "mem_out_181401") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_long(struct futhark_context *ctx, struct memblock *mem_out_p_181886, struct memblock *mem_out_p_181887, struct memblock *mem_out_p_181888, int64_t *out_prim_out_181889, struct memblock a_list_mem_179986, struct memblock b_list_mem_179987, int64_t na_141184, int64_t nb_141185, int64_t window_sizze_141186, int64_t threads_141187, bool inParallel_141190)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180003_cached_sizze_181890 = 0;
    unsigned char *mem_180003 = NULL;
    int64_t mem_180005_cached_sizze_181891 = 0;
    unsigned char *mem_180005 = NULL;
    int64_t mem_180044_cached_sizze_181892 = 0;
    unsigned char *mem_180044 = NULL;
    int64_t mem_180047_cached_sizze_181893 = 0;
    unsigned char *mem_180047 = NULL;
    int64_t mem_180050_cached_sizze_181894 = 0;
    unsigned char *mem_180050 = NULL;
    int64_t mem_180063_cached_sizze_181895 = 0;
    unsigned char *mem_180063 = NULL;
    int64_t mem_180065_cached_sizze_181896 = 0;
    unsigned char *mem_180065 = NULL;
    int64_t mem_180067_cached_sizze_181897 = 0;
    unsigned char *mem_180067 = NULL;
    int64_t mem_180164_cached_sizze_181898 = 0;
    unsigned char *mem_180164 = NULL;
    int64_t mem_180167_cached_sizze_181899 = 0;
    unsigned char *mem_180167 = NULL;
    int64_t mem_180170_cached_sizze_181900 = 0;
    unsigned char *mem_180170 = NULL;
    int64_t mem_180184_cached_sizze_181901 = 0;
    unsigned char *mem_180184 = NULL;
    int64_t mem_180186_cached_sizze_181902 = 0;
    unsigned char *mem_180186 = NULL;
    int64_t mem_180200_cached_sizze_181903 = 0;
    unsigned char *mem_180200 = NULL;
    int64_t mem_180203_cached_sizze_181904 = 0;
    unsigned char *mem_180203 = NULL;
    int64_t mem_180206_cached_sizze_181905 = 0;
    unsigned char *mem_180206 = NULL;
    int64_t mem_180348_cached_sizze_181906 = 0;
    unsigned char *mem_180348 = NULL;
    int64_t mem_180350_cached_sizze_181907 = 0;
    unsigned char *mem_180350 = NULL;
    int64_t mem_180365_cached_sizze_181908 = 0;
    unsigned char *mem_180365 = NULL;
    int64_t mem_180367_cached_sizze_181909 = 0;
    unsigned char *mem_180367 = NULL;
    int64_t mem_180370_cached_sizze_181910 = 0;
    unsigned char *mem_180370 = NULL;
    int64_t mem_180373_cached_sizze_181911 = 0;
    unsigned char *mem_180373 = NULL;
    int64_t mem_180407_cached_sizze_181912 = 0;
    unsigned char *mem_180407 = NULL;
    int64_t mem_180410_cached_sizze_181913 = 0;
    unsigned char *mem_180410 = NULL;
    int64_t mem_180413_cached_sizze_181914 = 0;
    unsigned char *mem_180413 = NULL;
    int64_t mem_180426_cached_sizze_181915 = 0;
    unsigned char *mem_180426 = NULL;
    int64_t mem_180428_cached_sizze_181916 = 0;
    unsigned char *mem_180428 = NULL;
    int64_t mem_180430_cached_sizze_181917 = 0;
    unsigned char *mem_180430 = NULL;
    int64_t mem_180527_cached_sizze_181918 = 0;
    unsigned char *mem_180527 = NULL;
    int64_t mem_180530_cached_sizze_181919 = 0;
    unsigned char *mem_180530 = NULL;
    int64_t mem_180533_cached_sizze_181920 = 0;
    unsigned char *mem_180533 = NULL;
    int64_t mem_180547_cached_sizze_181921 = 0;
    unsigned char *mem_180547 = NULL;
    int64_t mem_180549_cached_sizze_181922 = 0;
    unsigned char *mem_180549 = NULL;
    int64_t mem_180563_cached_sizze_181923 = 0;
    unsigned char *mem_180563 = NULL;
    int64_t mem_180566_cached_sizze_181924 = 0;
    unsigned char *mem_180566 = NULL;
    int64_t mem_180569_cached_sizze_181925 = 0;
    unsigned char *mem_180569 = NULL;
    int64_t mem_180786_cached_sizze_181926 = 0;
    unsigned char *mem_180786 = NULL;
    int64_t mem_180789_cached_sizze_181927 = 0;
    unsigned char *mem_180789 = NULL;
    int64_t mem_180792_cached_sizze_181928 = 0;
    unsigned char *mem_180792 = NULL;
    int64_t mem_180805_cached_sizze_181929 = 0;
    unsigned char *mem_180805 = NULL;
    int64_t mem_180807_cached_sizze_181930 = 0;
    unsigned char *mem_180807 = NULL;
    int64_t mem_180809_cached_sizze_181931 = 0;
    unsigned char *mem_180809 = NULL;
    int64_t mem_180906_cached_sizze_181932 = 0;
    unsigned char *mem_180906 = NULL;
    int64_t mem_180909_cached_sizze_181933 = 0;
    unsigned char *mem_180909 = NULL;
    int64_t mem_180912_cached_sizze_181934 = 0;
    unsigned char *mem_180912 = NULL;
    int64_t mem_180926_cached_sizze_181935 = 0;
    unsigned char *mem_180926 = NULL;
    int64_t mem_180928_cached_sizze_181936 = 0;
    unsigned char *mem_180928 = NULL;
    int64_t mem_180942_cached_sizze_181937 = 0;
    unsigned char *mem_180942 = NULL;
    int64_t mem_180945_cached_sizze_181938 = 0;
    unsigned char *mem_180945 = NULL;
    int64_t mem_180948_cached_sizze_181939 = 0;
    unsigned char *mem_180948 = NULL;
    struct memblock mem_param_tmp_181624;
    
    mem_param_tmp_181624.references = NULL;
    
    struct memblock mem_param_tmp_181623;
    
    mem_param_tmp_181623.references = NULL;
    
    struct memblock mem_param_tmp_181622;
    
    mem_param_tmp_181622.references = NULL;
    
    struct memblock mem_181060;
    
    mem_181060.references = NULL;
    
    struct memblock mem_181056;
    
    mem_181056.references = NULL;
    
    struct memblock mem_181052;
    
    mem_181052.references = NULL;
    
    struct memblock mem_181005;
    
    mem_181005.references = NULL;
    
    struct memblock mem_181001;
    
    mem_181001.references = NULL;
    
    struct memblock mem_180997;
    
    mem_180997.references = NULL;
    
    struct memblock mem_181011;
    
    mem_181011.references = NULL;
    
    struct memblock mem_181009;
    
    mem_181009.references = NULL;
    
    struct memblock mem_181007;
    
    mem_181007.references = NULL;
    
    struct memblock ext_mem_181032;
    
    ext_mem_181032.references = NULL;
    
    struct memblock ext_mem_181035;
    
    ext_mem_181035.references = NULL;
    
    struct memblock ext_mem_181038;
    
    ext_mem_181038.references = NULL;
    
    struct memblock mem_param_180904;
    
    mem_param_180904.references = NULL;
    
    struct memblock mem_param_180901;
    
    mem_param_180901.references = NULL;
    
    struct memblock mem_param_180898;
    
    mem_param_180898.references = NULL;
    
    struct memblock ext_mem_181068;
    
    ext_mem_181068.references = NULL;
    
    struct memblock ext_mem_181069;
    
    ext_mem_181069.references = NULL;
    
    struct memblock ext_mem_181070;
    
    ext_mem_181070.references = NULL;
    
    struct memblock mem_180894;
    
    mem_180894.references = NULL;
    
    struct memblock mem_180890;
    
    mem_180890.references = NULL;
    
    struct memblock mem_180886;
    
    mem_180886.references = NULL;
    
    struct memblock ext_mem_181073;
    
    ext_mem_181073.references = NULL;
    
    struct memblock ext_mem_181076;
    
    ext_mem_181076.references = NULL;
    
    struct memblock ext_mem_181079;
    
    ext_mem_181079.references = NULL;
    
    struct memblock mem_180784;
    
    mem_180784.references = NULL;
    
    struct memblock mem_180782;
    
    mem_180782.references = NULL;
    
    struct memblock mem_180780;
    
    mem_180780.references = NULL;
    
    struct memblock mem_param_tmp_181558;
    
    mem_param_tmp_181558.references = NULL;
    
    struct memblock mem_param_tmp_181557;
    
    mem_param_tmp_181557.references = NULL;
    
    struct memblock mem_param_tmp_181556;
    
    mem_param_tmp_181556.references = NULL;
    
    struct memblock mem_180318;
    
    mem_180318.references = NULL;
    
    struct memblock mem_180314;
    
    mem_180314.references = NULL;
    
    struct memblock mem_180310;
    
    mem_180310.references = NULL;
    
    struct memblock mem_180263;
    
    mem_180263.references = NULL;
    
    struct memblock mem_180259;
    
    mem_180259.references = NULL;
    
    struct memblock mem_180255;
    
    mem_180255.references = NULL;
    
    struct memblock mem_180269;
    
    mem_180269.references = NULL;
    
    struct memblock mem_180267;
    
    mem_180267.references = NULL;
    
    struct memblock mem_180265;
    
    mem_180265.references = NULL;
    
    struct memblock ext_mem_180290;
    
    ext_mem_180290.references = NULL;
    
    struct memblock ext_mem_180293;
    
    ext_mem_180293.references = NULL;
    
    struct memblock ext_mem_180296;
    
    ext_mem_180296.references = NULL;
    
    struct memblock mem_param_180162;
    
    mem_param_180162.references = NULL;
    
    struct memblock mem_param_180159;
    
    mem_param_180159.references = NULL;
    
    struct memblock mem_param_180156;
    
    mem_param_180156.references = NULL;
    
    struct memblock ext_mem_180326;
    
    ext_mem_180326.references = NULL;
    
    struct memblock ext_mem_180327;
    
    ext_mem_180327.references = NULL;
    
    struct memblock ext_mem_180328;
    
    ext_mem_180328.references = NULL;
    
    struct memblock mem_180152;
    
    mem_180152.references = NULL;
    
    struct memblock mem_180148;
    
    mem_180148.references = NULL;
    
    struct memblock mem_180144;
    
    mem_180144.references = NULL;
    
    struct memblock ext_mem_180331;
    
    ext_mem_180331.references = NULL;
    
    struct memblock ext_mem_180334;
    
    ext_mem_180334.references = NULL;
    
    struct memblock ext_mem_180337;
    
    ext_mem_180337.references = NULL;
    
    struct memblock mem_180042;
    
    mem_180042.references = NULL;
    
    struct memblock mem_180040;
    
    mem_180040.references = NULL;
    
    struct memblock mem_180038;
    
    mem_180038.references = NULL;
    
    struct memblock mem_180022;
    
    mem_180022.references = NULL;
    
    struct memblock mem_180020;
    
    mem_180020.references = NULL;
    
    struct memblock mem_180018;
    
    mem_180018.references = NULL;
    
    struct memblock mem_180729;
    
    mem_180729.references = NULL;
    
    struct memblock mem_180728;
    
    mem_180728.references = NULL;
    
    struct memblock mem_180726;
    
    mem_180726.references = NULL;
    
    struct memblock mem_param_tmp_181464;
    
    mem_param_tmp_181464.references = NULL;
    
    struct memblock mem_param_tmp_181463;
    
    mem_param_tmp_181463.references = NULL;
    
    struct memblock mem_param_tmp_181462;
    
    mem_param_tmp_181462.references = NULL;
    
    struct memblock mem_180681;
    
    mem_180681.references = NULL;
    
    struct memblock mem_180677;
    
    mem_180677.references = NULL;
    
    struct memblock mem_180673;
    
    mem_180673.references = NULL;
    
    struct memblock mem_180626;
    
    mem_180626.references = NULL;
    
    struct memblock mem_180622;
    
    mem_180622.references = NULL;
    
    struct memblock mem_180618;
    
    mem_180618.references = NULL;
    
    struct memblock mem_180632;
    
    mem_180632.references = NULL;
    
    struct memblock mem_180630;
    
    mem_180630.references = NULL;
    
    struct memblock mem_180628;
    
    mem_180628.references = NULL;
    
    struct memblock ext_mem_180653;
    
    ext_mem_180653.references = NULL;
    
    struct memblock ext_mem_180656;
    
    ext_mem_180656.references = NULL;
    
    struct memblock ext_mem_180659;
    
    ext_mem_180659.references = NULL;
    
    struct memblock mem_param_180525;
    
    mem_param_180525.references = NULL;
    
    struct memblock mem_param_180522;
    
    mem_param_180522.references = NULL;
    
    struct memblock mem_param_180519;
    
    mem_param_180519.references = NULL;
    
    struct memblock ext_mem_180689;
    
    ext_mem_180689.references = NULL;
    
    struct memblock ext_mem_180690;
    
    ext_mem_180690.references = NULL;
    
    struct memblock ext_mem_180691;
    
    ext_mem_180691.references = NULL;
    
    struct memblock mem_180515;
    
    mem_180515.references = NULL;
    
    struct memblock mem_180511;
    
    mem_180511.references = NULL;
    
    struct memblock mem_180507;
    
    mem_180507.references = NULL;
    
    struct memblock ext_mem_180694;
    
    ext_mem_180694.references = NULL;
    
    struct memblock ext_mem_180697;
    
    ext_mem_180697.references = NULL;
    
    struct memblock ext_mem_180700;
    
    ext_mem_180700.references = NULL;
    
    struct memblock mem_180405;
    
    mem_180405.references = NULL;
    
    struct memblock mem_180403;
    
    mem_180403.references = NULL;
    
    struct memblock mem_180401;
    
    mem_180401.references = NULL;
    
    struct memblock ext_mem_180750;
    
    ext_mem_180750.references = NULL;
    
    struct memblock ext_mem_180753;
    
    ext_mem_180753.references = NULL;
    
    struct memblock ext_mem_180756;
    
    ext_mem_180756.references = NULL;
    
    struct memblock mem_179992;
    
    mem_179992.references = NULL;
    
    struct memblock mem_179990;
    
    mem_179990.references = NULL;
    
    struct memblock mem_179988;
    
    mem_179988.references = NULL;
    
    struct memblock mem_out_181402;
    
    mem_out_181402.references = NULL;
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    int64_t prim_out_181403;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475 = add64(na_141184, nb_141185);
    
    if (memblock_alloc(ctx, &mem_179988, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, "mem_179988")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181404 = 0; nest_i_181404 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475; nest_i_181404++) {
        ((int8_t *) mem_179988.mem)[nest_i_181404] = (int8_t) -1;
    }
    
    int64_t bytes_179989 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475;
    
    if (memblock_alloc(ctx, &mem_179990, bytes_179989, "mem_179990")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181405 = 0; nest_i_181405 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475; nest_i_181405++) {
        ((int64_t *) mem_179990.mem)[nest_i_181405] = (int64_t) -1;
    }
    if (memblock_alloc(ctx, &mem_179992, bytes_179989, "mem_179992")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181406 = 0; nest_i_181406 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475; nest_i_181406++) {
        ((int64_t *) mem_179992.mem)[nest_i_181406] = (int64_t) 0;
    }
    
    int64_t zl_rhs_174479 = sub64(na_141184, window_sizze_141186);
    bool cond_174480 = slt64((int64_t) 0, zl_rhs_174479);
    int64_t zl_rhs_174481 = sub64(nb_141185, window_sizze_141186);
    bool loop_cond_t_res_174482 = slt64((int64_t) 0, zl_rhs_174481);
    bool x_174483 = cond_174480 && loop_cond_t_res_174482;
    bool empty_slice_174484 = window_sizze_141186 == (int64_t) 0;
    int64_t m_174485 = sub64(window_sizze_141186, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510 = add64((int64_t) 1, threads_141187);
    int64_t partitionFunc_arg0_175511 = mul64((int64_t) 2, threads_141187);
    bool y_175513 = slt64((int64_t) 0, window_sizze_141186);
    bool loop_cond_175759 = slt64((int64_t) 0, threads_141187);
    bool zzero_174530 = threads_141187 == (int64_t) 0;
    bool nonzzero_174531 = !zzero_174530;
    bool loop_not_taken_177288 = !inParallel_141190;
    bool protect_assert_disj_177289 = nonzzero_174531 || loop_not_taken_177288;
    bool loop_not_taken_177378 = !x_174483;
    bool protect_assert_disj_177379 = protect_assert_disj_177289 || loop_not_taken_177378;
    bool nonzzero_cert_174532;
    
    if (!protect_assert_disj_177379) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_174533 = sdiv_safe64(window_sizze_141186, threads_141187);
    int64_t perThread_174534 = add64((int64_t) 1, zp_rhs_174533);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174535 = mul64(threads_141187, perThread_174534);
    bool protect_assert_disj_177425 = inParallel_141190 || y_175513;
    bool protect_assert_disj_177429 = loop_not_taken_177378 || protect_assert_disj_177425;
    bool index_certs_175514;
    
    if (!protect_assert_disj_177429) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_175529 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, (int64_t) 1);
    bool y_176486 = slt64(threads_141187, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
    bool protect_assert_disj_177394 = y_175513 || loop_not_taken_177288;
    bool protect_assert_disj_177433 = loop_not_taken_177378 || protect_assert_disj_177394;
    bool index_certs_174538;
    
    if (!protect_assert_disj_177433) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_175531 = !bounds_invalid_upwards_175529;
    bool protect_assert_disj_177441 = inParallel_141190 || y_176486;
    bool protect_assert_disj_177443 = loop_not_taken_177378 || protect_assert_disj_177441;
    bool index_certs_176488;
    
    if (!protect_assert_disj_177443) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_141187, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177437 = y_176486 || loop_not_taken_177288;
    bool protect_assert_disj_177445 = loop_not_taken_177378 || protect_assert_disj_177437;
    bool index_certs_175492;
    
    if (!protect_assert_disj_177445) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_141187, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177453 = inParallel_141190 || valid_175531;
    bool protect_assert_disj_177455 = loop_not_taken_177378 || protect_assert_disj_177453;
    bool range_valid_c_175532;
    
    if (!protect_assert_disj_177455) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_177297 = sle64((int64_t) 1, threads_141187);
    bool protect_assert_disj_177449 = valid_175531 || loop_not_taken_177288;
    bool protect_assert_disj_177457 = loop_not_taken_177378 || protect_assert_disj_177449;
    bool range_valid_c_174545;
    
    if (!protect_assert_disj_177457) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_175534 = add64(window_sizze_141186, window_sizze_141186);
    bool zzero_175535 = partitionFunc_arg0_175511 == (int64_t) 0;
    int64_t index_concat_i_177298 = sub64(threads_141187, (int64_t) 1);
    bool nonzzero_175536 = !zzero_175535;
    bool protect_assert_disj_177465 = inParallel_141190 || nonzzero_175536;
    bool protect_assert_disj_177471 = loop_not_taken_177378 || protect_assert_disj_177465;
    bool nonzzero_cert_175537;
    
    if (!protect_assert_disj_177471) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177461 = nonzzero_175536 || loop_not_taken_177288;
    bool protect_assert_disj_177477 = loop_not_taken_177378 || protect_assert_disj_177461;
    bool nonzzero_cert_174550;
    
    if (!protect_assert_disj_177477) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180002 = (int64_t) 8 * threads_141187;
    int64_t bytes_180019 = (int64_t) 8 * window_sizze_141186;
    int64_t bytes_180364 = perThread_174534 * bytes_180002;
    bool defunc_0_merge_pipeline_res_174486;
    int64_t defunc_0_merge_pipeline_res_174490;
    int64_t defunc_0_merge_pipeline_res_174491;
    bool loop_while_174492;
    int64_t p_174496;
    int64_t p_174497;
    
    loop_while_174492 = x_174483;
    p_174496 = (int64_t) 0;
    p_174497 = (int64_t) 0;
    while (loop_while_174492) {
        int64_t ubs_174498 = add64(window_sizze_141186, p_174496);
        int64_t ubs_174499 = add64(window_sizze_141186, p_174497);
        int64_t ind_bottom_174500 = add64(p_174496, p_174497);
        int64_t ind_top_174501 = add64(window_sizze_141186, ind_bottom_174500);
        int64_t i_p_m_t_s_174502 = add64(m_174485, p_174496);
        bool zzero_leq_i_p_m_t_s_174503 = sle64((int64_t) 0, i_p_m_t_s_174502);
        bool i_p_m_t_s_leq_w_174504 = slt64(i_p_m_t_s_174502, na_141184);
        bool zzero_lte_i_174505 = sle64((int64_t) 0, p_174496);
        bool i_lte_j_174506 = sle64(p_174496, ubs_174498);
        bool y_174507 = i_p_m_t_s_leq_w_174504 && zzero_lte_i_174505;
        bool y_174508 = zzero_leq_i_p_m_t_s_174503 && y_174507;
        bool forwards_ok_174509 = i_lte_j_174506 && y_174508;
        bool ok_or_empty_174510 = empty_slice_174484 || forwards_ok_174509;
        bool index_certs_174511;
        
        if (!ok_or_empty_174510) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_174496, ":", (long long) ubs_174498, "] out of bounds for array of shape [", (long long) na_141184, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_174513 = add64(m_174485, p_174497);
        bool zzero_leq_i_p_m_t_s_174514 = sle64((int64_t) 0, i_p_m_t_s_174513);
        bool i_p_m_t_s_leq_w_174515 = slt64(i_p_m_t_s_174513, nb_141185);
        bool zzero_lte_i_174516 = sle64((int64_t) 0, p_174497);
        bool i_lte_j_174517 = sle64(p_174497, ubs_174499);
        bool y_174518 = i_p_m_t_s_leq_w_174515 && zzero_lte_i_174516;
        bool y_174519 = zzero_leq_i_p_m_t_s_174514 && y_174518;
        bool forwards_ok_174520 = i_lte_j_174517 && y_174519;
        bool ok_or_empty_174521 = empty_slice_174484 || forwards_ok_174520;
        bool index_certs_174522;
        
        if (!ok_or_empty_174521) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_174497, ":", (long long) ubs_174499, "] out of bounds for array of shape [", (long long) nb_141185, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_176500 = add64(m_174485, ind_bottom_174500);
        bool zzero_leq_i_p_m_t_s_176501 = sle64((int64_t) 0, i_p_m_t_s_176500);
        bool i_p_m_t_s_leq_w_176502 = slt64(i_p_m_t_s_176500, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475);
        bool zzero_lte_i_176503 = sle64((int64_t) 0, ind_bottom_174500);
        bool i_lte_j_176504 = sle64(ind_bottom_174500, ind_top_174501);
        bool y_176505 = i_p_m_t_s_leq_w_176502 && zzero_lte_i_176503;
        bool y_176506 = zzero_leq_i_p_m_t_s_176501 && y_176505;
        bool forwards_ok_176507 = i_lte_j_176504 && y_176506;
        bool ok_or_empty_176508 = empty_slice_174484 || forwards_ok_176507;
        bool index_certs_176509;
        
        if (!ok_or_empty_176508) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_174500, ":", (long long) ind_top_174501, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_174524;
        int64_t loopres_174525;
        
        if (inParallel_141190) {
            int64_t leq_lhs_177958 = ((int64_t *) a_list_mem_179986.mem)[p_174496];
            int64_t leq_rhs_177959 = ((int64_t *) b_list_mem_179987.mem)[p_174497];
            bool defunc_0_leq_res_177960 = sle64(leq_lhs_177958, leq_rhs_177959);
            int64_t lowest_177961;
            
            if (defunc_0_leq_res_177960) {
                lowest_177961 = leq_lhs_177958;
            } else {
                lowest_177961 = leq_rhs_177959;
            }
            if (mem_180348_cached_sizze_181906 < bytes_180002) {
                err = lexical_realloc(ctx, &mem_180348, &mem_180348_cached_sizze_181906, bytes_180002);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180350_cached_sizze_181907 < bytes_180002) {
                err = lexical_realloc(ctx, &mem_180350, &mem_180350_cached_sizze_181907, bytes_180002);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_179650 = 0; i_179650 < threads_141187; i_179650++) {
                int64_t index_primexp_179922 = add64((int64_t) 1, i_179650);
                int64_t zs_lhs_177966 = mul64(zt_rhs_175534, index_primexp_179922);
                int64_t index_177967 = sdiv64(zs_lhs_177966, partitionFunc_arg0_175511);
                bool cond_177968 = slt64(window_sizze_141186, index_177967);
                int64_t loop_over_177969;
                
                if (cond_177968) {
                    loop_over_177969 = window_sizze_141186;
                } else {
                    loop_over_177969 = index_177967;
                }
                
                int64_t loop_over_177970;
                
                if (cond_177968) {
                    int64_t loop_over_t_res_177971 = sub64(index_177967, window_sizze_141186);
                    
                    loop_over_177970 = loop_over_t_res_177971;
                } else {
                    loop_over_177970 = (int64_t) 0;
                }
                
                int64_t loop_over_177972;
                
                if (cond_177968) {
                    int64_t zm_lhs_177973 = sub64(index_177967, window_sizze_141186);
                    int64_t loop_over_t_res_177974 = sub64(zm_lhs_177973, (int64_t) 1);
                    
                    loop_over_177972 = loop_over_t_res_177974;
                } else {
                    loop_over_177972 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_177975;
                int64_t defunc_0_f_res_177976;
                int64_t defunc_0_f_res_177977;
                int64_t defunc_0_f_res_177978;
                bool loop_while_177979;
                int64_t p_177980;
                int64_t p_177981;
                int64_t p_177982;
                
                loop_while_177979 = 1;
                p_177980 = loop_over_177972;
                p_177981 = loop_over_177969;
                p_177982 = loop_over_177970;
                while (loop_while_177979) {
                    int64_t zs_lhs_177983 = sub64(p_177981, p_177980);
                    int64_t offset_177984 = sdiv64(zs_lhs_177983, (int64_t) 2);
                    int64_t ai_177985 = sub64(p_177981, offset_177984);
                    int64_t max_arg1_177986 = add64(p_177982, offset_177984);
                    int64_t max_res_177987 = smax64((int64_t) 0, max_arg1_177986);
                    bool cond_177988 = slt64((int64_t) 0, max_res_177987);
                    int64_t b_prev_177989;
                    
                    if (cond_177988) {
                        int64_t tmp_177990 = sub64(max_res_177987, (int64_t) 1);
                        bool x_177991 = sle64((int64_t) 0, tmp_177990);
                        bool y_177992 = slt64(tmp_177990, window_sizze_141186);
                        bool bounds_check_177993 = x_177991 && y_177992;
                        bool index_certs_177994;
                        
                        if (!bounds_check_177993) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177990, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_177995 = p_174497 + tmp_177990;
                        int64_t b_prev_t_res_177996 = ((int64_t *) b_list_mem_179987.mem)[slice_177995];
                        
                        b_prev_177989 = b_prev_t_res_177996;
                    } else {
                        b_prev_177989 = lowest_177961;
                    }
                    
                    bool cond_177997 = sle64(ai_177985, (int64_t) 0);
                    int64_t loopres_177998;
                    int64_t loopres_177999;
                    int64_t loopres_178000;
                    bool loopres_178001;
                    
                    if (cond_177997) {
                        loopres_177998 = p_177980;
                        loopres_177999 = (int64_t) 0;
                        loopres_178000 = max_res_177987;
                        loopres_178001 = 0;
                    } else {
                        bool cond_178002 = sle64(window_sizze_141186, max_res_177987);
                        int64_t loopres_f_res_178003;
                        int64_t loopres_f_res_178004;
                        int64_t loopres_f_res_178005;
                        bool loopres_f_res_178006;
                        
                        if (cond_178002) {
                            int64_t min_res_178008 = smin64(m_174485, ai_177985);
                            bool x_178009 = sle64((int64_t) 0, m_174485);
                            bool y_178010 = slt64(m_174485, window_sizze_141186);
                            bool bounds_check_178011 = x_178009 && y_178010;
                            bool index_certs_178012;
                            
                            if (!bounds_check_178011) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174485, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_178015 = sle64((int64_t) 0, min_res_178008);
                            bool y_178016 = slt64(min_res_178008, window_sizze_141186);
                            bool bounds_check_178017 = x_178015 && y_178016;
                            bool index_certs_178018;
                            
                            if (!bounds_check_178017) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178008, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t leq_lhs_178014 = ((int64_t *) b_list_mem_179987.mem)[i_p_m_t_s_174513];
                            int64_t slice_178019 = p_174496 + min_res_178008;
                            int64_t leq_rhs_178020 = ((int64_t *) a_list_mem_179986.mem)[slice_178019];
                            bool defunc_0_leq_res_178021 = sle64(leq_lhs_178014, leq_rhs_178020);
                            int64_t loopres_f_res_t_res_178022;
                            
                            if (defunc_0_leq_res_178021) {
                                loopres_f_res_t_res_178022 = ai_177985;
                            } else {
                                loopres_f_res_t_res_178022 = p_177981;
                            }
                            
                            bool x_178023 = !defunc_0_leq_res_178021;
                            int64_t loopres_f_res_t_res_178024;
                            
                            if (defunc_0_leq_res_178021) {
                                loopres_f_res_t_res_178024 = window_sizze_141186;
                            } else {
                                int64_t tmp_178025 = sub64(m_174485, offset_177984);
                                
                                loopres_f_res_t_res_178024 = tmp_178025;
                            }
                            loopres_f_res_178003 = p_177980;
                            loopres_f_res_178004 = loopres_f_res_t_res_178022;
                            loopres_f_res_178005 = loopres_f_res_t_res_178024;
                            loopres_f_res_178006 = x_178023;
                        } else {
                            bool cond_178026 = sle64(window_sizze_141186, ai_177985);
                            int64_t loopres_f_res_f_res_178027;
                            int64_t loopres_f_res_f_res_178028;
                            int64_t loopres_f_res_f_res_178029;
                            bool loopres_f_res_f_res_178030;
                            
                            if (cond_178026) {
                                int64_t min_res_178032 = smin64(m_174485, max_res_177987);
                                bool x_178033 = sle64((int64_t) 0, m_174485);
                                bool y_178034 = slt64(m_174485, window_sizze_141186);
                                bool bounds_check_178035 = x_178033 && y_178034;
                                bool index_certs_178036;
                                
                                if (!bounds_check_178035) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174485, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178039 = sle64((int64_t) 0, min_res_178032);
                                bool y_178040 = slt64(min_res_178032, window_sizze_141186);
                                bool bounds_check_178041 = x_178039 && y_178040;
                                bool index_certs_178042;
                                
                                if (!bounds_check_178041) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178032, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t leq_lhs_178038 = ((int64_t *) a_list_mem_179986.mem)[i_p_m_t_s_174502];
                                int64_t slice_178043 = p_174497 + min_res_178032;
                                int64_t leq_rhs_178044 = ((int64_t *) b_list_mem_179987.mem)[slice_178043];
                                bool defunc_0_leq_res_178045 = sle64(leq_lhs_178038, leq_rhs_178044);
                                int64_t loopres_f_res_f_res_t_res_178046;
                                
                                if (defunc_0_leq_res_178045) {
                                    loopres_f_res_f_res_t_res_178046 = max_res_177987;
                                } else {
                                    loopres_f_res_f_res_t_res_178046 = p_177982;
                                }
                                
                                bool x_178047 = !defunc_0_leq_res_178045;
                                int64_t loopres_f_res_f_res_t_res_178048;
                                
                                if (defunc_0_leq_res_178045) {
                                    loopres_f_res_f_res_t_res_178048 = window_sizze_141186;
                                } else {
                                    loopres_f_res_f_res_t_res_178048 = m_174485;
                                }
                                loopres_f_res_f_res_178027 = p_177980;
                                loopres_f_res_f_res_178028 = loopres_f_res_f_res_t_res_178048;
                                loopres_f_res_f_res_178029 = loopres_f_res_f_res_t_res_178046;
                                loopres_f_res_f_res_178030 = x_178047;
                            } else {
                                bool cond_178049 = sle64(p_177981, p_177980);
                                int64_t loopres_f_res_f_res_f_res_178050;
                                int64_t loopres_f_res_f_res_f_res_178051;
                                int64_t loopres_f_res_f_res_f_res_178052;
                                bool loopres_f_res_f_res_f_res_178053;
                                
                                if (cond_178049) {
                                    bool cond_178054 = slt64(ai_177985, window_sizze_141186);
                                    int64_t ai_178055;
                                    
                                    if (cond_178054) {
                                        ai_178055 = ai_177985;
                                    } else {
                                        ai_178055 = m_174485;
                                    }
                                    
                                    bool x_178068 = sle64((int64_t) 0, ai_178055);
                                    bool y_178069 = slt64(ai_178055, window_sizze_141186);
                                    bool bounds_check_178070 = x_178068 && y_178069;
                                    bool index_certs_178071;
                                    
                                    if (!bounds_check_178070) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178055, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t b_prev_178057;
                                    
                                    if (cond_177988) {
                                        int64_t tmp_178058 = sub64(max_res_177987, (int64_t) 1);
                                        bool x_178059 = sle64((int64_t) 0, tmp_178058);
                                        bool y_178060 = slt64(tmp_178058, window_sizze_141186);
                                        bool bounds_check_178061 = x_178059 && y_178060;
                                        bool index_certs_178062;
                                        
                                        if (!bounds_check_178061) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178058, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178063 = p_174497 + tmp_178058;
                                        int64_t b_prev_t_res_178064 = ((int64_t *) b_list_mem_179987.mem)[slice_178063];
                                        
                                        b_prev_178057 = b_prev_t_res_178064;
                                    } else {
                                        bool index_certs_178066;
                                        
                                        if (!y_175513) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_178057 = leq_rhs_177959;
                                    }
                                    
                                    int64_t slice_178072 = p_174496 + ai_178055;
                                    int64_t gt_lhs_178073 = ((int64_t *) a_list_mem_179986.mem)[slice_178072];
                                    bool defunc_0_gt_res_178074 = slt64(b_prev_178057, gt_lhs_178073);
                                    int64_t defunc_0_partFunc_sequential_search_res_178075;
                                    int64_t defunc_0_partFunc_sequential_search_res_178076;
                                    
                                    if (defunc_0_gt_res_178074) {
                                        int64_t zl_rhs_178077 = sub64(window_sizze_141186, max_res_177987);
                                        bool loop_cond_178078 = slt64((int64_t) 0, zl_rhs_178077);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_178079;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178080;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178081;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178082;
                                        bool loop_while_178083;
                                        int64_t p_178084;
                                        int64_t p_178085;
                                        int64_t p_178086;
                                        
                                        loop_while_178083 = loop_cond_178078;
                                        p_178084 = ai_178055;
                                        p_178085 = max_res_177987;
                                        p_178086 = (int64_t) 0;
                                        while (loop_while_178083) {
                                            int64_t i_a_178087 = sub64(ai_178055, p_178086);
                                            int64_t i_b_178088 = add64(max_res_177987, p_178086);
                                            int64_t leq_lhs_178089 = sub64(i_a_178087, (int64_t) 1);
                                            bool x_178090 = sle64((int64_t) 0, leq_lhs_178089);
                                            bool y_178091 = slt64(leq_lhs_178089, window_sizze_141186);
                                            bool bounds_check_178092 = x_178090 && y_178091;
                                            bool index_certs_178093;
                                            
                                            if (!bounds_check_178092) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178089, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178096 = sle64((int64_t) 0, i_b_178088);
                                            bool y_178097 = slt64(i_b_178088, window_sizze_141186);
                                            bool bounds_check_178098 = x_178096 && y_178097;
                                            bool index_certs_178099;
                                            
                                            if (!bounds_check_178098) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178088, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178094 = p_174496 + leq_lhs_178089;
                                            int64_t leq_lhs_178095 = ((int64_t *) a_list_mem_179986.mem)[slice_178094];
                                            int64_t slice_178100 = p_174497 + i_b_178088;
                                            int64_t leq_rhs_178101 = ((int64_t *) b_list_mem_179987.mem)[slice_178100];
                                            bool defunc_0_leq_res_178102 = sle64(leq_lhs_178095, leq_rhs_178101);
                                            int64_t loopres_178103;
                                            
                                            if (defunc_0_leq_res_178102) {
                                                loopres_178103 = i_a_178087;
                                            } else {
                                                loopres_178103 = ai_178055;
                                            }
                                            
                                            int64_t loopres_178104;
                                            
                                            if (defunc_0_leq_res_178102) {
                                                loopres_178104 = i_b_178088;
                                            } else {
                                                loopres_178104 = max_res_177987;
                                            }
                                            
                                            int64_t loopres_178105;
                                            
                                            if (defunc_0_leq_res_178102) {
                                                loopres_178105 = zl_rhs_178077;
                                            } else {
                                                int64_t tmp_178106 = add64((int64_t) 1, p_178086);
                                                
                                                loopres_178105 = tmp_178106;
                                            }
                                            
                                            bool loop_cond_178107 = slt64(loopres_178105, zl_rhs_178077);
                                            bool loop_while_tmp_181419 = loop_cond_178107;
                                            int64_t p_tmp_181420 = loopres_178103;
                                            int64_t p_tmp_181421 = loopres_178104;
                                            int64_t p_tmp_181422 = loopres_178105;
                                            
                                            loop_while_178083 = loop_while_tmp_181419;
                                            p_178084 = p_tmp_181420;
                                            p_178085 = p_tmp_181421;
                                            p_178086 = p_tmp_181422;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_178079 = loop_while_178083;
                                        defunc_0_partFunc_sequential_search_res_t_res_178080 = p_178084;
                                        defunc_0_partFunc_sequential_search_res_t_res_178081 = p_178085;
                                        defunc_0_partFunc_sequential_search_res_t_res_178082 = p_178086;
                                        defunc_0_partFunc_sequential_search_res_178075 = defunc_0_partFunc_sequential_search_res_t_res_178080;
                                        defunc_0_partFunc_sequential_search_res_178076 = defunc_0_partFunc_sequential_search_res_t_res_178081;
                                    } else {
                                        int64_t zl_rhs_178108 = sub64(max_res_177987, (int64_t) 1);
                                        bool loop_cond_178109 = slt64((int64_t) 0, zl_rhs_178108);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_178110;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178111;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178112;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178113;
                                        bool loop_while_178114;
                                        int64_t p_178115;
                                        int64_t p_178116;
                                        int64_t p_178117;
                                        
                                        loop_while_178114 = loop_cond_178109;
                                        p_178115 = ai_178055;
                                        p_178116 = max_res_177987;
                                        p_178117 = (int64_t) 0;
                                        while (loop_while_178114) {
                                            int64_t zp_lhs_178118 = add64(ai_178055, p_178117);
                                            int64_t hi_a_178119 = add64((int64_t) 1, zp_lhs_178118);
                                            bool cond_178120 = slt64(hi_a_178119, window_sizze_141186);
                                            int64_t i_a_178121;
                                            
                                            if (cond_178120) {
                                                i_a_178121 = hi_a_178119;
                                            } else {
                                                i_a_178121 = m_174485;
                                            }
                                            
                                            int64_t zm_lhs_178123 = sub64(max_res_177987, p_178117);
                                            int64_t i_b_178124 = sub64(zm_lhs_178123, (int64_t) 1);
                                            bool x_178125 = sle64((int64_t) 0, i_a_178121);
                                            bool y_178126 = slt64(i_a_178121, window_sizze_141186);
                                            bool bounds_check_178127 = x_178125 && y_178126;
                                            bool index_certs_178128;
                                            
                                            if (!bounds_check_178127) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_178121, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178131 = sle64((int64_t) 0, i_b_178124);
                                            bool y_178132 = slt64(i_b_178124, window_sizze_141186);
                                            bool bounds_check_178133 = x_178131 && y_178132;
                                            bool index_certs_178134;
                                            
                                            if (!bounds_check_178133) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178124, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178129 = p_174496 + i_a_178121;
                                            int64_t gt_lhs_178130 = ((int64_t *) a_list_mem_179986.mem)[slice_178129];
                                            int64_t slice_178135 = p_174497 + i_b_178124;
                                            int64_t gt_rhs_178136 = ((int64_t *) b_list_mem_179987.mem)[slice_178135];
                                            bool defunc_0_gt_res_178137 = slt64(gt_rhs_178136, gt_lhs_178130);
                                            int64_t loopres_178138;
                                            
                                            if (defunc_0_gt_res_178137) {
                                                loopres_178138 = i_a_178121;
                                            } else {
                                                loopres_178138 = ai_178055;
                                            }
                                            
                                            int64_t loopres_178139;
                                            
                                            if (defunc_0_gt_res_178137) {
                                                loopres_178139 = zm_lhs_178123;
                                            } else {
                                                loopres_178139 = max_res_177987;
                                            }
                                            
                                            int64_t loopres_178140;
                                            
                                            if (defunc_0_gt_res_178137) {
                                                loopres_178140 = zl_rhs_178108;
                                            } else {
                                                int64_t tmp_178141 = add64((int64_t) 1, p_178117);
                                                
                                                loopres_178140 = tmp_178141;
                                            }
                                            
                                            bool loop_cond_178142 = slt64(loopres_178140, zl_rhs_178108);
                                            bool loop_while_tmp_181423 = loop_cond_178142;
                                            int64_t p_tmp_181424 = loopres_178138;
                                            int64_t p_tmp_181425 = loopres_178139;
                                            int64_t p_tmp_181426 = loopres_178140;
                                            
                                            loop_while_178114 = loop_while_tmp_181423;
                                            p_178115 = p_tmp_181424;
                                            p_178116 = p_tmp_181425;
                                            p_178117 = p_tmp_181426;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_178110 = loop_while_178114;
                                        defunc_0_partFunc_sequential_search_res_f_res_178111 = p_178115;
                                        defunc_0_partFunc_sequential_search_res_f_res_178112 = p_178116;
                                        defunc_0_partFunc_sequential_search_res_f_res_178113 = p_178117;
                                        defunc_0_partFunc_sequential_search_res_178075 = defunc_0_partFunc_sequential_search_res_f_res_178111;
                                        defunc_0_partFunc_sequential_search_res_178076 = defunc_0_partFunc_sequential_search_res_f_res_178112;
                                    }
                                    loopres_f_res_f_res_f_res_178050 = p_177980;
                                    loopres_f_res_f_res_f_res_178051 = defunc_0_partFunc_sequential_search_res_178075;
                                    loopres_f_res_f_res_f_res_178052 = defunc_0_partFunc_sequential_search_res_178076;
                                    loopres_f_res_f_res_f_res_178053 = 0;
                                } else {
                                    bool x_178143 = sle64((int64_t) 0, ai_177985);
                                    bool y_178144 = slt64(ai_177985, window_sizze_141186);
                                    bool bounds_check_178145 = x_178143 && y_178144;
                                    bool index_certs_178146;
                                    
                                    if (!bounds_check_178145) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_177985, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178147 = p_174496 + ai_177985;
                                    int64_t gt_lhs_178148 = ((int64_t *) a_list_mem_179986.mem)[slice_178147];
                                    bool defunc_0_gt_res_178149 = slt64(b_prev_177989, gt_lhs_178148);
                                    int64_t loopres_f_res_f_res_f_res_f_res_178150;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178151;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178152;
                                    bool loopres_f_res_f_res_f_res_f_res_178153;
                                    
                                    if (defunc_0_gt_res_178149) {
                                        int64_t leq_lhs_178154 = sub64(ai_177985, (int64_t) 1);
                                        bool x_178155 = sle64((int64_t) 0, leq_lhs_178154);
                                        bool y_178156 = slt64(leq_lhs_178154, window_sizze_141186);
                                        bool bounds_check_178157 = x_178155 && y_178156;
                                        bool index_certs_178158;
                                        
                                        if (!bounds_check_178157) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178154, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178161 = sle64((int64_t) 0, max_res_177987);
                                        bool y_178162 = slt64(max_res_177987, window_sizze_141186);
                                        bool bounds_check_178163 = x_178161 && y_178162;
                                        bool index_certs_178164;
                                        
                                        if (!bounds_check_178163) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_177987, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178159 = p_174496 + leq_lhs_178154;
                                        int64_t leq_lhs_178160 = ((int64_t *) a_list_mem_179986.mem)[slice_178159];
                                        int64_t slice_178165 = p_174497 + max_res_177987;
                                        int64_t leq_rhs_178166 = ((int64_t *) b_list_mem_179987.mem)[slice_178165];
                                        bool defunc_0_leq_res_178167 = sle64(leq_lhs_178160, leq_rhs_178166);
                                        bool x_178168 = !defunc_0_leq_res_178167;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178169;
                                        
                                        if (defunc_0_leq_res_178167) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178169 = ai_177985;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178169 = leq_lhs_178154;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178170;
                                        
                                        if (defunc_0_leq_res_178167) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178170 = max_res_177987;
                                        } else {
                                            int64_t tmp_178171 = add64((int64_t) 1, max_res_177987);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_178170 = tmp_178171;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_178150 = p_177980;
                                        loopres_f_res_f_res_f_res_f_res_178151 = loopres_f_res_f_res_f_res_f_res_t_res_178169;
                                        loopres_f_res_f_res_f_res_f_res_178152 = loopres_f_res_f_res_f_res_f_res_t_res_178170;
                                        loopres_f_res_f_res_f_res_f_res_178153 = x_178168;
                                    } else {
                                        int64_t tmp_178172 = add64((int64_t) 1, ai_177985);
                                        
                                        loopres_f_res_f_res_f_res_f_res_178150 = tmp_178172;
                                        loopres_f_res_f_res_f_res_f_res_178151 = p_177981;
                                        loopres_f_res_f_res_f_res_f_res_178152 = p_177982;
                                        loopres_f_res_f_res_f_res_f_res_178153 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_178050 = loopres_f_res_f_res_f_res_f_res_178150;
                                    loopres_f_res_f_res_f_res_178051 = loopres_f_res_f_res_f_res_f_res_178151;
                                    loopres_f_res_f_res_f_res_178052 = loopres_f_res_f_res_f_res_f_res_178152;
                                    loopres_f_res_f_res_f_res_178053 = loopres_f_res_f_res_f_res_f_res_178153;
                                }
                                loopres_f_res_f_res_178027 = loopres_f_res_f_res_f_res_178050;
                                loopres_f_res_f_res_178028 = loopres_f_res_f_res_f_res_178051;
                                loopres_f_res_f_res_178029 = loopres_f_res_f_res_f_res_178052;
                                loopres_f_res_f_res_178030 = loopres_f_res_f_res_f_res_178053;
                            }
                            loopres_f_res_178003 = loopres_f_res_f_res_178027;
                            loopres_f_res_178004 = loopres_f_res_f_res_178028;
                            loopres_f_res_178005 = loopres_f_res_f_res_178029;
                            loopres_f_res_178006 = loopres_f_res_f_res_178030;
                        }
                        loopres_177998 = loopres_f_res_178003;
                        loopres_177999 = loopres_f_res_178004;
                        loopres_178000 = loopres_f_res_178005;
                        loopres_178001 = loopres_f_res_178006;
                    }
                    
                    bool loop_while_tmp_181415 = loopres_178001;
                    int64_t p_tmp_181416 = loopres_177998;
                    int64_t p_tmp_181417 = loopres_177999;
                    int64_t p_tmp_181418 = loopres_178000;
                    
                    loop_while_177979 = loop_while_tmp_181415;
                    p_177980 = p_tmp_181416;
                    p_177981 = p_tmp_181417;
                    p_177982 = p_tmp_181418;
                }
                defunc_0_f_res_177975 = loop_while_177979;
                defunc_0_f_res_177976 = p_177980;
                defunc_0_f_res_177977 = p_177981;
                defunc_0_f_res_177978 = p_177982;
                ((int64_t *) mem_180348)[i_179650] = defunc_0_f_res_177977;
                ((int64_t *) mem_180350)[i_179650] = defunc_0_f_res_177978;
            }
            if (mem_180365_cached_sizze_181908 < bytes_180364) {
                err = lexical_realloc(ctx, &mem_180365, &mem_180365_cached_sizze_181908, bytes_180364);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180367_cached_sizze_181909 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174535) {
                err = lexical_realloc(ctx, &mem_180367, &mem_180367_cached_sizze_181909, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174535);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180370_cached_sizze_181910 < bytes_180364) {
                err = lexical_realloc(ctx, &mem_180370, &mem_180370_cached_sizze_181910, bytes_180364);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180373_cached_sizze_181911 < bytes_180364) {
                err = lexical_realloc(ctx, &mem_180373, &mem_180373_cached_sizze_181911, bytes_180364);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_179716 = 0; i_179716 < threads_141187; i_179716++) {
                bool y_178186 = slt64(i_179716, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
                bool index_certs_178188;
                
                if (!y_178186) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179716, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178189 = sle64((int64_t) 1, i_179716);
                int64_t index_concat_i_178190 = sub64(i_179716, (int64_t) 1);
                int64_t index_concat_178191;
                
                if (index_concat_cmp_178189) {
                    int64_t x_178192 = ((int64_t *) mem_180348)[index_concat_i_178190];
                    
                    index_concat_178191 = x_178192;
                } else {
                    index_concat_178191 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178193;
                
                if (index_concat_cmp_178189) {
                    index_concat_branch_178193 = index_concat_178191;
                } else {
                    index_concat_branch_178193 = (int64_t) 0;
                }
                
                int64_t index_concat_178194;
                
                if (index_concat_cmp_178189) {
                    int64_t x_178195 = ((int64_t *) mem_180350)[index_concat_i_178190];
                    
                    index_concat_178194 = x_178195;
                } else {
                    index_concat_178194 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178196;
                
                if (index_concat_cmp_178189) {
                    index_concat_branch_178196 = index_concat_178194;
                } else {
                    index_concat_branch_178196 = (int64_t) 0;
                }
                
                int64_t ubs_178197 = add64((int64_t) 1, i_179716);
                bool x_178198 = sle64((int64_t) 0, ubs_178197);
                bool y_178199 = slt64(ubs_178197, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
                bool bounds_check_178200 = x_178198 && y_178199;
                bool index_certs_178201;
                
                if (!bounds_check_178200) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_178197, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178202 = sle64((int64_t) 1, ubs_178197);
                int64_t index_concat_178203;
                
                if (index_concat_cmp_178202) {
                    int64_t x_178204 = ((int64_t *) mem_180348)[i_179716];
                    
                    index_concat_178203 = x_178204;
                } else {
                    index_concat_178203 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178205;
                
                if (index_concat_cmp_178202) {
                    index_concat_branch_178205 = index_concat_178203;
                } else {
                    index_concat_branch_178205 = (int64_t) 0;
                }
                
                int64_t index_concat_178206;
                
                if (index_concat_cmp_178202) {
                    int64_t x_178207 = ((int64_t *) mem_180350)[i_179716];
                    
                    index_concat_178206 = x_178207;
                } else {
                    index_concat_178206 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178208;
                
                if (index_concat_cmp_178202) {
                    index_concat_branch_178208 = index_concat_178206;
                } else {
                    index_concat_branch_178208 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209 = sub64(index_concat_branch_178208, index_concat_branch_178196);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210 = sub64(index_concat_branch_178205, index_concat_branch_178193);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                int64_t zm_lhs_178212 = add64(index_concat_branch_178205, index_concat_branch_178208);
                int64_t zm_rhs_178213 = add64(index_concat_branch_178193, index_concat_branch_178196);
                int64_t card_178214 = sub64(zm_lhs_178212, zm_rhs_178213);
                bool empty_slice_178215 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210 == (int64_t) 0;
                int64_t m_178216 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, (int64_t) 1);
                int64_t i_p_m_t_s_178217 = add64(index_concat_branch_178193, m_178216);
                bool zzero_leq_i_p_m_t_s_178218 = sle64((int64_t) 0, i_p_m_t_s_178217);
                bool i_p_m_t_s_leq_w_178219 = slt64(i_p_m_t_s_178217, window_sizze_141186);
                bool zzero_lte_i_178220 = sle64((int64_t) 0, index_concat_branch_178193);
                bool i_lte_j_178221 = sle64(index_concat_branch_178193, index_concat_branch_178205);
                bool y_178222 = i_p_m_t_s_leq_w_178219 && zzero_lte_i_178220;
                bool y_178223 = zzero_leq_i_p_m_t_s_178218 && y_178222;
                bool forwards_ok_178224 = i_lte_j_178221 && y_178223;
                bool ok_or_empty_178225 = empty_slice_178215 || forwards_ok_178224;
                bool index_certs_178226;
                
                if (!ok_or_empty_178225) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178193, ":", (long long) index_concat_branch_178205, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178227 = slt64(index_concat_branch_178205, index_concat_branch_178193);
                bool valid_178228 = !bounds_invalid_upwards_178227;
                bool range_valid_c_178229;
                
                if (!valid_178228) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178193, "..<", (long long) index_concat_branch_178205, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_178234 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209 == (int64_t) 0;
                int64_t m_178235 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209, (int64_t) 1);
                int64_t i_p_m_t_s_178236 = add64(index_concat_branch_178196, m_178235);
                bool zzero_leq_i_p_m_t_s_178237 = sle64((int64_t) 0, i_p_m_t_s_178236);
                bool i_p_m_t_s_leq_w_178238 = slt64(i_p_m_t_s_178236, window_sizze_141186);
                bool zzero_lte_i_178239 = sle64((int64_t) 0, index_concat_branch_178196);
                bool i_lte_j_178240 = sle64(index_concat_branch_178196, index_concat_branch_178208);
                bool y_178241 = i_p_m_t_s_leq_w_178238 && zzero_lte_i_178239;
                bool y_178242 = zzero_leq_i_p_m_t_s_178237 && y_178241;
                bool forwards_ok_178243 = i_lte_j_178240 && y_178242;
                bool ok_or_empty_178244 = empty_slice_178234 || forwards_ok_178243;
                bool index_certs_178245;
                
                if (!ok_or_empty_178244) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178196, ":", (long long) index_concat_branch_178208, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178246 = slt64(index_concat_branch_178208, index_concat_branch_178196);
                bool valid_178247 = !bounds_invalid_upwards_178246;
                bool range_valid_c_178248;
                
                if (!valid_178247) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178196, "..<", (long long) index_concat_branch_178208, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180402 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211;
                bool cond_178256 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, (int64_t) 1);
                int64_t zs_lhs_178257 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, (int64_t) 1);
                int64_t zp_rhs_178258 = sdiv_safe64(zs_lhs_178257, (int64_t) 20);
                int64_t min_num_blocks_178259 = add64((int64_t) 1, zp_rhs_178258);
                bool loop_cond_178260 = slt64((int64_t) 1, min_num_blocks_178259);
                bool smallest_pow_2_geq_than_res_178261;
                int64_t smallest_pow_2_geq_than_res_178262;
                bool loop_while_178263;
                int64_t x_178264;
                
                loop_while_178263 = loop_cond_178260;
                x_178264 = (int64_t) 1;
                while (loop_while_178263) {
                    int64_t loopres_178265 = mul64((int64_t) 2, x_178264);
                    bool loop_cond_178266 = slt64(loopres_178265, min_num_blocks_178259);
                    bool loop_while_tmp_181431 = loop_cond_178266;
                    int64_t x_tmp_181432 = loopres_178265;
                    
                    loop_while_178263 = loop_while_tmp_181431;
                    x_178264 = x_tmp_181432;
                }
                smallest_pow_2_geq_than_res_178261 = loop_while_178263;
                smallest_pow_2_geq_than_res_178262 = x_178264;
                
                bool zzero_178267 = smallest_pow_2_geq_than_res_178262 == (int64_t) 0;
                bool nonzzero_178268 = !zzero_178267;
                bool protect_assert_disj_178269 = cond_178256 || nonzzero_178268;
                bool nonzzero_cert_178270;
                
                if (!protect_assert_disj_178269) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_178271 = sdiv_safe64(zs_lhs_178257, smallest_pow_2_geq_than_res_178262);
                int64_t block_sizze_178272 = add64((int64_t) 1, zp_rhs_178271);
                bool y_178279 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211);
                bool protect_assert_disj_181148 = cond_178256 || y_178279;
                bool index_certs_178280;
                
                if (!protect_assert_disj_181148) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178317 = slt64(smallest_pow_2_geq_than_res_178262, (int64_t) 0);
                bool valid_178318 = !bounds_invalid_upwards_178317;
                bool protect_assert_disj_181158 = cond_178256 || valid_178318;
                bool range_valid_c_178319;
                
                if (!protect_assert_disj_181158) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_178262, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:389:63-73\n   #6  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178321 = slt64(block_sizze_178272, (int64_t) 0);
                bool valid_178322 = !bounds_invalid_upwards_178321;
                bool protect_assert_disj_181160 = cond_178256 || valid_178322;
                bool range_valid_c_178323;
                
                if (!protect_assert_disj_181160) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_178272, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_178325 = sle64(block_sizze_178272, (int64_t) 1);
                int64_t tmp_178326 = sub64(block_sizze_178272, (int64_t) 2);
                bool bounds_invalid_upwards_178327 = slt64(tmp_178326, (int64_t) 0);
                bool valid_178329 = !bounds_invalid_upwards_178327;
                bool protect_assert_disj_178330 = cond_178325 || valid_178329;
                bool protect_assert_disj_181162 = cond_178256 || protect_assert_disj_178330;
                bool range_valid_c_178331;
                
                if (!protect_assert_disj_181162) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_178326, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_178911 = card_178214 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211;
                bool empty_or_match_cert_178912;
                
                if (!dim_match_178911) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "] cannot match shape of type `[", (long long) card_178214, "](i8, i64, i64)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_178913 = card_178214 == (int64_t) 0;
                int64_t m_178914 = sub64(card_178214, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_178915 = sle64((int64_t) 0, m_178914);
                bool i_p_m_t_s_leq_w_178916 = slt64(m_178914, card_178214);
                bool y_178917 = zzero_leq_i_p_m_t_s_178915 && i_p_m_t_s_leq_w_178916;
                bool ok_or_empty_178918 = empty_slice_178913 || y_178917;
                bool index_certs_178919;
                
                if (!ok_or_empty_178918) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178214, "] out of bounds for array of shape [", (long long) card_178214, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_178920 = slt64(m_178914, perThread_174534);
                bool y_178921 = zzero_leq_i_p_m_t_s_178915 && i_p_m_t_s_leq_w_178920;
                bool ok_or_empty_178922 = empty_slice_178913 || y_178921;
                bool index_certs_178923;
                
                if (!ok_or_empty_178922) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178214, "] out of bounds for array of shape [", (long long) perThread_174534, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_181433 = 0; nest_i_181433 < perThread_174534; nest_i_181433++) {
                    ((int8_t *) mem_180367)[i_179716 * perThread_174534 + nest_i_181433] = (int8_t) -1;
                }
                for (int64_t nest_i_181434 = 0; nest_i_181434 < perThread_174534; nest_i_181434++) {
                    ((int64_t *) mem_180370)[i_179716 * perThread_174534 + nest_i_181434] = (int64_t) -1;
                }
                for (int64_t nest_i_181435 = 0; nest_i_181435 < perThread_174534; nest_i_181435++) {
                    ((int64_t *) mem_180373)[i_179716 * perThread_174534 + nest_i_181435] = (int64_t) 0;
                }
                
                int64_t slice_178230 = p_174496 + index_concat_branch_178193;
                
                if (memblock_alloc(ctx, &mem_180401, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "mem_180401")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_181436 = 0; nest_i_181436 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210; nest_i_181436++) {
                    ((int8_t *) mem_180401.mem)[nest_i_181436] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180403, bytes_180402, "mem_180403")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_181437 = 0; i_181437 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210; i_181437++) {
                    int64_t x_181438 = index_concat_branch_178193 + i_181437 * (int64_t) 1;
                    
                    ((int64_t *) mem_180403.mem)[i_181437] = x_181438;
                }
                
                int64_t slice_178249 = p_174497 + index_concat_branch_178196;
                
                for (int64_t nest_i_181439 = 0; nest_i_181439 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209; nest_i_181439++) {
                    ((int8_t *) mem_180401.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210 + nest_i_181439] = (int8_t) 1;
                }
                for (int64_t i_181440 = 0; i_181440 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209; i_181440++) {
                    int64_t x_181441 = index_concat_branch_178196 + i_181440 * (int64_t) 1;
                    
                    ((int64_t *) mem_180403.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210 + i_181440] = x_181441;
                }
                
                int64_t tmp_offs_181442 = (int64_t) 0;
                
                if (!(tmp_offs_181442 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180401.mem, tmp_offs_181442, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180401.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210});
                }
                tmp_offs_181442 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210;
                if (!(tmp_offs_181442 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180401.mem, tmp_offs_181442, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180401.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209});
                }
                tmp_offs_181442 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209;
                
                int64_t tmp_offs_181443 = (int64_t) 0;
                
                if (!(tmp_offs_181443 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180403.mem, tmp_offs_181443, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180403.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210});
                }
                tmp_offs_181443 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210;
                if (!(tmp_offs_181443 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180403.mem, tmp_offs_181443, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180403.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209});
                }
                tmp_offs_181443 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209;
                if (memblock_alloc(ctx, &mem_180405, bytes_180402, "mem_180405")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_181444 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180405.mem, tmp_offs_181444, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_179986.mem, slice_178230, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210});
                tmp_offs_181444 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180405.mem, tmp_offs_181444, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_179987.mem, slice_178249, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209});
                tmp_offs_181444 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209;
                
                int64_t flat_dim_178273 = smallest_pow_2_geq_than_res_178262 * block_sizze_178272;
                bool x_181143 = !cond_178256;
                int64_t greatest_divisor_leq_than_arg1_178277 = mul64((int64_t) 2, block_sizze_178272);
                int64_t merge_block_sizze_178278;
                
                if (x_181143) {
                    int64_t x_181145;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181145, (int64_t) 8, greatest_divisor_leq_than_arg1_178277) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_178278 = x_181145;
                } else {
                    merge_block_sizze_178278 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178281 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, (int64_t) 0);
                int8_t index_concat_branch_178282 = btoi_bool_i8(index_concat_cmp_178281);
                int64_t index_concat_i_178284 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                int64_t index_primexp_178285 = add64(index_concat_branch_178196, index_concat_i_178284);
                int64_t index_concat_branch_178283;
                
                if (index_concat_cmp_178281) {
                    index_concat_branch_178283 = index_primexp_178285;
                } else {
                    index_concat_branch_178283 = index_concat_branch_178193;
                }
                
                bool x_181139 = !index_concat_cmp_178281;
                bool protect_cond_conj_181149 = x_181139 && x_181143;
                int64_t index_concat_178291;
                
                if (protect_cond_conj_181149) {
                    int64_t x_181141 = ((int64_t *) a_list_mem_179986.mem)[slice_178230];
                    
                    index_concat_178291 = x_181141;
                } else {
                    index_concat_178291 = (int64_t) 0;
                }
                
                int64_t slice_178289 = p_174497 + index_primexp_178285;
                bool protect_cond_conj_181150 = index_concat_cmp_178281 && x_181143;
                int64_t index_concat_178290;
                
                if (protect_cond_conj_181150) {
                    int64_t x_181137 = ((int64_t *) b_list_mem_179987.mem)[slice_178289];
                    
                    index_concat_178290 = x_181137;
                } else {
                    index_concat_178290 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178286;
                
                if (index_concat_cmp_178281) {
                    index_concat_branch_178286 = index_concat_178290;
                } else {
                    index_concat_branch_178286 = index_concat_178291;
                }
                
                int8_t defunc_0_reduce_res_178292;
                int64_t defunc_0_reduce_res_178293;
                int64_t defunc_0_reduce_res_178294;
                
                if (x_181143) {
                    int8_t x_181151;
                    int64_t x_181152;
                    int64_t x_181153;
                    int8_t redout_179653;
                    int64_t redout_179654;
                    int64_t redout_179655;
                    
                    redout_179653 = index_concat_branch_178282;
                    redout_179654 = index_concat_branch_178283;
                    redout_179655 = index_concat_branch_178286;
                    for (int64_t i_179656 = 0; i_179656 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211; i_179656++) {
                        bool index_concat_cmp_179914 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, i_179656);
                        int8_t index_concat_branch_179918 = btoi_bool_i8(index_concat_cmp_179914);
                        int64_t index_concat_branch_179912;
                        
                        if (index_concat_cmp_179914) {
                            int64_t index_concat_i_179909 = sub64(i_179656, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                            int64_t index_primexp_179962 = add64(index_concat_branch_178196, index_concat_i_179909);
                            
                            index_concat_branch_179912 = index_primexp_179962;
                        } else {
                            int64_t index_primexp_179964 = add64(index_concat_branch_178193, i_179656);
                            
                            index_concat_branch_179912 = index_primexp_179964;
                        }
                        
                        int64_t index_concat_branch_179906;
                        
                        if (index_concat_cmp_179914) {
                            int64_t index_concat_i_179903 = sub64(i_179656, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                            int64_t slice_179959 = slice_178249 + index_concat_i_179903;
                            int64_t index_concat_179904 = ((int64_t *) b_list_mem_179987.mem)[slice_179959];
                            
                            index_concat_branch_179906 = index_concat_179904;
                        } else {
                            int64_t slice_179960 = slice_178230 + i_179656;
                            int64_t index_concat_179905 = ((int64_t *) a_list_mem_179986.mem)[slice_179960];
                            
                            index_concat_branch_179906 = index_concat_179905;
                        }
                        
                        bool eq_x_y_179976 = redout_179653 == (int8_t) 1;
                        bool eq_x_zz_179977 = redout_179653 == (int8_t) 0;
                        bool p_and_eq_x_y_179978 = index_concat_cmp_179914 && eq_x_y_179976;
                        bool not_p_179979 = !index_concat_cmp_179914;
                        bool p_and_eq_x_y_179980 = eq_x_zz_179977 && not_p_179979;
                        bool cond_178304 = p_and_eq_x_y_179978 || p_and_eq_x_y_179980;
                        bool defunc_0_leq_res_t_res_178305 = sle64(redout_179654, index_concat_branch_179912);
                        bool defunc_0_leq_res_178306 = sle64(redout_179655, index_concat_branch_179906);
                        bool x_178307 = cond_178304 && defunc_0_leq_res_t_res_178305;
                        bool x_178308 = !cond_178304;
                        bool y_178309 = defunc_0_leq_res_178306 && x_178308;
                        bool defunc_0_leq_res_178310 = x_178307 || y_178309;
                        int8_t defunc_0_op_res_178311;
                        
                        if (defunc_0_leq_res_178310) {
                            defunc_0_op_res_178311 = index_concat_branch_179918;
                        } else {
                            defunc_0_op_res_178311 = redout_179653;
                        }
                        
                        int64_t defunc_0_op_res_178312;
                        
                        if (defunc_0_leq_res_178310) {
                            defunc_0_op_res_178312 = index_concat_branch_179912;
                        } else {
                            defunc_0_op_res_178312 = redout_179654;
                        }
                        
                        int64_t defunc_0_op_res_178313;
                        
                        if (defunc_0_leq_res_178310) {
                            defunc_0_op_res_178313 = index_concat_branch_179906;
                        } else {
                            defunc_0_op_res_178313 = redout_179655;
                        }
                        
                        int8_t redout_tmp_181445 = defunc_0_op_res_178311;
                        int64_t redout_tmp_181446 = defunc_0_op_res_178312;
                        int64_t redout_tmp_181447 = defunc_0_op_res_178313;
                        
                        redout_179653 = redout_tmp_181445;
                        redout_179654 = redout_tmp_181446;
                        redout_179655 = redout_tmp_181447;
                    }
                    x_181151 = redout_179653;
                    x_181152 = redout_179654;
                    x_181153 = redout_179655;
                    defunc_0_reduce_res_178292 = x_181151;
                    defunc_0_reduce_res_178293 = x_181152;
                    defunc_0_reduce_res_178294 = x_181153;
                } else {
                    defunc_0_reduce_res_178292 = (int8_t) 0;
                    defunc_0_reduce_res_178293 = (int64_t) 0;
                    defunc_0_reduce_res_178294 = (int64_t) 0;
                }
                
                int64_t distance_178328 = add64((int64_t) 1, tmp_178326);
                int64_t binop_x_180408 = (int64_t) 8 * smallest_pow_2_geq_than_res_178262;
                int64_t bytes_180409 = block_sizze_178272 * binop_x_180408;
                int64_t bytes_180427 = (int64_t) 8 * block_sizze_178272;
                bool loop_cond_178454 = slt64(block_sizze_178272, flat_dim_178273);
                bool zzero_178455 = merge_block_sizze_178278 == (int64_t) 0;
                bool nonzzero_178456 = !zzero_178455;
                
                if (cond_178256) {
                    if (memblock_set(ctx, &ext_mem_180700, &mem_180401, "mem_180401") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180697, &mem_180403, "mem_180403") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180694, &mem_180405, "mem_180405") != 0)
                        return 1;
                } else {
                    if (mem_180407_cached_sizze_181912 < flat_dim_178273) {
                        err = lexical_realloc(ctx, &mem_180407, &mem_180407_cached_sizze_181912, flat_dim_178273);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180410_cached_sizze_181913 < bytes_180409) {
                        err = lexical_realloc(ctx, &mem_180410, &mem_180410_cached_sizze_181913, bytes_180409);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180413_cached_sizze_181914 < bytes_180409) {
                        err = lexical_realloc(ctx, &mem_180413, &mem_180413_cached_sizze_181914, bytes_180409);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180426_cached_sizze_181915 < block_sizze_178272) {
                        err = lexical_realloc(ctx, &mem_180426, &mem_180426_cached_sizze_181915, block_sizze_178272);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180428_cached_sizze_181916 < bytes_180427) {
                        err = lexical_realloc(ctx, &mem_180428, &mem_180428_cached_sizze_181916, bytes_180427);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180430_cached_sizze_181917 < bytes_180427) {
                        err = lexical_realloc(ctx, &mem_180430, &mem_180430_cached_sizze_181917, bytes_180427);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179673 = 0; i_179673 < smallest_pow_2_geq_than_res_178262; i_179673++) {
                        int64_t zp_lhs_178336 = mul64(block_sizze_178272, i_179673);
                        
                        for (int64_t i_179663 = 0; i_179663 < block_sizze_178272; i_179663++) {
                            int64_t k_178341 = add64(zp_lhs_178336, i_179663);
                            bool cond_178342 = slt64(k_178341, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211);
                            int8_t lifted_lambda_res_178343;
                            int64_t lifted_lambda_res_178344;
                            int64_t lifted_lambda_res_178345;
                            
                            if (cond_178342) {
                                bool x_178346 = sle64((int64_t) 0, k_178341);
                                bool bounds_check_178347 = cond_178342 && x_178346;
                                bool index_certs_178348;
                                
                                if (!bounds_check_178347) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_178341, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_178349 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, k_178341);
                                int8_t index_concat_branch_178350 = btoi_bool_i8(index_concat_cmp_178349);
                                int64_t index_concat_branch_178351;
                                
                                if (index_concat_cmp_178349) {
                                    int64_t index_concat_i_178352 = sub64(k_178341, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                                    int64_t index_primexp_178353 = add64(index_concat_branch_178196, index_concat_i_178352);
                                    
                                    index_concat_branch_178351 = index_primexp_178353;
                                } else {
                                    int64_t index_primexp_178354 = add64(index_concat_branch_178193, k_178341);
                                    
                                    index_concat_branch_178351 = index_primexp_178354;
                                }
                                
                                int64_t index_concat_branch_178355;
                                
                                if (index_concat_cmp_178349) {
                                    int64_t index_concat_i_178356 = sub64(k_178341, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                                    int64_t slice_178357 = index_concat_branch_178196 + index_concat_i_178356;
                                    int64_t slice_178358 = p_174497 + slice_178357;
                                    int64_t index_concat_178359 = ((int64_t *) b_list_mem_179987.mem)[slice_178358];
                                    
                                    index_concat_branch_178355 = index_concat_178359;
                                } else {
                                    int64_t slice_178360 = index_concat_branch_178193 + k_178341;
                                    int64_t slice_178361 = p_174496 + slice_178360;
                                    int64_t index_concat_178362 = ((int64_t *) a_list_mem_179986.mem)[slice_178361];
                                    
                                    index_concat_branch_178355 = index_concat_178362;
                                }
                                lifted_lambda_res_178343 = index_concat_branch_178350;
                                lifted_lambda_res_178344 = index_concat_branch_178351;
                                lifted_lambda_res_178345 = index_concat_branch_178355;
                            } else {
                                lifted_lambda_res_178343 = defunc_0_reduce_res_178292;
                                lifted_lambda_res_178344 = defunc_0_reduce_res_178293;
                                lifted_lambda_res_178345 = defunc_0_reduce_res_178294;
                            }
                            ((int8_t *) mem_180426)[i_179663] = lifted_lambda_res_178343;
                            ((int64_t *) mem_180428)[i_179663] = lifted_lambda_res_178344;
                            ((int64_t *) mem_180430)[i_179663] = lifted_lambda_res_178345;
                        }
                        if (!cond_178325) {
                            for (int64_t i_178372 = 0; i_178372 < distance_178328; i_178372++) {
                                int64_t gt_arg1_178376 = add64((int64_t) 1, i_178372);
                                bool x_178377 = sle64((int64_t) 0, gt_arg1_178376);
                                bool y_178378 = slt64(gt_arg1_178376, block_sizze_178272);
                                bool bounds_check_178379 = x_178377 && y_178378;
                                bool index_certs_178380;
                                
                                if (!bounds_check_178379) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_178376, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_178384 = slt64(i_178372, block_sizze_178272);
                                bool index_certs_178385;
                                
                                if (!y_178384) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178372, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_178381 = ((int8_t *) mem_180426)[gt_arg1_178376];
                                int64_t gt_arg1_178382 = ((int64_t *) mem_180428)[gt_arg1_178376];
                                int64_t gt_arg1_178383 = ((int64_t *) mem_180430)[gt_arg1_178376];
                                int8_t gt_arg0_178386 = ((int8_t *) mem_180426)[i_178372];
                                int64_t gt_arg0_178387 = ((int64_t *) mem_180428)[i_178372];
                                int64_t gt_arg0_178388 = ((int64_t *) mem_180430)[i_178372];
                                bool cond_178389 = gt_arg0_178386 == gt_arg1_178381;
                                bool defunc_0_leq_res_t_res_178390 = sle64(gt_arg0_178387, gt_arg1_178382);
                                bool defunc_0_leq_res_178391 = sle64(gt_arg0_178388, gt_arg1_178383);
                                bool x_178392 = cond_178389 && defunc_0_leq_res_t_res_178390;
                                bool x_178393 = !cond_178389;
                                bool y_178394 = defunc_0_leq_res_178391 && x_178393;
                                bool defunc_0_leq_res_178395 = x_178392 || y_178394;
                                bool defunc_0_lifted_gt_res_178396 = !defunc_0_leq_res_178395;
                                bool s_178397;
                                int64_t s_178401;
                                bool loop_while_178402;
                                int64_t j_178406;
                                
                                loop_while_178402 = defunc_0_lifted_gt_res_178396;
                                j_178406 = i_178372;
                                while (loop_while_178402) {
                                    bool x_178407 = sle64((int64_t) 0, j_178406);
                                    bool y_178408 = slt64(j_178406, block_sizze_178272);
                                    bool bounds_check_178409 = x_178407 && y_178408;
                                    bool index_certs_178410;
                                    
                                    if (!bounds_check_178409) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178406, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_178414 = add64((int64_t) 1, j_178406);
                                    bool x_178415 = sle64((int64_t) 0, copy_arg0_178414);
                                    bool y_178416 = slt64(copy_arg0_178414, block_sizze_178272);
                                    bool bounds_check_178417 = x_178415 && y_178416;
                                    bool index_certs_178418;
                                    
                                    if (!bounds_check_178417) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_178414, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_178411 = ((int8_t *) mem_180426)[j_178406];
                                    int64_t copy_arg0_178412 = ((int64_t *) mem_180428)[j_178406];
                                    int64_t copy_arg0_178413 = ((int64_t *) mem_180430)[j_178406];
                                    int8_t copy_arg0_178419 = ((int8_t *) mem_180426)[copy_arg0_178414];
                                    int64_t copy_arg0_178420 = ((int64_t *) mem_180428)[copy_arg0_178414];
                                    int64_t copy_arg0_178421 = ((int64_t *) mem_180430)[copy_arg0_178414];
                                    
                                    ((int8_t *) mem_180426)[j_178406] = copy_arg0_178419;
                                    ((int64_t *) mem_180428)[j_178406] = copy_arg0_178420;
                                    ((int64_t *) mem_180430)[j_178406] = copy_arg0_178421;
                                    ((int8_t *) mem_180426)[copy_arg0_178414] = copy_arg0_178411;
                                    ((int64_t *) mem_180428)[copy_arg0_178414] = copy_arg0_178412;
                                    ((int64_t *) mem_180430)[copy_arg0_178414] = copy_arg0_178413;
                                    
                                    int64_t tmp_178428 = sub64(j_178406, (int64_t) 1);
                                    bool cond_178429 = sle64((int64_t) 0, tmp_178428);
                                    bool loop_cond_178430;
                                    
                                    if (cond_178429) {
                                        bool y_178434 = slt64(tmp_178428, block_sizze_178272);
                                        bool bounds_check_178435 = cond_178429 && y_178434;
                                        bool index_certs_178436;
                                        
                                        if (!bounds_check_178435) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178428, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_178431 = ((int8_t *) mem_180426)[j_178406];
                                        int64_t gt_arg1_178432 = ((int64_t *) mem_180428)[j_178406];
                                        int64_t gt_arg1_178433 = ((int64_t *) mem_180430)[j_178406];
                                        int8_t gt_arg0_178437 = ((int8_t *) mem_180426)[tmp_178428];
                                        int64_t gt_arg0_178438 = ((int64_t *) mem_180428)[tmp_178428];
                                        int64_t gt_arg0_178439 = ((int64_t *) mem_180430)[tmp_178428];
                                        bool cond_178440 = gt_arg0_178437 == gt_arg1_178431;
                                        bool defunc_0_leq_res_t_res_178441 = sle64(gt_arg0_178438, gt_arg1_178432);
                                        bool defunc_0_leq_res_178442 = sle64(gt_arg0_178439, gt_arg1_178433);
                                        bool x_178443 = cond_178440 && defunc_0_leq_res_t_res_178441;
                                        bool x_178444 = !cond_178440;
                                        bool y_178445 = defunc_0_leq_res_178442 && x_178444;
                                        bool defunc_0_leq_res_178446 = x_178443 || y_178445;
                                        bool defunc_0_lifted_gt_res_178447 = !defunc_0_leq_res_178446;
                                        
                                        loop_cond_178430 = defunc_0_lifted_gt_res_178447;
                                    } else {
                                        loop_cond_178430 = 0;
                                    }
                                    
                                    bool loop_while_tmp_181457 = loop_cond_178430;
                                    int64_t j_tmp_181461 = tmp_178428;
                                    
                                    loop_while_178402 = loop_while_tmp_181457;
                                    j_178406 = j_tmp_181461;
                                }
                                s_178397 = loop_while_178402;
                                s_178401 = j_178406;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180407, i_179673 * block_sizze_178272, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180426, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178272});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180410, i_179673 * block_sizze_178272, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180428, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178272});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180413, i_179673 * block_sizze_178272, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180430, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178272});
                    }
                    if (memblock_alloc(ctx, &mem_180507, flat_dim_178273, "mem_180507")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180507.mem, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (uint8_t *) mem_180407, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178262, block_sizze_178272});
                    if (memblock_alloc(ctx, &mem_180511, bytes_180409, "mem_180511")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180511.mem, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (uint64_t *) mem_180410, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178262, block_sizze_178272});
                    if (memblock_alloc(ctx, &mem_180515, bytes_180409, "mem_180515")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180515.mem, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (uint64_t *) mem_180413, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178262, block_sizze_178272});
                    
                    int64_t data_178457;
                    bool data_178458;
                    int64_t data_178462;
                    int64_t loop_dz2084Uz2082U_178463;
                    bool loop_while_178464;
                    int64_t stride_178468;
                    
                    if (memblock_set(ctx, &mem_param_180519, &mem_180507, "mem_180507") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180522, &mem_180511, "mem_180511") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180525, &mem_180515, "mem_180515") != 0)
                        return 1;
                    loop_dz2084Uz2082U_178463 = flat_dim_178273;
                    loop_while_178464 = loop_cond_178454;
                    stride_178468 = block_sizze_178272;
                    while (loop_while_178464) {
                        int64_t next_stride_178469 = mul64((int64_t) 2, stride_178468);
                        bool zzero_178470 = next_stride_178469 == (int64_t) 0;
                        bool nonzzero_178471 = !zzero_178470;
                        bool nonzzero_cert_178472;
                        
                        if (!nonzzero_178471) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_178473 = sdiv64(flat_dim_178273, next_stride_178469);
                        bool bounds_invalid_upwards_178474 = slt64(num_merges_178473, (int64_t) 0);
                        bool valid_178475 = !bounds_invalid_upwards_178474;
                        bool range_valid_c_178476;
                        
                        if (!valid_178475) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_178473, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:389:63-73\n   #6  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_178478 = sub64(next_stride_178469, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_178479 = sle64((int64_t) 0, m_178478);
                        bool cond_178481 = slt64(next_stride_178469, (int64_t) 10);
                        bool protect_assert_disj_178482 = nonzzero_178456 || cond_178481;
                        bool nonzzero_cert_178483;
                        
                        if (!protect_assert_disj_178482) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_178484 = smod_safe64(next_stride_178469, merge_block_sizze_178278);
                        bool num_blocks_178485 = zeze_lhs_178484 == (int64_t) 0;
                        bool protect_assert_disj_178486 = cond_178481 || num_blocks_178485;
                        bool assert_c_178487;
                        
                        if (!protect_assert_disj_178486) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_178488 = sdiv_safe64(next_stride_178469, merge_block_sizze_178278);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489 = add64((int64_t) 1, num_blocks_178488);
                        int64_t j_m_i_178490 = sub64(next_stride_178469, stride_178468);
                        int64_t flat_dim_178491 = merge_block_sizze_178278 * num_blocks_178488;
                        bool bounds_invalid_upwards_178492 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489, (int64_t) 0);
                        bool empty_slice_178493 = j_m_i_178490 == (int64_t) 0;
                        int64_t m_178494 = sub64(j_m_i_178490, (int64_t) 1);
                        bool zzero_lte_i_178495 = sle64((int64_t) 0, stride_178468);
                        bool i_lte_j_178496 = sle64(stride_178468, next_stride_178469);
                        bool empty_slice_178497 = stride_178468 == (int64_t) 0;
                        int64_t m_178498 = sub64(stride_178468, (int64_t) 1);
                        bool bounds_invalid_upwards_178499 = slt64(num_blocks_178488, (int64_t) 0);
                        bool cond_178500 = slt64((int64_t) 0, stride_178468);
                        bool valid_178501 = !bounds_invalid_upwards_178492;
                        int64_t i_p_m_t_s_178502 = add64(stride_178468, m_178494);
                        bool zzero_leq_i_p_m_t_s_178503 = sle64((int64_t) 0, m_178498);
                        bool i_p_m_t_s_leq_w_178504 = slt64(m_178498, next_stride_178469);
                        bool valid_178505 = !bounds_invalid_upwards_178499;
                        bool i_p_m_t_s_leq_w_178506 = slt64(m_178478, flat_dim_178491);
                        bool y_178507 = slt64((int64_t) 0, j_m_i_178490);
                        bool protect_assert_disj_178508 = cond_178481 || valid_178501;
                        bool range_valid_c_178509;
                        
                        if (!protect_assert_disj_178508) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_178510 = sle64((int64_t) 0, i_p_m_t_s_178502);
                        bool i_p_m_t_s_leq_w_178511 = slt64(i_p_m_t_s_178502, next_stride_178469);
                        bool y_178512 = zzero_leq_i_p_m_t_s_178503 && i_p_m_t_s_leq_w_178504;
                        bool protect_assert_disj_178513 = cond_178481 || valid_178505;
                        bool range_valid_c_178514;
                        
                        if (!protect_assert_disj_178513) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_178488, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_178515 = zzero_leq_i_p_m_t_s_178479 && i_p_m_t_s_leq_w_178506;
                        bool y_178516 = zzero_lte_i_178495 && i_p_m_t_s_leq_w_178511;
                        bool forwards_ok_178517 = zzero_lte_i_178495 && y_178512;
                        bool ok_or_empty_178518 = zzero_178470 || y_178515;
                        bool protect_assert_disj_178519 = cond_178500 || y_178507;
                        bool y_178520 = zzero_leq_i_p_m_t_s_178510 && y_178516;
                        bool ok_or_empty_178521 = empty_slice_178497 || forwards_ok_178517;
                        bool protect_assert_disj_178522 = cond_178481 || ok_or_empty_178518;
                        bool index_certs_178523;
                        
                        if (!protect_assert_disj_178522) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_178469, "] out of bounds for array of shape [", (long long) flat_dim_178491, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_178524 = !cond_178481;
                        bool protect_assert_disj_178525 = protect_assert_disj_178519 || loop_not_taken_178524;
                        bool index_certs_178526;
                        
                        if (!protect_assert_disj_178525) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_178527 = i_lte_j_178496 && y_178520;
                        bool protect_assert_disj_178528 = cond_178481 || ok_or_empty_178521;
                        bool index_certs_178529;
                        
                        if (!protect_assert_disj_178528) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_178468, "] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_178530 = ok_or_empty_178521 || loop_not_taken_178524;
                        bool index_certs_178531;
                        
                        if (!protect_assert_disj_178530) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_178468, "] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_178532 = empty_slice_178493 || forwards_ok_178527;
                        bool protect_assert_disj_178533 = cond_178481 || ok_or_empty_178532;
                        bool index_certs_178534;
                        
                        if (!protect_assert_disj_178533) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_178468, ":] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_178535 = loop_not_taken_178524 || ok_or_empty_178532;
                        bool index_certs_178536;
                        
                        if (!protect_assert_disj_178535) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_178468, ":] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180526 = next_stride_178469 * num_merges_178473;
                        int64_t binop_x_180528 = (int64_t) 8 * num_merges_178473;
                        int64_t bytes_180529 = next_stride_178469 * binop_x_180528;
                        bool i_lte_j_178480 = sle64((int64_t) 0, next_stride_178469);
                        
                        if (mem_180527_cached_sizze_181918 < bytes_180526) {
                            err = lexical_realloc(ctx, &mem_180527, &mem_180527_cached_sizze_181918, bytes_180526);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180530_cached_sizze_181919 < bytes_180529) {
                            err = lexical_realloc(ctx, &mem_180530, &mem_180530_cached_sizze_181919, bytes_180529);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180533_cached_sizze_181920 < bytes_180529) {
                            err = lexical_realloc(ctx, &mem_180533, &mem_180533_cached_sizze_181920, bytes_180529);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180546 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489;
                        int64_t binop_x_180564 = (int64_t) 8 * num_blocks_178488;
                        int64_t bytes_180565 = merge_block_sizze_178278 * binop_x_180564;
                        int64_t bytes_180629 = (int64_t) 16 * stride_178468;
                        
                        for (int64_t i_179700 = 0; i_179700 < num_merges_178473; i_179700++) {
                            int64_t start_178541 = mul64(next_stride_178469, i_179700);
                            int64_t j_m_i_178542 = sub64(loop_dz2084Uz2082U_178463, start_178541);
                            bool empty_slice_178543 = j_m_i_178542 == (int64_t) 0;
                            int64_t m_178544 = sub64(j_m_i_178542, (int64_t) 1);
                            int64_t i_p_m_t_s_178545 = add64(start_178541, m_178544);
                            bool zzero_leq_i_p_m_t_s_178546 = sle64((int64_t) 0, i_p_m_t_s_178545);
                            bool i_p_m_t_s_leq_w_178547 = slt64(i_p_m_t_s_178545, loop_dz2084Uz2082U_178463);
                            bool zzero_lte_i_178548 = sle64((int64_t) 0, start_178541);
                            bool i_lte_j_178549 = sle64(start_178541, loop_dz2084Uz2082U_178463);
                            bool y_178550 = i_p_m_t_s_leq_w_178547 && zzero_lte_i_178548;
                            bool y_178551 = zzero_leq_i_p_m_t_s_178546 && y_178550;
                            bool forwards_ok_178552 = i_lte_j_178549 && y_178551;
                            bool ok_or_empty_178553 = empty_slice_178543 || forwards_ok_178552;
                            bool index_certs_178554;
                            
                            if (!ok_or_empty_178553) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_178541, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_178463, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_178555 = slt64(m_178478, j_m_i_178542);
                            bool y_178556 = zzero_leq_i_p_m_t_s_178479 && i_p_m_t_s_leq_w_178555;
                            bool forwards_ok_178557 = i_lte_j_178480 && y_178556;
                            bool ok_or_empty_178558 = zzero_178470 || forwards_ok_178557;
                            bool index_certs_178559;
                            
                            if (!ok_or_empty_178558) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_178469, "] out of bounds for array of shape [", (long long) j_m_i_178542, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_178481) {
                                int8_t dummy_178563;
                                int64_t dummy_178564;
                                int64_t dummy_178565;
                                
                                if (cond_178500) {
                                    int8_t head_res_178566 = ((int8_t *) mem_param_180519.mem)[start_178541];
                                    int64_t head_res_178567 = ((int64_t *) mem_param_180522.mem)[start_178541];
                                    int64_t head_res_178568 = ((int64_t *) mem_param_180525.mem)[start_178541];
                                    
                                    dummy_178563 = head_res_178566;
                                    dummy_178564 = head_res_178567;
                                    dummy_178565 = head_res_178568;
                                } else {
                                    int64_t slice_178569 = stride_178468 + start_178541;
                                    int8_t head_res_178570 = ((int8_t *) mem_param_180519.mem)[slice_178569];
                                    int64_t head_res_178571 = ((int64_t *) mem_param_180522.mem)[slice_178569];
                                    int64_t head_res_178572 = ((int64_t *) mem_param_180525.mem)[slice_178569];
                                    
                                    dummy_178563 = head_res_178570;
                                    dummy_178564 = head_res_178571;
                                    dummy_178565 = head_res_178572;
                                }
                                if (memblock_alloc(ctx, &mem_180628, next_stride_178469, "mem_180628")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181474 = 0; nest_i_181474 < next_stride_178469; nest_i_181474++) {
                                    ((int8_t *) mem_180628.mem)[nest_i_181474] = dummy_178563;
                                }
                                if (memblock_alloc(ctx, &mem_180630, bytes_180629, "mem_180630")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181475 = 0; nest_i_181475 < next_stride_178469; nest_i_181475++) {
                                    ((int64_t *) mem_180630.mem)[nest_i_181475] = dummy_178564;
                                }
                                if (memblock_alloc(ctx, &mem_180632, bytes_180629, "mem_180632")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181476 = 0; nest_i_181476 < next_stride_178469; nest_i_181476++) {
                                    ((int64_t *) mem_180632.mem)[nest_i_181476] = dummy_178565;
                                }
                                
                                int64_t data_178576;
                                int64_t i_178581 = (int64_t) 0;
                                
                                for (int64_t k_178580 = 0; k_178580 < next_stride_178469; k_178580++) {
                                    int64_t j_178585 = sub64(k_178580, i_178581);
                                    bool cond_178586 = j_178585 == j_m_i_178490;
                                    bool cond_178587;
                                    
                                    if (cond_178586) {
                                        cond_178587 = 1;
                                    } else {
                                        bool cond_178588 = slt64(i_178581, stride_178468);
                                        bool cond_f_res_178589;
                                        
                                        if (cond_178588) {
                                            bool x_178590 = sle64((int64_t) 0, j_178585);
                                            bool y_178591 = slt64(j_178585, j_m_i_178490);
                                            bool bounds_check_178592 = x_178590 && y_178591;
                                            bool index_certs_178593;
                                            
                                            if (!bounds_check_178592) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178585, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178599 = sle64((int64_t) 0, i_178581);
                                            bool bounds_check_178600 = cond_178588 && x_178599;
                                            bool index_certs_178601;
                                            
                                            if (!bounds_check_178600) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178581, "] out of bounds for array of shape [", (long long) stride_178468, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178594 = stride_178468 + j_178585;
                                            int64_t slice_178595 = start_178541 + slice_178594;
                                            int8_t leq_arg1_178596 = ((int8_t *) mem_param_180519.mem)[slice_178595];
                                            int64_t leq_arg1_178597 = ((int64_t *) mem_param_180522.mem)[slice_178595];
                                            int64_t leq_arg1_178598 = ((int64_t *) mem_param_180525.mem)[slice_178595];
                                            int64_t slice_178602 = start_178541 + i_178581;
                                            int8_t leq_arg0_178603 = ((int8_t *) mem_param_180519.mem)[slice_178602];
                                            int64_t leq_arg0_178604 = ((int64_t *) mem_param_180522.mem)[slice_178602];
                                            int64_t leq_arg0_178605 = ((int64_t *) mem_param_180525.mem)[slice_178602];
                                            bool cond_178606 = leq_arg0_178603 == leq_arg1_178596;
                                            bool defunc_0_leq_res_t_res_178607 = sle64(leq_arg0_178604, leq_arg1_178597);
                                            bool defunc_0_leq_res_178608 = sle64(leq_arg0_178605, leq_arg1_178598);
                                            bool x_178609 = cond_178606 && defunc_0_leq_res_t_res_178607;
                                            bool x_178610 = !cond_178606;
                                            bool y_178611 = defunc_0_leq_res_178608 && x_178610;
                                            bool defunc_0_leq_res_178612 = x_178609 || y_178611;
                                            
                                            cond_f_res_178589 = defunc_0_leq_res_178612;
                                        } else {
                                            cond_f_res_178589 = 0;
                                        }
                                        cond_178587 = cond_f_res_178589;
                                    }
                                    
                                    int64_t loopres_178613;
                                    int8_t loopres_178614;
                                    int64_t loopres_178615;
                                    int64_t loopres_178616;
                                    
                                    if (cond_178587) {
                                        bool x_178618 = sle64((int64_t) 0, i_178581);
                                        bool y_178619 = slt64(i_178581, stride_178468);
                                        bool bounds_check_178620 = x_178618 && y_178619;
                                        bool index_certs_178621;
                                        
                                        if (!bounds_check_178620) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178581, "] out of bounds for array of shape [", (long long) stride_178468, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_178617 = add64((int64_t) 1, i_178581);
                                        int64_t slice_178622 = start_178541 + i_178581;
                                        int8_t tmp_178623 = ((int8_t *) mem_param_180519.mem)[slice_178622];
                                        int64_t tmp_178624 = ((int64_t *) mem_param_180522.mem)[slice_178622];
                                        int64_t tmp_178625 = ((int64_t *) mem_param_180525.mem)[slice_178622];
                                        
                                        loopres_178613 = tmp_178617;
                                        loopres_178614 = tmp_178623;
                                        loopres_178615 = tmp_178624;
                                        loopres_178616 = tmp_178625;
                                    } else {
                                        bool x_178626 = sle64((int64_t) 0, j_178585);
                                        bool y_178627 = slt64(j_178585, j_m_i_178490);
                                        bool bounds_check_178628 = x_178626 && y_178627;
                                        bool index_certs_178629;
                                        
                                        if (!bounds_check_178628) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178585, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178630 = stride_178468 + j_178585;
                                        int64_t slice_178631 = start_178541 + slice_178630;
                                        int8_t tmp_178632 = ((int8_t *) mem_param_180519.mem)[slice_178631];
                                        int64_t tmp_178633 = ((int64_t *) mem_param_180522.mem)[slice_178631];
                                        int64_t tmp_178634 = ((int64_t *) mem_param_180525.mem)[slice_178631];
                                        
                                        loopres_178613 = i_178581;
                                        loopres_178614 = tmp_178632;
                                        loopres_178615 = tmp_178633;
                                        loopres_178616 = tmp_178634;
                                    }
                                    ((int8_t *) mem_180628.mem)[k_178580] = loopres_178614;
                                    ((int64_t *) mem_180630.mem)[k_178580] = loopres_178615;
                                    ((int64_t *) mem_180632.mem)[k_178580] = loopres_178616;
                                    
                                    int64_t i_tmp_181477 = loopres_178613;
                                    
                                    i_178581 = i_tmp_181477;
                                }
                                data_178576 = i_178581;
                                if (memblock_set(ctx, &ext_mem_180659, &mem_180628, "mem_180628") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180656, &mem_180630, "mem_180630") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180653, &mem_180632, "mem_180632") != 0)
                                    return 1;
                            } else {
                                if (mem_180547_cached_sizze_181921 < bytes_180546) {
                                    err = lexical_realloc(ctx, &mem_180547, &mem_180547_cached_sizze_181921, bytes_180546);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180549_cached_sizze_181922 < bytes_180546) {
                                    err = lexical_realloc(ctx, &mem_180549, &mem_180549_cached_sizze_181922, bytes_180546);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179681 = 0; i_179681 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489; i_179681++) {
                                    int64_t split_count_arg3_178642 = mul64(merge_block_sizze_178278, i_179681);
                                    int64_t defunc_0_split_count_res_178643;
                                    int64_t defunc_0_split_count_res_178644;
                                    int64_t defunc_0_split_count_res_178645;
                                    int64_t defunc_0_split_count_res_178646;
                                    int64_t defunc_0_split_count_res_178647;
                                    
                                    if (futrts_lifted_normalizze_8970(ctx, &defunc_0_split_count_res_178643, &defunc_0_split_count_res_178644, &defunc_0_split_count_res_178645, &defunc_0_split_count_res_178646, &defunc_0_split_count_res_178647, (int64_t) 0, stride_178468, (int64_t) 0, j_m_i_178490, split_count_arg3_178642) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_178648 = slt64((int64_t) 0, defunc_0_split_count_res_178647);
                                    bool defunc_0_split_count_res_178649;
                                    int64_t defunc_0_split_count_res_178650;
                                    int64_t defunc_0_split_count_res_178651;
                                    int64_t defunc_0_split_count_res_178652;
                                    int64_t defunc_0_split_count_res_178653;
                                    int64_t defunc_0_split_count_res_178654;
                                    bool loop_while_178655;
                                    int64_t ss_178656;
                                    int64_t ss_178657;
                                    int64_t tt_178658;
                                    int64_t tt_178659;
                                    int64_t count_178660;
                                    
                                    loop_while_178655 = loop_cond_178648;
                                    ss_178656 = defunc_0_split_count_res_178643;
                                    ss_178657 = defunc_0_split_count_res_178644;
                                    tt_178658 = defunc_0_split_count_res_178645;
                                    tt_178659 = defunc_0_split_count_res_178646;
                                    count_178660 = defunc_0_split_count_res_178647;
                                    while (loop_while_178655) {
                                        int64_t zlze_lhs_178661 = sub64(ss_178657, ss_178656);
                                        bool cond_178662 = sle64(zlze_lhs_178661, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_178663;
                                        int64_t defunc_0_lifted_step_res_178664;
                                        int64_t defunc_0_lifted_step_res_178665;
                                        int64_t defunc_0_lifted_step_res_178666;
                                        
                                        if (cond_178662) {
                                            int64_t tmp_178667 = add64(tt_178658, count_178660);
                                            
                                            defunc_0_lifted_step_res_178663 = ss_178656;
                                            defunc_0_lifted_step_res_178664 = tmp_178667;
                                            defunc_0_lifted_step_res_178665 = tt_178659;
                                            defunc_0_lifted_step_res_178666 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_178668 = sub64(tt_178659, tt_178658);
                                            bool cond_178669 = sle64(zlze_lhs_178668, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_178670;
                                            int64_t defunc_0_lifted_step_res_f_res_178671;
                                            int64_t defunc_0_lifted_step_res_f_res_178672;
                                            int64_t defunc_0_lifted_step_res_f_res_178673;
                                            
                                            if (cond_178669) {
                                                int64_t tmp_178674 = add64(ss_178656, count_178660);
                                                
                                                defunc_0_lifted_step_res_f_res_178670 = tmp_178674;
                                                defunc_0_lifted_step_res_f_res_178671 = tt_178658;
                                                defunc_0_lifted_step_res_f_res_178672 = tt_178659;
                                                defunc_0_lifted_step_res_f_res_178673 = (int64_t) 0;
                                            } else {
                                                bool cond_178675 = count_178660 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178676;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178677;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178678;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178679;
                                                
                                                if (cond_178675) {
                                                    bool x_178680 = sle64((int64_t) 0, ss_178656);
                                                    bool y_178681 = slt64(ss_178656, stride_178468);
                                                    bool bounds_check_178682 = x_178680 && y_178681;
                                                    bool index_certs_178683;
                                                    
                                                    if (!bounds_check_178682) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_178656, "] out of bounds for array of shape [", (long long) stride_178468, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:389:63-73\n   #13 ftsort.fut:382:1-389:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_178688 = sle64((int64_t) 0, tt_178658);
                                                    bool y_178689 = slt64(tt_178658, j_m_i_178490);
                                                    bool bounds_check_178690 = x_178688 && y_178689;
                                                    bool index_certs_178691;
                                                    
                                                    if (!bounds_check_178690) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_178658, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:389:63-73\n   #13 ftsort.fut:382:1-389:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_178684 = start_178541 + ss_178656;
                                                    int8_t leq_arg1_178685 = ((int8_t *) mem_param_180519.mem)[slice_178684];
                                                    int64_t leq_arg1_178686 = ((int64_t *) mem_param_180522.mem)[slice_178684];
                                                    int64_t leq_arg1_178687 = ((int64_t *) mem_param_180525.mem)[slice_178684];
                                                    int64_t slice_178692 = stride_178468 + tt_178658;
                                                    int64_t slice_178693 = start_178541 + slice_178692;
                                                    int8_t leq_arg0_178694 = ((int8_t *) mem_param_180519.mem)[slice_178693];
                                                    int64_t leq_arg0_178695 = ((int64_t *) mem_param_180522.mem)[slice_178693];
                                                    int64_t leq_arg0_178696 = ((int64_t *) mem_param_180525.mem)[slice_178693];
                                                    bool cond_178697 = leq_arg0_178694 == leq_arg1_178685;
                                                    bool defunc_0_leq_res_t_res_178698 = sle64(leq_arg0_178695, leq_arg1_178686);
                                                    bool defunc_0_leq_res_178699 = sle64(leq_arg0_178696, leq_arg1_178687);
                                                    bool x_178700 = cond_178697 && defunc_0_leq_res_t_res_178698;
                                                    bool x_178701 = !cond_178697;
                                                    bool y_178702 = defunc_0_leq_res_178699 && x_178701;
                                                    bool defunc_0_leq_res_178703 = x_178700 || y_178702;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178704;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178705;
                                                    
                                                    if (defunc_0_leq_res_178703) {
                                                        int64_t tmp_178706 = add64((int64_t) 1, tt_178658);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178704 = ss_178656;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178705 = tmp_178706;
                                                    } else {
                                                        int64_t tmp_178707 = add64((int64_t) 1, ss_178656);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178704 = tmp_178707;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178705 = tt_178658;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_178676 = defunc_0_lifted_step_res_f_res_f_res_t_res_178704;
                                                    defunc_0_lifted_step_res_f_res_f_res_178677 = defunc_0_lifted_step_res_f_res_f_res_t_res_178705;
                                                    defunc_0_lifted_step_res_f_res_f_res_178678 = tt_178659;
                                                    defunc_0_lifted_step_res_f_res_f_res_178679 = (int64_t) 0;
                                                } else {
                                                    int64_t m_178708 = sdiv64(count_178660, (int64_t) 2);
                                                    int64_t n_178709 = sub64(count_178660, m_178708);
                                                    bool cond_178710 = n_178709 == (int64_t) 0;
                                                    int64_t zgze_lhs_178711 = add64(ss_178656, m_178708);
                                                    bool cond_f_res_178712 = sle64(ss_178657, zgze_lhs_178711);
                                                    bool x_178713 = !cond_178710;
                                                    bool y_178714 = cond_f_res_178712 && x_178713;
                                                    bool cond_178715 = cond_178710 || y_178714;
                                                    bool leq_y_x_178716;
                                                    
                                                    if (cond_178715) {
                                                        leq_y_x_178716 = 1;
                                                    } else {
                                                        bool x_178717 = sle64((int64_t) 0, zgze_lhs_178711);
                                                        bool y_178718 = slt64(zgze_lhs_178711, stride_178468);
                                                        bool bounds_check_178719 = x_178717 && y_178718;
                                                        bool index_certs_178720;
                                                        
                                                        if (!bounds_check_178719) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_178711, "] out of bounds for array of shape [", (long long) stride_178468, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:389:63-73\n   #13 ftsort.fut:382:1-389:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_178725 = add64(tt_178658, n_178709);
                                                        int64_t leq_arg0_178726 = sub64(zm_lhs_178725, (int64_t) 1);
                                                        bool x_178727 = sle64((int64_t) 0, leq_arg0_178726);
                                                        bool y_178728 = slt64(leq_arg0_178726, j_m_i_178490);
                                                        bool bounds_check_178729 = x_178727 && y_178728;
                                                        bool index_certs_178730;
                                                        
                                                        if (!bounds_check_178729) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_178726, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:389:63-73\n   #13 ftsort.fut:382:1-389:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_178721 = start_178541 + zgze_lhs_178711;
                                                        int8_t leq_arg1_178722 = ((int8_t *) mem_param_180519.mem)[slice_178721];
                                                        int64_t leq_arg1_178723 = ((int64_t *) mem_param_180522.mem)[slice_178721];
                                                        int64_t leq_arg1_178724 = ((int64_t *) mem_param_180525.mem)[slice_178721];
                                                        int64_t slice_178731 = stride_178468 + leq_arg0_178726;
                                                        int64_t slice_178732 = start_178541 + slice_178731;
                                                        int8_t leq_arg0_178733 = ((int8_t *) mem_param_180519.mem)[slice_178732];
                                                        int64_t leq_arg0_178734 = ((int64_t *) mem_param_180522.mem)[slice_178732];
                                                        int64_t leq_arg0_178735 = ((int64_t *) mem_param_180525.mem)[slice_178732];
                                                        bool cond_178736 = leq_arg0_178733 == leq_arg1_178722;
                                                        bool defunc_0_leq_res_t_res_178737 = sle64(leq_arg0_178734, leq_arg1_178723);
                                                        bool defunc_0_leq_res_178738 = sle64(leq_arg0_178735, leq_arg1_178724);
                                                        bool x_178739 = cond_178736 && defunc_0_leq_res_t_res_178737;
                                                        bool x_178740 = !cond_178736;
                                                        bool y_178741 = defunc_0_leq_res_178738 && x_178740;
                                                        bool defunc_0_leq_res_178742 = x_178739 || y_178741;
                                                        
                                                        leq_y_x_178716 = defunc_0_leq_res_178742;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178743;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178744;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178745;
                                                    
                                                    if (leq_y_x_178716) {
                                                        int64_t tmp_178746 = add64(tt_178658, n_178709);
                                                        int64_t tmp_178747 = sub64(count_178660, n_178709);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178743 = tmp_178746;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178744 = tt_178659;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178745 = tmp_178747;
                                                    } else {
                                                        int64_t tmp_178748 = add64(tt_178658, n_178709);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178743 = tt_178658;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178744 = tmp_178748;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178745 = count_178660;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_178676 = ss_178656;
                                                    defunc_0_lifted_step_res_f_res_f_res_178677 = defunc_0_lifted_step_res_f_res_f_res_f_res_178743;
                                                    defunc_0_lifted_step_res_f_res_f_res_178678 = defunc_0_lifted_step_res_f_res_f_res_f_res_178744;
                                                    defunc_0_lifted_step_res_f_res_f_res_178679 = defunc_0_lifted_step_res_f_res_f_res_f_res_178745;
                                                }
                                                defunc_0_lifted_step_res_f_res_178670 = defunc_0_lifted_step_res_f_res_f_res_178676;
                                                defunc_0_lifted_step_res_f_res_178671 = defunc_0_lifted_step_res_f_res_f_res_178677;
                                                defunc_0_lifted_step_res_f_res_178672 = defunc_0_lifted_step_res_f_res_f_res_178678;
                                                defunc_0_lifted_step_res_f_res_178673 = defunc_0_lifted_step_res_f_res_f_res_178679;
                                            }
                                            defunc_0_lifted_step_res_178663 = defunc_0_lifted_step_res_f_res_178670;
                                            defunc_0_lifted_step_res_178664 = defunc_0_lifted_step_res_f_res_178671;
                                            defunc_0_lifted_step_res_178665 = defunc_0_lifted_step_res_f_res_178672;
                                            defunc_0_lifted_step_res_178666 = defunc_0_lifted_step_res_f_res_178673;
                                        }
                                        
                                        int64_t loopres_178749;
                                        int64_t loopres_178750;
                                        int64_t loopres_178751;
                                        int64_t loopres_178752;
                                        int64_t loopres_178753;
                                        
                                        if (futrts_lifted_normalizze_8970(ctx, &loopres_178749, &loopres_178750, &loopres_178751, &loopres_178752, &loopres_178753, defunc_0_lifted_step_res_178663, ss_178657, defunc_0_lifted_step_res_178664, defunc_0_lifted_step_res_178665, defunc_0_lifted_step_res_178666) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_178754 = slt64((int64_t) 0, loopres_178753);
                                        bool loop_while_tmp_181483 = loop_cond_178754;
                                        int64_t ss_tmp_181484 = loopres_178749;
                                        int64_t ss_tmp_181485 = loopres_178750;
                                        int64_t tt_tmp_181486 = loopres_178751;
                                        int64_t tt_tmp_181487 = loopres_178752;
                                        int64_t count_tmp_181488 = loopres_178753;
                                        
                                        loop_while_178655 = loop_while_tmp_181483;
                                        ss_178656 = ss_tmp_181484;
                                        ss_178657 = ss_tmp_181485;
                                        tt_178658 = tt_tmp_181486;
                                        tt_178659 = tt_tmp_181487;
                                        count_178660 = count_tmp_181488;
                                    }
                                    defunc_0_split_count_res_178649 = loop_while_178655;
                                    defunc_0_split_count_res_178650 = ss_178656;
                                    defunc_0_split_count_res_178651 = ss_178657;
                                    defunc_0_split_count_res_178652 = tt_178658;
                                    defunc_0_split_count_res_178653 = tt_178659;
                                    defunc_0_split_count_res_178654 = count_178660;
                                    ((int64_t *) mem_180547)[i_179681] = defunc_0_split_count_res_178650;
                                    ((int64_t *) mem_180549)[i_179681] = defunc_0_split_count_res_178652;
                                }
                                if (mem_180563_cached_sizze_181923 < flat_dim_178491) {
                                    err = lexical_realloc(ctx, &mem_180563, &mem_180563_cached_sizze_181923, flat_dim_178491);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180566_cached_sizze_181924 < bytes_180565) {
                                    err = lexical_realloc(ctx, &mem_180566, &mem_180566_cached_sizze_181924, bytes_180565);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180569_cached_sizze_181925 < bytes_180565) {
                                    err = lexical_realloc(ctx, &mem_180569, &mem_180569_cached_sizze_181925, bytes_180565);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179690 = 0; i_179690 < num_blocks_178488; i_179690++) {
                                    bool y_178763 = slt64(i_179690, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489);
                                    bool index_certs_178765;
                                    
                                    if (!y_178763) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179690, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_178766 = ((int64_t *) mem_180547)[i_179690];
                                    int64_t defunc_0_f_res_178767 = ((int64_t *) mem_180549)[i_179690];
                                    int64_t tmp_178768 = add64((int64_t) 1, i_179690);
                                    bool x_178769 = sle64((int64_t) 0, tmp_178768);
                                    bool y_178770 = slt64(tmp_178768, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489);
                                    bool bounds_check_178771 = x_178769 && y_178770;
                                    bool index_certs_178772;
                                    
                                    if (!bounds_check_178771) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178768, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_178773 = ((int64_t *) mem_180547)[tmp_178768];
                                    int64_t defunc_0_f_res_178774 = ((int64_t *) mem_180549)[tmp_178768];
                                    int64_t merge_sequential_arg2_178775 = add64(stride_178468, defunc_0_f_res_178767);
                                    int64_t merge_sequential_arg2_178776 = add64(stride_178468, defunc_0_f_res_178774);
                                    int64_t j_m_i_178777 = sub64(merge_sequential_arg2_178776, merge_sequential_arg2_178775);
                                    bool empty_slice_178778 = j_m_i_178777 == (int64_t) 0;
                                    int64_t m_178779 = sub64(j_m_i_178777, (int64_t) 1);
                                    int64_t i_p_m_t_s_178780 = add64(merge_sequential_arg2_178775, m_178779);
                                    bool zzero_leq_i_p_m_t_s_178781 = sle64((int64_t) 0, i_p_m_t_s_178780);
                                    bool i_p_m_t_s_leq_w_178782 = slt64(i_p_m_t_s_178780, next_stride_178469);
                                    bool zzero_lte_i_178783 = sle64((int64_t) 0, merge_sequential_arg2_178775);
                                    bool i_lte_j_178784 = sle64(merge_sequential_arg2_178775, merge_sequential_arg2_178776);
                                    bool y_178785 = i_p_m_t_s_leq_w_178782 && zzero_lte_i_178783;
                                    bool y_178786 = zzero_leq_i_p_m_t_s_178781 && y_178785;
                                    bool forwards_ok_178787 = i_lte_j_178784 && y_178786;
                                    bool ok_or_empty_178788 = empty_slice_178778 || forwards_ok_178787;
                                    bool index_certs_178789;
                                    
                                    if (!ok_or_empty_178788) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_178775, ":", (long long) merge_sequential_arg2_178776, "] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_178790 = sub64(defunc_0_f_res_178773, defunc_0_f_res_178766);
                                    bool empty_slice_178791 = j_m_i_178790 == (int64_t) 0;
                                    int64_t m_178792 = sub64(j_m_i_178790, (int64_t) 1);
                                    int64_t i_p_m_t_s_178793 = add64(defunc_0_f_res_178766, m_178792);
                                    bool zzero_leq_i_p_m_t_s_178794 = sle64((int64_t) 0, i_p_m_t_s_178793);
                                    bool i_p_m_t_s_leq_w_178795 = slt64(i_p_m_t_s_178793, next_stride_178469);
                                    bool zzero_lte_i_178796 = sle64((int64_t) 0, defunc_0_f_res_178766);
                                    bool i_lte_j_178797 = sle64(defunc_0_f_res_178766, defunc_0_f_res_178773);
                                    bool y_178798 = i_p_m_t_s_leq_w_178795 && zzero_lte_i_178796;
                                    bool y_178799 = zzero_leq_i_p_m_t_s_178794 && y_178798;
                                    bool forwards_ok_178800 = i_lte_j_178797 && y_178799;
                                    bool ok_or_empty_178801 = empty_slice_178791 || forwards_ok_178800;
                                    bool index_certs_178802;
                                    
                                    if (!ok_or_empty_178801) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_178766, ":", (long long) defunc_0_f_res_178773, "] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_178803 = slt64((int64_t) 0, j_m_i_178790);
                                    int8_t dummy_178804;
                                    int64_t dummy_178805;
                                    int64_t dummy_178806;
                                    
                                    if (cond_178803) {
                                        bool index_certs_178807;
                                        
                                        if (!cond_178803) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178790, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178808 = start_178541 + defunc_0_f_res_178766;
                                        int8_t head_res_178809 = ((int8_t *) mem_param_180519.mem)[slice_178808];
                                        int64_t head_res_178810 = ((int64_t *) mem_param_180522.mem)[slice_178808];
                                        int64_t head_res_178811 = ((int64_t *) mem_param_180525.mem)[slice_178808];
                                        
                                        dummy_178804 = head_res_178809;
                                        dummy_178805 = head_res_178810;
                                        dummy_178806 = head_res_178811;
                                    } else {
                                        bool y_178812 = slt64((int64_t) 0, j_m_i_178777);
                                        bool index_certs_178813;
                                        
                                        if (!y_178812) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178777, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178814 = start_178541 + merge_sequential_arg2_178775;
                                        int8_t head_res_178815 = ((int8_t *) mem_param_180519.mem)[slice_178814];
                                        int64_t head_res_178816 = ((int64_t *) mem_param_180522.mem)[slice_178814];
                                        int64_t head_res_178817 = ((int64_t *) mem_param_180525.mem)[slice_178814];
                                        
                                        dummy_178804 = head_res_178815;
                                        dummy_178805 = head_res_178816;
                                        dummy_178806 = head_res_178817;
                                    }
                                    for (int64_t nest_i_181492 = 0; nest_i_181492 < merge_block_sizze_178278; nest_i_181492++) {
                                        ((int8_t *) mem_180563)[i_179690 * merge_block_sizze_178278 + nest_i_181492] = dummy_178804;
                                    }
                                    for (int64_t nest_i_181493 = 0; nest_i_181493 < merge_block_sizze_178278; nest_i_181493++) {
                                        ((int64_t *) mem_180566)[i_179690 * merge_block_sizze_178278 + nest_i_181493] = dummy_178805;
                                    }
                                    for (int64_t nest_i_181494 = 0; nest_i_181494 < merge_block_sizze_178278; nest_i_181494++) {
                                        ((int64_t *) mem_180569)[i_179690 * merge_block_sizze_178278 + nest_i_181494] = dummy_178806;
                                    }
                                    
                                    int64_t data_178821;
                                    int64_t i_178826 = (int64_t) 0;
                                    
                                    for (int64_t k_178825 = 0; k_178825 < merge_block_sizze_178278; k_178825++) {
                                        int64_t j_178830 = sub64(k_178825, i_178826);
                                        bool cond_178831 = j_178830 == j_m_i_178777;
                                        bool cond_178832;
                                        
                                        if (cond_178831) {
                                            cond_178832 = 1;
                                        } else {
                                            bool cond_178833 = slt64(i_178826, j_m_i_178790);
                                            bool cond_f_res_178834;
                                            
                                            if (cond_178833) {
                                                bool x_178835 = sle64((int64_t) 0, j_178830);
                                                bool y_178836 = slt64(j_178830, j_m_i_178777);
                                                bool bounds_check_178837 = x_178835 && y_178836;
                                                bool index_certs_178838;
                                                
                                                if (!bounds_check_178837) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178830, "] out of bounds for array of shape [", (long long) j_m_i_178777, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_178844 = sle64((int64_t) 0, i_178826);
                                                bool bounds_check_178845 = cond_178833 && x_178844;
                                                bool index_certs_178846;
                                                
                                                if (!bounds_check_178845) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178826, "] out of bounds for array of shape [", (long long) j_m_i_178790, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_178839 = merge_sequential_arg2_178775 + j_178830;
                                                int64_t slice_178840 = start_178541 + slice_178839;
                                                int8_t leq_arg1_178841 = ((int8_t *) mem_param_180519.mem)[slice_178840];
                                                int64_t leq_arg1_178842 = ((int64_t *) mem_param_180522.mem)[slice_178840];
                                                int64_t leq_arg1_178843 = ((int64_t *) mem_param_180525.mem)[slice_178840];
                                                int64_t slice_178847 = defunc_0_f_res_178766 + i_178826;
                                                int64_t slice_178848 = start_178541 + slice_178847;
                                                int8_t leq_arg0_178849 = ((int8_t *) mem_param_180519.mem)[slice_178848];
                                                int64_t leq_arg0_178850 = ((int64_t *) mem_param_180522.mem)[slice_178848];
                                                int64_t leq_arg0_178851 = ((int64_t *) mem_param_180525.mem)[slice_178848];
                                                bool cond_178852 = leq_arg0_178849 == leq_arg1_178841;
                                                bool defunc_0_leq_res_t_res_178853 = sle64(leq_arg0_178850, leq_arg1_178842);
                                                bool defunc_0_leq_res_178854 = sle64(leq_arg0_178851, leq_arg1_178843);
                                                bool x_178855 = cond_178852 && defunc_0_leq_res_t_res_178853;
                                                bool x_178856 = !cond_178852;
                                                bool y_178857 = defunc_0_leq_res_178854 && x_178856;
                                                bool defunc_0_leq_res_178858 = x_178855 || y_178857;
                                                
                                                cond_f_res_178834 = defunc_0_leq_res_178858;
                                            } else {
                                                cond_f_res_178834 = 0;
                                            }
                                            cond_178832 = cond_f_res_178834;
                                        }
                                        
                                        int64_t loopres_178859;
                                        int8_t loopres_178860;
                                        int64_t loopres_178861;
                                        int64_t loopres_178862;
                                        
                                        if (cond_178832) {
                                            bool x_178864 = sle64((int64_t) 0, i_178826);
                                            bool y_178865 = slt64(i_178826, j_m_i_178790);
                                            bool bounds_check_178866 = x_178864 && y_178865;
                                            bool index_certs_178867;
                                            
                                            if (!bounds_check_178866) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178826, "] out of bounds for array of shape [", (long long) j_m_i_178790, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_178863 = add64((int64_t) 1, i_178826);
                                            int64_t slice_178868 = defunc_0_f_res_178766 + i_178826;
                                            int64_t slice_178869 = start_178541 + slice_178868;
                                            int8_t tmp_178870 = ((int8_t *) mem_param_180519.mem)[slice_178869];
                                            int64_t tmp_178871 = ((int64_t *) mem_param_180522.mem)[slice_178869];
                                            int64_t tmp_178872 = ((int64_t *) mem_param_180525.mem)[slice_178869];
                                            
                                            loopres_178859 = tmp_178863;
                                            loopres_178860 = tmp_178870;
                                            loopres_178861 = tmp_178871;
                                            loopres_178862 = tmp_178872;
                                        } else {
                                            bool x_178873 = sle64((int64_t) 0, j_178830);
                                            bool y_178874 = slt64(j_178830, j_m_i_178777);
                                            bool bounds_check_178875 = x_178873 && y_178874;
                                            bool index_certs_178876;
                                            
                                            if (!bounds_check_178875) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178830, "] out of bounds for array of shape [", (long long) j_m_i_178777, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178877 = merge_sequential_arg2_178775 + j_178830;
                                            int64_t slice_178878 = start_178541 + slice_178877;
                                            int8_t tmp_178879 = ((int8_t *) mem_param_180519.mem)[slice_178878];
                                            int64_t tmp_178880 = ((int64_t *) mem_param_180522.mem)[slice_178878];
                                            int64_t tmp_178881 = ((int64_t *) mem_param_180525.mem)[slice_178878];
                                            
                                            loopres_178859 = i_178826;
                                            loopres_178860 = tmp_178879;
                                            loopres_178861 = tmp_178880;
                                            loopres_178862 = tmp_178881;
                                        }
                                        ((int8_t *) mem_180563)[i_179690 * merge_block_sizze_178278 + k_178825] = loopres_178860;
                                        ((int64_t *) mem_180566)[i_179690 * merge_block_sizze_178278 + k_178825] = loopres_178861;
                                        ((int64_t *) mem_180569)[i_179690 * merge_block_sizze_178278 + k_178825] = loopres_178862;
                                        
                                        int64_t i_tmp_181495 = loopres_178859;
                                        
                                        i_178826 = i_tmp_181495;
                                    }
                                    data_178821 = i_178826;
                                }
                                if (memblock_alloc(ctx, &mem_180618, flat_dim_178491, "mem_180618")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180618.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (uint8_t *) mem_180563, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (int64_t []) {num_blocks_178488, merge_block_sizze_178278});
                                if (memblock_alloc(ctx, &mem_180622, bytes_180565, "mem_180622")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180622.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (uint64_t *) mem_180566, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (int64_t []) {num_blocks_178488, merge_block_sizze_178278});
                                if (memblock_alloc(ctx, &mem_180626, bytes_180565, "mem_180626")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180626.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (uint64_t *) mem_180569, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (int64_t []) {num_blocks_178488, merge_block_sizze_178278});
                                if (memblock_set(ctx, &ext_mem_180659, &mem_180618, "mem_180618") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180656, &mem_180622, "mem_180622") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180653, &mem_180626, "mem_180626") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180527, i_179700 * next_stride_178469, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180659.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178469});
                            if (memblock_unref(ctx, &ext_mem_180659, "ext_mem_180659") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180530, i_179700 * next_stride_178469, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180656.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178469});
                            if (memblock_unref(ctx, &ext_mem_180656, "ext_mem_180656") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180533, i_179700 * next_stride_178469, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180653.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178469});
                            if (memblock_unref(ctx, &ext_mem_180653, "ext_mem_180653") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_180673, bytes_180526, "mem_180673")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180673.mem, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (uint8_t *) mem_180527, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (int64_t []) {num_merges_178473, next_stride_178469});
                        if (memblock_alloc(ctx, &mem_180677, bytes_180529, "mem_180677")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180677.mem, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (uint64_t *) mem_180530, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (int64_t []) {num_merges_178473, next_stride_178469});
                        if (memblock_alloc(ctx, &mem_180681, bytes_180529, "mem_180681")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180681.mem, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (uint64_t *) mem_180533, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (int64_t []) {num_merges_178473, next_stride_178469});
                        
                        bool loop_cond_178901 = slt64(next_stride_178469, flat_dim_178273);
                        
                        if (memblock_set(ctx, &mem_param_tmp_181462, &mem_180673, "mem_180673") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181463, &mem_180677, "mem_180677") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181464, &mem_180681, "mem_180681") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_181465 = bytes_180526;
                        bool loop_while_tmp_181466 = loop_cond_178901;
                        int64_t stride_tmp_181470 = next_stride_178469;
                        
                        if (memblock_set(ctx, &mem_param_180519, &mem_param_tmp_181462, "mem_param_tmp_181462") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180522, &mem_param_tmp_181463, "mem_param_tmp_181463") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180525, &mem_param_tmp_181464, "mem_param_tmp_181464") != 0)
                            return 1;
                        loop_dz2084Uz2082U_178463 = loop_dz2084Uz2082U_tmp_181465;
                        loop_while_178464 = loop_while_tmp_181466;
                        stride_178468 = stride_tmp_181470;
                    }
                    if (memblock_set(ctx, &ext_mem_180691, &mem_param_180519, "mem_param_180519") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180690, &mem_param_180522, "mem_param_180522") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180689, &mem_param_180525, "mem_param_180525") != 0)
                        return 1;
                    data_178457 = loop_dz2084Uz2082U_178463;
                    data_178458 = loop_while_178464;
                    data_178462 = stride_178468;
                    if (memblock_unref(ctx, &mem_180507, "mem_180507") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180511, "mem_180511") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180515, "mem_180515") != 0)
                        return 1;
                    
                    bool empty_slice_178902 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_178903 = sle64((int64_t) 0, zs_lhs_178257);
                    bool i_p_m_t_s_leq_w_178904 = slt64(zs_lhs_178257, data_178457);
                    bool y_178905 = zzero_leq_i_p_m_t_s_178903 && i_p_m_t_s_leq_w_178904;
                    bool ok_or_empty_178906 = empty_slice_178902 || y_178905;
                    bool index_certs_178907;
                    
                    if (!ok_or_empty_178906) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "] out of bounds for array of shape [", (long long) data_178457, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:389:63-73\n   #6  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_180700, &ext_mem_180691, "ext_mem_180691") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180697, &ext_mem_180690, "ext_mem_180690") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180694, &ext_mem_180689, "ext_mem_180689") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180401, "mem_180401") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180403, "mem_180403") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180405, "mem_180405") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180367, i_179716 * perThread_174534, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180700.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211});
                if (memblock_unref(ctx, &ext_mem_180700, "ext_mem_180700") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180370, i_179716 * perThread_174534, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180697.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211});
                if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180373, i_179716 * perThread_174534, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180694.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211});
                if (memblock_unref(ctx, &ext_mem_180694, "ext_mem_180694") != 0)
                    return 1;
                for (int64_t i_179706 = 0; i_179706 < perThread_174534; i_179706++) {
                    int64_t lifted_lambda_res_178929 = add64(zm_rhs_178213, i_179706);
                    
                    ((int64_t *) mem_180365)[i_179716 * perThread_174534 + i_179706] = lifted_lambda_res_178929;
                }
                
                bool cond_178931 = card_178214 == zp_rhs_174533;
                
                if (cond_178931) {
                    bool y_178933 = slt64(card_178214, perThread_174534);
                    bool index_certs_178934;
                    
                    if (!y_178933) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_178214, "] out of bounds for array of shape [", (long long) perThread_174534, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_180365)[i_179716 * perThread_174534 + card_178214] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_180726, bytes_180019, "mem_180726")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181500 = 0; nest_i_181500 < window_sizze_141186; nest_i_181500++) {
                ((int64_t *) mem_180726.mem)[nest_i_181500] = (int64_t) 0;
            }
            if (memblock_alloc(ctx, &mem_180728, bytes_180019, "mem_180728")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181501 = 0; nest_i_181501 < window_sizze_141186; nest_i_181501++) {
                ((int64_t *) mem_180728.mem)[nest_i_181501] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180729, window_sizze_141186, "mem_180729")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181502 = 0; nest_i_181502 < window_sizze_141186; nest_i_181502++) {
                ((int8_t *) mem_180729.mem)[nest_i_181502] = (int8_t) -1;
            }
            for (int64_t write_iter_179721 = 0; write_iter_179721 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174535; write_iter_179721++) {
                int64_t new_index_179873 = squot64(write_iter_179721, perThread_174534);
                int64_t binop_y_179875 = perThread_174534 * new_index_179873;
                int64_t new_index_179876 = write_iter_179721 - binop_y_179875;
                int64_t write_iv_179725 = ((int64_t *) mem_180365)[new_index_179873 * perThread_174534 + new_index_179876];
                int8_t write_iv_179726 = ((int8_t *) mem_180367)[new_index_179873 * perThread_174534 + new_index_179876];
                int64_t write_iv_179727 = ((int64_t *) mem_180370)[new_index_179873 * perThread_174534 + new_index_179876];
                int64_t write_iv_179728 = ((int64_t *) mem_180373)[new_index_179873 * perThread_174534 + new_index_179876];
                
                if (sle64((int64_t) 0, write_iv_179725) && slt64(write_iv_179725, window_sizze_141186)) {
                    ((int8_t *) mem_180729.mem)[write_iv_179725] = write_iv_179726;
                }
                if (sle64((int64_t) 0, write_iv_179725) && slt64(write_iv_179725, window_sizze_141186)) {
                    ((int64_t *) mem_180728.mem)[write_iv_179725] = write_iv_179727;
                }
                if (sle64((int64_t) 0, write_iv_179725) && slt64(write_iv_179725, window_sizze_141186)) {
                    ((int64_t *) mem_180726.mem)[write_iv_179725] = write_iv_179728;
                }
            }
            
            int64_t index_concat_branch_178957;
            
            if (index_concat_cmp_177297) {
                int64_t index_concat_178958 = ((int64_t *) mem_180348)[index_concat_i_177298];
                
                index_concat_branch_178957 = index_concat_178958;
            } else {
                index_concat_branch_178957 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178959;
            
            if (index_concat_cmp_177297) {
                int64_t index_concat_178960 = ((int64_t *) mem_180350)[index_concat_i_177298];
                
                index_concat_branch_178959 = index_concat_178960;
            } else {
                index_concat_branch_178959 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_180756, &mem_180729, "mem_180729") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_180753, &mem_180728, "mem_180728") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_180750, &mem_180726, "mem_180726") != 0)
                return 1;
            loopres_174524 = index_concat_branch_178957;
            loopres_174525 = index_concat_branch_178959;
        } else {
            int64_t leq_lhs_175515 = ((int64_t *) a_list_mem_179986.mem)[p_174496];
            int64_t leq_rhs_175518 = ((int64_t *) b_list_mem_179987.mem)[p_174497];
            bool defunc_0_leq_res_175519 = sle64(leq_lhs_175515, leq_rhs_175518);
            int64_t lowest_175520;
            
            if (defunc_0_leq_res_175519) {
                bool index_certs_178961;
                
                if (!y_175513) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_175520 = leq_lhs_175515;
            } else {
                bool index_certs_175525;
                
                if (!y_175513) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_175520 = leq_rhs_175518;
            }
            if (mem_180003_cached_sizze_181890 < bytes_180002) {
                err = lexical_realloc(ctx, &mem_180003, &mem_180003_cached_sizze_181890, bytes_180002);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180005_cached_sizze_181891 < bytes_180002) {
                err = lexical_realloc(ctx, &mem_180005, &mem_180005_cached_sizze_181891, bytes_180002);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_179736 = 0; i_179736 < threads_141187; i_179736++) {
                int64_t index_primexp_179952 = add64((int64_t) 1, i_179736);
                int64_t zs_lhs_175541 = mul64(zt_rhs_175534, index_primexp_179952);
                int64_t index_175542 = sdiv64(zs_lhs_175541, partitionFunc_arg0_175511);
                bool cond_175543 = slt64(window_sizze_141186, index_175542);
                int64_t loop_over_175544;
                
                if (cond_175543) {
                    loop_over_175544 = window_sizze_141186;
                } else {
                    loop_over_175544 = index_175542;
                }
                
                int64_t loop_over_175545;
                
                if (cond_175543) {
                    int64_t loop_over_t_res_178962 = sub64(index_175542, window_sizze_141186);
                    
                    loop_over_175545 = loop_over_t_res_178962;
                } else {
                    loop_over_175545 = (int64_t) 0;
                }
                
                int64_t loop_over_175547;
                
                if (cond_175543) {
                    int64_t zm_lhs_178963 = sub64(index_175542, window_sizze_141186);
                    int64_t loop_over_t_res_178964 = sub64(zm_lhs_178963, (int64_t) 1);
                    
                    loop_over_175547 = loop_over_t_res_178964;
                } else {
                    loop_over_175547 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_175550;
                int64_t defunc_0_f_res_175551;
                int64_t defunc_0_f_res_175552;
                int64_t defunc_0_f_res_175553;
                bool loop_while_175554;
                int64_t p_175555;
                int64_t p_175556;
                int64_t p_175557;
                
                loop_while_175554 = 1;
                p_175555 = loop_over_175547;
                p_175556 = loop_over_175544;
                p_175557 = loop_over_175545;
                while (loop_while_175554) {
                    int64_t zs_lhs_175558 = sub64(p_175556, p_175555);
                    int64_t offset_175559 = sdiv64(zs_lhs_175558, (int64_t) 2);
                    int64_t ai_175560 = sub64(p_175556, offset_175559);
                    int64_t max_arg1_175561 = add64(p_175557, offset_175559);
                    int64_t max_res_175562 = smax64((int64_t) 0, max_arg1_175561);
                    bool cond_175563 = slt64((int64_t) 0, max_res_175562);
                    int64_t b_prev_175564;
                    
                    if (cond_175563) {
                        int64_t tmp_178965 = sub64(max_res_175562, (int64_t) 1);
                        bool x_178966 = sle64((int64_t) 0, tmp_178965);
                        bool y_178967 = slt64(tmp_178965, window_sizze_141186);
                        bool bounds_check_178968 = x_178966 && y_178967;
                        bool index_certs_178969;
                        
                        if (!bounds_check_178968) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178965, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_178970 = p_174497 + tmp_178965;
                        int64_t b_prev_t_res_178971 = ((int64_t *) b_list_mem_179987.mem)[slice_178970];
                        
                        b_prev_175564 = b_prev_t_res_178971;
                    } else {
                        b_prev_175564 = lowest_175520;
                    }
                    
                    bool cond_175571 = sle64(ai_175560, (int64_t) 0);
                    int64_t loopres_175572;
                    int64_t loopres_175573;
                    int64_t loopres_175574;
                    bool loopres_175575;
                    
                    if (cond_175571) {
                        loopres_175572 = p_175555;
                        loopres_175573 = (int64_t) 0;
                        loopres_175574 = max_res_175562;
                        loopres_175575 = 0;
                    } else {
                        bool cond_175576 = sle64(window_sizze_141186, max_res_175562);
                        int64_t loopres_f_res_175577;
                        int64_t loopres_f_res_175578;
                        int64_t loopres_f_res_175579;
                        bool loopres_f_res_175580;
                        
                        if (cond_175576) {
                            int64_t min_res_178973 = smin64(m_174485, ai_175560);
                            bool x_178974 = sle64((int64_t) 0, m_174485);
                            bool y_178975 = slt64(m_174485, window_sizze_141186);
                            bool bounds_check_178976 = x_178974 && y_178975;
                            bool index_certs_178977;
                            
                            if (!bounds_check_178976) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174485, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_178980 = sle64((int64_t) 0, min_res_178973);
                            bool y_178981 = slt64(min_res_178973, window_sizze_141186);
                            bool bounds_check_178982 = x_178980 && y_178981;
                            bool index_certs_178983;
                            
                            if (!bounds_check_178982) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178973, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t leq_lhs_178979 = ((int64_t *) b_list_mem_179987.mem)[i_p_m_t_s_174513];
                            int64_t slice_178984 = p_174496 + min_res_178973;
                            int64_t leq_rhs_178985 = ((int64_t *) a_list_mem_179986.mem)[slice_178984];
                            bool defunc_0_leq_res_178986 = sle64(leq_lhs_178979, leq_rhs_178985);
                            int64_t loopres_f_res_t_res_178987;
                            
                            if (defunc_0_leq_res_178986) {
                                loopres_f_res_t_res_178987 = ai_175560;
                            } else {
                                loopres_f_res_t_res_178987 = p_175556;
                            }
                            
                            bool x_178988 = !defunc_0_leq_res_178986;
                            int64_t loopres_f_res_t_res_178989;
                            
                            if (defunc_0_leq_res_178986) {
                                loopres_f_res_t_res_178989 = window_sizze_141186;
                            } else {
                                int64_t tmp_178990 = sub64(m_174485, offset_175559);
                                
                                loopres_f_res_t_res_178989 = tmp_178990;
                            }
                            loopres_f_res_175577 = p_175555;
                            loopres_f_res_175578 = loopres_f_res_t_res_178987;
                            loopres_f_res_175579 = loopres_f_res_t_res_178989;
                            loopres_f_res_175580 = x_178988;
                        } else {
                            bool cond_175598 = sle64(window_sizze_141186, ai_175560);
                            int64_t loopres_f_res_f_res_175599;
                            int64_t loopres_f_res_f_res_175600;
                            int64_t loopres_f_res_f_res_175601;
                            bool loopres_f_res_f_res_175602;
                            
                            if (cond_175598) {
                                int64_t min_res_178992 = smin64(m_174485, max_res_175562);
                                bool x_178993 = sle64((int64_t) 0, m_174485);
                                bool y_178994 = slt64(m_174485, window_sizze_141186);
                                bool bounds_check_178995 = x_178993 && y_178994;
                                bool index_certs_178996;
                                
                                if (!bounds_check_178995) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174485, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178999 = sle64((int64_t) 0, min_res_178992);
                                bool y_179000 = slt64(min_res_178992, window_sizze_141186);
                                bool bounds_check_179001 = x_178999 && y_179000;
                                bool index_certs_179002;
                                
                                if (!bounds_check_179001) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178992, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t leq_lhs_178998 = ((int64_t *) a_list_mem_179986.mem)[i_p_m_t_s_174502];
                                int64_t slice_179003 = p_174497 + min_res_178992;
                                int64_t leq_rhs_179004 = ((int64_t *) b_list_mem_179987.mem)[slice_179003];
                                bool defunc_0_leq_res_179005 = sle64(leq_lhs_178998, leq_rhs_179004);
                                int64_t loopres_f_res_f_res_t_res_179006;
                                
                                if (defunc_0_leq_res_179005) {
                                    loopres_f_res_f_res_t_res_179006 = max_res_175562;
                                } else {
                                    loopres_f_res_f_res_t_res_179006 = p_175557;
                                }
                                
                                bool x_179007 = !defunc_0_leq_res_179005;
                                int64_t loopres_f_res_f_res_t_res_179008;
                                
                                if (defunc_0_leq_res_179005) {
                                    loopres_f_res_f_res_t_res_179008 = window_sizze_141186;
                                } else {
                                    loopres_f_res_f_res_t_res_179008 = m_174485;
                                }
                                loopres_f_res_f_res_175599 = p_175555;
                                loopres_f_res_f_res_175600 = loopres_f_res_f_res_t_res_179008;
                                loopres_f_res_f_res_175601 = loopres_f_res_f_res_t_res_179006;
                                loopres_f_res_f_res_175602 = x_179007;
                            } else {
                                bool cond_175619 = sle64(p_175556, p_175555);
                                int64_t loopres_f_res_f_res_f_res_175620;
                                int64_t loopres_f_res_f_res_f_res_175621;
                                int64_t loopres_f_res_f_res_f_res_175622;
                                bool loopres_f_res_f_res_f_res_175623;
                                
                                if (cond_175619) {
                                    bool cond_179047 = slt64(ai_175560, window_sizze_141186);
                                    int64_t ai_179048;
                                    
                                    if (cond_179047) {
                                        ai_179048 = ai_175560;
                                    } else {
                                        ai_179048 = m_174485;
                                    }
                                    
                                    bool x_179061 = sle64((int64_t) 0, ai_179048);
                                    bool y_179062 = slt64(ai_179048, window_sizze_141186);
                                    bool bounds_check_179063 = x_179061 && y_179062;
                                    bool index_certs_179064;
                                    
                                    if (!bounds_check_179063) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179048, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t b_prev_179050;
                                    
                                    if (cond_175563) {
                                        int64_t tmp_179051 = sub64(max_res_175562, (int64_t) 1);
                                        bool x_179052 = sle64((int64_t) 0, tmp_179051);
                                        bool y_179053 = slt64(tmp_179051, window_sizze_141186);
                                        bool bounds_check_179054 = x_179052 && y_179053;
                                        bool index_certs_179055;
                                        
                                        if (!bounds_check_179054) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179051, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179056 = p_174497 + tmp_179051;
                                        int64_t b_prev_t_res_179057 = ((int64_t *) b_list_mem_179987.mem)[slice_179056];
                                        
                                        b_prev_179050 = b_prev_t_res_179057;
                                    } else {
                                        bool index_certs_179059;
                                        
                                        if (!y_175513) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179050 = leq_rhs_175518;
                                    }
                                    
                                    int64_t slice_179065 = p_174496 + ai_179048;
                                    int64_t gt_lhs_179066 = ((int64_t *) a_list_mem_179986.mem)[slice_179065];
                                    bool defunc_0_gt_res_179067 = slt64(b_prev_179050, gt_lhs_179066);
                                    int64_t defunc_0_partFunc_sequential_search_res_179068;
                                    int64_t defunc_0_partFunc_sequential_search_res_179069;
                                    
                                    if (defunc_0_gt_res_179067) {
                                        int64_t zl_rhs_179070 = sub64(window_sizze_141186, max_res_175562);
                                        bool loop_cond_179071 = slt64((int64_t) 0, zl_rhs_179070);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179072;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179073;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179074;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179075;
                                        bool loop_while_179076;
                                        int64_t p_179077;
                                        int64_t p_179078;
                                        int64_t p_179079;
                                        
                                        loop_while_179076 = loop_cond_179071;
                                        p_179077 = ai_179048;
                                        p_179078 = max_res_175562;
                                        p_179079 = (int64_t) 0;
                                        while (loop_while_179076) {
                                            int64_t i_a_179080 = sub64(ai_179048, p_179079);
                                            int64_t i_b_179081 = add64(max_res_175562, p_179079);
                                            int64_t leq_lhs_179082 = sub64(i_a_179080, (int64_t) 1);
                                            bool x_179083 = sle64((int64_t) 0, leq_lhs_179082);
                                            bool y_179084 = slt64(leq_lhs_179082, window_sizze_141186);
                                            bool bounds_check_179085 = x_179083 && y_179084;
                                            bool index_certs_179086;
                                            
                                            if (!bounds_check_179085) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179082, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179089 = sle64((int64_t) 0, i_b_179081);
                                            bool y_179090 = slt64(i_b_179081, window_sizze_141186);
                                            bool bounds_check_179091 = x_179089 && y_179090;
                                            bool index_certs_179092;
                                            
                                            if (!bounds_check_179091) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179081, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179087 = p_174496 + leq_lhs_179082;
                                            int64_t leq_lhs_179088 = ((int64_t *) a_list_mem_179986.mem)[slice_179087];
                                            int64_t slice_179093 = p_174497 + i_b_179081;
                                            int64_t leq_rhs_179094 = ((int64_t *) b_list_mem_179987.mem)[slice_179093];
                                            bool defunc_0_leq_res_179095 = sle64(leq_lhs_179088, leq_rhs_179094);
                                            int64_t loopres_179096;
                                            
                                            if (defunc_0_leq_res_179095) {
                                                loopres_179096 = i_a_179080;
                                            } else {
                                                loopres_179096 = ai_179048;
                                            }
                                            
                                            int64_t loopres_179097;
                                            
                                            if (defunc_0_leq_res_179095) {
                                                loopres_179097 = i_b_179081;
                                            } else {
                                                loopres_179097 = max_res_175562;
                                            }
                                            
                                            int64_t loopres_179098;
                                            
                                            if (defunc_0_leq_res_179095) {
                                                loopres_179098 = zl_rhs_179070;
                                            } else {
                                                int64_t tmp_179099 = add64((int64_t) 1, p_179079);
                                                
                                                loopres_179098 = tmp_179099;
                                            }
                                            
                                            bool loop_cond_179100 = slt64(loopres_179098, zl_rhs_179070);
                                            bool loop_while_tmp_181512 = loop_cond_179100;
                                            int64_t p_tmp_181513 = loopres_179096;
                                            int64_t p_tmp_181514 = loopres_179097;
                                            int64_t p_tmp_181515 = loopres_179098;
                                            
                                            loop_while_179076 = loop_while_tmp_181512;
                                            p_179077 = p_tmp_181513;
                                            p_179078 = p_tmp_181514;
                                            p_179079 = p_tmp_181515;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179072 = loop_while_179076;
                                        defunc_0_partFunc_sequential_search_res_t_res_179073 = p_179077;
                                        defunc_0_partFunc_sequential_search_res_t_res_179074 = p_179078;
                                        defunc_0_partFunc_sequential_search_res_t_res_179075 = p_179079;
                                        defunc_0_partFunc_sequential_search_res_179068 = defunc_0_partFunc_sequential_search_res_t_res_179073;
                                        defunc_0_partFunc_sequential_search_res_179069 = defunc_0_partFunc_sequential_search_res_t_res_179074;
                                    } else {
                                        int64_t zl_rhs_179101 = sub64(max_res_175562, (int64_t) 1);
                                        bool loop_cond_179102 = slt64((int64_t) 0, zl_rhs_179101);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179103;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179104;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179105;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179106;
                                        bool loop_while_179107;
                                        int64_t p_179108;
                                        int64_t p_179109;
                                        int64_t p_179110;
                                        
                                        loop_while_179107 = loop_cond_179102;
                                        p_179108 = ai_179048;
                                        p_179109 = max_res_175562;
                                        p_179110 = (int64_t) 0;
                                        while (loop_while_179107) {
                                            int64_t zp_lhs_179111 = add64(ai_179048, p_179110);
                                            int64_t hi_a_179112 = add64((int64_t) 1, zp_lhs_179111);
                                            bool cond_179113 = slt64(hi_a_179112, window_sizze_141186);
                                            int64_t i_a_179114;
                                            
                                            if (cond_179113) {
                                                i_a_179114 = hi_a_179112;
                                            } else {
                                                i_a_179114 = m_174485;
                                            }
                                            
                                            int64_t zm_lhs_179116 = sub64(max_res_175562, p_179110);
                                            int64_t i_b_179117 = sub64(zm_lhs_179116, (int64_t) 1);
                                            bool x_179118 = sle64((int64_t) 0, i_a_179114);
                                            bool y_179119 = slt64(i_a_179114, window_sizze_141186);
                                            bool bounds_check_179120 = x_179118 && y_179119;
                                            bool index_certs_179121;
                                            
                                            if (!bounds_check_179120) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179114, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179124 = sle64((int64_t) 0, i_b_179117);
                                            bool y_179125 = slt64(i_b_179117, window_sizze_141186);
                                            bool bounds_check_179126 = x_179124 && y_179125;
                                            bool index_certs_179127;
                                            
                                            if (!bounds_check_179126) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179117, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179122 = p_174496 + i_a_179114;
                                            int64_t gt_lhs_179123 = ((int64_t *) a_list_mem_179986.mem)[slice_179122];
                                            int64_t slice_179128 = p_174497 + i_b_179117;
                                            int64_t gt_rhs_179129 = ((int64_t *) b_list_mem_179987.mem)[slice_179128];
                                            bool defunc_0_gt_res_179130 = slt64(gt_rhs_179129, gt_lhs_179123);
                                            int64_t loopres_179131;
                                            
                                            if (defunc_0_gt_res_179130) {
                                                loopres_179131 = i_a_179114;
                                            } else {
                                                loopres_179131 = ai_179048;
                                            }
                                            
                                            int64_t loopres_179132;
                                            
                                            if (defunc_0_gt_res_179130) {
                                                loopres_179132 = zm_lhs_179116;
                                            } else {
                                                loopres_179132 = max_res_175562;
                                            }
                                            
                                            int64_t loopres_179133;
                                            
                                            if (defunc_0_gt_res_179130) {
                                                loopres_179133 = zl_rhs_179101;
                                            } else {
                                                int64_t tmp_179134 = add64((int64_t) 1, p_179110);
                                                
                                                loopres_179133 = tmp_179134;
                                            }
                                            
                                            bool loop_cond_179135 = slt64(loopres_179133, zl_rhs_179101);
                                            bool loop_while_tmp_181516 = loop_cond_179135;
                                            int64_t p_tmp_181517 = loopres_179131;
                                            int64_t p_tmp_181518 = loopres_179132;
                                            int64_t p_tmp_181519 = loopres_179133;
                                            
                                            loop_while_179107 = loop_while_tmp_181516;
                                            p_179108 = p_tmp_181517;
                                            p_179109 = p_tmp_181518;
                                            p_179110 = p_tmp_181519;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179103 = loop_while_179107;
                                        defunc_0_partFunc_sequential_search_res_f_res_179104 = p_179108;
                                        defunc_0_partFunc_sequential_search_res_f_res_179105 = p_179109;
                                        defunc_0_partFunc_sequential_search_res_f_res_179106 = p_179110;
                                        defunc_0_partFunc_sequential_search_res_179068 = defunc_0_partFunc_sequential_search_res_f_res_179104;
                                        defunc_0_partFunc_sequential_search_res_179069 = defunc_0_partFunc_sequential_search_res_f_res_179105;
                                    }
                                    loopres_f_res_f_res_f_res_175620 = p_175555;
                                    loopres_f_res_f_res_f_res_175621 = defunc_0_partFunc_sequential_search_res_179068;
                                    loopres_f_res_f_res_f_res_175622 = defunc_0_partFunc_sequential_search_res_179069;
                                    loopres_f_res_f_res_f_res_175623 = 0;
                                } else {
                                    bool x_175707 = sle64((int64_t) 0, ai_175560);
                                    bool y_175708 = slt64(ai_175560, window_sizze_141186);
                                    bool bounds_check_175709 = x_175707 && y_175708;
                                    bool index_certs_175710;
                                    
                                    if (!bounds_check_175709) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_175560, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_177376 = p_174496 + ai_175560;
                                    int64_t gt_lhs_175711 = ((int64_t *) a_list_mem_179986.mem)[slice_177376];
                                    bool defunc_0_gt_res_175712 = slt64(b_prev_175564, gt_lhs_175711);
                                    int64_t loopres_f_res_f_res_f_res_f_res_175713;
                                    int64_t loopres_f_res_f_res_f_res_f_res_175714;
                                    int64_t loopres_f_res_f_res_f_res_f_res_175715;
                                    bool loopres_f_res_f_res_f_res_f_res_175716;
                                    
                                    if (defunc_0_gt_res_175712) {
                                        int64_t leq_lhs_179136 = sub64(ai_175560, (int64_t) 1);
                                        bool x_179137 = sle64((int64_t) 0, leq_lhs_179136);
                                        bool y_179138 = slt64(leq_lhs_179136, window_sizze_141186);
                                        bool bounds_check_179139 = x_179137 && y_179138;
                                        bool index_certs_179140;
                                        
                                        if (!bounds_check_179139) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179136, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179143 = sle64((int64_t) 0, max_res_175562);
                                        bool y_179144 = slt64(max_res_175562, window_sizze_141186);
                                        bool bounds_check_179145 = x_179143 && y_179144;
                                        bool index_certs_179146;
                                        
                                        if (!bounds_check_179145) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_175562, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179141 = p_174496 + leq_lhs_179136;
                                        int64_t leq_lhs_179142 = ((int64_t *) a_list_mem_179986.mem)[slice_179141];
                                        int64_t slice_179147 = p_174497 + max_res_175562;
                                        int64_t leq_rhs_179148 = ((int64_t *) b_list_mem_179987.mem)[slice_179147];
                                        bool defunc_0_leq_res_179149 = sle64(leq_lhs_179142, leq_rhs_179148);
                                        bool x_179150 = !defunc_0_leq_res_179149;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179151;
                                        
                                        if (defunc_0_leq_res_179149) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179151 = ai_175560;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179151 = leq_lhs_179136;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179152;
                                        
                                        if (defunc_0_leq_res_179149) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179152 = max_res_175562;
                                        } else {
                                            int64_t tmp_179153 = add64((int64_t) 1, max_res_175562);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179152 = tmp_179153;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_175713 = p_175555;
                                        loopres_f_res_f_res_f_res_f_res_175714 = loopres_f_res_f_res_f_res_f_res_t_res_179151;
                                        loopres_f_res_f_res_f_res_f_res_175715 = loopres_f_res_f_res_f_res_f_res_t_res_179152;
                                        loopres_f_res_f_res_f_res_f_res_175716 = x_179150;
                                    } else {
                                        int64_t tmp_175733 = add64((int64_t) 1, ai_175560);
                                        
                                        loopres_f_res_f_res_f_res_f_res_175713 = tmp_175733;
                                        loopres_f_res_f_res_f_res_f_res_175714 = p_175556;
                                        loopres_f_res_f_res_f_res_f_res_175715 = p_175557;
                                        loopres_f_res_f_res_f_res_f_res_175716 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_175620 = loopres_f_res_f_res_f_res_f_res_175713;
                                    loopres_f_res_f_res_f_res_175621 = loopres_f_res_f_res_f_res_f_res_175714;
                                    loopres_f_res_f_res_f_res_175622 = loopres_f_res_f_res_f_res_f_res_175715;
                                    loopres_f_res_f_res_f_res_175623 = loopres_f_res_f_res_f_res_f_res_175716;
                                }
                                loopres_f_res_f_res_175599 = loopres_f_res_f_res_f_res_175620;
                                loopres_f_res_f_res_175600 = loopres_f_res_f_res_f_res_175621;
                                loopres_f_res_f_res_175601 = loopres_f_res_f_res_f_res_175622;
                                loopres_f_res_f_res_175602 = loopres_f_res_f_res_f_res_175623;
                            }
                            loopres_f_res_175577 = loopres_f_res_f_res_175599;
                            loopres_f_res_175578 = loopres_f_res_f_res_175600;
                            loopres_f_res_175579 = loopres_f_res_f_res_175601;
                            loopres_f_res_175580 = loopres_f_res_f_res_175602;
                        }
                        loopres_175572 = loopres_f_res_175577;
                        loopres_175573 = loopres_f_res_175578;
                        loopres_175574 = loopres_f_res_175579;
                        loopres_175575 = loopres_f_res_175580;
                    }
                    
                    bool loop_while_tmp_181508 = loopres_175575;
                    int64_t p_tmp_181509 = loopres_175572;
                    int64_t p_tmp_181510 = loopres_175573;
                    int64_t p_tmp_181511 = loopres_175574;
                    
                    loop_while_175554 = loop_while_tmp_181508;
                    p_175555 = p_tmp_181509;
                    p_175556 = p_tmp_181510;
                    p_175557 = p_tmp_181511;
                }
                defunc_0_f_res_175550 = loop_while_175554;
                defunc_0_f_res_175551 = p_175555;
                defunc_0_f_res_175552 = p_175556;
                defunc_0_f_res_175553 = p_175557;
                ((int64_t *) mem_180003)[i_179736] = defunc_0_f_res_175552;
                ((int64_t *) mem_180005)[i_179736] = defunc_0_f_res_175553;
            }
            if (memblock_alloc(ctx, &mem_180018, window_sizze_141186, "mem_180018")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181520 = 0; nest_i_181520 < window_sizze_141186; nest_i_181520++) {
                ((int8_t *) mem_180018.mem)[nest_i_181520] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180020, bytes_180019, "mem_180020")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181521 = 0; nest_i_181521 < window_sizze_141186; nest_i_181521++) {
                ((int64_t *) mem_180020.mem)[nest_i_181521] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180022, bytes_180019, "mem_180022")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181522 = 0; nest_i_181522 < window_sizze_141186; nest_i_181522++) {
                ((int64_t *) mem_180022.mem)[nest_i_181522] = (int64_t) 0;
            }
            
            bool defunc_0_mergeFunc_seq_res_175760;
            int64_t defunc_0_mergeFunc_seq_res_175761;
            bool loop_while_175765;
            int64_t p_175766;
            
            loop_while_175765 = loop_cond_175759;
            p_175766 = (int64_t) 0;
            while (loop_while_175765) {
                bool x_175770 = sle64((int64_t) 0, p_175766);
                bool y_175771 = slt64(p_175766, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
                bool bounds_check_175772 = x_175770 && y_175771;
                bool index_certs_175773;
                
                if (!bounds_check_175772) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175766, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_177359 = sle64((int64_t) 1, p_175766);
                int64_t index_concat_i_177360 = sub64(p_175766, (int64_t) 1);
                int64_t index_concat_177361;
                
                if (index_concat_cmp_177359) {
                    int64_t x_179154 = ((int64_t *) mem_180003)[index_concat_i_177360];
                    
                    index_concat_177361 = x_179154;
                } else {
                    index_concat_177361 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177363;
                
                if (index_concat_cmp_177359) {
                    index_concat_branch_177363 = index_concat_177361;
                } else {
                    index_concat_branch_177363 = (int64_t) 0;
                }
                
                int64_t index_concat_177355;
                
                if (index_concat_cmp_177359) {
                    int64_t x_179155 = ((int64_t *) mem_180005)[index_concat_i_177360];
                    
                    index_concat_177355 = x_179155;
                } else {
                    index_concat_177355 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177357;
                
                if (index_concat_cmp_177359) {
                    index_concat_branch_177357 = index_concat_177355;
                } else {
                    index_concat_branch_177357 = (int64_t) 0;
                }
                
                int64_t ubs_175776 = add64((int64_t) 1, p_175766);
                bool x_175777 = sle64((int64_t) 0, ubs_175776);
                bool y_175778 = slt64(ubs_175776, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
                bool bounds_check_175779 = x_175777 && y_175778;
                bool index_certs_175780;
                
                if (!bounds_check_175779) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_175776, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_177347 = sle64((int64_t) 1, ubs_175776);
                int64_t index_concat_177349;
                
                if (index_concat_cmp_177347) {
                    int64_t x_179156 = ((int64_t *) mem_180003)[p_175766];
                    
                    index_concat_177349 = x_179156;
                } else {
                    index_concat_177349 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177351;
                
                if (index_concat_cmp_177347) {
                    index_concat_branch_177351 = index_concat_177349;
                } else {
                    index_concat_branch_177351 = (int64_t) 0;
                }
                
                int64_t index_concat_177343;
                
                if (index_concat_cmp_177347) {
                    int64_t x_179157 = ((int64_t *) mem_180005)[p_175766];
                    
                    index_concat_177343 = x_179157;
                } else {
                    index_concat_177343 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177345;
                
                if (index_concat_cmp_177347) {
                    index_concat_branch_177345 = index_concat_177343;
                } else {
                    index_concat_branch_177345 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783 = sub64(index_concat_branch_177345, index_concat_branch_177357);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784 = sub64(index_concat_branch_177351, index_concat_branch_177363);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                int64_t ind_bottom_175786 = add64(index_concat_branch_177357, index_concat_branch_177363);
                int64_t ind_top_175787 = add64(index_concat_branch_177345, index_concat_branch_177351);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788 = sub64(ind_top_175787, ind_bottom_175786);
                bool empty_slice_175789 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784 == (int64_t) 0;
                int64_t m_175790 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, (int64_t) 1);
                int64_t i_p_m_t_s_175791 = add64(m_175790, index_concat_branch_177363);
                bool zzero_leq_i_p_m_t_s_175792 = sle64((int64_t) 0, i_p_m_t_s_175791);
                bool i_p_m_t_s_leq_w_175793 = slt64(i_p_m_t_s_175791, window_sizze_141186);
                bool zzero_lte_i_175794 = sle64((int64_t) 0, index_concat_branch_177363);
                bool i_lte_j_175795 = sle64(index_concat_branch_177363, index_concat_branch_177351);
                bool y_175796 = i_p_m_t_s_leq_w_175793 && zzero_lte_i_175794;
                bool y_175797 = zzero_leq_i_p_m_t_s_175792 && y_175796;
                bool forwards_ok_175798 = i_lte_j_175795 && y_175797;
                bool ok_or_empty_175799 = empty_slice_175789 || forwards_ok_175798;
                bool index_certs_175800;
                
                if (!ok_or_empty_175799) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_177363, ":", (long long) index_concat_branch_177351, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_175801 = slt64(index_concat_branch_177351, index_concat_branch_177363);
                bool valid_175802 = !bounds_invalid_upwards_175801;
                bool range_valid_c_175803;
                
                if (!valid_175802) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_177363, "..<", (long long) index_concat_branch_177351, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_175809 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783 == (int64_t) 0;
                int64_t m_175810 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783, (int64_t) 1);
                int64_t i_p_m_t_s_175811 = add64(m_175810, index_concat_branch_177357);
                bool zzero_leq_i_p_m_t_s_175812 = sle64((int64_t) 0, i_p_m_t_s_175811);
                bool i_p_m_t_s_leq_w_175813 = slt64(i_p_m_t_s_175811, window_sizze_141186);
                bool zzero_lte_i_175814 = sle64((int64_t) 0, index_concat_branch_177357);
                bool i_lte_j_175815 = sle64(index_concat_branch_177357, index_concat_branch_177345);
                bool y_175816 = i_p_m_t_s_leq_w_175813 && zzero_lte_i_175814;
                bool y_175817 = zzero_leq_i_p_m_t_s_175812 && y_175816;
                bool forwards_ok_175818 = i_lte_j_175815 && y_175817;
                bool ok_or_empty_175819 = empty_slice_175809 || forwards_ok_175818;
                bool index_certs_175820;
                
                if (!ok_or_empty_175819) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_177357, ":", (long long) index_concat_branch_177345, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_175821 = slt64(index_concat_branch_177345, index_concat_branch_177357);
                bool valid_175822 = !bounds_invalid_upwards_175821;
                bool range_valid_c_175823;
                
                if (!valid_175822) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_177357, "..<", (long long) index_concat_branch_177345, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180039 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785;
                bool cond_175832 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, (int64_t) 1);
                int64_t zs_lhs_175833 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, (int64_t) 1);
                int64_t zp_rhs_175834 = sdiv_safe64(zs_lhs_175833, (int64_t) 20);
                int64_t min_num_blocks_175835 = add64((int64_t) 1, zp_rhs_175834);
                bool loop_cond_175836 = slt64((int64_t) 1, min_num_blocks_175835);
                bool smallest_pow_2_geq_than_res_175837;
                int64_t smallest_pow_2_geq_than_res_175838;
                bool loop_while_175839;
                int64_t x_175840;
                
                loop_while_175839 = loop_cond_175836;
                x_175840 = (int64_t) 1;
                while (loop_while_175839) {
                    int64_t loopres_175841 = mul64((int64_t) 2, x_175840);
                    bool loop_cond_175842 = slt64(loopres_175841, min_num_blocks_175835);
                    bool loop_while_tmp_181528 = loop_cond_175842;
                    int64_t x_tmp_181529 = loopres_175841;
                    
                    loop_while_175839 = loop_while_tmp_181528;
                    x_175840 = x_tmp_181529;
                }
                smallest_pow_2_geq_than_res_175837 = loop_while_175839;
                smallest_pow_2_geq_than_res_175838 = x_175840;
                
                bool zzero_175843 = smallest_pow_2_geq_than_res_175838 == (int64_t) 0;
                bool nonzzero_175844 = !zzero_175843;
                bool protect_assert_disj_175845 = cond_175832 || nonzzero_175844;
                bool nonzzero_cert_175846;
                
                if (!protect_assert_disj_175845) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_175847 = sdiv_safe64(zs_lhs_175833, smallest_pow_2_geq_than_res_175838);
                int64_t block_sizze_175848 = add64((int64_t) 1, zp_rhs_175847);
                bool y_175855 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785);
                bool protect_assert_disj_181192 = cond_175832 || y_175855;
                bool index_certs_175856;
                
                if (!protect_assert_disj_181192) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_175882 = slt64(smallest_pow_2_geq_than_res_175838, (int64_t) 0);
                bool valid_175883 = !bounds_invalid_upwards_175882;
                bool protect_assert_disj_181202 = cond_175832 || valid_175883;
                bool range_valid_c_175884;
                
                if (!protect_assert_disj_181202) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_175838, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_175886 = slt64(block_sizze_175848, (int64_t) 0);
                bool valid_175887 = !bounds_invalid_upwards_175886;
                bool protect_assert_disj_181204 = cond_175832 || valid_175887;
                bool range_valid_c_175888;
                
                if (!protect_assert_disj_181204) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_175848, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_175890 = sle64(block_sizze_175848, (int64_t) 1);
                int64_t tmp_175891 = sub64(block_sizze_175848, (int64_t) 2);
                bool bounds_invalid_upwards_175892 = slt64(tmp_175891, (int64_t) 0);
                bool valid_175894 = !bounds_invalid_upwards_175892;
                bool protect_assert_disj_175895 = cond_175890 || valid_175894;
                bool protect_assert_disj_181206 = cond_175832 || protect_assert_disj_175895;
                bool range_valid_c_175896;
                
                if (!protect_assert_disj_181206) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_175891, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_176457 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785;
                bool empty_or_match_cert_176458;
                
                if (!dim_match_176457) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788, "](i8, i64, i64)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176459 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788 == (int64_t) 0;
                int64_t m_176460 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_176461 = sle64((int64_t) 0, m_176460);
                bool i_p_m_t_s_leq_w_176462 = slt64(m_176460, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788);
                bool y_176463 = zzero_leq_i_p_m_t_s_176461 && i_p_m_t_s_leq_w_176462;
                bool ok_or_empty_176464 = empty_slice_176459 || y_176463;
                bool index_certs_176465;
                
                if (!ok_or_empty_176464) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_176466 = add64(ind_bottom_175786, m_176460);
                bool zzero_leq_i_p_m_t_s_176467 = sle64((int64_t) 0, i_p_m_t_s_176466);
                bool i_p_m_t_s_leq_w_176468 = slt64(i_p_m_t_s_176466, window_sizze_141186);
                bool zzero_lte_i_176469 = sle64((int64_t) 0, ind_bottom_175786);
                bool i_lte_j_176470 = sle64(ind_bottom_175786, ind_top_175787);
                bool y_176471 = i_p_m_t_s_leq_w_176468 && zzero_lte_i_176469;
                bool y_176472 = zzero_leq_i_p_m_t_s_176467 && y_176471;
                bool forwards_ok_176473 = i_lte_j_176470 && y_176472;
                bool ok_or_empty_176474 = empty_slice_176459 || forwards_ok_176473;
                bool index_certs_176475;
                
                if (!ok_or_empty_176474) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175786, ":", (long long) ind_top_175787, "] out of bounds for array of shape [", (long long) window_sizze_141186, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_177339 = p_174496 + index_concat_branch_177363;
                
                if (memblock_alloc(ctx, &mem_180038, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "mem_180038")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_181530 = 0; nest_i_181530 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784; nest_i_181530++) {
                    ((int8_t *) mem_180038.mem)[nest_i_181530] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180040, bytes_180039, "mem_180040")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_181531 = 0; i_181531 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784; i_181531++) {
                    int64_t x_181532 = index_concat_branch_177363 + i_181531 * (int64_t) 1;
                    
                    ((int64_t *) mem_180040.mem)[i_181531] = x_181532;
                }
                
                int64_t slice_177338 = p_174497 + index_concat_branch_177357;
                
                for (int64_t nest_i_181533 = 0; nest_i_181533 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783; nest_i_181533++) {
                    ((int8_t *) mem_180038.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784 + nest_i_181533] = (int8_t) 1;
                }
                for (int64_t i_181534 = 0; i_181534 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783; i_181534++) {
                    int64_t x_181535 = index_concat_branch_177357 + i_181534 * (int64_t) 1;
                    
                    ((int64_t *) mem_180040.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784 + i_181534] = x_181535;
                }
                
                int64_t tmp_offs_181536 = (int64_t) 0;
                
                if (!(tmp_offs_181536 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180038.mem, tmp_offs_181536, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180038.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784});
                }
                tmp_offs_181536 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784;
                if (!(tmp_offs_181536 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180038.mem, tmp_offs_181536, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180038.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783});
                }
                tmp_offs_181536 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783;
                
                int64_t tmp_offs_181537 = (int64_t) 0;
                
                if (!(tmp_offs_181537 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180040.mem, tmp_offs_181537, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180040.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784});
                }
                tmp_offs_181537 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784;
                if (!(tmp_offs_181537 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180040.mem, tmp_offs_181537, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180040.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783});
                }
                tmp_offs_181537 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783;
                if (memblock_alloc(ctx, &mem_180042, bytes_180039, "mem_180042")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_181538 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180042.mem, tmp_offs_181538, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_179986.mem, slice_177339, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784});
                tmp_offs_181538 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180042.mem, tmp_offs_181538, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_179987.mem, slice_177338, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783});
                tmp_offs_181538 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783;
                
                int64_t flat_dim_175849 = smallest_pow_2_geq_than_res_175838 * block_sizze_175848;
                bool x_181187 = !cond_175832;
                int64_t greatest_divisor_leq_than_arg1_175853 = mul64((int64_t) 2, block_sizze_175848);
                int64_t merge_block_sizze_175854;
                
                if (x_181187) {
                    int64_t x_181189;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181189, (int64_t) 8, greatest_divisor_leq_than_arg1_175853) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_175854 = x_181189;
                } else {
                    merge_block_sizze_175854 = (int64_t) 0;
                }
                
                bool index_concat_cmp_177333 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, (int64_t) 0);
                int8_t index_concat_branch_177337 = btoi_bool_i8(index_concat_cmp_177333);
                int64_t index_concat_i_179158 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                int64_t index_primexp_179159 = add64(index_concat_branch_177357, index_concat_i_179158);
                int64_t index_concat_branch_177331;
                
                if (index_concat_cmp_177333) {
                    index_concat_branch_177331 = index_primexp_179159;
                } else {
                    index_concat_branch_177331 = index_concat_branch_177363;
                }
                
                bool x_181183 = !index_concat_cmp_177333;
                bool protect_cond_conj_181193 = x_181183 && x_181187;
                int64_t index_concat_177324;
                
                if (protect_cond_conj_181193) {
                    int64_t x_181185 = ((int64_t *) a_list_mem_179986.mem)[slice_177339];
                    
                    index_concat_177324 = x_181185;
                } else {
                    index_concat_177324 = (int64_t) 0;
                }
                
                int64_t slice_179161 = slice_177338 + index_concat_i_179158;
                bool protect_cond_conj_181194 = index_concat_cmp_177333 && x_181187;
                int64_t index_concat_179162;
                
                if (protect_cond_conj_181194) {
                    int64_t x_181181 = ((int64_t *) b_list_mem_179987.mem)[slice_179161];
                    
                    index_concat_179162 = x_181181;
                } else {
                    index_concat_179162 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177325;
                
                if (index_concat_cmp_177333) {
                    index_concat_branch_177325 = index_concat_179162;
                } else {
                    index_concat_branch_177325 = index_concat_177324;
                }
                
                int8_t defunc_0_reduce_res_179393;
                int64_t defunc_0_reduce_res_179394;
                int64_t defunc_0_reduce_res_179395;
                
                if (x_181187) {
                    int8_t x_181195;
                    int64_t x_181196;
                    int64_t x_181197;
                    int8_t redout_179739;
                    int64_t redout_179740;
                    int64_t redout_179741;
                    
                    redout_179739 = index_concat_branch_177337;
                    redout_179740 = index_concat_branch_177331;
                    redout_179741 = index_concat_branch_177325;
                    for (int64_t i_179742 = 0; i_179742 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785; i_179742++) {
                        bool index_concat_cmp_179946 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, i_179742);
                        int8_t index_concat_branch_179950 = btoi_bool_i8(index_concat_cmp_179946);
                        int64_t index_concat_branch_179944;
                        
                        if (index_concat_cmp_179946) {
                            int64_t index_concat_i_179941 = sub64(i_179742, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                            int64_t index_primexp_179968 = add64(index_concat_branch_177357, index_concat_i_179941);
                            
                            index_concat_branch_179944 = index_primexp_179968;
                        } else {
                            int64_t index_primexp_179970 = add64(index_concat_branch_177363, i_179742);
                            
                            index_concat_branch_179944 = index_primexp_179970;
                        }
                        
                        int64_t index_concat_branch_179938;
                        
                        if (index_concat_cmp_179946) {
                            int64_t index_concat_i_179935 = sub64(i_179742, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                            int64_t slice_179965 = slice_177338 + index_concat_i_179935;
                            int64_t index_concat_179936 = ((int64_t *) b_list_mem_179987.mem)[slice_179965];
                            
                            index_concat_branch_179938 = index_concat_179936;
                        } else {
                            int64_t slice_179966 = slice_177339 + i_179742;
                            int64_t index_concat_179937 = ((int64_t *) a_list_mem_179986.mem)[slice_179966];
                            
                            index_concat_branch_179938 = index_concat_179937;
                        }
                        
                        bool eq_x_y_179981 = redout_179739 == (int8_t) 1;
                        bool eq_x_zz_179982 = redout_179739 == (int8_t) 0;
                        bool p_and_eq_x_y_179983 = index_concat_cmp_179946 && eq_x_y_179981;
                        bool not_p_179984 = !index_concat_cmp_179946;
                        bool p_and_eq_x_y_179985 = eq_x_zz_179982 && not_p_179984;
                        bool cond_175872 = p_and_eq_x_y_179983 || p_and_eq_x_y_179985;
                        bool defunc_0_leq_res_t_res_175873 = sle64(redout_179740, index_concat_branch_179944);
                        bool defunc_0_leq_res_175874 = sle64(redout_179741, index_concat_branch_179938);
                        bool x_175875 = cond_175872 && defunc_0_leq_res_t_res_175873;
                        bool x_175876 = !cond_175872;
                        bool y_175877 = defunc_0_leq_res_175874 && x_175876;
                        bool defunc_0_leq_res_175878 = x_175875 || y_175877;
                        int8_t defunc_0_op_res_175879;
                        
                        if (defunc_0_leq_res_175878) {
                            defunc_0_op_res_175879 = index_concat_branch_179950;
                        } else {
                            defunc_0_op_res_175879 = redout_179739;
                        }
                        
                        int64_t defunc_0_op_res_175880;
                        
                        if (defunc_0_leq_res_175878) {
                            defunc_0_op_res_175880 = index_concat_branch_179944;
                        } else {
                            defunc_0_op_res_175880 = redout_179740;
                        }
                        
                        int64_t defunc_0_op_res_175881;
                        
                        if (defunc_0_leq_res_175878) {
                            defunc_0_op_res_175881 = index_concat_branch_179938;
                        } else {
                            defunc_0_op_res_175881 = redout_179741;
                        }
                        
                        int8_t redout_tmp_181539 = defunc_0_op_res_175879;
                        int64_t redout_tmp_181540 = defunc_0_op_res_175880;
                        int64_t redout_tmp_181541 = defunc_0_op_res_175881;
                        
                        redout_179739 = redout_tmp_181539;
                        redout_179740 = redout_tmp_181540;
                        redout_179741 = redout_tmp_181541;
                    }
                    x_181195 = redout_179739;
                    x_181196 = redout_179740;
                    x_181197 = redout_179741;
                    defunc_0_reduce_res_179393 = x_181195;
                    defunc_0_reduce_res_179394 = x_181196;
                    defunc_0_reduce_res_179395 = x_181197;
                } else {
                    defunc_0_reduce_res_179393 = (int8_t) 0;
                    defunc_0_reduce_res_179394 = (int64_t) 0;
                    defunc_0_reduce_res_179395 = (int64_t) 0;
                }
                
                int64_t distance_175893 = add64((int64_t) 1, tmp_175891);
                int64_t binop_x_180045 = (int64_t) 8 * smallest_pow_2_geq_than_res_175838;
                int64_t bytes_180046 = block_sizze_175848 * binop_x_180045;
                int64_t bytes_180064 = (int64_t) 8 * block_sizze_175848;
                bool loop_cond_176002 = slt64(block_sizze_175848, flat_dim_175849);
                bool zzero_176003 = merge_block_sizze_175854 == (int64_t) 0;
                bool nonzzero_176004 = !zzero_176003;
                
                if (cond_175832) {
                    if (memblock_set(ctx, &ext_mem_180337, &mem_180038, "mem_180038") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180334, &mem_180040, "mem_180040") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180331, &mem_180042, "mem_180042") != 0)
                        return 1;
                } else {
                    if (mem_180044_cached_sizze_181892 < flat_dim_175849) {
                        err = lexical_realloc(ctx, &mem_180044, &mem_180044_cached_sizze_181892, flat_dim_175849);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180047_cached_sizze_181893 < bytes_180046) {
                        err = lexical_realloc(ctx, &mem_180047, &mem_180047_cached_sizze_181893, bytes_180046);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180050_cached_sizze_181894 < bytes_180046) {
                        err = lexical_realloc(ctx, &mem_180050, &mem_180050_cached_sizze_181894, bytes_180046);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180063_cached_sizze_181895 < block_sizze_175848) {
                        err = lexical_realloc(ctx, &mem_180063, &mem_180063_cached_sizze_181895, block_sizze_175848);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180065_cached_sizze_181896 < bytes_180064) {
                        err = lexical_realloc(ctx, &mem_180065, &mem_180065_cached_sizze_181896, bytes_180064);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180067_cached_sizze_181897 < bytes_180064) {
                        err = lexical_realloc(ctx, &mem_180067, &mem_180067_cached_sizze_181897, bytes_180064);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179759 = 0; i_179759 < smallest_pow_2_geq_than_res_175838; i_179759++) {
                        int64_t zp_lhs_175901 = mul64(block_sizze_175848, i_179759);
                        
                        for (int64_t i_179749 = 0; i_179749 < block_sizze_175848; i_179749++) {
                            int64_t k_175906 = add64(zp_lhs_175901, i_179749);
                            bool cond_175907 = slt64(k_175906, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785);
                            int8_t lifted_lambda_res_175908;
                            int64_t lifted_lambda_res_175909;
                            int64_t lifted_lambda_res_175910;
                            
                            if (cond_175907) {
                                bool x_179168 = sle64((int64_t) 0, k_175906);
                                bool bounds_check_179169 = cond_175907 && x_179168;
                                bool index_certs_179170;
                                
                                if (!bounds_check_179169) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_175906, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179171 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, k_175906);
                                int8_t index_concat_branch_179172 = btoi_bool_i8(index_concat_cmp_179171);
                                int64_t index_concat_branch_179173;
                                
                                if (index_concat_cmp_179171) {
                                    int64_t index_concat_i_179174 = sub64(k_175906, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                                    int64_t index_primexp_179175 = add64(index_concat_branch_177357, index_concat_i_179174);
                                    
                                    index_concat_branch_179173 = index_primexp_179175;
                                } else {
                                    int64_t index_primexp_179176 = add64(k_175906, index_concat_branch_177363);
                                    
                                    index_concat_branch_179173 = index_primexp_179176;
                                }
                                
                                int64_t index_concat_branch_179177;
                                
                                if (index_concat_cmp_179171) {
                                    int64_t index_concat_i_179178 = sub64(k_175906, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                                    int64_t slice_179179 = slice_177338 + index_concat_i_179178;
                                    int64_t index_concat_179180 = ((int64_t *) b_list_mem_179987.mem)[slice_179179];
                                    
                                    index_concat_branch_179177 = index_concat_179180;
                                } else {
                                    int64_t slice_179181 = k_175906 + slice_177339;
                                    int64_t index_concat_179182 = ((int64_t *) a_list_mem_179986.mem)[slice_179181];
                                    
                                    index_concat_branch_179177 = index_concat_179182;
                                }
                                lifted_lambda_res_175908 = index_concat_branch_179172;
                                lifted_lambda_res_175909 = index_concat_branch_179173;
                                lifted_lambda_res_175910 = index_concat_branch_179177;
                            } else {
                                lifted_lambda_res_175908 = defunc_0_reduce_res_179393;
                                lifted_lambda_res_175909 = defunc_0_reduce_res_179394;
                                lifted_lambda_res_175910 = defunc_0_reduce_res_179395;
                            }
                            ((int8_t *) mem_180063)[i_179749] = lifted_lambda_res_175908;
                            ((int64_t *) mem_180065)[i_179749] = lifted_lambda_res_175909;
                            ((int64_t *) mem_180067)[i_179749] = lifted_lambda_res_175910;
                        }
                        if (!cond_175890) {
                            for (int64_t i_175923 = 0; i_175923 < distance_175893; i_175923++) {
                                int64_t gt_arg1_175927 = add64((int64_t) 1, i_175923);
                                bool x_175928 = sle64((int64_t) 0, gt_arg1_175927);
                                bool y_175929 = slt64(gt_arg1_175927, block_sizze_175848);
                                bool bounds_check_175930 = x_175928 && y_175929;
                                bool index_certs_175931;
                                
                                if (!bounds_check_175930) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_175927, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_175935 = slt64(i_175923, block_sizze_175848);
                                bool index_certs_175936;
                                
                                if (!y_175935) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_175923, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_175932 = ((int8_t *) mem_180063)[gt_arg1_175927];
                                int64_t gt_arg1_175933 = ((int64_t *) mem_180065)[gt_arg1_175927];
                                int64_t gt_arg1_175934 = ((int64_t *) mem_180067)[gt_arg1_175927];
                                int8_t gt_arg0_175937 = ((int8_t *) mem_180063)[i_175923];
                                int64_t gt_arg0_175938 = ((int64_t *) mem_180065)[i_175923];
                                int64_t gt_arg0_175939 = ((int64_t *) mem_180067)[i_175923];
                                bool cond_175940 = gt_arg0_175937 == gt_arg1_175932;
                                bool defunc_0_leq_res_t_res_175941 = sle64(gt_arg0_175938, gt_arg1_175933);
                                bool defunc_0_leq_res_175942 = sle64(gt_arg0_175939, gt_arg1_175934);
                                bool x_175943 = cond_175940 && defunc_0_leq_res_t_res_175941;
                                bool x_175944 = !cond_175940;
                                bool y_175945 = defunc_0_leq_res_175942 && x_175944;
                                bool defunc_0_leq_res_175946 = x_175943 || y_175945;
                                bool defunc_0_lifted_gt_res_175947 = !defunc_0_leq_res_175946;
                                bool s_175948;
                                int64_t s_175952;
                                bool loop_while_175953;
                                int64_t j_175957;
                                
                                loop_while_175953 = defunc_0_lifted_gt_res_175947;
                                j_175957 = i_175923;
                                while (loop_while_175953) {
                                    bool x_175958 = sle64((int64_t) 0, j_175957);
                                    bool y_175959 = slt64(j_175957, block_sizze_175848);
                                    bool bounds_check_175960 = x_175958 && y_175959;
                                    bool index_certs_175961;
                                    
                                    if (!bounds_check_175960) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_175957, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_175965 = add64((int64_t) 1, j_175957);
                                    bool x_175966 = sle64((int64_t) 0, copy_arg0_175965);
                                    bool y_175967 = slt64(copy_arg0_175965, block_sizze_175848);
                                    bool bounds_check_175968 = x_175966 && y_175967;
                                    bool index_certs_175969;
                                    
                                    if (!bounds_check_175968) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_175965, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_175962 = ((int8_t *) mem_180063)[j_175957];
                                    int64_t copy_arg0_175963 = ((int64_t *) mem_180065)[j_175957];
                                    int64_t copy_arg0_175964 = ((int64_t *) mem_180067)[j_175957];
                                    int8_t copy_arg0_175970 = ((int8_t *) mem_180063)[copy_arg0_175965];
                                    int64_t copy_arg0_175971 = ((int64_t *) mem_180065)[copy_arg0_175965];
                                    int64_t copy_arg0_175972 = ((int64_t *) mem_180067)[copy_arg0_175965];
                                    
                                    ((int8_t *) mem_180063)[j_175957] = copy_arg0_175970;
                                    ((int64_t *) mem_180065)[j_175957] = copy_arg0_175971;
                                    ((int64_t *) mem_180067)[j_175957] = copy_arg0_175972;
                                    ((int8_t *) mem_180063)[copy_arg0_175965] = copy_arg0_175962;
                                    ((int64_t *) mem_180065)[copy_arg0_175965] = copy_arg0_175963;
                                    ((int64_t *) mem_180067)[copy_arg0_175965] = copy_arg0_175964;
                                    
                                    int64_t tmp_175979 = sub64(j_175957, (int64_t) 1);
                                    bool cond_175980 = sle64((int64_t) 0, tmp_175979);
                                    bool loop_cond_175981;
                                    
                                    if (cond_175980) {
                                        bool y_179186 = slt64(tmp_175979, block_sizze_175848);
                                        bool bounds_check_179187 = cond_175980 && y_179186;
                                        bool index_certs_179188;
                                        
                                        if (!bounds_check_179187) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_175979, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179183 = ((int8_t *) mem_180063)[j_175957];
                                        int64_t gt_arg1_179184 = ((int64_t *) mem_180065)[j_175957];
                                        int64_t gt_arg1_179185 = ((int64_t *) mem_180067)[j_175957];
                                        int8_t gt_arg0_179189 = ((int8_t *) mem_180063)[tmp_175979];
                                        int64_t gt_arg0_179190 = ((int64_t *) mem_180065)[tmp_175979];
                                        int64_t gt_arg0_179191 = ((int64_t *) mem_180067)[tmp_175979];
                                        bool cond_179192 = gt_arg0_179189 == gt_arg1_179183;
                                        bool defunc_0_leq_res_t_res_179193 = sle64(gt_arg0_179190, gt_arg1_179184);
                                        bool defunc_0_leq_res_179194 = sle64(gt_arg0_179191, gt_arg1_179185);
                                        bool x_179195 = cond_179192 && defunc_0_leq_res_t_res_179193;
                                        bool x_179196 = !cond_179192;
                                        bool y_179197 = defunc_0_leq_res_179194 && x_179196;
                                        bool defunc_0_leq_res_179198 = x_179195 || y_179197;
                                        bool defunc_0_lifted_gt_res_179199 = !defunc_0_leq_res_179198;
                                        
                                        loop_cond_175981 = defunc_0_lifted_gt_res_179199;
                                    } else {
                                        loop_cond_175981 = 0;
                                    }
                                    
                                    bool loop_while_tmp_181551 = loop_cond_175981;
                                    int64_t j_tmp_181555 = tmp_175979;
                                    
                                    loop_while_175953 = loop_while_tmp_181551;
                                    j_175957 = j_tmp_181555;
                                }
                                s_175948 = loop_while_175953;
                                s_175952 = j_175957;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180044, i_179759 * block_sizze_175848, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180063, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175848});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180047, i_179759 * block_sizze_175848, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180065, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175848});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180050, i_179759 * block_sizze_175848, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180067, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175848});
                    }
                    if (memblock_alloc(ctx, &mem_180144, flat_dim_175849, "mem_180144")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180144.mem, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (uint8_t *) mem_180044, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175838, block_sizze_175848});
                    if (memblock_alloc(ctx, &mem_180148, bytes_180046, "mem_180148")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180148.mem, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (uint64_t *) mem_180047, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175838, block_sizze_175848});
                    if (memblock_alloc(ctx, &mem_180152, bytes_180046, "mem_180152")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180152.mem, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (uint64_t *) mem_180050, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175838, block_sizze_175848});
                    
                    int64_t data_176005;
                    bool data_176006;
                    int64_t data_176010;
                    int64_t loop_dz2084Uz2082U_176011;
                    bool loop_while_176012;
                    int64_t stride_176016;
                    
                    if (memblock_set(ctx, &mem_param_180156, &mem_180144, "mem_180144") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180159, &mem_180148, "mem_180148") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180162, &mem_180152, "mem_180152") != 0)
                        return 1;
                    loop_dz2084Uz2082U_176011 = flat_dim_175849;
                    loop_while_176012 = loop_cond_176002;
                    stride_176016 = block_sizze_175848;
                    while (loop_while_176012) {
                        int64_t next_stride_176017 = mul64((int64_t) 2, stride_176016);
                        bool zzero_176018 = next_stride_176017 == (int64_t) 0;
                        bool nonzzero_176019 = !zzero_176018;
                        bool nonzzero_cert_176020;
                        
                        if (!nonzzero_176019) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_176021 = sdiv64(flat_dim_175849, next_stride_176017);
                        bool bounds_invalid_upwards_176022 = slt64(num_merges_176021, (int64_t) 0);
                        bool valid_176023 = !bounds_invalid_upwards_176022;
                        bool range_valid_c_176024;
                        
                        if (!valid_176023) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_176021, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_176026 = sub64(next_stride_176017, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_176027 = sle64((int64_t) 0, m_176026);
                        bool cond_176029 = slt64(next_stride_176017, (int64_t) 10);
                        bool protect_assert_disj_176030 = nonzzero_176004 || cond_176029;
                        bool nonzzero_cert_176031;
                        
                        if (!protect_assert_disj_176030) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_176032 = smod_safe64(next_stride_176017, merge_block_sizze_175854);
                        bool num_blocks_176033 = zeze_lhs_176032 == (int64_t) 0;
                        bool protect_assert_disj_176034 = cond_176029 || num_blocks_176033;
                        bool assert_c_176035;
                        
                        if (!protect_assert_disj_176034) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_176037 = sdiv_safe64(next_stride_176017, merge_block_sizze_175854);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038 = add64((int64_t) 1, num_blocks_176037);
                        int64_t j_m_i_176039 = sub64(next_stride_176017, stride_176016);
                        int64_t flat_dim_176040 = merge_block_sizze_175854 * num_blocks_176037;
                        bool bounds_invalid_upwards_176041 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038, (int64_t) 0);
                        bool empty_slice_176042 = j_m_i_176039 == (int64_t) 0;
                        int64_t m_176043 = sub64(j_m_i_176039, (int64_t) 1);
                        bool zzero_lte_i_176044 = sle64((int64_t) 0, stride_176016);
                        bool i_lte_j_176045 = sle64(stride_176016, next_stride_176017);
                        bool empty_slice_176046 = stride_176016 == (int64_t) 0;
                        int64_t m_176047 = sub64(stride_176016, (int64_t) 1);
                        bool bounds_invalid_upwards_176048 = slt64(num_blocks_176037, (int64_t) 0);
                        bool cond_176049 = slt64((int64_t) 0, stride_176016);
                        bool valid_176050 = !bounds_invalid_upwards_176041;
                        int64_t i_p_m_t_s_176051 = add64(stride_176016, m_176043);
                        bool zzero_leq_i_p_m_t_s_176052 = sle64((int64_t) 0, m_176047);
                        bool i_p_m_t_s_leq_w_176053 = slt64(m_176047, next_stride_176017);
                        bool valid_176054 = !bounds_invalid_upwards_176048;
                        bool i_p_m_t_s_leq_w_176055 = slt64(m_176026, flat_dim_176040);
                        bool y_176056 = slt64((int64_t) 0, j_m_i_176039);
                        bool protect_assert_disj_176057 = cond_176029 || valid_176050;
                        bool range_valid_c_176058;
                        
                        if (!protect_assert_disj_176057) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_176059 = sle64((int64_t) 0, i_p_m_t_s_176051);
                        bool i_p_m_t_s_leq_w_176060 = slt64(i_p_m_t_s_176051, next_stride_176017);
                        bool y_176061 = zzero_leq_i_p_m_t_s_176052 && i_p_m_t_s_leq_w_176053;
                        bool protect_assert_disj_176062 = cond_176029 || valid_176054;
                        bool range_valid_c_176063;
                        
                        if (!protect_assert_disj_176062) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_176037, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_176064 = zzero_leq_i_p_m_t_s_176027 && i_p_m_t_s_leq_w_176055;
                        bool y_176065 = zzero_lte_i_176044 && i_p_m_t_s_leq_w_176060;
                        bool forwards_ok_176066 = zzero_lte_i_176044 && y_176061;
                        bool ok_or_empty_176067 = zzero_176018 || y_176064;
                        bool protect_assert_disj_176068 = cond_176049 || y_176056;
                        bool y_176069 = zzero_leq_i_p_m_t_s_176059 && y_176065;
                        bool ok_or_empty_176070 = empty_slice_176046 || forwards_ok_176066;
                        bool protect_assert_disj_176071 = cond_176029 || ok_or_empty_176067;
                        bool index_certs_176072;
                        
                        if (!protect_assert_disj_176071) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176017, "] out of bounds for array of shape [", (long long) flat_dim_176040, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_176073 = !cond_176029;
                        bool protect_assert_disj_176074 = protect_assert_disj_176068 || loop_not_taken_176073;
                        bool index_certs_176075;
                        
                        if (!protect_assert_disj_176074) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_176076 = i_lte_j_176045 && y_176069;
                        bool protect_assert_disj_176077 = cond_176029 || ok_or_empty_176070;
                        bool index_certs_176078;
                        
                        if (!protect_assert_disj_176077) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176016, "] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176079 = ok_or_empty_176070 || loop_not_taken_176073;
                        bool index_certs_176080;
                        
                        if (!protect_assert_disj_176079) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176016, "] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_176081 = empty_slice_176042 || forwards_ok_176076;
                        bool protect_assert_disj_176082 = cond_176029 || ok_or_empty_176081;
                        bool index_certs_176083;
                        
                        if (!protect_assert_disj_176082) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176016, ":] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176084 = loop_not_taken_176073 || ok_or_empty_176081;
                        bool index_certs_176085;
                        
                        if (!protect_assert_disj_176084) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176016, ":] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180163 = next_stride_176017 * num_merges_176021;
                        int64_t binop_x_180165 = (int64_t) 8 * num_merges_176021;
                        int64_t bytes_180166 = next_stride_176017 * binop_x_180165;
                        bool i_lte_j_176028 = sle64((int64_t) 0, next_stride_176017);
                        
                        if (mem_180164_cached_sizze_181898 < bytes_180163) {
                            err = lexical_realloc(ctx, &mem_180164, &mem_180164_cached_sizze_181898, bytes_180163);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180167_cached_sizze_181899 < bytes_180166) {
                            err = lexical_realloc(ctx, &mem_180167, &mem_180167_cached_sizze_181899, bytes_180166);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180170_cached_sizze_181900 < bytes_180166) {
                            err = lexical_realloc(ctx, &mem_180170, &mem_180170_cached_sizze_181900, bytes_180166);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180183 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038;
                        int64_t binop_x_180201 = (int64_t) 8 * num_blocks_176037;
                        int64_t bytes_180202 = merge_block_sizze_175854 * binop_x_180201;
                        int64_t bytes_180266 = (int64_t) 16 * stride_176016;
                        
                        for (int64_t i_179786 = 0; i_179786 < num_merges_176021; i_179786++) {
                            int64_t start_176090 = mul64(next_stride_176017, i_179786);
                            int64_t j_m_i_176091 = sub64(loop_dz2084Uz2082U_176011, start_176090);
                            bool empty_slice_176092 = j_m_i_176091 == (int64_t) 0;
                            int64_t m_176093 = sub64(j_m_i_176091, (int64_t) 1);
                            int64_t i_p_m_t_s_176094 = add64(start_176090, m_176093);
                            bool zzero_leq_i_p_m_t_s_176095 = sle64((int64_t) 0, i_p_m_t_s_176094);
                            bool i_p_m_t_s_leq_w_176096 = slt64(i_p_m_t_s_176094, loop_dz2084Uz2082U_176011);
                            bool zzero_lte_i_176097 = sle64((int64_t) 0, start_176090);
                            bool i_lte_j_176098 = sle64(start_176090, loop_dz2084Uz2082U_176011);
                            bool y_176099 = i_p_m_t_s_leq_w_176096 && zzero_lte_i_176097;
                            bool y_176100 = zzero_leq_i_p_m_t_s_176095 && y_176099;
                            bool forwards_ok_176101 = i_lte_j_176098 && y_176100;
                            bool ok_or_empty_176102 = empty_slice_176092 || forwards_ok_176101;
                            bool index_certs_176103;
                            
                            if (!ok_or_empty_176102) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_176090, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_176011, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_176104 = slt64(m_176026, j_m_i_176091);
                            bool y_176105 = zzero_leq_i_p_m_t_s_176027 && i_p_m_t_s_leq_w_176104;
                            bool forwards_ok_176106 = i_lte_j_176028 && y_176105;
                            bool ok_or_empty_176107 = zzero_176018 || forwards_ok_176106;
                            bool index_certs_176108;
                            
                            if (!ok_or_empty_176107) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176017, "] out of bounds for array of shape [", (long long) j_m_i_176091, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_176029) {
                                int8_t dummy_179238;
                                int64_t dummy_179239;
                                int64_t dummy_179240;
                                
                                if (cond_176049) {
                                    int8_t head_res_179241 = ((int8_t *) mem_param_180156.mem)[start_176090];
                                    int64_t head_res_179242 = ((int64_t *) mem_param_180159.mem)[start_176090];
                                    int64_t head_res_179243 = ((int64_t *) mem_param_180162.mem)[start_176090];
                                    
                                    dummy_179238 = head_res_179241;
                                    dummy_179239 = head_res_179242;
                                    dummy_179240 = head_res_179243;
                                } else {
                                    int64_t slice_179244 = stride_176016 + start_176090;
                                    int8_t head_res_179245 = ((int8_t *) mem_param_180156.mem)[slice_179244];
                                    int64_t head_res_179246 = ((int64_t *) mem_param_180159.mem)[slice_179244];
                                    int64_t head_res_179247 = ((int64_t *) mem_param_180162.mem)[slice_179244];
                                    
                                    dummy_179238 = head_res_179245;
                                    dummy_179239 = head_res_179246;
                                    dummy_179240 = head_res_179247;
                                }
                                if (memblock_alloc(ctx, &mem_180265, next_stride_176017, "mem_180265")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181568 = 0; nest_i_181568 < next_stride_176017; nest_i_181568++) {
                                    ((int8_t *) mem_180265.mem)[nest_i_181568] = dummy_179238;
                                }
                                if (memblock_alloc(ctx, &mem_180267, bytes_180266, "mem_180267")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181569 = 0; nest_i_181569 < next_stride_176017; nest_i_181569++) {
                                    ((int64_t *) mem_180267.mem)[nest_i_181569] = dummy_179239;
                                }
                                if (memblock_alloc(ctx, &mem_180269, bytes_180266, "mem_180269")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181570 = 0; nest_i_181570 < next_stride_176017; nest_i_181570++) {
                                    ((int64_t *) mem_180269.mem)[nest_i_181570] = dummy_179240;
                                }
                                
                                int64_t data_179251;
                                int64_t i_179256 = (int64_t) 0;
                                
                                for (int64_t k_179255 = 0; k_179255 < next_stride_176017; k_179255++) {
                                    int64_t j_179260 = sub64(k_179255, i_179256);
                                    bool cond_179261 = j_179260 == j_m_i_176039;
                                    bool cond_179262;
                                    
                                    if (cond_179261) {
                                        cond_179262 = 1;
                                    } else {
                                        bool cond_179263 = slt64(i_179256, stride_176016);
                                        bool cond_f_res_179264;
                                        
                                        if (cond_179263) {
                                            bool x_179265 = sle64((int64_t) 0, j_179260);
                                            bool y_179266 = slt64(j_179260, j_m_i_176039);
                                            bool bounds_check_179267 = x_179265 && y_179266;
                                            bool index_certs_179268;
                                            
                                            if (!bounds_check_179267) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179260, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179274 = sle64((int64_t) 0, i_179256);
                                            bool bounds_check_179275 = cond_179263 && x_179274;
                                            bool index_certs_179276;
                                            
                                            if (!bounds_check_179275) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179256, "] out of bounds for array of shape [", (long long) stride_176016, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179269 = stride_176016 + j_179260;
                                            int64_t slice_179270 = start_176090 + slice_179269;
                                            int8_t leq_arg1_179271 = ((int8_t *) mem_param_180156.mem)[slice_179270];
                                            int64_t leq_arg1_179272 = ((int64_t *) mem_param_180159.mem)[slice_179270];
                                            int64_t leq_arg1_179273 = ((int64_t *) mem_param_180162.mem)[slice_179270];
                                            int64_t slice_179277 = start_176090 + i_179256;
                                            int8_t leq_arg0_179278 = ((int8_t *) mem_param_180156.mem)[slice_179277];
                                            int64_t leq_arg0_179279 = ((int64_t *) mem_param_180159.mem)[slice_179277];
                                            int64_t leq_arg0_179280 = ((int64_t *) mem_param_180162.mem)[slice_179277];
                                            bool cond_179281 = leq_arg0_179278 == leq_arg1_179271;
                                            bool defunc_0_leq_res_t_res_179282 = sle64(leq_arg0_179279, leq_arg1_179272);
                                            bool defunc_0_leq_res_179283 = sle64(leq_arg0_179280, leq_arg1_179273);
                                            bool x_179284 = cond_179281 && defunc_0_leq_res_t_res_179282;
                                            bool x_179285 = !cond_179281;
                                            bool y_179286 = defunc_0_leq_res_179283 && x_179285;
                                            bool defunc_0_leq_res_179287 = x_179284 || y_179286;
                                            
                                            cond_f_res_179264 = defunc_0_leq_res_179287;
                                        } else {
                                            cond_f_res_179264 = 0;
                                        }
                                        cond_179262 = cond_f_res_179264;
                                    }
                                    
                                    int64_t loopres_179288;
                                    int8_t loopres_179289;
                                    int64_t loopres_179290;
                                    int64_t loopres_179291;
                                    
                                    if (cond_179262) {
                                        bool x_179293 = sle64((int64_t) 0, i_179256);
                                        bool y_179294 = slt64(i_179256, stride_176016);
                                        bool bounds_check_179295 = x_179293 && y_179294;
                                        bool index_certs_179296;
                                        
                                        if (!bounds_check_179295) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179256, "] out of bounds for array of shape [", (long long) stride_176016, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179292 = add64((int64_t) 1, i_179256);
                                        int64_t slice_179297 = start_176090 + i_179256;
                                        int8_t tmp_179298 = ((int8_t *) mem_param_180156.mem)[slice_179297];
                                        int64_t tmp_179299 = ((int64_t *) mem_param_180159.mem)[slice_179297];
                                        int64_t tmp_179300 = ((int64_t *) mem_param_180162.mem)[slice_179297];
                                        
                                        loopres_179288 = tmp_179292;
                                        loopres_179289 = tmp_179298;
                                        loopres_179290 = tmp_179299;
                                        loopres_179291 = tmp_179300;
                                    } else {
                                        bool x_179301 = sle64((int64_t) 0, j_179260);
                                        bool y_179302 = slt64(j_179260, j_m_i_176039);
                                        bool bounds_check_179303 = x_179301 && y_179302;
                                        bool index_certs_179304;
                                        
                                        if (!bounds_check_179303) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179260, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179305 = stride_176016 + j_179260;
                                        int64_t slice_179306 = start_176090 + slice_179305;
                                        int8_t tmp_179307 = ((int8_t *) mem_param_180156.mem)[slice_179306];
                                        int64_t tmp_179308 = ((int64_t *) mem_param_180159.mem)[slice_179306];
                                        int64_t tmp_179309 = ((int64_t *) mem_param_180162.mem)[slice_179306];
                                        
                                        loopres_179288 = i_179256;
                                        loopres_179289 = tmp_179307;
                                        loopres_179290 = tmp_179308;
                                        loopres_179291 = tmp_179309;
                                    }
                                    ((int8_t *) mem_180265.mem)[k_179255] = loopres_179289;
                                    ((int64_t *) mem_180267.mem)[k_179255] = loopres_179290;
                                    ((int64_t *) mem_180269.mem)[k_179255] = loopres_179291;
                                    
                                    int64_t i_tmp_181571 = loopres_179288;
                                    
                                    i_179256 = i_tmp_181571;
                                }
                                data_179251 = i_179256;
                                if (memblock_set(ctx, &ext_mem_180296, &mem_180265, "mem_180265") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180293, &mem_180267, "mem_180267") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180290, &mem_180269, "mem_180269") != 0)
                                    return 1;
                            } else {
                                if (mem_180184_cached_sizze_181901 < bytes_180183) {
                                    err = lexical_realloc(ctx, &mem_180184, &mem_180184_cached_sizze_181901, bytes_180183);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180186_cached_sizze_181902 < bytes_180183) {
                                    err = lexical_realloc(ctx, &mem_180186, &mem_180186_cached_sizze_181902, bytes_180183);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179767 = 0; i_179767 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038; i_179767++) {
                                    int64_t split_count_arg3_176191 = mul64(merge_block_sizze_175854, i_179767);
                                    int64_t defunc_0_split_count_res_176192;
                                    int64_t defunc_0_split_count_res_176193;
                                    int64_t defunc_0_split_count_res_176194;
                                    int64_t defunc_0_split_count_res_176195;
                                    int64_t defunc_0_split_count_res_176196;
                                    
                                    if (futrts_lifted_normalizze_8970(ctx, &defunc_0_split_count_res_176192, &defunc_0_split_count_res_176193, &defunc_0_split_count_res_176194, &defunc_0_split_count_res_176195, &defunc_0_split_count_res_176196, (int64_t) 0, stride_176016, (int64_t) 0, j_m_i_176039, split_count_arg3_176191) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_176197 = slt64((int64_t) 0, defunc_0_split_count_res_176196);
                                    bool defunc_0_split_count_res_176198;
                                    int64_t defunc_0_split_count_res_176199;
                                    int64_t defunc_0_split_count_res_176200;
                                    int64_t defunc_0_split_count_res_176201;
                                    int64_t defunc_0_split_count_res_176202;
                                    int64_t defunc_0_split_count_res_176203;
                                    bool loop_while_176204;
                                    int64_t ss_176205;
                                    int64_t ss_176206;
                                    int64_t tt_176207;
                                    int64_t tt_176208;
                                    int64_t count_176209;
                                    
                                    loop_while_176204 = loop_cond_176197;
                                    ss_176205 = defunc_0_split_count_res_176192;
                                    ss_176206 = defunc_0_split_count_res_176193;
                                    tt_176207 = defunc_0_split_count_res_176194;
                                    tt_176208 = defunc_0_split_count_res_176195;
                                    count_176209 = defunc_0_split_count_res_176196;
                                    while (loop_while_176204) {
                                        int64_t zlze_lhs_176210 = sub64(ss_176206, ss_176205);
                                        bool cond_176211 = sle64(zlze_lhs_176210, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_176212;
                                        int64_t defunc_0_lifted_step_res_176213;
                                        int64_t defunc_0_lifted_step_res_176214;
                                        int64_t defunc_0_lifted_step_res_176215;
                                        
                                        if (cond_176211) {
                                            int64_t tmp_179313 = add64(tt_176207, count_176209);
                                            
                                            defunc_0_lifted_step_res_176212 = ss_176205;
                                            defunc_0_lifted_step_res_176213 = tmp_179313;
                                            defunc_0_lifted_step_res_176214 = tt_176208;
                                            defunc_0_lifted_step_res_176215 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_176217 = sub64(tt_176208, tt_176207);
                                            bool cond_176218 = sle64(zlze_lhs_176217, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_176219;
                                            int64_t defunc_0_lifted_step_res_f_res_176220;
                                            int64_t defunc_0_lifted_step_res_f_res_176221;
                                            int64_t defunc_0_lifted_step_res_f_res_176222;
                                            
                                            if (cond_176218) {
                                                int64_t tmp_179314 = add64(ss_176205, count_176209);
                                                
                                                defunc_0_lifted_step_res_f_res_176219 = tmp_179314;
                                                defunc_0_lifted_step_res_f_res_176220 = tt_176207;
                                                defunc_0_lifted_step_res_f_res_176221 = tt_176208;
                                                defunc_0_lifted_step_res_f_res_176222 = (int64_t) 0;
                                            } else {
                                                bool cond_176224 = count_176209 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176225;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176226;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176227;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176228;
                                                
                                                if (cond_176224) {
                                                    bool x_179316 = sle64((int64_t) 0, ss_176205);
                                                    bool y_179317 = slt64(ss_176205, stride_176016);
                                                    bool bounds_check_179318 = x_179316 && y_179317;
                                                    bool index_certs_179319;
                                                    
                                                    if (!bounds_check_179318) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_176205, "] out of bounds for array of shape [", (long long) stride_176016, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179324 = sle64((int64_t) 0, tt_176207);
                                                    bool y_179325 = slt64(tt_176207, j_m_i_176039);
                                                    bool bounds_check_179326 = x_179324 && y_179325;
                                                    bool index_certs_179327;
                                                    
                                                    if (!bounds_check_179326) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_176207, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179320 = start_176090 + ss_176205;
                                                    int8_t leq_arg1_179321 = ((int8_t *) mem_param_180156.mem)[slice_179320];
                                                    int64_t leq_arg1_179322 = ((int64_t *) mem_param_180159.mem)[slice_179320];
                                                    int64_t leq_arg1_179323 = ((int64_t *) mem_param_180162.mem)[slice_179320];
                                                    int64_t slice_179328 = stride_176016 + tt_176207;
                                                    int64_t slice_179329 = start_176090 + slice_179328;
                                                    int8_t leq_arg0_179330 = ((int8_t *) mem_param_180156.mem)[slice_179329];
                                                    int64_t leq_arg0_179331 = ((int64_t *) mem_param_180159.mem)[slice_179329];
                                                    int64_t leq_arg0_179332 = ((int64_t *) mem_param_180162.mem)[slice_179329];
                                                    bool cond_179333 = leq_arg0_179330 == leq_arg1_179321;
                                                    bool defunc_0_leq_res_t_res_179334 = sle64(leq_arg0_179331, leq_arg1_179322);
                                                    bool defunc_0_leq_res_179335 = sle64(leq_arg0_179332, leq_arg1_179323);
                                                    bool x_179336 = cond_179333 && defunc_0_leq_res_t_res_179334;
                                                    bool x_179337 = !cond_179333;
                                                    bool y_179338 = defunc_0_leq_res_179335 && x_179337;
                                                    bool defunc_0_leq_res_179339 = x_179336 || y_179338;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179340;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179341;
                                                    
                                                    if (defunc_0_leq_res_179339) {
                                                        int64_t tmp_179342 = add64((int64_t) 1, tt_176207);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179340 = ss_176205;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179341 = tmp_179342;
                                                    } else {
                                                        int64_t tmp_179343 = add64((int64_t) 1, ss_176205);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179340 = tmp_179343;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179341 = tt_176207;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176225 = defunc_0_lifted_step_res_f_res_f_res_t_res_179340;
                                                    defunc_0_lifted_step_res_f_res_f_res_176226 = defunc_0_lifted_step_res_f_res_f_res_t_res_179341;
                                                    defunc_0_lifted_step_res_f_res_f_res_176227 = tt_176208;
                                                    defunc_0_lifted_step_res_f_res_f_res_176228 = (int64_t) 0;
                                                } else {
                                                    int64_t m_176257 = sdiv64(count_176209, (int64_t) 2);
                                                    int64_t n_176258 = sub64(count_176209, m_176257);
                                                    bool cond_176259 = n_176258 == (int64_t) 0;
                                                    int64_t zgze_lhs_176260 = add64(ss_176205, m_176257);
                                                    bool cond_f_res_176261 = sle64(ss_176206, zgze_lhs_176260);
                                                    bool x_176262 = !cond_176259;
                                                    bool y_176263 = cond_f_res_176261 && x_176262;
                                                    bool cond_176264 = cond_176259 || y_176263;
                                                    bool leq_y_x_176265;
                                                    
                                                    if (cond_176264) {
                                                        leq_y_x_176265 = 1;
                                                    } else {
                                                        bool x_176266 = sle64((int64_t) 0, zgze_lhs_176260);
                                                        bool y_176267 = slt64(zgze_lhs_176260, stride_176016);
                                                        bool bounds_check_176268 = x_176266 && y_176267;
                                                        bool index_certs_176269;
                                                        
                                                        if (!bounds_check_176268) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_176260, "] out of bounds for array of shape [", (long long) stride_176016, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_176274 = add64(tt_176207, n_176258);
                                                        int64_t leq_arg0_176275 = sub64(zm_lhs_176274, (int64_t) 1);
                                                        bool x_176276 = sle64((int64_t) 0, leq_arg0_176275);
                                                        bool y_176277 = slt64(leq_arg0_176275, j_m_i_176039);
                                                        bool bounds_check_176278 = x_176276 && y_176277;
                                                        bool index_certs_176279;
                                                        
                                                        if (!bounds_check_176278) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_176275, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_176270 = start_176090 + zgze_lhs_176260;
                                                        int8_t leq_arg1_176271 = ((int8_t *) mem_param_180156.mem)[slice_176270];
                                                        int64_t leq_arg1_176272 = ((int64_t *) mem_param_180159.mem)[slice_176270];
                                                        int64_t leq_arg1_176273 = ((int64_t *) mem_param_180162.mem)[slice_176270];
                                                        int64_t slice_176280 = stride_176016 + leq_arg0_176275;
                                                        int64_t slice_176281 = start_176090 + slice_176280;
                                                        int8_t leq_arg0_176282 = ((int8_t *) mem_param_180156.mem)[slice_176281];
                                                        int64_t leq_arg0_176283 = ((int64_t *) mem_param_180159.mem)[slice_176281];
                                                        int64_t leq_arg0_176284 = ((int64_t *) mem_param_180162.mem)[slice_176281];
                                                        bool cond_176285 = leq_arg0_176282 == leq_arg1_176271;
                                                        bool defunc_0_leq_res_t_res_176286 = sle64(leq_arg0_176283, leq_arg1_176272);
                                                        bool defunc_0_leq_res_176287 = sle64(leq_arg0_176284, leq_arg1_176273);
                                                        bool x_176288 = cond_176285 && defunc_0_leq_res_t_res_176286;
                                                        bool x_176289 = !cond_176285;
                                                        bool y_176290 = defunc_0_leq_res_176287 && x_176289;
                                                        bool defunc_0_leq_res_176291 = x_176288 || y_176290;
                                                        
                                                        leq_y_x_176265 = defunc_0_leq_res_176291;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176292;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176293;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176294;
                                                    
                                                    if (leq_y_x_176265) {
                                                        int64_t tmp_179344 = add64(tt_176207, n_176258);
                                                        int64_t tmp_179345 = sub64(count_176209, n_176258);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176292 = tmp_179344;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176293 = tt_176208;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176294 = tmp_179345;
                                                    } else {
                                                        int64_t tmp_176297 = add64(tt_176207, n_176258);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176292 = tt_176207;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176293 = tmp_176297;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176294 = count_176209;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176225 = ss_176205;
                                                    defunc_0_lifted_step_res_f_res_f_res_176226 = defunc_0_lifted_step_res_f_res_f_res_f_res_176292;
                                                    defunc_0_lifted_step_res_f_res_f_res_176227 = defunc_0_lifted_step_res_f_res_f_res_f_res_176293;
                                                    defunc_0_lifted_step_res_f_res_f_res_176228 = defunc_0_lifted_step_res_f_res_f_res_f_res_176294;
                                                }
                                                defunc_0_lifted_step_res_f_res_176219 = defunc_0_lifted_step_res_f_res_f_res_176225;
                                                defunc_0_lifted_step_res_f_res_176220 = defunc_0_lifted_step_res_f_res_f_res_176226;
                                                defunc_0_lifted_step_res_f_res_176221 = defunc_0_lifted_step_res_f_res_f_res_176227;
                                                defunc_0_lifted_step_res_f_res_176222 = defunc_0_lifted_step_res_f_res_f_res_176228;
                                            }
                                            defunc_0_lifted_step_res_176212 = defunc_0_lifted_step_res_f_res_176219;
                                            defunc_0_lifted_step_res_176213 = defunc_0_lifted_step_res_f_res_176220;
                                            defunc_0_lifted_step_res_176214 = defunc_0_lifted_step_res_f_res_176221;
                                            defunc_0_lifted_step_res_176215 = defunc_0_lifted_step_res_f_res_176222;
                                        }
                                        
                                        int64_t loopres_176298;
                                        int64_t loopres_176299;
                                        int64_t loopres_176300;
                                        int64_t loopres_176301;
                                        int64_t loopres_176302;
                                        
                                        if (futrts_lifted_normalizze_8970(ctx, &loopres_176298, &loopres_176299, &loopres_176300, &loopres_176301, &loopres_176302, defunc_0_lifted_step_res_176212, ss_176206, defunc_0_lifted_step_res_176213, defunc_0_lifted_step_res_176214, defunc_0_lifted_step_res_176215) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_176303 = slt64((int64_t) 0, loopres_176302);
                                        bool loop_while_tmp_181577 = loop_cond_176303;
                                        int64_t ss_tmp_181578 = loopres_176298;
                                        int64_t ss_tmp_181579 = loopres_176299;
                                        int64_t tt_tmp_181580 = loopres_176300;
                                        int64_t tt_tmp_181581 = loopres_176301;
                                        int64_t count_tmp_181582 = loopres_176302;
                                        
                                        loop_while_176204 = loop_while_tmp_181577;
                                        ss_176205 = ss_tmp_181578;
                                        ss_176206 = ss_tmp_181579;
                                        tt_176207 = tt_tmp_181580;
                                        tt_176208 = tt_tmp_181581;
                                        count_176209 = count_tmp_181582;
                                    }
                                    defunc_0_split_count_res_176198 = loop_while_176204;
                                    defunc_0_split_count_res_176199 = ss_176205;
                                    defunc_0_split_count_res_176200 = ss_176206;
                                    defunc_0_split_count_res_176201 = tt_176207;
                                    defunc_0_split_count_res_176202 = tt_176208;
                                    defunc_0_split_count_res_176203 = count_176209;
                                    ((int64_t *) mem_180184)[i_179767] = defunc_0_split_count_res_176199;
                                    ((int64_t *) mem_180186)[i_179767] = defunc_0_split_count_res_176201;
                                }
                                if (mem_180200_cached_sizze_181903 < flat_dim_176040) {
                                    err = lexical_realloc(ctx, &mem_180200, &mem_180200_cached_sizze_181903, flat_dim_176040);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180203_cached_sizze_181904 < bytes_180202) {
                                    err = lexical_realloc(ctx, &mem_180203, &mem_180203_cached_sizze_181904, bytes_180202);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180206_cached_sizze_181905 < bytes_180202) {
                                    err = lexical_realloc(ctx, &mem_180206, &mem_180206_cached_sizze_181905, bytes_180202);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179776 = 0; i_179776 < num_blocks_176037; i_179776++) {
                                    bool y_176310 = slt64(i_179776, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038);
                                    bool index_certs_176312;
                                    
                                    if (!y_176310) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179776, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_176313 = ((int64_t *) mem_180184)[i_179776];
                                    int64_t defunc_0_f_res_176314 = ((int64_t *) mem_180186)[i_179776];
                                    int64_t tmp_176315 = add64((int64_t) 1, i_179776);
                                    bool x_176316 = sle64((int64_t) 0, tmp_176315);
                                    bool y_176317 = slt64(tmp_176315, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038);
                                    bool bounds_check_176318 = x_176316 && y_176317;
                                    bool index_certs_176319;
                                    
                                    if (!bounds_check_176318) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176315, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_176320 = ((int64_t *) mem_180184)[tmp_176315];
                                    int64_t defunc_0_f_res_176321 = ((int64_t *) mem_180186)[tmp_176315];
                                    int64_t merge_sequential_arg2_176322 = add64(stride_176016, defunc_0_f_res_176314);
                                    int64_t merge_sequential_arg2_176323 = add64(stride_176016, defunc_0_f_res_176321);
                                    int64_t j_m_i_176324 = sub64(merge_sequential_arg2_176323, merge_sequential_arg2_176322);
                                    bool empty_slice_176325 = j_m_i_176324 == (int64_t) 0;
                                    int64_t m_176326 = sub64(j_m_i_176324, (int64_t) 1);
                                    int64_t i_p_m_t_s_176327 = add64(merge_sequential_arg2_176322, m_176326);
                                    bool zzero_leq_i_p_m_t_s_176328 = sle64((int64_t) 0, i_p_m_t_s_176327);
                                    bool i_p_m_t_s_leq_w_176329 = slt64(i_p_m_t_s_176327, next_stride_176017);
                                    bool zzero_lte_i_176330 = sle64((int64_t) 0, merge_sequential_arg2_176322);
                                    bool i_lte_j_176331 = sle64(merge_sequential_arg2_176322, merge_sequential_arg2_176323);
                                    bool y_176332 = i_p_m_t_s_leq_w_176329 && zzero_lte_i_176330;
                                    bool y_176333 = zzero_leq_i_p_m_t_s_176328 && y_176332;
                                    bool forwards_ok_176334 = i_lte_j_176331 && y_176333;
                                    bool ok_or_empty_176335 = empty_slice_176325 || forwards_ok_176334;
                                    bool index_certs_176336;
                                    
                                    if (!ok_or_empty_176335) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_176322, ":", (long long) merge_sequential_arg2_176323, "] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_176337 = sub64(defunc_0_f_res_176320, defunc_0_f_res_176313);
                                    bool empty_slice_176338 = j_m_i_176337 == (int64_t) 0;
                                    int64_t m_176339 = sub64(j_m_i_176337, (int64_t) 1);
                                    int64_t i_p_m_t_s_176340 = add64(defunc_0_f_res_176313, m_176339);
                                    bool zzero_leq_i_p_m_t_s_176341 = sle64((int64_t) 0, i_p_m_t_s_176340);
                                    bool i_p_m_t_s_leq_w_176342 = slt64(i_p_m_t_s_176340, next_stride_176017);
                                    bool zzero_lte_i_176343 = sle64((int64_t) 0, defunc_0_f_res_176313);
                                    bool i_lte_j_176344 = sle64(defunc_0_f_res_176313, defunc_0_f_res_176320);
                                    bool y_176345 = i_p_m_t_s_leq_w_176342 && zzero_lte_i_176343;
                                    bool y_176346 = zzero_leq_i_p_m_t_s_176341 && y_176345;
                                    bool forwards_ok_176347 = i_lte_j_176344 && y_176346;
                                    bool ok_or_empty_176348 = empty_slice_176338 || forwards_ok_176347;
                                    bool index_certs_176349;
                                    
                                    if (!ok_or_empty_176348) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_176313, ":", (long long) defunc_0_f_res_176320, "] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_176350 = slt64((int64_t) 0, j_m_i_176337);
                                    int8_t dummy_176351;
                                    int64_t dummy_176352;
                                    int64_t dummy_176353;
                                    
                                    if (cond_176350) {
                                        bool index_certs_179346;
                                        
                                        if (!cond_176350) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176337, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179347 = start_176090 + defunc_0_f_res_176313;
                                        int8_t head_res_179348 = ((int8_t *) mem_param_180156.mem)[slice_179347];
                                        int64_t head_res_179349 = ((int64_t *) mem_param_180159.mem)[slice_179347];
                                        int64_t head_res_179350 = ((int64_t *) mem_param_180162.mem)[slice_179347];
                                        
                                        dummy_176351 = head_res_179348;
                                        dummy_176352 = head_res_179349;
                                        dummy_176353 = head_res_179350;
                                    } else {
                                        bool y_176359 = slt64((int64_t) 0, j_m_i_176324);
                                        bool index_certs_176360;
                                        
                                        if (!y_176359) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176324, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_176361 = start_176090 + merge_sequential_arg2_176322;
                                        int8_t head_res_176362 = ((int8_t *) mem_param_180156.mem)[slice_176361];
                                        int64_t head_res_176363 = ((int64_t *) mem_param_180159.mem)[slice_176361];
                                        int64_t head_res_176364 = ((int64_t *) mem_param_180162.mem)[slice_176361];
                                        
                                        dummy_176351 = head_res_176362;
                                        dummy_176352 = head_res_176363;
                                        dummy_176353 = head_res_176364;
                                    }
                                    for (int64_t nest_i_181586 = 0; nest_i_181586 < merge_block_sizze_175854; nest_i_181586++) {
                                        ((int8_t *) mem_180200)[i_179776 * merge_block_sizze_175854 + nest_i_181586] = dummy_176351;
                                    }
                                    for (int64_t nest_i_181587 = 0; nest_i_181587 < merge_block_sizze_175854; nest_i_181587++) {
                                        ((int64_t *) mem_180203)[i_179776 * merge_block_sizze_175854 + nest_i_181587] = dummy_176352;
                                    }
                                    for (int64_t nest_i_181588 = 0; nest_i_181588 < merge_block_sizze_175854; nest_i_181588++) {
                                        ((int64_t *) mem_180206)[i_179776 * merge_block_sizze_175854 + nest_i_181588] = dummy_176353;
                                    }
                                    
                                    int64_t data_176368;
                                    int64_t i_176373 = (int64_t) 0;
                                    
                                    for (int64_t k_176372 = 0; k_176372 < merge_block_sizze_175854; k_176372++) {
                                        int64_t j_176377 = sub64(k_176372, i_176373);
                                        bool cond_176378 = j_176377 == j_m_i_176324;
                                        bool cond_176379;
                                        
                                        if (cond_176378) {
                                            cond_176379 = 1;
                                        } else {
                                            bool cond_176380 = slt64(i_176373, j_m_i_176337);
                                            bool cond_f_res_176381;
                                            
                                            if (cond_176380) {
                                                bool x_179351 = sle64((int64_t) 0, j_176377);
                                                bool y_179352 = slt64(j_176377, j_m_i_176324);
                                                bool bounds_check_179353 = x_179351 && y_179352;
                                                bool index_certs_179354;
                                                
                                                if (!bounds_check_179353) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176377, "] out of bounds for array of shape [", (long long) j_m_i_176324, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179360 = sle64((int64_t) 0, i_176373);
                                                bool bounds_check_179361 = cond_176380 && x_179360;
                                                bool index_certs_179362;
                                                
                                                if (!bounds_check_179361) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176373, "] out of bounds for array of shape [", (long long) j_m_i_176337, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179355 = merge_sequential_arg2_176322 + j_176377;
                                                int64_t slice_179356 = start_176090 + slice_179355;
                                                int8_t leq_arg1_179357 = ((int8_t *) mem_param_180156.mem)[slice_179356];
                                                int64_t leq_arg1_179358 = ((int64_t *) mem_param_180159.mem)[slice_179356];
                                                int64_t leq_arg1_179359 = ((int64_t *) mem_param_180162.mem)[slice_179356];
                                                int64_t slice_179363 = defunc_0_f_res_176313 + i_176373;
                                                int64_t slice_179364 = start_176090 + slice_179363;
                                                int8_t leq_arg0_179365 = ((int8_t *) mem_param_180156.mem)[slice_179364];
                                                int64_t leq_arg0_179366 = ((int64_t *) mem_param_180159.mem)[slice_179364];
                                                int64_t leq_arg0_179367 = ((int64_t *) mem_param_180162.mem)[slice_179364];
                                                bool cond_179368 = leq_arg0_179365 == leq_arg1_179357;
                                                bool defunc_0_leq_res_t_res_179369 = sle64(leq_arg0_179366, leq_arg1_179358);
                                                bool defunc_0_leq_res_179370 = sle64(leq_arg0_179367, leq_arg1_179359);
                                                bool x_179371 = cond_179368 && defunc_0_leq_res_t_res_179369;
                                                bool x_179372 = !cond_179368;
                                                bool y_179373 = defunc_0_leq_res_179370 && x_179372;
                                                bool defunc_0_leq_res_179374 = x_179371 || y_179373;
                                                
                                                cond_f_res_176381 = defunc_0_leq_res_179374;
                                            } else {
                                                cond_f_res_176381 = 0;
                                            }
                                            cond_176379 = cond_f_res_176381;
                                        }
                                        
                                        int64_t loopres_176406;
                                        int8_t loopres_176407;
                                        int64_t loopres_176408;
                                        int64_t loopres_176409;
                                        
                                        if (cond_176379) {
                                            bool x_179376 = sle64((int64_t) 0, i_176373);
                                            bool y_179377 = slt64(i_176373, j_m_i_176337);
                                            bool bounds_check_179378 = x_179376 && y_179377;
                                            bool index_certs_179379;
                                            
                                            if (!bounds_check_179378) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176373, "] out of bounds for array of shape [", (long long) j_m_i_176337, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179375 = add64((int64_t) 1, i_176373);
                                            int64_t slice_179380 = defunc_0_f_res_176313 + i_176373;
                                            int64_t slice_179381 = start_176090 + slice_179380;
                                            int8_t tmp_179382 = ((int8_t *) mem_param_180156.mem)[slice_179381];
                                            int64_t tmp_179383 = ((int64_t *) mem_param_180159.mem)[slice_179381];
                                            int64_t tmp_179384 = ((int64_t *) mem_param_180162.mem)[slice_179381];
                                            
                                            loopres_176406 = tmp_179375;
                                            loopres_176407 = tmp_179382;
                                            loopres_176408 = tmp_179383;
                                            loopres_176409 = tmp_179384;
                                        } else {
                                            bool x_176420 = sle64((int64_t) 0, j_176377);
                                            bool y_176421 = slt64(j_176377, j_m_i_176324);
                                            bool bounds_check_176422 = x_176420 && y_176421;
                                            bool index_certs_176423;
                                            
                                            if (!bounds_check_176422) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176377, "] out of bounds for array of shape [", (long long) j_m_i_176324, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_176424 = merge_sequential_arg2_176322 + j_176377;
                                            int64_t slice_176425 = start_176090 + slice_176424;
                                            int8_t tmp_176426 = ((int8_t *) mem_param_180156.mem)[slice_176425];
                                            int64_t tmp_176427 = ((int64_t *) mem_param_180159.mem)[slice_176425];
                                            int64_t tmp_176428 = ((int64_t *) mem_param_180162.mem)[slice_176425];
                                            
                                            loopres_176406 = i_176373;
                                            loopres_176407 = tmp_176426;
                                            loopres_176408 = tmp_176427;
                                            loopres_176409 = tmp_176428;
                                        }
                                        ((int8_t *) mem_180200)[i_179776 * merge_block_sizze_175854 + k_176372] = loopres_176407;
                                        ((int64_t *) mem_180203)[i_179776 * merge_block_sizze_175854 + k_176372] = loopres_176408;
                                        ((int64_t *) mem_180206)[i_179776 * merge_block_sizze_175854 + k_176372] = loopres_176409;
                                        
                                        int64_t i_tmp_181589 = loopres_176406;
                                        
                                        i_176373 = i_tmp_181589;
                                    }
                                    data_176368 = i_176373;
                                }
                                if (memblock_alloc(ctx, &mem_180255, flat_dim_176040, "mem_180255")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180255.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (uint8_t *) mem_180200, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (int64_t []) {num_blocks_176037, merge_block_sizze_175854});
                                if (memblock_alloc(ctx, &mem_180259, bytes_180202, "mem_180259")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180259.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (uint64_t *) mem_180203, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (int64_t []) {num_blocks_176037, merge_block_sizze_175854});
                                if (memblock_alloc(ctx, &mem_180263, bytes_180202, "mem_180263")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180263.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (uint64_t *) mem_180206, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (int64_t []) {num_blocks_176037, merge_block_sizze_175854});
                                if (memblock_set(ctx, &ext_mem_180296, &mem_180255, "mem_180255") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180293, &mem_180259, "mem_180259") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180290, &mem_180263, "mem_180263") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180164, i_179786 * next_stride_176017, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180296.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176017});
                            if (memblock_unref(ctx, &ext_mem_180296, "ext_mem_180296") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180167, i_179786 * next_stride_176017, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180293.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176017});
                            if (memblock_unref(ctx, &ext_mem_180293, "ext_mem_180293") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180170, i_179786 * next_stride_176017, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180290.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176017});
                            if (memblock_unref(ctx, &ext_mem_180290, "ext_mem_180290") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_180310, bytes_180163, "mem_180310")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180310.mem, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (uint8_t *) mem_180164, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (int64_t []) {num_merges_176021, next_stride_176017});
                        if (memblock_alloc(ctx, &mem_180314, bytes_180166, "mem_180314")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180314.mem, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (uint64_t *) mem_180167, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (int64_t []) {num_merges_176021, next_stride_176017});
                        if (memblock_alloc(ctx, &mem_180318, bytes_180166, "mem_180318")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180318.mem, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (uint64_t *) mem_180170, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (int64_t []) {num_merges_176021, next_stride_176017});
                        
                        bool loop_cond_176442 = slt64(next_stride_176017, flat_dim_175849);
                        
                        if (memblock_set(ctx, &mem_param_tmp_181556, &mem_180310, "mem_180310") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181557, &mem_180314, "mem_180314") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181558, &mem_180318, "mem_180318") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_181559 = bytes_180163;
                        bool loop_while_tmp_181560 = loop_cond_176442;
                        int64_t stride_tmp_181564 = next_stride_176017;
                        
                        if (memblock_set(ctx, &mem_param_180156, &mem_param_tmp_181556, "mem_param_tmp_181556") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180159, &mem_param_tmp_181557, "mem_param_tmp_181557") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180162, &mem_param_tmp_181558, "mem_param_tmp_181558") != 0)
                            return 1;
                        loop_dz2084Uz2082U_176011 = loop_dz2084Uz2082U_tmp_181559;
                        loop_while_176012 = loop_while_tmp_181560;
                        stride_176016 = stride_tmp_181564;
                    }
                    if (memblock_set(ctx, &ext_mem_180328, &mem_param_180156, "mem_param_180156") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180327, &mem_param_180159, "mem_param_180159") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180326, &mem_param_180162, "mem_param_180162") != 0)
                        return 1;
                    data_176005 = loop_dz2084Uz2082U_176011;
                    data_176006 = loop_while_176012;
                    data_176010 = stride_176016;
                    if (memblock_unref(ctx, &mem_180144, "mem_180144") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180148, "mem_180148") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180152, "mem_180152") != 0)
                        return 1;
                    
                    bool empty_slice_176443 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_176444 = sle64((int64_t) 0, zs_lhs_175833);
                    bool i_p_m_t_s_leq_w_176445 = slt64(zs_lhs_175833, data_176005);
                    bool y_176446 = zzero_leq_i_p_m_t_s_176444 && i_p_m_t_s_leq_w_176445;
                    bool ok_or_empty_176447 = empty_slice_176443 || y_176446;
                    bool index_certs_176448;
                    
                    if (!ok_or_empty_176447) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "] out of bounds for array of shape [", (long long) data_176005, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_180337, &ext_mem_180328, "ext_mem_180328") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180334, &ext_mem_180327, "ext_mem_180327") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180331, &ext_mem_180326, "ext_mem_180326") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180038, "mem_180038") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180040, "mem_180040") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180042, "mem_180042") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180018.mem, ind_bottom_175786, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180337.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788});
                if (memblock_unref(ctx, &ext_mem_180337, "ext_mem_180337") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180020.mem, ind_bottom_175786, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180334.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788});
                if (memblock_unref(ctx, &ext_mem_180334, "ext_mem_180334") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180022.mem, ind_bottom_175786, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180331.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788});
                if (memblock_unref(ctx, &ext_mem_180331, "ext_mem_180331") != 0)
                    return 1;
                
                bool loop_cond_176484 = slt64(ubs_175776, threads_141187);
                bool loop_while_tmp_181523 = loop_cond_176484;
                int64_t p_tmp_181524 = ubs_175776;
                
                loop_while_175765 = loop_while_tmp_181523;
                p_175766 = p_tmp_181524;
            }
            defunc_0_mergeFunc_seq_res_175760 = loop_while_175765;
            defunc_0_mergeFunc_seq_res_175761 = p_175766;
            
            int64_t index_concat_branch_177301;
            
            if (index_concat_cmp_177297) {
                int64_t index_concat_179399 = ((int64_t *) mem_180003)[index_concat_i_177298];
                
                index_concat_branch_177301 = index_concat_179399;
            } else {
                index_concat_branch_177301 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_177295;
            
            if (index_concat_cmp_177297) {
                int64_t index_concat_179400 = ((int64_t *) mem_180005)[index_concat_i_177298];
                
                index_concat_branch_177295 = index_concat_179400;
            } else {
                index_concat_branch_177295 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_180756, &mem_180018, "mem_180018") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_180753, &mem_180020, "mem_180020") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_180750, &mem_180022, "mem_180022") != 0)
                return 1;
            loopres_174524 = index_concat_branch_177301;
            loopres_174525 = index_concat_branch_177295;
        }
        for (int64_t i_179792 = 0; i_179792 < window_sizze_141186; i_179792++) {
            int8_t eta_p_176492 = ((int8_t *) ext_mem_180756.mem)[i_179792];
            int64_t eta_p_176493 = ((int64_t *) ext_mem_180753.mem)[i_179792];
            bool cond_176494 = eta_p_176492 == (int8_t) 0;
            int64_t tmp_176495;
            
            if (cond_176494) {
                int64_t tmp_t_res_179403 = add64(p_174496, eta_p_176493);
                
                tmp_176495 = tmp_t_res_179403;
            } else {
                int64_t tmp_f_res_176497 = add64(p_174497, eta_p_176493);
                
                tmp_176495 = tmp_f_res_176497;
            }
            ((int64_t *) mem_179990.mem)[ind_bottom_174500 + i_179792] = tmp_176495;
        }
        if (memblock_unref(ctx, &ext_mem_180753, "ext_mem_180753") != 0)
            return 1;
        
        int64_t next_lbs_176498 = add64(p_174496, loopres_174524);
        int64_t next_lbs_176499 = add64(p_174497, loopres_174525);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_179988.mem, ind_bottom_174500, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180756.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_141186});
        if (memblock_unref(ctx, &ext_mem_180756, "ext_mem_180756") != 0)
            return 1;
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_179992.mem, ind_bottom_174500, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180750.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_141186});
        if (memblock_unref(ctx, &ext_mem_180750, "ext_mem_180750") != 0)
            return 1;
        
        bool cond_176513 = slt64(next_lbs_176498, zl_rhs_174479);
        bool loop_cond_t_res_176514 = slt64(next_lbs_176499, zl_rhs_174481);
        bool x_176515 = cond_176513 && loop_cond_t_res_176514;
        bool loop_while_tmp_181407 = x_176515;
        int64_t p_tmp_181411 = next_lbs_176498;
        int64_t p_tmp_181412 = next_lbs_176499;
        
        loop_while_174492 = loop_while_tmp_181407;
        p_174496 = p_tmp_181411;
        p_174497 = p_tmp_181412;
    }
    defunc_0_merge_pipeline_res_174486 = loop_while_174492;
    defunc_0_merge_pipeline_res_174490 = p_174496;
    defunc_0_merge_pipeline_res_174491 = p_174497;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516 = sub64(nb_141185, defunc_0_merge_pipeline_res_174491);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517 = sub64(na_141184, defunc_0_merge_pipeline_res_174490);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
    bool empty_slice_176519 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517 == (int64_t) 0;
    int64_t m_176520 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, (int64_t) 1);
    int64_t i_p_m_t_s_176521 = add64(defunc_0_merge_pipeline_res_174490, m_176520);
    bool zzero_leq_i_p_m_t_s_176522 = sle64((int64_t) 0, i_p_m_t_s_176521);
    bool i_p_m_t_s_leq_w_176523 = slt64(i_p_m_t_s_176521, na_141184);
    bool zzero_lte_i_176524 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_174490);
    bool i_lte_j_176525 = sle64(defunc_0_merge_pipeline_res_174490, na_141184);
    bool y_176526 = i_p_m_t_s_leq_w_176523 && zzero_lte_i_176524;
    bool y_176527 = zzero_leq_i_p_m_t_s_176522 && y_176526;
    bool forwards_ok_176528 = i_lte_j_176525 && y_176527;
    bool ok_or_empty_176529 = empty_slice_176519 || forwards_ok_176528;
    bool index_certs_176530;
    
    if (!ok_or_empty_176529) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_174490, ":", (long long) na_141184, "] out of bounds for array of shape [", (long long) na_141184, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176534 = slt64(na_141184, defunc_0_merge_pipeline_res_174490);
    bool valid_176535 = !bounds_invalid_upwards_176534;
    bool range_valid_c_176536;
    
    if (!valid_176535) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_174490, "..<", (long long) na_141184, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_176540 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516 == (int64_t) 0;
    int64_t m_176541 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516, (int64_t) 1);
    int64_t i_p_m_t_s_176542 = add64(defunc_0_merge_pipeline_res_174491, m_176541);
    bool zzero_leq_i_p_m_t_s_176543 = sle64((int64_t) 0, i_p_m_t_s_176542);
    bool i_p_m_t_s_leq_w_176544 = slt64(i_p_m_t_s_176542, nb_141185);
    bool zzero_lte_i_176545 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_174491);
    bool i_lte_j_176546 = sle64(defunc_0_merge_pipeline_res_174491, nb_141185);
    bool y_176547 = i_p_m_t_s_leq_w_176544 && zzero_lte_i_176545;
    bool y_176548 = zzero_leq_i_p_m_t_s_176543 && y_176547;
    bool forwards_ok_176549 = i_lte_j_176546 && y_176548;
    bool ok_or_empty_176550 = empty_slice_176540 || forwards_ok_176549;
    bool index_certs_176551;
    
    if (!ok_or_empty_176550) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_174491, ":", (long long) nb_141185, "] out of bounds for array of shape [", (long long) nb_141185, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176555 = slt64(nb_141185, defunc_0_merge_pipeline_res_174491);
    bool valid_176556 = !bounds_invalid_upwards_176555;
    bool range_valid_c_176557;
    
    if (!valid_176556) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_174491, "..<", (long long) nb_141185, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180781 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518;
    bool cond_176564 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, (int64_t) 1);
    int64_t zs_lhs_176565 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, (int64_t) 1);
    int64_t zp_rhs_176566 = sdiv_safe64(zs_lhs_176565, (int64_t) 20);
    int64_t min_num_blocks_176567 = add64((int64_t) 1, zp_rhs_176566);
    bool loop_cond_176568 = slt64((int64_t) 1, min_num_blocks_176567);
    bool smallest_pow_2_geq_than_res_176569;
    int64_t smallest_pow_2_geq_than_res_176570;
    bool loop_while_176571;
    int64_t x_176572;
    
    loop_while_176571 = loop_cond_176568;
    x_176572 = (int64_t) 1;
    while (loop_while_176571) {
        int64_t loopres_176573 = mul64((int64_t) 2, x_176572);
        bool loop_cond_176574 = slt64(loopres_176573, min_num_blocks_176567);
        bool loop_while_tmp_181594 = loop_cond_176574;
        int64_t x_tmp_181595 = loopres_176573;
        
        loop_while_176571 = loop_while_tmp_181594;
        x_176572 = x_tmp_181595;
    }
    smallest_pow_2_geq_than_res_176569 = loop_while_176571;
    smallest_pow_2_geq_than_res_176570 = x_176572;
    
    bool zzero_176575 = smallest_pow_2_geq_than_res_176570 == (int64_t) 0;
    bool nonzzero_176576 = !zzero_176575;
    bool protect_assert_disj_176577 = cond_176564 || nonzzero_176576;
    bool nonzzero_cert_176578;
    
    if (!protect_assert_disj_176577) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_176579 = sdiv_safe64(zs_lhs_176565, smallest_pow_2_geq_than_res_176570);
    int64_t block_sizze_176580 = add64((int64_t) 1, zp_rhs_176579);
    bool y_176587 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518);
    bool protect_assert_disj_181109 = cond_176564 || y_176587;
    bool index_certs_176588;
    
    if (!protect_assert_disj_181109) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176614 = slt64(smallest_pow_2_geq_than_res_176570, (int64_t) 0);
    bool valid_176615 = !bounds_invalid_upwards_176614;
    bool protect_assert_disj_181119 = cond_176564 || valid_176615;
    bool range_valid_c_176616;
    
    if (!protect_assert_disj_181119) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176570, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176618 = slt64(block_sizze_176580, (int64_t) 0);
    bool valid_176619 = !bounds_invalid_upwards_176618;
    bool protect_assert_disj_181121 = cond_176564 || valid_176619;
    bool range_valid_c_176620;
    
    if (!protect_assert_disj_181121) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176580, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_176622 = sle64(block_sizze_176580, (int64_t) 1);
    int64_t tmp_176623 = sub64(block_sizze_176580, (int64_t) 2);
    bool bounds_invalid_upwards_176624 = slt64(tmp_176623, (int64_t) 0);
    bool valid_176626 = !bounds_invalid_upwards_176624;
    bool protect_assert_disj_176627 = cond_176622 || valid_176626;
    bool protect_assert_disj_181123 = cond_176564 || protect_assert_disj_176627;
    bool range_valid_c_176628;
    
    if (!protect_assert_disj_181123) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176623, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177189 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_177191 = sle64((int64_t) 0, zs_lhs_176565);
    bool i_p_m_t_s_leq_w_177192 = slt64(zs_lhs_176565, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518);
    bool y_177193 = zzero_leq_i_p_m_t_s_177191 && i_p_m_t_s_leq_w_177192;
    bool ok_or_empty_177194 = empty_slice_177189 || y_177193;
    bool index_certs_177195;
    
    if (!ok_or_empty_177194) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_177196 = add64(defunc_0_merge_pipeline_res_174490, defunc_0_merge_pipeline_res_174491);
    int64_t j_m_i_177197 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, final_buffer_177196);
    bool empty_slice_177198 = j_m_i_177197 == (int64_t) 0;
    int64_t m_177199 = sub64(j_m_i_177197, (int64_t) 1);
    int64_t i_p_m_t_s_177200 = add64(final_buffer_177196, m_177199);
    bool zzero_leq_i_p_m_t_s_177201 = sle64((int64_t) 0, i_p_m_t_s_177200);
    bool i_p_m_t_s_leq_w_177202 = slt64(i_p_m_t_s_177200, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475);
    bool zzero_lte_i_177203 = sle64((int64_t) 0, final_buffer_177196);
    bool i_lte_j_177204 = sle64(final_buffer_177196, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475);
    bool y_177205 = i_p_m_t_s_leq_w_177202 && zzero_lte_i_177203;
    bool y_177206 = zzero_leq_i_p_m_t_s_177201 && y_177205;
    bool forwards_ok_177207 = i_lte_j_177204 && y_177206;
    bool ok_or_empty_177208 = empty_slice_177198 || forwards_ok_177207;
    bool index_certs_177209;
    
    if (!ok_or_empty_177208) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_177196, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_177210 = j_m_i_177197 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518;
    bool empty_or_match_cert_177211;
    
    if (!dim_match_177210) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_177197, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180780, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "mem_180780")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181596 = 0; nest_i_181596 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517; nest_i_181596++) {
        ((int8_t *) mem_180780.mem)[nest_i_181596] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_180782, bytes_180781, "mem_180782")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181597 = 0; i_181597 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517; i_181597++) {
        int64_t x_181598 = defunc_0_merge_pipeline_res_174490 + i_181597 * (int64_t) 1;
        
        ((int64_t *) mem_180782.mem)[i_181597] = x_181598;
    }
    for (int64_t nest_i_181599 = 0; nest_i_181599 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516; nest_i_181599++) {
        ((int8_t *) mem_180780.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517 + nest_i_181599] = (int8_t) 1;
    }
    for (int64_t i_181600 = 0; i_181600 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516; i_181600++) {
        int64_t x_181601 = defunc_0_merge_pipeline_res_174491 + i_181600 * (int64_t) 1;
        
        ((int64_t *) mem_180782.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517 + i_181600] = x_181601;
    }
    
    int64_t tmp_offs_181602 = (int64_t) 0;
    
    if (!(tmp_offs_181602 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180780.mem, tmp_offs_181602, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180780.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517});
    }
    tmp_offs_181602 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517;
    if (!(tmp_offs_181602 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180780.mem, tmp_offs_181602, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180780.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516});
    }
    tmp_offs_181602 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516;
    
    int64_t tmp_offs_181603 = (int64_t) 0;
    
    if (!(tmp_offs_181603 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180782.mem, tmp_offs_181603, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180782.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517});
    }
    tmp_offs_181603 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517;
    if (!(tmp_offs_181603 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180782.mem, tmp_offs_181603, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180782.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516});
    }
    tmp_offs_181603 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516;
    if (memblock_alloc(ctx, &mem_180784, bytes_180781, "mem_180784")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_181604 = (int64_t) 0;
    
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180784.mem, tmp_offs_181604, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_179986.mem, defunc_0_merge_pipeline_res_174490, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517});
    tmp_offs_181604 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180784.mem, tmp_offs_181604, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_179987.mem, defunc_0_merge_pipeline_res_174491, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516});
    tmp_offs_181604 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516;
    
    int64_t flat_dim_176581 = smallest_pow_2_geq_than_res_176570 * block_sizze_176580;
    bool x_181104 = !cond_176564;
    int64_t greatest_divisor_leq_than_arg1_176585 = mul64((int64_t) 2, block_sizze_176580);
    int64_t merge_block_sizze_176586;
    
    if (x_181104) {
        int64_t x_181106;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181106, (int64_t) 8, greatest_divisor_leq_than_arg1_176585) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_176586 = x_181106;
    } else {
        merge_block_sizze_176586 = (int64_t) 0;
    }
    
    bool index_concat_cmp_177261 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, (int64_t) 0);
    int8_t index_concat_branch_177265 = btoi_bool_i8(index_concat_cmp_177261);
    int64_t index_concat_i_179405 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
    int64_t index_primexp_179406 = add64(defunc_0_merge_pipeline_res_174491, index_concat_i_179405);
    int64_t index_concat_branch_177259;
    
    if (index_concat_cmp_177261) {
        index_concat_branch_177259 = index_primexp_179406;
    } else {
        index_concat_branch_177259 = defunc_0_merge_pipeline_res_174490;
    }
    
    bool x_181100 = !index_concat_cmp_177261;
    bool protect_cond_conj_181110 = x_181100 && x_181104;
    int64_t index_concat_177252;
    
    if (protect_cond_conj_181110) {
        int64_t x_181102 = ((int64_t *) a_list_mem_179986.mem)[defunc_0_merge_pipeline_res_174490];
        
        index_concat_177252 = x_181102;
    } else {
        index_concat_177252 = (int64_t) 0;
    }
    
    bool protect_cond_conj_181111 = index_concat_cmp_177261 && x_181104;
    int64_t index_concat_179409;
    
    if (protect_cond_conj_181111) {
        int64_t x_181098 = ((int64_t *) b_list_mem_179987.mem)[index_primexp_179406];
        
        index_concat_179409 = x_181098;
    } else {
        index_concat_179409 = (int64_t) 0;
    }
    
    int64_t index_concat_branch_177253;
    
    if (index_concat_cmp_177261) {
        index_concat_branch_177253 = index_concat_179409;
    } else {
        index_concat_branch_177253 = index_concat_177252;
    }
    
    int8_t defunc_0_reduce_res_179640;
    int64_t defunc_0_reduce_res_179641;
    int64_t defunc_0_reduce_res_179642;
    
    if (x_181104) {
        int8_t x_181112;
        int64_t x_181113;
        int64_t x_181114;
        int8_t redout_179794;
        int64_t redout_179795;
        int64_t redout_179796;
        
        redout_179794 = index_concat_branch_177265;
        redout_179795 = index_concat_branch_177259;
        redout_179796 = index_concat_branch_177253;
        for (int64_t i_179797 = 0; i_179797 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518; i_179797++) {
            bool index_concat_cmp_179868 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, i_179797);
            int8_t index_concat_branch_179872 = btoi_bool_i8(index_concat_cmp_179868);
            int64_t index_concat_branch_179866;
            
            if (index_concat_cmp_179868) {
                int64_t index_concat_i_179863 = sub64(i_179797, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
                int64_t index_primexp_179956 = add64(defunc_0_merge_pipeline_res_174491, index_concat_i_179863);
                
                index_concat_branch_179866 = index_primexp_179956;
            } else {
                int64_t index_primexp_179958 = add64(defunc_0_merge_pipeline_res_174490, i_179797);
                
                index_concat_branch_179866 = index_primexp_179958;
            }
            
            int64_t index_concat_branch_179860;
            
            if (index_concat_cmp_179868) {
                int64_t index_concat_i_179857 = sub64(i_179797, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
                int64_t slice_179953 = defunc_0_merge_pipeline_res_174491 + index_concat_i_179857;
                int64_t index_concat_179858 = ((int64_t *) b_list_mem_179987.mem)[slice_179953];
                
                index_concat_branch_179860 = index_concat_179858;
            } else {
                int64_t slice_179954 = defunc_0_merge_pipeline_res_174490 + i_179797;
                int64_t index_concat_179859 = ((int64_t *) a_list_mem_179986.mem)[slice_179954];
                
                index_concat_branch_179860 = index_concat_179859;
            }
            
            bool eq_x_y_179971 = redout_179794 == (int8_t) 1;
            bool eq_x_zz_179972 = redout_179794 == (int8_t) 0;
            bool p_and_eq_x_y_179973 = index_concat_cmp_179868 && eq_x_y_179971;
            bool not_p_179974 = !index_concat_cmp_179868;
            bool p_and_eq_x_y_179975 = eq_x_zz_179972 && not_p_179974;
            bool cond_176604 = p_and_eq_x_y_179973 || p_and_eq_x_y_179975;
            bool defunc_0_leq_res_t_res_176605 = sle64(redout_179795, index_concat_branch_179866);
            bool defunc_0_leq_res_176606 = sle64(redout_179796, index_concat_branch_179860);
            bool x_176607 = cond_176604 && defunc_0_leq_res_t_res_176605;
            bool x_176608 = !cond_176604;
            bool y_176609 = defunc_0_leq_res_176606 && x_176608;
            bool defunc_0_leq_res_176610 = x_176607 || y_176609;
            int8_t defunc_0_op_res_176611;
            
            if (defunc_0_leq_res_176610) {
                defunc_0_op_res_176611 = index_concat_branch_179872;
            } else {
                defunc_0_op_res_176611 = redout_179794;
            }
            
            int64_t defunc_0_op_res_176612;
            
            if (defunc_0_leq_res_176610) {
                defunc_0_op_res_176612 = index_concat_branch_179866;
            } else {
                defunc_0_op_res_176612 = redout_179795;
            }
            
            int64_t defunc_0_op_res_176613;
            
            if (defunc_0_leq_res_176610) {
                defunc_0_op_res_176613 = index_concat_branch_179860;
            } else {
                defunc_0_op_res_176613 = redout_179796;
            }
            
            int8_t redout_tmp_181605 = defunc_0_op_res_176611;
            int64_t redout_tmp_181606 = defunc_0_op_res_176612;
            int64_t redout_tmp_181607 = defunc_0_op_res_176613;
            
            redout_179794 = redout_tmp_181605;
            redout_179795 = redout_tmp_181606;
            redout_179796 = redout_tmp_181607;
        }
        x_181112 = redout_179794;
        x_181113 = redout_179795;
        x_181114 = redout_179796;
        defunc_0_reduce_res_179640 = x_181112;
        defunc_0_reduce_res_179641 = x_181113;
        defunc_0_reduce_res_179642 = x_181114;
    } else {
        defunc_0_reduce_res_179640 = (int8_t) 0;
        defunc_0_reduce_res_179641 = (int64_t) 0;
        defunc_0_reduce_res_179642 = (int64_t) 0;
    }
    
    int64_t distance_176625 = add64((int64_t) 1, tmp_176623);
    int64_t binop_x_180787 = (int64_t) 8 * smallest_pow_2_geq_than_res_176570;
    int64_t bytes_180788 = block_sizze_176580 * binop_x_180787;
    int64_t bytes_180806 = (int64_t) 8 * block_sizze_176580;
    bool loop_cond_176734 = slt64(block_sizze_176580, flat_dim_176581);
    bool zzero_176735 = merge_block_sizze_176586 == (int64_t) 0;
    bool nonzzero_176736 = !zzero_176735;
    
    if (cond_176564) {
        if (memblock_set(ctx, &ext_mem_181079, &mem_180780, "mem_180780") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181076, &mem_180782, "mem_180782") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181073, &mem_180784, "mem_180784") != 0)
            return 1;
    } else {
        if (mem_180786_cached_sizze_181926 < flat_dim_176581) {
            err = lexical_realloc(ctx, &mem_180786, &mem_180786_cached_sizze_181926, flat_dim_176581);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180789_cached_sizze_181927 < bytes_180788) {
            err = lexical_realloc(ctx, &mem_180789, &mem_180789_cached_sizze_181927, bytes_180788);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180792_cached_sizze_181928 < bytes_180788) {
            err = lexical_realloc(ctx, &mem_180792, &mem_180792_cached_sizze_181928, bytes_180788);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180805_cached_sizze_181929 < block_sizze_176580) {
            err = lexical_realloc(ctx, &mem_180805, &mem_180805_cached_sizze_181929, block_sizze_176580);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180807_cached_sizze_181930 < bytes_180806) {
            err = lexical_realloc(ctx, &mem_180807, &mem_180807_cached_sizze_181930, bytes_180806);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180809_cached_sizze_181931 < bytes_180806) {
            err = lexical_realloc(ctx, &mem_180809, &mem_180809_cached_sizze_181931, bytes_180806);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_179814 = 0; i_179814 < smallest_pow_2_geq_than_res_176570; i_179814++) {
            int64_t zp_lhs_176633 = mul64(block_sizze_176580, i_179814);
            
            for (int64_t i_179804 = 0; i_179804 < block_sizze_176580; i_179804++) {
                int64_t k_176638 = add64(zp_lhs_176633, i_179804);
                bool cond_176639 = slt64(k_176638, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518);
                int8_t lifted_lambda_res_176640;
                int64_t lifted_lambda_res_176641;
                int64_t lifted_lambda_res_176642;
                
                if (cond_176639) {
                    bool x_179415 = sle64((int64_t) 0, k_176638);
                    bool bounds_check_179416 = cond_176639 && x_179415;
                    bool index_certs_179417;
                    
                    if (!bounds_check_179416) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176638, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_179418 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, k_176638);
                    int8_t index_concat_branch_179419 = btoi_bool_i8(index_concat_cmp_179418);
                    int64_t index_concat_branch_179420;
                    
                    if (index_concat_cmp_179418) {
                        int64_t index_concat_i_179421 = sub64(k_176638, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
                        int64_t index_primexp_179422 = add64(defunc_0_merge_pipeline_res_174491, index_concat_i_179421);
                        
                        index_concat_branch_179420 = index_primexp_179422;
                    } else {
                        int64_t index_primexp_179423 = add64(defunc_0_merge_pipeline_res_174490, k_176638);
                        
                        index_concat_branch_179420 = index_primexp_179423;
                    }
                    
                    int64_t index_concat_branch_179424;
                    
                    if (index_concat_cmp_179418) {
                        int64_t index_concat_i_179425 = sub64(k_176638, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
                        int64_t slice_179426 = defunc_0_merge_pipeline_res_174491 + index_concat_i_179425;
                        int64_t index_concat_179427 = ((int64_t *) b_list_mem_179987.mem)[slice_179426];
                        
                        index_concat_branch_179424 = index_concat_179427;
                    } else {
                        int64_t slice_179428 = defunc_0_merge_pipeline_res_174490 + k_176638;
                        int64_t index_concat_179429 = ((int64_t *) a_list_mem_179986.mem)[slice_179428];
                        
                        index_concat_branch_179424 = index_concat_179429;
                    }
                    lifted_lambda_res_176640 = index_concat_branch_179419;
                    lifted_lambda_res_176641 = index_concat_branch_179420;
                    lifted_lambda_res_176642 = index_concat_branch_179424;
                } else {
                    lifted_lambda_res_176640 = defunc_0_reduce_res_179640;
                    lifted_lambda_res_176641 = defunc_0_reduce_res_179641;
                    lifted_lambda_res_176642 = defunc_0_reduce_res_179642;
                }
                ((int8_t *) mem_180805)[i_179804] = lifted_lambda_res_176640;
                ((int64_t *) mem_180807)[i_179804] = lifted_lambda_res_176641;
                ((int64_t *) mem_180809)[i_179804] = lifted_lambda_res_176642;
            }
            if (!cond_176622) {
                for (int64_t i_176655 = 0; i_176655 < distance_176625; i_176655++) {
                    int64_t gt_arg1_176659 = add64((int64_t) 1, i_176655);
                    bool x_176660 = sle64((int64_t) 0, gt_arg1_176659);
                    bool y_176661 = slt64(gt_arg1_176659, block_sizze_176580);
                    bool bounds_check_176662 = x_176660 && y_176661;
                    bool index_certs_176663;
                    
                    if (!bounds_check_176662) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176659, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_176667 = slt64(i_176655, block_sizze_176580);
                    bool index_certs_176668;
                    
                    if (!y_176667) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176655, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_176664 = ((int8_t *) mem_180805)[gt_arg1_176659];
                    int64_t gt_arg1_176665 = ((int64_t *) mem_180807)[gt_arg1_176659];
                    int64_t gt_arg1_176666 = ((int64_t *) mem_180809)[gt_arg1_176659];
                    int8_t gt_arg0_176669 = ((int8_t *) mem_180805)[i_176655];
                    int64_t gt_arg0_176670 = ((int64_t *) mem_180807)[i_176655];
                    int64_t gt_arg0_176671 = ((int64_t *) mem_180809)[i_176655];
                    bool cond_176672 = gt_arg0_176669 == gt_arg1_176664;
                    bool defunc_0_leq_res_t_res_176673 = sle64(gt_arg0_176670, gt_arg1_176665);
                    bool defunc_0_leq_res_176674 = sle64(gt_arg0_176671, gt_arg1_176666);
                    bool x_176675 = cond_176672 && defunc_0_leq_res_t_res_176673;
                    bool x_176676 = !cond_176672;
                    bool y_176677 = defunc_0_leq_res_176674 && x_176676;
                    bool defunc_0_leq_res_176678 = x_176675 || y_176677;
                    bool defunc_0_lifted_gt_res_176679 = !defunc_0_leq_res_176678;
                    bool s_176680;
                    int64_t s_176684;
                    bool loop_while_176685;
                    int64_t j_176689;
                    
                    loop_while_176685 = defunc_0_lifted_gt_res_176679;
                    j_176689 = i_176655;
                    while (loop_while_176685) {
                        bool x_176690 = sle64((int64_t) 0, j_176689);
                        bool y_176691 = slt64(j_176689, block_sizze_176580);
                        bool bounds_check_176692 = x_176690 && y_176691;
                        bool index_certs_176693;
                        
                        if (!bounds_check_176692) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176689, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_176697 = add64((int64_t) 1, j_176689);
                        bool x_176698 = sle64((int64_t) 0, copy_arg0_176697);
                        bool y_176699 = slt64(copy_arg0_176697, block_sizze_176580);
                        bool bounds_check_176700 = x_176698 && y_176699;
                        bool index_certs_176701;
                        
                        if (!bounds_check_176700) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_176697, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_176694 = ((int8_t *) mem_180805)[j_176689];
                        int64_t copy_arg0_176695 = ((int64_t *) mem_180807)[j_176689];
                        int64_t copy_arg0_176696 = ((int64_t *) mem_180809)[j_176689];
                        int8_t copy_arg0_176702 = ((int8_t *) mem_180805)[copy_arg0_176697];
                        int64_t copy_arg0_176703 = ((int64_t *) mem_180807)[copy_arg0_176697];
                        int64_t copy_arg0_176704 = ((int64_t *) mem_180809)[copy_arg0_176697];
                        
                        ((int8_t *) mem_180805)[j_176689] = copy_arg0_176702;
                        ((int64_t *) mem_180807)[j_176689] = copy_arg0_176703;
                        ((int64_t *) mem_180809)[j_176689] = copy_arg0_176704;
                        ((int8_t *) mem_180805)[copy_arg0_176697] = copy_arg0_176694;
                        ((int64_t *) mem_180807)[copy_arg0_176697] = copy_arg0_176695;
                        ((int64_t *) mem_180809)[copy_arg0_176697] = copy_arg0_176696;
                        
                        int64_t tmp_176711 = sub64(j_176689, (int64_t) 1);
                        bool cond_176712 = sle64((int64_t) 0, tmp_176711);
                        bool loop_cond_176713;
                        
                        if (cond_176712) {
                            bool y_179433 = slt64(tmp_176711, block_sizze_176580);
                            bool bounds_check_179434 = cond_176712 && y_179433;
                            bool index_certs_179435;
                            
                            if (!bounds_check_179434) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176711, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_179430 = ((int8_t *) mem_180805)[j_176689];
                            int64_t gt_arg1_179431 = ((int64_t *) mem_180807)[j_176689];
                            int64_t gt_arg1_179432 = ((int64_t *) mem_180809)[j_176689];
                            int8_t gt_arg0_179436 = ((int8_t *) mem_180805)[tmp_176711];
                            int64_t gt_arg0_179437 = ((int64_t *) mem_180807)[tmp_176711];
                            int64_t gt_arg0_179438 = ((int64_t *) mem_180809)[tmp_176711];
                            bool cond_179439 = gt_arg0_179436 == gt_arg1_179430;
                            bool defunc_0_leq_res_t_res_179440 = sle64(gt_arg0_179437, gt_arg1_179431);
                            bool defunc_0_leq_res_179441 = sle64(gt_arg0_179438, gt_arg1_179432);
                            bool x_179442 = cond_179439 && defunc_0_leq_res_t_res_179440;
                            bool x_179443 = !cond_179439;
                            bool y_179444 = defunc_0_leq_res_179441 && x_179443;
                            bool defunc_0_leq_res_179445 = x_179442 || y_179444;
                            bool defunc_0_lifted_gt_res_179446 = !defunc_0_leq_res_179445;
                            
                            loop_cond_176713 = defunc_0_lifted_gt_res_179446;
                        } else {
                            loop_cond_176713 = 0;
                        }
                        
                        bool loop_while_tmp_181617 = loop_cond_176713;
                        int64_t j_tmp_181621 = tmp_176711;
                        
                        loop_while_176685 = loop_while_tmp_181617;
                        j_176689 = j_tmp_181621;
                    }
                    s_176680 = loop_while_176685;
                    s_176684 = j_176689;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180786, i_179814 * block_sizze_176580, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180805, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176580});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180789, i_179814 * block_sizze_176580, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180807, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176580});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180792, i_179814 * block_sizze_176580, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180809, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176580});
        }
        if (memblock_alloc(ctx, &mem_180886, flat_dim_176581, "mem_180886")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180886.mem, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (uint8_t *) mem_180786, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176570, block_sizze_176580});
        if (memblock_alloc(ctx, &mem_180890, bytes_180788, "mem_180890")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180890.mem, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (uint64_t *) mem_180789, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176570, block_sizze_176580});
        if (memblock_alloc(ctx, &mem_180894, bytes_180788, "mem_180894")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180894.mem, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (uint64_t *) mem_180792, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176570, block_sizze_176580});
        
        int64_t data_176737;
        bool data_176738;
        int64_t data_176742;
        int64_t loop_dz2084Uz2082U_176743;
        bool loop_while_176744;
        int64_t stride_176748;
        
        if (memblock_set(ctx, &mem_param_180898, &mem_180886, "mem_180886") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180901, &mem_180890, "mem_180890") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180904, &mem_180894, "mem_180894") != 0)
            return 1;
        loop_dz2084Uz2082U_176743 = flat_dim_176581;
        loop_while_176744 = loop_cond_176734;
        stride_176748 = block_sizze_176580;
        while (loop_while_176744) {
            int64_t next_stride_176749 = mul64((int64_t) 2, stride_176748);
            bool zzero_176750 = next_stride_176749 == (int64_t) 0;
            bool nonzzero_176751 = !zzero_176750;
            bool nonzzero_cert_176752;
            
            if (!nonzzero_176751) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_176753 = sdiv64(flat_dim_176581, next_stride_176749);
            bool bounds_invalid_upwards_176754 = slt64(num_merges_176753, (int64_t) 0);
            bool valid_176755 = !bounds_invalid_upwards_176754;
            bool range_valid_c_176756;
            
            if (!valid_176755) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_176753, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_176758 = sub64(next_stride_176749, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_176759 = sle64((int64_t) 0, m_176758);
            bool cond_176761 = slt64(next_stride_176749, (int64_t) 10);
            bool protect_assert_disj_176762 = nonzzero_176736 || cond_176761;
            bool nonzzero_cert_176763;
            
            if (!protect_assert_disj_176762) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_176764 = smod_safe64(next_stride_176749, merge_block_sizze_176586);
            bool num_blocks_176765 = zeze_lhs_176764 == (int64_t) 0;
            bool protect_assert_disj_176766 = cond_176761 || num_blocks_176765;
            bool assert_c_176767;
            
            if (!protect_assert_disj_176766) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_176769 = sdiv_safe64(next_stride_176749, merge_block_sizze_176586);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770 = add64((int64_t) 1, num_blocks_176769);
            int64_t j_m_i_176771 = sub64(next_stride_176749, stride_176748);
            int64_t flat_dim_176772 = merge_block_sizze_176586 * num_blocks_176769;
            bool bounds_invalid_upwards_176773 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770, (int64_t) 0);
            bool empty_slice_176774 = j_m_i_176771 == (int64_t) 0;
            int64_t m_176775 = sub64(j_m_i_176771, (int64_t) 1);
            bool zzero_lte_i_176776 = sle64((int64_t) 0, stride_176748);
            bool i_lte_j_176777 = sle64(stride_176748, next_stride_176749);
            bool empty_slice_176778 = stride_176748 == (int64_t) 0;
            int64_t m_176779 = sub64(stride_176748, (int64_t) 1);
            bool bounds_invalid_upwards_176780 = slt64(num_blocks_176769, (int64_t) 0);
            bool cond_176781 = slt64((int64_t) 0, stride_176748);
            bool valid_176782 = !bounds_invalid_upwards_176773;
            int64_t i_p_m_t_s_176783 = add64(stride_176748, m_176775);
            bool zzero_leq_i_p_m_t_s_176784 = sle64((int64_t) 0, m_176779);
            bool i_p_m_t_s_leq_w_176785 = slt64(m_176779, next_stride_176749);
            bool valid_176786 = !bounds_invalid_upwards_176780;
            bool i_p_m_t_s_leq_w_176787 = slt64(m_176758, flat_dim_176772);
            bool y_176788 = slt64((int64_t) 0, j_m_i_176771);
            bool protect_assert_disj_176789 = cond_176761 || valid_176782;
            bool range_valid_c_176790;
            
            if (!protect_assert_disj_176789) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_176791 = sle64((int64_t) 0, i_p_m_t_s_176783);
            bool i_p_m_t_s_leq_w_176792 = slt64(i_p_m_t_s_176783, next_stride_176749);
            bool y_176793 = zzero_leq_i_p_m_t_s_176784 && i_p_m_t_s_leq_w_176785;
            bool protect_assert_disj_176794 = cond_176761 || valid_176786;
            bool range_valid_c_176795;
            
            if (!protect_assert_disj_176794) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_176769, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_176796 = zzero_leq_i_p_m_t_s_176759 && i_p_m_t_s_leq_w_176787;
            bool y_176797 = zzero_lte_i_176776 && i_p_m_t_s_leq_w_176792;
            bool forwards_ok_176798 = zzero_lte_i_176776 && y_176793;
            bool ok_or_empty_176799 = zzero_176750 || y_176796;
            bool protect_assert_disj_176800 = cond_176781 || y_176788;
            bool y_176801 = zzero_leq_i_p_m_t_s_176791 && y_176797;
            bool ok_or_empty_176802 = empty_slice_176778 || forwards_ok_176798;
            bool protect_assert_disj_176803 = cond_176761 || ok_or_empty_176799;
            bool index_certs_176804;
            
            if (!protect_assert_disj_176803) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176749, "] out of bounds for array of shape [", (long long) flat_dim_176772, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_176805 = !cond_176761;
            bool protect_assert_disj_176806 = protect_assert_disj_176800 || loop_not_taken_176805;
            bool index_certs_176807;
            
            if (!protect_assert_disj_176806) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_176808 = i_lte_j_176777 && y_176801;
            bool protect_assert_disj_176809 = cond_176761 || ok_or_empty_176802;
            bool index_certs_176810;
            
            if (!protect_assert_disj_176809) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176748, "] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_176811 = ok_or_empty_176802 || loop_not_taken_176805;
            bool index_certs_176812;
            
            if (!protect_assert_disj_176811) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176748, "] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_176813 = empty_slice_176774 || forwards_ok_176808;
            bool protect_assert_disj_176814 = cond_176761 || ok_or_empty_176813;
            bool index_certs_176815;
            
            if (!protect_assert_disj_176814) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176748, ":] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_176816 = loop_not_taken_176805 || ok_or_empty_176813;
            bool index_certs_176817;
            
            if (!protect_assert_disj_176816) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176748, ":] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_180905 = next_stride_176749 * num_merges_176753;
            int64_t binop_x_180907 = (int64_t) 8 * num_merges_176753;
            int64_t bytes_180908 = next_stride_176749 * binop_x_180907;
            bool i_lte_j_176760 = sle64((int64_t) 0, next_stride_176749);
            
            if (mem_180906_cached_sizze_181932 < bytes_180905) {
                err = lexical_realloc(ctx, &mem_180906, &mem_180906_cached_sizze_181932, bytes_180905);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180909_cached_sizze_181933 < bytes_180908) {
                err = lexical_realloc(ctx, &mem_180909, &mem_180909_cached_sizze_181933, bytes_180908);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180912_cached_sizze_181934 < bytes_180908) {
                err = lexical_realloc(ctx, &mem_180912, &mem_180912_cached_sizze_181934, bytes_180908);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_180925 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770;
            int64_t binop_x_180943 = (int64_t) 8 * num_blocks_176769;
            int64_t bytes_180944 = merge_block_sizze_176586 * binop_x_180943;
            int64_t bytes_181008 = (int64_t) 16 * stride_176748;
            
            for (int64_t i_179841 = 0; i_179841 < num_merges_176753; i_179841++) {
                int64_t start_176822 = mul64(next_stride_176749, i_179841);
                int64_t j_m_i_176823 = sub64(loop_dz2084Uz2082U_176743, start_176822);
                bool empty_slice_176824 = j_m_i_176823 == (int64_t) 0;
                int64_t m_176825 = sub64(j_m_i_176823, (int64_t) 1);
                int64_t i_p_m_t_s_176826 = add64(start_176822, m_176825);
                bool zzero_leq_i_p_m_t_s_176827 = sle64((int64_t) 0, i_p_m_t_s_176826);
                bool i_p_m_t_s_leq_w_176828 = slt64(i_p_m_t_s_176826, loop_dz2084Uz2082U_176743);
                bool zzero_lte_i_176829 = sle64((int64_t) 0, start_176822);
                bool i_lte_j_176830 = sle64(start_176822, loop_dz2084Uz2082U_176743);
                bool y_176831 = i_p_m_t_s_leq_w_176828 && zzero_lte_i_176829;
                bool y_176832 = zzero_leq_i_p_m_t_s_176827 && y_176831;
                bool forwards_ok_176833 = i_lte_j_176830 && y_176832;
                bool ok_or_empty_176834 = empty_slice_176824 || forwards_ok_176833;
                bool index_certs_176835;
                
                if (!ok_or_empty_176834) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_176822, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_176743, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_176836 = slt64(m_176758, j_m_i_176823);
                bool y_176837 = zzero_leq_i_p_m_t_s_176759 && i_p_m_t_s_leq_w_176836;
                bool forwards_ok_176838 = i_lte_j_176760 && y_176837;
                bool ok_or_empty_176839 = zzero_176750 || forwards_ok_176838;
                bool index_certs_176840;
                
                if (!ok_or_empty_176839) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176749, "] out of bounds for array of shape [", (long long) j_m_i_176823, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_176761) {
                    int8_t dummy_179485;
                    int64_t dummy_179486;
                    int64_t dummy_179487;
                    
                    if (cond_176781) {
                        int8_t head_res_179488 = ((int8_t *) mem_param_180898.mem)[start_176822];
                        int64_t head_res_179489 = ((int64_t *) mem_param_180901.mem)[start_176822];
                        int64_t head_res_179490 = ((int64_t *) mem_param_180904.mem)[start_176822];
                        
                        dummy_179485 = head_res_179488;
                        dummy_179486 = head_res_179489;
                        dummy_179487 = head_res_179490;
                    } else {
                        int64_t slice_179491 = stride_176748 + start_176822;
                        int8_t head_res_179492 = ((int8_t *) mem_param_180898.mem)[slice_179491];
                        int64_t head_res_179493 = ((int64_t *) mem_param_180901.mem)[slice_179491];
                        int64_t head_res_179494 = ((int64_t *) mem_param_180904.mem)[slice_179491];
                        
                        dummy_179485 = head_res_179492;
                        dummy_179486 = head_res_179493;
                        dummy_179487 = head_res_179494;
                    }
                    if (memblock_alloc(ctx, &mem_181007, next_stride_176749, "mem_181007")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181634 = 0; nest_i_181634 < next_stride_176749; nest_i_181634++) {
                        ((int8_t *) mem_181007.mem)[nest_i_181634] = dummy_179485;
                    }
                    if (memblock_alloc(ctx, &mem_181009, bytes_181008, "mem_181009")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181635 = 0; nest_i_181635 < next_stride_176749; nest_i_181635++) {
                        ((int64_t *) mem_181009.mem)[nest_i_181635] = dummy_179486;
                    }
                    if (memblock_alloc(ctx, &mem_181011, bytes_181008, "mem_181011")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181636 = 0; nest_i_181636 < next_stride_176749; nest_i_181636++) {
                        ((int64_t *) mem_181011.mem)[nest_i_181636] = dummy_179487;
                    }
                    
                    int64_t data_179498;
                    int64_t i_179503 = (int64_t) 0;
                    
                    for (int64_t k_179502 = 0; k_179502 < next_stride_176749; k_179502++) {
                        int64_t j_179507 = sub64(k_179502, i_179503);
                        bool cond_179508 = j_179507 == j_m_i_176771;
                        bool cond_179509;
                        
                        if (cond_179508) {
                            cond_179509 = 1;
                        } else {
                            bool cond_179510 = slt64(i_179503, stride_176748);
                            bool cond_f_res_179511;
                            
                            if (cond_179510) {
                                bool x_179512 = sle64((int64_t) 0, j_179507);
                                bool y_179513 = slt64(j_179507, j_m_i_176771);
                                bool bounds_check_179514 = x_179512 && y_179513;
                                bool index_certs_179515;
                                
                                if (!bounds_check_179514) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179507, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179521 = sle64((int64_t) 0, i_179503);
                                bool bounds_check_179522 = cond_179510 && x_179521;
                                bool index_certs_179523;
                                
                                if (!bounds_check_179522) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179503, "] out of bounds for array of shape [", (long long) stride_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_179516 = stride_176748 + j_179507;
                                int64_t slice_179517 = start_176822 + slice_179516;
                                int8_t leq_arg1_179518 = ((int8_t *) mem_param_180898.mem)[slice_179517];
                                int64_t leq_arg1_179519 = ((int64_t *) mem_param_180901.mem)[slice_179517];
                                int64_t leq_arg1_179520 = ((int64_t *) mem_param_180904.mem)[slice_179517];
                                int64_t slice_179524 = start_176822 + i_179503;
                                int8_t leq_arg0_179525 = ((int8_t *) mem_param_180898.mem)[slice_179524];
                                int64_t leq_arg0_179526 = ((int64_t *) mem_param_180901.mem)[slice_179524];
                                int64_t leq_arg0_179527 = ((int64_t *) mem_param_180904.mem)[slice_179524];
                                bool cond_179528 = leq_arg0_179525 == leq_arg1_179518;
                                bool defunc_0_leq_res_t_res_179529 = sle64(leq_arg0_179526, leq_arg1_179519);
                                bool defunc_0_leq_res_179530 = sle64(leq_arg0_179527, leq_arg1_179520);
                                bool x_179531 = cond_179528 && defunc_0_leq_res_t_res_179529;
                                bool x_179532 = !cond_179528;
                                bool y_179533 = defunc_0_leq_res_179530 && x_179532;
                                bool defunc_0_leq_res_179534 = x_179531 || y_179533;
                                
                                cond_f_res_179511 = defunc_0_leq_res_179534;
                            } else {
                                cond_f_res_179511 = 0;
                            }
                            cond_179509 = cond_f_res_179511;
                        }
                        
                        int64_t loopres_179535;
                        int8_t loopres_179536;
                        int64_t loopres_179537;
                        int64_t loopres_179538;
                        
                        if (cond_179509) {
                            bool x_179540 = sle64((int64_t) 0, i_179503);
                            bool y_179541 = slt64(i_179503, stride_176748);
                            bool bounds_check_179542 = x_179540 && y_179541;
                            bool index_certs_179543;
                            
                            if (!bounds_check_179542) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179503, "] out of bounds for array of shape [", (long long) stride_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_179539 = add64((int64_t) 1, i_179503);
                            int64_t slice_179544 = start_176822 + i_179503;
                            int8_t tmp_179545 = ((int8_t *) mem_param_180898.mem)[slice_179544];
                            int64_t tmp_179546 = ((int64_t *) mem_param_180901.mem)[slice_179544];
                            int64_t tmp_179547 = ((int64_t *) mem_param_180904.mem)[slice_179544];
                            
                            loopres_179535 = tmp_179539;
                            loopres_179536 = tmp_179545;
                            loopres_179537 = tmp_179546;
                            loopres_179538 = tmp_179547;
                        } else {
                            bool x_179548 = sle64((int64_t) 0, j_179507);
                            bool y_179549 = slt64(j_179507, j_m_i_176771);
                            bool bounds_check_179550 = x_179548 && y_179549;
                            bool index_certs_179551;
                            
                            if (!bounds_check_179550) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179507, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_179552 = stride_176748 + j_179507;
                            int64_t slice_179553 = start_176822 + slice_179552;
                            int8_t tmp_179554 = ((int8_t *) mem_param_180898.mem)[slice_179553];
                            int64_t tmp_179555 = ((int64_t *) mem_param_180901.mem)[slice_179553];
                            int64_t tmp_179556 = ((int64_t *) mem_param_180904.mem)[slice_179553];
                            
                            loopres_179535 = i_179503;
                            loopres_179536 = tmp_179554;
                            loopres_179537 = tmp_179555;
                            loopres_179538 = tmp_179556;
                        }
                        ((int8_t *) mem_181007.mem)[k_179502] = loopres_179536;
                        ((int64_t *) mem_181009.mem)[k_179502] = loopres_179537;
                        ((int64_t *) mem_181011.mem)[k_179502] = loopres_179538;
                        
                        int64_t i_tmp_181637 = loopres_179535;
                        
                        i_179503 = i_tmp_181637;
                    }
                    data_179498 = i_179503;
                    if (memblock_set(ctx, &ext_mem_181038, &mem_181007, "mem_181007") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181035, &mem_181009, "mem_181009") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181032, &mem_181011, "mem_181011") != 0)
                        return 1;
                } else {
                    if (mem_180926_cached_sizze_181935 < bytes_180925) {
                        err = lexical_realloc(ctx, &mem_180926, &mem_180926_cached_sizze_181935, bytes_180925);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180928_cached_sizze_181936 < bytes_180925) {
                        err = lexical_realloc(ctx, &mem_180928, &mem_180928_cached_sizze_181936, bytes_180925);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179822 = 0; i_179822 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770; i_179822++) {
                        int64_t split_count_arg3_176923 = mul64(merge_block_sizze_176586, i_179822);
                        int64_t defunc_0_split_count_res_176924;
                        int64_t defunc_0_split_count_res_176925;
                        int64_t defunc_0_split_count_res_176926;
                        int64_t defunc_0_split_count_res_176927;
                        int64_t defunc_0_split_count_res_176928;
                        
                        if (futrts_lifted_normalizze_8970(ctx, &defunc_0_split_count_res_176924, &defunc_0_split_count_res_176925, &defunc_0_split_count_res_176926, &defunc_0_split_count_res_176927, &defunc_0_split_count_res_176928, (int64_t) 0, stride_176748, (int64_t) 0, j_m_i_176771, split_count_arg3_176923) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_176929 = slt64((int64_t) 0, defunc_0_split_count_res_176928);
                        bool defunc_0_split_count_res_176930;
                        int64_t defunc_0_split_count_res_176931;
                        int64_t defunc_0_split_count_res_176932;
                        int64_t defunc_0_split_count_res_176933;
                        int64_t defunc_0_split_count_res_176934;
                        int64_t defunc_0_split_count_res_176935;
                        bool loop_while_176936;
                        int64_t ss_176937;
                        int64_t ss_176938;
                        int64_t tt_176939;
                        int64_t tt_176940;
                        int64_t count_176941;
                        
                        loop_while_176936 = loop_cond_176929;
                        ss_176937 = defunc_0_split_count_res_176924;
                        ss_176938 = defunc_0_split_count_res_176925;
                        tt_176939 = defunc_0_split_count_res_176926;
                        tt_176940 = defunc_0_split_count_res_176927;
                        count_176941 = defunc_0_split_count_res_176928;
                        while (loop_while_176936) {
                            int64_t zlze_lhs_176942 = sub64(ss_176938, ss_176937);
                            bool cond_176943 = sle64(zlze_lhs_176942, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_176944;
                            int64_t defunc_0_lifted_step_res_176945;
                            int64_t defunc_0_lifted_step_res_176946;
                            int64_t defunc_0_lifted_step_res_176947;
                            
                            if (cond_176943) {
                                int64_t tmp_179560 = add64(tt_176939, count_176941);
                                
                                defunc_0_lifted_step_res_176944 = ss_176937;
                                defunc_0_lifted_step_res_176945 = tmp_179560;
                                defunc_0_lifted_step_res_176946 = tt_176940;
                                defunc_0_lifted_step_res_176947 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_176949 = sub64(tt_176940, tt_176939);
                                bool cond_176950 = sle64(zlze_lhs_176949, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_176951;
                                int64_t defunc_0_lifted_step_res_f_res_176952;
                                int64_t defunc_0_lifted_step_res_f_res_176953;
                                int64_t defunc_0_lifted_step_res_f_res_176954;
                                
                                if (cond_176950) {
                                    int64_t tmp_179561 = add64(ss_176937, count_176941);
                                    
                                    defunc_0_lifted_step_res_f_res_176951 = tmp_179561;
                                    defunc_0_lifted_step_res_f_res_176952 = tt_176939;
                                    defunc_0_lifted_step_res_f_res_176953 = tt_176940;
                                    defunc_0_lifted_step_res_f_res_176954 = (int64_t) 0;
                                } else {
                                    bool cond_176956 = count_176941 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_176957;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_176958;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_176959;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_176960;
                                    
                                    if (cond_176956) {
                                        bool x_179563 = sle64((int64_t) 0, ss_176937);
                                        bool y_179564 = slt64(ss_176937, stride_176748);
                                        bool bounds_check_179565 = x_179563 && y_179564;
                                        bool index_certs_179566;
                                        
                                        if (!bounds_check_179565) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_176937, "] out of bounds for array of shape [", (long long) stride_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179571 = sle64((int64_t) 0, tt_176939);
                                        bool y_179572 = slt64(tt_176939, j_m_i_176771);
                                        bool bounds_check_179573 = x_179571 && y_179572;
                                        bool index_certs_179574;
                                        
                                        if (!bounds_check_179573) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_176939, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179567 = start_176822 + ss_176937;
                                        int8_t leq_arg1_179568 = ((int8_t *) mem_param_180898.mem)[slice_179567];
                                        int64_t leq_arg1_179569 = ((int64_t *) mem_param_180901.mem)[slice_179567];
                                        int64_t leq_arg1_179570 = ((int64_t *) mem_param_180904.mem)[slice_179567];
                                        int64_t slice_179575 = stride_176748 + tt_176939;
                                        int64_t slice_179576 = start_176822 + slice_179575;
                                        int8_t leq_arg0_179577 = ((int8_t *) mem_param_180898.mem)[slice_179576];
                                        int64_t leq_arg0_179578 = ((int64_t *) mem_param_180901.mem)[slice_179576];
                                        int64_t leq_arg0_179579 = ((int64_t *) mem_param_180904.mem)[slice_179576];
                                        bool cond_179580 = leq_arg0_179577 == leq_arg1_179568;
                                        bool defunc_0_leq_res_t_res_179581 = sle64(leq_arg0_179578, leq_arg1_179569);
                                        bool defunc_0_leq_res_179582 = sle64(leq_arg0_179579, leq_arg1_179570);
                                        bool x_179583 = cond_179580 && defunc_0_leq_res_t_res_179581;
                                        bool x_179584 = !cond_179580;
                                        bool y_179585 = defunc_0_leq_res_179582 && x_179584;
                                        bool defunc_0_leq_res_179586 = x_179583 || y_179585;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179587;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179588;
                                        
                                        if (defunc_0_leq_res_179586) {
                                            int64_t tmp_179589 = add64((int64_t) 1, tt_176939);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179587 = ss_176937;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179588 = tmp_179589;
                                        } else {
                                            int64_t tmp_179590 = add64((int64_t) 1, ss_176937);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179587 = tmp_179590;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179588 = tt_176939;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_176957 = defunc_0_lifted_step_res_f_res_f_res_t_res_179587;
                                        defunc_0_lifted_step_res_f_res_f_res_176958 = defunc_0_lifted_step_res_f_res_f_res_t_res_179588;
                                        defunc_0_lifted_step_res_f_res_f_res_176959 = tt_176940;
                                        defunc_0_lifted_step_res_f_res_f_res_176960 = (int64_t) 0;
                                    } else {
                                        int64_t m_176989 = sdiv64(count_176941, (int64_t) 2);
                                        int64_t n_176990 = sub64(count_176941, m_176989);
                                        bool cond_176991 = n_176990 == (int64_t) 0;
                                        int64_t zgze_lhs_176992 = add64(ss_176937, m_176989);
                                        bool cond_f_res_176993 = sle64(ss_176938, zgze_lhs_176992);
                                        bool x_176994 = !cond_176991;
                                        bool y_176995 = cond_f_res_176993 && x_176994;
                                        bool cond_176996 = cond_176991 || y_176995;
                                        bool leq_y_x_176997;
                                        
                                        if (cond_176996) {
                                            leq_y_x_176997 = 1;
                                        } else {
                                            bool x_176998 = sle64((int64_t) 0, zgze_lhs_176992);
                                            bool y_176999 = slt64(zgze_lhs_176992, stride_176748);
                                            bool bounds_check_177000 = x_176998 && y_176999;
                                            bool index_certs_177001;
                                            
                                            if (!bounds_check_177000) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_176992, "] out of bounds for array of shape [", (long long) stride_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_177006 = add64(tt_176939, n_176990);
                                            int64_t leq_arg0_177007 = sub64(zm_lhs_177006, (int64_t) 1);
                                            bool x_177008 = sle64((int64_t) 0, leq_arg0_177007);
                                            bool y_177009 = slt64(leq_arg0_177007, j_m_i_176771);
                                            bool bounds_check_177010 = x_177008 && y_177009;
                                            bool index_certs_177011;
                                            
                                            if (!bounds_check_177010) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177007, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177002 = start_176822 + zgze_lhs_176992;
                                            int8_t leq_arg1_177003 = ((int8_t *) mem_param_180898.mem)[slice_177002];
                                            int64_t leq_arg1_177004 = ((int64_t *) mem_param_180901.mem)[slice_177002];
                                            int64_t leq_arg1_177005 = ((int64_t *) mem_param_180904.mem)[slice_177002];
                                            int64_t slice_177012 = stride_176748 + leq_arg0_177007;
                                            int64_t slice_177013 = start_176822 + slice_177012;
                                            int8_t leq_arg0_177014 = ((int8_t *) mem_param_180898.mem)[slice_177013];
                                            int64_t leq_arg0_177015 = ((int64_t *) mem_param_180901.mem)[slice_177013];
                                            int64_t leq_arg0_177016 = ((int64_t *) mem_param_180904.mem)[slice_177013];
                                            bool cond_177017 = leq_arg0_177014 == leq_arg1_177003;
                                            bool defunc_0_leq_res_t_res_177018 = sle64(leq_arg0_177015, leq_arg1_177004);
                                            bool defunc_0_leq_res_177019 = sle64(leq_arg0_177016, leq_arg1_177005);
                                            bool x_177020 = cond_177017 && defunc_0_leq_res_t_res_177018;
                                            bool x_177021 = !cond_177017;
                                            bool y_177022 = defunc_0_leq_res_177019 && x_177021;
                                            bool defunc_0_leq_res_177023 = x_177020 || y_177022;
                                            
                                            leq_y_x_176997 = defunc_0_leq_res_177023;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177024;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177025;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177026;
                                        
                                        if (leq_y_x_176997) {
                                            int64_t tmp_179591 = add64(tt_176939, n_176990);
                                            int64_t tmp_179592 = sub64(count_176941, n_176990);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177024 = tmp_179591;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177025 = tt_176940;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177026 = tmp_179592;
                                        } else {
                                            int64_t tmp_177029 = add64(tt_176939, n_176990);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177024 = tt_176939;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177025 = tmp_177029;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177026 = count_176941;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_176957 = ss_176937;
                                        defunc_0_lifted_step_res_f_res_f_res_176958 = defunc_0_lifted_step_res_f_res_f_res_f_res_177024;
                                        defunc_0_lifted_step_res_f_res_f_res_176959 = defunc_0_lifted_step_res_f_res_f_res_f_res_177025;
                                        defunc_0_lifted_step_res_f_res_f_res_176960 = defunc_0_lifted_step_res_f_res_f_res_f_res_177026;
                                    }
                                    defunc_0_lifted_step_res_f_res_176951 = defunc_0_lifted_step_res_f_res_f_res_176957;
                                    defunc_0_lifted_step_res_f_res_176952 = defunc_0_lifted_step_res_f_res_f_res_176958;
                                    defunc_0_lifted_step_res_f_res_176953 = defunc_0_lifted_step_res_f_res_f_res_176959;
                                    defunc_0_lifted_step_res_f_res_176954 = defunc_0_lifted_step_res_f_res_f_res_176960;
                                }
                                defunc_0_lifted_step_res_176944 = defunc_0_lifted_step_res_f_res_176951;
                                defunc_0_lifted_step_res_176945 = defunc_0_lifted_step_res_f_res_176952;
                                defunc_0_lifted_step_res_176946 = defunc_0_lifted_step_res_f_res_176953;
                                defunc_0_lifted_step_res_176947 = defunc_0_lifted_step_res_f_res_176954;
                            }
                            
                            int64_t loopres_177030;
                            int64_t loopres_177031;
                            int64_t loopres_177032;
                            int64_t loopres_177033;
                            int64_t loopres_177034;
                            
                            if (futrts_lifted_normalizze_8970(ctx, &loopres_177030, &loopres_177031, &loopres_177032, &loopres_177033, &loopres_177034, defunc_0_lifted_step_res_176944, ss_176938, defunc_0_lifted_step_res_176945, defunc_0_lifted_step_res_176946, defunc_0_lifted_step_res_176947) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_177035 = slt64((int64_t) 0, loopres_177034);
                            bool loop_while_tmp_181643 = loop_cond_177035;
                            int64_t ss_tmp_181644 = loopres_177030;
                            int64_t ss_tmp_181645 = loopres_177031;
                            int64_t tt_tmp_181646 = loopres_177032;
                            int64_t tt_tmp_181647 = loopres_177033;
                            int64_t count_tmp_181648 = loopres_177034;
                            
                            loop_while_176936 = loop_while_tmp_181643;
                            ss_176937 = ss_tmp_181644;
                            ss_176938 = ss_tmp_181645;
                            tt_176939 = tt_tmp_181646;
                            tt_176940 = tt_tmp_181647;
                            count_176941 = count_tmp_181648;
                        }
                        defunc_0_split_count_res_176930 = loop_while_176936;
                        defunc_0_split_count_res_176931 = ss_176937;
                        defunc_0_split_count_res_176932 = ss_176938;
                        defunc_0_split_count_res_176933 = tt_176939;
                        defunc_0_split_count_res_176934 = tt_176940;
                        defunc_0_split_count_res_176935 = count_176941;
                        ((int64_t *) mem_180926)[i_179822] = defunc_0_split_count_res_176931;
                        ((int64_t *) mem_180928)[i_179822] = defunc_0_split_count_res_176933;
                    }
                    if (mem_180942_cached_sizze_181937 < flat_dim_176772) {
                        err = lexical_realloc(ctx, &mem_180942, &mem_180942_cached_sizze_181937, flat_dim_176772);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180945_cached_sizze_181938 < bytes_180944) {
                        err = lexical_realloc(ctx, &mem_180945, &mem_180945_cached_sizze_181938, bytes_180944);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180948_cached_sizze_181939 < bytes_180944) {
                        err = lexical_realloc(ctx, &mem_180948, &mem_180948_cached_sizze_181939, bytes_180944);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179831 = 0; i_179831 < num_blocks_176769; i_179831++) {
                        bool y_177042 = slt64(i_179831, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770);
                        bool index_certs_177044;
                        
                        if (!y_177042) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179831, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177045 = ((int64_t *) mem_180926)[i_179831];
                        int64_t defunc_0_f_res_177046 = ((int64_t *) mem_180928)[i_179831];
                        int64_t tmp_177047 = add64((int64_t) 1, i_179831);
                        bool x_177048 = sle64((int64_t) 0, tmp_177047);
                        bool y_177049 = slt64(tmp_177047, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770);
                        bool bounds_check_177050 = x_177048 && y_177049;
                        bool index_certs_177051;
                        
                        if (!bounds_check_177050) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177047, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177052 = ((int64_t *) mem_180926)[tmp_177047];
                        int64_t defunc_0_f_res_177053 = ((int64_t *) mem_180928)[tmp_177047];
                        int64_t merge_sequential_arg2_177054 = add64(stride_176748, defunc_0_f_res_177046);
                        int64_t merge_sequential_arg2_177055 = add64(stride_176748, defunc_0_f_res_177053);
                        int64_t j_m_i_177056 = sub64(merge_sequential_arg2_177055, merge_sequential_arg2_177054);
                        bool empty_slice_177057 = j_m_i_177056 == (int64_t) 0;
                        int64_t m_177058 = sub64(j_m_i_177056, (int64_t) 1);
                        int64_t i_p_m_t_s_177059 = add64(merge_sequential_arg2_177054, m_177058);
                        bool zzero_leq_i_p_m_t_s_177060 = sle64((int64_t) 0, i_p_m_t_s_177059);
                        bool i_p_m_t_s_leq_w_177061 = slt64(i_p_m_t_s_177059, next_stride_176749);
                        bool zzero_lte_i_177062 = sle64((int64_t) 0, merge_sequential_arg2_177054);
                        bool i_lte_j_177063 = sle64(merge_sequential_arg2_177054, merge_sequential_arg2_177055);
                        bool y_177064 = i_p_m_t_s_leq_w_177061 && zzero_lte_i_177062;
                        bool y_177065 = zzero_leq_i_p_m_t_s_177060 && y_177064;
                        bool forwards_ok_177066 = i_lte_j_177063 && y_177065;
                        bool ok_or_empty_177067 = empty_slice_177057 || forwards_ok_177066;
                        bool index_certs_177068;
                        
                        if (!ok_or_empty_177067) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177054, ":", (long long) merge_sequential_arg2_177055, "] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_177069 = sub64(defunc_0_f_res_177052, defunc_0_f_res_177045);
                        bool empty_slice_177070 = j_m_i_177069 == (int64_t) 0;
                        int64_t m_177071 = sub64(j_m_i_177069, (int64_t) 1);
                        int64_t i_p_m_t_s_177072 = add64(defunc_0_f_res_177045, m_177071);
                        bool zzero_leq_i_p_m_t_s_177073 = sle64((int64_t) 0, i_p_m_t_s_177072);
                        bool i_p_m_t_s_leq_w_177074 = slt64(i_p_m_t_s_177072, next_stride_176749);
                        bool zzero_lte_i_177075 = sle64((int64_t) 0, defunc_0_f_res_177045);
                        bool i_lte_j_177076 = sle64(defunc_0_f_res_177045, defunc_0_f_res_177052);
                        bool y_177077 = i_p_m_t_s_leq_w_177074 && zzero_lte_i_177075;
                        bool y_177078 = zzero_leq_i_p_m_t_s_177073 && y_177077;
                        bool forwards_ok_177079 = i_lte_j_177076 && y_177078;
                        bool ok_or_empty_177080 = empty_slice_177070 || forwards_ok_177079;
                        bool index_certs_177081;
                        
                        if (!ok_or_empty_177080) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177045, ":", (long long) defunc_0_f_res_177052, "] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_177082 = slt64((int64_t) 0, j_m_i_177069);
                        int8_t dummy_177083;
                        int64_t dummy_177084;
                        int64_t dummy_177085;
                        
                        if (cond_177082) {
                            bool index_certs_179593;
                            
                            if (!cond_177082) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177069, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_179594 = start_176822 + defunc_0_f_res_177045;
                            int8_t head_res_179595 = ((int8_t *) mem_param_180898.mem)[slice_179594];
                            int64_t head_res_179596 = ((int64_t *) mem_param_180901.mem)[slice_179594];
                            int64_t head_res_179597 = ((int64_t *) mem_param_180904.mem)[slice_179594];
                            
                            dummy_177083 = head_res_179595;
                            dummy_177084 = head_res_179596;
                            dummy_177085 = head_res_179597;
                        } else {
                            bool y_177091 = slt64((int64_t) 0, j_m_i_177056);
                            bool index_certs_177092;
                            
                            if (!y_177091) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177056, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177093 = start_176822 + merge_sequential_arg2_177054;
                            int8_t head_res_177094 = ((int8_t *) mem_param_180898.mem)[slice_177093];
                            int64_t head_res_177095 = ((int64_t *) mem_param_180901.mem)[slice_177093];
                            int64_t head_res_177096 = ((int64_t *) mem_param_180904.mem)[slice_177093];
                            
                            dummy_177083 = head_res_177094;
                            dummy_177084 = head_res_177095;
                            dummy_177085 = head_res_177096;
                        }
                        for (int64_t nest_i_181652 = 0; nest_i_181652 < merge_block_sizze_176586; nest_i_181652++) {
                            ((int8_t *) mem_180942)[i_179831 * merge_block_sizze_176586 + nest_i_181652] = dummy_177083;
                        }
                        for (int64_t nest_i_181653 = 0; nest_i_181653 < merge_block_sizze_176586; nest_i_181653++) {
                            ((int64_t *) mem_180945)[i_179831 * merge_block_sizze_176586 + nest_i_181653] = dummy_177084;
                        }
                        for (int64_t nest_i_181654 = 0; nest_i_181654 < merge_block_sizze_176586; nest_i_181654++) {
                            ((int64_t *) mem_180948)[i_179831 * merge_block_sizze_176586 + nest_i_181654] = dummy_177085;
                        }
                        
                        int64_t data_177100;
                        int64_t i_177105 = (int64_t) 0;
                        
                        for (int64_t k_177104 = 0; k_177104 < merge_block_sizze_176586; k_177104++) {
                            int64_t j_177109 = sub64(k_177104, i_177105);
                            bool cond_177110 = j_177109 == j_m_i_177056;
                            bool cond_177111;
                            
                            if (cond_177110) {
                                cond_177111 = 1;
                            } else {
                                bool cond_177112 = slt64(i_177105, j_m_i_177069);
                                bool cond_f_res_177113;
                                
                                if (cond_177112) {
                                    bool x_179598 = sle64((int64_t) 0, j_177109);
                                    bool y_179599 = slt64(j_177109, j_m_i_177056);
                                    bool bounds_check_179600 = x_179598 && y_179599;
                                    bool index_certs_179601;
                                    
                                    if (!bounds_check_179600) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177109, "] out of bounds for array of shape [", (long long) j_m_i_177056, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_179607 = sle64((int64_t) 0, i_177105);
                                    bool bounds_check_179608 = cond_177112 && x_179607;
                                    bool index_certs_179609;
                                    
                                    if (!bounds_check_179608) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177105, "] out of bounds for array of shape [", (long long) j_m_i_177069, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179602 = merge_sequential_arg2_177054 + j_177109;
                                    int64_t slice_179603 = start_176822 + slice_179602;
                                    int8_t leq_arg1_179604 = ((int8_t *) mem_param_180898.mem)[slice_179603];
                                    int64_t leq_arg1_179605 = ((int64_t *) mem_param_180901.mem)[slice_179603];
                                    int64_t leq_arg1_179606 = ((int64_t *) mem_param_180904.mem)[slice_179603];
                                    int64_t slice_179610 = defunc_0_f_res_177045 + i_177105;
                                    int64_t slice_179611 = start_176822 + slice_179610;
                                    int8_t leq_arg0_179612 = ((int8_t *) mem_param_180898.mem)[slice_179611];
                                    int64_t leq_arg0_179613 = ((int64_t *) mem_param_180901.mem)[slice_179611];
                                    int64_t leq_arg0_179614 = ((int64_t *) mem_param_180904.mem)[slice_179611];
                                    bool cond_179615 = leq_arg0_179612 == leq_arg1_179604;
                                    bool defunc_0_leq_res_t_res_179616 = sle64(leq_arg0_179613, leq_arg1_179605);
                                    bool defunc_0_leq_res_179617 = sle64(leq_arg0_179614, leq_arg1_179606);
                                    bool x_179618 = cond_179615 && defunc_0_leq_res_t_res_179616;
                                    bool x_179619 = !cond_179615;
                                    bool y_179620 = defunc_0_leq_res_179617 && x_179619;
                                    bool defunc_0_leq_res_179621 = x_179618 || y_179620;
                                    
                                    cond_f_res_177113 = defunc_0_leq_res_179621;
                                } else {
                                    cond_f_res_177113 = 0;
                                }
                                cond_177111 = cond_f_res_177113;
                            }
                            
                            int64_t loopres_177138;
                            int8_t loopres_177139;
                            int64_t loopres_177140;
                            int64_t loopres_177141;
                            
                            if (cond_177111) {
                                bool x_179623 = sle64((int64_t) 0, i_177105);
                                bool y_179624 = slt64(i_177105, j_m_i_177069);
                                bool bounds_check_179625 = x_179623 && y_179624;
                                bool index_certs_179626;
                                
                                if (!bounds_check_179625) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177105, "] out of bounds for array of shape [", (long long) j_m_i_177069, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_179622 = add64((int64_t) 1, i_177105);
                                int64_t slice_179627 = defunc_0_f_res_177045 + i_177105;
                                int64_t slice_179628 = start_176822 + slice_179627;
                                int8_t tmp_179629 = ((int8_t *) mem_param_180898.mem)[slice_179628];
                                int64_t tmp_179630 = ((int64_t *) mem_param_180901.mem)[slice_179628];
                                int64_t tmp_179631 = ((int64_t *) mem_param_180904.mem)[slice_179628];
                                
                                loopres_177138 = tmp_179622;
                                loopres_177139 = tmp_179629;
                                loopres_177140 = tmp_179630;
                                loopres_177141 = tmp_179631;
                            } else {
                                bool x_177152 = sle64((int64_t) 0, j_177109);
                                bool y_177153 = slt64(j_177109, j_m_i_177056);
                                bool bounds_check_177154 = x_177152 && y_177153;
                                bool index_certs_177155;
                                
                                if (!bounds_check_177154) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177109, "] out of bounds for array of shape [", (long long) j_m_i_177056, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177156 = merge_sequential_arg2_177054 + j_177109;
                                int64_t slice_177157 = start_176822 + slice_177156;
                                int8_t tmp_177158 = ((int8_t *) mem_param_180898.mem)[slice_177157];
                                int64_t tmp_177159 = ((int64_t *) mem_param_180901.mem)[slice_177157];
                                int64_t tmp_177160 = ((int64_t *) mem_param_180904.mem)[slice_177157];
                                
                                loopres_177138 = i_177105;
                                loopres_177139 = tmp_177158;
                                loopres_177140 = tmp_177159;
                                loopres_177141 = tmp_177160;
                            }
                            ((int8_t *) mem_180942)[i_179831 * merge_block_sizze_176586 + k_177104] = loopres_177139;
                            ((int64_t *) mem_180945)[i_179831 * merge_block_sizze_176586 + k_177104] = loopres_177140;
                            ((int64_t *) mem_180948)[i_179831 * merge_block_sizze_176586 + k_177104] = loopres_177141;
                            
                            int64_t i_tmp_181655 = loopres_177138;
                            
                            i_177105 = i_tmp_181655;
                        }
                        data_177100 = i_177105;
                    }
                    if (memblock_alloc(ctx, &mem_180997, flat_dim_176772, "mem_180997")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180997.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (uint8_t *) mem_180942, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (int64_t []) {num_blocks_176769, merge_block_sizze_176586});
                    if (memblock_alloc(ctx, &mem_181001, bytes_180944, "mem_181001")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181001.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (uint64_t *) mem_180945, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (int64_t []) {num_blocks_176769, merge_block_sizze_176586});
                    if (memblock_alloc(ctx, &mem_181005, bytes_180944, "mem_181005")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181005.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (uint64_t *) mem_180948, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (int64_t []) {num_blocks_176769, merge_block_sizze_176586});
                    if (memblock_set(ctx, &ext_mem_181038, &mem_180997, "mem_180997") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181035, &mem_181001, "mem_181001") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181032, &mem_181005, "mem_181005") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180906, i_179841 * next_stride_176749, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181038.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176749});
                if (memblock_unref(ctx, &ext_mem_181038, "ext_mem_181038") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180909, i_179841 * next_stride_176749, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181035.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176749});
                if (memblock_unref(ctx, &ext_mem_181035, "ext_mem_181035") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180912, i_179841 * next_stride_176749, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181032.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176749});
                if (memblock_unref(ctx, &ext_mem_181032, "ext_mem_181032") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_181052, bytes_180905, "mem_181052")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_181052.mem, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (uint8_t *) mem_180906, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (int64_t []) {num_merges_176753, next_stride_176749});
            if (memblock_alloc(ctx, &mem_181056, bytes_180908, "mem_181056")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181056.mem, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (uint64_t *) mem_180909, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (int64_t []) {num_merges_176753, next_stride_176749});
            if (memblock_alloc(ctx, &mem_181060, bytes_180908, "mem_181060")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181060.mem, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (uint64_t *) mem_180912, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (int64_t []) {num_merges_176753, next_stride_176749});
            
            bool loop_cond_177174 = slt64(next_stride_176749, flat_dim_176581);
            
            if (memblock_set(ctx, &mem_param_tmp_181622, &mem_181052, "mem_181052") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181623, &mem_181056, "mem_181056") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181624, &mem_181060, "mem_181060") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_181625 = bytes_180905;
            bool loop_while_tmp_181626 = loop_cond_177174;
            int64_t stride_tmp_181630 = next_stride_176749;
            
            if (memblock_set(ctx, &mem_param_180898, &mem_param_tmp_181622, "mem_param_tmp_181622") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180901, &mem_param_tmp_181623, "mem_param_tmp_181623") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180904, &mem_param_tmp_181624, "mem_param_tmp_181624") != 0)
                return 1;
            loop_dz2084Uz2082U_176743 = loop_dz2084Uz2082U_tmp_181625;
            loop_while_176744 = loop_while_tmp_181626;
            stride_176748 = stride_tmp_181630;
        }
        if (memblock_set(ctx, &ext_mem_181070, &mem_param_180898, "mem_param_180898") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181069, &mem_param_180901, "mem_param_180901") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181068, &mem_param_180904, "mem_param_180904") != 0)
            return 1;
        data_176737 = loop_dz2084Uz2082U_176743;
        data_176738 = loop_while_176744;
        data_176742 = stride_176748;
        if (memblock_unref(ctx, &mem_180886, "mem_180886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180890, "mem_180890") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180894, "mem_180894") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_177177 = slt64(zs_lhs_176565, data_176737);
        bool y_177178 = i_p_m_t_s_leq_w_177177 && zzero_leq_i_p_m_t_s_177191;
        bool ok_or_empty_177179 = y_177178 || empty_slice_177189;
        bool index_certs_177180;
        
        if (!ok_or_empty_177179) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "] out of bounds for array of shape [", (long long) data_176737, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181079, &ext_mem_181070, "ext_mem_181070") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181076, &ext_mem_181069, "ext_mem_181069") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181073, &ext_mem_181068, "ext_mem_181068") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_180780, "mem_180780") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_180782, "mem_180782") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_180784, "mem_180784") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_179988.mem, final_buffer_177196, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181079.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177197});
    if (memblock_unref(ctx, &ext_mem_181079, "ext_mem_181079") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_179990.mem, final_buffer_177196, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181076.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177197});
    if (memblock_unref(ctx, &ext_mem_181076, "ext_mem_181076") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_179992.mem, final_buffer_177196, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181073.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177197});
    if (memblock_unref(ctx, &ext_mem_181073, "ext_mem_181073") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181400, &mem_179990, "mem_179990") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181401, &mem_179988, "mem_179988") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181402, &mem_179992, "mem_179992") != 0)
        return 1;
    prim_out_181403 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475;
    if (memblock_set(ctx, &*mem_out_p_181886, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181887, &mem_out_181401, "mem_out_181401") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181888, &mem_out_181402, "mem_out_181402") != 0)
        return 1;
    *out_prim_out_181889 = prim_out_181403;
    
  cleanup:
    {
        free(mem_180003);
        free(mem_180005);
        free(mem_180044);
        free(mem_180047);
        free(mem_180050);
        free(mem_180063);
        free(mem_180065);
        free(mem_180067);
        free(mem_180164);
        free(mem_180167);
        free(mem_180170);
        free(mem_180184);
        free(mem_180186);
        free(mem_180200);
        free(mem_180203);
        free(mem_180206);
        free(mem_180348);
        free(mem_180350);
        free(mem_180365);
        free(mem_180367);
        free(mem_180370);
        free(mem_180373);
        free(mem_180407);
        free(mem_180410);
        free(mem_180413);
        free(mem_180426);
        free(mem_180428);
        free(mem_180430);
        free(mem_180527);
        free(mem_180530);
        free(mem_180533);
        free(mem_180547);
        free(mem_180549);
        free(mem_180563);
        free(mem_180566);
        free(mem_180569);
        free(mem_180786);
        free(mem_180789);
        free(mem_180792);
        free(mem_180805);
        free(mem_180807);
        free(mem_180809);
        free(mem_180906);
        free(mem_180909);
        free(mem_180912);
        free(mem_180926);
        free(mem_180928);
        free(mem_180942);
        free(mem_180945);
        free(mem_180948);
        if (memblock_unref(ctx, &mem_param_tmp_181624, "mem_param_tmp_181624") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181623, "mem_param_tmp_181623") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181622, "mem_param_tmp_181622") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181060, "mem_181060") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181056, "mem_181056") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181052, "mem_181052") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181005, "mem_181005") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181001, "mem_181001") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180997, "mem_180997") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181011, "mem_181011") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181009, "mem_181009") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181007, "mem_181007") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181032, "ext_mem_181032") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181035, "ext_mem_181035") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181038, "ext_mem_181038") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180904, "mem_param_180904") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180901, "mem_param_180901") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180898, "mem_param_180898") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181068, "ext_mem_181068") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181069, "ext_mem_181069") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181070, "ext_mem_181070") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180894, "mem_180894") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180890, "mem_180890") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180886, "mem_180886") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181073, "ext_mem_181073") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181076, "ext_mem_181076") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181079, "ext_mem_181079") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180784, "mem_180784") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180782, "mem_180782") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180780, "mem_180780") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181558, "mem_param_tmp_181558") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181557, "mem_param_tmp_181557") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181556, "mem_param_tmp_181556") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180318, "mem_180318") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180314, "mem_180314") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180310, "mem_180310") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180263, "mem_180263") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180259, "mem_180259") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180255, "mem_180255") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180269, "mem_180269") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180267, "mem_180267") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180265, "mem_180265") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180290, "ext_mem_180290") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180293, "ext_mem_180293") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180296, "ext_mem_180296") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180162, "mem_param_180162") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180159, "mem_param_180159") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180156, "mem_param_180156") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180326, "ext_mem_180326") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180327, "ext_mem_180327") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180328, "ext_mem_180328") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180152, "mem_180152") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180148, "mem_180148") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180144, "mem_180144") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180331, "ext_mem_180331") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180334, "ext_mem_180334") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180337, "ext_mem_180337") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180042, "mem_180042") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180040, "mem_180040") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180038, "mem_180038") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180022, "mem_180022") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180020, "mem_180020") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180018, "mem_180018") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180729, "mem_180729") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180728, "mem_180728") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180726, "mem_180726") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181464, "mem_param_tmp_181464") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181463, "mem_param_tmp_181463") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181462, "mem_param_tmp_181462") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180681, "mem_180681") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180677, "mem_180677") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180673, "mem_180673") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180626, "mem_180626") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180622, "mem_180622") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180618, "mem_180618") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180632, "mem_180632") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180630, "mem_180630") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180628, "mem_180628") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180653, "ext_mem_180653") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180656, "ext_mem_180656") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180659, "ext_mem_180659") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180525, "mem_param_180525") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180522, "mem_param_180522") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180519, "mem_param_180519") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180689, "ext_mem_180689") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180690, "ext_mem_180690") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180691, "ext_mem_180691") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180515, "mem_180515") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180511, "mem_180511") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180507, "mem_180507") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180694, "ext_mem_180694") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180700, "ext_mem_180700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180405, "mem_180405") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180403, "mem_180403") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180401, "mem_180401") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180750, "ext_mem_180750") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180753, "ext_mem_180753") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180756, "ext_mem_180756") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179992, "mem_179992") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179990, "mem_179990") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179988, "mem_179988") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181402, "mem_out_181402") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181401, "mem_out_181401") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_short(struct futhark_context *ctx, struct memblock *mem_out_p_181940, struct memblock *mem_out_p_181941, struct memblock *mem_out_p_181942, int64_t *out_prim_out_181943, struct memblock a_list_mem_179986, struct memblock b_list_mem_179987, int64_t na_120138, int64_t nb_120139, int64_t window_sizze_120140, int64_t threads_120141, bool inParallel_120144)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180003_cached_sizze_181944 = 0;
    unsigned char *mem_180003 = NULL;
    int64_t mem_180005_cached_sizze_181945 = 0;
    unsigned char *mem_180005 = NULL;
    int64_t mem_180044_cached_sizze_181946 = 0;
    unsigned char *mem_180044 = NULL;
    int64_t mem_180047_cached_sizze_181947 = 0;
    unsigned char *mem_180047 = NULL;
    int64_t mem_180050_cached_sizze_181948 = 0;
    unsigned char *mem_180050 = NULL;
    int64_t mem_180063_cached_sizze_181949 = 0;
    unsigned char *mem_180063 = NULL;
    int64_t mem_180065_cached_sizze_181950 = 0;
    unsigned char *mem_180065 = NULL;
    int64_t mem_180067_cached_sizze_181951 = 0;
    unsigned char *mem_180067 = NULL;
    int64_t mem_180164_cached_sizze_181952 = 0;
    unsigned char *mem_180164 = NULL;
    int64_t mem_180167_cached_sizze_181953 = 0;
    unsigned char *mem_180167 = NULL;
    int64_t mem_180170_cached_sizze_181954 = 0;
    unsigned char *mem_180170 = NULL;
    int64_t mem_180184_cached_sizze_181955 = 0;
    unsigned char *mem_180184 = NULL;
    int64_t mem_180186_cached_sizze_181956 = 0;
    unsigned char *mem_180186 = NULL;
    int64_t mem_180200_cached_sizze_181957 = 0;
    unsigned char *mem_180200 = NULL;
    int64_t mem_180203_cached_sizze_181958 = 0;
    unsigned char *mem_180203 = NULL;
    int64_t mem_180206_cached_sizze_181959 = 0;
    unsigned char *mem_180206 = NULL;
    int64_t mem_180348_cached_sizze_181960 = 0;
    unsigned char *mem_180348 = NULL;
    int64_t mem_180350_cached_sizze_181961 = 0;
    unsigned char *mem_180350 = NULL;
    int64_t mem_180365_cached_sizze_181962 = 0;
    unsigned char *mem_180365 = NULL;
    int64_t mem_180367_cached_sizze_181963 = 0;
    unsigned char *mem_180367 = NULL;
    int64_t mem_180370_cached_sizze_181964 = 0;
    unsigned char *mem_180370 = NULL;
    int64_t mem_180373_cached_sizze_181965 = 0;
    unsigned char *mem_180373 = NULL;
    int64_t mem_180407_cached_sizze_181966 = 0;
    unsigned char *mem_180407 = NULL;
    int64_t mem_180410_cached_sizze_181967 = 0;
    unsigned char *mem_180410 = NULL;
    int64_t mem_180413_cached_sizze_181968 = 0;
    unsigned char *mem_180413 = NULL;
    int64_t mem_180426_cached_sizze_181969 = 0;
    unsigned char *mem_180426 = NULL;
    int64_t mem_180428_cached_sizze_181970 = 0;
    unsigned char *mem_180428 = NULL;
    int64_t mem_180430_cached_sizze_181971 = 0;
    unsigned char *mem_180430 = NULL;
    int64_t mem_180527_cached_sizze_181972 = 0;
    unsigned char *mem_180527 = NULL;
    int64_t mem_180530_cached_sizze_181973 = 0;
    unsigned char *mem_180530 = NULL;
    int64_t mem_180533_cached_sizze_181974 = 0;
    unsigned char *mem_180533 = NULL;
    int64_t mem_180547_cached_sizze_181975 = 0;
    unsigned char *mem_180547 = NULL;
    int64_t mem_180549_cached_sizze_181976 = 0;
    unsigned char *mem_180549 = NULL;
    int64_t mem_180563_cached_sizze_181977 = 0;
    unsigned char *mem_180563 = NULL;
    int64_t mem_180566_cached_sizze_181978 = 0;
    unsigned char *mem_180566 = NULL;
    int64_t mem_180569_cached_sizze_181979 = 0;
    unsigned char *mem_180569 = NULL;
    int64_t mem_180786_cached_sizze_181980 = 0;
    unsigned char *mem_180786 = NULL;
    int64_t mem_180789_cached_sizze_181981 = 0;
    unsigned char *mem_180789 = NULL;
    int64_t mem_180792_cached_sizze_181982 = 0;
    unsigned char *mem_180792 = NULL;
    int64_t mem_180805_cached_sizze_181983 = 0;
    unsigned char *mem_180805 = NULL;
    int64_t mem_180807_cached_sizze_181984 = 0;
    unsigned char *mem_180807 = NULL;
    int64_t mem_180809_cached_sizze_181985 = 0;
    unsigned char *mem_180809 = NULL;
    int64_t mem_180906_cached_sizze_181986 = 0;
    unsigned char *mem_180906 = NULL;
    int64_t mem_180909_cached_sizze_181987 = 0;
    unsigned char *mem_180909 = NULL;
    int64_t mem_180912_cached_sizze_181988 = 0;
    unsigned char *mem_180912 = NULL;
    int64_t mem_180926_cached_sizze_181989 = 0;
    unsigned char *mem_180926 = NULL;
    int64_t mem_180928_cached_sizze_181990 = 0;
    unsigned char *mem_180928 = NULL;
    int64_t mem_180942_cached_sizze_181991 = 0;
    unsigned char *mem_180942 = NULL;
    int64_t mem_180945_cached_sizze_181992 = 0;
    unsigned char *mem_180945 = NULL;
    int64_t mem_180948_cached_sizze_181993 = 0;
    unsigned char *mem_180948 = NULL;
    struct memblock mem_param_tmp_181624;
    
    mem_param_tmp_181624.references = NULL;
    
    struct memblock mem_param_tmp_181623;
    
    mem_param_tmp_181623.references = NULL;
    
    struct memblock mem_param_tmp_181622;
    
    mem_param_tmp_181622.references = NULL;
    
    struct memblock mem_181060;
    
    mem_181060.references = NULL;
    
    struct memblock mem_181056;
    
    mem_181056.references = NULL;
    
    struct memblock mem_181052;
    
    mem_181052.references = NULL;
    
    struct memblock mem_181005;
    
    mem_181005.references = NULL;
    
    struct memblock mem_181001;
    
    mem_181001.references = NULL;
    
    struct memblock mem_180997;
    
    mem_180997.references = NULL;
    
    struct memblock mem_181011;
    
    mem_181011.references = NULL;
    
    struct memblock mem_181009;
    
    mem_181009.references = NULL;
    
    struct memblock mem_181007;
    
    mem_181007.references = NULL;
    
    struct memblock ext_mem_181032;
    
    ext_mem_181032.references = NULL;
    
    struct memblock ext_mem_181035;
    
    ext_mem_181035.references = NULL;
    
    struct memblock ext_mem_181038;
    
    ext_mem_181038.references = NULL;
    
    struct memblock mem_param_180904;
    
    mem_param_180904.references = NULL;
    
    struct memblock mem_param_180901;
    
    mem_param_180901.references = NULL;
    
    struct memblock mem_param_180898;
    
    mem_param_180898.references = NULL;
    
    struct memblock ext_mem_181068;
    
    ext_mem_181068.references = NULL;
    
    struct memblock ext_mem_181069;
    
    ext_mem_181069.references = NULL;
    
    struct memblock ext_mem_181070;
    
    ext_mem_181070.references = NULL;
    
    struct memblock mem_180894;
    
    mem_180894.references = NULL;
    
    struct memblock mem_180890;
    
    mem_180890.references = NULL;
    
    struct memblock mem_180886;
    
    mem_180886.references = NULL;
    
    struct memblock ext_mem_181073;
    
    ext_mem_181073.references = NULL;
    
    struct memblock ext_mem_181076;
    
    ext_mem_181076.references = NULL;
    
    struct memblock ext_mem_181079;
    
    ext_mem_181079.references = NULL;
    
    struct memblock mem_180784;
    
    mem_180784.references = NULL;
    
    struct memblock mem_180782;
    
    mem_180782.references = NULL;
    
    struct memblock mem_180780;
    
    mem_180780.references = NULL;
    
    struct memblock mem_param_tmp_181558;
    
    mem_param_tmp_181558.references = NULL;
    
    struct memblock mem_param_tmp_181557;
    
    mem_param_tmp_181557.references = NULL;
    
    struct memblock mem_param_tmp_181556;
    
    mem_param_tmp_181556.references = NULL;
    
    struct memblock mem_180318;
    
    mem_180318.references = NULL;
    
    struct memblock mem_180314;
    
    mem_180314.references = NULL;
    
    struct memblock mem_180310;
    
    mem_180310.references = NULL;
    
    struct memblock mem_180263;
    
    mem_180263.references = NULL;
    
    struct memblock mem_180259;
    
    mem_180259.references = NULL;
    
    struct memblock mem_180255;
    
    mem_180255.references = NULL;
    
    struct memblock mem_180269;
    
    mem_180269.references = NULL;
    
    struct memblock mem_180267;
    
    mem_180267.references = NULL;
    
    struct memblock mem_180265;
    
    mem_180265.references = NULL;
    
    struct memblock ext_mem_180290;
    
    ext_mem_180290.references = NULL;
    
    struct memblock ext_mem_180293;
    
    ext_mem_180293.references = NULL;
    
    struct memblock ext_mem_180296;
    
    ext_mem_180296.references = NULL;
    
    struct memblock mem_param_180162;
    
    mem_param_180162.references = NULL;
    
    struct memblock mem_param_180159;
    
    mem_param_180159.references = NULL;
    
    struct memblock mem_param_180156;
    
    mem_param_180156.references = NULL;
    
    struct memblock ext_mem_180326;
    
    ext_mem_180326.references = NULL;
    
    struct memblock ext_mem_180327;
    
    ext_mem_180327.references = NULL;
    
    struct memblock ext_mem_180328;
    
    ext_mem_180328.references = NULL;
    
    struct memblock mem_180152;
    
    mem_180152.references = NULL;
    
    struct memblock mem_180148;
    
    mem_180148.references = NULL;
    
    struct memblock mem_180144;
    
    mem_180144.references = NULL;
    
    struct memblock ext_mem_180331;
    
    ext_mem_180331.references = NULL;
    
    struct memblock ext_mem_180334;
    
    ext_mem_180334.references = NULL;
    
    struct memblock ext_mem_180337;
    
    ext_mem_180337.references = NULL;
    
    struct memblock mem_180042;
    
    mem_180042.references = NULL;
    
    struct memblock mem_180040;
    
    mem_180040.references = NULL;
    
    struct memblock mem_180038;
    
    mem_180038.references = NULL;
    
    struct memblock mem_180022;
    
    mem_180022.references = NULL;
    
    struct memblock mem_180020;
    
    mem_180020.references = NULL;
    
    struct memblock mem_180018;
    
    mem_180018.references = NULL;
    
    struct memblock mem_180729;
    
    mem_180729.references = NULL;
    
    struct memblock mem_180728;
    
    mem_180728.references = NULL;
    
    struct memblock mem_180726;
    
    mem_180726.references = NULL;
    
    struct memblock mem_param_tmp_181464;
    
    mem_param_tmp_181464.references = NULL;
    
    struct memblock mem_param_tmp_181463;
    
    mem_param_tmp_181463.references = NULL;
    
    struct memblock mem_param_tmp_181462;
    
    mem_param_tmp_181462.references = NULL;
    
    struct memblock mem_180681;
    
    mem_180681.references = NULL;
    
    struct memblock mem_180677;
    
    mem_180677.references = NULL;
    
    struct memblock mem_180673;
    
    mem_180673.references = NULL;
    
    struct memblock mem_180626;
    
    mem_180626.references = NULL;
    
    struct memblock mem_180622;
    
    mem_180622.references = NULL;
    
    struct memblock mem_180618;
    
    mem_180618.references = NULL;
    
    struct memblock mem_180632;
    
    mem_180632.references = NULL;
    
    struct memblock mem_180630;
    
    mem_180630.references = NULL;
    
    struct memblock mem_180628;
    
    mem_180628.references = NULL;
    
    struct memblock ext_mem_180653;
    
    ext_mem_180653.references = NULL;
    
    struct memblock ext_mem_180656;
    
    ext_mem_180656.references = NULL;
    
    struct memblock ext_mem_180659;
    
    ext_mem_180659.references = NULL;
    
    struct memblock mem_param_180525;
    
    mem_param_180525.references = NULL;
    
    struct memblock mem_param_180522;
    
    mem_param_180522.references = NULL;
    
    struct memblock mem_param_180519;
    
    mem_param_180519.references = NULL;
    
    struct memblock ext_mem_180689;
    
    ext_mem_180689.references = NULL;
    
    struct memblock ext_mem_180690;
    
    ext_mem_180690.references = NULL;
    
    struct memblock ext_mem_180691;
    
    ext_mem_180691.references = NULL;
    
    struct memblock mem_180515;
    
    mem_180515.references = NULL;
    
    struct memblock mem_180511;
    
    mem_180511.references = NULL;
    
    struct memblock mem_180507;
    
    mem_180507.references = NULL;
    
    struct memblock ext_mem_180694;
    
    ext_mem_180694.references = NULL;
    
    struct memblock ext_mem_180697;
    
    ext_mem_180697.references = NULL;
    
    struct memblock ext_mem_180700;
    
    ext_mem_180700.references = NULL;
    
    struct memblock mem_180405;
    
    mem_180405.references = NULL;
    
    struct memblock mem_180403;
    
    mem_180403.references = NULL;
    
    struct memblock mem_180401;
    
    mem_180401.references = NULL;
    
    struct memblock ext_mem_180750;
    
    ext_mem_180750.references = NULL;
    
    struct memblock ext_mem_180753;
    
    ext_mem_180753.references = NULL;
    
    struct memblock ext_mem_180756;
    
    ext_mem_180756.references = NULL;
    
    struct memblock mem_179992;
    
    mem_179992.references = NULL;
    
    struct memblock mem_179990;
    
    mem_179990.references = NULL;
    
    struct memblock mem_179988;
    
    mem_179988.references = NULL;
    
    struct memblock mem_out_181402;
    
    mem_out_181402.references = NULL;
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    int64_t prim_out_181403;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475 = add64(na_120138, nb_120139);
    
    if (memblock_alloc(ctx, &mem_179988, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, "mem_179988")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181404 = 0; nest_i_181404 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475; nest_i_181404++) {
        ((int8_t *) mem_179988.mem)[nest_i_181404] = (int8_t) -1;
    }
    
    int64_t bytes_179989 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475;
    
    if (memblock_alloc(ctx, &mem_179990, bytes_179989, "mem_179990")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181405 = 0; nest_i_181405 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475; nest_i_181405++) {
        ((int64_t *) mem_179990.mem)[nest_i_181405] = (int64_t) -1;
    }
    
    int64_t bytes_179991 = (int64_t) 2 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475;
    
    if (memblock_alloc(ctx, &mem_179992, bytes_179991, "mem_179992")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181406 = 0; nest_i_181406 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475; nest_i_181406++) {
        ((int16_t *) mem_179992.mem)[nest_i_181406] = (int16_t) 0;
    }
    
    int64_t zl_rhs_174479 = sub64(na_120138, window_sizze_120140);
    bool cond_174480 = slt64((int64_t) 0, zl_rhs_174479);
    int64_t zl_rhs_174481 = sub64(nb_120139, window_sizze_120140);
    bool loop_cond_t_res_174482 = slt64((int64_t) 0, zl_rhs_174481);
    bool x_174483 = cond_174480 && loop_cond_t_res_174482;
    bool empty_slice_174484 = window_sizze_120140 == (int64_t) 0;
    int64_t m_174485 = sub64(window_sizze_120140, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510 = add64((int64_t) 1, threads_120141);
    int64_t partitionFunc_arg0_175511 = mul64((int64_t) 2, threads_120141);
    bool y_175513 = slt64((int64_t) 0, window_sizze_120140);
    bool loop_cond_175759 = slt64((int64_t) 0, threads_120141);
    bool zzero_174530 = threads_120141 == (int64_t) 0;
    bool nonzzero_174531 = !zzero_174530;
    bool loop_not_taken_177288 = !inParallel_120144;
    bool protect_assert_disj_177289 = nonzzero_174531 || loop_not_taken_177288;
    bool loop_not_taken_177378 = !x_174483;
    bool protect_assert_disj_177379 = protect_assert_disj_177289 || loop_not_taken_177378;
    bool nonzzero_cert_174532;
    
    if (!protect_assert_disj_177379) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_174533 = sdiv_safe64(window_sizze_120140, threads_120141);
    int64_t perThread_174534 = add64((int64_t) 1, zp_rhs_174533);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174535 = mul64(threads_120141, perThread_174534);
    bool protect_assert_disj_177425 = inParallel_120144 || y_175513;
    bool protect_assert_disj_177429 = loop_not_taken_177378 || protect_assert_disj_177425;
    bool index_certs_175514;
    
    if (!protect_assert_disj_177429) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_175529 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, (int64_t) 1);
    bool y_176486 = slt64(threads_120141, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
    bool protect_assert_disj_177394 = y_175513 || loop_not_taken_177288;
    bool protect_assert_disj_177433 = loop_not_taken_177378 || protect_assert_disj_177394;
    bool index_certs_174538;
    
    if (!protect_assert_disj_177433) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_175531 = !bounds_invalid_upwards_175529;
    bool protect_assert_disj_177441 = inParallel_120144 || y_176486;
    bool protect_assert_disj_177443 = loop_not_taken_177378 || protect_assert_disj_177441;
    bool index_certs_176488;
    
    if (!protect_assert_disj_177443) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_120141, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177437 = y_176486 || loop_not_taken_177288;
    bool protect_assert_disj_177445 = loop_not_taken_177378 || protect_assert_disj_177437;
    bool index_certs_175492;
    
    if (!protect_assert_disj_177445) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_120141, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177453 = inParallel_120144 || valid_175531;
    bool protect_assert_disj_177455 = loop_not_taken_177378 || protect_assert_disj_177453;
    bool range_valid_c_175532;
    
    if (!protect_assert_disj_177455) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_177297 = sle64((int64_t) 1, threads_120141);
    bool protect_assert_disj_177449 = valid_175531 || loop_not_taken_177288;
    bool protect_assert_disj_177457 = loop_not_taken_177378 || protect_assert_disj_177449;
    bool range_valid_c_174545;
    
    if (!protect_assert_disj_177457) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_175534 = add64(window_sizze_120140, window_sizze_120140);
    bool zzero_175535 = partitionFunc_arg0_175511 == (int64_t) 0;
    int64_t index_concat_i_177298 = sub64(threads_120141, (int64_t) 1);
    bool nonzzero_175536 = !zzero_175535;
    bool protect_assert_disj_177465 = inParallel_120144 || nonzzero_175536;
    bool protect_assert_disj_177471 = loop_not_taken_177378 || protect_assert_disj_177465;
    bool nonzzero_cert_175537;
    
    if (!protect_assert_disj_177471) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177461 = nonzzero_175536 || loop_not_taken_177288;
    bool protect_assert_disj_177477 = loop_not_taken_177378 || protect_assert_disj_177461;
    bool nonzzero_cert_174550;
    
    if (!protect_assert_disj_177477) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180002 = (int64_t) 8 * threads_120141;
    int64_t bytes_180019 = (int64_t) 8 * window_sizze_120140;
    int64_t bytes_180021 = (int64_t) 2 * window_sizze_120140;
    int64_t bytes_180364 = perThread_174534 * bytes_180002;
    int64_t bytes_180372 = perThread_174534 * partitionFunc_arg0_175511;
    bool defunc_0_merge_pipeline_res_174486;
    int64_t defunc_0_merge_pipeline_res_174490;
    int64_t defunc_0_merge_pipeline_res_174491;
    bool loop_while_174492;
    int64_t p_174496;
    int64_t p_174497;
    
    loop_while_174492 = x_174483;
    p_174496 = (int64_t) 0;
    p_174497 = (int64_t) 0;
    while (loop_while_174492) {
        int64_t ubs_174498 = add64(window_sizze_120140, p_174496);
        int64_t ubs_174499 = add64(window_sizze_120140, p_174497);
        int64_t ind_bottom_174500 = add64(p_174496, p_174497);
        int64_t ind_top_174501 = add64(window_sizze_120140, ind_bottom_174500);
        int64_t i_p_m_t_s_174502 = add64(m_174485, p_174496);
        bool zzero_leq_i_p_m_t_s_174503 = sle64((int64_t) 0, i_p_m_t_s_174502);
        bool i_p_m_t_s_leq_w_174504 = slt64(i_p_m_t_s_174502, na_120138);
        bool zzero_lte_i_174505 = sle64((int64_t) 0, p_174496);
        bool i_lte_j_174506 = sle64(p_174496, ubs_174498);
        bool y_174507 = i_p_m_t_s_leq_w_174504 && zzero_lte_i_174505;
        bool y_174508 = zzero_leq_i_p_m_t_s_174503 && y_174507;
        bool forwards_ok_174509 = i_lte_j_174506 && y_174508;
        bool ok_or_empty_174510 = empty_slice_174484 || forwards_ok_174509;
        bool index_certs_174511;
        
        if (!ok_or_empty_174510) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_174496, ":", (long long) ubs_174498, "] out of bounds for array of shape [", (long long) na_120138, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_174513 = add64(m_174485, p_174497);
        bool zzero_leq_i_p_m_t_s_174514 = sle64((int64_t) 0, i_p_m_t_s_174513);
        bool i_p_m_t_s_leq_w_174515 = slt64(i_p_m_t_s_174513, nb_120139);
        bool zzero_lte_i_174516 = sle64((int64_t) 0, p_174497);
        bool i_lte_j_174517 = sle64(p_174497, ubs_174499);
        bool y_174518 = i_p_m_t_s_leq_w_174515 && zzero_lte_i_174516;
        bool y_174519 = zzero_leq_i_p_m_t_s_174514 && y_174518;
        bool forwards_ok_174520 = i_lte_j_174517 && y_174519;
        bool ok_or_empty_174521 = empty_slice_174484 || forwards_ok_174520;
        bool index_certs_174522;
        
        if (!ok_or_empty_174521) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_174497, ":", (long long) ubs_174499, "] out of bounds for array of shape [", (long long) nb_120139, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_176500 = add64(m_174485, ind_bottom_174500);
        bool zzero_leq_i_p_m_t_s_176501 = sle64((int64_t) 0, i_p_m_t_s_176500);
        bool i_p_m_t_s_leq_w_176502 = slt64(i_p_m_t_s_176500, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475);
        bool zzero_lte_i_176503 = sle64((int64_t) 0, ind_bottom_174500);
        bool i_lte_j_176504 = sle64(ind_bottom_174500, ind_top_174501);
        bool y_176505 = i_p_m_t_s_leq_w_176502 && zzero_lte_i_176503;
        bool y_176506 = zzero_leq_i_p_m_t_s_176501 && y_176505;
        bool forwards_ok_176507 = i_lte_j_176504 && y_176506;
        bool ok_or_empty_176508 = empty_slice_174484 || forwards_ok_176507;
        bool index_certs_176509;
        
        if (!ok_or_empty_176508) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_174500, ":", (long long) ind_top_174501, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_174524;
        int64_t loopres_174525;
        
        if (inParallel_120144) {
            int16_t leq_lhs_177958 = ((int16_t *) a_list_mem_179986.mem)[p_174496];
            int16_t leq_rhs_177959 = ((int16_t *) b_list_mem_179987.mem)[p_174497];
            bool defunc_0_leq_res_177960 = sle16(leq_lhs_177958, leq_rhs_177959);
            int16_t lowest_177961;
            
            if (defunc_0_leq_res_177960) {
                lowest_177961 = leq_lhs_177958;
            } else {
                lowest_177961 = leq_rhs_177959;
            }
            if (mem_180348_cached_sizze_181960 < bytes_180002) {
                err = lexical_realloc(ctx, &mem_180348, &mem_180348_cached_sizze_181960, bytes_180002);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180350_cached_sizze_181961 < bytes_180002) {
                err = lexical_realloc(ctx, &mem_180350, &mem_180350_cached_sizze_181961, bytes_180002);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_179650 = 0; i_179650 < threads_120141; i_179650++) {
                int64_t index_primexp_179922 = add64((int64_t) 1, i_179650);
                int64_t zs_lhs_177966 = mul64(zt_rhs_175534, index_primexp_179922);
                int64_t index_177967 = sdiv64(zs_lhs_177966, partitionFunc_arg0_175511);
                bool cond_177968 = slt64(window_sizze_120140, index_177967);
                int64_t loop_over_177969;
                
                if (cond_177968) {
                    loop_over_177969 = window_sizze_120140;
                } else {
                    loop_over_177969 = index_177967;
                }
                
                int64_t loop_over_177970;
                
                if (cond_177968) {
                    int64_t loop_over_t_res_177971 = sub64(index_177967, window_sizze_120140);
                    
                    loop_over_177970 = loop_over_t_res_177971;
                } else {
                    loop_over_177970 = (int64_t) 0;
                }
                
                int64_t loop_over_177972;
                
                if (cond_177968) {
                    int64_t zm_lhs_177973 = sub64(index_177967, window_sizze_120140);
                    int64_t loop_over_t_res_177974 = sub64(zm_lhs_177973, (int64_t) 1);
                    
                    loop_over_177972 = loop_over_t_res_177974;
                } else {
                    loop_over_177972 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_177975;
                int64_t defunc_0_f_res_177976;
                int64_t defunc_0_f_res_177977;
                int64_t defunc_0_f_res_177978;
                bool loop_while_177979;
                int64_t p_177980;
                int64_t p_177981;
                int64_t p_177982;
                
                loop_while_177979 = 1;
                p_177980 = loop_over_177972;
                p_177981 = loop_over_177969;
                p_177982 = loop_over_177970;
                while (loop_while_177979) {
                    int64_t zs_lhs_177983 = sub64(p_177981, p_177980);
                    int64_t offset_177984 = sdiv64(zs_lhs_177983, (int64_t) 2);
                    int64_t ai_177985 = sub64(p_177981, offset_177984);
                    int64_t max_arg1_177986 = add64(p_177982, offset_177984);
                    int64_t max_res_177987 = smax64((int64_t) 0, max_arg1_177986);
                    bool cond_177988 = slt64((int64_t) 0, max_res_177987);
                    int16_t b_prev_177989;
                    
                    if (cond_177988) {
                        int64_t tmp_177990 = sub64(max_res_177987, (int64_t) 1);
                        bool x_177991 = sle64((int64_t) 0, tmp_177990);
                        bool y_177992 = slt64(tmp_177990, window_sizze_120140);
                        bool bounds_check_177993 = x_177991 && y_177992;
                        bool index_certs_177994;
                        
                        if (!bounds_check_177993) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177990, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_177995 = p_174497 + tmp_177990;
                        int16_t b_prev_t_res_177996 = ((int16_t *) b_list_mem_179987.mem)[slice_177995];
                        
                        b_prev_177989 = b_prev_t_res_177996;
                    } else {
                        b_prev_177989 = lowest_177961;
                    }
                    
                    bool cond_177997 = sle64(ai_177985, (int64_t) 0);
                    int64_t loopres_177998;
                    int64_t loopres_177999;
                    int64_t loopres_178000;
                    bool loopres_178001;
                    
                    if (cond_177997) {
                        loopres_177998 = p_177980;
                        loopres_177999 = (int64_t) 0;
                        loopres_178000 = max_res_177987;
                        loopres_178001 = 0;
                    } else {
                        bool cond_178002 = sle64(window_sizze_120140, max_res_177987);
                        int64_t loopres_f_res_178003;
                        int64_t loopres_f_res_178004;
                        int64_t loopres_f_res_178005;
                        bool loopres_f_res_178006;
                        
                        if (cond_178002) {
                            int64_t min_res_178008 = smin64(m_174485, ai_177985);
                            bool x_178009 = sle64((int64_t) 0, m_174485);
                            bool y_178010 = slt64(m_174485, window_sizze_120140);
                            bool bounds_check_178011 = x_178009 && y_178010;
                            bool index_certs_178012;
                            
                            if (!bounds_check_178011) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174485, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_178015 = sle64((int64_t) 0, min_res_178008);
                            bool y_178016 = slt64(min_res_178008, window_sizze_120140);
                            bool bounds_check_178017 = x_178015 && y_178016;
                            bool index_certs_178018;
                            
                            if (!bounds_check_178017) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178008, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int16_t leq_lhs_178014 = ((int16_t *) b_list_mem_179987.mem)[i_p_m_t_s_174513];
                            int64_t slice_178019 = p_174496 + min_res_178008;
                            int16_t leq_rhs_178020 = ((int16_t *) a_list_mem_179986.mem)[slice_178019];
                            bool defunc_0_leq_res_178021 = sle16(leq_lhs_178014, leq_rhs_178020);
                            int64_t loopres_f_res_t_res_178022;
                            
                            if (defunc_0_leq_res_178021) {
                                loopres_f_res_t_res_178022 = ai_177985;
                            } else {
                                loopres_f_res_t_res_178022 = p_177981;
                            }
                            
                            bool x_178023 = !defunc_0_leq_res_178021;
                            int64_t loopres_f_res_t_res_178024;
                            
                            if (defunc_0_leq_res_178021) {
                                loopres_f_res_t_res_178024 = window_sizze_120140;
                            } else {
                                int64_t tmp_178025 = sub64(m_174485, offset_177984);
                                
                                loopres_f_res_t_res_178024 = tmp_178025;
                            }
                            loopres_f_res_178003 = p_177980;
                            loopres_f_res_178004 = loopres_f_res_t_res_178022;
                            loopres_f_res_178005 = loopres_f_res_t_res_178024;
                            loopres_f_res_178006 = x_178023;
                        } else {
                            bool cond_178026 = sle64(window_sizze_120140, ai_177985);
                            int64_t loopres_f_res_f_res_178027;
                            int64_t loopres_f_res_f_res_178028;
                            int64_t loopres_f_res_f_res_178029;
                            bool loopres_f_res_f_res_178030;
                            
                            if (cond_178026) {
                                int64_t min_res_178032 = smin64(m_174485, max_res_177987);
                                bool x_178033 = sle64((int64_t) 0, m_174485);
                                bool y_178034 = slt64(m_174485, window_sizze_120140);
                                bool bounds_check_178035 = x_178033 && y_178034;
                                bool index_certs_178036;
                                
                                if (!bounds_check_178035) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174485, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178039 = sle64((int64_t) 0, min_res_178032);
                                bool y_178040 = slt64(min_res_178032, window_sizze_120140);
                                bool bounds_check_178041 = x_178039 && y_178040;
                                bool index_certs_178042;
                                
                                if (!bounds_check_178041) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178032, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int16_t leq_lhs_178038 = ((int16_t *) a_list_mem_179986.mem)[i_p_m_t_s_174502];
                                int64_t slice_178043 = p_174497 + min_res_178032;
                                int16_t leq_rhs_178044 = ((int16_t *) b_list_mem_179987.mem)[slice_178043];
                                bool defunc_0_leq_res_178045 = sle16(leq_lhs_178038, leq_rhs_178044);
                                int64_t loopres_f_res_f_res_t_res_178046;
                                
                                if (defunc_0_leq_res_178045) {
                                    loopres_f_res_f_res_t_res_178046 = max_res_177987;
                                } else {
                                    loopres_f_res_f_res_t_res_178046 = p_177982;
                                }
                                
                                bool x_178047 = !defunc_0_leq_res_178045;
                                int64_t loopres_f_res_f_res_t_res_178048;
                                
                                if (defunc_0_leq_res_178045) {
                                    loopres_f_res_f_res_t_res_178048 = window_sizze_120140;
                                } else {
                                    loopres_f_res_f_res_t_res_178048 = m_174485;
                                }
                                loopres_f_res_f_res_178027 = p_177980;
                                loopres_f_res_f_res_178028 = loopres_f_res_f_res_t_res_178048;
                                loopres_f_res_f_res_178029 = loopres_f_res_f_res_t_res_178046;
                                loopres_f_res_f_res_178030 = x_178047;
                            } else {
                                bool cond_178049 = sle64(p_177981, p_177980);
                                int64_t loopres_f_res_f_res_f_res_178050;
                                int64_t loopres_f_res_f_res_f_res_178051;
                                int64_t loopres_f_res_f_res_f_res_178052;
                                bool loopres_f_res_f_res_f_res_178053;
                                
                                if (cond_178049) {
                                    bool cond_178054 = slt64(ai_177985, window_sizze_120140);
                                    int64_t ai_178055;
                                    
                                    if (cond_178054) {
                                        ai_178055 = ai_177985;
                                    } else {
                                        ai_178055 = m_174485;
                                    }
                                    
                                    bool x_178068 = sle64((int64_t) 0, ai_178055);
                                    bool y_178069 = slt64(ai_178055, window_sizze_120140);
                                    bool bounds_check_178070 = x_178068 && y_178069;
                                    bool index_certs_178071;
                                    
                                    if (!bounds_check_178070) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178055, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int16_t b_prev_178057;
                                    
                                    if (cond_177988) {
                                        int64_t tmp_178058 = sub64(max_res_177987, (int64_t) 1);
                                        bool x_178059 = sle64((int64_t) 0, tmp_178058);
                                        bool y_178060 = slt64(tmp_178058, window_sizze_120140);
                                        bool bounds_check_178061 = x_178059 && y_178060;
                                        bool index_certs_178062;
                                        
                                        if (!bounds_check_178061) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178058, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178063 = p_174497 + tmp_178058;
                                        int16_t b_prev_t_res_178064 = ((int16_t *) b_list_mem_179987.mem)[slice_178063];
                                        
                                        b_prev_178057 = b_prev_t_res_178064;
                                    } else {
                                        bool index_certs_178066;
                                        
                                        if (!y_175513) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_178057 = leq_rhs_177959;
                                    }
                                    
                                    int64_t slice_178072 = p_174496 + ai_178055;
                                    int16_t gt_lhs_178073 = ((int16_t *) a_list_mem_179986.mem)[slice_178072];
                                    bool defunc_0_gt_res_178074 = slt16(b_prev_178057, gt_lhs_178073);
                                    int64_t defunc_0_partFunc_sequential_search_res_178075;
                                    int64_t defunc_0_partFunc_sequential_search_res_178076;
                                    
                                    if (defunc_0_gt_res_178074) {
                                        int64_t zl_rhs_178077 = sub64(window_sizze_120140, max_res_177987);
                                        bool loop_cond_178078 = slt64((int64_t) 0, zl_rhs_178077);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_178079;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178080;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178081;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178082;
                                        bool loop_while_178083;
                                        int64_t p_178084;
                                        int64_t p_178085;
                                        int64_t p_178086;
                                        
                                        loop_while_178083 = loop_cond_178078;
                                        p_178084 = ai_178055;
                                        p_178085 = max_res_177987;
                                        p_178086 = (int64_t) 0;
                                        while (loop_while_178083) {
                                            int64_t i_a_178087 = sub64(ai_178055, p_178086);
                                            int64_t i_b_178088 = add64(max_res_177987, p_178086);
                                            int64_t leq_lhs_178089 = sub64(i_a_178087, (int64_t) 1);
                                            bool x_178090 = sle64((int64_t) 0, leq_lhs_178089);
                                            bool y_178091 = slt64(leq_lhs_178089, window_sizze_120140);
                                            bool bounds_check_178092 = x_178090 && y_178091;
                                            bool index_certs_178093;
                                            
                                            if (!bounds_check_178092) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178089, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178096 = sle64((int64_t) 0, i_b_178088);
                                            bool y_178097 = slt64(i_b_178088, window_sizze_120140);
                                            bool bounds_check_178098 = x_178096 && y_178097;
                                            bool index_certs_178099;
                                            
                                            if (!bounds_check_178098) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178088, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178094 = p_174496 + leq_lhs_178089;
                                            int16_t leq_lhs_178095 = ((int16_t *) a_list_mem_179986.mem)[slice_178094];
                                            int64_t slice_178100 = p_174497 + i_b_178088;
                                            int16_t leq_rhs_178101 = ((int16_t *) b_list_mem_179987.mem)[slice_178100];
                                            bool defunc_0_leq_res_178102 = sle16(leq_lhs_178095, leq_rhs_178101);
                                            int64_t loopres_178103;
                                            
                                            if (defunc_0_leq_res_178102) {
                                                loopres_178103 = i_a_178087;
                                            } else {
                                                loopres_178103 = ai_178055;
                                            }
                                            
                                            int64_t loopres_178104;
                                            
                                            if (defunc_0_leq_res_178102) {
                                                loopres_178104 = i_b_178088;
                                            } else {
                                                loopres_178104 = max_res_177987;
                                            }
                                            
                                            int64_t loopres_178105;
                                            
                                            if (defunc_0_leq_res_178102) {
                                                loopres_178105 = zl_rhs_178077;
                                            } else {
                                                int64_t tmp_178106 = add64((int64_t) 1, p_178086);
                                                
                                                loopres_178105 = tmp_178106;
                                            }
                                            
                                            bool loop_cond_178107 = slt64(loopres_178105, zl_rhs_178077);
                                            bool loop_while_tmp_181419 = loop_cond_178107;
                                            int64_t p_tmp_181420 = loopres_178103;
                                            int64_t p_tmp_181421 = loopres_178104;
                                            int64_t p_tmp_181422 = loopres_178105;
                                            
                                            loop_while_178083 = loop_while_tmp_181419;
                                            p_178084 = p_tmp_181420;
                                            p_178085 = p_tmp_181421;
                                            p_178086 = p_tmp_181422;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_178079 = loop_while_178083;
                                        defunc_0_partFunc_sequential_search_res_t_res_178080 = p_178084;
                                        defunc_0_partFunc_sequential_search_res_t_res_178081 = p_178085;
                                        defunc_0_partFunc_sequential_search_res_t_res_178082 = p_178086;
                                        defunc_0_partFunc_sequential_search_res_178075 = defunc_0_partFunc_sequential_search_res_t_res_178080;
                                        defunc_0_partFunc_sequential_search_res_178076 = defunc_0_partFunc_sequential_search_res_t_res_178081;
                                    } else {
                                        int64_t zl_rhs_178108 = sub64(max_res_177987, (int64_t) 1);
                                        bool loop_cond_178109 = slt64((int64_t) 0, zl_rhs_178108);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_178110;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178111;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178112;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178113;
                                        bool loop_while_178114;
                                        int64_t p_178115;
                                        int64_t p_178116;
                                        int64_t p_178117;
                                        
                                        loop_while_178114 = loop_cond_178109;
                                        p_178115 = ai_178055;
                                        p_178116 = max_res_177987;
                                        p_178117 = (int64_t) 0;
                                        while (loop_while_178114) {
                                            int64_t zp_lhs_178118 = add64(ai_178055, p_178117);
                                            int64_t hi_a_178119 = add64((int64_t) 1, zp_lhs_178118);
                                            bool cond_178120 = slt64(hi_a_178119, window_sizze_120140);
                                            int64_t i_a_178121;
                                            
                                            if (cond_178120) {
                                                i_a_178121 = hi_a_178119;
                                            } else {
                                                i_a_178121 = m_174485;
                                            }
                                            
                                            int64_t zm_lhs_178123 = sub64(max_res_177987, p_178117);
                                            int64_t i_b_178124 = sub64(zm_lhs_178123, (int64_t) 1);
                                            bool x_178125 = sle64((int64_t) 0, i_a_178121);
                                            bool y_178126 = slt64(i_a_178121, window_sizze_120140);
                                            bool bounds_check_178127 = x_178125 && y_178126;
                                            bool index_certs_178128;
                                            
                                            if (!bounds_check_178127) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_178121, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178131 = sle64((int64_t) 0, i_b_178124);
                                            bool y_178132 = slt64(i_b_178124, window_sizze_120140);
                                            bool bounds_check_178133 = x_178131 && y_178132;
                                            bool index_certs_178134;
                                            
                                            if (!bounds_check_178133) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178124, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178129 = p_174496 + i_a_178121;
                                            int16_t gt_lhs_178130 = ((int16_t *) a_list_mem_179986.mem)[slice_178129];
                                            int64_t slice_178135 = p_174497 + i_b_178124;
                                            int16_t gt_rhs_178136 = ((int16_t *) b_list_mem_179987.mem)[slice_178135];
                                            bool defunc_0_gt_res_178137 = slt16(gt_rhs_178136, gt_lhs_178130);
                                            int64_t loopres_178138;
                                            
                                            if (defunc_0_gt_res_178137) {
                                                loopres_178138 = i_a_178121;
                                            } else {
                                                loopres_178138 = ai_178055;
                                            }
                                            
                                            int64_t loopres_178139;
                                            
                                            if (defunc_0_gt_res_178137) {
                                                loopres_178139 = zm_lhs_178123;
                                            } else {
                                                loopres_178139 = max_res_177987;
                                            }
                                            
                                            int64_t loopres_178140;
                                            
                                            if (defunc_0_gt_res_178137) {
                                                loopres_178140 = zl_rhs_178108;
                                            } else {
                                                int64_t tmp_178141 = add64((int64_t) 1, p_178117);
                                                
                                                loopres_178140 = tmp_178141;
                                            }
                                            
                                            bool loop_cond_178142 = slt64(loopres_178140, zl_rhs_178108);
                                            bool loop_while_tmp_181423 = loop_cond_178142;
                                            int64_t p_tmp_181424 = loopres_178138;
                                            int64_t p_tmp_181425 = loopres_178139;
                                            int64_t p_tmp_181426 = loopres_178140;
                                            
                                            loop_while_178114 = loop_while_tmp_181423;
                                            p_178115 = p_tmp_181424;
                                            p_178116 = p_tmp_181425;
                                            p_178117 = p_tmp_181426;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_178110 = loop_while_178114;
                                        defunc_0_partFunc_sequential_search_res_f_res_178111 = p_178115;
                                        defunc_0_partFunc_sequential_search_res_f_res_178112 = p_178116;
                                        defunc_0_partFunc_sequential_search_res_f_res_178113 = p_178117;
                                        defunc_0_partFunc_sequential_search_res_178075 = defunc_0_partFunc_sequential_search_res_f_res_178111;
                                        defunc_0_partFunc_sequential_search_res_178076 = defunc_0_partFunc_sequential_search_res_f_res_178112;
                                    }
                                    loopres_f_res_f_res_f_res_178050 = p_177980;
                                    loopres_f_res_f_res_f_res_178051 = defunc_0_partFunc_sequential_search_res_178075;
                                    loopres_f_res_f_res_f_res_178052 = defunc_0_partFunc_sequential_search_res_178076;
                                    loopres_f_res_f_res_f_res_178053 = 0;
                                } else {
                                    bool x_178143 = sle64((int64_t) 0, ai_177985);
                                    bool y_178144 = slt64(ai_177985, window_sizze_120140);
                                    bool bounds_check_178145 = x_178143 && y_178144;
                                    bool index_certs_178146;
                                    
                                    if (!bounds_check_178145) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_177985, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178147 = p_174496 + ai_177985;
                                    int16_t gt_lhs_178148 = ((int16_t *) a_list_mem_179986.mem)[slice_178147];
                                    bool defunc_0_gt_res_178149 = slt16(b_prev_177989, gt_lhs_178148);
                                    int64_t loopres_f_res_f_res_f_res_f_res_178150;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178151;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178152;
                                    bool loopres_f_res_f_res_f_res_f_res_178153;
                                    
                                    if (defunc_0_gt_res_178149) {
                                        int64_t leq_lhs_178154 = sub64(ai_177985, (int64_t) 1);
                                        bool x_178155 = sle64((int64_t) 0, leq_lhs_178154);
                                        bool y_178156 = slt64(leq_lhs_178154, window_sizze_120140);
                                        bool bounds_check_178157 = x_178155 && y_178156;
                                        bool index_certs_178158;
                                        
                                        if (!bounds_check_178157) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178154, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178161 = sle64((int64_t) 0, max_res_177987);
                                        bool y_178162 = slt64(max_res_177987, window_sizze_120140);
                                        bool bounds_check_178163 = x_178161 && y_178162;
                                        bool index_certs_178164;
                                        
                                        if (!bounds_check_178163) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_177987, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178159 = p_174496 + leq_lhs_178154;
                                        int16_t leq_lhs_178160 = ((int16_t *) a_list_mem_179986.mem)[slice_178159];
                                        int64_t slice_178165 = p_174497 + max_res_177987;
                                        int16_t leq_rhs_178166 = ((int16_t *) b_list_mem_179987.mem)[slice_178165];
                                        bool defunc_0_leq_res_178167 = sle16(leq_lhs_178160, leq_rhs_178166);
                                        bool x_178168 = !defunc_0_leq_res_178167;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178169;
                                        
                                        if (defunc_0_leq_res_178167) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178169 = ai_177985;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178169 = leq_lhs_178154;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178170;
                                        
                                        if (defunc_0_leq_res_178167) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178170 = max_res_177987;
                                        } else {
                                            int64_t tmp_178171 = add64((int64_t) 1, max_res_177987);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_178170 = tmp_178171;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_178150 = p_177980;
                                        loopres_f_res_f_res_f_res_f_res_178151 = loopres_f_res_f_res_f_res_f_res_t_res_178169;
                                        loopres_f_res_f_res_f_res_f_res_178152 = loopres_f_res_f_res_f_res_f_res_t_res_178170;
                                        loopres_f_res_f_res_f_res_f_res_178153 = x_178168;
                                    } else {
                                        int64_t tmp_178172 = add64((int64_t) 1, ai_177985);
                                        
                                        loopres_f_res_f_res_f_res_f_res_178150 = tmp_178172;
                                        loopres_f_res_f_res_f_res_f_res_178151 = p_177981;
                                        loopres_f_res_f_res_f_res_f_res_178152 = p_177982;
                                        loopres_f_res_f_res_f_res_f_res_178153 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_178050 = loopres_f_res_f_res_f_res_f_res_178150;
                                    loopres_f_res_f_res_f_res_178051 = loopres_f_res_f_res_f_res_f_res_178151;
                                    loopres_f_res_f_res_f_res_178052 = loopres_f_res_f_res_f_res_f_res_178152;
                                    loopres_f_res_f_res_f_res_178053 = loopres_f_res_f_res_f_res_f_res_178153;
                                }
                                loopres_f_res_f_res_178027 = loopres_f_res_f_res_f_res_178050;
                                loopres_f_res_f_res_178028 = loopres_f_res_f_res_f_res_178051;
                                loopres_f_res_f_res_178029 = loopres_f_res_f_res_f_res_178052;
                                loopres_f_res_f_res_178030 = loopres_f_res_f_res_f_res_178053;
                            }
                            loopres_f_res_178003 = loopres_f_res_f_res_178027;
                            loopres_f_res_178004 = loopres_f_res_f_res_178028;
                            loopres_f_res_178005 = loopres_f_res_f_res_178029;
                            loopres_f_res_178006 = loopres_f_res_f_res_178030;
                        }
                        loopres_177998 = loopres_f_res_178003;
                        loopres_177999 = loopres_f_res_178004;
                        loopres_178000 = loopres_f_res_178005;
                        loopres_178001 = loopres_f_res_178006;
                    }
                    
                    bool loop_while_tmp_181415 = loopres_178001;
                    int64_t p_tmp_181416 = loopres_177998;
                    int64_t p_tmp_181417 = loopres_177999;
                    int64_t p_tmp_181418 = loopres_178000;
                    
                    loop_while_177979 = loop_while_tmp_181415;
                    p_177980 = p_tmp_181416;
                    p_177981 = p_tmp_181417;
                    p_177982 = p_tmp_181418;
                }
                defunc_0_f_res_177975 = loop_while_177979;
                defunc_0_f_res_177976 = p_177980;
                defunc_0_f_res_177977 = p_177981;
                defunc_0_f_res_177978 = p_177982;
                ((int64_t *) mem_180348)[i_179650] = defunc_0_f_res_177977;
                ((int64_t *) mem_180350)[i_179650] = defunc_0_f_res_177978;
            }
            if (mem_180365_cached_sizze_181962 < bytes_180364) {
                err = lexical_realloc(ctx, &mem_180365, &mem_180365_cached_sizze_181962, bytes_180364);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180367_cached_sizze_181963 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174535) {
                err = lexical_realloc(ctx, &mem_180367, &mem_180367_cached_sizze_181963, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174535);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180370_cached_sizze_181964 < bytes_180364) {
                err = lexical_realloc(ctx, &mem_180370, &mem_180370_cached_sizze_181964, bytes_180364);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180373_cached_sizze_181965 < bytes_180372) {
                err = lexical_realloc(ctx, &mem_180373, &mem_180373_cached_sizze_181965, bytes_180372);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_179716 = 0; i_179716 < threads_120141; i_179716++) {
                bool y_178186 = slt64(i_179716, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
                bool index_certs_178188;
                
                if (!y_178186) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179716, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178189 = sle64((int64_t) 1, i_179716);
                int64_t index_concat_i_178190 = sub64(i_179716, (int64_t) 1);
                int64_t index_concat_178191;
                
                if (index_concat_cmp_178189) {
                    int64_t x_178192 = ((int64_t *) mem_180348)[index_concat_i_178190];
                    
                    index_concat_178191 = x_178192;
                } else {
                    index_concat_178191 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178193;
                
                if (index_concat_cmp_178189) {
                    index_concat_branch_178193 = index_concat_178191;
                } else {
                    index_concat_branch_178193 = (int64_t) 0;
                }
                
                int64_t index_concat_178194;
                
                if (index_concat_cmp_178189) {
                    int64_t x_178195 = ((int64_t *) mem_180350)[index_concat_i_178190];
                    
                    index_concat_178194 = x_178195;
                } else {
                    index_concat_178194 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178196;
                
                if (index_concat_cmp_178189) {
                    index_concat_branch_178196 = index_concat_178194;
                } else {
                    index_concat_branch_178196 = (int64_t) 0;
                }
                
                int64_t ubs_178197 = add64((int64_t) 1, i_179716);
                bool x_178198 = sle64((int64_t) 0, ubs_178197);
                bool y_178199 = slt64(ubs_178197, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
                bool bounds_check_178200 = x_178198 && y_178199;
                bool index_certs_178201;
                
                if (!bounds_check_178200) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_178197, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178202 = sle64((int64_t) 1, ubs_178197);
                int64_t index_concat_178203;
                
                if (index_concat_cmp_178202) {
                    int64_t x_178204 = ((int64_t *) mem_180348)[i_179716];
                    
                    index_concat_178203 = x_178204;
                } else {
                    index_concat_178203 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178205;
                
                if (index_concat_cmp_178202) {
                    index_concat_branch_178205 = index_concat_178203;
                } else {
                    index_concat_branch_178205 = (int64_t) 0;
                }
                
                int64_t index_concat_178206;
                
                if (index_concat_cmp_178202) {
                    int64_t x_178207 = ((int64_t *) mem_180350)[i_179716];
                    
                    index_concat_178206 = x_178207;
                } else {
                    index_concat_178206 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178208;
                
                if (index_concat_cmp_178202) {
                    index_concat_branch_178208 = index_concat_178206;
                } else {
                    index_concat_branch_178208 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209 = sub64(index_concat_branch_178208, index_concat_branch_178196);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210 = sub64(index_concat_branch_178205, index_concat_branch_178193);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                int64_t zm_lhs_178212 = add64(index_concat_branch_178205, index_concat_branch_178208);
                int64_t zm_rhs_178213 = add64(index_concat_branch_178193, index_concat_branch_178196);
                int64_t card_178214 = sub64(zm_lhs_178212, zm_rhs_178213);
                bool empty_slice_178215 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210 == (int64_t) 0;
                int64_t m_178216 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, (int64_t) 1);
                int64_t i_p_m_t_s_178217 = add64(index_concat_branch_178193, m_178216);
                bool zzero_leq_i_p_m_t_s_178218 = sle64((int64_t) 0, i_p_m_t_s_178217);
                bool i_p_m_t_s_leq_w_178219 = slt64(i_p_m_t_s_178217, window_sizze_120140);
                bool zzero_lte_i_178220 = sle64((int64_t) 0, index_concat_branch_178193);
                bool i_lte_j_178221 = sle64(index_concat_branch_178193, index_concat_branch_178205);
                bool y_178222 = i_p_m_t_s_leq_w_178219 && zzero_lte_i_178220;
                bool y_178223 = zzero_leq_i_p_m_t_s_178218 && y_178222;
                bool forwards_ok_178224 = i_lte_j_178221 && y_178223;
                bool ok_or_empty_178225 = empty_slice_178215 || forwards_ok_178224;
                bool index_certs_178226;
                
                if (!ok_or_empty_178225) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178193, ":", (long long) index_concat_branch_178205, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178227 = slt64(index_concat_branch_178205, index_concat_branch_178193);
                bool valid_178228 = !bounds_invalid_upwards_178227;
                bool range_valid_c_178229;
                
                if (!valid_178228) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178193, "..<", (long long) index_concat_branch_178205, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_178234 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209 == (int64_t) 0;
                int64_t m_178235 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209, (int64_t) 1);
                int64_t i_p_m_t_s_178236 = add64(index_concat_branch_178196, m_178235);
                bool zzero_leq_i_p_m_t_s_178237 = sle64((int64_t) 0, i_p_m_t_s_178236);
                bool i_p_m_t_s_leq_w_178238 = slt64(i_p_m_t_s_178236, window_sizze_120140);
                bool zzero_lte_i_178239 = sle64((int64_t) 0, index_concat_branch_178196);
                bool i_lte_j_178240 = sle64(index_concat_branch_178196, index_concat_branch_178208);
                bool y_178241 = i_p_m_t_s_leq_w_178238 && zzero_lte_i_178239;
                bool y_178242 = zzero_leq_i_p_m_t_s_178237 && y_178241;
                bool forwards_ok_178243 = i_lte_j_178240 && y_178242;
                bool ok_or_empty_178244 = empty_slice_178234 || forwards_ok_178243;
                bool index_certs_178245;
                
                if (!ok_or_empty_178244) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178196, ":", (long long) index_concat_branch_178208, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178246 = slt64(index_concat_branch_178208, index_concat_branch_178196);
                bool valid_178247 = !bounds_invalid_upwards_178246;
                bool range_valid_c_178248;
                
                if (!valid_178247) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178196, "..<", (long long) index_concat_branch_178208, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180402 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211;
                int64_t bytes_180404 = (int64_t) 2 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211;
                bool cond_178256 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, (int64_t) 1);
                int64_t zs_lhs_178257 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, (int64_t) 1);
                int64_t zp_rhs_178258 = sdiv_safe64(zs_lhs_178257, (int64_t) 20);
                int64_t min_num_blocks_178259 = add64((int64_t) 1, zp_rhs_178258);
                bool loop_cond_178260 = slt64((int64_t) 1, min_num_blocks_178259);
                bool smallest_pow_2_geq_than_res_178261;
                int64_t smallest_pow_2_geq_than_res_178262;
                bool loop_while_178263;
                int64_t x_178264;
                
                loop_while_178263 = loop_cond_178260;
                x_178264 = (int64_t) 1;
                while (loop_while_178263) {
                    int64_t loopres_178265 = mul64((int64_t) 2, x_178264);
                    bool loop_cond_178266 = slt64(loopres_178265, min_num_blocks_178259);
                    bool loop_while_tmp_181431 = loop_cond_178266;
                    int64_t x_tmp_181432 = loopres_178265;
                    
                    loop_while_178263 = loop_while_tmp_181431;
                    x_178264 = x_tmp_181432;
                }
                smallest_pow_2_geq_than_res_178261 = loop_while_178263;
                smallest_pow_2_geq_than_res_178262 = x_178264;
                
                bool zzero_178267 = smallest_pow_2_geq_than_res_178262 == (int64_t) 0;
                bool nonzzero_178268 = !zzero_178267;
                bool protect_assert_disj_178269 = cond_178256 || nonzzero_178268;
                bool nonzzero_cert_178270;
                
                if (!protect_assert_disj_178269) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_178271 = sdiv_safe64(zs_lhs_178257, smallest_pow_2_geq_than_res_178262);
                int64_t block_sizze_178272 = add64((int64_t) 1, zp_rhs_178271);
                bool y_178279 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211);
                bool protect_assert_disj_181148 = cond_178256 || y_178279;
                bool index_certs_178280;
                
                if (!protect_assert_disj_181148) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178317 = slt64(smallest_pow_2_geq_than_res_178262, (int64_t) 0);
                bool valid_178318 = !bounds_invalid_upwards_178317;
                bool protect_assert_disj_181158 = cond_178256 || valid_178318;
                bool range_valid_c_178319;
                
                if (!protect_assert_disj_181158) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_178262, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:371:63-73\n   #6  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178321 = slt64(block_sizze_178272, (int64_t) 0);
                bool valid_178322 = !bounds_invalid_upwards_178321;
                bool protect_assert_disj_181160 = cond_178256 || valid_178322;
                bool range_valid_c_178323;
                
                if (!protect_assert_disj_181160) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_178272, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_178325 = sle64(block_sizze_178272, (int64_t) 1);
                int64_t tmp_178326 = sub64(block_sizze_178272, (int64_t) 2);
                bool bounds_invalid_upwards_178327 = slt64(tmp_178326, (int64_t) 0);
                bool valid_178329 = !bounds_invalid_upwards_178327;
                bool protect_assert_disj_178330 = cond_178325 || valid_178329;
                bool protect_assert_disj_181162 = cond_178256 || protect_assert_disj_178330;
                bool range_valid_c_178331;
                
                if (!protect_assert_disj_181162) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_178326, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_178911 = card_178214 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211;
                bool empty_or_match_cert_178912;
                
                if (!dim_match_178911) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "] cannot match shape of type `[", (long long) card_178214, "](i8, i64, i16)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_178913 = card_178214 == (int64_t) 0;
                int64_t m_178914 = sub64(card_178214, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_178915 = sle64((int64_t) 0, m_178914);
                bool i_p_m_t_s_leq_w_178916 = slt64(m_178914, card_178214);
                bool y_178917 = zzero_leq_i_p_m_t_s_178915 && i_p_m_t_s_leq_w_178916;
                bool ok_or_empty_178918 = empty_slice_178913 || y_178917;
                bool index_certs_178919;
                
                if (!ok_or_empty_178918) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178214, "] out of bounds for array of shape [", (long long) card_178214, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_178920 = slt64(m_178914, perThread_174534);
                bool y_178921 = zzero_leq_i_p_m_t_s_178915 && i_p_m_t_s_leq_w_178920;
                bool ok_or_empty_178922 = empty_slice_178913 || y_178921;
                bool index_certs_178923;
                
                if (!ok_or_empty_178922) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178214, "] out of bounds for array of shape [", (long long) perThread_174534, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_181433 = 0; nest_i_181433 < perThread_174534; nest_i_181433++) {
                    ((int8_t *) mem_180367)[i_179716 * perThread_174534 + nest_i_181433] = (int8_t) -1;
                }
                for (int64_t nest_i_181434 = 0; nest_i_181434 < perThread_174534; nest_i_181434++) {
                    ((int64_t *) mem_180370)[i_179716 * perThread_174534 + nest_i_181434] = (int64_t) -1;
                }
                for (int64_t nest_i_181435 = 0; nest_i_181435 < perThread_174534; nest_i_181435++) {
                    ((int16_t *) mem_180373)[i_179716 * perThread_174534 + nest_i_181435] = (int16_t) 0;
                }
                
                int64_t slice_178230 = p_174496 + index_concat_branch_178193;
                
                if (memblock_alloc(ctx, &mem_180401, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "mem_180401")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_181436 = 0; nest_i_181436 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210; nest_i_181436++) {
                    ((int8_t *) mem_180401.mem)[nest_i_181436] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180403, bytes_180402, "mem_180403")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_181437 = 0; i_181437 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210; i_181437++) {
                    int64_t x_181438 = index_concat_branch_178193 + i_181437 * (int64_t) 1;
                    
                    ((int64_t *) mem_180403.mem)[i_181437] = x_181438;
                }
                
                int64_t slice_178249 = p_174497 + index_concat_branch_178196;
                
                for (int64_t nest_i_181439 = 0; nest_i_181439 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209; nest_i_181439++) {
                    ((int8_t *) mem_180401.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210 + nest_i_181439] = (int8_t) 1;
                }
                for (int64_t i_181440 = 0; i_181440 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209; i_181440++) {
                    int64_t x_181441 = index_concat_branch_178196 + i_181440 * (int64_t) 1;
                    
                    ((int64_t *) mem_180403.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210 + i_181440] = x_181441;
                }
                
                int64_t tmp_offs_181442 = (int64_t) 0;
                
                if (!(tmp_offs_181442 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180401.mem, tmp_offs_181442, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180401.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210});
                }
                tmp_offs_181442 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210;
                if (!(tmp_offs_181442 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180401.mem, tmp_offs_181442, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180401.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209});
                }
                tmp_offs_181442 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209;
                
                int64_t tmp_offs_181443 = (int64_t) 0;
                
                if (!(tmp_offs_181443 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180403.mem, tmp_offs_181443, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180403.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210});
                }
                tmp_offs_181443 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210;
                if (!(tmp_offs_181443 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180403.mem, tmp_offs_181443, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180403.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209});
                }
                tmp_offs_181443 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209;
                if (memblock_alloc(ctx, &mem_180405, bytes_180404, "mem_180405")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_181444 = (int64_t) 0;
                
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_180405.mem, tmp_offs_181444, (int64_t []) {(int64_t) 1}, (uint16_t *) a_list_mem_179986.mem, slice_178230, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210});
                tmp_offs_181444 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_180405.mem, tmp_offs_181444, (int64_t []) {(int64_t) 1}, (uint16_t *) b_list_mem_179987.mem, slice_178249, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209});
                tmp_offs_181444 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178209;
                
                int64_t flat_dim_178273 = smallest_pow_2_geq_than_res_178262 * block_sizze_178272;
                bool x_181143 = !cond_178256;
                int64_t greatest_divisor_leq_than_arg1_178277 = mul64((int64_t) 2, block_sizze_178272);
                int64_t merge_block_sizze_178278;
                
                if (x_181143) {
                    int64_t x_181145;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181145, (int64_t) 8, greatest_divisor_leq_than_arg1_178277) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_178278 = x_181145;
                } else {
                    merge_block_sizze_178278 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178281 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, (int64_t) 0);
                int8_t index_concat_branch_178282 = btoi_bool_i8(index_concat_cmp_178281);
                int64_t index_concat_i_178284 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                int64_t index_primexp_178285 = add64(index_concat_branch_178196, index_concat_i_178284);
                int64_t index_concat_branch_178283;
                
                if (index_concat_cmp_178281) {
                    index_concat_branch_178283 = index_primexp_178285;
                } else {
                    index_concat_branch_178283 = index_concat_branch_178193;
                }
                
                bool x_181139 = !index_concat_cmp_178281;
                bool protect_cond_conj_181149 = x_181139 && x_181143;
                int16_t index_concat_178291;
                
                if (protect_cond_conj_181149) {
                    int16_t x_181141 = ((int16_t *) a_list_mem_179986.mem)[slice_178230];
                    
                    index_concat_178291 = x_181141;
                } else {
                    index_concat_178291 = (int16_t) 0;
                }
                
                int64_t slice_178289 = p_174497 + index_primexp_178285;
                bool protect_cond_conj_181150 = index_concat_cmp_178281 && x_181143;
                int16_t index_concat_178290;
                
                if (protect_cond_conj_181150) {
                    int16_t x_181137 = ((int16_t *) b_list_mem_179987.mem)[slice_178289];
                    
                    index_concat_178290 = x_181137;
                } else {
                    index_concat_178290 = (int16_t) 0;
                }
                
                int16_t index_concat_branch_178286;
                
                if (index_concat_cmp_178281) {
                    index_concat_branch_178286 = index_concat_178290;
                } else {
                    index_concat_branch_178286 = index_concat_178291;
                }
                
                int8_t defunc_0_reduce_res_178292;
                int64_t defunc_0_reduce_res_178293;
                int16_t defunc_0_reduce_res_178294;
                
                if (x_181143) {
                    int8_t x_181151;
                    int64_t x_181152;
                    int16_t x_181153;
                    int8_t redout_179653;
                    int64_t redout_179654;
                    int16_t redout_179655;
                    
                    redout_179653 = index_concat_branch_178282;
                    redout_179654 = index_concat_branch_178283;
                    redout_179655 = index_concat_branch_178286;
                    for (int64_t i_179656 = 0; i_179656 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211; i_179656++) {
                        bool index_concat_cmp_179914 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, i_179656);
                        int8_t index_concat_branch_179918 = btoi_bool_i8(index_concat_cmp_179914);
                        int64_t index_concat_branch_179912;
                        
                        if (index_concat_cmp_179914) {
                            int64_t index_concat_i_179909 = sub64(i_179656, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                            int64_t index_primexp_179962 = add64(index_concat_branch_178196, index_concat_i_179909);
                            
                            index_concat_branch_179912 = index_primexp_179962;
                        } else {
                            int64_t index_primexp_179964 = add64(index_concat_branch_178193, i_179656);
                            
                            index_concat_branch_179912 = index_primexp_179964;
                        }
                        
                        int16_t index_concat_branch_179906;
                        
                        if (index_concat_cmp_179914) {
                            int64_t index_concat_i_179903 = sub64(i_179656, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                            int64_t slice_179959 = slice_178249 + index_concat_i_179903;
                            int16_t index_concat_179904 = ((int16_t *) b_list_mem_179987.mem)[slice_179959];
                            
                            index_concat_branch_179906 = index_concat_179904;
                        } else {
                            int64_t slice_179960 = slice_178230 + i_179656;
                            int16_t index_concat_179905 = ((int16_t *) a_list_mem_179986.mem)[slice_179960];
                            
                            index_concat_branch_179906 = index_concat_179905;
                        }
                        
                        bool eq_x_y_179976 = redout_179653 == (int8_t) 1;
                        bool eq_x_zz_179977 = redout_179653 == (int8_t) 0;
                        bool p_and_eq_x_y_179978 = index_concat_cmp_179914 && eq_x_y_179976;
                        bool not_p_179979 = !index_concat_cmp_179914;
                        bool p_and_eq_x_y_179980 = eq_x_zz_179977 && not_p_179979;
                        bool cond_178304 = p_and_eq_x_y_179978 || p_and_eq_x_y_179980;
                        bool defunc_0_leq_res_t_res_178305 = sle64(redout_179654, index_concat_branch_179912);
                        bool defunc_0_leq_res_178306 = sle16(redout_179655, index_concat_branch_179906);
                        bool x_178307 = cond_178304 && defunc_0_leq_res_t_res_178305;
                        bool x_178308 = !cond_178304;
                        bool y_178309 = defunc_0_leq_res_178306 && x_178308;
                        bool defunc_0_leq_res_178310 = x_178307 || y_178309;
                        int8_t defunc_0_op_res_178311;
                        
                        if (defunc_0_leq_res_178310) {
                            defunc_0_op_res_178311 = index_concat_branch_179918;
                        } else {
                            defunc_0_op_res_178311 = redout_179653;
                        }
                        
                        int64_t defunc_0_op_res_178312;
                        
                        if (defunc_0_leq_res_178310) {
                            defunc_0_op_res_178312 = index_concat_branch_179912;
                        } else {
                            defunc_0_op_res_178312 = redout_179654;
                        }
                        
                        int16_t defunc_0_op_res_178313;
                        
                        if (defunc_0_leq_res_178310) {
                            defunc_0_op_res_178313 = index_concat_branch_179906;
                        } else {
                            defunc_0_op_res_178313 = redout_179655;
                        }
                        
                        int8_t redout_tmp_181445 = defunc_0_op_res_178311;
                        int64_t redout_tmp_181446 = defunc_0_op_res_178312;
                        int16_t redout_tmp_181447 = defunc_0_op_res_178313;
                        
                        redout_179653 = redout_tmp_181445;
                        redout_179654 = redout_tmp_181446;
                        redout_179655 = redout_tmp_181447;
                    }
                    x_181151 = redout_179653;
                    x_181152 = redout_179654;
                    x_181153 = redout_179655;
                    defunc_0_reduce_res_178292 = x_181151;
                    defunc_0_reduce_res_178293 = x_181152;
                    defunc_0_reduce_res_178294 = x_181153;
                } else {
                    defunc_0_reduce_res_178292 = (int8_t) 0;
                    defunc_0_reduce_res_178293 = (int64_t) 0;
                    defunc_0_reduce_res_178294 = (int16_t) 0;
                }
                
                int64_t distance_178328 = add64((int64_t) 1, tmp_178326);
                int64_t binop_x_180408 = (int64_t) 8 * smallest_pow_2_geq_than_res_178262;
                int64_t bytes_180409 = block_sizze_178272 * binop_x_180408;
                int64_t binop_x_180411 = (int64_t) 2 * smallest_pow_2_geq_than_res_178262;
                int64_t bytes_180412 = block_sizze_178272 * binop_x_180411;
                int64_t bytes_180427 = (int64_t) 8 * block_sizze_178272;
                bool loop_cond_178454 = slt64(block_sizze_178272, flat_dim_178273);
                bool zzero_178455 = merge_block_sizze_178278 == (int64_t) 0;
                bool nonzzero_178456 = !zzero_178455;
                
                if (cond_178256) {
                    if (memblock_set(ctx, &ext_mem_180700, &mem_180401, "mem_180401") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180697, &mem_180403, "mem_180403") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180694, &mem_180405, "mem_180405") != 0)
                        return 1;
                } else {
                    if (mem_180407_cached_sizze_181966 < flat_dim_178273) {
                        err = lexical_realloc(ctx, &mem_180407, &mem_180407_cached_sizze_181966, flat_dim_178273);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180410_cached_sizze_181967 < bytes_180409) {
                        err = lexical_realloc(ctx, &mem_180410, &mem_180410_cached_sizze_181967, bytes_180409);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180413_cached_sizze_181968 < bytes_180412) {
                        err = lexical_realloc(ctx, &mem_180413, &mem_180413_cached_sizze_181968, bytes_180412);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180426_cached_sizze_181969 < block_sizze_178272) {
                        err = lexical_realloc(ctx, &mem_180426, &mem_180426_cached_sizze_181969, block_sizze_178272);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180428_cached_sizze_181970 < bytes_180427) {
                        err = lexical_realloc(ctx, &mem_180428, &mem_180428_cached_sizze_181970, bytes_180427);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180430_cached_sizze_181971 < greatest_divisor_leq_than_arg1_178277) {
                        err = lexical_realloc(ctx, &mem_180430, &mem_180430_cached_sizze_181971, greatest_divisor_leq_than_arg1_178277);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179673 = 0; i_179673 < smallest_pow_2_geq_than_res_178262; i_179673++) {
                        int64_t zp_lhs_178336 = mul64(block_sizze_178272, i_179673);
                        
                        for (int64_t i_179663 = 0; i_179663 < block_sizze_178272; i_179663++) {
                            int64_t k_178341 = add64(zp_lhs_178336, i_179663);
                            bool cond_178342 = slt64(k_178341, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211);
                            int8_t lifted_lambda_res_178343;
                            int64_t lifted_lambda_res_178344;
                            int16_t lifted_lambda_res_178345;
                            
                            if (cond_178342) {
                                bool x_178346 = sle64((int64_t) 0, k_178341);
                                bool bounds_check_178347 = cond_178342 && x_178346;
                                bool index_certs_178348;
                                
                                if (!bounds_check_178347) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_178341, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_178349 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210, k_178341);
                                int8_t index_concat_branch_178350 = btoi_bool_i8(index_concat_cmp_178349);
                                int64_t index_concat_branch_178351;
                                
                                if (index_concat_cmp_178349) {
                                    int64_t index_concat_i_178352 = sub64(k_178341, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                                    int64_t index_primexp_178353 = add64(index_concat_branch_178196, index_concat_i_178352);
                                    
                                    index_concat_branch_178351 = index_primexp_178353;
                                } else {
                                    int64_t index_primexp_178354 = add64(index_concat_branch_178193, k_178341);
                                    
                                    index_concat_branch_178351 = index_primexp_178354;
                                }
                                
                                int16_t index_concat_branch_178355;
                                
                                if (index_concat_cmp_178349) {
                                    int64_t index_concat_i_178356 = sub64(k_178341, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178210);
                                    int64_t slice_178357 = index_concat_branch_178196 + index_concat_i_178356;
                                    int64_t slice_178358 = p_174497 + slice_178357;
                                    int16_t index_concat_178359 = ((int16_t *) b_list_mem_179987.mem)[slice_178358];
                                    
                                    index_concat_branch_178355 = index_concat_178359;
                                } else {
                                    int64_t slice_178360 = index_concat_branch_178193 + k_178341;
                                    int64_t slice_178361 = p_174496 + slice_178360;
                                    int16_t index_concat_178362 = ((int16_t *) a_list_mem_179986.mem)[slice_178361];
                                    
                                    index_concat_branch_178355 = index_concat_178362;
                                }
                                lifted_lambda_res_178343 = index_concat_branch_178350;
                                lifted_lambda_res_178344 = index_concat_branch_178351;
                                lifted_lambda_res_178345 = index_concat_branch_178355;
                            } else {
                                lifted_lambda_res_178343 = defunc_0_reduce_res_178292;
                                lifted_lambda_res_178344 = defunc_0_reduce_res_178293;
                                lifted_lambda_res_178345 = defunc_0_reduce_res_178294;
                            }
                            ((int8_t *) mem_180426)[i_179663] = lifted_lambda_res_178343;
                            ((int64_t *) mem_180428)[i_179663] = lifted_lambda_res_178344;
                            ((int16_t *) mem_180430)[i_179663] = lifted_lambda_res_178345;
                        }
                        if (!cond_178325) {
                            for (int64_t i_178372 = 0; i_178372 < distance_178328; i_178372++) {
                                int64_t gt_arg1_178376 = add64((int64_t) 1, i_178372);
                                bool x_178377 = sle64((int64_t) 0, gt_arg1_178376);
                                bool y_178378 = slt64(gt_arg1_178376, block_sizze_178272);
                                bool bounds_check_178379 = x_178377 && y_178378;
                                bool index_certs_178380;
                                
                                if (!bounds_check_178379) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_178376, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_178384 = slt64(i_178372, block_sizze_178272);
                                bool index_certs_178385;
                                
                                if (!y_178384) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178372, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_178381 = ((int8_t *) mem_180426)[gt_arg1_178376];
                                int64_t gt_arg1_178382 = ((int64_t *) mem_180428)[gt_arg1_178376];
                                int16_t gt_arg1_178383 = ((int16_t *) mem_180430)[gt_arg1_178376];
                                int8_t gt_arg0_178386 = ((int8_t *) mem_180426)[i_178372];
                                int64_t gt_arg0_178387 = ((int64_t *) mem_180428)[i_178372];
                                int16_t gt_arg0_178388 = ((int16_t *) mem_180430)[i_178372];
                                bool cond_178389 = gt_arg0_178386 == gt_arg1_178381;
                                bool defunc_0_leq_res_t_res_178390 = sle64(gt_arg0_178387, gt_arg1_178382);
                                bool defunc_0_leq_res_178391 = sle16(gt_arg0_178388, gt_arg1_178383);
                                bool x_178392 = cond_178389 && defunc_0_leq_res_t_res_178390;
                                bool x_178393 = !cond_178389;
                                bool y_178394 = defunc_0_leq_res_178391 && x_178393;
                                bool defunc_0_leq_res_178395 = x_178392 || y_178394;
                                bool defunc_0_lifted_gt_res_178396 = !defunc_0_leq_res_178395;
                                bool s_178397;
                                int64_t s_178401;
                                bool loop_while_178402;
                                int64_t j_178406;
                                
                                loop_while_178402 = defunc_0_lifted_gt_res_178396;
                                j_178406 = i_178372;
                                while (loop_while_178402) {
                                    bool x_178407 = sle64((int64_t) 0, j_178406);
                                    bool y_178408 = slt64(j_178406, block_sizze_178272);
                                    bool bounds_check_178409 = x_178407 && y_178408;
                                    bool index_certs_178410;
                                    
                                    if (!bounds_check_178409) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178406, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_178414 = add64((int64_t) 1, j_178406);
                                    bool x_178415 = sle64((int64_t) 0, copy_arg0_178414);
                                    bool y_178416 = slt64(copy_arg0_178414, block_sizze_178272);
                                    bool bounds_check_178417 = x_178415 && y_178416;
                                    bool index_certs_178418;
                                    
                                    if (!bounds_check_178417) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_178414, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_178411 = ((int8_t *) mem_180426)[j_178406];
                                    int64_t copy_arg0_178412 = ((int64_t *) mem_180428)[j_178406];
                                    int16_t copy_arg0_178413 = ((int16_t *) mem_180430)[j_178406];
                                    int8_t copy_arg0_178419 = ((int8_t *) mem_180426)[copy_arg0_178414];
                                    int64_t copy_arg0_178420 = ((int64_t *) mem_180428)[copy_arg0_178414];
                                    int16_t copy_arg0_178421 = ((int16_t *) mem_180430)[copy_arg0_178414];
                                    
                                    ((int8_t *) mem_180426)[j_178406] = copy_arg0_178419;
                                    ((int64_t *) mem_180428)[j_178406] = copy_arg0_178420;
                                    ((int16_t *) mem_180430)[j_178406] = copy_arg0_178421;
                                    ((int8_t *) mem_180426)[copy_arg0_178414] = copy_arg0_178411;
                                    ((int64_t *) mem_180428)[copy_arg0_178414] = copy_arg0_178412;
                                    ((int16_t *) mem_180430)[copy_arg0_178414] = copy_arg0_178413;
                                    
                                    int64_t tmp_178428 = sub64(j_178406, (int64_t) 1);
                                    bool cond_178429 = sle64((int64_t) 0, tmp_178428);
                                    bool loop_cond_178430;
                                    
                                    if (cond_178429) {
                                        bool y_178434 = slt64(tmp_178428, block_sizze_178272);
                                        bool bounds_check_178435 = cond_178429 && y_178434;
                                        bool index_certs_178436;
                                        
                                        if (!bounds_check_178435) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178428, "] out of bounds for array of shape [", (long long) block_sizze_178272, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_178431 = ((int8_t *) mem_180426)[j_178406];
                                        int64_t gt_arg1_178432 = ((int64_t *) mem_180428)[j_178406];
                                        int16_t gt_arg1_178433 = ((int16_t *) mem_180430)[j_178406];
                                        int8_t gt_arg0_178437 = ((int8_t *) mem_180426)[tmp_178428];
                                        int64_t gt_arg0_178438 = ((int64_t *) mem_180428)[tmp_178428];
                                        int16_t gt_arg0_178439 = ((int16_t *) mem_180430)[tmp_178428];
                                        bool cond_178440 = gt_arg0_178437 == gt_arg1_178431;
                                        bool defunc_0_leq_res_t_res_178441 = sle64(gt_arg0_178438, gt_arg1_178432);
                                        bool defunc_0_leq_res_178442 = sle16(gt_arg0_178439, gt_arg1_178433);
                                        bool x_178443 = cond_178440 && defunc_0_leq_res_t_res_178441;
                                        bool x_178444 = !cond_178440;
                                        bool y_178445 = defunc_0_leq_res_178442 && x_178444;
                                        bool defunc_0_leq_res_178446 = x_178443 || y_178445;
                                        bool defunc_0_lifted_gt_res_178447 = !defunc_0_leq_res_178446;
                                        
                                        loop_cond_178430 = defunc_0_lifted_gt_res_178447;
                                    } else {
                                        loop_cond_178430 = 0;
                                    }
                                    
                                    bool loop_while_tmp_181457 = loop_cond_178430;
                                    int64_t j_tmp_181461 = tmp_178428;
                                    
                                    loop_while_178402 = loop_while_tmp_181457;
                                    j_178406 = j_tmp_181461;
                                }
                                s_178397 = loop_while_178402;
                                s_178401 = j_178406;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180407, i_179673 * block_sizze_178272, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180426, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178272});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180410, i_179673 * block_sizze_178272, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180428, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178272});
                        lmad_copy_2b(ctx, 1, (uint16_t *) mem_180413, i_179673 * block_sizze_178272, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_180430, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178272});
                    }
                    if (memblock_alloc(ctx, &mem_180507, flat_dim_178273, "mem_180507")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180507.mem, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (uint8_t *) mem_180407, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178262, block_sizze_178272});
                    if (memblock_alloc(ctx, &mem_180511, bytes_180409, "mem_180511")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180511.mem, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (uint64_t *) mem_180410, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178262, block_sizze_178272});
                    if (memblock_alloc(ctx, &mem_180515, bytes_180412, "mem_180515")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_180515.mem, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (uint16_t *) mem_180413, (int64_t) 0, (int64_t []) {block_sizze_178272, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178262, block_sizze_178272});
                    
                    int64_t data_178457;
                    bool data_178458;
                    int64_t data_178462;
                    int64_t loop_dz2084Uz2082U_178463;
                    bool loop_while_178464;
                    int64_t stride_178468;
                    
                    if (memblock_set(ctx, &mem_param_180519, &mem_180507, "mem_180507") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180522, &mem_180511, "mem_180511") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180525, &mem_180515, "mem_180515") != 0)
                        return 1;
                    loop_dz2084Uz2082U_178463 = flat_dim_178273;
                    loop_while_178464 = loop_cond_178454;
                    stride_178468 = block_sizze_178272;
                    while (loop_while_178464) {
                        int64_t next_stride_178469 = mul64((int64_t) 2, stride_178468);
                        bool zzero_178470 = next_stride_178469 == (int64_t) 0;
                        bool nonzzero_178471 = !zzero_178470;
                        bool nonzzero_cert_178472;
                        
                        if (!nonzzero_178471) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_178473 = sdiv64(flat_dim_178273, next_stride_178469);
                        bool bounds_invalid_upwards_178474 = slt64(num_merges_178473, (int64_t) 0);
                        bool valid_178475 = !bounds_invalid_upwards_178474;
                        bool range_valid_c_178476;
                        
                        if (!valid_178475) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_178473, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:371:63-73\n   #6  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_178478 = sub64(next_stride_178469, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_178479 = sle64((int64_t) 0, m_178478);
                        bool cond_178481 = slt64(next_stride_178469, (int64_t) 10);
                        bool protect_assert_disj_178482 = nonzzero_178456 || cond_178481;
                        bool nonzzero_cert_178483;
                        
                        if (!protect_assert_disj_178482) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_178484 = smod_safe64(next_stride_178469, merge_block_sizze_178278);
                        bool num_blocks_178485 = zeze_lhs_178484 == (int64_t) 0;
                        bool protect_assert_disj_178486 = cond_178481 || num_blocks_178485;
                        bool assert_c_178487;
                        
                        if (!protect_assert_disj_178486) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_178488 = sdiv_safe64(next_stride_178469, merge_block_sizze_178278);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489 = add64((int64_t) 1, num_blocks_178488);
                        int64_t j_m_i_178490 = sub64(next_stride_178469, stride_178468);
                        int64_t flat_dim_178491 = merge_block_sizze_178278 * num_blocks_178488;
                        bool bounds_invalid_upwards_178492 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489, (int64_t) 0);
                        bool empty_slice_178493 = j_m_i_178490 == (int64_t) 0;
                        int64_t m_178494 = sub64(j_m_i_178490, (int64_t) 1);
                        bool zzero_lte_i_178495 = sle64((int64_t) 0, stride_178468);
                        bool i_lte_j_178496 = sle64(stride_178468, next_stride_178469);
                        bool empty_slice_178497 = stride_178468 == (int64_t) 0;
                        int64_t m_178498 = sub64(stride_178468, (int64_t) 1);
                        bool bounds_invalid_upwards_178499 = slt64(num_blocks_178488, (int64_t) 0);
                        bool cond_178500 = slt64((int64_t) 0, stride_178468);
                        bool valid_178501 = !bounds_invalid_upwards_178492;
                        int64_t i_p_m_t_s_178502 = add64(stride_178468, m_178494);
                        bool zzero_leq_i_p_m_t_s_178503 = sle64((int64_t) 0, m_178498);
                        bool i_p_m_t_s_leq_w_178504 = slt64(m_178498, next_stride_178469);
                        bool valid_178505 = !bounds_invalid_upwards_178499;
                        bool i_p_m_t_s_leq_w_178506 = slt64(m_178478, flat_dim_178491);
                        bool y_178507 = slt64((int64_t) 0, j_m_i_178490);
                        bool protect_assert_disj_178508 = cond_178481 || valid_178501;
                        bool range_valid_c_178509;
                        
                        if (!protect_assert_disj_178508) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_178510 = sle64((int64_t) 0, i_p_m_t_s_178502);
                        bool i_p_m_t_s_leq_w_178511 = slt64(i_p_m_t_s_178502, next_stride_178469);
                        bool y_178512 = zzero_leq_i_p_m_t_s_178503 && i_p_m_t_s_leq_w_178504;
                        bool protect_assert_disj_178513 = cond_178481 || valid_178505;
                        bool range_valid_c_178514;
                        
                        if (!protect_assert_disj_178513) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_178488, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_178515 = zzero_leq_i_p_m_t_s_178479 && i_p_m_t_s_leq_w_178506;
                        bool y_178516 = zzero_lte_i_178495 && i_p_m_t_s_leq_w_178511;
                        bool forwards_ok_178517 = zzero_lte_i_178495 && y_178512;
                        bool ok_or_empty_178518 = zzero_178470 || y_178515;
                        bool protect_assert_disj_178519 = cond_178500 || y_178507;
                        bool y_178520 = zzero_leq_i_p_m_t_s_178510 && y_178516;
                        bool ok_or_empty_178521 = empty_slice_178497 || forwards_ok_178517;
                        bool protect_assert_disj_178522 = cond_178481 || ok_or_empty_178518;
                        bool index_certs_178523;
                        
                        if (!protect_assert_disj_178522) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_178469, "] out of bounds for array of shape [", (long long) flat_dim_178491, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_178524 = !cond_178481;
                        bool protect_assert_disj_178525 = protect_assert_disj_178519 || loop_not_taken_178524;
                        bool index_certs_178526;
                        
                        if (!protect_assert_disj_178525) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_178527 = i_lte_j_178496 && y_178520;
                        bool protect_assert_disj_178528 = cond_178481 || ok_or_empty_178521;
                        bool index_certs_178529;
                        
                        if (!protect_assert_disj_178528) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_178468, "] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_178530 = ok_or_empty_178521 || loop_not_taken_178524;
                        bool index_certs_178531;
                        
                        if (!protect_assert_disj_178530) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_178468, "] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_178532 = empty_slice_178493 || forwards_ok_178527;
                        bool protect_assert_disj_178533 = cond_178481 || ok_or_empty_178532;
                        bool index_certs_178534;
                        
                        if (!protect_assert_disj_178533) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_178468, ":] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_178535 = loop_not_taken_178524 || ok_or_empty_178532;
                        bool index_certs_178536;
                        
                        if (!protect_assert_disj_178535) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_178468, ":] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180526 = next_stride_178469 * num_merges_178473;
                        int64_t binop_x_180528 = (int64_t) 8 * num_merges_178473;
                        int64_t bytes_180529 = next_stride_178469 * binop_x_180528;
                        int64_t binop_x_180531 = (int64_t) 2 * num_merges_178473;
                        int64_t bytes_180532 = next_stride_178469 * binop_x_180531;
                        bool i_lte_j_178480 = sle64((int64_t) 0, next_stride_178469);
                        
                        if (mem_180527_cached_sizze_181972 < bytes_180526) {
                            err = lexical_realloc(ctx, &mem_180527, &mem_180527_cached_sizze_181972, bytes_180526);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180530_cached_sizze_181973 < bytes_180529) {
                            err = lexical_realloc(ctx, &mem_180530, &mem_180530_cached_sizze_181973, bytes_180529);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180533_cached_sizze_181974 < bytes_180532) {
                            err = lexical_realloc(ctx, &mem_180533, &mem_180533_cached_sizze_181974, bytes_180532);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180546 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489;
                        int64_t binop_x_180564 = (int64_t) 8 * num_blocks_178488;
                        int64_t bytes_180565 = merge_block_sizze_178278 * binop_x_180564;
                        int64_t binop_x_180567 = (int64_t) 2 * num_blocks_178488;
                        int64_t bytes_180568 = merge_block_sizze_178278 * binop_x_180567;
                        int64_t bytes_180629 = (int64_t) 16 * stride_178468;
                        int64_t bytes_180631 = (int64_t) 4 * stride_178468;
                        
                        for (int64_t i_179700 = 0; i_179700 < num_merges_178473; i_179700++) {
                            int64_t start_178541 = mul64(next_stride_178469, i_179700);
                            int64_t j_m_i_178542 = sub64(loop_dz2084Uz2082U_178463, start_178541);
                            bool empty_slice_178543 = j_m_i_178542 == (int64_t) 0;
                            int64_t m_178544 = sub64(j_m_i_178542, (int64_t) 1);
                            int64_t i_p_m_t_s_178545 = add64(start_178541, m_178544);
                            bool zzero_leq_i_p_m_t_s_178546 = sle64((int64_t) 0, i_p_m_t_s_178545);
                            bool i_p_m_t_s_leq_w_178547 = slt64(i_p_m_t_s_178545, loop_dz2084Uz2082U_178463);
                            bool zzero_lte_i_178548 = sle64((int64_t) 0, start_178541);
                            bool i_lte_j_178549 = sle64(start_178541, loop_dz2084Uz2082U_178463);
                            bool y_178550 = i_p_m_t_s_leq_w_178547 && zzero_lte_i_178548;
                            bool y_178551 = zzero_leq_i_p_m_t_s_178546 && y_178550;
                            bool forwards_ok_178552 = i_lte_j_178549 && y_178551;
                            bool ok_or_empty_178553 = empty_slice_178543 || forwards_ok_178552;
                            bool index_certs_178554;
                            
                            if (!ok_or_empty_178553) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_178541, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_178463, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_178555 = slt64(m_178478, j_m_i_178542);
                            bool y_178556 = zzero_leq_i_p_m_t_s_178479 && i_p_m_t_s_leq_w_178555;
                            bool forwards_ok_178557 = i_lte_j_178480 && y_178556;
                            bool ok_or_empty_178558 = zzero_178470 || forwards_ok_178557;
                            bool index_certs_178559;
                            
                            if (!ok_or_empty_178558) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_178469, "] out of bounds for array of shape [", (long long) j_m_i_178542, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_178481) {
                                int8_t dummy_178563;
                                int64_t dummy_178564;
                                int16_t dummy_178565;
                                
                                if (cond_178500) {
                                    int8_t head_res_178566 = ((int8_t *) mem_param_180519.mem)[start_178541];
                                    int64_t head_res_178567 = ((int64_t *) mem_param_180522.mem)[start_178541];
                                    int16_t head_res_178568 = ((int16_t *) mem_param_180525.mem)[start_178541];
                                    
                                    dummy_178563 = head_res_178566;
                                    dummy_178564 = head_res_178567;
                                    dummy_178565 = head_res_178568;
                                } else {
                                    int64_t slice_178569 = stride_178468 + start_178541;
                                    int8_t head_res_178570 = ((int8_t *) mem_param_180519.mem)[slice_178569];
                                    int64_t head_res_178571 = ((int64_t *) mem_param_180522.mem)[slice_178569];
                                    int16_t head_res_178572 = ((int16_t *) mem_param_180525.mem)[slice_178569];
                                    
                                    dummy_178563 = head_res_178570;
                                    dummy_178564 = head_res_178571;
                                    dummy_178565 = head_res_178572;
                                }
                                if (memblock_alloc(ctx, &mem_180628, next_stride_178469, "mem_180628")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181474 = 0; nest_i_181474 < next_stride_178469; nest_i_181474++) {
                                    ((int8_t *) mem_180628.mem)[nest_i_181474] = dummy_178563;
                                }
                                if (memblock_alloc(ctx, &mem_180630, bytes_180629, "mem_180630")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181475 = 0; nest_i_181475 < next_stride_178469; nest_i_181475++) {
                                    ((int64_t *) mem_180630.mem)[nest_i_181475] = dummy_178564;
                                }
                                if (memblock_alloc(ctx, &mem_180632, bytes_180631, "mem_180632")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181476 = 0; nest_i_181476 < next_stride_178469; nest_i_181476++) {
                                    ((int16_t *) mem_180632.mem)[nest_i_181476] = dummy_178565;
                                }
                                
                                int64_t data_178576;
                                int64_t i_178581 = (int64_t) 0;
                                
                                for (int64_t k_178580 = 0; k_178580 < next_stride_178469; k_178580++) {
                                    int64_t j_178585 = sub64(k_178580, i_178581);
                                    bool cond_178586 = j_178585 == j_m_i_178490;
                                    bool cond_178587;
                                    
                                    if (cond_178586) {
                                        cond_178587 = 1;
                                    } else {
                                        bool cond_178588 = slt64(i_178581, stride_178468);
                                        bool cond_f_res_178589;
                                        
                                        if (cond_178588) {
                                            bool x_178590 = sle64((int64_t) 0, j_178585);
                                            bool y_178591 = slt64(j_178585, j_m_i_178490);
                                            bool bounds_check_178592 = x_178590 && y_178591;
                                            bool index_certs_178593;
                                            
                                            if (!bounds_check_178592) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178585, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178599 = sle64((int64_t) 0, i_178581);
                                            bool bounds_check_178600 = cond_178588 && x_178599;
                                            bool index_certs_178601;
                                            
                                            if (!bounds_check_178600) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178581, "] out of bounds for array of shape [", (long long) stride_178468, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178594 = stride_178468 + j_178585;
                                            int64_t slice_178595 = start_178541 + slice_178594;
                                            int8_t leq_arg1_178596 = ((int8_t *) mem_param_180519.mem)[slice_178595];
                                            int64_t leq_arg1_178597 = ((int64_t *) mem_param_180522.mem)[slice_178595];
                                            int16_t leq_arg1_178598 = ((int16_t *) mem_param_180525.mem)[slice_178595];
                                            int64_t slice_178602 = start_178541 + i_178581;
                                            int8_t leq_arg0_178603 = ((int8_t *) mem_param_180519.mem)[slice_178602];
                                            int64_t leq_arg0_178604 = ((int64_t *) mem_param_180522.mem)[slice_178602];
                                            int16_t leq_arg0_178605 = ((int16_t *) mem_param_180525.mem)[slice_178602];
                                            bool cond_178606 = leq_arg0_178603 == leq_arg1_178596;
                                            bool defunc_0_leq_res_t_res_178607 = sle64(leq_arg0_178604, leq_arg1_178597);
                                            bool defunc_0_leq_res_178608 = sle16(leq_arg0_178605, leq_arg1_178598);
                                            bool x_178609 = cond_178606 && defunc_0_leq_res_t_res_178607;
                                            bool x_178610 = !cond_178606;
                                            bool y_178611 = defunc_0_leq_res_178608 && x_178610;
                                            bool defunc_0_leq_res_178612 = x_178609 || y_178611;
                                            
                                            cond_f_res_178589 = defunc_0_leq_res_178612;
                                        } else {
                                            cond_f_res_178589 = 0;
                                        }
                                        cond_178587 = cond_f_res_178589;
                                    }
                                    
                                    int64_t loopres_178613;
                                    int8_t loopres_178614;
                                    int64_t loopres_178615;
                                    int16_t loopres_178616;
                                    
                                    if (cond_178587) {
                                        bool x_178618 = sle64((int64_t) 0, i_178581);
                                        bool y_178619 = slt64(i_178581, stride_178468);
                                        bool bounds_check_178620 = x_178618 && y_178619;
                                        bool index_certs_178621;
                                        
                                        if (!bounds_check_178620) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178581, "] out of bounds for array of shape [", (long long) stride_178468, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_178617 = add64((int64_t) 1, i_178581);
                                        int64_t slice_178622 = start_178541 + i_178581;
                                        int8_t tmp_178623 = ((int8_t *) mem_param_180519.mem)[slice_178622];
                                        int64_t tmp_178624 = ((int64_t *) mem_param_180522.mem)[slice_178622];
                                        int16_t tmp_178625 = ((int16_t *) mem_param_180525.mem)[slice_178622];
                                        
                                        loopres_178613 = tmp_178617;
                                        loopres_178614 = tmp_178623;
                                        loopres_178615 = tmp_178624;
                                        loopres_178616 = tmp_178625;
                                    } else {
                                        bool x_178626 = sle64((int64_t) 0, j_178585);
                                        bool y_178627 = slt64(j_178585, j_m_i_178490);
                                        bool bounds_check_178628 = x_178626 && y_178627;
                                        bool index_certs_178629;
                                        
                                        if (!bounds_check_178628) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178585, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178630 = stride_178468 + j_178585;
                                        int64_t slice_178631 = start_178541 + slice_178630;
                                        int8_t tmp_178632 = ((int8_t *) mem_param_180519.mem)[slice_178631];
                                        int64_t tmp_178633 = ((int64_t *) mem_param_180522.mem)[slice_178631];
                                        int16_t tmp_178634 = ((int16_t *) mem_param_180525.mem)[slice_178631];
                                        
                                        loopres_178613 = i_178581;
                                        loopres_178614 = tmp_178632;
                                        loopres_178615 = tmp_178633;
                                        loopres_178616 = tmp_178634;
                                    }
                                    ((int8_t *) mem_180628.mem)[k_178580] = loopres_178614;
                                    ((int64_t *) mem_180630.mem)[k_178580] = loopres_178615;
                                    ((int16_t *) mem_180632.mem)[k_178580] = loopres_178616;
                                    
                                    int64_t i_tmp_181477 = loopres_178613;
                                    
                                    i_178581 = i_tmp_181477;
                                }
                                data_178576 = i_178581;
                                if (memblock_set(ctx, &ext_mem_180659, &mem_180628, "mem_180628") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180656, &mem_180630, "mem_180630") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180653, &mem_180632, "mem_180632") != 0)
                                    return 1;
                            } else {
                                if (mem_180547_cached_sizze_181975 < bytes_180546) {
                                    err = lexical_realloc(ctx, &mem_180547, &mem_180547_cached_sizze_181975, bytes_180546);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180549_cached_sizze_181976 < bytes_180546) {
                                    err = lexical_realloc(ctx, &mem_180549, &mem_180549_cached_sizze_181976, bytes_180546);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179681 = 0; i_179681 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489; i_179681++) {
                                    int64_t split_count_arg3_178642 = mul64(merge_block_sizze_178278, i_179681);
                                    int64_t defunc_0_split_count_res_178643;
                                    int64_t defunc_0_split_count_res_178644;
                                    int64_t defunc_0_split_count_res_178645;
                                    int64_t defunc_0_split_count_res_178646;
                                    int64_t defunc_0_split_count_res_178647;
                                    
                                    if (futrts_lifted_normalizze_8970(ctx, &defunc_0_split_count_res_178643, &defunc_0_split_count_res_178644, &defunc_0_split_count_res_178645, &defunc_0_split_count_res_178646, &defunc_0_split_count_res_178647, (int64_t) 0, stride_178468, (int64_t) 0, j_m_i_178490, split_count_arg3_178642) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_178648 = slt64((int64_t) 0, defunc_0_split_count_res_178647);
                                    bool defunc_0_split_count_res_178649;
                                    int64_t defunc_0_split_count_res_178650;
                                    int64_t defunc_0_split_count_res_178651;
                                    int64_t defunc_0_split_count_res_178652;
                                    int64_t defunc_0_split_count_res_178653;
                                    int64_t defunc_0_split_count_res_178654;
                                    bool loop_while_178655;
                                    int64_t ss_178656;
                                    int64_t ss_178657;
                                    int64_t tt_178658;
                                    int64_t tt_178659;
                                    int64_t count_178660;
                                    
                                    loop_while_178655 = loop_cond_178648;
                                    ss_178656 = defunc_0_split_count_res_178643;
                                    ss_178657 = defunc_0_split_count_res_178644;
                                    tt_178658 = defunc_0_split_count_res_178645;
                                    tt_178659 = defunc_0_split_count_res_178646;
                                    count_178660 = defunc_0_split_count_res_178647;
                                    while (loop_while_178655) {
                                        int64_t zlze_lhs_178661 = sub64(ss_178657, ss_178656);
                                        bool cond_178662 = sle64(zlze_lhs_178661, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_178663;
                                        int64_t defunc_0_lifted_step_res_178664;
                                        int64_t defunc_0_lifted_step_res_178665;
                                        int64_t defunc_0_lifted_step_res_178666;
                                        
                                        if (cond_178662) {
                                            int64_t tmp_178667 = add64(tt_178658, count_178660);
                                            
                                            defunc_0_lifted_step_res_178663 = ss_178656;
                                            defunc_0_lifted_step_res_178664 = tmp_178667;
                                            defunc_0_lifted_step_res_178665 = tt_178659;
                                            defunc_0_lifted_step_res_178666 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_178668 = sub64(tt_178659, tt_178658);
                                            bool cond_178669 = sle64(zlze_lhs_178668, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_178670;
                                            int64_t defunc_0_lifted_step_res_f_res_178671;
                                            int64_t defunc_0_lifted_step_res_f_res_178672;
                                            int64_t defunc_0_lifted_step_res_f_res_178673;
                                            
                                            if (cond_178669) {
                                                int64_t tmp_178674 = add64(ss_178656, count_178660);
                                                
                                                defunc_0_lifted_step_res_f_res_178670 = tmp_178674;
                                                defunc_0_lifted_step_res_f_res_178671 = tt_178658;
                                                defunc_0_lifted_step_res_f_res_178672 = tt_178659;
                                                defunc_0_lifted_step_res_f_res_178673 = (int64_t) 0;
                                            } else {
                                                bool cond_178675 = count_178660 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178676;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178677;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178678;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178679;
                                                
                                                if (cond_178675) {
                                                    bool x_178680 = sle64((int64_t) 0, ss_178656);
                                                    bool y_178681 = slt64(ss_178656, stride_178468);
                                                    bool bounds_check_178682 = x_178680 && y_178681;
                                                    bool index_certs_178683;
                                                    
                                                    if (!bounds_check_178682) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_178656, "] out of bounds for array of shape [", (long long) stride_178468, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:371:63-73\n   #13 ftsort.fut:364:1-371:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_178688 = sle64((int64_t) 0, tt_178658);
                                                    bool y_178689 = slt64(tt_178658, j_m_i_178490);
                                                    bool bounds_check_178690 = x_178688 && y_178689;
                                                    bool index_certs_178691;
                                                    
                                                    if (!bounds_check_178690) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_178658, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:371:63-73\n   #13 ftsort.fut:364:1-371:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_178684 = start_178541 + ss_178656;
                                                    int8_t leq_arg1_178685 = ((int8_t *) mem_param_180519.mem)[slice_178684];
                                                    int64_t leq_arg1_178686 = ((int64_t *) mem_param_180522.mem)[slice_178684];
                                                    int16_t leq_arg1_178687 = ((int16_t *) mem_param_180525.mem)[slice_178684];
                                                    int64_t slice_178692 = stride_178468 + tt_178658;
                                                    int64_t slice_178693 = start_178541 + slice_178692;
                                                    int8_t leq_arg0_178694 = ((int8_t *) mem_param_180519.mem)[slice_178693];
                                                    int64_t leq_arg0_178695 = ((int64_t *) mem_param_180522.mem)[slice_178693];
                                                    int16_t leq_arg0_178696 = ((int16_t *) mem_param_180525.mem)[slice_178693];
                                                    bool cond_178697 = leq_arg0_178694 == leq_arg1_178685;
                                                    bool defunc_0_leq_res_t_res_178698 = sle64(leq_arg0_178695, leq_arg1_178686);
                                                    bool defunc_0_leq_res_178699 = sle16(leq_arg0_178696, leq_arg1_178687);
                                                    bool x_178700 = cond_178697 && defunc_0_leq_res_t_res_178698;
                                                    bool x_178701 = !cond_178697;
                                                    bool y_178702 = defunc_0_leq_res_178699 && x_178701;
                                                    bool defunc_0_leq_res_178703 = x_178700 || y_178702;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178704;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178705;
                                                    
                                                    if (defunc_0_leq_res_178703) {
                                                        int64_t tmp_178706 = add64((int64_t) 1, tt_178658);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178704 = ss_178656;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178705 = tmp_178706;
                                                    } else {
                                                        int64_t tmp_178707 = add64((int64_t) 1, ss_178656);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178704 = tmp_178707;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178705 = tt_178658;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_178676 = defunc_0_lifted_step_res_f_res_f_res_t_res_178704;
                                                    defunc_0_lifted_step_res_f_res_f_res_178677 = defunc_0_lifted_step_res_f_res_f_res_t_res_178705;
                                                    defunc_0_lifted_step_res_f_res_f_res_178678 = tt_178659;
                                                    defunc_0_lifted_step_res_f_res_f_res_178679 = (int64_t) 0;
                                                } else {
                                                    int64_t m_178708 = sdiv64(count_178660, (int64_t) 2);
                                                    int64_t n_178709 = sub64(count_178660, m_178708);
                                                    bool cond_178710 = n_178709 == (int64_t) 0;
                                                    int64_t zgze_lhs_178711 = add64(ss_178656, m_178708);
                                                    bool cond_f_res_178712 = sle64(ss_178657, zgze_lhs_178711);
                                                    bool x_178713 = !cond_178710;
                                                    bool y_178714 = cond_f_res_178712 && x_178713;
                                                    bool cond_178715 = cond_178710 || y_178714;
                                                    bool leq_y_x_178716;
                                                    
                                                    if (cond_178715) {
                                                        leq_y_x_178716 = 1;
                                                    } else {
                                                        bool x_178717 = sle64((int64_t) 0, zgze_lhs_178711);
                                                        bool y_178718 = slt64(zgze_lhs_178711, stride_178468);
                                                        bool bounds_check_178719 = x_178717 && y_178718;
                                                        bool index_certs_178720;
                                                        
                                                        if (!bounds_check_178719) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_178711, "] out of bounds for array of shape [", (long long) stride_178468, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:371:63-73\n   #13 ftsort.fut:364:1-371:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_178725 = add64(tt_178658, n_178709);
                                                        int64_t leq_arg0_178726 = sub64(zm_lhs_178725, (int64_t) 1);
                                                        bool x_178727 = sle64((int64_t) 0, leq_arg0_178726);
                                                        bool y_178728 = slt64(leq_arg0_178726, j_m_i_178490);
                                                        bool bounds_check_178729 = x_178727 && y_178728;
                                                        bool index_certs_178730;
                                                        
                                                        if (!bounds_check_178729) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_178726, "] out of bounds for array of shape [", (long long) j_m_i_178490, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:371:63-73\n   #13 ftsort.fut:364:1-371:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_178721 = start_178541 + zgze_lhs_178711;
                                                        int8_t leq_arg1_178722 = ((int8_t *) mem_param_180519.mem)[slice_178721];
                                                        int64_t leq_arg1_178723 = ((int64_t *) mem_param_180522.mem)[slice_178721];
                                                        int16_t leq_arg1_178724 = ((int16_t *) mem_param_180525.mem)[slice_178721];
                                                        int64_t slice_178731 = stride_178468 + leq_arg0_178726;
                                                        int64_t slice_178732 = start_178541 + slice_178731;
                                                        int8_t leq_arg0_178733 = ((int8_t *) mem_param_180519.mem)[slice_178732];
                                                        int64_t leq_arg0_178734 = ((int64_t *) mem_param_180522.mem)[slice_178732];
                                                        int16_t leq_arg0_178735 = ((int16_t *) mem_param_180525.mem)[slice_178732];
                                                        bool cond_178736 = leq_arg0_178733 == leq_arg1_178722;
                                                        bool defunc_0_leq_res_t_res_178737 = sle64(leq_arg0_178734, leq_arg1_178723);
                                                        bool defunc_0_leq_res_178738 = sle16(leq_arg0_178735, leq_arg1_178724);
                                                        bool x_178739 = cond_178736 && defunc_0_leq_res_t_res_178737;
                                                        bool x_178740 = !cond_178736;
                                                        bool y_178741 = defunc_0_leq_res_178738 && x_178740;
                                                        bool defunc_0_leq_res_178742 = x_178739 || y_178741;
                                                        
                                                        leq_y_x_178716 = defunc_0_leq_res_178742;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178743;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178744;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178745;
                                                    
                                                    if (leq_y_x_178716) {
                                                        int64_t tmp_178746 = add64(tt_178658, n_178709);
                                                        int64_t tmp_178747 = sub64(count_178660, n_178709);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178743 = tmp_178746;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178744 = tt_178659;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178745 = tmp_178747;
                                                    } else {
                                                        int64_t tmp_178748 = add64(tt_178658, n_178709);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178743 = tt_178658;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178744 = tmp_178748;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_178745 = count_178660;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_178676 = ss_178656;
                                                    defunc_0_lifted_step_res_f_res_f_res_178677 = defunc_0_lifted_step_res_f_res_f_res_f_res_178743;
                                                    defunc_0_lifted_step_res_f_res_f_res_178678 = defunc_0_lifted_step_res_f_res_f_res_f_res_178744;
                                                    defunc_0_lifted_step_res_f_res_f_res_178679 = defunc_0_lifted_step_res_f_res_f_res_f_res_178745;
                                                }
                                                defunc_0_lifted_step_res_f_res_178670 = defunc_0_lifted_step_res_f_res_f_res_178676;
                                                defunc_0_lifted_step_res_f_res_178671 = defunc_0_lifted_step_res_f_res_f_res_178677;
                                                defunc_0_lifted_step_res_f_res_178672 = defunc_0_lifted_step_res_f_res_f_res_178678;
                                                defunc_0_lifted_step_res_f_res_178673 = defunc_0_lifted_step_res_f_res_f_res_178679;
                                            }
                                            defunc_0_lifted_step_res_178663 = defunc_0_lifted_step_res_f_res_178670;
                                            defunc_0_lifted_step_res_178664 = defunc_0_lifted_step_res_f_res_178671;
                                            defunc_0_lifted_step_res_178665 = defunc_0_lifted_step_res_f_res_178672;
                                            defunc_0_lifted_step_res_178666 = defunc_0_lifted_step_res_f_res_178673;
                                        }
                                        
                                        int64_t loopres_178749;
                                        int64_t loopres_178750;
                                        int64_t loopres_178751;
                                        int64_t loopres_178752;
                                        int64_t loopres_178753;
                                        
                                        if (futrts_lifted_normalizze_8970(ctx, &loopres_178749, &loopres_178750, &loopres_178751, &loopres_178752, &loopres_178753, defunc_0_lifted_step_res_178663, ss_178657, defunc_0_lifted_step_res_178664, defunc_0_lifted_step_res_178665, defunc_0_lifted_step_res_178666) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_178754 = slt64((int64_t) 0, loopres_178753);
                                        bool loop_while_tmp_181483 = loop_cond_178754;
                                        int64_t ss_tmp_181484 = loopres_178749;
                                        int64_t ss_tmp_181485 = loopres_178750;
                                        int64_t tt_tmp_181486 = loopres_178751;
                                        int64_t tt_tmp_181487 = loopres_178752;
                                        int64_t count_tmp_181488 = loopres_178753;
                                        
                                        loop_while_178655 = loop_while_tmp_181483;
                                        ss_178656 = ss_tmp_181484;
                                        ss_178657 = ss_tmp_181485;
                                        tt_178658 = tt_tmp_181486;
                                        tt_178659 = tt_tmp_181487;
                                        count_178660 = count_tmp_181488;
                                    }
                                    defunc_0_split_count_res_178649 = loop_while_178655;
                                    defunc_0_split_count_res_178650 = ss_178656;
                                    defunc_0_split_count_res_178651 = ss_178657;
                                    defunc_0_split_count_res_178652 = tt_178658;
                                    defunc_0_split_count_res_178653 = tt_178659;
                                    defunc_0_split_count_res_178654 = count_178660;
                                    ((int64_t *) mem_180547)[i_179681] = defunc_0_split_count_res_178650;
                                    ((int64_t *) mem_180549)[i_179681] = defunc_0_split_count_res_178652;
                                }
                                if (mem_180563_cached_sizze_181977 < flat_dim_178491) {
                                    err = lexical_realloc(ctx, &mem_180563, &mem_180563_cached_sizze_181977, flat_dim_178491);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180566_cached_sizze_181978 < bytes_180565) {
                                    err = lexical_realloc(ctx, &mem_180566, &mem_180566_cached_sizze_181978, bytes_180565);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180569_cached_sizze_181979 < bytes_180568) {
                                    err = lexical_realloc(ctx, &mem_180569, &mem_180569_cached_sizze_181979, bytes_180568);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179690 = 0; i_179690 < num_blocks_178488; i_179690++) {
                                    bool y_178763 = slt64(i_179690, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489);
                                    bool index_certs_178765;
                                    
                                    if (!y_178763) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179690, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_178766 = ((int64_t *) mem_180547)[i_179690];
                                    int64_t defunc_0_f_res_178767 = ((int64_t *) mem_180549)[i_179690];
                                    int64_t tmp_178768 = add64((int64_t) 1, i_179690);
                                    bool x_178769 = sle64((int64_t) 0, tmp_178768);
                                    bool y_178770 = slt64(tmp_178768, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489);
                                    bool bounds_check_178771 = x_178769 && y_178770;
                                    bool index_certs_178772;
                                    
                                    if (!bounds_check_178771) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178768, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178489, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_178773 = ((int64_t *) mem_180547)[tmp_178768];
                                    int64_t defunc_0_f_res_178774 = ((int64_t *) mem_180549)[tmp_178768];
                                    int64_t merge_sequential_arg2_178775 = add64(stride_178468, defunc_0_f_res_178767);
                                    int64_t merge_sequential_arg2_178776 = add64(stride_178468, defunc_0_f_res_178774);
                                    int64_t j_m_i_178777 = sub64(merge_sequential_arg2_178776, merge_sequential_arg2_178775);
                                    bool empty_slice_178778 = j_m_i_178777 == (int64_t) 0;
                                    int64_t m_178779 = sub64(j_m_i_178777, (int64_t) 1);
                                    int64_t i_p_m_t_s_178780 = add64(merge_sequential_arg2_178775, m_178779);
                                    bool zzero_leq_i_p_m_t_s_178781 = sle64((int64_t) 0, i_p_m_t_s_178780);
                                    bool i_p_m_t_s_leq_w_178782 = slt64(i_p_m_t_s_178780, next_stride_178469);
                                    bool zzero_lte_i_178783 = sle64((int64_t) 0, merge_sequential_arg2_178775);
                                    bool i_lte_j_178784 = sle64(merge_sequential_arg2_178775, merge_sequential_arg2_178776);
                                    bool y_178785 = i_p_m_t_s_leq_w_178782 && zzero_lte_i_178783;
                                    bool y_178786 = zzero_leq_i_p_m_t_s_178781 && y_178785;
                                    bool forwards_ok_178787 = i_lte_j_178784 && y_178786;
                                    bool ok_or_empty_178788 = empty_slice_178778 || forwards_ok_178787;
                                    bool index_certs_178789;
                                    
                                    if (!ok_or_empty_178788) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_178775, ":", (long long) merge_sequential_arg2_178776, "] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_178790 = sub64(defunc_0_f_res_178773, defunc_0_f_res_178766);
                                    bool empty_slice_178791 = j_m_i_178790 == (int64_t) 0;
                                    int64_t m_178792 = sub64(j_m_i_178790, (int64_t) 1);
                                    int64_t i_p_m_t_s_178793 = add64(defunc_0_f_res_178766, m_178792);
                                    bool zzero_leq_i_p_m_t_s_178794 = sle64((int64_t) 0, i_p_m_t_s_178793);
                                    bool i_p_m_t_s_leq_w_178795 = slt64(i_p_m_t_s_178793, next_stride_178469);
                                    bool zzero_lte_i_178796 = sle64((int64_t) 0, defunc_0_f_res_178766);
                                    bool i_lte_j_178797 = sle64(defunc_0_f_res_178766, defunc_0_f_res_178773);
                                    bool y_178798 = i_p_m_t_s_leq_w_178795 && zzero_lte_i_178796;
                                    bool y_178799 = zzero_leq_i_p_m_t_s_178794 && y_178798;
                                    bool forwards_ok_178800 = i_lte_j_178797 && y_178799;
                                    bool ok_or_empty_178801 = empty_slice_178791 || forwards_ok_178800;
                                    bool index_certs_178802;
                                    
                                    if (!ok_or_empty_178801) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_178766, ":", (long long) defunc_0_f_res_178773, "] out of bounds for array of shape [", (long long) next_stride_178469, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_178803 = slt64((int64_t) 0, j_m_i_178790);
                                    int8_t dummy_178804;
                                    int64_t dummy_178805;
                                    int16_t dummy_178806;
                                    
                                    if (cond_178803) {
                                        bool index_certs_178807;
                                        
                                        if (!cond_178803) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178790, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178808 = start_178541 + defunc_0_f_res_178766;
                                        int8_t head_res_178809 = ((int8_t *) mem_param_180519.mem)[slice_178808];
                                        int64_t head_res_178810 = ((int64_t *) mem_param_180522.mem)[slice_178808];
                                        int16_t head_res_178811 = ((int16_t *) mem_param_180525.mem)[slice_178808];
                                        
                                        dummy_178804 = head_res_178809;
                                        dummy_178805 = head_res_178810;
                                        dummy_178806 = head_res_178811;
                                    } else {
                                        bool y_178812 = slt64((int64_t) 0, j_m_i_178777);
                                        bool index_certs_178813;
                                        
                                        if (!y_178812) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178777, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178814 = start_178541 + merge_sequential_arg2_178775;
                                        int8_t head_res_178815 = ((int8_t *) mem_param_180519.mem)[slice_178814];
                                        int64_t head_res_178816 = ((int64_t *) mem_param_180522.mem)[slice_178814];
                                        int16_t head_res_178817 = ((int16_t *) mem_param_180525.mem)[slice_178814];
                                        
                                        dummy_178804 = head_res_178815;
                                        dummy_178805 = head_res_178816;
                                        dummy_178806 = head_res_178817;
                                    }
                                    for (int64_t nest_i_181492 = 0; nest_i_181492 < merge_block_sizze_178278; nest_i_181492++) {
                                        ((int8_t *) mem_180563)[i_179690 * merge_block_sizze_178278 + nest_i_181492] = dummy_178804;
                                    }
                                    for (int64_t nest_i_181493 = 0; nest_i_181493 < merge_block_sizze_178278; nest_i_181493++) {
                                        ((int64_t *) mem_180566)[i_179690 * merge_block_sizze_178278 + nest_i_181493] = dummy_178805;
                                    }
                                    for (int64_t nest_i_181494 = 0; nest_i_181494 < merge_block_sizze_178278; nest_i_181494++) {
                                        ((int16_t *) mem_180569)[i_179690 * merge_block_sizze_178278 + nest_i_181494] = dummy_178806;
                                    }
                                    
                                    int64_t data_178821;
                                    int64_t i_178826 = (int64_t) 0;
                                    
                                    for (int64_t k_178825 = 0; k_178825 < merge_block_sizze_178278; k_178825++) {
                                        int64_t j_178830 = sub64(k_178825, i_178826);
                                        bool cond_178831 = j_178830 == j_m_i_178777;
                                        bool cond_178832;
                                        
                                        if (cond_178831) {
                                            cond_178832 = 1;
                                        } else {
                                            bool cond_178833 = slt64(i_178826, j_m_i_178790);
                                            bool cond_f_res_178834;
                                            
                                            if (cond_178833) {
                                                bool x_178835 = sle64((int64_t) 0, j_178830);
                                                bool y_178836 = slt64(j_178830, j_m_i_178777);
                                                bool bounds_check_178837 = x_178835 && y_178836;
                                                bool index_certs_178838;
                                                
                                                if (!bounds_check_178837) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178830, "] out of bounds for array of shape [", (long long) j_m_i_178777, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_178844 = sle64((int64_t) 0, i_178826);
                                                bool bounds_check_178845 = cond_178833 && x_178844;
                                                bool index_certs_178846;
                                                
                                                if (!bounds_check_178845) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178826, "] out of bounds for array of shape [", (long long) j_m_i_178790, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_178839 = merge_sequential_arg2_178775 + j_178830;
                                                int64_t slice_178840 = start_178541 + slice_178839;
                                                int8_t leq_arg1_178841 = ((int8_t *) mem_param_180519.mem)[slice_178840];
                                                int64_t leq_arg1_178842 = ((int64_t *) mem_param_180522.mem)[slice_178840];
                                                int16_t leq_arg1_178843 = ((int16_t *) mem_param_180525.mem)[slice_178840];
                                                int64_t slice_178847 = defunc_0_f_res_178766 + i_178826;
                                                int64_t slice_178848 = start_178541 + slice_178847;
                                                int8_t leq_arg0_178849 = ((int8_t *) mem_param_180519.mem)[slice_178848];
                                                int64_t leq_arg0_178850 = ((int64_t *) mem_param_180522.mem)[slice_178848];
                                                int16_t leq_arg0_178851 = ((int16_t *) mem_param_180525.mem)[slice_178848];
                                                bool cond_178852 = leq_arg0_178849 == leq_arg1_178841;
                                                bool defunc_0_leq_res_t_res_178853 = sle64(leq_arg0_178850, leq_arg1_178842);
                                                bool defunc_0_leq_res_178854 = sle16(leq_arg0_178851, leq_arg1_178843);
                                                bool x_178855 = cond_178852 && defunc_0_leq_res_t_res_178853;
                                                bool x_178856 = !cond_178852;
                                                bool y_178857 = defunc_0_leq_res_178854 && x_178856;
                                                bool defunc_0_leq_res_178858 = x_178855 || y_178857;
                                                
                                                cond_f_res_178834 = defunc_0_leq_res_178858;
                                            } else {
                                                cond_f_res_178834 = 0;
                                            }
                                            cond_178832 = cond_f_res_178834;
                                        }
                                        
                                        int64_t loopres_178859;
                                        int8_t loopres_178860;
                                        int64_t loopres_178861;
                                        int16_t loopres_178862;
                                        
                                        if (cond_178832) {
                                            bool x_178864 = sle64((int64_t) 0, i_178826);
                                            bool y_178865 = slt64(i_178826, j_m_i_178790);
                                            bool bounds_check_178866 = x_178864 && y_178865;
                                            bool index_certs_178867;
                                            
                                            if (!bounds_check_178866) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178826, "] out of bounds for array of shape [", (long long) j_m_i_178790, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_178863 = add64((int64_t) 1, i_178826);
                                            int64_t slice_178868 = defunc_0_f_res_178766 + i_178826;
                                            int64_t slice_178869 = start_178541 + slice_178868;
                                            int8_t tmp_178870 = ((int8_t *) mem_param_180519.mem)[slice_178869];
                                            int64_t tmp_178871 = ((int64_t *) mem_param_180522.mem)[slice_178869];
                                            int16_t tmp_178872 = ((int16_t *) mem_param_180525.mem)[slice_178869];
                                            
                                            loopres_178859 = tmp_178863;
                                            loopres_178860 = tmp_178870;
                                            loopres_178861 = tmp_178871;
                                            loopres_178862 = tmp_178872;
                                        } else {
                                            bool x_178873 = sle64((int64_t) 0, j_178830);
                                            bool y_178874 = slt64(j_178830, j_m_i_178777);
                                            bool bounds_check_178875 = x_178873 && y_178874;
                                            bool index_certs_178876;
                                            
                                            if (!bounds_check_178875) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178830, "] out of bounds for array of shape [", (long long) j_m_i_178777, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178877 = merge_sequential_arg2_178775 + j_178830;
                                            int64_t slice_178878 = start_178541 + slice_178877;
                                            int8_t tmp_178879 = ((int8_t *) mem_param_180519.mem)[slice_178878];
                                            int64_t tmp_178880 = ((int64_t *) mem_param_180522.mem)[slice_178878];
                                            int16_t tmp_178881 = ((int16_t *) mem_param_180525.mem)[slice_178878];
                                            
                                            loopres_178859 = i_178826;
                                            loopres_178860 = tmp_178879;
                                            loopres_178861 = tmp_178880;
                                            loopres_178862 = tmp_178881;
                                        }
                                        ((int8_t *) mem_180563)[i_179690 * merge_block_sizze_178278 + k_178825] = loopres_178860;
                                        ((int64_t *) mem_180566)[i_179690 * merge_block_sizze_178278 + k_178825] = loopres_178861;
                                        ((int16_t *) mem_180569)[i_179690 * merge_block_sizze_178278 + k_178825] = loopres_178862;
                                        
                                        int64_t i_tmp_181495 = loopres_178859;
                                        
                                        i_178826 = i_tmp_181495;
                                    }
                                    data_178821 = i_178826;
                                }
                                if (memblock_alloc(ctx, &mem_180618, flat_dim_178491, "mem_180618")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180618.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (uint8_t *) mem_180563, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (int64_t []) {num_blocks_178488, merge_block_sizze_178278});
                                if (memblock_alloc(ctx, &mem_180622, bytes_180565, "mem_180622")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180622.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (uint64_t *) mem_180566, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (int64_t []) {num_blocks_178488, merge_block_sizze_178278});
                                if (memblock_alloc(ctx, &mem_180626, bytes_180568, "mem_180626")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_2b(ctx, 2, (uint16_t *) mem_180626.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (uint16_t *) mem_180569, (int64_t) 0, (int64_t []) {merge_block_sizze_178278, (int64_t) 1}, (int64_t []) {num_blocks_178488, merge_block_sizze_178278});
                                if (memblock_set(ctx, &ext_mem_180659, &mem_180618, "mem_180618") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180656, &mem_180622, "mem_180622") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180653, &mem_180626, "mem_180626") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180527, i_179700 * next_stride_178469, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180659.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178469});
                            if (memblock_unref(ctx, &ext_mem_180659, "ext_mem_180659") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180530, i_179700 * next_stride_178469, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180656.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178469});
                            if (memblock_unref(ctx, &ext_mem_180656, "ext_mem_180656") != 0)
                                return 1;
                            lmad_copy_2b(ctx, 1, (uint16_t *) mem_180533, i_179700 * next_stride_178469, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_180653.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178469});
                            if (memblock_unref(ctx, &ext_mem_180653, "ext_mem_180653") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_180673, bytes_180526, "mem_180673")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180673.mem, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (uint8_t *) mem_180527, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (int64_t []) {num_merges_178473, next_stride_178469});
                        if (memblock_alloc(ctx, &mem_180677, bytes_180529, "mem_180677")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180677.mem, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (uint64_t *) mem_180530, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (int64_t []) {num_merges_178473, next_stride_178469});
                        if (memblock_alloc(ctx, &mem_180681, bytes_180532, "mem_180681")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_2b(ctx, 2, (uint16_t *) mem_180681.mem, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (uint16_t *) mem_180533, (int64_t) 0, (int64_t []) {next_stride_178469, (int64_t) 1}, (int64_t []) {num_merges_178473, next_stride_178469});
                        
                        bool loop_cond_178901 = slt64(next_stride_178469, flat_dim_178273);
                        
                        if (memblock_set(ctx, &mem_param_tmp_181462, &mem_180673, "mem_180673") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181463, &mem_180677, "mem_180677") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181464, &mem_180681, "mem_180681") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_181465 = bytes_180526;
                        bool loop_while_tmp_181466 = loop_cond_178901;
                        int64_t stride_tmp_181470 = next_stride_178469;
                        
                        if (memblock_set(ctx, &mem_param_180519, &mem_param_tmp_181462, "mem_param_tmp_181462") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180522, &mem_param_tmp_181463, "mem_param_tmp_181463") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180525, &mem_param_tmp_181464, "mem_param_tmp_181464") != 0)
                            return 1;
                        loop_dz2084Uz2082U_178463 = loop_dz2084Uz2082U_tmp_181465;
                        loop_while_178464 = loop_while_tmp_181466;
                        stride_178468 = stride_tmp_181470;
                    }
                    if (memblock_set(ctx, &ext_mem_180691, &mem_param_180519, "mem_param_180519") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180690, &mem_param_180522, "mem_param_180522") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180689, &mem_param_180525, "mem_param_180525") != 0)
                        return 1;
                    data_178457 = loop_dz2084Uz2082U_178463;
                    data_178458 = loop_while_178464;
                    data_178462 = stride_178468;
                    if (memblock_unref(ctx, &mem_180507, "mem_180507") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180511, "mem_180511") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180515, "mem_180515") != 0)
                        return 1;
                    
                    bool empty_slice_178902 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_178903 = sle64((int64_t) 0, zs_lhs_178257);
                    bool i_p_m_t_s_leq_w_178904 = slt64(zs_lhs_178257, data_178457);
                    bool y_178905 = zzero_leq_i_p_m_t_s_178903 && i_p_m_t_s_leq_w_178904;
                    bool ok_or_empty_178906 = empty_slice_178902 || y_178905;
                    bool index_certs_178907;
                    
                    if (!ok_or_empty_178906) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211, "] out of bounds for array of shape [", (long long) data_178457, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:371:63-73\n   #6  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_180700, &ext_mem_180691, "ext_mem_180691") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180697, &ext_mem_180690, "ext_mem_180690") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180694, &ext_mem_180689, "ext_mem_180689") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180401, "mem_180401") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180403, "mem_180403") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180405, "mem_180405") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180367, i_179716 * perThread_174534, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180700.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211});
                if (memblock_unref(ctx, &ext_mem_180700, "ext_mem_180700") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180370, i_179716 * perThread_174534, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180697.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211});
                if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
                    return 1;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_180373, i_179716 * perThread_174534, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_180694.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178211});
                if (memblock_unref(ctx, &ext_mem_180694, "ext_mem_180694") != 0)
                    return 1;
                for (int64_t i_179706 = 0; i_179706 < perThread_174534; i_179706++) {
                    int64_t lifted_lambda_res_178929 = add64(zm_rhs_178213, i_179706);
                    
                    ((int64_t *) mem_180365)[i_179716 * perThread_174534 + i_179706] = lifted_lambda_res_178929;
                }
                
                bool cond_178931 = card_178214 == zp_rhs_174533;
                
                if (cond_178931) {
                    bool y_178933 = slt64(card_178214, perThread_174534);
                    bool index_certs_178934;
                    
                    if (!y_178933) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_178214, "] out of bounds for array of shape [", (long long) perThread_174534, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_180365)[i_179716 * perThread_174534 + card_178214] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_180726, bytes_180021, "mem_180726")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181500 = 0; nest_i_181500 < window_sizze_120140; nest_i_181500++) {
                ((int16_t *) mem_180726.mem)[nest_i_181500] = (int16_t) 0;
            }
            if (memblock_alloc(ctx, &mem_180728, bytes_180019, "mem_180728")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181501 = 0; nest_i_181501 < window_sizze_120140; nest_i_181501++) {
                ((int64_t *) mem_180728.mem)[nest_i_181501] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180729, window_sizze_120140, "mem_180729")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181502 = 0; nest_i_181502 < window_sizze_120140; nest_i_181502++) {
                ((int8_t *) mem_180729.mem)[nest_i_181502] = (int8_t) -1;
            }
            for (int64_t write_iter_179721 = 0; write_iter_179721 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174535; write_iter_179721++) {
                int64_t new_index_179873 = squot64(write_iter_179721, perThread_174534);
                int64_t binop_y_179875 = perThread_174534 * new_index_179873;
                int64_t new_index_179876 = write_iter_179721 - binop_y_179875;
                int64_t write_iv_179725 = ((int64_t *) mem_180365)[new_index_179873 * perThread_174534 + new_index_179876];
                int8_t write_iv_179726 = ((int8_t *) mem_180367)[new_index_179873 * perThread_174534 + new_index_179876];
                int64_t write_iv_179727 = ((int64_t *) mem_180370)[new_index_179873 * perThread_174534 + new_index_179876];
                int16_t write_iv_179728 = ((int16_t *) mem_180373)[new_index_179873 * perThread_174534 + new_index_179876];
                
                if (sle64((int64_t) 0, write_iv_179725) && slt64(write_iv_179725, window_sizze_120140)) {
                    ((int8_t *) mem_180729.mem)[write_iv_179725] = write_iv_179726;
                }
                if (sle64((int64_t) 0, write_iv_179725) && slt64(write_iv_179725, window_sizze_120140)) {
                    ((int64_t *) mem_180728.mem)[write_iv_179725] = write_iv_179727;
                }
                if (sle64((int64_t) 0, write_iv_179725) && slt64(write_iv_179725, window_sizze_120140)) {
                    ((int16_t *) mem_180726.mem)[write_iv_179725] = write_iv_179728;
                }
            }
            
            int64_t index_concat_branch_178957;
            
            if (index_concat_cmp_177297) {
                int64_t index_concat_178958 = ((int64_t *) mem_180348)[index_concat_i_177298];
                
                index_concat_branch_178957 = index_concat_178958;
            } else {
                index_concat_branch_178957 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178959;
            
            if (index_concat_cmp_177297) {
                int64_t index_concat_178960 = ((int64_t *) mem_180350)[index_concat_i_177298];
                
                index_concat_branch_178959 = index_concat_178960;
            } else {
                index_concat_branch_178959 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_180756, &mem_180729, "mem_180729") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_180753, &mem_180728, "mem_180728") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_180750, &mem_180726, "mem_180726") != 0)
                return 1;
            loopres_174524 = index_concat_branch_178957;
            loopres_174525 = index_concat_branch_178959;
        } else {
            int16_t leq_lhs_175515 = ((int16_t *) a_list_mem_179986.mem)[p_174496];
            int16_t leq_rhs_175518 = ((int16_t *) b_list_mem_179987.mem)[p_174497];
            bool defunc_0_leq_res_175519 = sle16(leq_lhs_175515, leq_rhs_175518);
            int16_t lowest_175520;
            
            if (defunc_0_leq_res_175519) {
                bool index_certs_178961;
                
                if (!y_175513) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_175520 = leq_lhs_175515;
            } else {
                bool index_certs_175525;
                
                if (!y_175513) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_175520 = leq_rhs_175518;
            }
            if (mem_180003_cached_sizze_181944 < bytes_180002) {
                err = lexical_realloc(ctx, &mem_180003, &mem_180003_cached_sizze_181944, bytes_180002);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180005_cached_sizze_181945 < bytes_180002) {
                err = lexical_realloc(ctx, &mem_180005, &mem_180005_cached_sizze_181945, bytes_180002);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_179736 = 0; i_179736 < threads_120141; i_179736++) {
                int64_t index_primexp_179952 = add64((int64_t) 1, i_179736);
                int64_t zs_lhs_175541 = mul64(zt_rhs_175534, index_primexp_179952);
                int64_t index_175542 = sdiv64(zs_lhs_175541, partitionFunc_arg0_175511);
                bool cond_175543 = slt64(window_sizze_120140, index_175542);
                int64_t loop_over_175544;
                
                if (cond_175543) {
                    loop_over_175544 = window_sizze_120140;
                } else {
                    loop_over_175544 = index_175542;
                }
                
                int64_t loop_over_175545;
                
                if (cond_175543) {
                    int64_t loop_over_t_res_178962 = sub64(index_175542, window_sizze_120140);
                    
                    loop_over_175545 = loop_over_t_res_178962;
                } else {
                    loop_over_175545 = (int64_t) 0;
                }
                
                int64_t loop_over_175547;
                
                if (cond_175543) {
                    int64_t zm_lhs_178963 = sub64(index_175542, window_sizze_120140);
                    int64_t loop_over_t_res_178964 = sub64(zm_lhs_178963, (int64_t) 1);
                    
                    loop_over_175547 = loop_over_t_res_178964;
                } else {
                    loop_over_175547 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_175550;
                int64_t defunc_0_f_res_175551;
                int64_t defunc_0_f_res_175552;
                int64_t defunc_0_f_res_175553;
                bool loop_while_175554;
                int64_t p_175555;
                int64_t p_175556;
                int64_t p_175557;
                
                loop_while_175554 = 1;
                p_175555 = loop_over_175547;
                p_175556 = loop_over_175544;
                p_175557 = loop_over_175545;
                while (loop_while_175554) {
                    int64_t zs_lhs_175558 = sub64(p_175556, p_175555);
                    int64_t offset_175559 = sdiv64(zs_lhs_175558, (int64_t) 2);
                    int64_t ai_175560 = sub64(p_175556, offset_175559);
                    int64_t max_arg1_175561 = add64(p_175557, offset_175559);
                    int64_t max_res_175562 = smax64((int64_t) 0, max_arg1_175561);
                    bool cond_175563 = slt64((int64_t) 0, max_res_175562);
                    int16_t b_prev_175564;
                    
                    if (cond_175563) {
                        int64_t tmp_178965 = sub64(max_res_175562, (int64_t) 1);
                        bool x_178966 = sle64((int64_t) 0, tmp_178965);
                        bool y_178967 = slt64(tmp_178965, window_sizze_120140);
                        bool bounds_check_178968 = x_178966 && y_178967;
                        bool index_certs_178969;
                        
                        if (!bounds_check_178968) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178965, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_178970 = p_174497 + tmp_178965;
                        int16_t b_prev_t_res_178971 = ((int16_t *) b_list_mem_179987.mem)[slice_178970];
                        
                        b_prev_175564 = b_prev_t_res_178971;
                    } else {
                        b_prev_175564 = lowest_175520;
                    }
                    
                    bool cond_175571 = sle64(ai_175560, (int64_t) 0);
                    int64_t loopres_175572;
                    int64_t loopres_175573;
                    int64_t loopres_175574;
                    bool loopres_175575;
                    
                    if (cond_175571) {
                        loopres_175572 = p_175555;
                        loopres_175573 = (int64_t) 0;
                        loopres_175574 = max_res_175562;
                        loopres_175575 = 0;
                    } else {
                        bool cond_175576 = sle64(window_sizze_120140, max_res_175562);
                        int64_t loopres_f_res_175577;
                        int64_t loopres_f_res_175578;
                        int64_t loopres_f_res_175579;
                        bool loopres_f_res_175580;
                        
                        if (cond_175576) {
                            int64_t min_res_178973 = smin64(m_174485, ai_175560);
                            bool x_178974 = sle64((int64_t) 0, m_174485);
                            bool y_178975 = slt64(m_174485, window_sizze_120140);
                            bool bounds_check_178976 = x_178974 && y_178975;
                            bool index_certs_178977;
                            
                            if (!bounds_check_178976) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174485, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_178980 = sle64((int64_t) 0, min_res_178973);
                            bool y_178981 = slt64(min_res_178973, window_sizze_120140);
                            bool bounds_check_178982 = x_178980 && y_178981;
                            bool index_certs_178983;
                            
                            if (!bounds_check_178982) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178973, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int16_t leq_lhs_178979 = ((int16_t *) b_list_mem_179987.mem)[i_p_m_t_s_174513];
                            int64_t slice_178984 = p_174496 + min_res_178973;
                            int16_t leq_rhs_178985 = ((int16_t *) a_list_mem_179986.mem)[slice_178984];
                            bool defunc_0_leq_res_178986 = sle16(leq_lhs_178979, leq_rhs_178985);
                            int64_t loopres_f_res_t_res_178987;
                            
                            if (defunc_0_leq_res_178986) {
                                loopres_f_res_t_res_178987 = ai_175560;
                            } else {
                                loopres_f_res_t_res_178987 = p_175556;
                            }
                            
                            bool x_178988 = !defunc_0_leq_res_178986;
                            int64_t loopres_f_res_t_res_178989;
                            
                            if (defunc_0_leq_res_178986) {
                                loopres_f_res_t_res_178989 = window_sizze_120140;
                            } else {
                                int64_t tmp_178990 = sub64(m_174485, offset_175559);
                                
                                loopres_f_res_t_res_178989 = tmp_178990;
                            }
                            loopres_f_res_175577 = p_175555;
                            loopres_f_res_175578 = loopres_f_res_t_res_178987;
                            loopres_f_res_175579 = loopres_f_res_t_res_178989;
                            loopres_f_res_175580 = x_178988;
                        } else {
                            bool cond_175598 = sle64(window_sizze_120140, ai_175560);
                            int64_t loopres_f_res_f_res_175599;
                            int64_t loopres_f_res_f_res_175600;
                            int64_t loopres_f_res_f_res_175601;
                            bool loopres_f_res_f_res_175602;
                            
                            if (cond_175598) {
                                int64_t min_res_178992 = smin64(m_174485, max_res_175562);
                                bool x_178993 = sle64((int64_t) 0, m_174485);
                                bool y_178994 = slt64(m_174485, window_sizze_120140);
                                bool bounds_check_178995 = x_178993 && y_178994;
                                bool index_certs_178996;
                                
                                if (!bounds_check_178995) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174485, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178999 = sle64((int64_t) 0, min_res_178992);
                                bool y_179000 = slt64(min_res_178992, window_sizze_120140);
                                bool bounds_check_179001 = x_178999 && y_179000;
                                bool index_certs_179002;
                                
                                if (!bounds_check_179001) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178992, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int16_t leq_lhs_178998 = ((int16_t *) a_list_mem_179986.mem)[i_p_m_t_s_174502];
                                int64_t slice_179003 = p_174497 + min_res_178992;
                                int16_t leq_rhs_179004 = ((int16_t *) b_list_mem_179987.mem)[slice_179003];
                                bool defunc_0_leq_res_179005 = sle16(leq_lhs_178998, leq_rhs_179004);
                                int64_t loopres_f_res_f_res_t_res_179006;
                                
                                if (defunc_0_leq_res_179005) {
                                    loopres_f_res_f_res_t_res_179006 = max_res_175562;
                                } else {
                                    loopres_f_res_f_res_t_res_179006 = p_175557;
                                }
                                
                                bool x_179007 = !defunc_0_leq_res_179005;
                                int64_t loopres_f_res_f_res_t_res_179008;
                                
                                if (defunc_0_leq_res_179005) {
                                    loopres_f_res_f_res_t_res_179008 = window_sizze_120140;
                                } else {
                                    loopres_f_res_f_res_t_res_179008 = m_174485;
                                }
                                loopres_f_res_f_res_175599 = p_175555;
                                loopres_f_res_f_res_175600 = loopres_f_res_f_res_t_res_179008;
                                loopres_f_res_f_res_175601 = loopres_f_res_f_res_t_res_179006;
                                loopres_f_res_f_res_175602 = x_179007;
                            } else {
                                bool cond_175619 = sle64(p_175556, p_175555);
                                int64_t loopres_f_res_f_res_f_res_175620;
                                int64_t loopres_f_res_f_res_f_res_175621;
                                int64_t loopres_f_res_f_res_f_res_175622;
                                bool loopres_f_res_f_res_f_res_175623;
                                
                                if (cond_175619) {
                                    bool cond_179047 = slt64(ai_175560, window_sizze_120140);
                                    int64_t ai_179048;
                                    
                                    if (cond_179047) {
                                        ai_179048 = ai_175560;
                                    } else {
                                        ai_179048 = m_174485;
                                    }
                                    
                                    bool x_179061 = sle64((int64_t) 0, ai_179048);
                                    bool y_179062 = slt64(ai_179048, window_sizze_120140);
                                    bool bounds_check_179063 = x_179061 && y_179062;
                                    bool index_certs_179064;
                                    
                                    if (!bounds_check_179063) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179048, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int16_t b_prev_179050;
                                    
                                    if (cond_175563) {
                                        int64_t tmp_179051 = sub64(max_res_175562, (int64_t) 1);
                                        bool x_179052 = sle64((int64_t) 0, tmp_179051);
                                        bool y_179053 = slt64(tmp_179051, window_sizze_120140);
                                        bool bounds_check_179054 = x_179052 && y_179053;
                                        bool index_certs_179055;
                                        
                                        if (!bounds_check_179054) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179051, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179056 = p_174497 + tmp_179051;
                                        int16_t b_prev_t_res_179057 = ((int16_t *) b_list_mem_179987.mem)[slice_179056];
                                        
                                        b_prev_179050 = b_prev_t_res_179057;
                                    } else {
                                        bool index_certs_179059;
                                        
                                        if (!y_175513) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179050 = leq_rhs_175518;
                                    }
                                    
                                    int64_t slice_179065 = p_174496 + ai_179048;
                                    int16_t gt_lhs_179066 = ((int16_t *) a_list_mem_179986.mem)[slice_179065];
                                    bool defunc_0_gt_res_179067 = slt16(b_prev_179050, gt_lhs_179066);
                                    int64_t defunc_0_partFunc_sequential_search_res_179068;
                                    int64_t defunc_0_partFunc_sequential_search_res_179069;
                                    
                                    if (defunc_0_gt_res_179067) {
                                        int64_t zl_rhs_179070 = sub64(window_sizze_120140, max_res_175562);
                                        bool loop_cond_179071 = slt64((int64_t) 0, zl_rhs_179070);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179072;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179073;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179074;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179075;
                                        bool loop_while_179076;
                                        int64_t p_179077;
                                        int64_t p_179078;
                                        int64_t p_179079;
                                        
                                        loop_while_179076 = loop_cond_179071;
                                        p_179077 = ai_179048;
                                        p_179078 = max_res_175562;
                                        p_179079 = (int64_t) 0;
                                        while (loop_while_179076) {
                                            int64_t i_a_179080 = sub64(ai_179048, p_179079);
                                            int64_t i_b_179081 = add64(max_res_175562, p_179079);
                                            int64_t leq_lhs_179082 = sub64(i_a_179080, (int64_t) 1);
                                            bool x_179083 = sle64((int64_t) 0, leq_lhs_179082);
                                            bool y_179084 = slt64(leq_lhs_179082, window_sizze_120140);
                                            bool bounds_check_179085 = x_179083 && y_179084;
                                            bool index_certs_179086;
                                            
                                            if (!bounds_check_179085) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179082, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179089 = sle64((int64_t) 0, i_b_179081);
                                            bool y_179090 = slt64(i_b_179081, window_sizze_120140);
                                            bool bounds_check_179091 = x_179089 && y_179090;
                                            bool index_certs_179092;
                                            
                                            if (!bounds_check_179091) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179081, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179087 = p_174496 + leq_lhs_179082;
                                            int16_t leq_lhs_179088 = ((int16_t *) a_list_mem_179986.mem)[slice_179087];
                                            int64_t slice_179093 = p_174497 + i_b_179081;
                                            int16_t leq_rhs_179094 = ((int16_t *) b_list_mem_179987.mem)[slice_179093];
                                            bool defunc_0_leq_res_179095 = sle16(leq_lhs_179088, leq_rhs_179094);
                                            int64_t loopres_179096;
                                            
                                            if (defunc_0_leq_res_179095) {
                                                loopres_179096 = i_a_179080;
                                            } else {
                                                loopres_179096 = ai_179048;
                                            }
                                            
                                            int64_t loopres_179097;
                                            
                                            if (defunc_0_leq_res_179095) {
                                                loopres_179097 = i_b_179081;
                                            } else {
                                                loopres_179097 = max_res_175562;
                                            }
                                            
                                            int64_t loopres_179098;
                                            
                                            if (defunc_0_leq_res_179095) {
                                                loopres_179098 = zl_rhs_179070;
                                            } else {
                                                int64_t tmp_179099 = add64((int64_t) 1, p_179079);
                                                
                                                loopres_179098 = tmp_179099;
                                            }
                                            
                                            bool loop_cond_179100 = slt64(loopres_179098, zl_rhs_179070);
                                            bool loop_while_tmp_181512 = loop_cond_179100;
                                            int64_t p_tmp_181513 = loopres_179096;
                                            int64_t p_tmp_181514 = loopres_179097;
                                            int64_t p_tmp_181515 = loopres_179098;
                                            
                                            loop_while_179076 = loop_while_tmp_181512;
                                            p_179077 = p_tmp_181513;
                                            p_179078 = p_tmp_181514;
                                            p_179079 = p_tmp_181515;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179072 = loop_while_179076;
                                        defunc_0_partFunc_sequential_search_res_t_res_179073 = p_179077;
                                        defunc_0_partFunc_sequential_search_res_t_res_179074 = p_179078;
                                        defunc_0_partFunc_sequential_search_res_t_res_179075 = p_179079;
                                        defunc_0_partFunc_sequential_search_res_179068 = defunc_0_partFunc_sequential_search_res_t_res_179073;
                                        defunc_0_partFunc_sequential_search_res_179069 = defunc_0_partFunc_sequential_search_res_t_res_179074;
                                    } else {
                                        int64_t zl_rhs_179101 = sub64(max_res_175562, (int64_t) 1);
                                        bool loop_cond_179102 = slt64((int64_t) 0, zl_rhs_179101);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179103;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179104;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179105;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179106;
                                        bool loop_while_179107;
                                        int64_t p_179108;
                                        int64_t p_179109;
                                        int64_t p_179110;
                                        
                                        loop_while_179107 = loop_cond_179102;
                                        p_179108 = ai_179048;
                                        p_179109 = max_res_175562;
                                        p_179110 = (int64_t) 0;
                                        while (loop_while_179107) {
                                            int64_t zp_lhs_179111 = add64(ai_179048, p_179110);
                                            int64_t hi_a_179112 = add64((int64_t) 1, zp_lhs_179111);
                                            bool cond_179113 = slt64(hi_a_179112, window_sizze_120140);
                                            int64_t i_a_179114;
                                            
                                            if (cond_179113) {
                                                i_a_179114 = hi_a_179112;
                                            } else {
                                                i_a_179114 = m_174485;
                                            }
                                            
                                            int64_t zm_lhs_179116 = sub64(max_res_175562, p_179110);
                                            int64_t i_b_179117 = sub64(zm_lhs_179116, (int64_t) 1);
                                            bool x_179118 = sle64((int64_t) 0, i_a_179114);
                                            bool y_179119 = slt64(i_a_179114, window_sizze_120140);
                                            bool bounds_check_179120 = x_179118 && y_179119;
                                            bool index_certs_179121;
                                            
                                            if (!bounds_check_179120) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179114, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179124 = sle64((int64_t) 0, i_b_179117);
                                            bool y_179125 = slt64(i_b_179117, window_sizze_120140);
                                            bool bounds_check_179126 = x_179124 && y_179125;
                                            bool index_certs_179127;
                                            
                                            if (!bounds_check_179126) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179117, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179122 = p_174496 + i_a_179114;
                                            int16_t gt_lhs_179123 = ((int16_t *) a_list_mem_179986.mem)[slice_179122];
                                            int64_t slice_179128 = p_174497 + i_b_179117;
                                            int16_t gt_rhs_179129 = ((int16_t *) b_list_mem_179987.mem)[slice_179128];
                                            bool defunc_0_gt_res_179130 = slt16(gt_rhs_179129, gt_lhs_179123);
                                            int64_t loopres_179131;
                                            
                                            if (defunc_0_gt_res_179130) {
                                                loopres_179131 = i_a_179114;
                                            } else {
                                                loopres_179131 = ai_179048;
                                            }
                                            
                                            int64_t loopres_179132;
                                            
                                            if (defunc_0_gt_res_179130) {
                                                loopres_179132 = zm_lhs_179116;
                                            } else {
                                                loopres_179132 = max_res_175562;
                                            }
                                            
                                            int64_t loopres_179133;
                                            
                                            if (defunc_0_gt_res_179130) {
                                                loopres_179133 = zl_rhs_179101;
                                            } else {
                                                int64_t tmp_179134 = add64((int64_t) 1, p_179110);
                                                
                                                loopres_179133 = tmp_179134;
                                            }
                                            
                                            bool loop_cond_179135 = slt64(loopres_179133, zl_rhs_179101);
                                            bool loop_while_tmp_181516 = loop_cond_179135;
                                            int64_t p_tmp_181517 = loopres_179131;
                                            int64_t p_tmp_181518 = loopres_179132;
                                            int64_t p_tmp_181519 = loopres_179133;
                                            
                                            loop_while_179107 = loop_while_tmp_181516;
                                            p_179108 = p_tmp_181517;
                                            p_179109 = p_tmp_181518;
                                            p_179110 = p_tmp_181519;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179103 = loop_while_179107;
                                        defunc_0_partFunc_sequential_search_res_f_res_179104 = p_179108;
                                        defunc_0_partFunc_sequential_search_res_f_res_179105 = p_179109;
                                        defunc_0_partFunc_sequential_search_res_f_res_179106 = p_179110;
                                        defunc_0_partFunc_sequential_search_res_179068 = defunc_0_partFunc_sequential_search_res_f_res_179104;
                                        defunc_0_partFunc_sequential_search_res_179069 = defunc_0_partFunc_sequential_search_res_f_res_179105;
                                    }
                                    loopres_f_res_f_res_f_res_175620 = p_175555;
                                    loopres_f_res_f_res_f_res_175621 = defunc_0_partFunc_sequential_search_res_179068;
                                    loopres_f_res_f_res_f_res_175622 = defunc_0_partFunc_sequential_search_res_179069;
                                    loopres_f_res_f_res_f_res_175623 = 0;
                                } else {
                                    bool x_175707 = sle64((int64_t) 0, ai_175560);
                                    bool y_175708 = slt64(ai_175560, window_sizze_120140);
                                    bool bounds_check_175709 = x_175707 && y_175708;
                                    bool index_certs_175710;
                                    
                                    if (!bounds_check_175709) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_175560, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_177376 = p_174496 + ai_175560;
                                    int16_t gt_lhs_175711 = ((int16_t *) a_list_mem_179986.mem)[slice_177376];
                                    bool defunc_0_gt_res_175712 = slt16(b_prev_175564, gt_lhs_175711);
                                    int64_t loopres_f_res_f_res_f_res_f_res_175713;
                                    int64_t loopres_f_res_f_res_f_res_f_res_175714;
                                    int64_t loopres_f_res_f_res_f_res_f_res_175715;
                                    bool loopres_f_res_f_res_f_res_f_res_175716;
                                    
                                    if (defunc_0_gt_res_175712) {
                                        int64_t leq_lhs_179136 = sub64(ai_175560, (int64_t) 1);
                                        bool x_179137 = sle64((int64_t) 0, leq_lhs_179136);
                                        bool y_179138 = slt64(leq_lhs_179136, window_sizze_120140);
                                        bool bounds_check_179139 = x_179137 && y_179138;
                                        bool index_certs_179140;
                                        
                                        if (!bounds_check_179139) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179136, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179143 = sle64((int64_t) 0, max_res_175562);
                                        bool y_179144 = slt64(max_res_175562, window_sizze_120140);
                                        bool bounds_check_179145 = x_179143 && y_179144;
                                        bool index_certs_179146;
                                        
                                        if (!bounds_check_179145) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_175562, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179141 = p_174496 + leq_lhs_179136;
                                        int16_t leq_lhs_179142 = ((int16_t *) a_list_mem_179986.mem)[slice_179141];
                                        int64_t slice_179147 = p_174497 + max_res_175562;
                                        int16_t leq_rhs_179148 = ((int16_t *) b_list_mem_179987.mem)[slice_179147];
                                        bool defunc_0_leq_res_179149 = sle16(leq_lhs_179142, leq_rhs_179148);
                                        bool x_179150 = !defunc_0_leq_res_179149;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179151;
                                        
                                        if (defunc_0_leq_res_179149) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179151 = ai_175560;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179151 = leq_lhs_179136;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179152;
                                        
                                        if (defunc_0_leq_res_179149) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179152 = max_res_175562;
                                        } else {
                                            int64_t tmp_179153 = add64((int64_t) 1, max_res_175562);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179152 = tmp_179153;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_175713 = p_175555;
                                        loopres_f_res_f_res_f_res_f_res_175714 = loopres_f_res_f_res_f_res_f_res_t_res_179151;
                                        loopres_f_res_f_res_f_res_f_res_175715 = loopres_f_res_f_res_f_res_f_res_t_res_179152;
                                        loopres_f_res_f_res_f_res_f_res_175716 = x_179150;
                                    } else {
                                        int64_t tmp_175733 = add64((int64_t) 1, ai_175560);
                                        
                                        loopres_f_res_f_res_f_res_f_res_175713 = tmp_175733;
                                        loopres_f_res_f_res_f_res_f_res_175714 = p_175556;
                                        loopres_f_res_f_res_f_res_f_res_175715 = p_175557;
                                        loopres_f_res_f_res_f_res_f_res_175716 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_175620 = loopres_f_res_f_res_f_res_f_res_175713;
                                    loopres_f_res_f_res_f_res_175621 = loopres_f_res_f_res_f_res_f_res_175714;
                                    loopres_f_res_f_res_f_res_175622 = loopres_f_res_f_res_f_res_f_res_175715;
                                    loopres_f_res_f_res_f_res_175623 = loopres_f_res_f_res_f_res_f_res_175716;
                                }
                                loopres_f_res_f_res_175599 = loopres_f_res_f_res_f_res_175620;
                                loopres_f_res_f_res_175600 = loopres_f_res_f_res_f_res_175621;
                                loopres_f_res_f_res_175601 = loopres_f_res_f_res_f_res_175622;
                                loopres_f_res_f_res_175602 = loopres_f_res_f_res_f_res_175623;
                            }
                            loopres_f_res_175577 = loopres_f_res_f_res_175599;
                            loopres_f_res_175578 = loopres_f_res_f_res_175600;
                            loopres_f_res_175579 = loopres_f_res_f_res_175601;
                            loopres_f_res_175580 = loopres_f_res_f_res_175602;
                        }
                        loopres_175572 = loopres_f_res_175577;
                        loopres_175573 = loopres_f_res_175578;
                        loopres_175574 = loopres_f_res_175579;
                        loopres_175575 = loopres_f_res_175580;
                    }
                    
                    bool loop_while_tmp_181508 = loopres_175575;
                    int64_t p_tmp_181509 = loopres_175572;
                    int64_t p_tmp_181510 = loopres_175573;
                    int64_t p_tmp_181511 = loopres_175574;
                    
                    loop_while_175554 = loop_while_tmp_181508;
                    p_175555 = p_tmp_181509;
                    p_175556 = p_tmp_181510;
                    p_175557 = p_tmp_181511;
                }
                defunc_0_f_res_175550 = loop_while_175554;
                defunc_0_f_res_175551 = p_175555;
                defunc_0_f_res_175552 = p_175556;
                defunc_0_f_res_175553 = p_175557;
                ((int64_t *) mem_180003)[i_179736] = defunc_0_f_res_175552;
                ((int64_t *) mem_180005)[i_179736] = defunc_0_f_res_175553;
            }
            if (memblock_alloc(ctx, &mem_180018, window_sizze_120140, "mem_180018")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181520 = 0; nest_i_181520 < window_sizze_120140; nest_i_181520++) {
                ((int8_t *) mem_180018.mem)[nest_i_181520] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180020, bytes_180019, "mem_180020")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181521 = 0; nest_i_181521 < window_sizze_120140; nest_i_181521++) {
                ((int64_t *) mem_180020.mem)[nest_i_181521] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180022, bytes_180021, "mem_180022")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181522 = 0; nest_i_181522 < window_sizze_120140; nest_i_181522++) {
                ((int16_t *) mem_180022.mem)[nest_i_181522] = (int16_t) 0;
            }
            
            bool defunc_0_mergeFunc_seq_res_175760;
            int64_t defunc_0_mergeFunc_seq_res_175761;
            bool loop_while_175765;
            int64_t p_175766;
            
            loop_while_175765 = loop_cond_175759;
            p_175766 = (int64_t) 0;
            while (loop_while_175765) {
                bool x_175770 = sle64((int64_t) 0, p_175766);
                bool y_175771 = slt64(p_175766, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
                bool bounds_check_175772 = x_175770 && y_175771;
                bool index_certs_175773;
                
                if (!bounds_check_175772) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175766, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_177359 = sle64((int64_t) 1, p_175766);
                int64_t index_concat_i_177360 = sub64(p_175766, (int64_t) 1);
                int64_t index_concat_177361;
                
                if (index_concat_cmp_177359) {
                    int64_t x_179154 = ((int64_t *) mem_180003)[index_concat_i_177360];
                    
                    index_concat_177361 = x_179154;
                } else {
                    index_concat_177361 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177363;
                
                if (index_concat_cmp_177359) {
                    index_concat_branch_177363 = index_concat_177361;
                } else {
                    index_concat_branch_177363 = (int64_t) 0;
                }
                
                int64_t index_concat_177355;
                
                if (index_concat_cmp_177359) {
                    int64_t x_179155 = ((int64_t *) mem_180005)[index_concat_i_177360];
                    
                    index_concat_177355 = x_179155;
                } else {
                    index_concat_177355 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177357;
                
                if (index_concat_cmp_177359) {
                    index_concat_branch_177357 = index_concat_177355;
                } else {
                    index_concat_branch_177357 = (int64_t) 0;
                }
                
                int64_t ubs_175776 = add64((int64_t) 1, p_175766);
                bool x_175777 = sle64((int64_t) 0, ubs_175776);
                bool y_175778 = slt64(ubs_175776, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510);
                bool bounds_check_175779 = x_175777 && y_175778;
                bool index_certs_175780;
                
                if (!bounds_check_175779) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_175776, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175510, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_177347 = sle64((int64_t) 1, ubs_175776);
                int64_t index_concat_177349;
                
                if (index_concat_cmp_177347) {
                    int64_t x_179156 = ((int64_t *) mem_180003)[p_175766];
                    
                    index_concat_177349 = x_179156;
                } else {
                    index_concat_177349 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177351;
                
                if (index_concat_cmp_177347) {
                    index_concat_branch_177351 = index_concat_177349;
                } else {
                    index_concat_branch_177351 = (int64_t) 0;
                }
                
                int64_t index_concat_177343;
                
                if (index_concat_cmp_177347) {
                    int64_t x_179157 = ((int64_t *) mem_180005)[p_175766];
                    
                    index_concat_177343 = x_179157;
                } else {
                    index_concat_177343 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177345;
                
                if (index_concat_cmp_177347) {
                    index_concat_branch_177345 = index_concat_177343;
                } else {
                    index_concat_branch_177345 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783 = sub64(index_concat_branch_177345, index_concat_branch_177357);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784 = sub64(index_concat_branch_177351, index_concat_branch_177363);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                int64_t ind_bottom_175786 = add64(index_concat_branch_177357, index_concat_branch_177363);
                int64_t ind_top_175787 = add64(index_concat_branch_177345, index_concat_branch_177351);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788 = sub64(ind_top_175787, ind_bottom_175786);
                bool empty_slice_175789 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784 == (int64_t) 0;
                int64_t m_175790 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, (int64_t) 1);
                int64_t i_p_m_t_s_175791 = add64(m_175790, index_concat_branch_177363);
                bool zzero_leq_i_p_m_t_s_175792 = sle64((int64_t) 0, i_p_m_t_s_175791);
                bool i_p_m_t_s_leq_w_175793 = slt64(i_p_m_t_s_175791, window_sizze_120140);
                bool zzero_lte_i_175794 = sle64((int64_t) 0, index_concat_branch_177363);
                bool i_lte_j_175795 = sle64(index_concat_branch_177363, index_concat_branch_177351);
                bool y_175796 = i_p_m_t_s_leq_w_175793 && zzero_lte_i_175794;
                bool y_175797 = zzero_leq_i_p_m_t_s_175792 && y_175796;
                bool forwards_ok_175798 = i_lte_j_175795 && y_175797;
                bool ok_or_empty_175799 = empty_slice_175789 || forwards_ok_175798;
                bool index_certs_175800;
                
                if (!ok_or_empty_175799) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_177363, ":", (long long) index_concat_branch_177351, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_175801 = slt64(index_concat_branch_177351, index_concat_branch_177363);
                bool valid_175802 = !bounds_invalid_upwards_175801;
                bool range_valid_c_175803;
                
                if (!valid_175802) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_177363, "..<", (long long) index_concat_branch_177351, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_175809 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783 == (int64_t) 0;
                int64_t m_175810 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783, (int64_t) 1);
                int64_t i_p_m_t_s_175811 = add64(m_175810, index_concat_branch_177357);
                bool zzero_leq_i_p_m_t_s_175812 = sle64((int64_t) 0, i_p_m_t_s_175811);
                bool i_p_m_t_s_leq_w_175813 = slt64(i_p_m_t_s_175811, window_sizze_120140);
                bool zzero_lte_i_175814 = sle64((int64_t) 0, index_concat_branch_177357);
                bool i_lte_j_175815 = sle64(index_concat_branch_177357, index_concat_branch_177345);
                bool y_175816 = i_p_m_t_s_leq_w_175813 && zzero_lte_i_175814;
                bool y_175817 = zzero_leq_i_p_m_t_s_175812 && y_175816;
                bool forwards_ok_175818 = i_lte_j_175815 && y_175817;
                bool ok_or_empty_175819 = empty_slice_175809 || forwards_ok_175818;
                bool index_certs_175820;
                
                if (!ok_or_empty_175819) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_177357, ":", (long long) index_concat_branch_177345, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_175821 = slt64(index_concat_branch_177345, index_concat_branch_177357);
                bool valid_175822 = !bounds_invalid_upwards_175821;
                bool range_valid_c_175823;
                
                if (!valid_175822) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_177357, "..<", (long long) index_concat_branch_177345, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180039 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785;
                int64_t bytes_180041 = (int64_t) 2 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785;
                bool cond_175832 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, (int64_t) 1);
                int64_t zs_lhs_175833 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, (int64_t) 1);
                int64_t zp_rhs_175834 = sdiv_safe64(zs_lhs_175833, (int64_t) 20);
                int64_t min_num_blocks_175835 = add64((int64_t) 1, zp_rhs_175834);
                bool loop_cond_175836 = slt64((int64_t) 1, min_num_blocks_175835);
                bool smallest_pow_2_geq_than_res_175837;
                int64_t smallest_pow_2_geq_than_res_175838;
                bool loop_while_175839;
                int64_t x_175840;
                
                loop_while_175839 = loop_cond_175836;
                x_175840 = (int64_t) 1;
                while (loop_while_175839) {
                    int64_t loopres_175841 = mul64((int64_t) 2, x_175840);
                    bool loop_cond_175842 = slt64(loopres_175841, min_num_blocks_175835);
                    bool loop_while_tmp_181528 = loop_cond_175842;
                    int64_t x_tmp_181529 = loopres_175841;
                    
                    loop_while_175839 = loop_while_tmp_181528;
                    x_175840 = x_tmp_181529;
                }
                smallest_pow_2_geq_than_res_175837 = loop_while_175839;
                smallest_pow_2_geq_than_res_175838 = x_175840;
                
                bool zzero_175843 = smallest_pow_2_geq_than_res_175838 == (int64_t) 0;
                bool nonzzero_175844 = !zzero_175843;
                bool protect_assert_disj_175845 = cond_175832 || nonzzero_175844;
                bool nonzzero_cert_175846;
                
                if (!protect_assert_disj_175845) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_175847 = sdiv_safe64(zs_lhs_175833, smallest_pow_2_geq_than_res_175838);
                int64_t block_sizze_175848 = add64((int64_t) 1, zp_rhs_175847);
                bool y_175855 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785);
                bool protect_assert_disj_181192 = cond_175832 || y_175855;
                bool index_certs_175856;
                
                if (!protect_assert_disj_181192) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_175882 = slt64(smallest_pow_2_geq_than_res_175838, (int64_t) 0);
                bool valid_175883 = !bounds_invalid_upwards_175882;
                bool protect_assert_disj_181202 = cond_175832 || valid_175883;
                bool range_valid_c_175884;
                
                if (!protect_assert_disj_181202) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_175838, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_175886 = slt64(block_sizze_175848, (int64_t) 0);
                bool valid_175887 = !bounds_invalid_upwards_175886;
                bool protect_assert_disj_181204 = cond_175832 || valid_175887;
                bool range_valid_c_175888;
                
                if (!protect_assert_disj_181204) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_175848, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_175890 = sle64(block_sizze_175848, (int64_t) 1);
                int64_t tmp_175891 = sub64(block_sizze_175848, (int64_t) 2);
                bool bounds_invalid_upwards_175892 = slt64(tmp_175891, (int64_t) 0);
                bool valid_175894 = !bounds_invalid_upwards_175892;
                bool protect_assert_disj_175895 = cond_175890 || valid_175894;
                bool protect_assert_disj_181206 = cond_175832 || protect_assert_disj_175895;
                bool range_valid_c_175896;
                
                if (!protect_assert_disj_181206) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_175891, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_176457 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785;
                bool empty_or_match_cert_176458;
                
                if (!dim_match_176457) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788, "](i8, i64, i16)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176459 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788 == (int64_t) 0;
                int64_t m_176460 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_176461 = sle64((int64_t) 0, m_176460);
                bool i_p_m_t_s_leq_w_176462 = slt64(m_176460, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788);
                bool y_176463 = zzero_leq_i_p_m_t_s_176461 && i_p_m_t_s_leq_w_176462;
                bool ok_or_empty_176464 = empty_slice_176459 || y_176463;
                bool index_certs_176465;
                
                if (!ok_or_empty_176464) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_176466 = add64(ind_bottom_175786, m_176460);
                bool zzero_leq_i_p_m_t_s_176467 = sle64((int64_t) 0, i_p_m_t_s_176466);
                bool i_p_m_t_s_leq_w_176468 = slt64(i_p_m_t_s_176466, window_sizze_120140);
                bool zzero_lte_i_176469 = sle64((int64_t) 0, ind_bottom_175786);
                bool i_lte_j_176470 = sle64(ind_bottom_175786, ind_top_175787);
                bool y_176471 = i_p_m_t_s_leq_w_176468 && zzero_lte_i_176469;
                bool y_176472 = zzero_leq_i_p_m_t_s_176467 && y_176471;
                bool forwards_ok_176473 = i_lte_j_176470 && y_176472;
                bool ok_or_empty_176474 = empty_slice_176459 || forwards_ok_176473;
                bool index_certs_176475;
                
                if (!ok_or_empty_176474) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175786, ":", (long long) ind_top_175787, "] out of bounds for array of shape [", (long long) window_sizze_120140, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_177339 = p_174496 + index_concat_branch_177363;
                
                if (memblock_alloc(ctx, &mem_180038, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "mem_180038")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_181530 = 0; nest_i_181530 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784; nest_i_181530++) {
                    ((int8_t *) mem_180038.mem)[nest_i_181530] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180040, bytes_180039, "mem_180040")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_181531 = 0; i_181531 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784; i_181531++) {
                    int64_t x_181532 = index_concat_branch_177363 + i_181531 * (int64_t) 1;
                    
                    ((int64_t *) mem_180040.mem)[i_181531] = x_181532;
                }
                
                int64_t slice_177338 = p_174497 + index_concat_branch_177357;
                
                for (int64_t nest_i_181533 = 0; nest_i_181533 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783; nest_i_181533++) {
                    ((int8_t *) mem_180038.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784 + nest_i_181533] = (int8_t) 1;
                }
                for (int64_t i_181534 = 0; i_181534 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783; i_181534++) {
                    int64_t x_181535 = index_concat_branch_177357 + i_181534 * (int64_t) 1;
                    
                    ((int64_t *) mem_180040.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784 + i_181534] = x_181535;
                }
                
                int64_t tmp_offs_181536 = (int64_t) 0;
                
                if (!(tmp_offs_181536 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180038.mem, tmp_offs_181536, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180038.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784});
                }
                tmp_offs_181536 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784;
                if (!(tmp_offs_181536 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180038.mem, tmp_offs_181536, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180038.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783});
                }
                tmp_offs_181536 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783;
                
                int64_t tmp_offs_181537 = (int64_t) 0;
                
                if (!(tmp_offs_181537 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180040.mem, tmp_offs_181537, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180040.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784});
                }
                tmp_offs_181537 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784;
                if (!(tmp_offs_181537 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180040.mem, tmp_offs_181537, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180040.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783});
                }
                tmp_offs_181537 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783;
                if (memblock_alloc(ctx, &mem_180042, bytes_180041, "mem_180042")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_181538 = (int64_t) 0;
                
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_180042.mem, tmp_offs_181538, (int64_t []) {(int64_t) 1}, (uint16_t *) a_list_mem_179986.mem, slice_177339, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784});
                tmp_offs_181538 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_180042.mem, tmp_offs_181538, (int64_t []) {(int64_t) 1}, (uint16_t *) b_list_mem_179987.mem, slice_177338, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783});
                tmp_offs_181538 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_175783;
                
                int64_t flat_dim_175849 = smallest_pow_2_geq_than_res_175838 * block_sizze_175848;
                bool x_181187 = !cond_175832;
                int64_t greatest_divisor_leq_than_arg1_175853 = mul64((int64_t) 2, block_sizze_175848);
                int64_t merge_block_sizze_175854;
                
                if (x_181187) {
                    int64_t x_181189;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181189, (int64_t) 8, greatest_divisor_leq_than_arg1_175853) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_175854 = x_181189;
                } else {
                    merge_block_sizze_175854 = (int64_t) 0;
                }
                
                bool index_concat_cmp_177333 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, (int64_t) 0);
                int8_t index_concat_branch_177337 = btoi_bool_i8(index_concat_cmp_177333);
                int64_t index_concat_i_179158 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                int64_t index_primexp_179159 = add64(index_concat_branch_177357, index_concat_i_179158);
                int64_t index_concat_branch_177331;
                
                if (index_concat_cmp_177333) {
                    index_concat_branch_177331 = index_primexp_179159;
                } else {
                    index_concat_branch_177331 = index_concat_branch_177363;
                }
                
                bool x_181183 = !index_concat_cmp_177333;
                bool protect_cond_conj_181193 = x_181183 && x_181187;
                int16_t index_concat_177324;
                
                if (protect_cond_conj_181193) {
                    int16_t x_181185 = ((int16_t *) a_list_mem_179986.mem)[slice_177339];
                    
                    index_concat_177324 = x_181185;
                } else {
                    index_concat_177324 = (int16_t) 0;
                }
                
                int64_t slice_179161 = slice_177338 + index_concat_i_179158;
                bool protect_cond_conj_181194 = index_concat_cmp_177333 && x_181187;
                int16_t index_concat_179162;
                
                if (protect_cond_conj_181194) {
                    int16_t x_181181 = ((int16_t *) b_list_mem_179987.mem)[slice_179161];
                    
                    index_concat_179162 = x_181181;
                } else {
                    index_concat_179162 = (int16_t) 0;
                }
                
                int16_t index_concat_branch_177325;
                
                if (index_concat_cmp_177333) {
                    index_concat_branch_177325 = index_concat_179162;
                } else {
                    index_concat_branch_177325 = index_concat_177324;
                }
                
                int8_t defunc_0_reduce_res_179393;
                int64_t defunc_0_reduce_res_179394;
                int16_t defunc_0_reduce_res_179395;
                
                if (x_181187) {
                    int8_t x_181195;
                    int64_t x_181196;
                    int16_t x_181197;
                    int8_t redout_179739;
                    int64_t redout_179740;
                    int16_t redout_179741;
                    
                    redout_179739 = index_concat_branch_177337;
                    redout_179740 = index_concat_branch_177331;
                    redout_179741 = index_concat_branch_177325;
                    for (int64_t i_179742 = 0; i_179742 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785; i_179742++) {
                        bool index_concat_cmp_179946 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, i_179742);
                        int8_t index_concat_branch_179950 = btoi_bool_i8(index_concat_cmp_179946);
                        int64_t index_concat_branch_179944;
                        
                        if (index_concat_cmp_179946) {
                            int64_t index_concat_i_179941 = sub64(i_179742, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                            int64_t index_primexp_179968 = add64(index_concat_branch_177357, index_concat_i_179941);
                            
                            index_concat_branch_179944 = index_primexp_179968;
                        } else {
                            int64_t index_primexp_179970 = add64(index_concat_branch_177363, i_179742);
                            
                            index_concat_branch_179944 = index_primexp_179970;
                        }
                        
                        int16_t index_concat_branch_179938;
                        
                        if (index_concat_cmp_179946) {
                            int64_t index_concat_i_179935 = sub64(i_179742, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                            int64_t slice_179965 = slice_177338 + index_concat_i_179935;
                            int16_t index_concat_179936 = ((int16_t *) b_list_mem_179987.mem)[slice_179965];
                            
                            index_concat_branch_179938 = index_concat_179936;
                        } else {
                            int64_t slice_179966 = slice_177339 + i_179742;
                            int16_t index_concat_179937 = ((int16_t *) a_list_mem_179986.mem)[slice_179966];
                            
                            index_concat_branch_179938 = index_concat_179937;
                        }
                        
                        bool eq_x_y_179981 = redout_179739 == (int8_t) 1;
                        bool eq_x_zz_179982 = redout_179739 == (int8_t) 0;
                        bool p_and_eq_x_y_179983 = index_concat_cmp_179946 && eq_x_y_179981;
                        bool not_p_179984 = !index_concat_cmp_179946;
                        bool p_and_eq_x_y_179985 = eq_x_zz_179982 && not_p_179984;
                        bool cond_175872 = p_and_eq_x_y_179983 || p_and_eq_x_y_179985;
                        bool defunc_0_leq_res_t_res_175873 = sle64(redout_179740, index_concat_branch_179944);
                        bool defunc_0_leq_res_175874 = sle16(redout_179741, index_concat_branch_179938);
                        bool x_175875 = cond_175872 && defunc_0_leq_res_t_res_175873;
                        bool x_175876 = !cond_175872;
                        bool y_175877 = defunc_0_leq_res_175874 && x_175876;
                        bool defunc_0_leq_res_175878 = x_175875 || y_175877;
                        int8_t defunc_0_op_res_175879;
                        
                        if (defunc_0_leq_res_175878) {
                            defunc_0_op_res_175879 = index_concat_branch_179950;
                        } else {
                            defunc_0_op_res_175879 = redout_179739;
                        }
                        
                        int64_t defunc_0_op_res_175880;
                        
                        if (defunc_0_leq_res_175878) {
                            defunc_0_op_res_175880 = index_concat_branch_179944;
                        } else {
                            defunc_0_op_res_175880 = redout_179740;
                        }
                        
                        int16_t defunc_0_op_res_175881;
                        
                        if (defunc_0_leq_res_175878) {
                            defunc_0_op_res_175881 = index_concat_branch_179938;
                        } else {
                            defunc_0_op_res_175881 = redout_179741;
                        }
                        
                        int8_t redout_tmp_181539 = defunc_0_op_res_175879;
                        int64_t redout_tmp_181540 = defunc_0_op_res_175880;
                        int16_t redout_tmp_181541 = defunc_0_op_res_175881;
                        
                        redout_179739 = redout_tmp_181539;
                        redout_179740 = redout_tmp_181540;
                        redout_179741 = redout_tmp_181541;
                    }
                    x_181195 = redout_179739;
                    x_181196 = redout_179740;
                    x_181197 = redout_179741;
                    defunc_0_reduce_res_179393 = x_181195;
                    defunc_0_reduce_res_179394 = x_181196;
                    defunc_0_reduce_res_179395 = x_181197;
                } else {
                    defunc_0_reduce_res_179393 = (int8_t) 0;
                    defunc_0_reduce_res_179394 = (int64_t) 0;
                    defunc_0_reduce_res_179395 = (int16_t) 0;
                }
                
                int64_t distance_175893 = add64((int64_t) 1, tmp_175891);
                int64_t binop_x_180045 = (int64_t) 8 * smallest_pow_2_geq_than_res_175838;
                int64_t bytes_180046 = block_sizze_175848 * binop_x_180045;
                int64_t binop_x_180048 = (int64_t) 2 * smallest_pow_2_geq_than_res_175838;
                int64_t bytes_180049 = block_sizze_175848 * binop_x_180048;
                int64_t bytes_180064 = (int64_t) 8 * block_sizze_175848;
                bool loop_cond_176002 = slt64(block_sizze_175848, flat_dim_175849);
                bool zzero_176003 = merge_block_sizze_175854 == (int64_t) 0;
                bool nonzzero_176004 = !zzero_176003;
                
                if (cond_175832) {
                    if (memblock_set(ctx, &ext_mem_180337, &mem_180038, "mem_180038") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180334, &mem_180040, "mem_180040") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180331, &mem_180042, "mem_180042") != 0)
                        return 1;
                } else {
                    if (mem_180044_cached_sizze_181946 < flat_dim_175849) {
                        err = lexical_realloc(ctx, &mem_180044, &mem_180044_cached_sizze_181946, flat_dim_175849);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180047_cached_sizze_181947 < bytes_180046) {
                        err = lexical_realloc(ctx, &mem_180047, &mem_180047_cached_sizze_181947, bytes_180046);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180050_cached_sizze_181948 < bytes_180049) {
                        err = lexical_realloc(ctx, &mem_180050, &mem_180050_cached_sizze_181948, bytes_180049);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180063_cached_sizze_181949 < block_sizze_175848) {
                        err = lexical_realloc(ctx, &mem_180063, &mem_180063_cached_sizze_181949, block_sizze_175848);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180065_cached_sizze_181950 < bytes_180064) {
                        err = lexical_realloc(ctx, &mem_180065, &mem_180065_cached_sizze_181950, bytes_180064);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180067_cached_sizze_181951 < greatest_divisor_leq_than_arg1_175853) {
                        err = lexical_realloc(ctx, &mem_180067, &mem_180067_cached_sizze_181951, greatest_divisor_leq_than_arg1_175853);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179759 = 0; i_179759 < smallest_pow_2_geq_than_res_175838; i_179759++) {
                        int64_t zp_lhs_175901 = mul64(block_sizze_175848, i_179759);
                        
                        for (int64_t i_179749 = 0; i_179749 < block_sizze_175848; i_179749++) {
                            int64_t k_175906 = add64(zp_lhs_175901, i_179749);
                            bool cond_175907 = slt64(k_175906, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785);
                            int8_t lifted_lambda_res_175908;
                            int64_t lifted_lambda_res_175909;
                            int16_t lifted_lambda_res_175910;
                            
                            if (cond_175907) {
                                bool x_179168 = sle64((int64_t) 0, k_175906);
                                bool bounds_check_179169 = cond_175907 && x_179168;
                                bool index_certs_179170;
                                
                                if (!bounds_check_179169) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_175906, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179171 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784, k_175906);
                                int8_t index_concat_branch_179172 = btoi_bool_i8(index_concat_cmp_179171);
                                int64_t index_concat_branch_179173;
                                
                                if (index_concat_cmp_179171) {
                                    int64_t index_concat_i_179174 = sub64(k_175906, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                                    int64_t index_primexp_179175 = add64(index_concat_branch_177357, index_concat_i_179174);
                                    
                                    index_concat_branch_179173 = index_primexp_179175;
                                } else {
                                    int64_t index_primexp_179176 = add64(k_175906, index_concat_branch_177363);
                                    
                                    index_concat_branch_179173 = index_primexp_179176;
                                }
                                
                                int16_t index_concat_branch_179177;
                                
                                if (index_concat_cmp_179171) {
                                    int64_t index_concat_i_179178 = sub64(k_175906, dzlz7bUZLzmZRz20U0z20U0z7dUzg_175784);
                                    int64_t slice_179179 = slice_177338 + index_concat_i_179178;
                                    int16_t index_concat_179180 = ((int16_t *) b_list_mem_179987.mem)[slice_179179];
                                    
                                    index_concat_branch_179177 = index_concat_179180;
                                } else {
                                    int64_t slice_179181 = k_175906 + slice_177339;
                                    int16_t index_concat_179182 = ((int16_t *) a_list_mem_179986.mem)[slice_179181];
                                    
                                    index_concat_branch_179177 = index_concat_179182;
                                }
                                lifted_lambda_res_175908 = index_concat_branch_179172;
                                lifted_lambda_res_175909 = index_concat_branch_179173;
                                lifted_lambda_res_175910 = index_concat_branch_179177;
                            } else {
                                lifted_lambda_res_175908 = defunc_0_reduce_res_179393;
                                lifted_lambda_res_175909 = defunc_0_reduce_res_179394;
                                lifted_lambda_res_175910 = defunc_0_reduce_res_179395;
                            }
                            ((int8_t *) mem_180063)[i_179749] = lifted_lambda_res_175908;
                            ((int64_t *) mem_180065)[i_179749] = lifted_lambda_res_175909;
                            ((int16_t *) mem_180067)[i_179749] = lifted_lambda_res_175910;
                        }
                        if (!cond_175890) {
                            for (int64_t i_175923 = 0; i_175923 < distance_175893; i_175923++) {
                                int64_t gt_arg1_175927 = add64((int64_t) 1, i_175923);
                                bool x_175928 = sle64((int64_t) 0, gt_arg1_175927);
                                bool y_175929 = slt64(gt_arg1_175927, block_sizze_175848);
                                bool bounds_check_175930 = x_175928 && y_175929;
                                bool index_certs_175931;
                                
                                if (!bounds_check_175930) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_175927, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_175935 = slt64(i_175923, block_sizze_175848);
                                bool index_certs_175936;
                                
                                if (!y_175935) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_175923, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_175932 = ((int8_t *) mem_180063)[gt_arg1_175927];
                                int64_t gt_arg1_175933 = ((int64_t *) mem_180065)[gt_arg1_175927];
                                int16_t gt_arg1_175934 = ((int16_t *) mem_180067)[gt_arg1_175927];
                                int8_t gt_arg0_175937 = ((int8_t *) mem_180063)[i_175923];
                                int64_t gt_arg0_175938 = ((int64_t *) mem_180065)[i_175923];
                                int16_t gt_arg0_175939 = ((int16_t *) mem_180067)[i_175923];
                                bool cond_175940 = gt_arg0_175937 == gt_arg1_175932;
                                bool defunc_0_leq_res_t_res_175941 = sle64(gt_arg0_175938, gt_arg1_175933);
                                bool defunc_0_leq_res_175942 = sle16(gt_arg0_175939, gt_arg1_175934);
                                bool x_175943 = cond_175940 && defunc_0_leq_res_t_res_175941;
                                bool x_175944 = !cond_175940;
                                bool y_175945 = defunc_0_leq_res_175942 && x_175944;
                                bool defunc_0_leq_res_175946 = x_175943 || y_175945;
                                bool defunc_0_lifted_gt_res_175947 = !defunc_0_leq_res_175946;
                                bool s_175948;
                                int64_t s_175952;
                                bool loop_while_175953;
                                int64_t j_175957;
                                
                                loop_while_175953 = defunc_0_lifted_gt_res_175947;
                                j_175957 = i_175923;
                                while (loop_while_175953) {
                                    bool x_175958 = sle64((int64_t) 0, j_175957);
                                    bool y_175959 = slt64(j_175957, block_sizze_175848);
                                    bool bounds_check_175960 = x_175958 && y_175959;
                                    bool index_certs_175961;
                                    
                                    if (!bounds_check_175960) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_175957, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_175965 = add64((int64_t) 1, j_175957);
                                    bool x_175966 = sle64((int64_t) 0, copy_arg0_175965);
                                    bool y_175967 = slt64(copy_arg0_175965, block_sizze_175848);
                                    bool bounds_check_175968 = x_175966 && y_175967;
                                    bool index_certs_175969;
                                    
                                    if (!bounds_check_175968) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_175965, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_175962 = ((int8_t *) mem_180063)[j_175957];
                                    int64_t copy_arg0_175963 = ((int64_t *) mem_180065)[j_175957];
                                    int16_t copy_arg0_175964 = ((int16_t *) mem_180067)[j_175957];
                                    int8_t copy_arg0_175970 = ((int8_t *) mem_180063)[copy_arg0_175965];
                                    int64_t copy_arg0_175971 = ((int64_t *) mem_180065)[copy_arg0_175965];
                                    int16_t copy_arg0_175972 = ((int16_t *) mem_180067)[copy_arg0_175965];
                                    
                                    ((int8_t *) mem_180063)[j_175957] = copy_arg0_175970;
                                    ((int64_t *) mem_180065)[j_175957] = copy_arg0_175971;
                                    ((int16_t *) mem_180067)[j_175957] = copy_arg0_175972;
                                    ((int8_t *) mem_180063)[copy_arg0_175965] = copy_arg0_175962;
                                    ((int64_t *) mem_180065)[copy_arg0_175965] = copy_arg0_175963;
                                    ((int16_t *) mem_180067)[copy_arg0_175965] = copy_arg0_175964;
                                    
                                    int64_t tmp_175979 = sub64(j_175957, (int64_t) 1);
                                    bool cond_175980 = sle64((int64_t) 0, tmp_175979);
                                    bool loop_cond_175981;
                                    
                                    if (cond_175980) {
                                        bool y_179186 = slt64(tmp_175979, block_sizze_175848);
                                        bool bounds_check_179187 = cond_175980 && y_179186;
                                        bool index_certs_179188;
                                        
                                        if (!bounds_check_179187) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_175979, "] out of bounds for array of shape [", (long long) block_sizze_175848, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179183 = ((int8_t *) mem_180063)[j_175957];
                                        int64_t gt_arg1_179184 = ((int64_t *) mem_180065)[j_175957];
                                        int16_t gt_arg1_179185 = ((int16_t *) mem_180067)[j_175957];
                                        int8_t gt_arg0_179189 = ((int8_t *) mem_180063)[tmp_175979];
                                        int64_t gt_arg0_179190 = ((int64_t *) mem_180065)[tmp_175979];
                                        int16_t gt_arg0_179191 = ((int16_t *) mem_180067)[tmp_175979];
                                        bool cond_179192 = gt_arg0_179189 == gt_arg1_179183;
                                        bool defunc_0_leq_res_t_res_179193 = sle64(gt_arg0_179190, gt_arg1_179184);
                                        bool defunc_0_leq_res_179194 = sle16(gt_arg0_179191, gt_arg1_179185);
                                        bool x_179195 = cond_179192 && defunc_0_leq_res_t_res_179193;
                                        bool x_179196 = !cond_179192;
                                        bool y_179197 = defunc_0_leq_res_179194 && x_179196;
                                        bool defunc_0_leq_res_179198 = x_179195 || y_179197;
                                        bool defunc_0_lifted_gt_res_179199 = !defunc_0_leq_res_179198;
                                        
                                        loop_cond_175981 = defunc_0_lifted_gt_res_179199;
                                    } else {
                                        loop_cond_175981 = 0;
                                    }
                                    
                                    bool loop_while_tmp_181551 = loop_cond_175981;
                                    int64_t j_tmp_181555 = tmp_175979;
                                    
                                    loop_while_175953 = loop_while_tmp_181551;
                                    j_175957 = j_tmp_181555;
                                }
                                s_175948 = loop_while_175953;
                                s_175952 = j_175957;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180044, i_179759 * block_sizze_175848, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180063, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175848});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180047, i_179759 * block_sizze_175848, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180065, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175848});
                        lmad_copy_2b(ctx, 1, (uint16_t *) mem_180050, i_179759 * block_sizze_175848, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_180067, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_175848});
                    }
                    if (memblock_alloc(ctx, &mem_180144, flat_dim_175849, "mem_180144")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180144.mem, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (uint8_t *) mem_180044, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175838, block_sizze_175848});
                    if (memblock_alloc(ctx, &mem_180148, bytes_180046, "mem_180148")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180148.mem, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (uint64_t *) mem_180047, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175838, block_sizze_175848});
                    if (memblock_alloc(ctx, &mem_180152, bytes_180049, "mem_180152")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_180152.mem, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (uint16_t *) mem_180050, (int64_t) 0, (int64_t []) {block_sizze_175848, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_175838, block_sizze_175848});
                    
                    int64_t data_176005;
                    bool data_176006;
                    int64_t data_176010;
                    int64_t loop_dz2084Uz2082U_176011;
                    bool loop_while_176012;
                    int64_t stride_176016;
                    
                    if (memblock_set(ctx, &mem_param_180156, &mem_180144, "mem_180144") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180159, &mem_180148, "mem_180148") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180162, &mem_180152, "mem_180152") != 0)
                        return 1;
                    loop_dz2084Uz2082U_176011 = flat_dim_175849;
                    loop_while_176012 = loop_cond_176002;
                    stride_176016 = block_sizze_175848;
                    while (loop_while_176012) {
                        int64_t next_stride_176017 = mul64((int64_t) 2, stride_176016);
                        bool zzero_176018 = next_stride_176017 == (int64_t) 0;
                        bool nonzzero_176019 = !zzero_176018;
                        bool nonzzero_cert_176020;
                        
                        if (!nonzzero_176019) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_176021 = sdiv64(flat_dim_175849, next_stride_176017);
                        bool bounds_invalid_upwards_176022 = slt64(num_merges_176021, (int64_t) 0);
                        bool valid_176023 = !bounds_invalid_upwards_176022;
                        bool range_valid_c_176024;
                        
                        if (!valid_176023) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_176021, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_176026 = sub64(next_stride_176017, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_176027 = sle64((int64_t) 0, m_176026);
                        bool cond_176029 = slt64(next_stride_176017, (int64_t) 10);
                        bool protect_assert_disj_176030 = nonzzero_176004 || cond_176029;
                        bool nonzzero_cert_176031;
                        
                        if (!protect_assert_disj_176030) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_176032 = smod_safe64(next_stride_176017, merge_block_sizze_175854);
                        bool num_blocks_176033 = zeze_lhs_176032 == (int64_t) 0;
                        bool protect_assert_disj_176034 = cond_176029 || num_blocks_176033;
                        bool assert_c_176035;
                        
                        if (!protect_assert_disj_176034) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_176037 = sdiv_safe64(next_stride_176017, merge_block_sizze_175854);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038 = add64((int64_t) 1, num_blocks_176037);
                        int64_t j_m_i_176039 = sub64(next_stride_176017, stride_176016);
                        int64_t flat_dim_176040 = merge_block_sizze_175854 * num_blocks_176037;
                        bool bounds_invalid_upwards_176041 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038, (int64_t) 0);
                        bool empty_slice_176042 = j_m_i_176039 == (int64_t) 0;
                        int64_t m_176043 = sub64(j_m_i_176039, (int64_t) 1);
                        bool zzero_lte_i_176044 = sle64((int64_t) 0, stride_176016);
                        bool i_lte_j_176045 = sle64(stride_176016, next_stride_176017);
                        bool empty_slice_176046 = stride_176016 == (int64_t) 0;
                        int64_t m_176047 = sub64(stride_176016, (int64_t) 1);
                        bool bounds_invalid_upwards_176048 = slt64(num_blocks_176037, (int64_t) 0);
                        bool cond_176049 = slt64((int64_t) 0, stride_176016);
                        bool valid_176050 = !bounds_invalid_upwards_176041;
                        int64_t i_p_m_t_s_176051 = add64(stride_176016, m_176043);
                        bool zzero_leq_i_p_m_t_s_176052 = sle64((int64_t) 0, m_176047);
                        bool i_p_m_t_s_leq_w_176053 = slt64(m_176047, next_stride_176017);
                        bool valid_176054 = !bounds_invalid_upwards_176048;
                        bool i_p_m_t_s_leq_w_176055 = slt64(m_176026, flat_dim_176040);
                        bool y_176056 = slt64((int64_t) 0, j_m_i_176039);
                        bool protect_assert_disj_176057 = cond_176029 || valid_176050;
                        bool range_valid_c_176058;
                        
                        if (!protect_assert_disj_176057) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_176059 = sle64((int64_t) 0, i_p_m_t_s_176051);
                        bool i_p_m_t_s_leq_w_176060 = slt64(i_p_m_t_s_176051, next_stride_176017);
                        bool y_176061 = zzero_leq_i_p_m_t_s_176052 && i_p_m_t_s_leq_w_176053;
                        bool protect_assert_disj_176062 = cond_176029 || valid_176054;
                        bool range_valid_c_176063;
                        
                        if (!protect_assert_disj_176062) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_176037, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_176064 = zzero_leq_i_p_m_t_s_176027 && i_p_m_t_s_leq_w_176055;
                        bool y_176065 = zzero_lte_i_176044 && i_p_m_t_s_leq_w_176060;
                        bool forwards_ok_176066 = zzero_lte_i_176044 && y_176061;
                        bool ok_or_empty_176067 = zzero_176018 || y_176064;
                        bool protect_assert_disj_176068 = cond_176049 || y_176056;
                        bool y_176069 = zzero_leq_i_p_m_t_s_176059 && y_176065;
                        bool ok_or_empty_176070 = empty_slice_176046 || forwards_ok_176066;
                        bool protect_assert_disj_176071 = cond_176029 || ok_or_empty_176067;
                        bool index_certs_176072;
                        
                        if (!protect_assert_disj_176071) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176017, "] out of bounds for array of shape [", (long long) flat_dim_176040, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_176073 = !cond_176029;
                        bool protect_assert_disj_176074 = protect_assert_disj_176068 || loop_not_taken_176073;
                        bool index_certs_176075;
                        
                        if (!protect_assert_disj_176074) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_176076 = i_lte_j_176045 && y_176069;
                        bool protect_assert_disj_176077 = cond_176029 || ok_or_empty_176070;
                        bool index_certs_176078;
                        
                        if (!protect_assert_disj_176077) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176016, "] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176079 = ok_or_empty_176070 || loop_not_taken_176073;
                        bool index_certs_176080;
                        
                        if (!protect_assert_disj_176079) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176016, "] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_176081 = empty_slice_176042 || forwards_ok_176076;
                        bool protect_assert_disj_176082 = cond_176029 || ok_or_empty_176081;
                        bool index_certs_176083;
                        
                        if (!protect_assert_disj_176082) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176016, ":] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176084 = loop_not_taken_176073 || ok_or_empty_176081;
                        bool index_certs_176085;
                        
                        if (!protect_assert_disj_176084) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176016, ":] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180163 = next_stride_176017 * num_merges_176021;
                        int64_t binop_x_180165 = (int64_t) 8 * num_merges_176021;
                        int64_t bytes_180166 = next_stride_176017 * binop_x_180165;
                        int64_t binop_x_180168 = (int64_t) 2 * num_merges_176021;
                        int64_t bytes_180169 = next_stride_176017 * binop_x_180168;
                        bool i_lte_j_176028 = sle64((int64_t) 0, next_stride_176017);
                        
                        if (mem_180164_cached_sizze_181952 < bytes_180163) {
                            err = lexical_realloc(ctx, &mem_180164, &mem_180164_cached_sizze_181952, bytes_180163);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180167_cached_sizze_181953 < bytes_180166) {
                            err = lexical_realloc(ctx, &mem_180167, &mem_180167_cached_sizze_181953, bytes_180166);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180170_cached_sizze_181954 < bytes_180169) {
                            err = lexical_realloc(ctx, &mem_180170, &mem_180170_cached_sizze_181954, bytes_180169);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180183 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038;
                        int64_t binop_x_180201 = (int64_t) 8 * num_blocks_176037;
                        int64_t bytes_180202 = merge_block_sizze_175854 * binop_x_180201;
                        int64_t binop_x_180204 = (int64_t) 2 * num_blocks_176037;
                        int64_t bytes_180205 = merge_block_sizze_175854 * binop_x_180204;
                        int64_t bytes_180266 = (int64_t) 16 * stride_176016;
                        int64_t bytes_180268 = (int64_t) 4 * stride_176016;
                        
                        for (int64_t i_179786 = 0; i_179786 < num_merges_176021; i_179786++) {
                            int64_t start_176090 = mul64(next_stride_176017, i_179786);
                            int64_t j_m_i_176091 = sub64(loop_dz2084Uz2082U_176011, start_176090);
                            bool empty_slice_176092 = j_m_i_176091 == (int64_t) 0;
                            int64_t m_176093 = sub64(j_m_i_176091, (int64_t) 1);
                            int64_t i_p_m_t_s_176094 = add64(start_176090, m_176093);
                            bool zzero_leq_i_p_m_t_s_176095 = sle64((int64_t) 0, i_p_m_t_s_176094);
                            bool i_p_m_t_s_leq_w_176096 = slt64(i_p_m_t_s_176094, loop_dz2084Uz2082U_176011);
                            bool zzero_lte_i_176097 = sle64((int64_t) 0, start_176090);
                            bool i_lte_j_176098 = sle64(start_176090, loop_dz2084Uz2082U_176011);
                            bool y_176099 = i_p_m_t_s_leq_w_176096 && zzero_lte_i_176097;
                            bool y_176100 = zzero_leq_i_p_m_t_s_176095 && y_176099;
                            bool forwards_ok_176101 = i_lte_j_176098 && y_176100;
                            bool ok_or_empty_176102 = empty_slice_176092 || forwards_ok_176101;
                            bool index_certs_176103;
                            
                            if (!ok_or_empty_176102) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_176090, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_176011, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_176104 = slt64(m_176026, j_m_i_176091);
                            bool y_176105 = zzero_leq_i_p_m_t_s_176027 && i_p_m_t_s_leq_w_176104;
                            bool forwards_ok_176106 = i_lte_j_176028 && y_176105;
                            bool ok_or_empty_176107 = zzero_176018 || forwards_ok_176106;
                            bool index_certs_176108;
                            
                            if (!ok_or_empty_176107) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176017, "] out of bounds for array of shape [", (long long) j_m_i_176091, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_176029) {
                                int8_t dummy_179238;
                                int64_t dummy_179239;
                                int16_t dummy_179240;
                                
                                if (cond_176049) {
                                    int8_t head_res_179241 = ((int8_t *) mem_param_180156.mem)[start_176090];
                                    int64_t head_res_179242 = ((int64_t *) mem_param_180159.mem)[start_176090];
                                    int16_t head_res_179243 = ((int16_t *) mem_param_180162.mem)[start_176090];
                                    
                                    dummy_179238 = head_res_179241;
                                    dummy_179239 = head_res_179242;
                                    dummy_179240 = head_res_179243;
                                } else {
                                    int64_t slice_179244 = stride_176016 + start_176090;
                                    int8_t head_res_179245 = ((int8_t *) mem_param_180156.mem)[slice_179244];
                                    int64_t head_res_179246 = ((int64_t *) mem_param_180159.mem)[slice_179244];
                                    int16_t head_res_179247 = ((int16_t *) mem_param_180162.mem)[slice_179244];
                                    
                                    dummy_179238 = head_res_179245;
                                    dummy_179239 = head_res_179246;
                                    dummy_179240 = head_res_179247;
                                }
                                if (memblock_alloc(ctx, &mem_180265, next_stride_176017, "mem_180265")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181568 = 0; nest_i_181568 < next_stride_176017; nest_i_181568++) {
                                    ((int8_t *) mem_180265.mem)[nest_i_181568] = dummy_179238;
                                }
                                if (memblock_alloc(ctx, &mem_180267, bytes_180266, "mem_180267")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181569 = 0; nest_i_181569 < next_stride_176017; nest_i_181569++) {
                                    ((int64_t *) mem_180267.mem)[nest_i_181569] = dummy_179239;
                                }
                                if (memblock_alloc(ctx, &mem_180269, bytes_180268, "mem_180269")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181570 = 0; nest_i_181570 < next_stride_176017; nest_i_181570++) {
                                    ((int16_t *) mem_180269.mem)[nest_i_181570] = dummy_179240;
                                }
                                
                                int64_t data_179251;
                                int64_t i_179256 = (int64_t) 0;
                                
                                for (int64_t k_179255 = 0; k_179255 < next_stride_176017; k_179255++) {
                                    int64_t j_179260 = sub64(k_179255, i_179256);
                                    bool cond_179261 = j_179260 == j_m_i_176039;
                                    bool cond_179262;
                                    
                                    if (cond_179261) {
                                        cond_179262 = 1;
                                    } else {
                                        bool cond_179263 = slt64(i_179256, stride_176016);
                                        bool cond_f_res_179264;
                                        
                                        if (cond_179263) {
                                            bool x_179265 = sle64((int64_t) 0, j_179260);
                                            bool y_179266 = slt64(j_179260, j_m_i_176039);
                                            bool bounds_check_179267 = x_179265 && y_179266;
                                            bool index_certs_179268;
                                            
                                            if (!bounds_check_179267) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179260, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179274 = sle64((int64_t) 0, i_179256);
                                            bool bounds_check_179275 = cond_179263 && x_179274;
                                            bool index_certs_179276;
                                            
                                            if (!bounds_check_179275) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179256, "] out of bounds for array of shape [", (long long) stride_176016, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179269 = stride_176016 + j_179260;
                                            int64_t slice_179270 = start_176090 + slice_179269;
                                            int8_t leq_arg1_179271 = ((int8_t *) mem_param_180156.mem)[slice_179270];
                                            int64_t leq_arg1_179272 = ((int64_t *) mem_param_180159.mem)[slice_179270];
                                            int16_t leq_arg1_179273 = ((int16_t *) mem_param_180162.mem)[slice_179270];
                                            int64_t slice_179277 = start_176090 + i_179256;
                                            int8_t leq_arg0_179278 = ((int8_t *) mem_param_180156.mem)[slice_179277];
                                            int64_t leq_arg0_179279 = ((int64_t *) mem_param_180159.mem)[slice_179277];
                                            int16_t leq_arg0_179280 = ((int16_t *) mem_param_180162.mem)[slice_179277];
                                            bool cond_179281 = leq_arg0_179278 == leq_arg1_179271;
                                            bool defunc_0_leq_res_t_res_179282 = sle64(leq_arg0_179279, leq_arg1_179272);
                                            bool defunc_0_leq_res_179283 = sle16(leq_arg0_179280, leq_arg1_179273);
                                            bool x_179284 = cond_179281 && defunc_0_leq_res_t_res_179282;
                                            bool x_179285 = !cond_179281;
                                            bool y_179286 = defunc_0_leq_res_179283 && x_179285;
                                            bool defunc_0_leq_res_179287 = x_179284 || y_179286;
                                            
                                            cond_f_res_179264 = defunc_0_leq_res_179287;
                                        } else {
                                            cond_f_res_179264 = 0;
                                        }
                                        cond_179262 = cond_f_res_179264;
                                    }
                                    
                                    int64_t loopres_179288;
                                    int8_t loopres_179289;
                                    int64_t loopres_179290;
                                    int16_t loopres_179291;
                                    
                                    if (cond_179262) {
                                        bool x_179293 = sle64((int64_t) 0, i_179256);
                                        bool y_179294 = slt64(i_179256, stride_176016);
                                        bool bounds_check_179295 = x_179293 && y_179294;
                                        bool index_certs_179296;
                                        
                                        if (!bounds_check_179295) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179256, "] out of bounds for array of shape [", (long long) stride_176016, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179292 = add64((int64_t) 1, i_179256);
                                        int64_t slice_179297 = start_176090 + i_179256;
                                        int8_t tmp_179298 = ((int8_t *) mem_param_180156.mem)[slice_179297];
                                        int64_t tmp_179299 = ((int64_t *) mem_param_180159.mem)[slice_179297];
                                        int16_t tmp_179300 = ((int16_t *) mem_param_180162.mem)[slice_179297];
                                        
                                        loopres_179288 = tmp_179292;
                                        loopres_179289 = tmp_179298;
                                        loopres_179290 = tmp_179299;
                                        loopres_179291 = tmp_179300;
                                    } else {
                                        bool x_179301 = sle64((int64_t) 0, j_179260);
                                        bool y_179302 = slt64(j_179260, j_m_i_176039);
                                        bool bounds_check_179303 = x_179301 && y_179302;
                                        bool index_certs_179304;
                                        
                                        if (!bounds_check_179303) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179260, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179305 = stride_176016 + j_179260;
                                        int64_t slice_179306 = start_176090 + slice_179305;
                                        int8_t tmp_179307 = ((int8_t *) mem_param_180156.mem)[slice_179306];
                                        int64_t tmp_179308 = ((int64_t *) mem_param_180159.mem)[slice_179306];
                                        int16_t tmp_179309 = ((int16_t *) mem_param_180162.mem)[slice_179306];
                                        
                                        loopres_179288 = i_179256;
                                        loopres_179289 = tmp_179307;
                                        loopres_179290 = tmp_179308;
                                        loopres_179291 = tmp_179309;
                                    }
                                    ((int8_t *) mem_180265.mem)[k_179255] = loopres_179289;
                                    ((int64_t *) mem_180267.mem)[k_179255] = loopres_179290;
                                    ((int16_t *) mem_180269.mem)[k_179255] = loopres_179291;
                                    
                                    int64_t i_tmp_181571 = loopres_179288;
                                    
                                    i_179256 = i_tmp_181571;
                                }
                                data_179251 = i_179256;
                                if (memblock_set(ctx, &ext_mem_180296, &mem_180265, "mem_180265") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180293, &mem_180267, "mem_180267") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180290, &mem_180269, "mem_180269") != 0)
                                    return 1;
                            } else {
                                if (mem_180184_cached_sizze_181955 < bytes_180183) {
                                    err = lexical_realloc(ctx, &mem_180184, &mem_180184_cached_sizze_181955, bytes_180183);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180186_cached_sizze_181956 < bytes_180183) {
                                    err = lexical_realloc(ctx, &mem_180186, &mem_180186_cached_sizze_181956, bytes_180183);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179767 = 0; i_179767 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038; i_179767++) {
                                    int64_t split_count_arg3_176191 = mul64(merge_block_sizze_175854, i_179767);
                                    int64_t defunc_0_split_count_res_176192;
                                    int64_t defunc_0_split_count_res_176193;
                                    int64_t defunc_0_split_count_res_176194;
                                    int64_t defunc_0_split_count_res_176195;
                                    int64_t defunc_0_split_count_res_176196;
                                    
                                    if (futrts_lifted_normalizze_8970(ctx, &defunc_0_split_count_res_176192, &defunc_0_split_count_res_176193, &defunc_0_split_count_res_176194, &defunc_0_split_count_res_176195, &defunc_0_split_count_res_176196, (int64_t) 0, stride_176016, (int64_t) 0, j_m_i_176039, split_count_arg3_176191) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_176197 = slt64((int64_t) 0, defunc_0_split_count_res_176196);
                                    bool defunc_0_split_count_res_176198;
                                    int64_t defunc_0_split_count_res_176199;
                                    int64_t defunc_0_split_count_res_176200;
                                    int64_t defunc_0_split_count_res_176201;
                                    int64_t defunc_0_split_count_res_176202;
                                    int64_t defunc_0_split_count_res_176203;
                                    bool loop_while_176204;
                                    int64_t ss_176205;
                                    int64_t ss_176206;
                                    int64_t tt_176207;
                                    int64_t tt_176208;
                                    int64_t count_176209;
                                    
                                    loop_while_176204 = loop_cond_176197;
                                    ss_176205 = defunc_0_split_count_res_176192;
                                    ss_176206 = defunc_0_split_count_res_176193;
                                    tt_176207 = defunc_0_split_count_res_176194;
                                    tt_176208 = defunc_0_split_count_res_176195;
                                    count_176209 = defunc_0_split_count_res_176196;
                                    while (loop_while_176204) {
                                        int64_t zlze_lhs_176210 = sub64(ss_176206, ss_176205);
                                        bool cond_176211 = sle64(zlze_lhs_176210, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_176212;
                                        int64_t defunc_0_lifted_step_res_176213;
                                        int64_t defunc_0_lifted_step_res_176214;
                                        int64_t defunc_0_lifted_step_res_176215;
                                        
                                        if (cond_176211) {
                                            int64_t tmp_179313 = add64(tt_176207, count_176209);
                                            
                                            defunc_0_lifted_step_res_176212 = ss_176205;
                                            defunc_0_lifted_step_res_176213 = tmp_179313;
                                            defunc_0_lifted_step_res_176214 = tt_176208;
                                            defunc_0_lifted_step_res_176215 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_176217 = sub64(tt_176208, tt_176207);
                                            bool cond_176218 = sle64(zlze_lhs_176217, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_176219;
                                            int64_t defunc_0_lifted_step_res_f_res_176220;
                                            int64_t defunc_0_lifted_step_res_f_res_176221;
                                            int64_t defunc_0_lifted_step_res_f_res_176222;
                                            
                                            if (cond_176218) {
                                                int64_t tmp_179314 = add64(ss_176205, count_176209);
                                                
                                                defunc_0_lifted_step_res_f_res_176219 = tmp_179314;
                                                defunc_0_lifted_step_res_f_res_176220 = tt_176207;
                                                defunc_0_lifted_step_res_f_res_176221 = tt_176208;
                                                defunc_0_lifted_step_res_f_res_176222 = (int64_t) 0;
                                            } else {
                                                bool cond_176224 = count_176209 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176225;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176226;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176227;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176228;
                                                
                                                if (cond_176224) {
                                                    bool x_179316 = sle64((int64_t) 0, ss_176205);
                                                    bool y_179317 = slt64(ss_176205, stride_176016);
                                                    bool bounds_check_179318 = x_179316 && y_179317;
                                                    bool index_certs_179319;
                                                    
                                                    if (!bounds_check_179318) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_176205, "] out of bounds for array of shape [", (long long) stride_176016, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179324 = sle64((int64_t) 0, tt_176207);
                                                    bool y_179325 = slt64(tt_176207, j_m_i_176039);
                                                    bool bounds_check_179326 = x_179324 && y_179325;
                                                    bool index_certs_179327;
                                                    
                                                    if (!bounds_check_179326) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_176207, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179320 = start_176090 + ss_176205;
                                                    int8_t leq_arg1_179321 = ((int8_t *) mem_param_180156.mem)[slice_179320];
                                                    int64_t leq_arg1_179322 = ((int64_t *) mem_param_180159.mem)[slice_179320];
                                                    int16_t leq_arg1_179323 = ((int16_t *) mem_param_180162.mem)[slice_179320];
                                                    int64_t slice_179328 = stride_176016 + tt_176207;
                                                    int64_t slice_179329 = start_176090 + slice_179328;
                                                    int8_t leq_arg0_179330 = ((int8_t *) mem_param_180156.mem)[slice_179329];
                                                    int64_t leq_arg0_179331 = ((int64_t *) mem_param_180159.mem)[slice_179329];
                                                    int16_t leq_arg0_179332 = ((int16_t *) mem_param_180162.mem)[slice_179329];
                                                    bool cond_179333 = leq_arg0_179330 == leq_arg1_179321;
                                                    bool defunc_0_leq_res_t_res_179334 = sle64(leq_arg0_179331, leq_arg1_179322);
                                                    bool defunc_0_leq_res_179335 = sle16(leq_arg0_179332, leq_arg1_179323);
                                                    bool x_179336 = cond_179333 && defunc_0_leq_res_t_res_179334;
                                                    bool x_179337 = !cond_179333;
                                                    bool y_179338 = defunc_0_leq_res_179335 && x_179337;
                                                    bool defunc_0_leq_res_179339 = x_179336 || y_179338;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179340;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179341;
                                                    
                                                    if (defunc_0_leq_res_179339) {
                                                        int64_t tmp_179342 = add64((int64_t) 1, tt_176207);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179340 = ss_176205;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179341 = tmp_179342;
                                                    } else {
                                                        int64_t tmp_179343 = add64((int64_t) 1, ss_176205);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179340 = tmp_179343;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179341 = tt_176207;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176225 = defunc_0_lifted_step_res_f_res_f_res_t_res_179340;
                                                    defunc_0_lifted_step_res_f_res_f_res_176226 = defunc_0_lifted_step_res_f_res_f_res_t_res_179341;
                                                    defunc_0_lifted_step_res_f_res_f_res_176227 = tt_176208;
                                                    defunc_0_lifted_step_res_f_res_f_res_176228 = (int64_t) 0;
                                                } else {
                                                    int64_t m_176257 = sdiv64(count_176209, (int64_t) 2);
                                                    int64_t n_176258 = sub64(count_176209, m_176257);
                                                    bool cond_176259 = n_176258 == (int64_t) 0;
                                                    int64_t zgze_lhs_176260 = add64(ss_176205, m_176257);
                                                    bool cond_f_res_176261 = sle64(ss_176206, zgze_lhs_176260);
                                                    bool x_176262 = !cond_176259;
                                                    bool y_176263 = cond_f_res_176261 && x_176262;
                                                    bool cond_176264 = cond_176259 || y_176263;
                                                    bool leq_y_x_176265;
                                                    
                                                    if (cond_176264) {
                                                        leq_y_x_176265 = 1;
                                                    } else {
                                                        bool x_176266 = sle64((int64_t) 0, zgze_lhs_176260);
                                                        bool y_176267 = slt64(zgze_lhs_176260, stride_176016);
                                                        bool bounds_check_176268 = x_176266 && y_176267;
                                                        bool index_certs_176269;
                                                        
                                                        if (!bounds_check_176268) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_176260, "] out of bounds for array of shape [", (long long) stride_176016, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_176274 = add64(tt_176207, n_176258);
                                                        int64_t leq_arg0_176275 = sub64(zm_lhs_176274, (int64_t) 1);
                                                        bool x_176276 = sle64((int64_t) 0, leq_arg0_176275);
                                                        bool y_176277 = slt64(leq_arg0_176275, j_m_i_176039);
                                                        bool bounds_check_176278 = x_176276 && y_176277;
                                                        bool index_certs_176279;
                                                        
                                                        if (!bounds_check_176278) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_176275, "] out of bounds for array of shape [", (long long) j_m_i_176039, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_176270 = start_176090 + zgze_lhs_176260;
                                                        int8_t leq_arg1_176271 = ((int8_t *) mem_param_180156.mem)[slice_176270];
                                                        int64_t leq_arg1_176272 = ((int64_t *) mem_param_180159.mem)[slice_176270];
                                                        int16_t leq_arg1_176273 = ((int16_t *) mem_param_180162.mem)[slice_176270];
                                                        int64_t slice_176280 = stride_176016 + leq_arg0_176275;
                                                        int64_t slice_176281 = start_176090 + slice_176280;
                                                        int8_t leq_arg0_176282 = ((int8_t *) mem_param_180156.mem)[slice_176281];
                                                        int64_t leq_arg0_176283 = ((int64_t *) mem_param_180159.mem)[slice_176281];
                                                        int16_t leq_arg0_176284 = ((int16_t *) mem_param_180162.mem)[slice_176281];
                                                        bool cond_176285 = leq_arg0_176282 == leq_arg1_176271;
                                                        bool defunc_0_leq_res_t_res_176286 = sle64(leq_arg0_176283, leq_arg1_176272);
                                                        bool defunc_0_leq_res_176287 = sle16(leq_arg0_176284, leq_arg1_176273);
                                                        bool x_176288 = cond_176285 && defunc_0_leq_res_t_res_176286;
                                                        bool x_176289 = !cond_176285;
                                                        bool y_176290 = defunc_0_leq_res_176287 && x_176289;
                                                        bool defunc_0_leq_res_176291 = x_176288 || y_176290;
                                                        
                                                        leq_y_x_176265 = defunc_0_leq_res_176291;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176292;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176293;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176294;
                                                    
                                                    if (leq_y_x_176265) {
                                                        int64_t tmp_179344 = add64(tt_176207, n_176258);
                                                        int64_t tmp_179345 = sub64(count_176209, n_176258);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176292 = tmp_179344;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176293 = tt_176208;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176294 = tmp_179345;
                                                    } else {
                                                        int64_t tmp_176297 = add64(tt_176207, n_176258);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176292 = tt_176207;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176293 = tmp_176297;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176294 = count_176209;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176225 = ss_176205;
                                                    defunc_0_lifted_step_res_f_res_f_res_176226 = defunc_0_lifted_step_res_f_res_f_res_f_res_176292;
                                                    defunc_0_lifted_step_res_f_res_f_res_176227 = defunc_0_lifted_step_res_f_res_f_res_f_res_176293;
                                                    defunc_0_lifted_step_res_f_res_f_res_176228 = defunc_0_lifted_step_res_f_res_f_res_f_res_176294;
                                                }
                                                defunc_0_lifted_step_res_f_res_176219 = defunc_0_lifted_step_res_f_res_f_res_176225;
                                                defunc_0_lifted_step_res_f_res_176220 = defunc_0_lifted_step_res_f_res_f_res_176226;
                                                defunc_0_lifted_step_res_f_res_176221 = defunc_0_lifted_step_res_f_res_f_res_176227;
                                                defunc_0_lifted_step_res_f_res_176222 = defunc_0_lifted_step_res_f_res_f_res_176228;
                                            }
                                            defunc_0_lifted_step_res_176212 = defunc_0_lifted_step_res_f_res_176219;
                                            defunc_0_lifted_step_res_176213 = defunc_0_lifted_step_res_f_res_176220;
                                            defunc_0_lifted_step_res_176214 = defunc_0_lifted_step_res_f_res_176221;
                                            defunc_0_lifted_step_res_176215 = defunc_0_lifted_step_res_f_res_176222;
                                        }
                                        
                                        int64_t loopres_176298;
                                        int64_t loopres_176299;
                                        int64_t loopres_176300;
                                        int64_t loopres_176301;
                                        int64_t loopres_176302;
                                        
                                        if (futrts_lifted_normalizze_8970(ctx, &loopres_176298, &loopres_176299, &loopres_176300, &loopres_176301, &loopres_176302, defunc_0_lifted_step_res_176212, ss_176206, defunc_0_lifted_step_res_176213, defunc_0_lifted_step_res_176214, defunc_0_lifted_step_res_176215) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_176303 = slt64((int64_t) 0, loopres_176302);
                                        bool loop_while_tmp_181577 = loop_cond_176303;
                                        int64_t ss_tmp_181578 = loopres_176298;
                                        int64_t ss_tmp_181579 = loopres_176299;
                                        int64_t tt_tmp_181580 = loopres_176300;
                                        int64_t tt_tmp_181581 = loopres_176301;
                                        int64_t count_tmp_181582 = loopres_176302;
                                        
                                        loop_while_176204 = loop_while_tmp_181577;
                                        ss_176205 = ss_tmp_181578;
                                        ss_176206 = ss_tmp_181579;
                                        tt_176207 = tt_tmp_181580;
                                        tt_176208 = tt_tmp_181581;
                                        count_176209 = count_tmp_181582;
                                    }
                                    defunc_0_split_count_res_176198 = loop_while_176204;
                                    defunc_0_split_count_res_176199 = ss_176205;
                                    defunc_0_split_count_res_176200 = ss_176206;
                                    defunc_0_split_count_res_176201 = tt_176207;
                                    defunc_0_split_count_res_176202 = tt_176208;
                                    defunc_0_split_count_res_176203 = count_176209;
                                    ((int64_t *) mem_180184)[i_179767] = defunc_0_split_count_res_176199;
                                    ((int64_t *) mem_180186)[i_179767] = defunc_0_split_count_res_176201;
                                }
                                if (mem_180200_cached_sizze_181957 < flat_dim_176040) {
                                    err = lexical_realloc(ctx, &mem_180200, &mem_180200_cached_sizze_181957, flat_dim_176040);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180203_cached_sizze_181958 < bytes_180202) {
                                    err = lexical_realloc(ctx, &mem_180203, &mem_180203_cached_sizze_181958, bytes_180202);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180206_cached_sizze_181959 < bytes_180205) {
                                    err = lexical_realloc(ctx, &mem_180206, &mem_180206_cached_sizze_181959, bytes_180205);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179776 = 0; i_179776 < num_blocks_176037; i_179776++) {
                                    bool y_176310 = slt64(i_179776, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038);
                                    bool index_certs_176312;
                                    
                                    if (!y_176310) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179776, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_176313 = ((int64_t *) mem_180184)[i_179776];
                                    int64_t defunc_0_f_res_176314 = ((int64_t *) mem_180186)[i_179776];
                                    int64_t tmp_176315 = add64((int64_t) 1, i_179776);
                                    bool x_176316 = sle64((int64_t) 0, tmp_176315);
                                    bool y_176317 = slt64(tmp_176315, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038);
                                    bool bounds_check_176318 = x_176316 && y_176317;
                                    bool index_certs_176319;
                                    
                                    if (!bounds_check_176318) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176315, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176038, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_176320 = ((int64_t *) mem_180184)[tmp_176315];
                                    int64_t defunc_0_f_res_176321 = ((int64_t *) mem_180186)[tmp_176315];
                                    int64_t merge_sequential_arg2_176322 = add64(stride_176016, defunc_0_f_res_176314);
                                    int64_t merge_sequential_arg2_176323 = add64(stride_176016, defunc_0_f_res_176321);
                                    int64_t j_m_i_176324 = sub64(merge_sequential_arg2_176323, merge_sequential_arg2_176322);
                                    bool empty_slice_176325 = j_m_i_176324 == (int64_t) 0;
                                    int64_t m_176326 = sub64(j_m_i_176324, (int64_t) 1);
                                    int64_t i_p_m_t_s_176327 = add64(merge_sequential_arg2_176322, m_176326);
                                    bool zzero_leq_i_p_m_t_s_176328 = sle64((int64_t) 0, i_p_m_t_s_176327);
                                    bool i_p_m_t_s_leq_w_176329 = slt64(i_p_m_t_s_176327, next_stride_176017);
                                    bool zzero_lte_i_176330 = sle64((int64_t) 0, merge_sequential_arg2_176322);
                                    bool i_lte_j_176331 = sle64(merge_sequential_arg2_176322, merge_sequential_arg2_176323);
                                    bool y_176332 = i_p_m_t_s_leq_w_176329 && zzero_lte_i_176330;
                                    bool y_176333 = zzero_leq_i_p_m_t_s_176328 && y_176332;
                                    bool forwards_ok_176334 = i_lte_j_176331 && y_176333;
                                    bool ok_or_empty_176335 = empty_slice_176325 || forwards_ok_176334;
                                    bool index_certs_176336;
                                    
                                    if (!ok_or_empty_176335) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_176322, ":", (long long) merge_sequential_arg2_176323, "] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_176337 = sub64(defunc_0_f_res_176320, defunc_0_f_res_176313);
                                    bool empty_slice_176338 = j_m_i_176337 == (int64_t) 0;
                                    int64_t m_176339 = sub64(j_m_i_176337, (int64_t) 1);
                                    int64_t i_p_m_t_s_176340 = add64(defunc_0_f_res_176313, m_176339);
                                    bool zzero_leq_i_p_m_t_s_176341 = sle64((int64_t) 0, i_p_m_t_s_176340);
                                    bool i_p_m_t_s_leq_w_176342 = slt64(i_p_m_t_s_176340, next_stride_176017);
                                    bool zzero_lte_i_176343 = sle64((int64_t) 0, defunc_0_f_res_176313);
                                    bool i_lte_j_176344 = sle64(defunc_0_f_res_176313, defunc_0_f_res_176320);
                                    bool y_176345 = i_p_m_t_s_leq_w_176342 && zzero_lte_i_176343;
                                    bool y_176346 = zzero_leq_i_p_m_t_s_176341 && y_176345;
                                    bool forwards_ok_176347 = i_lte_j_176344 && y_176346;
                                    bool ok_or_empty_176348 = empty_slice_176338 || forwards_ok_176347;
                                    bool index_certs_176349;
                                    
                                    if (!ok_or_empty_176348) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_176313, ":", (long long) defunc_0_f_res_176320, "] out of bounds for array of shape [", (long long) next_stride_176017, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_176350 = slt64((int64_t) 0, j_m_i_176337);
                                    int8_t dummy_176351;
                                    int64_t dummy_176352;
                                    int16_t dummy_176353;
                                    
                                    if (cond_176350) {
                                        bool index_certs_179346;
                                        
                                        if (!cond_176350) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176337, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179347 = start_176090 + defunc_0_f_res_176313;
                                        int8_t head_res_179348 = ((int8_t *) mem_param_180156.mem)[slice_179347];
                                        int64_t head_res_179349 = ((int64_t *) mem_param_180159.mem)[slice_179347];
                                        int16_t head_res_179350 = ((int16_t *) mem_param_180162.mem)[slice_179347];
                                        
                                        dummy_176351 = head_res_179348;
                                        dummy_176352 = head_res_179349;
                                        dummy_176353 = head_res_179350;
                                    } else {
                                        bool y_176359 = slt64((int64_t) 0, j_m_i_176324);
                                        bool index_certs_176360;
                                        
                                        if (!y_176359) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176324, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_176361 = start_176090 + merge_sequential_arg2_176322;
                                        int8_t head_res_176362 = ((int8_t *) mem_param_180156.mem)[slice_176361];
                                        int64_t head_res_176363 = ((int64_t *) mem_param_180159.mem)[slice_176361];
                                        int16_t head_res_176364 = ((int16_t *) mem_param_180162.mem)[slice_176361];
                                        
                                        dummy_176351 = head_res_176362;
                                        dummy_176352 = head_res_176363;
                                        dummy_176353 = head_res_176364;
                                    }
                                    for (int64_t nest_i_181586 = 0; nest_i_181586 < merge_block_sizze_175854; nest_i_181586++) {
                                        ((int8_t *) mem_180200)[i_179776 * merge_block_sizze_175854 + nest_i_181586] = dummy_176351;
                                    }
                                    for (int64_t nest_i_181587 = 0; nest_i_181587 < merge_block_sizze_175854; nest_i_181587++) {
                                        ((int64_t *) mem_180203)[i_179776 * merge_block_sizze_175854 + nest_i_181587] = dummy_176352;
                                    }
                                    for (int64_t nest_i_181588 = 0; nest_i_181588 < merge_block_sizze_175854; nest_i_181588++) {
                                        ((int16_t *) mem_180206)[i_179776 * merge_block_sizze_175854 + nest_i_181588] = dummy_176353;
                                    }
                                    
                                    int64_t data_176368;
                                    int64_t i_176373 = (int64_t) 0;
                                    
                                    for (int64_t k_176372 = 0; k_176372 < merge_block_sizze_175854; k_176372++) {
                                        int64_t j_176377 = sub64(k_176372, i_176373);
                                        bool cond_176378 = j_176377 == j_m_i_176324;
                                        bool cond_176379;
                                        
                                        if (cond_176378) {
                                            cond_176379 = 1;
                                        } else {
                                            bool cond_176380 = slt64(i_176373, j_m_i_176337);
                                            bool cond_f_res_176381;
                                            
                                            if (cond_176380) {
                                                bool x_179351 = sle64((int64_t) 0, j_176377);
                                                bool y_179352 = slt64(j_176377, j_m_i_176324);
                                                bool bounds_check_179353 = x_179351 && y_179352;
                                                bool index_certs_179354;
                                                
                                                if (!bounds_check_179353) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176377, "] out of bounds for array of shape [", (long long) j_m_i_176324, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179360 = sle64((int64_t) 0, i_176373);
                                                bool bounds_check_179361 = cond_176380 && x_179360;
                                                bool index_certs_179362;
                                                
                                                if (!bounds_check_179361) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176373, "] out of bounds for array of shape [", (long long) j_m_i_176337, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179355 = merge_sequential_arg2_176322 + j_176377;
                                                int64_t slice_179356 = start_176090 + slice_179355;
                                                int8_t leq_arg1_179357 = ((int8_t *) mem_param_180156.mem)[slice_179356];
                                                int64_t leq_arg1_179358 = ((int64_t *) mem_param_180159.mem)[slice_179356];
                                                int16_t leq_arg1_179359 = ((int16_t *) mem_param_180162.mem)[slice_179356];
                                                int64_t slice_179363 = defunc_0_f_res_176313 + i_176373;
                                                int64_t slice_179364 = start_176090 + slice_179363;
                                                int8_t leq_arg0_179365 = ((int8_t *) mem_param_180156.mem)[slice_179364];
                                                int64_t leq_arg0_179366 = ((int64_t *) mem_param_180159.mem)[slice_179364];
                                                int16_t leq_arg0_179367 = ((int16_t *) mem_param_180162.mem)[slice_179364];
                                                bool cond_179368 = leq_arg0_179365 == leq_arg1_179357;
                                                bool defunc_0_leq_res_t_res_179369 = sle64(leq_arg0_179366, leq_arg1_179358);
                                                bool defunc_0_leq_res_179370 = sle16(leq_arg0_179367, leq_arg1_179359);
                                                bool x_179371 = cond_179368 && defunc_0_leq_res_t_res_179369;
                                                bool x_179372 = !cond_179368;
                                                bool y_179373 = defunc_0_leq_res_179370 && x_179372;
                                                bool defunc_0_leq_res_179374 = x_179371 || y_179373;
                                                
                                                cond_f_res_176381 = defunc_0_leq_res_179374;
                                            } else {
                                                cond_f_res_176381 = 0;
                                            }
                                            cond_176379 = cond_f_res_176381;
                                        }
                                        
                                        int64_t loopres_176406;
                                        int8_t loopres_176407;
                                        int64_t loopres_176408;
                                        int16_t loopres_176409;
                                        
                                        if (cond_176379) {
                                            bool x_179376 = sle64((int64_t) 0, i_176373);
                                            bool y_179377 = slt64(i_176373, j_m_i_176337);
                                            bool bounds_check_179378 = x_179376 && y_179377;
                                            bool index_certs_179379;
                                            
                                            if (!bounds_check_179378) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176373, "] out of bounds for array of shape [", (long long) j_m_i_176337, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179375 = add64((int64_t) 1, i_176373);
                                            int64_t slice_179380 = defunc_0_f_res_176313 + i_176373;
                                            int64_t slice_179381 = start_176090 + slice_179380;
                                            int8_t tmp_179382 = ((int8_t *) mem_param_180156.mem)[slice_179381];
                                            int64_t tmp_179383 = ((int64_t *) mem_param_180159.mem)[slice_179381];
                                            int16_t tmp_179384 = ((int16_t *) mem_param_180162.mem)[slice_179381];
                                            
                                            loopres_176406 = tmp_179375;
                                            loopres_176407 = tmp_179382;
                                            loopres_176408 = tmp_179383;
                                            loopres_176409 = tmp_179384;
                                        } else {
                                            bool x_176420 = sle64((int64_t) 0, j_176377);
                                            bool y_176421 = slt64(j_176377, j_m_i_176324);
                                            bool bounds_check_176422 = x_176420 && y_176421;
                                            bool index_certs_176423;
                                            
                                            if (!bounds_check_176422) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176377, "] out of bounds for array of shape [", (long long) j_m_i_176324, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_176424 = merge_sequential_arg2_176322 + j_176377;
                                            int64_t slice_176425 = start_176090 + slice_176424;
                                            int8_t tmp_176426 = ((int8_t *) mem_param_180156.mem)[slice_176425];
                                            int64_t tmp_176427 = ((int64_t *) mem_param_180159.mem)[slice_176425];
                                            int16_t tmp_176428 = ((int16_t *) mem_param_180162.mem)[slice_176425];
                                            
                                            loopres_176406 = i_176373;
                                            loopres_176407 = tmp_176426;
                                            loopres_176408 = tmp_176427;
                                            loopres_176409 = tmp_176428;
                                        }
                                        ((int8_t *) mem_180200)[i_179776 * merge_block_sizze_175854 + k_176372] = loopres_176407;
                                        ((int64_t *) mem_180203)[i_179776 * merge_block_sizze_175854 + k_176372] = loopres_176408;
                                        ((int16_t *) mem_180206)[i_179776 * merge_block_sizze_175854 + k_176372] = loopres_176409;
                                        
                                        int64_t i_tmp_181589 = loopres_176406;
                                        
                                        i_176373 = i_tmp_181589;
                                    }
                                    data_176368 = i_176373;
                                }
                                if (memblock_alloc(ctx, &mem_180255, flat_dim_176040, "mem_180255")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180255.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (uint8_t *) mem_180200, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (int64_t []) {num_blocks_176037, merge_block_sizze_175854});
                                if (memblock_alloc(ctx, &mem_180259, bytes_180202, "mem_180259")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180259.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (uint64_t *) mem_180203, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (int64_t []) {num_blocks_176037, merge_block_sizze_175854});
                                if (memblock_alloc(ctx, &mem_180263, bytes_180205, "mem_180263")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_2b(ctx, 2, (uint16_t *) mem_180263.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (uint16_t *) mem_180206, (int64_t) 0, (int64_t []) {merge_block_sizze_175854, (int64_t) 1}, (int64_t []) {num_blocks_176037, merge_block_sizze_175854});
                                if (memblock_set(ctx, &ext_mem_180296, &mem_180255, "mem_180255") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180293, &mem_180259, "mem_180259") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180290, &mem_180263, "mem_180263") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180164, i_179786 * next_stride_176017, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180296.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176017});
                            if (memblock_unref(ctx, &ext_mem_180296, "ext_mem_180296") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180167, i_179786 * next_stride_176017, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180293.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176017});
                            if (memblock_unref(ctx, &ext_mem_180293, "ext_mem_180293") != 0)
                                return 1;
                            lmad_copy_2b(ctx, 1, (uint16_t *) mem_180170, i_179786 * next_stride_176017, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_180290.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176017});
                            if (memblock_unref(ctx, &ext_mem_180290, "ext_mem_180290") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_180310, bytes_180163, "mem_180310")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180310.mem, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (uint8_t *) mem_180164, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (int64_t []) {num_merges_176021, next_stride_176017});
                        if (memblock_alloc(ctx, &mem_180314, bytes_180166, "mem_180314")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180314.mem, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (uint64_t *) mem_180167, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (int64_t []) {num_merges_176021, next_stride_176017});
                        if (memblock_alloc(ctx, &mem_180318, bytes_180169, "mem_180318")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_2b(ctx, 2, (uint16_t *) mem_180318.mem, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (uint16_t *) mem_180170, (int64_t) 0, (int64_t []) {next_stride_176017, (int64_t) 1}, (int64_t []) {num_merges_176021, next_stride_176017});
                        
                        bool loop_cond_176442 = slt64(next_stride_176017, flat_dim_175849);
                        
                        if (memblock_set(ctx, &mem_param_tmp_181556, &mem_180310, "mem_180310") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181557, &mem_180314, "mem_180314") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181558, &mem_180318, "mem_180318") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_181559 = bytes_180163;
                        bool loop_while_tmp_181560 = loop_cond_176442;
                        int64_t stride_tmp_181564 = next_stride_176017;
                        
                        if (memblock_set(ctx, &mem_param_180156, &mem_param_tmp_181556, "mem_param_tmp_181556") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180159, &mem_param_tmp_181557, "mem_param_tmp_181557") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180162, &mem_param_tmp_181558, "mem_param_tmp_181558") != 0)
                            return 1;
                        loop_dz2084Uz2082U_176011 = loop_dz2084Uz2082U_tmp_181559;
                        loop_while_176012 = loop_while_tmp_181560;
                        stride_176016 = stride_tmp_181564;
                    }
                    if (memblock_set(ctx, &ext_mem_180328, &mem_param_180156, "mem_param_180156") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180327, &mem_param_180159, "mem_param_180159") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180326, &mem_param_180162, "mem_param_180162") != 0)
                        return 1;
                    data_176005 = loop_dz2084Uz2082U_176011;
                    data_176006 = loop_while_176012;
                    data_176010 = stride_176016;
                    if (memblock_unref(ctx, &mem_180144, "mem_180144") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180148, "mem_180148") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180152, "mem_180152") != 0)
                        return 1;
                    
                    bool empty_slice_176443 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_176444 = sle64((int64_t) 0, zs_lhs_175833);
                    bool i_p_m_t_s_leq_w_176445 = slt64(zs_lhs_175833, data_176005);
                    bool y_176446 = zzero_leq_i_p_m_t_s_176444 && i_p_m_t_s_leq_w_176445;
                    bool ok_or_empty_176447 = empty_slice_176443 || y_176446;
                    bool index_certs_176448;
                    
                    if (!ok_or_empty_176447) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_175785, "] out of bounds for array of shape [", (long long) data_176005, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_180337, &ext_mem_180328, "ext_mem_180328") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180334, &ext_mem_180327, "ext_mem_180327") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180331, &ext_mem_180326, "ext_mem_180326") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180038, "mem_180038") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180040, "mem_180040") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180042, "mem_180042") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180018.mem, ind_bottom_175786, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180337.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788});
                if (memblock_unref(ctx, &ext_mem_180337, "ext_mem_180337") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180020.mem, ind_bottom_175786, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180334.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788});
                if (memblock_unref(ctx, &ext_mem_180334, "ext_mem_180334") != 0)
                    return 1;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_180022.mem, ind_bottom_175786, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_180331.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_175788});
                if (memblock_unref(ctx, &ext_mem_180331, "ext_mem_180331") != 0)
                    return 1;
                
                bool loop_cond_176484 = slt64(ubs_175776, threads_120141);
                bool loop_while_tmp_181523 = loop_cond_176484;
                int64_t p_tmp_181524 = ubs_175776;
                
                loop_while_175765 = loop_while_tmp_181523;
                p_175766 = p_tmp_181524;
            }
            defunc_0_mergeFunc_seq_res_175760 = loop_while_175765;
            defunc_0_mergeFunc_seq_res_175761 = p_175766;
            
            int64_t index_concat_branch_177301;
            
            if (index_concat_cmp_177297) {
                int64_t index_concat_179399 = ((int64_t *) mem_180003)[index_concat_i_177298];
                
                index_concat_branch_177301 = index_concat_179399;
            } else {
                index_concat_branch_177301 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_177295;
            
            if (index_concat_cmp_177297) {
                int64_t index_concat_179400 = ((int64_t *) mem_180005)[index_concat_i_177298];
                
                index_concat_branch_177295 = index_concat_179400;
            } else {
                index_concat_branch_177295 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_180756, &mem_180018, "mem_180018") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_180753, &mem_180020, "mem_180020") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_180750, &mem_180022, "mem_180022") != 0)
                return 1;
            loopres_174524 = index_concat_branch_177301;
            loopres_174525 = index_concat_branch_177295;
        }
        for (int64_t i_179792 = 0; i_179792 < window_sizze_120140; i_179792++) {
            int8_t eta_p_176492 = ((int8_t *) ext_mem_180756.mem)[i_179792];
            int64_t eta_p_176493 = ((int64_t *) ext_mem_180753.mem)[i_179792];
            bool cond_176494 = eta_p_176492 == (int8_t) 0;
            int64_t tmp_176495;
            
            if (cond_176494) {
                int64_t tmp_t_res_179403 = add64(p_174496, eta_p_176493);
                
                tmp_176495 = tmp_t_res_179403;
            } else {
                int64_t tmp_f_res_176497 = add64(p_174497, eta_p_176493);
                
                tmp_176495 = tmp_f_res_176497;
            }
            ((int64_t *) mem_179990.mem)[ind_bottom_174500 + i_179792] = tmp_176495;
        }
        if (memblock_unref(ctx, &ext_mem_180753, "ext_mem_180753") != 0)
            return 1;
        
        int64_t next_lbs_176498 = add64(p_174496, loopres_174524);
        int64_t next_lbs_176499 = add64(p_174497, loopres_174525);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_179988.mem, ind_bottom_174500, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180756.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_120140});
        if (memblock_unref(ctx, &ext_mem_180756, "ext_mem_180756") != 0)
            return 1;
        lmad_copy_2b(ctx, 1, (uint16_t *) mem_179992.mem, ind_bottom_174500, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_180750.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_120140});
        if (memblock_unref(ctx, &ext_mem_180750, "ext_mem_180750") != 0)
            return 1;
        
        bool cond_176513 = slt64(next_lbs_176498, zl_rhs_174479);
        bool loop_cond_t_res_176514 = slt64(next_lbs_176499, zl_rhs_174481);
        bool x_176515 = cond_176513 && loop_cond_t_res_176514;
        bool loop_while_tmp_181407 = x_176515;
        int64_t p_tmp_181411 = next_lbs_176498;
        int64_t p_tmp_181412 = next_lbs_176499;
        
        loop_while_174492 = loop_while_tmp_181407;
        p_174496 = p_tmp_181411;
        p_174497 = p_tmp_181412;
    }
    defunc_0_merge_pipeline_res_174486 = loop_while_174492;
    defunc_0_merge_pipeline_res_174490 = p_174496;
    defunc_0_merge_pipeline_res_174491 = p_174497;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516 = sub64(nb_120139, defunc_0_merge_pipeline_res_174491);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517 = sub64(na_120138, defunc_0_merge_pipeline_res_174490);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
    bool empty_slice_176519 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517 == (int64_t) 0;
    int64_t m_176520 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, (int64_t) 1);
    int64_t i_p_m_t_s_176521 = add64(defunc_0_merge_pipeline_res_174490, m_176520);
    bool zzero_leq_i_p_m_t_s_176522 = sle64((int64_t) 0, i_p_m_t_s_176521);
    bool i_p_m_t_s_leq_w_176523 = slt64(i_p_m_t_s_176521, na_120138);
    bool zzero_lte_i_176524 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_174490);
    bool i_lte_j_176525 = sle64(defunc_0_merge_pipeline_res_174490, na_120138);
    bool y_176526 = i_p_m_t_s_leq_w_176523 && zzero_lte_i_176524;
    bool y_176527 = zzero_leq_i_p_m_t_s_176522 && y_176526;
    bool forwards_ok_176528 = i_lte_j_176525 && y_176527;
    bool ok_or_empty_176529 = empty_slice_176519 || forwards_ok_176528;
    bool index_certs_176530;
    
    if (!ok_or_empty_176529) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_174490, ":", (long long) na_120138, "] out of bounds for array of shape [", (long long) na_120138, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176534 = slt64(na_120138, defunc_0_merge_pipeline_res_174490);
    bool valid_176535 = !bounds_invalid_upwards_176534;
    bool range_valid_c_176536;
    
    if (!valid_176535) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_174490, "..<", (long long) na_120138, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_176540 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516 == (int64_t) 0;
    int64_t m_176541 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516, (int64_t) 1);
    int64_t i_p_m_t_s_176542 = add64(defunc_0_merge_pipeline_res_174491, m_176541);
    bool zzero_leq_i_p_m_t_s_176543 = sle64((int64_t) 0, i_p_m_t_s_176542);
    bool i_p_m_t_s_leq_w_176544 = slt64(i_p_m_t_s_176542, nb_120139);
    bool zzero_lte_i_176545 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_174491);
    bool i_lte_j_176546 = sle64(defunc_0_merge_pipeline_res_174491, nb_120139);
    bool y_176547 = i_p_m_t_s_leq_w_176544 && zzero_lte_i_176545;
    bool y_176548 = zzero_leq_i_p_m_t_s_176543 && y_176547;
    bool forwards_ok_176549 = i_lte_j_176546 && y_176548;
    bool ok_or_empty_176550 = empty_slice_176540 || forwards_ok_176549;
    bool index_certs_176551;
    
    if (!ok_or_empty_176550) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_174491, ":", (long long) nb_120139, "] out of bounds for array of shape [", (long long) nb_120139, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176555 = slt64(nb_120139, defunc_0_merge_pipeline_res_174491);
    bool valid_176556 = !bounds_invalid_upwards_176555;
    bool range_valid_c_176557;
    
    if (!valid_176556) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_174491, "..<", (long long) nb_120139, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180781 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518;
    int64_t bytes_180783 = (int64_t) 2 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518;
    bool cond_176564 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, (int64_t) 1);
    int64_t zs_lhs_176565 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, (int64_t) 1);
    int64_t zp_rhs_176566 = sdiv_safe64(zs_lhs_176565, (int64_t) 20);
    int64_t min_num_blocks_176567 = add64((int64_t) 1, zp_rhs_176566);
    bool loop_cond_176568 = slt64((int64_t) 1, min_num_blocks_176567);
    bool smallest_pow_2_geq_than_res_176569;
    int64_t smallest_pow_2_geq_than_res_176570;
    bool loop_while_176571;
    int64_t x_176572;
    
    loop_while_176571 = loop_cond_176568;
    x_176572 = (int64_t) 1;
    while (loop_while_176571) {
        int64_t loopres_176573 = mul64((int64_t) 2, x_176572);
        bool loop_cond_176574 = slt64(loopres_176573, min_num_blocks_176567);
        bool loop_while_tmp_181594 = loop_cond_176574;
        int64_t x_tmp_181595 = loopres_176573;
        
        loop_while_176571 = loop_while_tmp_181594;
        x_176572 = x_tmp_181595;
    }
    smallest_pow_2_geq_than_res_176569 = loop_while_176571;
    smallest_pow_2_geq_than_res_176570 = x_176572;
    
    bool zzero_176575 = smallest_pow_2_geq_than_res_176570 == (int64_t) 0;
    bool nonzzero_176576 = !zzero_176575;
    bool protect_assert_disj_176577 = cond_176564 || nonzzero_176576;
    bool nonzzero_cert_176578;
    
    if (!protect_assert_disj_176577) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_176579 = sdiv_safe64(zs_lhs_176565, smallest_pow_2_geq_than_res_176570);
    int64_t block_sizze_176580 = add64((int64_t) 1, zp_rhs_176579);
    bool y_176587 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518);
    bool protect_assert_disj_181109 = cond_176564 || y_176587;
    bool index_certs_176588;
    
    if (!protect_assert_disj_181109) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176614 = slt64(smallest_pow_2_geq_than_res_176570, (int64_t) 0);
    bool valid_176615 = !bounds_invalid_upwards_176614;
    bool protect_assert_disj_181119 = cond_176564 || valid_176615;
    bool range_valid_c_176616;
    
    if (!protect_assert_disj_181119) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176570, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176618 = slt64(block_sizze_176580, (int64_t) 0);
    bool valid_176619 = !bounds_invalid_upwards_176618;
    bool protect_assert_disj_181121 = cond_176564 || valid_176619;
    bool range_valid_c_176620;
    
    if (!protect_assert_disj_181121) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176580, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_176622 = sle64(block_sizze_176580, (int64_t) 1);
    int64_t tmp_176623 = sub64(block_sizze_176580, (int64_t) 2);
    bool bounds_invalid_upwards_176624 = slt64(tmp_176623, (int64_t) 0);
    bool valid_176626 = !bounds_invalid_upwards_176624;
    bool protect_assert_disj_176627 = cond_176622 || valid_176626;
    bool protect_assert_disj_181123 = cond_176564 || protect_assert_disj_176627;
    bool range_valid_c_176628;
    
    if (!protect_assert_disj_181123) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176623, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177189 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_177191 = sle64((int64_t) 0, zs_lhs_176565);
    bool i_p_m_t_s_leq_w_177192 = slt64(zs_lhs_176565, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518);
    bool y_177193 = zzero_leq_i_p_m_t_s_177191 && i_p_m_t_s_leq_w_177192;
    bool ok_or_empty_177194 = empty_slice_177189 || y_177193;
    bool index_certs_177195;
    
    if (!ok_or_empty_177194) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_177196 = add64(defunc_0_merge_pipeline_res_174490, defunc_0_merge_pipeline_res_174491);
    int64_t j_m_i_177197 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, final_buffer_177196);
    bool empty_slice_177198 = j_m_i_177197 == (int64_t) 0;
    int64_t m_177199 = sub64(j_m_i_177197, (int64_t) 1);
    int64_t i_p_m_t_s_177200 = add64(final_buffer_177196, m_177199);
    bool zzero_leq_i_p_m_t_s_177201 = sle64((int64_t) 0, i_p_m_t_s_177200);
    bool i_p_m_t_s_leq_w_177202 = slt64(i_p_m_t_s_177200, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475);
    bool zzero_lte_i_177203 = sle64((int64_t) 0, final_buffer_177196);
    bool i_lte_j_177204 = sle64(final_buffer_177196, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475);
    bool y_177205 = i_p_m_t_s_leq_w_177202 && zzero_lte_i_177203;
    bool y_177206 = zzero_leq_i_p_m_t_s_177201 && y_177205;
    bool forwards_ok_177207 = i_lte_j_177204 && y_177206;
    bool ok_or_empty_177208 = empty_slice_177198 || forwards_ok_177207;
    bool index_certs_177209;
    
    if (!ok_or_empty_177208) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_177196, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_177210 = j_m_i_177197 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518;
    bool empty_or_match_cert_177211;
    
    if (!dim_match_177210) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_177197, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180780, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "mem_180780")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181596 = 0; nest_i_181596 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517; nest_i_181596++) {
        ((int8_t *) mem_180780.mem)[nest_i_181596] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_180782, bytes_180781, "mem_180782")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181597 = 0; i_181597 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517; i_181597++) {
        int64_t x_181598 = defunc_0_merge_pipeline_res_174490 + i_181597 * (int64_t) 1;
        
        ((int64_t *) mem_180782.mem)[i_181597] = x_181598;
    }
    for (int64_t nest_i_181599 = 0; nest_i_181599 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516; nest_i_181599++) {
        ((int8_t *) mem_180780.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517 + nest_i_181599] = (int8_t) 1;
    }
    for (int64_t i_181600 = 0; i_181600 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516; i_181600++) {
        int64_t x_181601 = defunc_0_merge_pipeline_res_174491 + i_181600 * (int64_t) 1;
        
        ((int64_t *) mem_180782.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517 + i_181600] = x_181601;
    }
    
    int64_t tmp_offs_181602 = (int64_t) 0;
    
    if (!(tmp_offs_181602 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180780.mem, tmp_offs_181602, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180780.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517});
    }
    tmp_offs_181602 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517;
    if (!(tmp_offs_181602 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180780.mem, tmp_offs_181602, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180780.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516});
    }
    tmp_offs_181602 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516;
    
    int64_t tmp_offs_181603 = (int64_t) 0;
    
    if (!(tmp_offs_181603 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180782.mem, tmp_offs_181603, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180782.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517});
    }
    tmp_offs_181603 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517;
    if (!(tmp_offs_181603 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180782.mem, tmp_offs_181603, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180782.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516});
    }
    tmp_offs_181603 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516;
    if (memblock_alloc(ctx, &mem_180784, bytes_180783, "mem_180784")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_181604 = (int64_t) 0;
    
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_180784.mem, tmp_offs_181604, (int64_t []) {(int64_t) 1}, (uint16_t *) a_list_mem_179986.mem, defunc_0_merge_pipeline_res_174490, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517});
    tmp_offs_181604 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517;
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_180784.mem, tmp_offs_181604, (int64_t []) {(int64_t) 1}, (uint16_t *) b_list_mem_179987.mem, defunc_0_merge_pipeline_res_174491, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516});
    tmp_offs_181604 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176516;
    
    int64_t flat_dim_176581 = smallest_pow_2_geq_than_res_176570 * block_sizze_176580;
    bool x_181104 = !cond_176564;
    int64_t greatest_divisor_leq_than_arg1_176585 = mul64((int64_t) 2, block_sizze_176580);
    int64_t merge_block_sizze_176586;
    
    if (x_181104) {
        int64_t x_181106;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181106, (int64_t) 8, greatest_divisor_leq_than_arg1_176585) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_176586 = x_181106;
    } else {
        merge_block_sizze_176586 = (int64_t) 0;
    }
    
    bool index_concat_cmp_177261 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, (int64_t) 0);
    int8_t index_concat_branch_177265 = btoi_bool_i8(index_concat_cmp_177261);
    int64_t index_concat_i_179405 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
    int64_t index_primexp_179406 = add64(defunc_0_merge_pipeline_res_174491, index_concat_i_179405);
    int64_t index_concat_branch_177259;
    
    if (index_concat_cmp_177261) {
        index_concat_branch_177259 = index_primexp_179406;
    } else {
        index_concat_branch_177259 = defunc_0_merge_pipeline_res_174490;
    }
    
    bool x_181100 = !index_concat_cmp_177261;
    bool protect_cond_conj_181110 = x_181100 && x_181104;
    int16_t index_concat_177252;
    
    if (protect_cond_conj_181110) {
        int16_t x_181102 = ((int16_t *) a_list_mem_179986.mem)[defunc_0_merge_pipeline_res_174490];
        
        index_concat_177252 = x_181102;
    } else {
        index_concat_177252 = (int16_t) 0;
    }
    
    bool protect_cond_conj_181111 = index_concat_cmp_177261 && x_181104;
    int16_t index_concat_179409;
    
    if (protect_cond_conj_181111) {
        int16_t x_181098 = ((int16_t *) b_list_mem_179987.mem)[index_primexp_179406];
        
        index_concat_179409 = x_181098;
    } else {
        index_concat_179409 = (int16_t) 0;
    }
    
    int16_t index_concat_branch_177253;
    
    if (index_concat_cmp_177261) {
        index_concat_branch_177253 = index_concat_179409;
    } else {
        index_concat_branch_177253 = index_concat_177252;
    }
    
    int8_t defunc_0_reduce_res_179640;
    int64_t defunc_0_reduce_res_179641;
    int16_t defunc_0_reduce_res_179642;
    
    if (x_181104) {
        int8_t x_181112;
        int64_t x_181113;
        int16_t x_181114;
        int8_t redout_179794;
        int64_t redout_179795;
        int16_t redout_179796;
        
        redout_179794 = index_concat_branch_177265;
        redout_179795 = index_concat_branch_177259;
        redout_179796 = index_concat_branch_177253;
        for (int64_t i_179797 = 0; i_179797 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518; i_179797++) {
            bool index_concat_cmp_179868 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, i_179797);
            int8_t index_concat_branch_179872 = btoi_bool_i8(index_concat_cmp_179868);
            int64_t index_concat_branch_179866;
            
            if (index_concat_cmp_179868) {
                int64_t index_concat_i_179863 = sub64(i_179797, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
                int64_t index_primexp_179956 = add64(defunc_0_merge_pipeline_res_174491, index_concat_i_179863);
                
                index_concat_branch_179866 = index_primexp_179956;
            } else {
                int64_t index_primexp_179958 = add64(defunc_0_merge_pipeline_res_174490, i_179797);
                
                index_concat_branch_179866 = index_primexp_179958;
            }
            
            int16_t index_concat_branch_179860;
            
            if (index_concat_cmp_179868) {
                int64_t index_concat_i_179857 = sub64(i_179797, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
                int64_t slice_179953 = defunc_0_merge_pipeline_res_174491 + index_concat_i_179857;
                int16_t index_concat_179858 = ((int16_t *) b_list_mem_179987.mem)[slice_179953];
                
                index_concat_branch_179860 = index_concat_179858;
            } else {
                int64_t slice_179954 = defunc_0_merge_pipeline_res_174490 + i_179797;
                int16_t index_concat_179859 = ((int16_t *) a_list_mem_179986.mem)[slice_179954];
                
                index_concat_branch_179860 = index_concat_179859;
            }
            
            bool eq_x_y_179971 = redout_179794 == (int8_t) 1;
            bool eq_x_zz_179972 = redout_179794 == (int8_t) 0;
            bool p_and_eq_x_y_179973 = index_concat_cmp_179868 && eq_x_y_179971;
            bool not_p_179974 = !index_concat_cmp_179868;
            bool p_and_eq_x_y_179975 = eq_x_zz_179972 && not_p_179974;
            bool cond_176604 = p_and_eq_x_y_179973 || p_and_eq_x_y_179975;
            bool defunc_0_leq_res_t_res_176605 = sle64(redout_179795, index_concat_branch_179866);
            bool defunc_0_leq_res_176606 = sle16(redout_179796, index_concat_branch_179860);
            bool x_176607 = cond_176604 && defunc_0_leq_res_t_res_176605;
            bool x_176608 = !cond_176604;
            bool y_176609 = defunc_0_leq_res_176606 && x_176608;
            bool defunc_0_leq_res_176610 = x_176607 || y_176609;
            int8_t defunc_0_op_res_176611;
            
            if (defunc_0_leq_res_176610) {
                defunc_0_op_res_176611 = index_concat_branch_179872;
            } else {
                defunc_0_op_res_176611 = redout_179794;
            }
            
            int64_t defunc_0_op_res_176612;
            
            if (defunc_0_leq_res_176610) {
                defunc_0_op_res_176612 = index_concat_branch_179866;
            } else {
                defunc_0_op_res_176612 = redout_179795;
            }
            
            int16_t defunc_0_op_res_176613;
            
            if (defunc_0_leq_res_176610) {
                defunc_0_op_res_176613 = index_concat_branch_179860;
            } else {
                defunc_0_op_res_176613 = redout_179796;
            }
            
            int8_t redout_tmp_181605 = defunc_0_op_res_176611;
            int64_t redout_tmp_181606 = defunc_0_op_res_176612;
            int16_t redout_tmp_181607 = defunc_0_op_res_176613;
            
            redout_179794 = redout_tmp_181605;
            redout_179795 = redout_tmp_181606;
            redout_179796 = redout_tmp_181607;
        }
        x_181112 = redout_179794;
        x_181113 = redout_179795;
        x_181114 = redout_179796;
        defunc_0_reduce_res_179640 = x_181112;
        defunc_0_reduce_res_179641 = x_181113;
        defunc_0_reduce_res_179642 = x_181114;
    } else {
        defunc_0_reduce_res_179640 = (int8_t) 0;
        defunc_0_reduce_res_179641 = (int64_t) 0;
        defunc_0_reduce_res_179642 = (int16_t) 0;
    }
    
    int64_t distance_176625 = add64((int64_t) 1, tmp_176623);
    int64_t binop_x_180787 = (int64_t) 8 * smallest_pow_2_geq_than_res_176570;
    int64_t bytes_180788 = block_sizze_176580 * binop_x_180787;
    int64_t binop_x_180790 = (int64_t) 2 * smallest_pow_2_geq_than_res_176570;
    int64_t bytes_180791 = block_sizze_176580 * binop_x_180790;
    int64_t bytes_180806 = (int64_t) 8 * block_sizze_176580;
    bool loop_cond_176734 = slt64(block_sizze_176580, flat_dim_176581);
    bool zzero_176735 = merge_block_sizze_176586 == (int64_t) 0;
    bool nonzzero_176736 = !zzero_176735;
    
    if (cond_176564) {
        if (memblock_set(ctx, &ext_mem_181079, &mem_180780, "mem_180780") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181076, &mem_180782, "mem_180782") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181073, &mem_180784, "mem_180784") != 0)
            return 1;
    } else {
        if (mem_180786_cached_sizze_181980 < flat_dim_176581) {
            err = lexical_realloc(ctx, &mem_180786, &mem_180786_cached_sizze_181980, flat_dim_176581);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180789_cached_sizze_181981 < bytes_180788) {
            err = lexical_realloc(ctx, &mem_180789, &mem_180789_cached_sizze_181981, bytes_180788);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180792_cached_sizze_181982 < bytes_180791) {
            err = lexical_realloc(ctx, &mem_180792, &mem_180792_cached_sizze_181982, bytes_180791);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180805_cached_sizze_181983 < block_sizze_176580) {
            err = lexical_realloc(ctx, &mem_180805, &mem_180805_cached_sizze_181983, block_sizze_176580);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180807_cached_sizze_181984 < bytes_180806) {
            err = lexical_realloc(ctx, &mem_180807, &mem_180807_cached_sizze_181984, bytes_180806);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180809_cached_sizze_181985 < greatest_divisor_leq_than_arg1_176585) {
            err = lexical_realloc(ctx, &mem_180809, &mem_180809_cached_sizze_181985, greatest_divisor_leq_than_arg1_176585);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_179814 = 0; i_179814 < smallest_pow_2_geq_than_res_176570; i_179814++) {
            int64_t zp_lhs_176633 = mul64(block_sizze_176580, i_179814);
            
            for (int64_t i_179804 = 0; i_179804 < block_sizze_176580; i_179804++) {
                int64_t k_176638 = add64(zp_lhs_176633, i_179804);
                bool cond_176639 = slt64(k_176638, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518);
                int8_t lifted_lambda_res_176640;
                int64_t lifted_lambda_res_176641;
                int16_t lifted_lambda_res_176642;
                
                if (cond_176639) {
                    bool x_179415 = sle64((int64_t) 0, k_176638);
                    bool bounds_check_179416 = cond_176639 && x_179415;
                    bool index_certs_179417;
                    
                    if (!bounds_check_179416) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176638, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_179418 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517, k_176638);
                    int8_t index_concat_branch_179419 = btoi_bool_i8(index_concat_cmp_179418);
                    int64_t index_concat_branch_179420;
                    
                    if (index_concat_cmp_179418) {
                        int64_t index_concat_i_179421 = sub64(k_176638, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
                        int64_t index_primexp_179422 = add64(defunc_0_merge_pipeline_res_174491, index_concat_i_179421);
                        
                        index_concat_branch_179420 = index_primexp_179422;
                    } else {
                        int64_t index_primexp_179423 = add64(defunc_0_merge_pipeline_res_174490, k_176638);
                        
                        index_concat_branch_179420 = index_primexp_179423;
                    }
                    
                    int16_t index_concat_branch_179424;
                    
                    if (index_concat_cmp_179418) {
                        int64_t index_concat_i_179425 = sub64(k_176638, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176517);
                        int64_t slice_179426 = defunc_0_merge_pipeline_res_174491 + index_concat_i_179425;
                        int16_t index_concat_179427 = ((int16_t *) b_list_mem_179987.mem)[slice_179426];
                        
                        index_concat_branch_179424 = index_concat_179427;
                    } else {
                        int64_t slice_179428 = defunc_0_merge_pipeline_res_174490 + k_176638;
                        int16_t index_concat_179429 = ((int16_t *) a_list_mem_179986.mem)[slice_179428];
                        
                        index_concat_branch_179424 = index_concat_179429;
                    }
                    lifted_lambda_res_176640 = index_concat_branch_179419;
                    lifted_lambda_res_176641 = index_concat_branch_179420;
                    lifted_lambda_res_176642 = index_concat_branch_179424;
                } else {
                    lifted_lambda_res_176640 = defunc_0_reduce_res_179640;
                    lifted_lambda_res_176641 = defunc_0_reduce_res_179641;
                    lifted_lambda_res_176642 = defunc_0_reduce_res_179642;
                }
                ((int8_t *) mem_180805)[i_179804] = lifted_lambda_res_176640;
                ((int64_t *) mem_180807)[i_179804] = lifted_lambda_res_176641;
                ((int16_t *) mem_180809)[i_179804] = lifted_lambda_res_176642;
            }
            if (!cond_176622) {
                for (int64_t i_176655 = 0; i_176655 < distance_176625; i_176655++) {
                    int64_t gt_arg1_176659 = add64((int64_t) 1, i_176655);
                    bool x_176660 = sle64((int64_t) 0, gt_arg1_176659);
                    bool y_176661 = slt64(gt_arg1_176659, block_sizze_176580);
                    bool bounds_check_176662 = x_176660 && y_176661;
                    bool index_certs_176663;
                    
                    if (!bounds_check_176662) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176659, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_176667 = slt64(i_176655, block_sizze_176580);
                    bool index_certs_176668;
                    
                    if (!y_176667) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176655, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_176664 = ((int8_t *) mem_180805)[gt_arg1_176659];
                    int64_t gt_arg1_176665 = ((int64_t *) mem_180807)[gt_arg1_176659];
                    int16_t gt_arg1_176666 = ((int16_t *) mem_180809)[gt_arg1_176659];
                    int8_t gt_arg0_176669 = ((int8_t *) mem_180805)[i_176655];
                    int64_t gt_arg0_176670 = ((int64_t *) mem_180807)[i_176655];
                    int16_t gt_arg0_176671 = ((int16_t *) mem_180809)[i_176655];
                    bool cond_176672 = gt_arg0_176669 == gt_arg1_176664;
                    bool defunc_0_leq_res_t_res_176673 = sle64(gt_arg0_176670, gt_arg1_176665);
                    bool defunc_0_leq_res_176674 = sle16(gt_arg0_176671, gt_arg1_176666);
                    bool x_176675 = cond_176672 && defunc_0_leq_res_t_res_176673;
                    bool x_176676 = !cond_176672;
                    bool y_176677 = defunc_0_leq_res_176674 && x_176676;
                    bool defunc_0_leq_res_176678 = x_176675 || y_176677;
                    bool defunc_0_lifted_gt_res_176679 = !defunc_0_leq_res_176678;
                    bool s_176680;
                    int64_t s_176684;
                    bool loop_while_176685;
                    int64_t j_176689;
                    
                    loop_while_176685 = defunc_0_lifted_gt_res_176679;
                    j_176689 = i_176655;
                    while (loop_while_176685) {
                        bool x_176690 = sle64((int64_t) 0, j_176689);
                        bool y_176691 = slt64(j_176689, block_sizze_176580);
                        bool bounds_check_176692 = x_176690 && y_176691;
                        bool index_certs_176693;
                        
                        if (!bounds_check_176692) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176689, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_176697 = add64((int64_t) 1, j_176689);
                        bool x_176698 = sle64((int64_t) 0, copy_arg0_176697);
                        bool y_176699 = slt64(copy_arg0_176697, block_sizze_176580);
                        bool bounds_check_176700 = x_176698 && y_176699;
                        bool index_certs_176701;
                        
                        if (!bounds_check_176700) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_176697, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_176694 = ((int8_t *) mem_180805)[j_176689];
                        int64_t copy_arg0_176695 = ((int64_t *) mem_180807)[j_176689];
                        int16_t copy_arg0_176696 = ((int16_t *) mem_180809)[j_176689];
                        int8_t copy_arg0_176702 = ((int8_t *) mem_180805)[copy_arg0_176697];
                        int64_t copy_arg0_176703 = ((int64_t *) mem_180807)[copy_arg0_176697];
                        int16_t copy_arg0_176704 = ((int16_t *) mem_180809)[copy_arg0_176697];
                        
                        ((int8_t *) mem_180805)[j_176689] = copy_arg0_176702;
                        ((int64_t *) mem_180807)[j_176689] = copy_arg0_176703;
                        ((int16_t *) mem_180809)[j_176689] = copy_arg0_176704;
                        ((int8_t *) mem_180805)[copy_arg0_176697] = copy_arg0_176694;
                        ((int64_t *) mem_180807)[copy_arg0_176697] = copy_arg0_176695;
                        ((int16_t *) mem_180809)[copy_arg0_176697] = copy_arg0_176696;
                        
                        int64_t tmp_176711 = sub64(j_176689, (int64_t) 1);
                        bool cond_176712 = sle64((int64_t) 0, tmp_176711);
                        bool loop_cond_176713;
                        
                        if (cond_176712) {
                            bool y_179433 = slt64(tmp_176711, block_sizze_176580);
                            bool bounds_check_179434 = cond_176712 && y_179433;
                            bool index_certs_179435;
                            
                            if (!bounds_check_179434) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176711, "] out of bounds for array of shape [", (long long) block_sizze_176580, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_179430 = ((int8_t *) mem_180805)[j_176689];
                            int64_t gt_arg1_179431 = ((int64_t *) mem_180807)[j_176689];
                            int16_t gt_arg1_179432 = ((int16_t *) mem_180809)[j_176689];
                            int8_t gt_arg0_179436 = ((int8_t *) mem_180805)[tmp_176711];
                            int64_t gt_arg0_179437 = ((int64_t *) mem_180807)[tmp_176711];
                            int16_t gt_arg0_179438 = ((int16_t *) mem_180809)[tmp_176711];
                            bool cond_179439 = gt_arg0_179436 == gt_arg1_179430;
                            bool defunc_0_leq_res_t_res_179440 = sle64(gt_arg0_179437, gt_arg1_179431);
                            bool defunc_0_leq_res_179441 = sle16(gt_arg0_179438, gt_arg1_179432);
                            bool x_179442 = cond_179439 && defunc_0_leq_res_t_res_179440;
                            bool x_179443 = !cond_179439;
                            bool y_179444 = defunc_0_leq_res_179441 && x_179443;
                            bool defunc_0_leq_res_179445 = x_179442 || y_179444;
                            bool defunc_0_lifted_gt_res_179446 = !defunc_0_leq_res_179445;
                            
                            loop_cond_176713 = defunc_0_lifted_gt_res_179446;
                        } else {
                            loop_cond_176713 = 0;
                        }
                        
                        bool loop_while_tmp_181617 = loop_cond_176713;
                        int64_t j_tmp_181621 = tmp_176711;
                        
                        loop_while_176685 = loop_while_tmp_181617;
                        j_176689 = j_tmp_181621;
                    }
                    s_176680 = loop_while_176685;
                    s_176684 = j_176689;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180786, i_179814 * block_sizze_176580, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180805, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176580});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180789, i_179814 * block_sizze_176580, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180807, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176580});
            lmad_copy_2b(ctx, 1, (uint16_t *) mem_180792, i_179814 * block_sizze_176580, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_180809, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176580});
        }
        if (memblock_alloc(ctx, &mem_180886, flat_dim_176581, "mem_180886")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180886.mem, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (uint8_t *) mem_180786, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176570, block_sizze_176580});
        if (memblock_alloc(ctx, &mem_180890, bytes_180788, "mem_180890")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180890.mem, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (uint64_t *) mem_180789, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176570, block_sizze_176580});
        if (memblock_alloc(ctx, &mem_180894, bytes_180791, "mem_180894")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_2b(ctx, 2, (uint16_t *) mem_180894.mem, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (uint16_t *) mem_180792, (int64_t) 0, (int64_t []) {block_sizze_176580, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176570, block_sizze_176580});
        
        int64_t data_176737;
        bool data_176738;
        int64_t data_176742;
        int64_t loop_dz2084Uz2082U_176743;
        bool loop_while_176744;
        int64_t stride_176748;
        
        if (memblock_set(ctx, &mem_param_180898, &mem_180886, "mem_180886") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180901, &mem_180890, "mem_180890") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180904, &mem_180894, "mem_180894") != 0)
            return 1;
        loop_dz2084Uz2082U_176743 = flat_dim_176581;
        loop_while_176744 = loop_cond_176734;
        stride_176748 = block_sizze_176580;
        while (loop_while_176744) {
            int64_t next_stride_176749 = mul64((int64_t) 2, stride_176748);
            bool zzero_176750 = next_stride_176749 == (int64_t) 0;
            bool nonzzero_176751 = !zzero_176750;
            bool nonzzero_cert_176752;
            
            if (!nonzzero_176751) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_176753 = sdiv64(flat_dim_176581, next_stride_176749);
            bool bounds_invalid_upwards_176754 = slt64(num_merges_176753, (int64_t) 0);
            bool valid_176755 = !bounds_invalid_upwards_176754;
            bool range_valid_c_176756;
            
            if (!valid_176755) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_176753, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_176758 = sub64(next_stride_176749, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_176759 = sle64((int64_t) 0, m_176758);
            bool cond_176761 = slt64(next_stride_176749, (int64_t) 10);
            bool protect_assert_disj_176762 = nonzzero_176736 || cond_176761;
            bool nonzzero_cert_176763;
            
            if (!protect_assert_disj_176762) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_176764 = smod_safe64(next_stride_176749, merge_block_sizze_176586);
            bool num_blocks_176765 = zeze_lhs_176764 == (int64_t) 0;
            bool protect_assert_disj_176766 = cond_176761 || num_blocks_176765;
            bool assert_c_176767;
            
            if (!protect_assert_disj_176766) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_176769 = sdiv_safe64(next_stride_176749, merge_block_sizze_176586);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770 = add64((int64_t) 1, num_blocks_176769);
            int64_t j_m_i_176771 = sub64(next_stride_176749, stride_176748);
            int64_t flat_dim_176772 = merge_block_sizze_176586 * num_blocks_176769;
            bool bounds_invalid_upwards_176773 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770, (int64_t) 0);
            bool empty_slice_176774 = j_m_i_176771 == (int64_t) 0;
            int64_t m_176775 = sub64(j_m_i_176771, (int64_t) 1);
            bool zzero_lte_i_176776 = sle64((int64_t) 0, stride_176748);
            bool i_lte_j_176777 = sle64(stride_176748, next_stride_176749);
            bool empty_slice_176778 = stride_176748 == (int64_t) 0;
            int64_t m_176779 = sub64(stride_176748, (int64_t) 1);
            bool bounds_invalid_upwards_176780 = slt64(num_blocks_176769, (int64_t) 0);
            bool cond_176781 = slt64((int64_t) 0, stride_176748);
            bool valid_176782 = !bounds_invalid_upwards_176773;
            int64_t i_p_m_t_s_176783 = add64(stride_176748, m_176775);
            bool zzero_leq_i_p_m_t_s_176784 = sle64((int64_t) 0, m_176779);
            bool i_p_m_t_s_leq_w_176785 = slt64(m_176779, next_stride_176749);
            bool valid_176786 = !bounds_invalid_upwards_176780;
            bool i_p_m_t_s_leq_w_176787 = slt64(m_176758, flat_dim_176772);
            bool y_176788 = slt64((int64_t) 0, j_m_i_176771);
            bool protect_assert_disj_176789 = cond_176761 || valid_176782;
            bool range_valid_c_176790;
            
            if (!protect_assert_disj_176789) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_176791 = sle64((int64_t) 0, i_p_m_t_s_176783);
            bool i_p_m_t_s_leq_w_176792 = slt64(i_p_m_t_s_176783, next_stride_176749);
            bool y_176793 = zzero_leq_i_p_m_t_s_176784 && i_p_m_t_s_leq_w_176785;
            bool protect_assert_disj_176794 = cond_176761 || valid_176786;
            bool range_valid_c_176795;
            
            if (!protect_assert_disj_176794) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_176769, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_176796 = zzero_leq_i_p_m_t_s_176759 && i_p_m_t_s_leq_w_176787;
            bool y_176797 = zzero_lte_i_176776 && i_p_m_t_s_leq_w_176792;
            bool forwards_ok_176798 = zzero_lte_i_176776 && y_176793;
            bool ok_or_empty_176799 = zzero_176750 || y_176796;
            bool protect_assert_disj_176800 = cond_176781 || y_176788;
            bool y_176801 = zzero_leq_i_p_m_t_s_176791 && y_176797;
            bool ok_or_empty_176802 = empty_slice_176778 || forwards_ok_176798;
            bool protect_assert_disj_176803 = cond_176761 || ok_or_empty_176799;
            bool index_certs_176804;
            
            if (!protect_assert_disj_176803) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176749, "] out of bounds for array of shape [", (long long) flat_dim_176772, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_176805 = !cond_176761;
            bool protect_assert_disj_176806 = protect_assert_disj_176800 || loop_not_taken_176805;
            bool index_certs_176807;
            
            if (!protect_assert_disj_176806) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_176808 = i_lte_j_176777 && y_176801;
            bool protect_assert_disj_176809 = cond_176761 || ok_or_empty_176802;
            bool index_certs_176810;
            
            if (!protect_assert_disj_176809) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176748, "] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_176811 = ok_or_empty_176802 || loop_not_taken_176805;
            bool index_certs_176812;
            
            if (!protect_assert_disj_176811) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176748, "] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_176813 = empty_slice_176774 || forwards_ok_176808;
            bool protect_assert_disj_176814 = cond_176761 || ok_or_empty_176813;
            bool index_certs_176815;
            
            if (!protect_assert_disj_176814) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176748, ":] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_176816 = loop_not_taken_176805 || ok_or_empty_176813;
            bool index_certs_176817;
            
            if (!protect_assert_disj_176816) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176748, ":] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_180905 = next_stride_176749 * num_merges_176753;
            int64_t binop_x_180907 = (int64_t) 8 * num_merges_176753;
            int64_t bytes_180908 = next_stride_176749 * binop_x_180907;
            int64_t binop_x_180910 = (int64_t) 2 * num_merges_176753;
            int64_t bytes_180911 = next_stride_176749 * binop_x_180910;
            bool i_lte_j_176760 = sle64((int64_t) 0, next_stride_176749);
            
            if (mem_180906_cached_sizze_181986 < bytes_180905) {
                err = lexical_realloc(ctx, &mem_180906, &mem_180906_cached_sizze_181986, bytes_180905);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180909_cached_sizze_181987 < bytes_180908) {
                err = lexical_realloc(ctx, &mem_180909, &mem_180909_cached_sizze_181987, bytes_180908);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180912_cached_sizze_181988 < bytes_180911) {
                err = lexical_realloc(ctx, &mem_180912, &mem_180912_cached_sizze_181988, bytes_180911);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_180925 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770;
            int64_t binop_x_180943 = (int64_t) 8 * num_blocks_176769;
            int64_t bytes_180944 = merge_block_sizze_176586 * binop_x_180943;
            int64_t binop_x_180946 = (int64_t) 2 * num_blocks_176769;
            int64_t bytes_180947 = merge_block_sizze_176586 * binop_x_180946;
            int64_t bytes_181008 = (int64_t) 16 * stride_176748;
            int64_t bytes_181010 = (int64_t) 4 * stride_176748;
            
            for (int64_t i_179841 = 0; i_179841 < num_merges_176753; i_179841++) {
                int64_t start_176822 = mul64(next_stride_176749, i_179841);
                int64_t j_m_i_176823 = sub64(loop_dz2084Uz2082U_176743, start_176822);
                bool empty_slice_176824 = j_m_i_176823 == (int64_t) 0;
                int64_t m_176825 = sub64(j_m_i_176823, (int64_t) 1);
                int64_t i_p_m_t_s_176826 = add64(start_176822, m_176825);
                bool zzero_leq_i_p_m_t_s_176827 = sle64((int64_t) 0, i_p_m_t_s_176826);
                bool i_p_m_t_s_leq_w_176828 = slt64(i_p_m_t_s_176826, loop_dz2084Uz2082U_176743);
                bool zzero_lte_i_176829 = sle64((int64_t) 0, start_176822);
                bool i_lte_j_176830 = sle64(start_176822, loop_dz2084Uz2082U_176743);
                bool y_176831 = i_p_m_t_s_leq_w_176828 && zzero_lte_i_176829;
                bool y_176832 = zzero_leq_i_p_m_t_s_176827 && y_176831;
                bool forwards_ok_176833 = i_lte_j_176830 && y_176832;
                bool ok_or_empty_176834 = empty_slice_176824 || forwards_ok_176833;
                bool index_certs_176835;
                
                if (!ok_or_empty_176834) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_176822, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_176743, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_176836 = slt64(m_176758, j_m_i_176823);
                bool y_176837 = zzero_leq_i_p_m_t_s_176759 && i_p_m_t_s_leq_w_176836;
                bool forwards_ok_176838 = i_lte_j_176760 && y_176837;
                bool ok_or_empty_176839 = zzero_176750 || forwards_ok_176838;
                bool index_certs_176840;
                
                if (!ok_or_empty_176839) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176749, "] out of bounds for array of shape [", (long long) j_m_i_176823, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_176761) {
                    int8_t dummy_179485;
                    int64_t dummy_179486;
                    int16_t dummy_179487;
                    
                    if (cond_176781) {
                        int8_t head_res_179488 = ((int8_t *) mem_param_180898.mem)[start_176822];
                        int64_t head_res_179489 = ((int64_t *) mem_param_180901.mem)[start_176822];
                        int16_t head_res_179490 = ((int16_t *) mem_param_180904.mem)[start_176822];
                        
                        dummy_179485 = head_res_179488;
                        dummy_179486 = head_res_179489;
                        dummy_179487 = head_res_179490;
                    } else {
                        int64_t slice_179491 = stride_176748 + start_176822;
                        int8_t head_res_179492 = ((int8_t *) mem_param_180898.mem)[slice_179491];
                        int64_t head_res_179493 = ((int64_t *) mem_param_180901.mem)[slice_179491];
                        int16_t head_res_179494 = ((int16_t *) mem_param_180904.mem)[slice_179491];
                        
                        dummy_179485 = head_res_179492;
                        dummy_179486 = head_res_179493;
                        dummy_179487 = head_res_179494;
                    }
                    if (memblock_alloc(ctx, &mem_181007, next_stride_176749, "mem_181007")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181634 = 0; nest_i_181634 < next_stride_176749; nest_i_181634++) {
                        ((int8_t *) mem_181007.mem)[nest_i_181634] = dummy_179485;
                    }
                    if (memblock_alloc(ctx, &mem_181009, bytes_181008, "mem_181009")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181635 = 0; nest_i_181635 < next_stride_176749; nest_i_181635++) {
                        ((int64_t *) mem_181009.mem)[nest_i_181635] = dummy_179486;
                    }
                    if (memblock_alloc(ctx, &mem_181011, bytes_181010, "mem_181011")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181636 = 0; nest_i_181636 < next_stride_176749; nest_i_181636++) {
                        ((int16_t *) mem_181011.mem)[nest_i_181636] = dummy_179487;
                    }
                    
                    int64_t data_179498;
                    int64_t i_179503 = (int64_t) 0;
                    
                    for (int64_t k_179502 = 0; k_179502 < next_stride_176749; k_179502++) {
                        int64_t j_179507 = sub64(k_179502, i_179503);
                        bool cond_179508 = j_179507 == j_m_i_176771;
                        bool cond_179509;
                        
                        if (cond_179508) {
                            cond_179509 = 1;
                        } else {
                            bool cond_179510 = slt64(i_179503, stride_176748);
                            bool cond_f_res_179511;
                            
                            if (cond_179510) {
                                bool x_179512 = sle64((int64_t) 0, j_179507);
                                bool y_179513 = slt64(j_179507, j_m_i_176771);
                                bool bounds_check_179514 = x_179512 && y_179513;
                                bool index_certs_179515;
                                
                                if (!bounds_check_179514) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179507, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179521 = sle64((int64_t) 0, i_179503);
                                bool bounds_check_179522 = cond_179510 && x_179521;
                                bool index_certs_179523;
                                
                                if (!bounds_check_179522) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179503, "] out of bounds for array of shape [", (long long) stride_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_179516 = stride_176748 + j_179507;
                                int64_t slice_179517 = start_176822 + slice_179516;
                                int8_t leq_arg1_179518 = ((int8_t *) mem_param_180898.mem)[slice_179517];
                                int64_t leq_arg1_179519 = ((int64_t *) mem_param_180901.mem)[slice_179517];
                                int16_t leq_arg1_179520 = ((int16_t *) mem_param_180904.mem)[slice_179517];
                                int64_t slice_179524 = start_176822 + i_179503;
                                int8_t leq_arg0_179525 = ((int8_t *) mem_param_180898.mem)[slice_179524];
                                int64_t leq_arg0_179526 = ((int64_t *) mem_param_180901.mem)[slice_179524];
                                int16_t leq_arg0_179527 = ((int16_t *) mem_param_180904.mem)[slice_179524];
                                bool cond_179528 = leq_arg0_179525 == leq_arg1_179518;
                                bool defunc_0_leq_res_t_res_179529 = sle64(leq_arg0_179526, leq_arg1_179519);
                                bool defunc_0_leq_res_179530 = sle16(leq_arg0_179527, leq_arg1_179520);
                                bool x_179531 = cond_179528 && defunc_0_leq_res_t_res_179529;
                                bool x_179532 = !cond_179528;
                                bool y_179533 = defunc_0_leq_res_179530 && x_179532;
                                bool defunc_0_leq_res_179534 = x_179531 || y_179533;
                                
                                cond_f_res_179511 = defunc_0_leq_res_179534;
                            } else {
                                cond_f_res_179511 = 0;
                            }
                            cond_179509 = cond_f_res_179511;
                        }
                        
                        int64_t loopres_179535;
                        int8_t loopres_179536;
                        int64_t loopres_179537;
                        int16_t loopres_179538;
                        
                        if (cond_179509) {
                            bool x_179540 = sle64((int64_t) 0, i_179503);
                            bool y_179541 = slt64(i_179503, stride_176748);
                            bool bounds_check_179542 = x_179540 && y_179541;
                            bool index_certs_179543;
                            
                            if (!bounds_check_179542) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179503, "] out of bounds for array of shape [", (long long) stride_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_179539 = add64((int64_t) 1, i_179503);
                            int64_t slice_179544 = start_176822 + i_179503;
                            int8_t tmp_179545 = ((int8_t *) mem_param_180898.mem)[slice_179544];
                            int64_t tmp_179546 = ((int64_t *) mem_param_180901.mem)[slice_179544];
                            int16_t tmp_179547 = ((int16_t *) mem_param_180904.mem)[slice_179544];
                            
                            loopres_179535 = tmp_179539;
                            loopres_179536 = tmp_179545;
                            loopres_179537 = tmp_179546;
                            loopres_179538 = tmp_179547;
                        } else {
                            bool x_179548 = sle64((int64_t) 0, j_179507);
                            bool y_179549 = slt64(j_179507, j_m_i_176771);
                            bool bounds_check_179550 = x_179548 && y_179549;
                            bool index_certs_179551;
                            
                            if (!bounds_check_179550) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179507, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_179552 = stride_176748 + j_179507;
                            int64_t slice_179553 = start_176822 + slice_179552;
                            int8_t tmp_179554 = ((int8_t *) mem_param_180898.mem)[slice_179553];
                            int64_t tmp_179555 = ((int64_t *) mem_param_180901.mem)[slice_179553];
                            int16_t tmp_179556 = ((int16_t *) mem_param_180904.mem)[slice_179553];
                            
                            loopres_179535 = i_179503;
                            loopres_179536 = tmp_179554;
                            loopres_179537 = tmp_179555;
                            loopres_179538 = tmp_179556;
                        }
                        ((int8_t *) mem_181007.mem)[k_179502] = loopres_179536;
                        ((int64_t *) mem_181009.mem)[k_179502] = loopres_179537;
                        ((int16_t *) mem_181011.mem)[k_179502] = loopres_179538;
                        
                        int64_t i_tmp_181637 = loopres_179535;
                        
                        i_179503 = i_tmp_181637;
                    }
                    data_179498 = i_179503;
                    if (memblock_set(ctx, &ext_mem_181038, &mem_181007, "mem_181007") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181035, &mem_181009, "mem_181009") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181032, &mem_181011, "mem_181011") != 0)
                        return 1;
                } else {
                    if (mem_180926_cached_sizze_181989 < bytes_180925) {
                        err = lexical_realloc(ctx, &mem_180926, &mem_180926_cached_sizze_181989, bytes_180925);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180928_cached_sizze_181990 < bytes_180925) {
                        err = lexical_realloc(ctx, &mem_180928, &mem_180928_cached_sizze_181990, bytes_180925);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179822 = 0; i_179822 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770; i_179822++) {
                        int64_t split_count_arg3_176923 = mul64(merge_block_sizze_176586, i_179822);
                        int64_t defunc_0_split_count_res_176924;
                        int64_t defunc_0_split_count_res_176925;
                        int64_t defunc_0_split_count_res_176926;
                        int64_t defunc_0_split_count_res_176927;
                        int64_t defunc_0_split_count_res_176928;
                        
                        if (futrts_lifted_normalizze_8970(ctx, &defunc_0_split_count_res_176924, &defunc_0_split_count_res_176925, &defunc_0_split_count_res_176926, &defunc_0_split_count_res_176927, &defunc_0_split_count_res_176928, (int64_t) 0, stride_176748, (int64_t) 0, j_m_i_176771, split_count_arg3_176923) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_176929 = slt64((int64_t) 0, defunc_0_split_count_res_176928);
                        bool defunc_0_split_count_res_176930;
                        int64_t defunc_0_split_count_res_176931;
                        int64_t defunc_0_split_count_res_176932;
                        int64_t defunc_0_split_count_res_176933;
                        int64_t defunc_0_split_count_res_176934;
                        int64_t defunc_0_split_count_res_176935;
                        bool loop_while_176936;
                        int64_t ss_176937;
                        int64_t ss_176938;
                        int64_t tt_176939;
                        int64_t tt_176940;
                        int64_t count_176941;
                        
                        loop_while_176936 = loop_cond_176929;
                        ss_176937 = defunc_0_split_count_res_176924;
                        ss_176938 = defunc_0_split_count_res_176925;
                        tt_176939 = defunc_0_split_count_res_176926;
                        tt_176940 = defunc_0_split_count_res_176927;
                        count_176941 = defunc_0_split_count_res_176928;
                        while (loop_while_176936) {
                            int64_t zlze_lhs_176942 = sub64(ss_176938, ss_176937);
                            bool cond_176943 = sle64(zlze_lhs_176942, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_176944;
                            int64_t defunc_0_lifted_step_res_176945;
                            int64_t defunc_0_lifted_step_res_176946;
                            int64_t defunc_0_lifted_step_res_176947;
                            
                            if (cond_176943) {
                                int64_t tmp_179560 = add64(tt_176939, count_176941);
                                
                                defunc_0_lifted_step_res_176944 = ss_176937;
                                defunc_0_lifted_step_res_176945 = tmp_179560;
                                defunc_0_lifted_step_res_176946 = tt_176940;
                                defunc_0_lifted_step_res_176947 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_176949 = sub64(tt_176940, tt_176939);
                                bool cond_176950 = sle64(zlze_lhs_176949, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_176951;
                                int64_t defunc_0_lifted_step_res_f_res_176952;
                                int64_t defunc_0_lifted_step_res_f_res_176953;
                                int64_t defunc_0_lifted_step_res_f_res_176954;
                                
                                if (cond_176950) {
                                    int64_t tmp_179561 = add64(ss_176937, count_176941);
                                    
                                    defunc_0_lifted_step_res_f_res_176951 = tmp_179561;
                                    defunc_0_lifted_step_res_f_res_176952 = tt_176939;
                                    defunc_0_lifted_step_res_f_res_176953 = tt_176940;
                                    defunc_0_lifted_step_res_f_res_176954 = (int64_t) 0;
                                } else {
                                    bool cond_176956 = count_176941 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_176957;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_176958;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_176959;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_176960;
                                    
                                    if (cond_176956) {
                                        bool x_179563 = sle64((int64_t) 0, ss_176937);
                                        bool y_179564 = slt64(ss_176937, stride_176748);
                                        bool bounds_check_179565 = x_179563 && y_179564;
                                        bool index_certs_179566;
                                        
                                        if (!bounds_check_179565) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_176937, "] out of bounds for array of shape [", (long long) stride_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179571 = sle64((int64_t) 0, tt_176939);
                                        bool y_179572 = slt64(tt_176939, j_m_i_176771);
                                        bool bounds_check_179573 = x_179571 && y_179572;
                                        bool index_certs_179574;
                                        
                                        if (!bounds_check_179573) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_176939, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179567 = start_176822 + ss_176937;
                                        int8_t leq_arg1_179568 = ((int8_t *) mem_param_180898.mem)[slice_179567];
                                        int64_t leq_arg1_179569 = ((int64_t *) mem_param_180901.mem)[slice_179567];
                                        int16_t leq_arg1_179570 = ((int16_t *) mem_param_180904.mem)[slice_179567];
                                        int64_t slice_179575 = stride_176748 + tt_176939;
                                        int64_t slice_179576 = start_176822 + slice_179575;
                                        int8_t leq_arg0_179577 = ((int8_t *) mem_param_180898.mem)[slice_179576];
                                        int64_t leq_arg0_179578 = ((int64_t *) mem_param_180901.mem)[slice_179576];
                                        int16_t leq_arg0_179579 = ((int16_t *) mem_param_180904.mem)[slice_179576];
                                        bool cond_179580 = leq_arg0_179577 == leq_arg1_179568;
                                        bool defunc_0_leq_res_t_res_179581 = sle64(leq_arg0_179578, leq_arg1_179569);
                                        bool defunc_0_leq_res_179582 = sle16(leq_arg0_179579, leq_arg1_179570);
                                        bool x_179583 = cond_179580 && defunc_0_leq_res_t_res_179581;
                                        bool x_179584 = !cond_179580;
                                        bool y_179585 = defunc_0_leq_res_179582 && x_179584;
                                        bool defunc_0_leq_res_179586 = x_179583 || y_179585;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179587;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179588;
                                        
                                        if (defunc_0_leq_res_179586) {
                                            int64_t tmp_179589 = add64((int64_t) 1, tt_176939);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179587 = ss_176937;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179588 = tmp_179589;
                                        } else {
                                            int64_t tmp_179590 = add64((int64_t) 1, ss_176937);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179587 = tmp_179590;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179588 = tt_176939;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_176957 = defunc_0_lifted_step_res_f_res_f_res_t_res_179587;
                                        defunc_0_lifted_step_res_f_res_f_res_176958 = defunc_0_lifted_step_res_f_res_f_res_t_res_179588;
                                        defunc_0_lifted_step_res_f_res_f_res_176959 = tt_176940;
                                        defunc_0_lifted_step_res_f_res_f_res_176960 = (int64_t) 0;
                                    } else {
                                        int64_t m_176989 = sdiv64(count_176941, (int64_t) 2);
                                        int64_t n_176990 = sub64(count_176941, m_176989);
                                        bool cond_176991 = n_176990 == (int64_t) 0;
                                        int64_t zgze_lhs_176992 = add64(ss_176937, m_176989);
                                        bool cond_f_res_176993 = sle64(ss_176938, zgze_lhs_176992);
                                        bool x_176994 = !cond_176991;
                                        bool y_176995 = cond_f_res_176993 && x_176994;
                                        bool cond_176996 = cond_176991 || y_176995;
                                        bool leq_y_x_176997;
                                        
                                        if (cond_176996) {
                                            leq_y_x_176997 = 1;
                                        } else {
                                            bool x_176998 = sle64((int64_t) 0, zgze_lhs_176992);
                                            bool y_176999 = slt64(zgze_lhs_176992, stride_176748);
                                            bool bounds_check_177000 = x_176998 && y_176999;
                                            bool index_certs_177001;
                                            
                                            if (!bounds_check_177000) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_176992, "] out of bounds for array of shape [", (long long) stride_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_177006 = add64(tt_176939, n_176990);
                                            int64_t leq_arg0_177007 = sub64(zm_lhs_177006, (int64_t) 1);
                                            bool x_177008 = sle64((int64_t) 0, leq_arg0_177007);
                                            bool y_177009 = slt64(leq_arg0_177007, j_m_i_176771);
                                            bool bounds_check_177010 = x_177008 && y_177009;
                                            bool index_certs_177011;
                                            
                                            if (!bounds_check_177010) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177007, "] out of bounds for array of shape [", (long long) j_m_i_176771, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177002 = start_176822 + zgze_lhs_176992;
                                            int8_t leq_arg1_177003 = ((int8_t *) mem_param_180898.mem)[slice_177002];
                                            int64_t leq_arg1_177004 = ((int64_t *) mem_param_180901.mem)[slice_177002];
                                            int16_t leq_arg1_177005 = ((int16_t *) mem_param_180904.mem)[slice_177002];
                                            int64_t slice_177012 = stride_176748 + leq_arg0_177007;
                                            int64_t slice_177013 = start_176822 + slice_177012;
                                            int8_t leq_arg0_177014 = ((int8_t *) mem_param_180898.mem)[slice_177013];
                                            int64_t leq_arg0_177015 = ((int64_t *) mem_param_180901.mem)[slice_177013];
                                            int16_t leq_arg0_177016 = ((int16_t *) mem_param_180904.mem)[slice_177013];
                                            bool cond_177017 = leq_arg0_177014 == leq_arg1_177003;
                                            bool defunc_0_leq_res_t_res_177018 = sle64(leq_arg0_177015, leq_arg1_177004);
                                            bool defunc_0_leq_res_177019 = sle16(leq_arg0_177016, leq_arg1_177005);
                                            bool x_177020 = cond_177017 && defunc_0_leq_res_t_res_177018;
                                            bool x_177021 = !cond_177017;
                                            bool y_177022 = defunc_0_leq_res_177019 && x_177021;
                                            bool defunc_0_leq_res_177023 = x_177020 || y_177022;
                                            
                                            leq_y_x_176997 = defunc_0_leq_res_177023;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177024;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177025;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177026;
                                        
                                        if (leq_y_x_176997) {
                                            int64_t tmp_179591 = add64(tt_176939, n_176990);
                                            int64_t tmp_179592 = sub64(count_176941, n_176990);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177024 = tmp_179591;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177025 = tt_176940;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177026 = tmp_179592;
                                        } else {
                                            int64_t tmp_177029 = add64(tt_176939, n_176990);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177024 = tt_176939;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177025 = tmp_177029;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177026 = count_176941;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_176957 = ss_176937;
                                        defunc_0_lifted_step_res_f_res_f_res_176958 = defunc_0_lifted_step_res_f_res_f_res_f_res_177024;
                                        defunc_0_lifted_step_res_f_res_f_res_176959 = defunc_0_lifted_step_res_f_res_f_res_f_res_177025;
                                        defunc_0_lifted_step_res_f_res_f_res_176960 = defunc_0_lifted_step_res_f_res_f_res_f_res_177026;
                                    }
                                    defunc_0_lifted_step_res_f_res_176951 = defunc_0_lifted_step_res_f_res_f_res_176957;
                                    defunc_0_lifted_step_res_f_res_176952 = defunc_0_lifted_step_res_f_res_f_res_176958;
                                    defunc_0_lifted_step_res_f_res_176953 = defunc_0_lifted_step_res_f_res_f_res_176959;
                                    defunc_0_lifted_step_res_f_res_176954 = defunc_0_lifted_step_res_f_res_f_res_176960;
                                }
                                defunc_0_lifted_step_res_176944 = defunc_0_lifted_step_res_f_res_176951;
                                defunc_0_lifted_step_res_176945 = defunc_0_lifted_step_res_f_res_176952;
                                defunc_0_lifted_step_res_176946 = defunc_0_lifted_step_res_f_res_176953;
                                defunc_0_lifted_step_res_176947 = defunc_0_lifted_step_res_f_res_176954;
                            }
                            
                            int64_t loopres_177030;
                            int64_t loopres_177031;
                            int64_t loopres_177032;
                            int64_t loopres_177033;
                            int64_t loopres_177034;
                            
                            if (futrts_lifted_normalizze_8970(ctx, &loopres_177030, &loopres_177031, &loopres_177032, &loopres_177033, &loopres_177034, defunc_0_lifted_step_res_176944, ss_176938, defunc_0_lifted_step_res_176945, defunc_0_lifted_step_res_176946, defunc_0_lifted_step_res_176947) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_177035 = slt64((int64_t) 0, loopres_177034);
                            bool loop_while_tmp_181643 = loop_cond_177035;
                            int64_t ss_tmp_181644 = loopres_177030;
                            int64_t ss_tmp_181645 = loopres_177031;
                            int64_t tt_tmp_181646 = loopres_177032;
                            int64_t tt_tmp_181647 = loopres_177033;
                            int64_t count_tmp_181648 = loopres_177034;
                            
                            loop_while_176936 = loop_while_tmp_181643;
                            ss_176937 = ss_tmp_181644;
                            ss_176938 = ss_tmp_181645;
                            tt_176939 = tt_tmp_181646;
                            tt_176940 = tt_tmp_181647;
                            count_176941 = count_tmp_181648;
                        }
                        defunc_0_split_count_res_176930 = loop_while_176936;
                        defunc_0_split_count_res_176931 = ss_176937;
                        defunc_0_split_count_res_176932 = ss_176938;
                        defunc_0_split_count_res_176933 = tt_176939;
                        defunc_0_split_count_res_176934 = tt_176940;
                        defunc_0_split_count_res_176935 = count_176941;
                        ((int64_t *) mem_180926)[i_179822] = defunc_0_split_count_res_176931;
                        ((int64_t *) mem_180928)[i_179822] = defunc_0_split_count_res_176933;
                    }
                    if (mem_180942_cached_sizze_181991 < flat_dim_176772) {
                        err = lexical_realloc(ctx, &mem_180942, &mem_180942_cached_sizze_181991, flat_dim_176772);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180945_cached_sizze_181992 < bytes_180944) {
                        err = lexical_realloc(ctx, &mem_180945, &mem_180945_cached_sizze_181992, bytes_180944);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180948_cached_sizze_181993 < bytes_180947) {
                        err = lexical_realloc(ctx, &mem_180948, &mem_180948_cached_sizze_181993, bytes_180947);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179831 = 0; i_179831 < num_blocks_176769; i_179831++) {
                        bool y_177042 = slt64(i_179831, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770);
                        bool index_certs_177044;
                        
                        if (!y_177042) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179831, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177045 = ((int64_t *) mem_180926)[i_179831];
                        int64_t defunc_0_f_res_177046 = ((int64_t *) mem_180928)[i_179831];
                        int64_t tmp_177047 = add64((int64_t) 1, i_179831);
                        bool x_177048 = sle64((int64_t) 0, tmp_177047);
                        bool y_177049 = slt64(tmp_177047, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770);
                        bool bounds_check_177050 = x_177048 && y_177049;
                        bool index_certs_177051;
                        
                        if (!bounds_check_177050) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177047, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176770, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177052 = ((int64_t *) mem_180926)[tmp_177047];
                        int64_t defunc_0_f_res_177053 = ((int64_t *) mem_180928)[tmp_177047];
                        int64_t merge_sequential_arg2_177054 = add64(stride_176748, defunc_0_f_res_177046);
                        int64_t merge_sequential_arg2_177055 = add64(stride_176748, defunc_0_f_res_177053);
                        int64_t j_m_i_177056 = sub64(merge_sequential_arg2_177055, merge_sequential_arg2_177054);
                        bool empty_slice_177057 = j_m_i_177056 == (int64_t) 0;
                        int64_t m_177058 = sub64(j_m_i_177056, (int64_t) 1);
                        int64_t i_p_m_t_s_177059 = add64(merge_sequential_arg2_177054, m_177058);
                        bool zzero_leq_i_p_m_t_s_177060 = sle64((int64_t) 0, i_p_m_t_s_177059);
                        bool i_p_m_t_s_leq_w_177061 = slt64(i_p_m_t_s_177059, next_stride_176749);
                        bool zzero_lte_i_177062 = sle64((int64_t) 0, merge_sequential_arg2_177054);
                        bool i_lte_j_177063 = sle64(merge_sequential_arg2_177054, merge_sequential_arg2_177055);
                        bool y_177064 = i_p_m_t_s_leq_w_177061 && zzero_lte_i_177062;
                        bool y_177065 = zzero_leq_i_p_m_t_s_177060 && y_177064;
                        bool forwards_ok_177066 = i_lte_j_177063 && y_177065;
                        bool ok_or_empty_177067 = empty_slice_177057 || forwards_ok_177066;
                        bool index_certs_177068;
                        
                        if (!ok_or_empty_177067) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177054, ":", (long long) merge_sequential_arg2_177055, "] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_177069 = sub64(defunc_0_f_res_177052, defunc_0_f_res_177045);
                        bool empty_slice_177070 = j_m_i_177069 == (int64_t) 0;
                        int64_t m_177071 = sub64(j_m_i_177069, (int64_t) 1);
                        int64_t i_p_m_t_s_177072 = add64(defunc_0_f_res_177045, m_177071);
                        bool zzero_leq_i_p_m_t_s_177073 = sle64((int64_t) 0, i_p_m_t_s_177072);
                        bool i_p_m_t_s_leq_w_177074 = slt64(i_p_m_t_s_177072, next_stride_176749);
                        bool zzero_lte_i_177075 = sle64((int64_t) 0, defunc_0_f_res_177045);
                        bool i_lte_j_177076 = sle64(defunc_0_f_res_177045, defunc_0_f_res_177052);
                        bool y_177077 = i_p_m_t_s_leq_w_177074 && zzero_lte_i_177075;
                        bool y_177078 = zzero_leq_i_p_m_t_s_177073 && y_177077;
                        bool forwards_ok_177079 = i_lte_j_177076 && y_177078;
                        bool ok_or_empty_177080 = empty_slice_177070 || forwards_ok_177079;
                        bool index_certs_177081;
                        
                        if (!ok_or_empty_177080) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177045, ":", (long long) defunc_0_f_res_177052, "] out of bounds for array of shape [", (long long) next_stride_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_177082 = slt64((int64_t) 0, j_m_i_177069);
                        int8_t dummy_177083;
                        int64_t dummy_177084;
                        int16_t dummy_177085;
                        
                        if (cond_177082) {
                            bool index_certs_179593;
                            
                            if (!cond_177082) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177069, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_179594 = start_176822 + defunc_0_f_res_177045;
                            int8_t head_res_179595 = ((int8_t *) mem_param_180898.mem)[slice_179594];
                            int64_t head_res_179596 = ((int64_t *) mem_param_180901.mem)[slice_179594];
                            int16_t head_res_179597 = ((int16_t *) mem_param_180904.mem)[slice_179594];
                            
                            dummy_177083 = head_res_179595;
                            dummy_177084 = head_res_179596;
                            dummy_177085 = head_res_179597;
                        } else {
                            bool y_177091 = slt64((int64_t) 0, j_m_i_177056);
                            bool index_certs_177092;
                            
                            if (!y_177091) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177056, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177093 = start_176822 + merge_sequential_arg2_177054;
                            int8_t head_res_177094 = ((int8_t *) mem_param_180898.mem)[slice_177093];
                            int64_t head_res_177095 = ((int64_t *) mem_param_180901.mem)[slice_177093];
                            int16_t head_res_177096 = ((int16_t *) mem_param_180904.mem)[slice_177093];
                            
                            dummy_177083 = head_res_177094;
                            dummy_177084 = head_res_177095;
                            dummy_177085 = head_res_177096;
                        }
                        for (int64_t nest_i_181652 = 0; nest_i_181652 < merge_block_sizze_176586; nest_i_181652++) {
                            ((int8_t *) mem_180942)[i_179831 * merge_block_sizze_176586 + nest_i_181652] = dummy_177083;
                        }
                        for (int64_t nest_i_181653 = 0; nest_i_181653 < merge_block_sizze_176586; nest_i_181653++) {
                            ((int64_t *) mem_180945)[i_179831 * merge_block_sizze_176586 + nest_i_181653] = dummy_177084;
                        }
                        for (int64_t nest_i_181654 = 0; nest_i_181654 < merge_block_sizze_176586; nest_i_181654++) {
                            ((int16_t *) mem_180948)[i_179831 * merge_block_sizze_176586 + nest_i_181654] = dummy_177085;
                        }
                        
                        int64_t data_177100;
                        int64_t i_177105 = (int64_t) 0;
                        
                        for (int64_t k_177104 = 0; k_177104 < merge_block_sizze_176586; k_177104++) {
                            int64_t j_177109 = sub64(k_177104, i_177105);
                            bool cond_177110 = j_177109 == j_m_i_177056;
                            bool cond_177111;
                            
                            if (cond_177110) {
                                cond_177111 = 1;
                            } else {
                                bool cond_177112 = slt64(i_177105, j_m_i_177069);
                                bool cond_f_res_177113;
                                
                                if (cond_177112) {
                                    bool x_179598 = sle64((int64_t) 0, j_177109);
                                    bool y_179599 = slt64(j_177109, j_m_i_177056);
                                    bool bounds_check_179600 = x_179598 && y_179599;
                                    bool index_certs_179601;
                                    
                                    if (!bounds_check_179600) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177109, "] out of bounds for array of shape [", (long long) j_m_i_177056, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_179607 = sle64((int64_t) 0, i_177105);
                                    bool bounds_check_179608 = cond_177112 && x_179607;
                                    bool index_certs_179609;
                                    
                                    if (!bounds_check_179608) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177105, "] out of bounds for array of shape [", (long long) j_m_i_177069, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179602 = merge_sequential_arg2_177054 + j_177109;
                                    int64_t slice_179603 = start_176822 + slice_179602;
                                    int8_t leq_arg1_179604 = ((int8_t *) mem_param_180898.mem)[slice_179603];
                                    int64_t leq_arg1_179605 = ((int64_t *) mem_param_180901.mem)[slice_179603];
                                    int16_t leq_arg1_179606 = ((int16_t *) mem_param_180904.mem)[slice_179603];
                                    int64_t slice_179610 = defunc_0_f_res_177045 + i_177105;
                                    int64_t slice_179611 = start_176822 + slice_179610;
                                    int8_t leq_arg0_179612 = ((int8_t *) mem_param_180898.mem)[slice_179611];
                                    int64_t leq_arg0_179613 = ((int64_t *) mem_param_180901.mem)[slice_179611];
                                    int16_t leq_arg0_179614 = ((int16_t *) mem_param_180904.mem)[slice_179611];
                                    bool cond_179615 = leq_arg0_179612 == leq_arg1_179604;
                                    bool defunc_0_leq_res_t_res_179616 = sle64(leq_arg0_179613, leq_arg1_179605);
                                    bool defunc_0_leq_res_179617 = sle16(leq_arg0_179614, leq_arg1_179606);
                                    bool x_179618 = cond_179615 && defunc_0_leq_res_t_res_179616;
                                    bool x_179619 = !cond_179615;
                                    bool y_179620 = defunc_0_leq_res_179617 && x_179619;
                                    bool defunc_0_leq_res_179621 = x_179618 || y_179620;
                                    
                                    cond_f_res_177113 = defunc_0_leq_res_179621;
                                } else {
                                    cond_f_res_177113 = 0;
                                }
                                cond_177111 = cond_f_res_177113;
                            }
                            
                            int64_t loopres_177138;
                            int8_t loopres_177139;
                            int64_t loopres_177140;
                            int16_t loopres_177141;
                            
                            if (cond_177111) {
                                bool x_179623 = sle64((int64_t) 0, i_177105);
                                bool y_179624 = slt64(i_177105, j_m_i_177069);
                                bool bounds_check_179625 = x_179623 && y_179624;
                                bool index_certs_179626;
                                
                                if (!bounds_check_179625) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177105, "] out of bounds for array of shape [", (long long) j_m_i_177069, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_179622 = add64((int64_t) 1, i_177105);
                                int64_t slice_179627 = defunc_0_f_res_177045 + i_177105;
                                int64_t slice_179628 = start_176822 + slice_179627;
                                int8_t tmp_179629 = ((int8_t *) mem_param_180898.mem)[slice_179628];
                                int64_t tmp_179630 = ((int64_t *) mem_param_180901.mem)[slice_179628];
                                int16_t tmp_179631 = ((int16_t *) mem_param_180904.mem)[slice_179628];
                                
                                loopres_177138 = tmp_179622;
                                loopres_177139 = tmp_179629;
                                loopres_177140 = tmp_179630;
                                loopres_177141 = tmp_179631;
                            } else {
                                bool x_177152 = sle64((int64_t) 0, j_177109);
                                bool y_177153 = slt64(j_177109, j_m_i_177056);
                                bool bounds_check_177154 = x_177152 && y_177153;
                                bool index_certs_177155;
                                
                                if (!bounds_check_177154) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177109, "] out of bounds for array of shape [", (long long) j_m_i_177056, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177156 = merge_sequential_arg2_177054 + j_177109;
                                int64_t slice_177157 = start_176822 + slice_177156;
                                int8_t tmp_177158 = ((int8_t *) mem_param_180898.mem)[slice_177157];
                                int64_t tmp_177159 = ((int64_t *) mem_param_180901.mem)[slice_177157];
                                int16_t tmp_177160 = ((int16_t *) mem_param_180904.mem)[slice_177157];
                                
                                loopres_177138 = i_177105;
                                loopres_177139 = tmp_177158;
                                loopres_177140 = tmp_177159;
                                loopres_177141 = tmp_177160;
                            }
                            ((int8_t *) mem_180942)[i_179831 * merge_block_sizze_176586 + k_177104] = loopres_177139;
                            ((int64_t *) mem_180945)[i_179831 * merge_block_sizze_176586 + k_177104] = loopres_177140;
                            ((int16_t *) mem_180948)[i_179831 * merge_block_sizze_176586 + k_177104] = loopres_177141;
                            
                            int64_t i_tmp_181655 = loopres_177138;
                            
                            i_177105 = i_tmp_181655;
                        }
                        data_177100 = i_177105;
                    }
                    if (memblock_alloc(ctx, &mem_180997, flat_dim_176772, "mem_180997")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180997.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (uint8_t *) mem_180942, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (int64_t []) {num_blocks_176769, merge_block_sizze_176586});
                    if (memblock_alloc(ctx, &mem_181001, bytes_180944, "mem_181001")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181001.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (uint64_t *) mem_180945, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (int64_t []) {num_blocks_176769, merge_block_sizze_176586});
                    if (memblock_alloc(ctx, &mem_181005, bytes_180947, "mem_181005")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_181005.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (uint16_t *) mem_180948, (int64_t) 0, (int64_t []) {merge_block_sizze_176586, (int64_t) 1}, (int64_t []) {num_blocks_176769, merge_block_sizze_176586});
                    if (memblock_set(ctx, &ext_mem_181038, &mem_180997, "mem_180997") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181035, &mem_181001, "mem_181001") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181032, &mem_181005, "mem_181005") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180906, i_179841 * next_stride_176749, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181038.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176749});
                if (memblock_unref(ctx, &ext_mem_181038, "ext_mem_181038") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180909, i_179841 * next_stride_176749, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181035.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176749});
                if (memblock_unref(ctx, &ext_mem_181035, "ext_mem_181035") != 0)
                    return 1;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_180912, i_179841 * next_stride_176749, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181032.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176749});
                if (memblock_unref(ctx, &ext_mem_181032, "ext_mem_181032") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_181052, bytes_180905, "mem_181052")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_181052.mem, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (uint8_t *) mem_180906, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (int64_t []) {num_merges_176753, next_stride_176749});
            if (memblock_alloc(ctx, &mem_181056, bytes_180908, "mem_181056")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181056.mem, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (uint64_t *) mem_180909, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (int64_t []) {num_merges_176753, next_stride_176749});
            if (memblock_alloc(ctx, &mem_181060, bytes_180911, "mem_181060")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_2b(ctx, 2, (uint16_t *) mem_181060.mem, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (uint16_t *) mem_180912, (int64_t) 0, (int64_t []) {next_stride_176749, (int64_t) 1}, (int64_t []) {num_merges_176753, next_stride_176749});
            
            bool loop_cond_177174 = slt64(next_stride_176749, flat_dim_176581);
            
            if (memblock_set(ctx, &mem_param_tmp_181622, &mem_181052, "mem_181052") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181623, &mem_181056, "mem_181056") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181624, &mem_181060, "mem_181060") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_181625 = bytes_180905;
            bool loop_while_tmp_181626 = loop_cond_177174;
            int64_t stride_tmp_181630 = next_stride_176749;
            
            if (memblock_set(ctx, &mem_param_180898, &mem_param_tmp_181622, "mem_param_tmp_181622") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180901, &mem_param_tmp_181623, "mem_param_tmp_181623") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180904, &mem_param_tmp_181624, "mem_param_tmp_181624") != 0)
                return 1;
            loop_dz2084Uz2082U_176743 = loop_dz2084Uz2082U_tmp_181625;
            loop_while_176744 = loop_while_tmp_181626;
            stride_176748 = stride_tmp_181630;
        }
        if (memblock_set(ctx, &ext_mem_181070, &mem_param_180898, "mem_param_180898") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181069, &mem_param_180901, "mem_param_180901") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181068, &mem_param_180904, "mem_param_180904") != 0)
            return 1;
        data_176737 = loop_dz2084Uz2082U_176743;
        data_176738 = loop_while_176744;
        data_176742 = stride_176748;
        if (memblock_unref(ctx, &mem_180886, "mem_180886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180890, "mem_180890") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180894, "mem_180894") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_177177 = slt64(zs_lhs_176565, data_176737);
        bool y_177178 = i_p_m_t_s_leq_w_177177 && zzero_leq_i_p_m_t_s_177191;
        bool ok_or_empty_177179 = y_177178 || empty_slice_177189;
        bool index_certs_177180;
        
        if (!ok_or_empty_177179) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176518, "] out of bounds for array of shape [", (long long) data_176737, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181079, &ext_mem_181070, "ext_mem_181070") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181076, &ext_mem_181069, "ext_mem_181069") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181073, &ext_mem_181068, "ext_mem_181068") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_180780, "mem_180780") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_180782, "mem_180782") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_180784, "mem_180784") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_179988.mem, final_buffer_177196, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181079.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177197});
    if (memblock_unref(ctx, &ext_mem_181079, "ext_mem_181079") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_179990.mem, final_buffer_177196, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181076.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177197});
    if (memblock_unref(ctx, &ext_mem_181076, "ext_mem_181076") != 0)
        return 1;
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_179992.mem, final_buffer_177196, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181073.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177197});
    if (memblock_unref(ctx, &ext_mem_181073, "ext_mem_181073") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181400, &mem_179990, "mem_179990") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181401, &mem_179988, "mem_179988") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181402, &mem_179992, "mem_179992") != 0)
        return 1;
    prim_out_181403 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174475;
    if (memblock_set(ctx, &*mem_out_p_181940, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181941, &mem_out_181401, "mem_out_181401") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181942, &mem_out_181402, "mem_out_181402") != 0)
        return 1;
    *out_prim_out_181943 = prim_out_181403;
    
  cleanup:
    {
        free(mem_180003);
        free(mem_180005);
        free(mem_180044);
        free(mem_180047);
        free(mem_180050);
        free(mem_180063);
        free(mem_180065);
        free(mem_180067);
        free(mem_180164);
        free(mem_180167);
        free(mem_180170);
        free(mem_180184);
        free(mem_180186);
        free(mem_180200);
        free(mem_180203);
        free(mem_180206);
        free(mem_180348);
        free(mem_180350);
        free(mem_180365);
        free(mem_180367);
        free(mem_180370);
        free(mem_180373);
        free(mem_180407);
        free(mem_180410);
        free(mem_180413);
        free(mem_180426);
        free(mem_180428);
        free(mem_180430);
        free(mem_180527);
        free(mem_180530);
        free(mem_180533);
        free(mem_180547);
        free(mem_180549);
        free(mem_180563);
        free(mem_180566);
        free(mem_180569);
        free(mem_180786);
        free(mem_180789);
        free(mem_180792);
        free(mem_180805);
        free(mem_180807);
        free(mem_180809);
        free(mem_180906);
        free(mem_180909);
        free(mem_180912);
        free(mem_180926);
        free(mem_180928);
        free(mem_180942);
        free(mem_180945);
        free(mem_180948);
        if (memblock_unref(ctx, &mem_param_tmp_181624, "mem_param_tmp_181624") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181623, "mem_param_tmp_181623") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181622, "mem_param_tmp_181622") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181060, "mem_181060") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181056, "mem_181056") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181052, "mem_181052") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181005, "mem_181005") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181001, "mem_181001") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180997, "mem_180997") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181011, "mem_181011") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181009, "mem_181009") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181007, "mem_181007") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181032, "ext_mem_181032") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181035, "ext_mem_181035") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181038, "ext_mem_181038") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180904, "mem_param_180904") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180901, "mem_param_180901") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180898, "mem_param_180898") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181068, "ext_mem_181068") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181069, "ext_mem_181069") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181070, "ext_mem_181070") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180894, "mem_180894") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180890, "mem_180890") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180886, "mem_180886") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181073, "ext_mem_181073") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181076, "ext_mem_181076") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181079, "ext_mem_181079") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180784, "mem_180784") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180782, "mem_180782") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180780, "mem_180780") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181558, "mem_param_tmp_181558") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181557, "mem_param_tmp_181557") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181556, "mem_param_tmp_181556") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180318, "mem_180318") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180314, "mem_180314") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180310, "mem_180310") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180263, "mem_180263") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180259, "mem_180259") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180255, "mem_180255") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180269, "mem_180269") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180267, "mem_180267") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180265, "mem_180265") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180290, "ext_mem_180290") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180293, "ext_mem_180293") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180296, "ext_mem_180296") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180162, "mem_param_180162") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180159, "mem_param_180159") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180156, "mem_param_180156") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180326, "ext_mem_180326") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180327, "ext_mem_180327") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180328, "ext_mem_180328") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180152, "mem_180152") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180148, "mem_180148") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180144, "mem_180144") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180331, "ext_mem_180331") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180334, "ext_mem_180334") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180337, "ext_mem_180337") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180042, "mem_180042") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180040, "mem_180040") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180038, "mem_180038") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180022, "mem_180022") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180020, "mem_180020") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180018, "mem_180018") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180729, "mem_180729") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180728, "mem_180728") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180726, "mem_180726") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181464, "mem_param_tmp_181464") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181463, "mem_param_tmp_181463") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181462, "mem_param_tmp_181462") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180681, "mem_180681") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180677, "mem_180677") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180673, "mem_180673") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180626, "mem_180626") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180622, "mem_180622") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180618, "mem_180618") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180632, "mem_180632") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180630, "mem_180630") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180628, "mem_180628") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180653, "ext_mem_180653") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180656, "ext_mem_180656") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180659, "ext_mem_180659") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180525, "mem_param_180525") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180522, "mem_param_180522") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180519, "mem_param_180519") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180689, "ext_mem_180689") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180690, "ext_mem_180690") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180691, "ext_mem_180691") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180515, "mem_180515") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180511, "mem_180511") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180507, "mem_180507") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180694, "ext_mem_180694") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180700, "ext_mem_180700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180405, "mem_180405") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180403, "mem_180403") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180401, "mem_180401") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180750, "ext_mem_180750") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180753, "ext_mem_180753") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180756, "ext_mem_180756") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179992, "mem_179992") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179990, "mem_179990") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179988, "mem_179988") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181402, "mem_out_181402") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181401, "mem_out_181401") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_double(struct futhark_context *ctx, struct memblock *mem_out_p_181994, struct memblock is_mem_179986, struct memblock ys_mem_179987, int64_t n_108752, int64_t incr_108753, int64_t block_sizze_108754)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_180027;
    
    mem_180027.references = NULL;
    
    struct memblock mem_param_tmp_181404;
    
    mem_param_tmp_181404.references = NULL;
    
    struct memblock mem_param_tmp_181403;
    
    mem_param_tmp_181403.references = NULL;
    
    struct memblock mem_180007;
    
    mem_180007.references = NULL;
    
    struct memblock mem_180005;
    
    mem_180005.references = NULL;
    
    struct memblock mem_param_180003;
    
    mem_param_180003.references = NULL;
    
    struct memblock mem_param_180000;
    
    mem_param_180000.references = NULL;
    
    struct memblock ext_mem_180024;
    
    ext_mem_180024.references = NULL;
    
    struct memblock ext_mem_180025;
    
    ext_mem_180025.references = NULL;
    
    struct memblock mem_179997;
    
    mem_179997.references = NULL;
    
    struct memblock mem_179989;
    
    mem_179989.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    int64_t bytes_179988 = (int64_t) 8 * n_108752;
    
    if (memblock_alloc(ctx, &mem_179989, bytes_179988, "mem_179989")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_179648 = 0; i_179648 < n_108752; i_179648++) {
        int64_t eta_p_163485 = ((int64_t *) is_mem_179986.mem)[i_179648];
        int64_t lifted_lambda_res_163486 = sub64(eta_p_163485, incr_108753);
        
        ((int64_t *) mem_179989.mem)[i_179648] = lifted_lambda_res_163486;
    }
    if (memblock_alloc(ctx, &mem_179997, bytes_179988, "mem_179997")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181402 = 0; nest_i_181402 < n_108752; nest_i_181402++) {
        ((double *) mem_179997.mem)[nest_i_181402] = 0.0;
    }
    
    bool loop_cond_163488 = slt64((int64_t) 0, n_108752);
    bool partitioned_gather_res_163489;
    int64_t partitioned_gather_res_163490;
    bool loop_while_163493;
    int64_t p_163494;
    
    if (memblock_set(ctx, &mem_param_180000, &mem_179989, "mem_179989") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_180003, &mem_179997, "mem_179997") != 0)
        return 1;
    loop_while_163493 = loop_cond_163488;
    p_163494 = (int64_t) 0;
    while (loop_while_163493) {
        int64_t min_arg0_163497 = add64(block_sizze_108754, p_163494);
        int64_t min_res_163498 = smin64(n_108752, min_arg0_163497);
        
        if (memblock_alloc(ctx, &mem_180005, bytes_179988, "mem_180005")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc(ctx, &mem_180007, bytes_179988, "mem_180007")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_179654 = 0; i_179654 < n_108752; i_179654++) {
            int64_t eta_p_163501 = ((int64_t *) mem_param_180000.mem)[i_179654];
            double eta_p_163502 = ((double *) mem_param_180003.mem)[i_179654];
            bool cond_163503 = sle64(p_163494, eta_p_163501);
            bool cond_t_res_163504 = slt64(eta_p_163501, min_res_163498);
            bool x_163505 = cond_163503 && cond_t_res_163504;
            int64_t lifted_lambda_res_163506;
            
            if (x_163505) {
                lifted_lambda_res_163506 = (int64_t) -1;
            } else {
                lifted_lambda_res_163506 = eta_p_163501;
            }
            
            double lifted_lambda_res_163507;
            
            if (x_163505) {
                bool x_177498 = sle64((int64_t) 0, eta_p_163501);
                bool y_177499 = slt64(eta_p_163501, n_108752);
                bool bounds_check_177500 = x_177498 && y_177499;
                bool index_certs_177501;
                
                if (!bounds_check_177500) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_163501, "] out of bounds for array of shape [", (long long) n_108752, "].", "-> #0  ftbasics.fut:52:23-29\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:48:14-54:12\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:63:1-65:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                double tmp_177502 = ((double *) ys_mem_179987.mem)[eta_p_163501];
                
                lifted_lambda_res_163507 = tmp_177502;
            } else {
                lifted_lambda_res_163507 = eta_p_163502;
            }
            ((int64_t *) mem_180005.mem)[i_179654] = lifted_lambda_res_163506;
            ((double *) mem_180007.mem)[i_179654] = lifted_lambda_res_163507;
        }
        
        bool loop_cond_163513 = slt64(min_res_163498, n_108752);
        
        if (memblock_set(ctx, &mem_param_tmp_181403, &mem_180005, "mem_180005") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_181404, &mem_180007, "mem_180007") != 0)
            return 1;
        
        bool loop_while_tmp_181405 = loop_cond_163513;
        int64_t p_tmp_181406 = min_res_163498;
        
        if (memblock_set(ctx, &mem_param_180000, &mem_param_tmp_181403, "mem_param_tmp_181403") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180003, &mem_param_tmp_181404, "mem_param_tmp_181404") != 0)
            return 1;
        loop_while_163493 = loop_while_tmp_181405;
        p_163494 = p_tmp_181406;
    }
    if (memblock_set(ctx, &ext_mem_180025, &mem_param_180000, "mem_param_180000") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_180024, &mem_param_180003, "mem_param_180003") != 0)
        return 1;
    partitioned_gather_res_163489 = loop_while_163493;
    partitioned_gather_res_163490 = p_163494;
    if (memblock_unref(ctx, &mem_179989, "mem_179989") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_179997, "mem_179997") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180027, bytes_179988, "mem_180027")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180027.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180024.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_108752});
    if (memblock_unref(ctx, &ext_mem_180024, "ext_mem_180024") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181400, &mem_180027, "mem_180027") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181994, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_180027, "mem_180027") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181404, "mem_param_tmp_181404") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181403, "mem_param_tmp_181403") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180007, "mem_180007") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180005, "mem_180005") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180003, "mem_param_180003") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180000, "mem_param_180000") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180024, "ext_mem_180024") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180025, "ext_mem_180025") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179997, "mem_179997") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179989, "mem_179989") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_float(struct futhark_context *ctx, struct memblock *mem_out_p_181995, struct memblock is_mem_179986, struct memblock ys_mem_179987, int64_t n_108516, int64_t incr_108517, int64_t block_sizze_108518)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_180027;
    
    mem_180027.references = NULL;
    
    struct memblock mem_param_tmp_181404;
    
    mem_param_tmp_181404.references = NULL;
    
    struct memblock mem_param_tmp_181403;
    
    mem_param_tmp_181403.references = NULL;
    
    struct memblock mem_180007;
    
    mem_180007.references = NULL;
    
    struct memblock mem_180005;
    
    mem_180005.references = NULL;
    
    struct memblock mem_param_180003;
    
    mem_param_180003.references = NULL;
    
    struct memblock mem_param_180000;
    
    mem_param_180000.references = NULL;
    
    struct memblock ext_mem_180024;
    
    ext_mem_180024.references = NULL;
    
    struct memblock ext_mem_180025;
    
    ext_mem_180025.references = NULL;
    
    struct memblock mem_179997;
    
    mem_179997.references = NULL;
    
    struct memblock mem_179989;
    
    mem_179989.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    int64_t bytes_179988 = (int64_t) 8 * n_108516;
    int64_t bytes_179996 = (int64_t) 4 * n_108516;
    
    if (memblock_alloc(ctx, &mem_179989, bytes_179988, "mem_179989")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_179648 = 0; i_179648 < n_108516; i_179648++) {
        int64_t eta_p_163485 = ((int64_t *) is_mem_179986.mem)[i_179648];
        int64_t lifted_lambda_res_163486 = sub64(eta_p_163485, incr_108517);
        
        ((int64_t *) mem_179989.mem)[i_179648] = lifted_lambda_res_163486;
    }
    if (memblock_alloc(ctx, &mem_179997, bytes_179996, "mem_179997")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181402 = 0; nest_i_181402 < n_108516; nest_i_181402++) {
        ((float *) mem_179997.mem)[nest_i_181402] = 0.0F;
    }
    
    bool loop_cond_163488 = slt64((int64_t) 0, n_108516);
    bool partitioned_gather_res_163489;
    int64_t partitioned_gather_res_163490;
    bool loop_while_163493;
    int64_t p_163494;
    
    if (memblock_set(ctx, &mem_param_180000, &mem_179989, "mem_179989") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_180003, &mem_179997, "mem_179997") != 0)
        return 1;
    loop_while_163493 = loop_cond_163488;
    p_163494 = (int64_t) 0;
    while (loop_while_163493) {
        int64_t min_arg0_163497 = add64(block_sizze_108518, p_163494);
        int64_t min_res_163498 = smin64(n_108516, min_arg0_163497);
        
        if (memblock_alloc(ctx, &mem_180005, bytes_179988, "mem_180005")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc(ctx, &mem_180007, bytes_179996, "mem_180007")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_179654 = 0; i_179654 < n_108516; i_179654++) {
            int64_t eta_p_163501 = ((int64_t *) mem_param_180000.mem)[i_179654];
            float eta_p_163502 = ((float *) mem_param_180003.mem)[i_179654];
            bool cond_163503 = sle64(p_163494, eta_p_163501);
            bool cond_t_res_163504 = slt64(eta_p_163501, min_res_163498);
            bool x_163505 = cond_163503 && cond_t_res_163504;
            int64_t lifted_lambda_res_163506;
            
            if (x_163505) {
                lifted_lambda_res_163506 = (int64_t) -1;
            } else {
                lifted_lambda_res_163506 = eta_p_163501;
            }
            
            float lifted_lambda_res_163507;
            
            if (x_163505) {
                bool x_177498 = sle64((int64_t) 0, eta_p_163501);
                bool y_177499 = slt64(eta_p_163501, n_108516);
                bool bounds_check_177500 = x_177498 && y_177499;
                bool index_certs_177501;
                
                if (!bounds_check_177500) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_163501, "] out of bounds for array of shape [", (long long) n_108516, "].", "-> #0  ftbasics.fut:52:23-29\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:48:14-54:12\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:59:1-61:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float tmp_177502 = ((float *) ys_mem_179987.mem)[eta_p_163501];
                
                lifted_lambda_res_163507 = tmp_177502;
            } else {
                lifted_lambda_res_163507 = eta_p_163502;
            }
            ((int64_t *) mem_180005.mem)[i_179654] = lifted_lambda_res_163506;
            ((float *) mem_180007.mem)[i_179654] = lifted_lambda_res_163507;
        }
        
        bool loop_cond_163513 = slt64(min_res_163498, n_108516);
        
        if (memblock_set(ctx, &mem_param_tmp_181403, &mem_180005, "mem_180005") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_181404, &mem_180007, "mem_180007") != 0)
            return 1;
        
        bool loop_while_tmp_181405 = loop_cond_163513;
        int64_t p_tmp_181406 = min_res_163498;
        
        if (memblock_set(ctx, &mem_param_180000, &mem_param_tmp_181403, "mem_param_tmp_181403") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180003, &mem_param_tmp_181404, "mem_param_tmp_181404") != 0)
            return 1;
        loop_while_163493 = loop_while_tmp_181405;
        p_163494 = p_tmp_181406;
    }
    if (memblock_set(ctx, &ext_mem_180025, &mem_param_180000, "mem_param_180000") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_180024, &mem_param_180003, "mem_param_180003") != 0)
        return 1;
    partitioned_gather_res_163489 = loop_while_163493;
    partitioned_gather_res_163490 = p_163494;
    if (memblock_unref(ctx, &mem_179989, "mem_179989") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_179997, "mem_179997") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180027, bytes_179996, "mem_180027")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_180027.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180024.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_108516});
    if (memblock_unref(ctx, &ext_mem_180024, "ext_mem_180024") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181400, &mem_180027, "mem_180027") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181995, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_180027, "mem_180027") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181404, "mem_param_tmp_181404") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181403, "mem_param_tmp_181403") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180007, "mem_180007") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180005, "mem_180005") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180003, "mem_param_180003") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180000, "mem_param_180000") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180024, "ext_mem_180024") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180025, "ext_mem_180025") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179997, "mem_179997") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179989, "mem_179989") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_int(struct futhark_context *ctx, struct memblock *mem_out_p_181996, struct memblock is_mem_179986, struct memblock ys_mem_179987, int64_t n_108048, int64_t incr_108049, int64_t block_sizze_108050)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_180027;
    
    mem_180027.references = NULL;
    
    struct memblock mem_param_tmp_181404;
    
    mem_param_tmp_181404.references = NULL;
    
    struct memblock mem_param_tmp_181403;
    
    mem_param_tmp_181403.references = NULL;
    
    struct memblock mem_180007;
    
    mem_180007.references = NULL;
    
    struct memblock mem_180005;
    
    mem_180005.references = NULL;
    
    struct memblock mem_param_180003;
    
    mem_param_180003.references = NULL;
    
    struct memblock mem_param_180000;
    
    mem_param_180000.references = NULL;
    
    struct memblock ext_mem_180024;
    
    ext_mem_180024.references = NULL;
    
    struct memblock ext_mem_180025;
    
    ext_mem_180025.references = NULL;
    
    struct memblock mem_179997;
    
    mem_179997.references = NULL;
    
    struct memblock mem_179989;
    
    mem_179989.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    int64_t bytes_179988 = (int64_t) 8 * n_108048;
    int64_t bytes_179996 = (int64_t) 4 * n_108048;
    
    if (memblock_alloc(ctx, &mem_179989, bytes_179988, "mem_179989")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_179648 = 0; i_179648 < n_108048; i_179648++) {
        int64_t eta_p_163485 = ((int64_t *) is_mem_179986.mem)[i_179648];
        int64_t lifted_lambda_res_163486 = sub64(eta_p_163485, incr_108049);
        
        ((int64_t *) mem_179989.mem)[i_179648] = lifted_lambda_res_163486;
    }
    if (memblock_alloc(ctx, &mem_179997, bytes_179996, "mem_179997")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181402 = 0; nest_i_181402 < n_108048; nest_i_181402++) {
        ((int32_t *) mem_179997.mem)[nest_i_181402] = 0;
    }
    
    bool loop_cond_163488 = slt64((int64_t) 0, n_108048);
    bool partitioned_gather_res_163489;
    int64_t partitioned_gather_res_163490;
    bool loop_while_163493;
    int64_t p_163494;
    
    if (memblock_set(ctx, &mem_param_180000, &mem_179989, "mem_179989") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_180003, &mem_179997, "mem_179997") != 0)
        return 1;
    loop_while_163493 = loop_cond_163488;
    p_163494 = (int64_t) 0;
    while (loop_while_163493) {
        int64_t min_arg0_163497 = add64(block_sizze_108050, p_163494);
        int64_t min_res_163498 = smin64(n_108048, min_arg0_163497);
        
        if (memblock_alloc(ctx, &mem_180005, bytes_179988, "mem_180005")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc(ctx, &mem_180007, bytes_179996, "mem_180007")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_179654 = 0; i_179654 < n_108048; i_179654++) {
            int64_t eta_p_163501 = ((int64_t *) mem_param_180000.mem)[i_179654];
            int32_t eta_p_163502 = ((int32_t *) mem_param_180003.mem)[i_179654];
            bool cond_163503 = sle64(p_163494, eta_p_163501);
            bool cond_t_res_163504 = slt64(eta_p_163501, min_res_163498);
            bool x_163505 = cond_163503 && cond_t_res_163504;
            int64_t lifted_lambda_res_163506;
            
            if (x_163505) {
                lifted_lambda_res_163506 = (int64_t) -1;
            } else {
                lifted_lambda_res_163506 = eta_p_163501;
            }
            
            int32_t lifted_lambda_res_163507;
            
            if (x_163505) {
                bool x_177498 = sle64((int64_t) 0, eta_p_163501);
                bool y_177499 = slt64(eta_p_163501, n_108048);
                bool bounds_check_177500 = x_177498 && y_177499;
                bool index_certs_177501;
                
                if (!bounds_check_177500) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_163501, "] out of bounds for array of shape [", (long long) n_108048, "].", "-> #0  ftbasics.fut:52:23-29\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:48:14-54:12\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:51:1-53:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int32_t tmp_177502 = ((int32_t *) ys_mem_179987.mem)[eta_p_163501];
                
                lifted_lambda_res_163507 = tmp_177502;
            } else {
                lifted_lambda_res_163507 = eta_p_163502;
            }
            ((int64_t *) mem_180005.mem)[i_179654] = lifted_lambda_res_163506;
            ((int32_t *) mem_180007.mem)[i_179654] = lifted_lambda_res_163507;
        }
        
        bool loop_cond_163513 = slt64(min_res_163498, n_108048);
        
        if (memblock_set(ctx, &mem_param_tmp_181403, &mem_180005, "mem_180005") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_181404, &mem_180007, "mem_180007") != 0)
            return 1;
        
        bool loop_while_tmp_181405 = loop_cond_163513;
        int64_t p_tmp_181406 = min_res_163498;
        
        if (memblock_set(ctx, &mem_param_180000, &mem_param_tmp_181403, "mem_param_tmp_181403") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180003, &mem_param_tmp_181404, "mem_param_tmp_181404") != 0)
            return 1;
        loop_while_163493 = loop_while_tmp_181405;
        p_163494 = p_tmp_181406;
    }
    if (memblock_set(ctx, &ext_mem_180025, &mem_param_180000, "mem_param_180000") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_180024, &mem_param_180003, "mem_param_180003") != 0)
        return 1;
    partitioned_gather_res_163489 = loop_while_163493;
    partitioned_gather_res_163490 = p_163494;
    if (memblock_unref(ctx, &mem_179989, "mem_179989") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_179997, "mem_179997") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180027, bytes_179996, "mem_180027")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_180027.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180024.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_108048});
    if (memblock_unref(ctx, &ext_mem_180024, "ext_mem_180024") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181400, &mem_180027, "mem_180027") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181996, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_180027, "mem_180027") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181404, "mem_param_tmp_181404") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181403, "mem_param_tmp_181403") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180007, "mem_180007") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180005, "mem_180005") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180003, "mem_param_180003") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180000, "mem_param_180000") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180024, "ext_mem_180024") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180025, "ext_mem_180025") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179997, "mem_179997") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179989, "mem_179989") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_long(struct futhark_context *ctx, struct memblock *mem_out_p_181997, struct memblock is_mem_179986, struct memblock ys_mem_179987, int64_t n_108280, int64_t incr_108281, int64_t block_sizze_108282)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_180027;
    
    mem_180027.references = NULL;
    
    struct memblock mem_param_tmp_181404;
    
    mem_param_tmp_181404.references = NULL;
    
    struct memblock mem_param_tmp_181403;
    
    mem_param_tmp_181403.references = NULL;
    
    struct memblock mem_180007;
    
    mem_180007.references = NULL;
    
    struct memblock mem_180005;
    
    mem_180005.references = NULL;
    
    struct memblock mem_param_180003;
    
    mem_param_180003.references = NULL;
    
    struct memblock mem_param_180000;
    
    mem_param_180000.references = NULL;
    
    struct memblock ext_mem_180024;
    
    ext_mem_180024.references = NULL;
    
    struct memblock ext_mem_180025;
    
    ext_mem_180025.references = NULL;
    
    struct memblock mem_179997;
    
    mem_179997.references = NULL;
    
    struct memblock mem_179989;
    
    mem_179989.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    int64_t bytes_179988 = (int64_t) 8 * n_108280;
    
    if (memblock_alloc(ctx, &mem_179989, bytes_179988, "mem_179989")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_179648 = 0; i_179648 < n_108280; i_179648++) {
        int64_t eta_p_163485 = ((int64_t *) is_mem_179986.mem)[i_179648];
        int64_t lifted_lambda_res_163486 = sub64(eta_p_163485, incr_108281);
        
        ((int64_t *) mem_179989.mem)[i_179648] = lifted_lambda_res_163486;
    }
    if (memblock_alloc(ctx, &mem_179997, bytes_179988, "mem_179997")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181402 = 0; nest_i_181402 < n_108280; nest_i_181402++) {
        ((int64_t *) mem_179997.mem)[nest_i_181402] = (int64_t) 0;
    }
    
    bool loop_cond_163488 = slt64((int64_t) 0, n_108280);
    bool partitioned_gather_res_163489;
    int64_t partitioned_gather_res_163490;
    bool loop_while_163493;
    int64_t p_163494;
    
    if (memblock_set(ctx, &mem_param_180000, &mem_179989, "mem_179989") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_180003, &mem_179997, "mem_179997") != 0)
        return 1;
    loop_while_163493 = loop_cond_163488;
    p_163494 = (int64_t) 0;
    while (loop_while_163493) {
        int64_t min_arg0_163497 = add64(block_sizze_108282, p_163494);
        int64_t min_res_163498 = smin64(n_108280, min_arg0_163497);
        
        if (memblock_alloc(ctx, &mem_180005, bytes_179988, "mem_180005")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc(ctx, &mem_180007, bytes_179988, "mem_180007")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_179654 = 0; i_179654 < n_108280; i_179654++) {
            int64_t eta_p_163501 = ((int64_t *) mem_param_180000.mem)[i_179654];
            int64_t eta_p_163502 = ((int64_t *) mem_param_180003.mem)[i_179654];
            bool cond_163503 = sle64(p_163494, eta_p_163501);
            bool cond_t_res_163504 = slt64(eta_p_163501, min_res_163498);
            bool x_163505 = cond_163503 && cond_t_res_163504;
            int64_t lifted_lambda_res_163506;
            
            if (x_163505) {
                lifted_lambda_res_163506 = (int64_t) -1;
            } else {
                lifted_lambda_res_163506 = eta_p_163501;
            }
            
            int64_t lifted_lambda_res_163507;
            
            if (x_163505) {
                bool x_177498 = sle64((int64_t) 0, eta_p_163501);
                bool y_177499 = slt64(eta_p_163501, n_108280);
                bool bounds_check_177500 = x_177498 && y_177499;
                bool index_certs_177501;
                
                if (!bounds_check_177500) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_163501, "] out of bounds for array of shape [", (long long) n_108280, "].", "-> #0  ftbasics.fut:52:23-29\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:48:14-54:12\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:55:1-57:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t tmp_177502 = ((int64_t *) ys_mem_179987.mem)[eta_p_163501];
                
                lifted_lambda_res_163507 = tmp_177502;
            } else {
                lifted_lambda_res_163507 = eta_p_163502;
            }
            ((int64_t *) mem_180005.mem)[i_179654] = lifted_lambda_res_163506;
            ((int64_t *) mem_180007.mem)[i_179654] = lifted_lambda_res_163507;
        }
        
        bool loop_cond_163513 = slt64(min_res_163498, n_108280);
        
        if (memblock_set(ctx, &mem_param_tmp_181403, &mem_180005, "mem_180005") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_181404, &mem_180007, "mem_180007") != 0)
            return 1;
        
        bool loop_while_tmp_181405 = loop_cond_163513;
        int64_t p_tmp_181406 = min_res_163498;
        
        if (memblock_set(ctx, &mem_param_180000, &mem_param_tmp_181403, "mem_param_tmp_181403") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180003, &mem_param_tmp_181404, "mem_param_tmp_181404") != 0)
            return 1;
        loop_while_163493 = loop_while_tmp_181405;
        p_163494 = p_tmp_181406;
    }
    if (memblock_set(ctx, &ext_mem_180025, &mem_param_180000, "mem_param_180000") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_180024, &mem_param_180003, "mem_param_180003") != 0)
        return 1;
    partitioned_gather_res_163489 = loop_while_163493;
    partitioned_gather_res_163490 = p_163494;
    if (memblock_unref(ctx, &mem_179989, "mem_179989") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_179997, "mem_179997") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180027, bytes_179988, "mem_180027")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180027.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180024.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_108280});
    if (memblock_unref(ctx, &ext_mem_180024, "ext_mem_180024") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181400, &mem_180027, "mem_180027") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181997, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_180027, "mem_180027") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181404, "mem_param_tmp_181404") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181403, "mem_param_tmp_181403") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180007, "mem_180007") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180005, "mem_180005") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180003, "mem_param_180003") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180000, "mem_param_180000") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180024, "ext_mem_180024") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180025, "ext_mem_180025") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179997, "mem_179997") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179989, "mem_179989") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_short(struct futhark_context *ctx, struct memblock *mem_out_p_181998, struct memblock is_mem_179986, struct memblock ys_mem_179987, int64_t n_107812, int64_t incr_107813, int64_t block_sizze_107814)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_180027;
    
    mem_180027.references = NULL;
    
    struct memblock mem_param_tmp_181404;
    
    mem_param_tmp_181404.references = NULL;
    
    struct memblock mem_param_tmp_181403;
    
    mem_param_tmp_181403.references = NULL;
    
    struct memblock mem_180007;
    
    mem_180007.references = NULL;
    
    struct memblock mem_180005;
    
    mem_180005.references = NULL;
    
    struct memblock mem_param_180003;
    
    mem_param_180003.references = NULL;
    
    struct memblock mem_param_180000;
    
    mem_param_180000.references = NULL;
    
    struct memblock ext_mem_180024;
    
    ext_mem_180024.references = NULL;
    
    struct memblock ext_mem_180025;
    
    ext_mem_180025.references = NULL;
    
    struct memblock mem_179997;
    
    mem_179997.references = NULL;
    
    struct memblock mem_179989;
    
    mem_179989.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    int64_t bytes_179988 = (int64_t) 8 * n_107812;
    int64_t bytes_179996 = (int64_t) 2 * n_107812;
    
    if (memblock_alloc(ctx, &mem_179989, bytes_179988, "mem_179989")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_179648 = 0; i_179648 < n_107812; i_179648++) {
        int64_t eta_p_163485 = ((int64_t *) is_mem_179986.mem)[i_179648];
        int64_t lifted_lambda_res_163486 = sub64(eta_p_163485, incr_107813);
        
        ((int64_t *) mem_179989.mem)[i_179648] = lifted_lambda_res_163486;
    }
    if (memblock_alloc(ctx, &mem_179997, bytes_179996, "mem_179997")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181402 = 0; nest_i_181402 < n_107812; nest_i_181402++) {
        ((int16_t *) mem_179997.mem)[nest_i_181402] = (int16_t) 0;
    }
    
    bool loop_cond_163488 = slt64((int64_t) 0, n_107812);
    bool partitioned_gather_res_163489;
    int64_t partitioned_gather_res_163490;
    bool loop_while_163493;
    int64_t p_163494;
    
    if (memblock_set(ctx, &mem_param_180000, &mem_179989, "mem_179989") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_180003, &mem_179997, "mem_179997") != 0)
        return 1;
    loop_while_163493 = loop_cond_163488;
    p_163494 = (int64_t) 0;
    while (loop_while_163493) {
        int64_t min_arg0_163497 = add64(block_sizze_107814, p_163494);
        int64_t min_res_163498 = smin64(n_107812, min_arg0_163497);
        
        if (memblock_alloc(ctx, &mem_180005, bytes_179988, "mem_180005")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc(ctx, &mem_180007, bytes_179996, "mem_180007")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_179654 = 0; i_179654 < n_107812; i_179654++) {
            int64_t eta_p_163501 = ((int64_t *) mem_param_180000.mem)[i_179654];
            int16_t eta_p_163502 = ((int16_t *) mem_param_180003.mem)[i_179654];
            bool cond_163503 = sle64(p_163494, eta_p_163501);
            bool cond_t_res_163504 = slt64(eta_p_163501, min_res_163498);
            bool x_163505 = cond_163503 && cond_t_res_163504;
            int64_t lifted_lambda_res_163506;
            
            if (x_163505) {
                lifted_lambda_res_163506 = (int64_t) -1;
            } else {
                lifted_lambda_res_163506 = eta_p_163501;
            }
            
            int16_t lifted_lambda_res_163507;
            
            if (x_163505) {
                bool x_177498 = sle64((int64_t) 0, eta_p_163501);
                bool y_177499 = slt64(eta_p_163501, n_107812);
                bool bounds_check_177500 = x_177498 && y_177499;
                bool index_certs_177501;
                
                if (!bounds_check_177500) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_163501, "] out of bounds for array of shape [", (long long) n_107812, "].", "-> #0  ftbasics.fut:52:23-29\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:48:14-54:12\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:47:1-49:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int16_t tmp_177502 = ((int16_t *) ys_mem_179987.mem)[eta_p_163501];
                
                lifted_lambda_res_163507 = tmp_177502;
            } else {
                lifted_lambda_res_163507 = eta_p_163502;
            }
            ((int64_t *) mem_180005.mem)[i_179654] = lifted_lambda_res_163506;
            ((int16_t *) mem_180007.mem)[i_179654] = lifted_lambda_res_163507;
        }
        
        bool loop_cond_163513 = slt64(min_res_163498, n_107812);
        
        if (memblock_set(ctx, &mem_param_tmp_181403, &mem_180005, "mem_180005") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_181404, &mem_180007, "mem_180007") != 0)
            return 1;
        
        bool loop_while_tmp_181405 = loop_cond_163513;
        int64_t p_tmp_181406 = min_res_163498;
        
        if (memblock_set(ctx, &mem_param_180000, &mem_param_tmp_181403, "mem_param_tmp_181403") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180003, &mem_param_tmp_181404, "mem_param_tmp_181404") != 0)
            return 1;
        loop_while_163493 = loop_while_tmp_181405;
        p_163494 = p_tmp_181406;
    }
    if (memblock_set(ctx, &ext_mem_180025, &mem_param_180000, "mem_param_180000") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_180024, &mem_param_180003, "mem_param_180003") != 0)
        return 1;
    partitioned_gather_res_163489 = loop_while_163493;
    partitioned_gather_res_163490 = p_163494;
    if (memblock_unref(ctx, &mem_179989, "mem_179989") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_179997, "mem_179997") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180027, bytes_179996, "mem_180027")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_180027.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_180024.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_107812});
    if (memblock_unref(ctx, &ext_mem_180024, "ext_mem_180024") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181400, &mem_180027, "mem_180027") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181998, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_180027, "mem_180027") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181404, "mem_param_tmp_181404") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181403, "mem_param_tmp_181403") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180007, "mem_180007") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180005, "mem_180005") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180003, "mem_param_180003") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180000, "mem_param_180000") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180024, "ext_mem_180024") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180025, "ext_mem_180025") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179997, "mem_179997") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_179989, "mem_179989") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_181999, struct memblock *mem_out_p_182000, struct memblock xs_mem_179986, int64_t n_95734, int64_t incr_95735, int16_t block_sizze_95736)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_179989_cached_sizze_182001 = 0;
    unsigned char *mem_179989 = NULL;
    int64_t mem_179991_cached_sizze_182002 = 0;
    unsigned char *mem_179991 = NULL;
    int64_t mem_179999_cached_sizze_182003 = 0;
    unsigned char *mem_179999 = NULL;
    int64_t mem_180001_cached_sizze_182004 = 0;
    unsigned char *mem_180001 = NULL;
    int64_t mem_180003_cached_sizze_182005 = 0;
    unsigned char *mem_180003 = NULL;
    int64_t mem_180005_cached_sizze_182006 = 0;
    unsigned char *mem_180005 = NULL;
    int64_t mem_180007_cached_sizze_182007 = 0;
    unsigned char *mem_180007 = NULL;
    int64_t mem_180039_cached_sizze_182008 = 0;
    unsigned char *mem_180039 = NULL;
    int64_t mem_180041_cached_sizze_182009 = 0;
    unsigned char *mem_180041 = NULL;
    int64_t mem_180054_cached_sizze_182010 = 0;
    unsigned char *mem_180054 = NULL;
    int64_t mem_180055_cached_sizze_182011 = 0;
    unsigned char *mem_180055 = NULL;
    int64_t mem_180062_cached_sizze_182012 = 0;
    unsigned char *mem_180062 = NULL;
    int64_t mem_180065_cached_sizze_182013 = 0;
    unsigned char *mem_180065 = NULL;
    int64_t mem_180068_cached_sizze_182014 = 0;
    unsigned char *mem_180068 = NULL;
    int64_t mem_180071_cached_sizze_182015 = 0;
    unsigned char *mem_180071 = NULL;
    int64_t mem_180074_cached_sizze_182016 = 0;
    unsigned char *mem_180074 = NULL;
    int64_t mem_180096_cached_sizze_182017 = 0;
    unsigned char *mem_180096 = NULL;
    int64_t mem_180098_cached_sizze_182018 = 0;
    unsigned char *mem_180098 = NULL;
    int64_t mem_180100_cached_sizze_182019 = 0;
    unsigned char *mem_180100 = NULL;
    int64_t mem_180102_cached_sizze_182020 = 0;
    unsigned char *mem_180102 = NULL;
    int64_t mem_180104_cached_sizze_182021 = 0;
    unsigned char *mem_180104 = NULL;
    int64_t mem_180147_cached_sizze_182022 = 0;
    unsigned char *mem_180147 = NULL;
    int64_t mem_180148_cached_sizze_182023 = 0;
    unsigned char *mem_180148 = NULL;
    int64_t mem_180173_cached_sizze_182024 = 0;
    unsigned char *mem_180173 = NULL;
    int64_t mem_180181_cached_sizze_182025 = 0;
    unsigned char *mem_180181 = NULL;
    struct memblock mem_180209;
    
    mem_180209.references = NULL;
    
    struct memblock mem_180207;
    
    mem_180207.references = NULL;
    
    struct memblock ext_mem_179987;
    
    ext_mem_179987.references = NULL;
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    bool cond_170720 = n_95734 == (int64_t) 0;
    int32_t iters_170721;
    
    if (cond_170720) {
        iters_170721 = 0;
    } else {
        iters_170721 = 32;
    }
    
    int64_t i16_res_170722 = sext_i16_i64(block_sizze_95736);
    bool zzero_170723 = i16_res_170722 == (int64_t) 0;
    bool nonzzero_170724 = !zzero_170723;
    bool nonzzero_cert_170725;
    
    if (!nonzzero_170724) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:193:95-98\n   #5  ftsort.fut:28:3-47\n   #6  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_170726 = sdiv64(n_95734, i16_res_170722);
    int64_t rest_170727 = smod64(n_95734, i16_res_170722);
    int64_t arg_170728 = mul64(i16_res_170722, n_blocks_170726);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729 = add64(rest_170727, arg_170728);
    bool dim_match_170730 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729 == n_95734;
    bool empty_or_match_cert_170731;
    
    if (!dim_match_170730) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_95734, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729, "](f64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #5  ftbasics.fut:193:95-98\n   #6  ftsort.fut:28:3-47\n   #7  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_179988 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729;
    bool loop_nonempty_170735 = slt32(0, iters_170721);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_170736 = add64((int64_t) 1, n_blocks_170726);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_170737 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_170736);
    bool empty_slice_170738 = arg_170728 == (int64_t) 0;
    int64_t m_170739 = sub64(arg_170728, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_170740 = sle64((int64_t) 0, m_170739);
    bool i_p_m_t_s_leq_w_170741 = slt64(m_170739, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729);
    bool i_lte_j_170742 = sle64((int64_t) 0, arg_170728);
    bool y_170743 = zzero_leq_i_p_m_t_s_170740 && i_p_m_t_s_leq_w_170741;
    bool forwards_ok_170744 = i_lte_j_170742 && y_170743;
    bool ok_or_empty_170745 = empty_slice_170738 || forwards_ok_170744;
    bool loop_not_taken_170746 = !loop_nonempty_170735;
    bool protect_assert_disj_170747 = ok_or_empty_170745 || loop_not_taken_170746;
    bool index_certs_170748;
    
    if (!protect_assert_disj_170747) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_170728, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:193:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_170749 = rest_170727 == (int64_t) 0;
    int64_t m_170750 = sub64(rest_170727, (int64_t) 1);
    int64_t i_p_m_t_s_170751 = add64(arg_170728, m_170750);
    bool zzero_leq_i_p_m_t_s_170752 = sle64((int64_t) 0, i_p_m_t_s_170751);
    bool i_p_m_t_s_leq_w_170753 = slt64(i_p_m_t_s_170751, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729);
    bool i_lte_j_170754 = sle64(arg_170728, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729);
    bool y_170755 = zzero_leq_i_p_m_t_s_170752 && i_p_m_t_s_leq_w_170753;
    bool forwards_ok_170756 = i_lte_j_170754 && y_170755;
    bool ok_or_empty_170757 = empty_slice_170749 || forwards_ok_170756;
    bool protect_assert_disj_170758 = loop_not_taken_170746 || ok_or_empty_170757;
    bool index_certs_170759;
    
    if (!protect_assert_disj_170758) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_170728, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:193:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_170760 = sle64((int64_t) 0, n_blocks_170726);
    bool binop_y_170761 = sle64((int64_t) 0, i16_res_170722);
    bool binop_y_170762 = binop_x_170760 && binop_y_170761;
    bool protect_assert_disj_170763 = loop_not_taken_170746 || binop_y_170762;
    bool dim_ok_cert_170764;
    
    if (!protect_assert_disj_170763) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_170728, "] to array of shape [", (long long) n_blocks_170726, "][", (long long) i16_res_170722, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:193:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_170765 = sub64(i16_res_170722, (int64_t) 1);
    bool x_170766 = sle64((int64_t) 0, tmp_170765);
    bool y_170767 = slt64(tmp_170765, i16_res_170722);
    bool bounds_check_170768 = x_170766 && y_170767;
    bool protect_assert_disj_170769 = zzero_170723 || bounds_check_170768;
    bool protect_assert_disj_170770 = loop_not_taken_170746 || protect_assert_disj_170769;
    bool index_certs_170771;
    
    if (!protect_assert_disj_170770) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_170765, "] out of bounds for array of shape [", (long long) i16_res_170722, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:193:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_170773 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_170737);
    bool protect_assert_disj_170774 = loop_not_taken_170746 || y_170773;
    bool index_certs_170775;
    
    if (!protect_assert_disj_170774) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_170737, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:193:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_170777 = nonzzero_170724 || loop_not_taken_170746;
    bool nonzzero_cert_170778;
    
    if (!protect_assert_disj_170777) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:193:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_170779 = sle64((int64_t) 0, m_170750);
    bool y_170780 = slt64(m_170750, rest_170727);
    bool bounds_check_170781 = x_170779 && y_170780;
    bool protect_assert_disj_170782 = empty_slice_170749 || bounds_check_170781;
    bool protect_assert_disj_170783 = loop_not_taken_170746 || protect_assert_disj_170782;
    bool index_certs_170784;
    
    if (!protect_assert_disj_170783) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_170750, "] out of bounds for array of shape [", (long long) rest_170727, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:193:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_179998 = (int64_t) 2 * rest_170727;
    int64_t bytes_180038 = (int64_t) 8 * rest_170727;
    int64_t binop_x_180063 = (int64_t) 8 * n_blocks_170726;
    int64_t bytes_180064 = i16_res_170722 * binop_x_180063;
    int64_t bytes_180070 = (int64_t) 32 * n_blocks_170726;
    int64_t bytes_180095 = (int64_t) 2 * i16_res_170722;
    int64_t bytes_180172 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_170736;
    bool dim_match_171057 = n_95734 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729;
    bool empty_or_match_cert_171058;
    
    if (!dim_match_171057) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729, "] cannot match shape of type `[", (long long) n_95734, "](f64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:193:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180206 = (int64_t) 8 * n_95734;
    
    if (futrts_indicesWithIncrement_9503(ctx, &ext_mem_179987, xs_mem_179986, n_95734, incr_95735) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_179989_cached_sizze_182001 < bytes_179988) {
        err = lexical_realloc(ctx, &mem_179989, &mem_179989_cached_sizze_182001, bytes_179988);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_179989, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) xs_mem_179986.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729});
    if (mem_179991_cached_sizze_182002 < bytes_179988) {
        err = lexical_realloc(ctx, &mem_179991, &mem_179991_cached_sizze_182002, bytes_179988);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_181402 = 0; i_181402 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729; i_181402++) {
        int64_t x_181403 = (int64_t) 0 + i_181402 * (int64_t) 1;
        
        ((int64_t *) mem_179991)[i_181402] = x_181403;
    }
    if (mem_179999_cached_sizze_182003 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_179999, &mem_179999_cached_sizze_182003, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180001_cached_sizze_182004 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_180001, &mem_180001_cached_sizze_182004, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180003_cached_sizze_182005 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_180003, &mem_180003_cached_sizze_182005, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180005_cached_sizze_182006 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_180005, &mem_180005_cached_sizze_182006, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180007_cached_sizze_182007 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_180007, &mem_180007_cached_sizze_182007, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180039_cached_sizze_182008 < bytes_180038) {
        err = lexical_realloc(ctx, &mem_180039, &mem_180039_cached_sizze_182008, bytes_180038);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180041_cached_sizze_182009 < bytes_180038) {
        err = lexical_realloc(ctx, &mem_180041, &mem_180041_cached_sizze_182009, bytes_180038);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180054_cached_sizze_182010 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180054, &mem_180054_cached_sizze_182010, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180055_cached_sizze_182011 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180055, &mem_180055_cached_sizze_182011, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180062_cached_sizze_182012 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180062, &mem_180062_cached_sizze_182012, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180065_cached_sizze_182013 < bytes_180064) {
        err = lexical_realloc(ctx, &mem_180065, &mem_180065_cached_sizze_182013, bytes_180064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180068_cached_sizze_182014 < bytes_180064) {
        err = lexical_realloc(ctx, &mem_180068, &mem_180068_cached_sizze_182014, bytes_180064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180071_cached_sizze_182015 < bytes_180070) {
        err = lexical_realloc(ctx, &mem_180071, &mem_180071_cached_sizze_182015, bytes_180070);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180074_cached_sizze_182016 < binop_x_180063) {
        err = lexical_realloc(ctx, &mem_180074, &mem_180074_cached_sizze_182016, binop_x_180063);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180096_cached_sizze_182017 < bytes_180095) {
        err = lexical_realloc(ctx, &mem_180096, &mem_180096_cached_sizze_182017, bytes_180095);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180098_cached_sizze_182018 < bytes_180095) {
        err = lexical_realloc(ctx, &mem_180098, &mem_180098_cached_sizze_182018, bytes_180095);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180100_cached_sizze_182019 < bytes_180095) {
        err = lexical_realloc(ctx, &mem_180100, &mem_180100_cached_sizze_182019, bytes_180095);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180102_cached_sizze_182020 < bytes_180095) {
        err = lexical_realloc(ctx, &mem_180102, &mem_180102_cached_sizze_182020, bytes_180095);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180104_cached_sizze_182021 < bytes_180095) {
        err = lexical_realloc(ctx, &mem_180104, &mem_180104_cached_sizze_182021, bytes_180095);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180147_cached_sizze_182022 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180147, &mem_180147_cached_sizze_182022, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180148_cached_sizze_182023 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180148, &mem_180148_cached_sizze_182023, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180173_cached_sizze_182024 < bytes_180172) {
        err = lexical_realloc(ctx, &mem_180173, &mem_180173_cached_sizze_182024, bytes_180172);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180181_cached_sizze_182025 < bytes_180172) {
        err = lexical_realloc(ctx, &mem_180181, &mem_180181_cached_sizze_182025, bytes_180172);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_170787 = 0; i_170787 < iters_170721; i_170787++) {
        int32_t blocked_radix_sort_step_arg1_170790 = mul32(2, i_170787);
        int32_t get_bit_arg0_170795 = add32(1, blocked_radix_sort_step_arg1_170790);
        int64_t unsign_arg0_170796 = zext_i32_i64(get_bit_arg0_170795);
        bool cond_f_res_170797 = get_bit_arg0_170795 == 63;
        int64_t unsign_arg0_170798 = zext_i32_i64(blocked_radix_sort_step_arg1_170790);
        bool cond_f_res_170799 = blocked_radix_sort_step_arg1_170790 == 63;
        int16_t discard_179666;
        int16_t discard_179667;
        int16_t discard_179668;
        int16_t discard_179669;
        int16_t scanacc_179651;
        int16_t scanacc_179652;
        int16_t scanacc_179653;
        int16_t scanacc_179654;
        
        scanacc_179651 = (int16_t) 0;
        scanacc_179652 = (int16_t) 0;
        scanacc_179653 = (int16_t) 0;
        scanacc_179654 = (int16_t) 0;
        for (int64_t i_179660 = 0; i_179660 < rest_170727; i_179660++) {
            int64_t slice_179873 = arg_170728 + i_179660;
            double eta_p_177582 = ((double *) mem_179989)[slice_179873];
            int64_t i64_arg0_177583 = futrts_to_bits64(eta_p_177582);
            int64_t unsign_arg0_177584 = ashr64(i64_arg0_177583, unsign_arg0_170796);
            int64_t unsign_arg0_177585 = (int64_t) 1 & unsign_arg0_177584;
            int32_t to_i32_res_177586 = zext_i64_i32(unsign_arg0_177585);
            int64_t unsign_arg0_177587 = ashr64(i64_arg0_177583, (int64_t) 63);
            int64_t unsign_arg0_177588 = (int64_t) 1 & unsign_arg0_177587;
            int32_t to_i32_res_177589 = zext_i64_i32(unsign_arg0_177588);
            bool cond_177590 = to_i32_res_177589 == 1;
            bool x_177591 = !cond_177590;
            bool y_177592 = cond_f_res_170797 && x_177591;
            bool cond_177593 = cond_177590 || y_177592;
            int32_t defunc_0_get_bit_res_177594;
            
            if (cond_177593) {
                int32_t defunc_0_get_bit_res_t_res_177724 = 1 ^ to_i32_res_177586;
                
                defunc_0_get_bit_res_177594 = defunc_0_get_bit_res_t_res_177724;
            } else {
                defunc_0_get_bit_res_177594 = to_i32_res_177586;
            }
            
            int32_t zp_lhs_177596 = mul32(2, defunc_0_get_bit_res_177594);
            int64_t unsign_arg0_177597 = ashr64(i64_arg0_177583, unsign_arg0_170798);
            int64_t unsign_arg0_177598 = (int64_t) 1 & unsign_arg0_177597;
            int32_t to_i32_res_177599 = zext_i64_i32(unsign_arg0_177598);
            bool y_177600 = cond_f_res_170799 && x_177591;
            bool cond_177601 = cond_177590 || y_177600;
            int32_t defunc_0_get_bit_res_177602;
            
            if (cond_177601) {
                int32_t defunc_0_get_bit_res_t_res_177725 = 1 ^ to_i32_res_177599;
                
                defunc_0_get_bit_res_177602 = defunc_0_get_bit_res_t_res_177725;
            } else {
                defunc_0_get_bit_res_177602 = to_i32_res_177599;
            }
            
            int32_t i32_arg0_177604 = add32(zp_lhs_177596, defunc_0_get_bit_res_177602);
            int16_t i32_res_177605 = sext_i32_i16(i32_arg0_177604);
            int16_t defunc_0_f_res_177607;
            int16_t defunc_0_f_res_177608;
            int16_t defunc_0_f_res_177609;
            int16_t defunc_0_f_res_177610;
            
            if (futrts_lifted_lambda_8993(ctx, &defunc_0_f_res_177607, &defunc_0_f_res_177608, &defunc_0_f_res_177609, &defunc_0_f_res_177610, i32_res_177605) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_170850 = add16(defunc_0_f_res_177607, scanacc_179651);
            int16_t defunc_0_op_res_170851 = add16(defunc_0_f_res_177608, scanacc_179652);
            int16_t defunc_0_op_res_170852 = add16(defunc_0_f_res_177609, scanacc_179653);
            int16_t defunc_0_op_res_170853 = add16(defunc_0_f_res_177610, scanacc_179654);
            
            ((int16_t *) mem_179999)[i_179660] = defunc_0_op_res_170850;
            ((int16_t *) mem_180001)[i_179660] = defunc_0_op_res_170851;
            ((int16_t *) mem_180003)[i_179660] = defunc_0_op_res_170852;
            ((int16_t *) mem_180005)[i_179660] = defunc_0_op_res_170853;
            ((int16_t *) mem_180007)[i_179660] = i32_res_177605;
            
            int16_t scanacc_tmp_181406 = defunc_0_op_res_170850;
            int16_t scanacc_tmp_181407 = defunc_0_op_res_170851;
            int16_t scanacc_tmp_181408 = defunc_0_op_res_170852;
            int16_t scanacc_tmp_181409 = defunc_0_op_res_170853;
            
            scanacc_179651 = scanacc_tmp_181406;
            scanacc_179652 = scanacc_tmp_181407;
            scanacc_179653 = scanacc_tmp_181408;
            scanacc_179654 = scanacc_tmp_181409;
        }
        discard_179666 = scanacc_179651;
        discard_179667 = scanacc_179652;
        discard_179668 = scanacc_179653;
        discard_179669 = scanacc_179654;
        
        int16_t defunc_0_radix_sort_step_i16_res_170854;
        int16_t defunc_0_radix_sort_step_i16_res_170855;
        int16_t defunc_0_radix_sort_step_i16_res_170856;
        int16_t defunc_0_radix_sort_step_i16_res_170857;
        
        if (empty_slice_170749) {
            defunc_0_radix_sort_step_i16_res_170854 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_170855 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_170856 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_170857 = (int16_t) 0;
        } else {
            int16_t last_res_170858 = ((int16_t *) mem_179999)[m_170750];
            int16_t last_res_170859 = ((int16_t *) mem_180001)[m_170750];
            int16_t last_res_170860 = ((int16_t *) mem_180003)[m_170750];
            int16_t last_res_170861 = ((int16_t *) mem_180005)[m_170750];
            
            defunc_0_radix_sort_step_i16_res_170854 = last_res_170858;
            defunc_0_radix_sort_step_i16_res_170855 = last_res_170859;
            defunc_0_radix_sort_step_i16_res_170856 = last_res_170860;
            defunc_0_radix_sort_step_i16_res_170857 = last_res_170861;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180039, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_179991, (int64_t) 0 + (int64_t) 1 * arg_170728, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_170727});
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180041, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_179989, (int64_t) 0 + (int64_t) 1 * arg_170728, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_170727});
        for (int64_t write_iter_179670 = 0; write_iter_179670 < rest_170727; write_iter_179670++) {
            int16_t write_iv_179673 = ((int16_t *) mem_180007)[write_iter_179670];
            int16_t write_iv_179674 = ((int16_t *) mem_179999)[write_iter_179670];
            int16_t write_iv_179675 = ((int16_t *) mem_180001)[write_iter_179670];
            int16_t write_iv_179676 = ((int16_t *) mem_180003)[write_iter_179670];
            int16_t write_iv_179677 = ((int16_t *) mem_180005)[write_iter_179670];
            int64_t slice_179872 = arg_170728 + write_iter_179670;
            double write_iv_179678 = ((double *) mem_179989)[slice_179872];
            int64_t write_iv_179679 = ((int64_t *) mem_179991)[slice_179872];
            int64_t defunc_0_f_res_177566;
            
            if (futrts_lifted_f_8994(ctx, &defunc_0_f_res_177566, defunc_0_radix_sort_step_i16_res_170854, defunc_0_radix_sort_step_i16_res_170855, defunc_0_radix_sort_step_i16_res_170856, write_iv_179673, write_iv_179674, write_iv_179675, write_iv_179676, write_iv_179677) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_177566) && slt64(defunc_0_f_res_177566, rest_170727)) {
                ((double *) mem_180041)[defunc_0_f_res_177566] = write_iv_179678;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_177566) && slt64(defunc_0_f_res_177566, rest_170727)) {
                ((int64_t *) mem_180039)[defunc_0_f_res_177566] = write_iv_179679;
            }
        }
        ((int16_t *) mem_180054)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_170854;
        ((int16_t *) mem_180054)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_170855;
        ((int16_t *) mem_180054)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_170856;
        ((int16_t *) mem_180054)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_170857;
        for (int64_t i_179684 = 0; i_179684 < (int64_t) 4; i_179684++) {
            int16_t eta_p_170878 = ((int16_t *) mem_180054)[i_179684];
            int64_t i16_res_170879 = sext_i16_i64(eta_p_170878);
            
            ((int64_t *) mem_180055)[i_179684] = i16_res_170879;
        }
        
        int16_t tmp_170880 = add16(defunc_0_radix_sort_step_i16_res_170854, defunc_0_radix_sort_step_i16_res_170855);
        int16_t tmp_170881 = add16(defunc_0_radix_sort_step_i16_res_170856, tmp_170880);
        
        ((int16_t *) mem_180062)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_180062)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_170854;
        ((int16_t *) mem_180062)[(int64_t) 2] = tmp_170880;
        ((int16_t *) mem_180062)[(int64_t) 3] = tmp_170881;
        for (int64_t i_179734 = 0; i_179734 < n_blocks_170726; i_179734++) {
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180065, i_179734 * i16_res_170722, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_179989, (int64_t) 0 + i_179734 * ((int64_t) 1 * i16_res_170722), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_170722});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180068, i_179734 * i16_res_170722, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_179991, (int64_t) 0 + i_179734 * ((int64_t) 1 * i16_res_170722), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_170722});
            
            int64_t binop_x_179886 = i16_res_170722 * i_179734;
            int16_t discard_179706;
            int16_t discard_179707;
            int16_t discard_179708;
            int16_t discard_179709;
            int16_t scanacc_179691;
            int16_t scanacc_179692;
            int16_t scanacc_179693;
            int16_t scanacc_179694;
            
            scanacc_179691 = (int16_t) 0;
            scanacc_179692 = (int16_t) 0;
            scanacc_179693 = (int16_t) 0;
            scanacc_179694 = (int16_t) 0;
            for (int64_t i_179700 = 0; i_179700 < i16_res_170722; i_179700++) {
                int64_t new_index_179887 = i_179700 + binop_x_179886;
                double eta_p_177641 = ((double *) mem_179989)[new_index_179887];
                int64_t i64_arg0_177642 = futrts_to_bits64(eta_p_177641);
                int64_t unsign_arg0_177643 = ashr64(i64_arg0_177642, unsign_arg0_170796);
                int64_t unsign_arg0_177644 = (int64_t) 1 & unsign_arg0_177643;
                int32_t to_i32_res_177645 = zext_i64_i32(unsign_arg0_177644);
                int64_t unsign_arg0_177646 = ashr64(i64_arg0_177642, (int64_t) 63);
                int64_t unsign_arg0_177647 = (int64_t) 1 & unsign_arg0_177646;
                int32_t to_i32_res_177648 = zext_i64_i32(unsign_arg0_177647);
                bool cond_177649 = to_i32_res_177648 == 1;
                bool x_177650 = !cond_177649;
                bool y_177651 = cond_f_res_170797 && x_177650;
                bool cond_177652 = cond_177649 || y_177651;
                int32_t defunc_0_get_bit_res_177653;
                
                if (cond_177652) {
                    int32_t defunc_0_get_bit_res_t_res_177726 = 1 ^ to_i32_res_177645;
                    
                    defunc_0_get_bit_res_177653 = defunc_0_get_bit_res_t_res_177726;
                } else {
                    defunc_0_get_bit_res_177653 = to_i32_res_177645;
                }
                
                int32_t zp_lhs_177655 = mul32(2, defunc_0_get_bit_res_177653);
                int64_t unsign_arg0_177656 = ashr64(i64_arg0_177642, unsign_arg0_170798);
                int64_t unsign_arg0_177657 = (int64_t) 1 & unsign_arg0_177656;
                int32_t to_i32_res_177658 = zext_i64_i32(unsign_arg0_177657);
                bool y_177659 = cond_f_res_170799 && x_177650;
                bool cond_177660 = cond_177649 || y_177659;
                int32_t defunc_0_get_bit_res_177661;
                
                if (cond_177660) {
                    int32_t defunc_0_get_bit_res_t_res_177727 = 1 ^ to_i32_res_177658;
                    
                    defunc_0_get_bit_res_177661 = defunc_0_get_bit_res_t_res_177727;
                } else {
                    defunc_0_get_bit_res_177661 = to_i32_res_177658;
                }
                
                int32_t i32_arg0_177663 = add32(zp_lhs_177655, defunc_0_get_bit_res_177661);
                int16_t i32_res_177664 = sext_i32_i16(i32_arg0_177663);
                int16_t defunc_0_f_res_177666;
                int16_t defunc_0_f_res_177667;
                int16_t defunc_0_f_res_177668;
                int16_t defunc_0_f_res_177669;
                
                if (futrts_lifted_lambda_8993(ctx, &defunc_0_f_res_177666, &defunc_0_f_res_177667, &defunc_0_f_res_177668, &defunc_0_f_res_177669, i32_res_177664) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_170945 = add16(defunc_0_f_res_177666, scanacc_179691);
                int16_t defunc_0_op_res_170946 = add16(defunc_0_f_res_177667, scanacc_179692);
                int16_t defunc_0_op_res_170947 = add16(defunc_0_f_res_177668, scanacc_179693);
                int16_t defunc_0_op_res_170948 = add16(defunc_0_f_res_177669, scanacc_179694);
                
                ((int16_t *) mem_180096)[i_179700] = defunc_0_op_res_170945;
                ((int16_t *) mem_180098)[i_179700] = defunc_0_op_res_170946;
                ((int16_t *) mem_180100)[i_179700] = defunc_0_op_res_170947;
                ((int16_t *) mem_180102)[i_179700] = defunc_0_op_res_170948;
                ((int16_t *) mem_180104)[i_179700] = i32_res_177664;
                
                int16_t scanacc_tmp_181422 = defunc_0_op_res_170945;
                int16_t scanacc_tmp_181423 = defunc_0_op_res_170946;
                int16_t scanacc_tmp_181424 = defunc_0_op_res_170947;
                int16_t scanacc_tmp_181425 = defunc_0_op_res_170948;
                
                scanacc_179691 = scanacc_tmp_181422;
                scanacc_179692 = scanacc_tmp_181423;
                scanacc_179693 = scanacc_tmp_181424;
                scanacc_179694 = scanacc_tmp_181425;
            }
            discard_179706 = scanacc_179691;
            discard_179707 = scanacc_179692;
            discard_179708 = scanacc_179693;
            discard_179709 = scanacc_179694;
            
            int16_t defunc_0_f_res_170949;
            int16_t defunc_0_f_res_170950;
            int16_t defunc_0_f_res_170951;
            int16_t defunc_0_f_res_170952;
            
            if (zzero_170723) {
                defunc_0_f_res_170949 = (int16_t) 0;
                defunc_0_f_res_170950 = (int16_t) 0;
                defunc_0_f_res_170951 = (int16_t) 0;
                defunc_0_f_res_170952 = (int16_t) 0;
            } else {
                int16_t last_res_170953 = ((int16_t *) mem_180096)[tmp_170765];
                int16_t last_res_170954 = ((int16_t *) mem_180098)[tmp_170765];
                int16_t last_res_170955 = ((int16_t *) mem_180100)[tmp_170765];
                int16_t last_res_170956 = ((int16_t *) mem_180102)[tmp_170765];
                
                defunc_0_f_res_170949 = last_res_170953;
                defunc_0_f_res_170950 = last_res_170954;
                defunc_0_f_res_170951 = last_res_170955;
                defunc_0_f_res_170952 = last_res_170956;
            }
            for (int64_t write_iter_179710 = 0; write_iter_179710 < i16_res_170722; write_iter_179710++) {
                int16_t write_iv_179713 = ((int16_t *) mem_180104)[write_iter_179710];
                int16_t write_iv_179714 = ((int16_t *) mem_180096)[write_iter_179710];
                int16_t write_iv_179715 = ((int16_t *) mem_180098)[write_iter_179710];
                int16_t write_iv_179716 = ((int16_t *) mem_180100)[write_iter_179710];
                int16_t write_iv_179717 = ((int16_t *) mem_180102)[write_iter_179710];
                int64_t new_index_179883 = write_iter_179710 + binop_x_179886;
                double write_iv_179718 = ((double *) mem_179989)[new_index_179883];
                int64_t write_iv_179719 = ((int64_t *) mem_179991)[new_index_179883];
                int64_t defunc_0_f_res_177625;
                
                if (futrts_lifted_f_8994(ctx, &defunc_0_f_res_177625, defunc_0_f_res_170949, defunc_0_f_res_170950, defunc_0_f_res_170951, write_iv_179713, write_iv_179714, write_iv_179715, write_iv_179716, write_iv_179717) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_177625) && slt64(defunc_0_f_res_177625, i16_res_170722)) {
                    ((double *) mem_180065)[i_179734 * i16_res_170722 + defunc_0_f_res_177625] = write_iv_179718;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_177625) && slt64(defunc_0_f_res_177625, i16_res_170722)) {
                    ((int64_t *) mem_180068)[i_179734 * i16_res_170722 + defunc_0_f_res_177625] = write_iv_179719;
                }
            }
            ((int16_t *) mem_180147)[(int64_t) 0] = defunc_0_f_res_170949;
            ((int16_t *) mem_180147)[(int64_t) 1] = defunc_0_f_res_170950;
            ((int16_t *) mem_180147)[(int64_t) 2] = defunc_0_f_res_170951;
            ((int16_t *) mem_180147)[(int64_t) 3] = defunc_0_f_res_170952;
            for (int64_t i_179724 = 0; i_179724 < (int64_t) 4; i_179724++) {
                int16_t eta_p_170971 = ((int16_t *) mem_180147)[i_179724];
                int64_t i16_res_170972 = sext_i16_i64(eta_p_170971);
                
                ((int64_t *) mem_180148)[i_179724] = i16_res_170972;
            }
            
            int16_t tmp_170973 = add16(defunc_0_f_res_170949, defunc_0_f_res_170950);
            int16_t tmp_170974 = add16(defunc_0_f_res_170951, tmp_170973);
            
            ((int16_t *) mem_180074)[i_179734 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_180074)[i_179734 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_170949;
            ((int16_t *) mem_180074)[i_179734 * (int64_t) 4 + (int64_t) 2] = tmp_170973;
            ((int16_t *) mem_180074)[i_179734 * (int64_t) 4 + (int64_t) 3] = tmp_170974;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180071, i_179734 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180148, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_179746;
        int64_t scanacc_179742 = (int64_t) 0;
        
        for (int64_t i_179744 = 0; i_179744 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_170737; i_179744++) {
            int64_t new_index_179861 = squot64(i_179744, dzlz7bUZLzpZRz20Unz20U1z7dUzg_170736);
            int64_t binop_y_179863 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_170736 * new_index_179861;
            int64_t new_index_179864 = i_179744 - binop_y_179863;
            bool index_concat_cmp_179866 = sle64(n_blocks_170726, new_index_179864);
            int64_t index_concat_branch_179870;
            
            if (index_concat_cmp_179866) {
                int64_t index_concat_179868 = ((int64_t *) mem_180055)[new_index_179861];
                
                index_concat_branch_179870 = index_concat_179868;
            } else {
                int64_t index_concat_179869 = ((int64_t *) mem_180071)[new_index_179864 * (int64_t) 4 + new_index_179861];
                
                index_concat_branch_179870 = index_concat_179869;
            }
            
            int64_t defunc_0_op_res_170988 = add64(scanacc_179742, index_concat_branch_179870);
            
            ((int64_t *) mem_180173)[i_179744] = defunc_0_op_res_170988;
            
            int64_t scanacc_tmp_181434 = defunc_0_op_res_170988;
            
            scanacc_179742 = scanacc_tmp_181434;
        }
        discard_179746 = scanacc_179742;
        for (int64_t i_179749 = 0; i_179749 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_170737; i_179749++) {
            int64_t zv_lhs_170991 = add64((int64_t) -1, i_179749);
            int64_t tmp_170992 = smod64(zv_lhs_170991, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_170737);
            int64_t lifted_lambda_res_170993 = ((int64_t *) mem_180173)[tmp_170992];
            
            ((int64_t *) mem_180181)[i_179749] = lifted_lambda_res_170993;
        }
        ((int64_t *) mem_180181)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_179751 = 0; write_iter_179751 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729; write_iter_179751++) {
            bool index_concat_cmp_179852 = sle64(arg_170728, write_iter_179751);
            double index_concat_branch_177507;
            
            if (index_concat_cmp_179852) {
                int64_t index_concat_i_177736 = sub64(write_iter_179751, arg_170728);
                double index_concat_177737 = ((double *) mem_180041)[index_concat_i_177736];
                
                index_concat_branch_177507 = index_concat_177737;
            } else {
                int64_t new_index_177510 = squot64(write_iter_179751, i16_res_170722);
                int64_t binop_y_177511 = i16_res_170722 * new_index_177510;
                int64_t new_index_177512 = write_iter_179751 - binop_y_177511;
                double index_concat_177513 = ((double *) mem_180065)[new_index_177510 * i16_res_170722 + new_index_177512];
                
                index_concat_branch_177507 = index_concat_177513;
            }
            
            int64_t i64_arg0_177514 = futrts_to_bits64(index_concat_branch_177507);
            int64_t unsign_arg0_177515 = ashr64(i64_arg0_177514, (int64_t) 63);
            int64_t unsign_arg0_177516 = (int64_t) 1 & unsign_arg0_177515;
            int32_t to_i32_res_177517 = zext_i64_i32(unsign_arg0_177516);
            bool cond_177518 = to_i32_res_177517 == 1;
            bool x_177519 = !cond_177518;
            int32_t zlzb_rhs_177520;
            int32_t acc_177522 = 0;
            
            for (int32_t i_177521 = 0; i_177521 < 2; i_177521++) {
                int32_t get_bit_arg0_177523 = add32(blocked_radix_sort_step_arg1_170790, i_177521);
                int64_t unsign_arg0_177524 = zext_i32_i64(get_bit_arg0_177523);
                int64_t unsign_arg0_177525 = ashr64(i64_arg0_177514, unsign_arg0_177524);
                int64_t unsign_arg0_177526 = (int64_t) 1 & unsign_arg0_177525;
                int32_t to_i32_res_177527 = zext_i64_i32(unsign_arg0_177526);
                bool cond_f_res_177528 = get_bit_arg0_177523 == 63;
                bool y_177529 = x_177519 && cond_f_res_177528;
                bool cond_177530 = cond_177518 || y_177529;
                int32_t defunc_0_get_bit_res_177531;
                
                if (cond_177530) {
                    int32_t defunc_0_get_bit_res_t_res_177738 = 1 ^ to_i32_res_177527;
                    
                    defunc_0_get_bit_res_177531 = defunc_0_get_bit_res_t_res_177738;
                } else {
                    defunc_0_get_bit_res_177531 = to_i32_res_177527;
                }
                
                int32_t zp_rhs_177533 = shl32(defunc_0_get_bit_res_177531, i_177521);
                int32_t loopres_177534 = add32(acc_177522, zp_rhs_177533);
                int32_t acc_tmp_181439 = loopres_177534;
                
                acc_177522 = acc_tmp_181439;
            }
            zlzb_rhs_177520 = acc_177522;
            
            int64_t i32_res_177535 = sext_i32_i64(zlzb_rhs_177520);
            int64_t block_idx_177536 = sdiv64(write_iter_179751, i16_res_170722);
            bool x_177537 = sle64((int64_t) 0, block_idx_177536);
            bool y_177538 = slt64(block_idx_177536, dzlz7bUZLzpZRz20Unz20U1z7dUzg_170736);
            bool bounds_check_177539 = x_177537 && y_177538;
            bool index_certs_177540;
            
            if (!bounds_check_177539) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_177536, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:193:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_177541 = sle64((int64_t) 0, i32_res_177535);
            bool y_177542 = slt64(i32_res_177535, (int64_t) 4);
            bool bounds_check_177543 = x_177541 && y_177542;
            bool index_certs_177544;
            
            if (!bounds_check_177543) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_177535, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:193:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            double index_concat_branch_179856;
            
            if (index_concat_cmp_179852) {
                int64_t index_concat_i_179853 = sub64(write_iter_179751, arg_170728);
                double index_concat_179854 = ((double *) mem_180041)[index_concat_i_179853];
                
                index_concat_branch_179856 = index_concat_179854;
            } else {
                int64_t new_index_179878 = squot64(write_iter_179751, i16_res_170722);
                int64_t binop_y_179880 = i16_res_170722 * new_index_179878;
                int64_t new_index_179881 = write_iter_179751 - binop_y_179880;
                double index_concat_179855 = ((double *) mem_180065)[new_index_179878 * i16_res_170722 + new_index_179881];
                
                index_concat_branch_179856 = index_concat_179855;
            }
            
            int64_t index_concat_branch_179850;
            
            if (index_concat_cmp_179852) {
                int64_t index_concat_i_179847 = sub64(write_iter_179751, arg_170728);
                int64_t index_concat_179848 = ((int64_t *) mem_180039)[index_concat_i_179847];
                
                index_concat_branch_179850 = index_concat_179848;
            } else {
                int64_t new_index_179874 = squot64(write_iter_179751, i16_res_170722);
                int64_t binop_y_179876 = i16_res_170722 * new_index_179874;
                int64_t new_index_179877 = write_iter_179751 - binop_y_179876;
                int64_t index_concat_179849 = ((int64_t *) mem_180068)[new_index_179874 * i16_res_170722 + new_index_179877];
                
                index_concat_branch_179850 = index_concat_179849;
            }
            
            int64_t binop_x_177545 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_170736 * i32_res_177535;
            int64_t new_index_177546 = block_idx_177536 + binop_x_177545;
            int64_t new_offset_177547 = ((int64_t *) mem_180181)[new_index_177546];
            bool index_concat_cmp_177548 = sle64(n_blocks_170726, block_idx_177536);
            int16_t index_concat_branch_177549;
            
            if (index_concat_cmp_177548) {
                int16_t index_concat_177739 = ((int16_t *) mem_180062)[i32_res_177535];
                
                index_concat_branch_177549 = index_concat_177739;
            } else {
                int16_t index_concat_177551 = ((int16_t *) mem_180074)[block_idx_177536 * (int64_t) 4 + i32_res_177535];
                
                index_concat_branch_177549 = index_concat_177551;
            }
            
            int64_t i16_res_177552 = sext_i16_i64(index_concat_branch_177549);
            int64_t zp_lhs_177553 = mul64(i16_res_170722, block_idx_177536);
            int64_t old_offset_177554 = add64(i16_res_177552, zp_lhs_177553);
            int64_t zp_lhs_177555 = sub64(write_iter_179751, old_offset_177554);
            int64_t idx_177556 = add64(new_offset_177547, zp_lhs_177555);
            
            if (sle64((int64_t) 0, idx_177556) && slt64(idx_177556, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729)) {
                ((double *) mem_179989)[idx_177556] = index_concat_branch_179856;
            }
            if (sle64((int64_t) 0, idx_177556) && slt64(idx_177556, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729)) {
                ((int64_t *) mem_179991)[idx_177556] = index_concat_branch_179850;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_180207, bytes_180206, "mem_180207")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180209, bytes_180206, "mem_180209")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_179763 = 0; i_179763 < n_95734; i_179763++) {
        int64_t eta_p_171062 = ((int64_t *) mem_179991)[i_179763];
        bool x_171063 = sle64((int64_t) 0, eta_p_171062);
        bool y_171064 = slt64(eta_p_171062, n_95734);
        bool bounds_check_171065 = x_171063 && y_171064;
        bool index_certs_171066;
        
        if (!bounds_check_171065) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_171062, "] out of bounds for array of shape [", (long long) n_95734, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:193:95-98\n   #5  ftsort.fut:28:3-47\n   #6  ftsort.fut:27:1-28:47\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_171067 = ((int64_t *) ext_mem_179987.mem)[eta_p_171062];
        double lifted_lambda_res_171068 = ((double *) xs_mem_179986.mem)[eta_p_171062];
        
        ((int64_t *) mem_180207.mem)[i_179763] = lifted_lambda_res_171067;
        ((double *) mem_180209.mem)[i_179763] = lifted_lambda_res_171068;
    }
    if (memblock_unref(ctx, &ext_mem_179987, "ext_mem_179987") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181400, &mem_180207, "mem_180207") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181401, &mem_180209, "mem_180209") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181999, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182000, &mem_out_181401, "mem_out_181401") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_179989);
        free(mem_179991);
        free(mem_179999);
        free(mem_180001);
        free(mem_180003);
        free(mem_180005);
        free(mem_180007);
        free(mem_180039);
        free(mem_180041);
        free(mem_180054);
        free(mem_180055);
        free(mem_180062);
        free(mem_180065);
        free(mem_180068);
        free(mem_180071);
        free(mem_180074);
        free(mem_180096);
        free(mem_180098);
        free(mem_180100);
        free(mem_180102);
        free(mem_180104);
        free(mem_180147);
        free(mem_180148);
        free(mem_180173);
        free(mem_180181);
        if (memblock_unref(ctx, &mem_180209, "mem_180209") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180207, "mem_180207") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_179987, "ext_mem_179987") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181401, "mem_out_181401") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_182026, struct memblock *mem_out_p_182027, struct memblock xs_mem_179986, int64_t n_92979, int64_t incr_92980, int16_t block_sizze_92981)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_179989_cached_sizze_182028 = 0;
    unsigned char *mem_179989 = NULL;
    int64_t mem_179991_cached_sizze_182029 = 0;
    unsigned char *mem_179991 = NULL;
    int64_t mem_179999_cached_sizze_182030 = 0;
    unsigned char *mem_179999 = NULL;
    int64_t mem_180001_cached_sizze_182031 = 0;
    unsigned char *mem_180001 = NULL;
    int64_t mem_180003_cached_sizze_182032 = 0;
    unsigned char *mem_180003 = NULL;
    int64_t mem_180005_cached_sizze_182033 = 0;
    unsigned char *mem_180005 = NULL;
    int64_t mem_180007_cached_sizze_182034 = 0;
    unsigned char *mem_180007 = NULL;
    int64_t mem_180039_cached_sizze_182035 = 0;
    unsigned char *mem_180039 = NULL;
    int64_t mem_180041_cached_sizze_182036 = 0;
    unsigned char *mem_180041 = NULL;
    int64_t mem_180054_cached_sizze_182037 = 0;
    unsigned char *mem_180054 = NULL;
    int64_t mem_180055_cached_sizze_182038 = 0;
    unsigned char *mem_180055 = NULL;
    int64_t mem_180062_cached_sizze_182039 = 0;
    unsigned char *mem_180062 = NULL;
    int64_t mem_180065_cached_sizze_182040 = 0;
    unsigned char *mem_180065 = NULL;
    int64_t mem_180068_cached_sizze_182041 = 0;
    unsigned char *mem_180068 = NULL;
    int64_t mem_180071_cached_sizze_182042 = 0;
    unsigned char *mem_180071 = NULL;
    int64_t mem_180074_cached_sizze_182043 = 0;
    unsigned char *mem_180074 = NULL;
    int64_t mem_180096_cached_sizze_182044 = 0;
    unsigned char *mem_180096 = NULL;
    int64_t mem_180098_cached_sizze_182045 = 0;
    unsigned char *mem_180098 = NULL;
    int64_t mem_180100_cached_sizze_182046 = 0;
    unsigned char *mem_180100 = NULL;
    int64_t mem_180102_cached_sizze_182047 = 0;
    unsigned char *mem_180102 = NULL;
    int64_t mem_180104_cached_sizze_182048 = 0;
    unsigned char *mem_180104 = NULL;
    int64_t mem_180147_cached_sizze_182049 = 0;
    unsigned char *mem_180147 = NULL;
    int64_t mem_180148_cached_sizze_182050 = 0;
    unsigned char *mem_180148 = NULL;
    int64_t mem_180173_cached_sizze_182051 = 0;
    unsigned char *mem_180173 = NULL;
    int64_t mem_180181_cached_sizze_182052 = 0;
    unsigned char *mem_180181 = NULL;
    struct memblock mem_180209;
    
    mem_180209.references = NULL;
    
    struct memblock mem_180207;
    
    mem_180207.references = NULL;
    
    struct memblock ext_mem_179987;
    
    ext_mem_179987.references = NULL;
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    bool cond_170720 = n_92979 == (int64_t) 0;
    int32_t iters_170721;
    
    if (cond_170720) {
        iters_170721 = 0;
    } else {
        iters_170721 = 16;
    }
    
    int64_t i16_res_170722 = sext_i16_i64(block_sizze_92981);
    bool zzero_170723 = i16_res_170722 == (int64_t) 0;
    bool nonzzero_170724 = !zzero_170723;
    bool nonzzero_cert_170725;
    
    if (!nonzzero_170724) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:193:95-98\n   #5  ftsort.fut:25:3-46\n   #6  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_170726 = sdiv64(n_92979, i16_res_170722);
    int64_t rest_170727 = smod64(n_92979, i16_res_170722);
    int64_t arg_170728 = mul64(i16_res_170722, n_blocks_170726);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729 = add64(rest_170727, arg_170728);
    bool dim_match_170730 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729 == n_92979;
    bool empty_or_match_cert_170731;
    
    if (!dim_match_170730) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_92979, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729, "](f32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #5  ftbasics.fut:193:95-98\n   #6  ftsort.fut:25:3-46\n   #7  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_179988 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729;
    int64_t bytes_179990 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729;
    bool loop_nonempty_170735 = slt32(0, iters_170721);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_170736 = add64((int64_t) 1, n_blocks_170726);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_170737 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_170736);
    bool empty_slice_170738 = arg_170728 == (int64_t) 0;
    int64_t m_170739 = sub64(arg_170728, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_170740 = sle64((int64_t) 0, m_170739);
    bool i_p_m_t_s_leq_w_170741 = slt64(m_170739, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729);
    bool i_lte_j_170742 = sle64((int64_t) 0, arg_170728);
    bool y_170743 = zzero_leq_i_p_m_t_s_170740 && i_p_m_t_s_leq_w_170741;
    bool forwards_ok_170744 = i_lte_j_170742 && y_170743;
    bool ok_or_empty_170745 = empty_slice_170738 || forwards_ok_170744;
    bool loop_not_taken_170746 = !loop_nonempty_170735;
    bool protect_assert_disj_170747 = ok_or_empty_170745 || loop_not_taken_170746;
    bool index_certs_170748;
    
    if (!protect_assert_disj_170747) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_170728, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:193:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_170749 = rest_170727 == (int64_t) 0;
    int64_t m_170750 = sub64(rest_170727, (int64_t) 1);
    int64_t i_p_m_t_s_170751 = add64(arg_170728, m_170750);
    bool zzero_leq_i_p_m_t_s_170752 = sle64((int64_t) 0, i_p_m_t_s_170751);
    bool i_p_m_t_s_leq_w_170753 = slt64(i_p_m_t_s_170751, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729);
    bool i_lte_j_170754 = sle64(arg_170728, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729);
    bool y_170755 = zzero_leq_i_p_m_t_s_170752 && i_p_m_t_s_leq_w_170753;
    bool forwards_ok_170756 = i_lte_j_170754 && y_170755;
    bool ok_or_empty_170757 = empty_slice_170749 || forwards_ok_170756;
    bool protect_assert_disj_170758 = loop_not_taken_170746 || ok_or_empty_170757;
    bool index_certs_170759;
    
    if (!protect_assert_disj_170758) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_170728, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:193:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_170760 = sle64((int64_t) 0, n_blocks_170726);
    bool binop_y_170761 = sle64((int64_t) 0, i16_res_170722);
    bool binop_y_170762 = binop_x_170760 && binop_y_170761;
    bool protect_assert_disj_170763 = loop_not_taken_170746 || binop_y_170762;
    bool dim_ok_cert_170764;
    
    if (!protect_assert_disj_170763) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_170728, "] to array of shape [", (long long) n_blocks_170726, "][", (long long) i16_res_170722, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:193:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_170765 = sub64(i16_res_170722, (int64_t) 1);
    bool x_170766 = sle64((int64_t) 0, tmp_170765);
    bool y_170767 = slt64(tmp_170765, i16_res_170722);
    bool bounds_check_170768 = x_170766 && y_170767;
    bool protect_assert_disj_170769 = zzero_170723 || bounds_check_170768;
    bool protect_assert_disj_170770 = loop_not_taken_170746 || protect_assert_disj_170769;
    bool index_certs_170771;
    
    if (!protect_assert_disj_170770) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_170765, "] out of bounds for array of shape [", (long long) i16_res_170722, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:193:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_170773 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_170737);
    bool protect_assert_disj_170774 = loop_not_taken_170746 || y_170773;
    bool index_certs_170775;
    
    if (!protect_assert_disj_170774) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_170737, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:193:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_170777 = nonzzero_170724 || loop_not_taken_170746;
    bool nonzzero_cert_170778;
    
    if (!protect_assert_disj_170777) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:193:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_170779 = sle64((int64_t) 0, m_170750);
    bool y_170780 = slt64(m_170750, rest_170727);
    bool bounds_check_170781 = x_170779 && y_170780;
    bool protect_assert_disj_170782 = empty_slice_170749 || bounds_check_170781;
    bool protect_assert_disj_170783 = loop_not_taken_170746 || protect_assert_disj_170782;
    bool index_certs_170784;
    
    if (!protect_assert_disj_170783) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_170750, "] out of bounds for array of shape [", (long long) rest_170727, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:193:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_179998 = (int64_t) 2 * rest_170727;
    int64_t bytes_180038 = (int64_t) 8 * rest_170727;
    int64_t bytes_180040 = (int64_t) 4 * rest_170727;
    int64_t binop_x_180063 = (int64_t) 4 * n_blocks_170726;
    int64_t bytes_180064 = i16_res_170722 * binop_x_180063;
    int64_t binop_x_180066 = (int64_t) 8 * n_blocks_170726;
    int64_t bytes_180067 = i16_res_170722 * binop_x_180066;
    int64_t bytes_180070 = (int64_t) 32 * n_blocks_170726;
    int64_t bytes_180095 = (int64_t) 2 * i16_res_170722;
    int64_t bytes_180172 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_170736;
    bool dim_match_171046 = n_92979 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729;
    bool empty_or_match_cert_171047;
    
    if (!dim_match_171046) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729, "] cannot match shape of type `[", (long long) n_92979, "](f32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:193:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180206 = (int64_t) 8 * n_92979;
    int64_t bytes_180208 = (int64_t) 4 * n_92979;
    
    if (futrts_indicesWithIncrement_9394(ctx, &ext_mem_179987, xs_mem_179986, n_92979, incr_92980) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_179989_cached_sizze_182028 < bytes_179988) {
        err = lexical_realloc(ctx, &mem_179989, &mem_179989_cached_sizze_182028, bytes_179988);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_179989, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) xs_mem_179986.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729});
    if (mem_179991_cached_sizze_182029 < bytes_179990) {
        err = lexical_realloc(ctx, &mem_179991, &mem_179991_cached_sizze_182029, bytes_179990);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_181402 = 0; i_181402 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729; i_181402++) {
        int64_t x_181403 = (int64_t) 0 + i_181402 * (int64_t) 1;
        
        ((int64_t *) mem_179991)[i_181402] = x_181403;
    }
    if (mem_179999_cached_sizze_182030 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_179999, &mem_179999_cached_sizze_182030, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180001_cached_sizze_182031 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_180001, &mem_180001_cached_sizze_182031, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180003_cached_sizze_182032 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_180003, &mem_180003_cached_sizze_182032, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180005_cached_sizze_182033 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_180005, &mem_180005_cached_sizze_182033, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180007_cached_sizze_182034 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_180007, &mem_180007_cached_sizze_182034, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180039_cached_sizze_182035 < bytes_180038) {
        err = lexical_realloc(ctx, &mem_180039, &mem_180039_cached_sizze_182035, bytes_180038);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180041_cached_sizze_182036 < bytes_180040) {
        err = lexical_realloc(ctx, &mem_180041, &mem_180041_cached_sizze_182036, bytes_180040);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180054_cached_sizze_182037 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180054, &mem_180054_cached_sizze_182037, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180055_cached_sizze_182038 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180055, &mem_180055_cached_sizze_182038, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180062_cached_sizze_182039 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180062, &mem_180062_cached_sizze_182039, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180065_cached_sizze_182040 < bytes_180064) {
        err = lexical_realloc(ctx, &mem_180065, &mem_180065_cached_sizze_182040, bytes_180064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180068_cached_sizze_182041 < bytes_180067) {
        err = lexical_realloc(ctx, &mem_180068, &mem_180068_cached_sizze_182041, bytes_180067);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180071_cached_sizze_182042 < bytes_180070) {
        err = lexical_realloc(ctx, &mem_180071, &mem_180071_cached_sizze_182042, bytes_180070);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180074_cached_sizze_182043 < binop_x_180066) {
        err = lexical_realloc(ctx, &mem_180074, &mem_180074_cached_sizze_182043, binop_x_180066);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180096_cached_sizze_182044 < bytes_180095) {
        err = lexical_realloc(ctx, &mem_180096, &mem_180096_cached_sizze_182044, bytes_180095);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180098_cached_sizze_182045 < bytes_180095) {
        err = lexical_realloc(ctx, &mem_180098, &mem_180098_cached_sizze_182045, bytes_180095);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180100_cached_sizze_182046 < bytes_180095) {
        err = lexical_realloc(ctx, &mem_180100, &mem_180100_cached_sizze_182046, bytes_180095);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180102_cached_sizze_182047 < bytes_180095) {
        err = lexical_realloc(ctx, &mem_180102, &mem_180102_cached_sizze_182047, bytes_180095);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180104_cached_sizze_182048 < bytes_180095) {
        err = lexical_realloc(ctx, &mem_180104, &mem_180104_cached_sizze_182048, bytes_180095);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180147_cached_sizze_182049 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180147, &mem_180147_cached_sizze_182049, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180148_cached_sizze_182050 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180148, &mem_180148_cached_sizze_182050, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180173_cached_sizze_182051 < bytes_180172) {
        err = lexical_realloc(ctx, &mem_180173, &mem_180173_cached_sizze_182051, bytes_180172);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180181_cached_sizze_182052 < bytes_180172) {
        err = lexical_realloc(ctx, &mem_180181, &mem_180181_cached_sizze_182052, bytes_180172);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_170787 = 0; i_170787 < iters_170721; i_170787++) {
        int32_t blocked_radix_sort_step_arg1_170790 = mul32(2, i_170787);
        int32_t get_bit_arg0_170795 = add32(1, blocked_radix_sort_step_arg1_170790);
        bool cond_f_res_170796 = get_bit_arg0_170795 == 31;
        bool cond_f_res_170797 = blocked_radix_sort_step_arg1_170790 == 31;
        int16_t discard_179666;
        int16_t discard_179667;
        int16_t discard_179668;
        int16_t discard_179669;
        int16_t scanacc_179651;
        int16_t scanacc_179652;
        int16_t scanacc_179653;
        int16_t scanacc_179654;
        
        scanacc_179651 = (int16_t) 0;
        scanacc_179652 = (int16_t) 0;
        scanacc_179653 = (int16_t) 0;
        scanacc_179654 = (int16_t) 0;
        for (int64_t i_179660 = 0; i_179660 < rest_170727; i_179660++) {
            int64_t slice_179873 = arg_170728 + i_179660;
            float eta_p_177579 = ((float *) mem_179989)[slice_179873];
            int32_t i32_arg0_177580 = futrts_to_bits32(eta_p_177579);
            int32_t unsign_arg0_177581 = ashr32(i32_arg0_177580, get_bit_arg0_170795);
            int32_t unsign_arg0_177582 = 1 & unsign_arg0_177581;
            int32_t unsign_arg0_177583 = ashr32(i32_arg0_177580, 31);
            int32_t unsign_arg0_177584 = 1 & unsign_arg0_177583;
            bool cond_177585 = unsign_arg0_177584 == 1;
            bool x_177586 = !cond_177585;
            bool y_177587 = cond_f_res_170796 && x_177586;
            bool cond_177588 = cond_177585 || y_177587;
            int32_t defunc_0_get_bit_res_177589;
            
            if (cond_177588) {
                int32_t defunc_0_get_bit_res_t_res_177715 = 1 ^ unsign_arg0_177582;
                
                defunc_0_get_bit_res_177589 = defunc_0_get_bit_res_t_res_177715;
            } else {
                defunc_0_get_bit_res_177589 = unsign_arg0_177582;
            }
            
            int32_t zp_lhs_177591 = mul32(2, defunc_0_get_bit_res_177589);
            int32_t unsign_arg0_177592 = ashr32(i32_arg0_177580, blocked_radix_sort_step_arg1_170790);
            int32_t unsign_arg0_177593 = 1 & unsign_arg0_177592;
            bool y_177594 = cond_f_res_170797 && x_177586;
            bool cond_177595 = cond_177585 || y_177594;
            int32_t defunc_0_get_bit_res_177596;
            
            if (cond_177595) {
                int32_t defunc_0_get_bit_res_t_res_177716 = 1 ^ unsign_arg0_177593;
                
                defunc_0_get_bit_res_177596 = defunc_0_get_bit_res_t_res_177716;
            } else {
                defunc_0_get_bit_res_177596 = unsign_arg0_177593;
            }
            
            int32_t i32_arg0_177598 = add32(zp_lhs_177591, defunc_0_get_bit_res_177596);
            int16_t i32_res_177599 = sext_i32_i16(i32_arg0_177598);
            int16_t defunc_0_f_res_177601;
            int16_t defunc_0_f_res_177602;
            int16_t defunc_0_f_res_177603;
            int16_t defunc_0_f_res_177604;
            
            if (futrts_lifted_lambda_8993(ctx, &defunc_0_f_res_177601, &defunc_0_f_res_177602, &defunc_0_f_res_177603, &defunc_0_f_res_177604, i32_res_177599) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_170845 = add16(defunc_0_f_res_177601, scanacc_179651);
            int16_t defunc_0_op_res_170846 = add16(defunc_0_f_res_177602, scanacc_179652);
            int16_t defunc_0_op_res_170847 = add16(defunc_0_f_res_177603, scanacc_179653);
            int16_t defunc_0_op_res_170848 = add16(defunc_0_f_res_177604, scanacc_179654);
            
            ((int16_t *) mem_179999)[i_179660] = defunc_0_op_res_170845;
            ((int16_t *) mem_180001)[i_179660] = defunc_0_op_res_170846;
            ((int16_t *) mem_180003)[i_179660] = defunc_0_op_res_170847;
            ((int16_t *) mem_180005)[i_179660] = defunc_0_op_res_170848;
            ((int16_t *) mem_180007)[i_179660] = i32_res_177599;
            
            int16_t scanacc_tmp_181406 = defunc_0_op_res_170845;
            int16_t scanacc_tmp_181407 = defunc_0_op_res_170846;
            int16_t scanacc_tmp_181408 = defunc_0_op_res_170847;
            int16_t scanacc_tmp_181409 = defunc_0_op_res_170848;
            
            scanacc_179651 = scanacc_tmp_181406;
            scanacc_179652 = scanacc_tmp_181407;
            scanacc_179653 = scanacc_tmp_181408;
            scanacc_179654 = scanacc_tmp_181409;
        }
        discard_179666 = scanacc_179651;
        discard_179667 = scanacc_179652;
        discard_179668 = scanacc_179653;
        discard_179669 = scanacc_179654;
        
        int16_t defunc_0_radix_sort_step_i16_res_170849;
        int16_t defunc_0_radix_sort_step_i16_res_170850;
        int16_t defunc_0_radix_sort_step_i16_res_170851;
        int16_t defunc_0_radix_sort_step_i16_res_170852;
        
        if (empty_slice_170749) {
            defunc_0_radix_sort_step_i16_res_170849 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_170850 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_170851 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_170852 = (int16_t) 0;
        } else {
            int16_t last_res_170853 = ((int16_t *) mem_179999)[m_170750];
            int16_t last_res_170854 = ((int16_t *) mem_180001)[m_170750];
            int16_t last_res_170855 = ((int16_t *) mem_180003)[m_170750];
            int16_t last_res_170856 = ((int16_t *) mem_180005)[m_170750];
            
            defunc_0_radix_sort_step_i16_res_170849 = last_res_170853;
            defunc_0_radix_sort_step_i16_res_170850 = last_res_170854;
            defunc_0_radix_sort_step_i16_res_170851 = last_res_170855;
            defunc_0_radix_sort_step_i16_res_170852 = last_res_170856;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180039, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_179991, (int64_t) 0 + (int64_t) 1 * arg_170728, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_170727});
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_180041, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_179989, (int64_t) 0 + (int64_t) 1 * arg_170728, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_170727});
        for (int64_t write_iter_179670 = 0; write_iter_179670 < rest_170727; write_iter_179670++) {
            int16_t write_iv_179673 = ((int16_t *) mem_180007)[write_iter_179670];
            int16_t write_iv_179674 = ((int16_t *) mem_179999)[write_iter_179670];
            int16_t write_iv_179675 = ((int16_t *) mem_180001)[write_iter_179670];
            int16_t write_iv_179676 = ((int16_t *) mem_180003)[write_iter_179670];
            int16_t write_iv_179677 = ((int16_t *) mem_180005)[write_iter_179670];
            int64_t slice_179872 = arg_170728 + write_iter_179670;
            float write_iv_179678 = ((float *) mem_179989)[slice_179872];
            int64_t write_iv_179679 = ((int64_t *) mem_179991)[slice_179872];
            int64_t defunc_0_f_res_177563;
            
            if (futrts_lifted_f_8994(ctx, &defunc_0_f_res_177563, defunc_0_radix_sort_step_i16_res_170849, defunc_0_radix_sort_step_i16_res_170850, defunc_0_radix_sort_step_i16_res_170851, write_iv_179673, write_iv_179674, write_iv_179675, write_iv_179676, write_iv_179677) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_177563) && slt64(defunc_0_f_res_177563, rest_170727)) {
                ((float *) mem_180041)[defunc_0_f_res_177563] = write_iv_179678;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_177563) && slt64(defunc_0_f_res_177563, rest_170727)) {
                ((int64_t *) mem_180039)[defunc_0_f_res_177563] = write_iv_179679;
            }
        }
        ((int16_t *) mem_180054)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_170849;
        ((int16_t *) mem_180054)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_170850;
        ((int16_t *) mem_180054)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_170851;
        ((int16_t *) mem_180054)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_170852;
        for (int64_t i_179684 = 0; i_179684 < (int64_t) 4; i_179684++) {
            int16_t eta_p_170873 = ((int16_t *) mem_180054)[i_179684];
            int64_t i16_res_170874 = sext_i16_i64(eta_p_170873);
            
            ((int64_t *) mem_180055)[i_179684] = i16_res_170874;
        }
        
        int16_t tmp_170875 = add16(defunc_0_radix_sort_step_i16_res_170849, defunc_0_radix_sort_step_i16_res_170850);
        int16_t tmp_170876 = add16(defunc_0_radix_sort_step_i16_res_170851, tmp_170875);
        
        ((int16_t *) mem_180062)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_180062)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_170849;
        ((int16_t *) mem_180062)[(int64_t) 2] = tmp_170875;
        ((int16_t *) mem_180062)[(int64_t) 3] = tmp_170876;
        for (int64_t i_179734 = 0; i_179734 < n_blocks_170726; i_179734++) {
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180065, i_179734 * i16_res_170722, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_179989, (int64_t) 0 + i_179734 * ((int64_t) 1 * i16_res_170722), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_170722});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180068, i_179734 * i16_res_170722, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_179991, (int64_t) 0 + i_179734 * ((int64_t) 1 * i16_res_170722), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_170722});
            
            int64_t binop_x_179886 = i16_res_170722 * i_179734;
            int16_t discard_179706;
            int16_t discard_179707;
            int16_t discard_179708;
            int16_t discard_179709;
            int16_t scanacc_179691;
            int16_t scanacc_179692;
            int16_t scanacc_179693;
            int16_t scanacc_179694;
            
            scanacc_179691 = (int16_t) 0;
            scanacc_179692 = (int16_t) 0;
            scanacc_179693 = (int16_t) 0;
            scanacc_179694 = (int16_t) 0;
            for (int64_t i_179700 = 0; i_179700 < i16_res_170722; i_179700++) {
                int64_t new_index_179887 = i_179700 + binop_x_179886;
                float eta_p_177635 = ((float *) mem_179989)[new_index_179887];
                int32_t i32_arg0_177636 = futrts_to_bits32(eta_p_177635);
                int32_t unsign_arg0_177637 = ashr32(i32_arg0_177636, get_bit_arg0_170795);
                int32_t unsign_arg0_177638 = 1 & unsign_arg0_177637;
                int32_t unsign_arg0_177639 = ashr32(i32_arg0_177636, 31);
                int32_t unsign_arg0_177640 = 1 & unsign_arg0_177639;
                bool cond_177641 = unsign_arg0_177640 == 1;
                bool x_177642 = !cond_177641;
                bool y_177643 = cond_f_res_170796 && x_177642;
                bool cond_177644 = cond_177641 || y_177643;
                int32_t defunc_0_get_bit_res_177645;
                
                if (cond_177644) {
                    int32_t defunc_0_get_bit_res_t_res_177717 = 1 ^ unsign_arg0_177638;
                    
                    defunc_0_get_bit_res_177645 = defunc_0_get_bit_res_t_res_177717;
                } else {
                    defunc_0_get_bit_res_177645 = unsign_arg0_177638;
                }
                
                int32_t zp_lhs_177647 = mul32(2, defunc_0_get_bit_res_177645);
                int32_t unsign_arg0_177648 = ashr32(i32_arg0_177636, blocked_radix_sort_step_arg1_170790);
                int32_t unsign_arg0_177649 = 1 & unsign_arg0_177648;
                bool y_177650 = cond_f_res_170797 && x_177642;
                bool cond_177651 = cond_177641 || y_177650;
                int32_t defunc_0_get_bit_res_177652;
                
                if (cond_177651) {
                    int32_t defunc_0_get_bit_res_t_res_177718 = 1 ^ unsign_arg0_177649;
                    
                    defunc_0_get_bit_res_177652 = defunc_0_get_bit_res_t_res_177718;
                } else {
                    defunc_0_get_bit_res_177652 = unsign_arg0_177649;
                }
                
                int32_t i32_arg0_177654 = add32(zp_lhs_177647, defunc_0_get_bit_res_177652);
                int16_t i32_res_177655 = sext_i32_i16(i32_arg0_177654);
                int16_t defunc_0_f_res_177657;
                int16_t defunc_0_f_res_177658;
                int16_t defunc_0_f_res_177659;
                int16_t defunc_0_f_res_177660;
                
                if (futrts_lifted_lambda_8993(ctx, &defunc_0_f_res_177657, &defunc_0_f_res_177658, &defunc_0_f_res_177659, &defunc_0_f_res_177660, i32_res_177655) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_170937 = add16(defunc_0_f_res_177657, scanacc_179691);
                int16_t defunc_0_op_res_170938 = add16(defunc_0_f_res_177658, scanacc_179692);
                int16_t defunc_0_op_res_170939 = add16(defunc_0_f_res_177659, scanacc_179693);
                int16_t defunc_0_op_res_170940 = add16(defunc_0_f_res_177660, scanacc_179694);
                
                ((int16_t *) mem_180096)[i_179700] = defunc_0_op_res_170937;
                ((int16_t *) mem_180098)[i_179700] = defunc_0_op_res_170938;
                ((int16_t *) mem_180100)[i_179700] = defunc_0_op_res_170939;
                ((int16_t *) mem_180102)[i_179700] = defunc_0_op_res_170940;
                ((int16_t *) mem_180104)[i_179700] = i32_res_177655;
                
                int16_t scanacc_tmp_181422 = defunc_0_op_res_170937;
                int16_t scanacc_tmp_181423 = defunc_0_op_res_170938;
                int16_t scanacc_tmp_181424 = defunc_0_op_res_170939;
                int16_t scanacc_tmp_181425 = defunc_0_op_res_170940;
                
                scanacc_179691 = scanacc_tmp_181422;
                scanacc_179692 = scanacc_tmp_181423;
                scanacc_179693 = scanacc_tmp_181424;
                scanacc_179694 = scanacc_tmp_181425;
            }
            discard_179706 = scanacc_179691;
            discard_179707 = scanacc_179692;
            discard_179708 = scanacc_179693;
            discard_179709 = scanacc_179694;
            
            int16_t defunc_0_f_res_170941;
            int16_t defunc_0_f_res_170942;
            int16_t defunc_0_f_res_170943;
            int16_t defunc_0_f_res_170944;
            
            if (zzero_170723) {
                defunc_0_f_res_170941 = (int16_t) 0;
                defunc_0_f_res_170942 = (int16_t) 0;
                defunc_0_f_res_170943 = (int16_t) 0;
                defunc_0_f_res_170944 = (int16_t) 0;
            } else {
                int16_t last_res_170945 = ((int16_t *) mem_180096)[tmp_170765];
                int16_t last_res_170946 = ((int16_t *) mem_180098)[tmp_170765];
                int16_t last_res_170947 = ((int16_t *) mem_180100)[tmp_170765];
                int16_t last_res_170948 = ((int16_t *) mem_180102)[tmp_170765];
                
                defunc_0_f_res_170941 = last_res_170945;
                defunc_0_f_res_170942 = last_res_170946;
                defunc_0_f_res_170943 = last_res_170947;
                defunc_0_f_res_170944 = last_res_170948;
            }
            for (int64_t write_iter_179710 = 0; write_iter_179710 < i16_res_170722; write_iter_179710++) {
                int16_t write_iv_179713 = ((int16_t *) mem_180104)[write_iter_179710];
                int16_t write_iv_179714 = ((int16_t *) mem_180096)[write_iter_179710];
                int16_t write_iv_179715 = ((int16_t *) mem_180098)[write_iter_179710];
                int16_t write_iv_179716 = ((int16_t *) mem_180100)[write_iter_179710];
                int16_t write_iv_179717 = ((int16_t *) mem_180102)[write_iter_179710];
                int64_t new_index_179883 = write_iter_179710 + binop_x_179886;
                float write_iv_179718 = ((float *) mem_179989)[new_index_179883];
                int64_t write_iv_179719 = ((int64_t *) mem_179991)[new_index_179883];
                int64_t defunc_0_f_res_177619;
                
                if (futrts_lifted_f_8994(ctx, &defunc_0_f_res_177619, defunc_0_f_res_170941, defunc_0_f_res_170942, defunc_0_f_res_170943, write_iv_179713, write_iv_179714, write_iv_179715, write_iv_179716, write_iv_179717) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_177619) && slt64(defunc_0_f_res_177619, i16_res_170722)) {
                    ((float *) mem_180065)[i_179734 * i16_res_170722 + defunc_0_f_res_177619] = write_iv_179718;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_177619) && slt64(defunc_0_f_res_177619, i16_res_170722)) {
                    ((int64_t *) mem_180068)[i_179734 * i16_res_170722 + defunc_0_f_res_177619] = write_iv_179719;
                }
            }
            ((int16_t *) mem_180147)[(int64_t) 0] = defunc_0_f_res_170941;
            ((int16_t *) mem_180147)[(int64_t) 1] = defunc_0_f_res_170942;
            ((int16_t *) mem_180147)[(int64_t) 2] = defunc_0_f_res_170943;
            ((int16_t *) mem_180147)[(int64_t) 3] = defunc_0_f_res_170944;
            for (int64_t i_179724 = 0; i_179724 < (int64_t) 4; i_179724++) {
                int16_t eta_p_170963 = ((int16_t *) mem_180147)[i_179724];
                int64_t i16_res_170964 = sext_i16_i64(eta_p_170963);
                
                ((int64_t *) mem_180148)[i_179724] = i16_res_170964;
            }
            
            int16_t tmp_170965 = add16(defunc_0_f_res_170941, defunc_0_f_res_170942);
            int16_t tmp_170966 = add16(defunc_0_f_res_170943, tmp_170965);
            
            ((int16_t *) mem_180074)[i_179734 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_180074)[i_179734 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_170941;
            ((int16_t *) mem_180074)[i_179734 * (int64_t) 4 + (int64_t) 2] = tmp_170965;
            ((int16_t *) mem_180074)[i_179734 * (int64_t) 4 + (int64_t) 3] = tmp_170966;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180071, i_179734 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180148, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_179746;
        int64_t scanacc_179742 = (int64_t) 0;
        
        for (int64_t i_179744 = 0; i_179744 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_170737; i_179744++) {
            int64_t new_index_179861 = squot64(i_179744, dzlz7bUZLzpZRz20Unz20U1z7dUzg_170736);
            int64_t binop_y_179863 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_170736 * new_index_179861;
            int64_t new_index_179864 = i_179744 - binop_y_179863;
            bool index_concat_cmp_179866 = sle64(n_blocks_170726, new_index_179864);
            int64_t index_concat_branch_179870;
            
            if (index_concat_cmp_179866) {
                int64_t index_concat_179868 = ((int64_t *) mem_180055)[new_index_179861];
                
                index_concat_branch_179870 = index_concat_179868;
            } else {
                int64_t index_concat_179869 = ((int64_t *) mem_180071)[new_index_179864 * (int64_t) 4 + new_index_179861];
                
                index_concat_branch_179870 = index_concat_179869;
            }
            
            int64_t defunc_0_op_res_170980 = add64(scanacc_179742, index_concat_branch_179870);
            
            ((int64_t *) mem_180173)[i_179744] = defunc_0_op_res_170980;
            
            int64_t scanacc_tmp_181434 = defunc_0_op_res_170980;
            
            scanacc_179742 = scanacc_tmp_181434;
        }
        discard_179746 = scanacc_179742;
        for (int64_t i_179749 = 0; i_179749 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_170737; i_179749++) {
            int64_t zv_lhs_170983 = add64((int64_t) -1, i_179749);
            int64_t tmp_170984 = smod64(zv_lhs_170983, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_170737);
            int64_t lifted_lambda_res_170985 = ((int64_t *) mem_180173)[tmp_170984];
            
            ((int64_t *) mem_180181)[i_179749] = lifted_lambda_res_170985;
        }
        ((int64_t *) mem_180181)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_179751 = 0; write_iter_179751 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729; write_iter_179751++) {
            bool index_concat_cmp_179852 = sle64(arg_170728, write_iter_179751);
            float index_concat_branch_177507;
            
            if (index_concat_cmp_179852) {
                int64_t index_concat_i_177727 = sub64(write_iter_179751, arg_170728);
                float index_concat_177728 = ((float *) mem_180041)[index_concat_i_177727];
                
                index_concat_branch_177507 = index_concat_177728;
            } else {
                int64_t new_index_177510 = squot64(write_iter_179751, i16_res_170722);
                int64_t binop_y_177511 = i16_res_170722 * new_index_177510;
                int64_t new_index_177512 = write_iter_179751 - binop_y_177511;
                float index_concat_177513 = ((float *) mem_180065)[new_index_177510 * i16_res_170722 + new_index_177512];
                
                index_concat_branch_177507 = index_concat_177513;
            }
            
            int32_t i32_arg0_177514 = futrts_to_bits32(index_concat_branch_177507);
            int32_t unsign_arg0_177515 = ashr32(i32_arg0_177514, 31);
            int32_t unsign_arg0_177516 = 1 & unsign_arg0_177515;
            bool cond_177517 = unsign_arg0_177516 == 1;
            bool x_177518 = !cond_177517;
            int32_t zlzb_rhs_177519;
            int32_t acc_177521 = 0;
            
            for (int32_t i_177520 = 0; i_177520 < 2; i_177520++) {
                int32_t get_bit_arg0_177522 = add32(blocked_radix_sort_step_arg1_170790, i_177520);
                int32_t unsign_arg0_177523 = ashr32(i32_arg0_177514, get_bit_arg0_177522);
                int32_t unsign_arg0_177524 = 1 & unsign_arg0_177523;
                bool cond_f_res_177525 = get_bit_arg0_177522 == 31;
                bool y_177526 = x_177518 && cond_f_res_177525;
                bool cond_177527 = cond_177517 || y_177526;
                int32_t defunc_0_get_bit_res_177528;
                
                if (cond_177527) {
                    int32_t defunc_0_get_bit_res_t_res_177729 = 1 ^ unsign_arg0_177524;
                    
                    defunc_0_get_bit_res_177528 = defunc_0_get_bit_res_t_res_177729;
                } else {
                    defunc_0_get_bit_res_177528 = unsign_arg0_177524;
                }
                
                int32_t zp_rhs_177530 = shl32(defunc_0_get_bit_res_177528, i_177520);
                int32_t loopres_177531 = add32(acc_177521, zp_rhs_177530);
                int32_t acc_tmp_181439 = loopres_177531;
                
                acc_177521 = acc_tmp_181439;
            }
            zlzb_rhs_177519 = acc_177521;
            
            int64_t i32_res_177532 = sext_i32_i64(zlzb_rhs_177519);
            int64_t block_idx_177533 = sdiv64(write_iter_179751, i16_res_170722);
            bool x_177534 = sle64((int64_t) 0, block_idx_177533);
            bool y_177535 = slt64(block_idx_177533, dzlz7bUZLzpZRz20Unz20U1z7dUzg_170736);
            bool bounds_check_177536 = x_177534 && y_177535;
            bool index_certs_177537;
            
            if (!bounds_check_177536) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_177533, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_170736, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:193:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_177538 = sle64((int64_t) 0, i32_res_177532);
            bool y_177539 = slt64(i32_res_177532, (int64_t) 4);
            bool bounds_check_177540 = x_177538 && y_177539;
            bool index_certs_177541;
            
            if (!bounds_check_177540) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_177532, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:193:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            float index_concat_branch_179856;
            
            if (index_concat_cmp_179852) {
                int64_t index_concat_i_179853 = sub64(write_iter_179751, arg_170728);
                float index_concat_179854 = ((float *) mem_180041)[index_concat_i_179853];
                
                index_concat_branch_179856 = index_concat_179854;
            } else {
                int64_t new_index_179878 = squot64(write_iter_179751, i16_res_170722);
                int64_t binop_y_179880 = i16_res_170722 * new_index_179878;
                int64_t new_index_179881 = write_iter_179751 - binop_y_179880;
                float index_concat_179855 = ((float *) mem_180065)[new_index_179878 * i16_res_170722 + new_index_179881];
                
                index_concat_branch_179856 = index_concat_179855;
            }
            
            int64_t index_concat_branch_179850;
            
            if (index_concat_cmp_179852) {
                int64_t index_concat_i_179847 = sub64(write_iter_179751, arg_170728);
                int64_t index_concat_179848 = ((int64_t *) mem_180039)[index_concat_i_179847];
                
                index_concat_branch_179850 = index_concat_179848;
            } else {
                int64_t new_index_179874 = squot64(write_iter_179751, i16_res_170722);
                int64_t binop_y_179876 = i16_res_170722 * new_index_179874;
                int64_t new_index_179877 = write_iter_179751 - binop_y_179876;
                int64_t index_concat_179849 = ((int64_t *) mem_180068)[new_index_179874 * i16_res_170722 + new_index_179877];
                
                index_concat_branch_179850 = index_concat_179849;
            }
            
            int64_t binop_x_177542 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_170736 * i32_res_177532;
            int64_t new_index_177543 = block_idx_177533 + binop_x_177542;
            int64_t new_offset_177544 = ((int64_t *) mem_180181)[new_index_177543];
            bool index_concat_cmp_177545 = sle64(n_blocks_170726, block_idx_177533);
            int16_t index_concat_branch_177546;
            
            if (index_concat_cmp_177545) {
                int16_t index_concat_177730 = ((int16_t *) mem_180062)[i32_res_177532];
                
                index_concat_branch_177546 = index_concat_177730;
            } else {
                int16_t index_concat_177548 = ((int16_t *) mem_180074)[block_idx_177533 * (int64_t) 4 + i32_res_177532];
                
                index_concat_branch_177546 = index_concat_177548;
            }
            
            int64_t i16_res_177549 = sext_i16_i64(index_concat_branch_177546);
            int64_t zp_lhs_177550 = mul64(i16_res_170722, block_idx_177533);
            int64_t old_offset_177551 = add64(i16_res_177549, zp_lhs_177550);
            int64_t zp_lhs_177552 = sub64(write_iter_179751, old_offset_177551);
            int64_t idx_177553 = add64(new_offset_177544, zp_lhs_177552);
            
            if (sle64((int64_t) 0, idx_177553) && slt64(idx_177553, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729)) {
                ((float *) mem_179989)[idx_177553] = index_concat_branch_179856;
            }
            if (sle64((int64_t) 0, idx_177553) && slt64(idx_177553, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_170729)) {
                ((int64_t *) mem_179991)[idx_177553] = index_concat_branch_179850;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_180207, bytes_180206, "mem_180207")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180209, bytes_180208, "mem_180209")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_179763 = 0; i_179763 < n_92979; i_179763++) {
        int64_t eta_p_171051 = ((int64_t *) mem_179991)[i_179763];
        bool x_171052 = sle64((int64_t) 0, eta_p_171051);
        bool y_171053 = slt64(eta_p_171051, n_92979);
        bool bounds_check_171054 = x_171052 && y_171053;
        bool index_certs_171055;
        
        if (!bounds_check_171054) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_171051, "] out of bounds for array of shape [", (long long) n_92979, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:193:95-98\n   #5  ftsort.fut:25:3-46\n   #6  ftsort.fut:24:1-25:46\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_171056 = ((int64_t *) ext_mem_179987.mem)[eta_p_171051];
        float lifted_lambda_res_171057 = ((float *) xs_mem_179986.mem)[eta_p_171051];
        
        ((int64_t *) mem_180207.mem)[i_179763] = lifted_lambda_res_171056;
        ((float *) mem_180209.mem)[i_179763] = lifted_lambda_res_171057;
    }
    if (memblock_unref(ctx, &ext_mem_179987, "ext_mem_179987") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181400, &mem_180207, "mem_180207") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181401, &mem_180209, "mem_180209") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182026, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182027, &mem_out_181401, "mem_out_181401") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_179989);
        free(mem_179991);
        free(mem_179999);
        free(mem_180001);
        free(mem_180003);
        free(mem_180005);
        free(mem_180007);
        free(mem_180039);
        free(mem_180041);
        free(mem_180054);
        free(mem_180055);
        free(mem_180062);
        free(mem_180065);
        free(mem_180068);
        free(mem_180071);
        free(mem_180074);
        free(mem_180096);
        free(mem_180098);
        free(mem_180100);
        free(mem_180102);
        free(mem_180104);
        free(mem_180147);
        free(mem_180148);
        free(mem_180173);
        free(mem_180181);
        if (memblock_unref(ctx, &mem_180209, "mem_180209") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180207, "mem_180207") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_179987, "ext_mem_179987") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181401, "mem_out_181401") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_182053, struct memblock *mem_out_p_182054, struct memblock xs_mem_179986, int64_t n_87628, int64_t incr_87629, int16_t block_sizze_87630)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_179989_cached_sizze_182055 = 0;
    unsigned char *mem_179989 = NULL;
    int64_t mem_179991_cached_sizze_182056 = 0;
    unsigned char *mem_179991 = NULL;
    int64_t mem_179999_cached_sizze_182057 = 0;
    unsigned char *mem_179999 = NULL;
    int64_t mem_180001_cached_sizze_182058 = 0;
    unsigned char *mem_180001 = NULL;
    int64_t mem_180003_cached_sizze_182059 = 0;
    unsigned char *mem_180003 = NULL;
    int64_t mem_180005_cached_sizze_182060 = 0;
    unsigned char *mem_180005 = NULL;
    int64_t mem_180007_cached_sizze_182061 = 0;
    unsigned char *mem_180007 = NULL;
    int64_t mem_180039_cached_sizze_182062 = 0;
    unsigned char *mem_180039 = NULL;
    int64_t mem_180041_cached_sizze_182063 = 0;
    unsigned char *mem_180041 = NULL;
    int64_t mem_180054_cached_sizze_182064 = 0;
    unsigned char *mem_180054 = NULL;
    int64_t mem_180055_cached_sizze_182065 = 0;
    unsigned char *mem_180055 = NULL;
    int64_t mem_180062_cached_sizze_182066 = 0;
    unsigned char *mem_180062 = NULL;
    int64_t mem_180065_cached_sizze_182067 = 0;
    unsigned char *mem_180065 = NULL;
    int64_t mem_180068_cached_sizze_182068 = 0;
    unsigned char *mem_180068 = NULL;
    int64_t mem_180071_cached_sizze_182069 = 0;
    unsigned char *mem_180071 = NULL;
    int64_t mem_180074_cached_sizze_182070 = 0;
    unsigned char *mem_180074 = NULL;
    int64_t mem_180096_cached_sizze_182071 = 0;
    unsigned char *mem_180096 = NULL;
    int64_t mem_180098_cached_sizze_182072 = 0;
    unsigned char *mem_180098 = NULL;
    int64_t mem_180100_cached_sizze_182073 = 0;
    unsigned char *mem_180100 = NULL;
    int64_t mem_180102_cached_sizze_182074 = 0;
    unsigned char *mem_180102 = NULL;
    int64_t mem_180104_cached_sizze_182075 = 0;
    unsigned char *mem_180104 = NULL;
    int64_t mem_180147_cached_sizze_182076 = 0;
    unsigned char *mem_180147 = NULL;
    int64_t mem_180148_cached_sizze_182077 = 0;
    unsigned char *mem_180148 = NULL;
    int64_t mem_180173_cached_sizze_182078 = 0;
    unsigned char *mem_180173 = NULL;
    int64_t mem_180181_cached_sizze_182079 = 0;
    unsigned char *mem_180181 = NULL;
    struct memblock mem_180209;
    
    mem_180209.references = NULL;
    
    struct memblock mem_180207;
    
    mem_180207.references = NULL;
    
    struct memblock ext_mem_179987;
    
    ext_mem_179987.references = NULL;
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    bool cond_167490 = n_87628 == (int64_t) 0;
    int32_t iters_167491;
    
    if (cond_167490) {
        iters_167491 = 0;
    } else {
        iters_167491 = 16;
    }
    
    int64_t i16_res_167492 = sext_i16_i64(block_sizze_87630);
    bool zzero_167493 = i16_res_167492 == (int64_t) 0;
    bool nonzzero_167494 = !zzero_167493;
    bool nonzzero_cert_167495;
    
    if (!nonzzero_167494) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:140:93-96\n   #5  ftsort.fut:19:3-44\n   #6  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_167496 = sdiv64(n_87628, i16_res_167492);
    int64_t rest_167497 = smod64(n_87628, i16_res_167492);
    int64_t arg_167498 = mul64(i16_res_167492, n_blocks_167496);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499 = add64(rest_167497, arg_167498);
    bool dim_match_167500 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499 == n_87628;
    bool empty_or_match_cert_167501;
    
    if (!dim_match_167500) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_87628, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499, "](i32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #5  ftbasics.fut:140:93-96\n   #6  ftsort.fut:19:3-44\n   #7  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_179988 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499;
    int64_t bytes_179990 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499;
    bool loop_nonempty_167505 = slt32(0, iters_167491);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506 = add64((int64_t) 1, n_blocks_167496);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167507 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506);
    bool empty_slice_167508 = arg_167498 == (int64_t) 0;
    int64_t m_167509 = sub64(arg_167498, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_167510 = sle64((int64_t) 0, m_167509);
    bool i_p_m_t_s_leq_w_167511 = slt64(m_167509, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499);
    bool i_lte_j_167512 = sle64((int64_t) 0, arg_167498);
    bool y_167513 = zzero_leq_i_p_m_t_s_167510 && i_p_m_t_s_leq_w_167511;
    bool forwards_ok_167514 = i_lte_j_167512 && y_167513;
    bool ok_or_empty_167515 = empty_slice_167508 || forwards_ok_167514;
    bool loop_not_taken_167516 = !loop_nonempty_167505;
    bool protect_assert_disj_167517 = ok_or_empty_167515 || loop_not_taken_167516;
    bool index_certs_167518;
    
    if (!protect_assert_disj_167517) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_167498, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:140:93-96\n   #7  ftsort.fut:19:3-44\n   #8  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_167519 = rest_167497 == (int64_t) 0;
    int64_t m_167520 = sub64(rest_167497, (int64_t) 1);
    int64_t i_p_m_t_s_167521 = add64(arg_167498, m_167520);
    bool zzero_leq_i_p_m_t_s_167522 = sle64((int64_t) 0, i_p_m_t_s_167521);
    bool i_p_m_t_s_leq_w_167523 = slt64(i_p_m_t_s_167521, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499);
    bool i_lte_j_167524 = sle64(arg_167498, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499);
    bool y_167525 = zzero_leq_i_p_m_t_s_167522 && i_p_m_t_s_leq_w_167523;
    bool forwards_ok_167526 = i_lte_j_167524 && y_167525;
    bool ok_or_empty_167527 = empty_slice_167519 || forwards_ok_167526;
    bool protect_assert_disj_167528 = loop_not_taken_167516 || ok_or_empty_167527;
    bool index_certs_167529;
    
    if (!protect_assert_disj_167528) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_167498, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:140:93-96\n   #7  ftsort.fut:19:3-44\n   #8  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_167530 = sle64((int64_t) 0, n_blocks_167496);
    bool binop_y_167531 = sle64((int64_t) 0, i16_res_167492);
    bool binop_y_167532 = binop_x_167530 && binop_y_167531;
    bool protect_assert_disj_167533 = loop_not_taken_167516 || binop_y_167532;
    bool dim_ok_cert_167534;
    
    if (!protect_assert_disj_167533) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_167498, "] to array of shape [", (long long) n_blocks_167496, "][", (long long) i16_res_167492, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:140:93-96\n   #7  ftsort.fut:19:3-44\n   #8  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_167535 = sub64(i16_res_167492, (int64_t) 1);
    bool x_167536 = sle64((int64_t) 0, tmp_167535);
    bool y_167537 = slt64(tmp_167535, i16_res_167492);
    bool bounds_check_167538 = x_167536 && y_167537;
    bool protect_assert_disj_167539 = zzero_167493 || bounds_check_167538;
    bool protect_assert_disj_167540 = loop_not_taken_167516 || protect_assert_disj_167539;
    bool index_certs_167541;
    
    if (!protect_assert_disj_167540) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_167535, "] out of bounds for array of shape [", (long long) i16_res_167492, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:140:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_167543 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167507);
    bool protect_assert_disj_167544 = loop_not_taken_167516 || y_167543;
    bool index_certs_167545;
    
    if (!protect_assert_disj_167544) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167507, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:140:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_167547 = nonzzero_167494 || loop_not_taken_167516;
    bool nonzzero_cert_167548;
    
    if (!protect_assert_disj_167547) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:140:93-96\n   #9  ftsort.fut:19:3-44\n   #10 ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_167549 = sle64((int64_t) 0, m_167520);
    bool y_167550 = slt64(m_167520, rest_167497);
    bool bounds_check_167551 = x_167549 && y_167550;
    bool protect_assert_disj_167552 = empty_slice_167519 || bounds_check_167551;
    bool protect_assert_disj_167553 = loop_not_taken_167516 || protect_assert_disj_167552;
    bool index_certs_167554;
    
    if (!protect_assert_disj_167553) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_167520, "] out of bounds for array of shape [", (long long) rest_167497, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:166:41-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:140:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_179998 = (int64_t) 2 * rest_167497;
    int64_t bytes_180038 = (int64_t) 8 * rest_167497;
    int64_t bytes_180040 = (int64_t) 4 * rest_167497;
    int64_t binop_x_180063 = (int64_t) 4 * n_blocks_167496;
    int64_t bytes_180064 = i16_res_167492 * binop_x_180063;
    int64_t binop_x_180066 = (int64_t) 8 * n_blocks_167496;
    int64_t bytes_180067 = i16_res_167492 * binop_x_180066;
    int64_t bytes_180070 = (int64_t) 32 * n_blocks_167496;
    int64_t bytes_180095 = (int64_t) 2 * i16_res_167492;
    int64_t bytes_180172 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506;
    bool dim_match_167786 = n_87628 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499;
    bool empty_or_match_cert_167787;
    
    if (!dim_match_167786) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499, "] cannot match shape of type `[", (long long) n_87628, "](i32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:140:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180206 = (int64_t) 8 * n_87628;
    int64_t bytes_180208 = (int64_t) 4 * n_87628;
    
    if (futrts_indicesWithIncrement_9184(ctx, &ext_mem_179987, xs_mem_179986, n_87628, incr_87629) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_179989_cached_sizze_182055 < bytes_179988) {
        err = lexical_realloc(ctx, &mem_179989, &mem_179989_cached_sizze_182055, bytes_179988);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_179989, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) xs_mem_179986.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499});
    if (mem_179991_cached_sizze_182056 < bytes_179990) {
        err = lexical_realloc(ctx, &mem_179991, &mem_179991_cached_sizze_182056, bytes_179990);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_181402 = 0; i_181402 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499; i_181402++) {
        int64_t x_181403 = (int64_t) 0 + i_181402 * (int64_t) 1;
        
        ((int64_t *) mem_179991)[i_181402] = x_181403;
    }
    if (mem_179999_cached_sizze_182057 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_179999, &mem_179999_cached_sizze_182057, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180001_cached_sizze_182058 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_180001, &mem_180001_cached_sizze_182058, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180003_cached_sizze_182059 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_180003, &mem_180003_cached_sizze_182059, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180005_cached_sizze_182060 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_180005, &mem_180005_cached_sizze_182060, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180007_cached_sizze_182061 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_180007, &mem_180007_cached_sizze_182061, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180039_cached_sizze_182062 < bytes_180038) {
        err = lexical_realloc(ctx, &mem_180039, &mem_180039_cached_sizze_182062, bytes_180038);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180041_cached_sizze_182063 < bytes_180040) {
        err = lexical_realloc(ctx, &mem_180041, &mem_180041_cached_sizze_182063, bytes_180040);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180054_cached_sizze_182064 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180054, &mem_180054_cached_sizze_182064, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180055_cached_sizze_182065 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180055, &mem_180055_cached_sizze_182065, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180062_cached_sizze_182066 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180062, &mem_180062_cached_sizze_182066, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180065_cached_sizze_182067 < bytes_180064) {
        err = lexical_realloc(ctx, &mem_180065, &mem_180065_cached_sizze_182067, bytes_180064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180068_cached_sizze_182068 < bytes_180067) {
        err = lexical_realloc(ctx, &mem_180068, &mem_180068_cached_sizze_182068, bytes_180067);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180071_cached_sizze_182069 < bytes_180070) {
        err = lexical_realloc(ctx, &mem_180071, &mem_180071_cached_sizze_182069, bytes_180070);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180074_cached_sizze_182070 < binop_x_180066) {
        err = lexical_realloc(ctx, &mem_180074, &mem_180074_cached_sizze_182070, binop_x_180066);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180096_cached_sizze_182071 < bytes_180095) {
        err = lexical_realloc(ctx, &mem_180096, &mem_180096_cached_sizze_182071, bytes_180095);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180098_cached_sizze_182072 < bytes_180095) {
        err = lexical_realloc(ctx, &mem_180098, &mem_180098_cached_sizze_182072, bytes_180095);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180100_cached_sizze_182073 < bytes_180095) {
        err = lexical_realloc(ctx, &mem_180100, &mem_180100_cached_sizze_182073, bytes_180095);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180102_cached_sizze_182074 < bytes_180095) {
        err = lexical_realloc(ctx, &mem_180102, &mem_180102_cached_sizze_182074, bytes_180095);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180104_cached_sizze_182075 < bytes_180095) {
        err = lexical_realloc(ctx, &mem_180104, &mem_180104_cached_sizze_182075, bytes_180095);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180147_cached_sizze_182076 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180147, &mem_180147_cached_sizze_182076, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180148_cached_sizze_182077 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180148, &mem_180148_cached_sizze_182077, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180173_cached_sizze_182078 < bytes_180172) {
        err = lexical_realloc(ctx, &mem_180173, &mem_180173_cached_sizze_182078, bytes_180172);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180181_cached_sizze_182079 < bytes_180172) {
        err = lexical_realloc(ctx, &mem_180181, &mem_180181_cached_sizze_182079, bytes_180172);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_167557 = 0; i_167557 < iters_167491; i_167557++) {
        int32_t blocked_radix_sort_step_arg1_167560 = mul32(2, i_167557);
        int32_t get_bit_arg0_167565 = add32(1, blocked_radix_sort_step_arg1_167560);
        bool cond_167566 = get_bit_arg0_167565 == 31;
        bool cond_167567 = blocked_radix_sort_step_arg1_167560 == 31;
        int16_t discard_179666;
        int16_t discard_179667;
        int16_t discard_179668;
        int16_t discard_179669;
        int16_t scanacc_179651;
        int16_t scanacc_179652;
        int16_t scanacc_179653;
        int16_t scanacc_179654;
        
        scanacc_179651 = (int16_t) 0;
        scanacc_179652 = (int16_t) 0;
        scanacc_179653 = (int16_t) 0;
        scanacc_179654 = (int16_t) 0;
        for (int64_t i_179660 = 0; i_179660 < rest_167497; i_179660++) {
            int64_t slice_179873 = arg_167498 + i_179660;
            int32_t eta_p_177572 = ((int32_t *) mem_179989)[slice_179873];
            int32_t zgzg_res_177573 = ashr32(eta_p_177572, get_bit_arg0_167565);
            int32_t za_res_177574 = 1 & zgzg_res_177573;
            int32_t defunc_0_get_bit_res_177575;
            
            if (cond_167566) {
                int32_t defunc_0_get_bit_res_t_res_177690 = 1 ^ za_res_177574;
                
                defunc_0_get_bit_res_177575 = defunc_0_get_bit_res_t_res_177690;
            } else {
                defunc_0_get_bit_res_177575 = za_res_177574;
            }
            
            int32_t zp_lhs_177577 = mul32(2, defunc_0_get_bit_res_177575);
            int32_t zgzg_res_177578 = ashr32(eta_p_177572, blocked_radix_sort_step_arg1_167560);
            int32_t za_res_177579 = 1 & zgzg_res_177578;
            int32_t defunc_0_get_bit_res_177580;
            
            if (cond_167567) {
                int32_t defunc_0_get_bit_res_t_res_177691 = 1 ^ za_res_177579;
                
                defunc_0_get_bit_res_177580 = defunc_0_get_bit_res_t_res_177691;
            } else {
                defunc_0_get_bit_res_177580 = za_res_177579;
            }
            
            int32_t i32_arg0_177582 = add32(zp_lhs_177577, defunc_0_get_bit_res_177580);
            int16_t i32_res_177583 = sext_i32_i16(i32_arg0_177582);
            int16_t defunc_0_f_res_177585;
            int16_t defunc_0_f_res_177586;
            int16_t defunc_0_f_res_177587;
            int16_t defunc_0_f_res_177588;
            
            if (futrts_lifted_lambda_8993(ctx, &defunc_0_f_res_177585, &defunc_0_f_res_177586, &defunc_0_f_res_177587, &defunc_0_f_res_177588, i32_res_177583) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_167604 = add16(defunc_0_f_res_177585, scanacc_179651);
            int16_t defunc_0_op_res_167605 = add16(defunc_0_f_res_177586, scanacc_179652);
            int16_t defunc_0_op_res_167606 = add16(defunc_0_f_res_177587, scanacc_179653);
            int16_t defunc_0_op_res_167607 = add16(defunc_0_f_res_177588, scanacc_179654);
            
            ((int16_t *) mem_179999)[i_179660] = defunc_0_op_res_167604;
            ((int16_t *) mem_180001)[i_179660] = defunc_0_op_res_167605;
            ((int16_t *) mem_180003)[i_179660] = defunc_0_op_res_167606;
            ((int16_t *) mem_180005)[i_179660] = defunc_0_op_res_167607;
            ((int16_t *) mem_180007)[i_179660] = i32_res_177583;
            
            int16_t scanacc_tmp_181406 = defunc_0_op_res_167604;
            int16_t scanacc_tmp_181407 = defunc_0_op_res_167605;
            int16_t scanacc_tmp_181408 = defunc_0_op_res_167606;
            int16_t scanacc_tmp_181409 = defunc_0_op_res_167607;
            
            scanacc_179651 = scanacc_tmp_181406;
            scanacc_179652 = scanacc_tmp_181407;
            scanacc_179653 = scanacc_tmp_181408;
            scanacc_179654 = scanacc_tmp_181409;
        }
        discard_179666 = scanacc_179651;
        discard_179667 = scanacc_179652;
        discard_179668 = scanacc_179653;
        discard_179669 = scanacc_179654;
        
        int16_t defunc_0_radix_sort_step_i16_res_167608;
        int16_t defunc_0_radix_sort_step_i16_res_167609;
        int16_t defunc_0_radix_sort_step_i16_res_167610;
        int16_t defunc_0_radix_sort_step_i16_res_167611;
        
        if (empty_slice_167519) {
            defunc_0_radix_sort_step_i16_res_167608 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_167609 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_167610 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_167611 = (int16_t) 0;
        } else {
            int16_t last_res_167612 = ((int16_t *) mem_179999)[m_167520];
            int16_t last_res_167613 = ((int16_t *) mem_180001)[m_167520];
            int16_t last_res_167614 = ((int16_t *) mem_180003)[m_167520];
            int16_t last_res_167615 = ((int16_t *) mem_180005)[m_167520];
            
            defunc_0_radix_sort_step_i16_res_167608 = last_res_167612;
            defunc_0_radix_sort_step_i16_res_167609 = last_res_167613;
            defunc_0_radix_sort_step_i16_res_167610 = last_res_167614;
            defunc_0_radix_sort_step_i16_res_167611 = last_res_167615;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180039, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_179991, (int64_t) 0 + (int64_t) 1 * arg_167498, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_167497});
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_180041, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_179989, (int64_t) 0 + (int64_t) 1 * arg_167498, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_167497});
        for (int64_t write_iter_179670 = 0; write_iter_179670 < rest_167497; write_iter_179670++) {
            int16_t write_iv_179673 = ((int16_t *) mem_180007)[write_iter_179670];
            int16_t write_iv_179674 = ((int16_t *) mem_179999)[write_iter_179670];
            int16_t write_iv_179675 = ((int16_t *) mem_180001)[write_iter_179670];
            int16_t write_iv_179676 = ((int16_t *) mem_180003)[write_iter_179670];
            int16_t write_iv_179677 = ((int16_t *) mem_180005)[write_iter_179670];
            int64_t slice_179872 = arg_167498 + write_iter_179670;
            int32_t write_iv_179678 = ((int32_t *) mem_179989)[slice_179872];
            int64_t write_iv_179679 = ((int64_t *) mem_179991)[slice_179872];
            int64_t defunc_0_f_res_177556;
            
            if (futrts_lifted_f_8994(ctx, &defunc_0_f_res_177556, defunc_0_radix_sort_step_i16_res_167608, defunc_0_radix_sort_step_i16_res_167609, defunc_0_radix_sort_step_i16_res_167610, write_iv_179673, write_iv_179674, write_iv_179675, write_iv_179676, write_iv_179677) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_177556) && slt64(defunc_0_f_res_177556, rest_167497)) {
                ((int32_t *) mem_180041)[defunc_0_f_res_177556] = write_iv_179678;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_177556) && slt64(defunc_0_f_res_177556, rest_167497)) {
                ((int64_t *) mem_180039)[defunc_0_f_res_177556] = write_iv_179679;
            }
        }
        ((int16_t *) mem_180054)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_167608;
        ((int16_t *) mem_180054)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_167609;
        ((int16_t *) mem_180054)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_167610;
        ((int16_t *) mem_180054)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_167611;
        for (int64_t i_179684 = 0; i_179684 < (int64_t) 4; i_179684++) {
            int16_t eta_p_167632 = ((int16_t *) mem_180054)[i_179684];
            int64_t i16_res_167633 = sext_i16_i64(eta_p_167632);
            
            ((int64_t *) mem_180055)[i_179684] = i16_res_167633;
        }
        
        int16_t tmp_167634 = add16(defunc_0_radix_sort_step_i16_res_167608, defunc_0_radix_sort_step_i16_res_167609);
        int16_t tmp_167635 = add16(defunc_0_radix_sort_step_i16_res_167610, tmp_167634);
        
        ((int16_t *) mem_180062)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_180062)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_167608;
        ((int16_t *) mem_180062)[(int64_t) 2] = tmp_167634;
        ((int16_t *) mem_180062)[(int64_t) 3] = tmp_167635;
        for (int64_t i_179734 = 0; i_179734 < n_blocks_167496; i_179734++) {
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180065, i_179734 * i16_res_167492, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_179989, (int64_t) 0 + i_179734 * ((int64_t) 1 * i16_res_167492), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_167492});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180068, i_179734 * i16_res_167492, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_179991, (int64_t) 0 + i_179734 * ((int64_t) 1 * i16_res_167492), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_167492});
            
            int64_t binop_x_179886 = i16_res_167492 * i_179734;
            int16_t discard_179706;
            int16_t discard_179707;
            int16_t discard_179708;
            int16_t discard_179709;
            int16_t scanacc_179691;
            int16_t scanacc_179692;
            int16_t scanacc_179693;
            int16_t scanacc_179694;
            
            scanacc_179691 = (int16_t) 0;
            scanacc_179692 = (int16_t) 0;
            scanacc_179693 = (int16_t) 0;
            scanacc_179694 = (int16_t) 0;
            for (int64_t i_179700 = 0; i_179700 < i16_res_167492; i_179700++) {
                int64_t new_index_179887 = i_179700 + binop_x_179886;
                int32_t eta_p_177619 = ((int32_t *) mem_179989)[new_index_179887];
                int32_t zgzg_res_177620 = ashr32(eta_p_177619, get_bit_arg0_167565);
                int32_t za_res_177621 = 1 & zgzg_res_177620;
                int32_t defunc_0_get_bit_res_177622;
                
                if (cond_167566) {
                    int32_t defunc_0_get_bit_res_t_res_177692 = 1 ^ za_res_177621;
                    
                    defunc_0_get_bit_res_177622 = defunc_0_get_bit_res_t_res_177692;
                } else {
                    defunc_0_get_bit_res_177622 = za_res_177621;
                }
                
                int32_t zp_lhs_177624 = mul32(2, defunc_0_get_bit_res_177622);
                int32_t zgzg_res_177625 = ashr32(eta_p_177619, blocked_radix_sort_step_arg1_167560);
                int32_t za_res_177626 = 1 & zgzg_res_177625;
                int32_t defunc_0_get_bit_res_177627;
                
                if (cond_167567) {
                    int32_t defunc_0_get_bit_res_t_res_177693 = 1 ^ za_res_177626;
                    
                    defunc_0_get_bit_res_177627 = defunc_0_get_bit_res_t_res_177693;
                } else {
                    defunc_0_get_bit_res_177627 = za_res_177626;
                }
                
                int32_t i32_arg0_177629 = add32(zp_lhs_177624, defunc_0_get_bit_res_177627);
                int16_t i32_res_177630 = sext_i32_i16(i32_arg0_177629);
                int16_t defunc_0_f_res_177632;
                int16_t defunc_0_f_res_177633;
                int16_t defunc_0_f_res_177634;
                int16_t defunc_0_f_res_177635;
                
                if (futrts_lifted_lambda_8993(ctx, &defunc_0_f_res_177632, &defunc_0_f_res_177633, &defunc_0_f_res_177634, &defunc_0_f_res_177635, i32_res_177630) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_167685 = add16(defunc_0_f_res_177632, scanacc_179691);
                int16_t defunc_0_op_res_167686 = add16(defunc_0_f_res_177633, scanacc_179692);
                int16_t defunc_0_op_res_167687 = add16(defunc_0_f_res_177634, scanacc_179693);
                int16_t defunc_0_op_res_167688 = add16(defunc_0_f_res_177635, scanacc_179694);
                
                ((int16_t *) mem_180096)[i_179700] = defunc_0_op_res_167685;
                ((int16_t *) mem_180098)[i_179700] = defunc_0_op_res_167686;
                ((int16_t *) mem_180100)[i_179700] = defunc_0_op_res_167687;
                ((int16_t *) mem_180102)[i_179700] = defunc_0_op_res_167688;
                ((int16_t *) mem_180104)[i_179700] = i32_res_177630;
                
                int16_t scanacc_tmp_181422 = defunc_0_op_res_167685;
                int16_t scanacc_tmp_181423 = defunc_0_op_res_167686;
                int16_t scanacc_tmp_181424 = defunc_0_op_res_167687;
                int16_t scanacc_tmp_181425 = defunc_0_op_res_167688;
                
                scanacc_179691 = scanacc_tmp_181422;
                scanacc_179692 = scanacc_tmp_181423;
                scanacc_179693 = scanacc_tmp_181424;
                scanacc_179694 = scanacc_tmp_181425;
            }
            discard_179706 = scanacc_179691;
            discard_179707 = scanacc_179692;
            discard_179708 = scanacc_179693;
            discard_179709 = scanacc_179694;
            
            int16_t defunc_0_f_res_167689;
            int16_t defunc_0_f_res_167690;
            int16_t defunc_0_f_res_167691;
            int16_t defunc_0_f_res_167692;
            
            if (zzero_167493) {
                defunc_0_f_res_167689 = (int16_t) 0;
                defunc_0_f_res_167690 = (int16_t) 0;
                defunc_0_f_res_167691 = (int16_t) 0;
                defunc_0_f_res_167692 = (int16_t) 0;
            } else {
                int16_t last_res_167693 = ((int16_t *) mem_180096)[tmp_167535];
                int16_t last_res_167694 = ((int16_t *) mem_180098)[tmp_167535];
                int16_t last_res_167695 = ((int16_t *) mem_180100)[tmp_167535];
                int16_t last_res_167696 = ((int16_t *) mem_180102)[tmp_167535];
                
                defunc_0_f_res_167689 = last_res_167693;
                defunc_0_f_res_167690 = last_res_167694;
                defunc_0_f_res_167691 = last_res_167695;
                defunc_0_f_res_167692 = last_res_167696;
            }
            for (int64_t write_iter_179710 = 0; write_iter_179710 < i16_res_167492; write_iter_179710++) {
                int16_t write_iv_179713 = ((int16_t *) mem_180104)[write_iter_179710];
                int16_t write_iv_179714 = ((int16_t *) mem_180096)[write_iter_179710];
                int16_t write_iv_179715 = ((int16_t *) mem_180098)[write_iter_179710];
                int16_t write_iv_179716 = ((int16_t *) mem_180100)[write_iter_179710];
                int16_t write_iv_179717 = ((int16_t *) mem_180102)[write_iter_179710];
                int64_t new_index_179883 = write_iter_179710 + binop_x_179886;
                int32_t write_iv_179718 = ((int32_t *) mem_179989)[new_index_179883];
                int64_t write_iv_179719 = ((int64_t *) mem_179991)[new_index_179883];
                int64_t defunc_0_f_res_177603;
                
                if (futrts_lifted_f_8994(ctx, &defunc_0_f_res_177603, defunc_0_f_res_167689, defunc_0_f_res_167690, defunc_0_f_res_167691, write_iv_179713, write_iv_179714, write_iv_179715, write_iv_179716, write_iv_179717) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_177603) && slt64(defunc_0_f_res_177603, i16_res_167492)) {
                    ((int32_t *) mem_180065)[i_179734 * i16_res_167492 + defunc_0_f_res_177603] = write_iv_179718;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_177603) && slt64(defunc_0_f_res_177603, i16_res_167492)) {
                    ((int64_t *) mem_180068)[i_179734 * i16_res_167492 + defunc_0_f_res_177603] = write_iv_179719;
                }
            }
            ((int16_t *) mem_180147)[(int64_t) 0] = defunc_0_f_res_167689;
            ((int16_t *) mem_180147)[(int64_t) 1] = defunc_0_f_res_167690;
            ((int16_t *) mem_180147)[(int64_t) 2] = defunc_0_f_res_167691;
            ((int16_t *) mem_180147)[(int64_t) 3] = defunc_0_f_res_167692;
            for (int64_t i_179724 = 0; i_179724 < (int64_t) 4; i_179724++) {
                int16_t eta_p_167711 = ((int16_t *) mem_180147)[i_179724];
                int64_t i16_res_167712 = sext_i16_i64(eta_p_167711);
                
                ((int64_t *) mem_180148)[i_179724] = i16_res_167712;
            }
            
            int16_t tmp_167713 = add16(defunc_0_f_res_167689, defunc_0_f_res_167690);
            int16_t tmp_167714 = add16(defunc_0_f_res_167691, tmp_167713);
            
            ((int16_t *) mem_180074)[i_179734 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_180074)[i_179734 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_167689;
            ((int16_t *) mem_180074)[i_179734 * (int64_t) 4 + (int64_t) 2] = tmp_167713;
            ((int16_t *) mem_180074)[i_179734 * (int64_t) 4 + (int64_t) 3] = tmp_167714;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180071, i_179734 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180148, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_179746;
        int64_t scanacc_179742 = (int64_t) 0;
        
        for (int64_t i_179744 = 0; i_179744 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167507; i_179744++) {
            int64_t new_index_179861 = squot64(i_179744, dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506);
            int64_t binop_y_179863 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506 * new_index_179861;
            int64_t new_index_179864 = i_179744 - binop_y_179863;
            bool index_concat_cmp_179866 = sle64(n_blocks_167496, new_index_179864);
            int64_t index_concat_branch_179870;
            
            if (index_concat_cmp_179866) {
                int64_t index_concat_179868 = ((int64_t *) mem_180055)[new_index_179861];
                
                index_concat_branch_179870 = index_concat_179868;
            } else {
                int64_t index_concat_179869 = ((int64_t *) mem_180071)[new_index_179864 * (int64_t) 4 + new_index_179861];
                
                index_concat_branch_179870 = index_concat_179869;
            }
            
            int64_t defunc_0_op_res_167726 = add64(scanacc_179742, index_concat_branch_179870);
            
            ((int64_t *) mem_180173)[i_179744] = defunc_0_op_res_167726;
            
            int64_t scanacc_tmp_181434 = defunc_0_op_res_167726;
            
            scanacc_179742 = scanacc_tmp_181434;
        }
        discard_179746 = scanacc_179742;
        for (int64_t i_179749 = 0; i_179749 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167507; i_179749++) {
            int64_t zv_lhs_167729 = add64((int64_t) -1, i_179749);
            int64_t tmp_167730 = smod64(zv_lhs_167729, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167507);
            int64_t lifted_lambda_res_167731 = ((int64_t *) mem_180173)[tmp_167730];
            
            ((int64_t *) mem_180181)[i_179749] = lifted_lambda_res_167731;
        }
        ((int64_t *) mem_180181)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_179751 = 0; write_iter_179751 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499; write_iter_179751++) {
            bool index_concat_cmp_179852 = sle64(arg_167498, write_iter_179751);
            int32_t index_concat_branch_177507;
            
            if (index_concat_cmp_179852) {
                int64_t index_concat_i_177702 = sub64(write_iter_179751, arg_167498);
                int32_t index_concat_177703 = ((int32_t *) mem_180041)[index_concat_i_177702];
                
                index_concat_branch_177507 = index_concat_177703;
            } else {
                int64_t new_index_177510 = squot64(write_iter_179751, i16_res_167492);
                int64_t binop_y_177511 = i16_res_167492 * new_index_177510;
                int64_t new_index_177512 = write_iter_179751 - binop_y_177511;
                int32_t index_concat_177513 = ((int32_t *) mem_180065)[new_index_177510 * i16_res_167492 + new_index_177512];
                
                index_concat_branch_177507 = index_concat_177513;
            }
            
            int32_t zlzb_rhs_177514;
            int32_t acc_177516 = 0;
            
            for (int32_t i_177515 = 0; i_177515 < 2; i_177515++) {
                int32_t get_bit_arg0_177517 = add32(blocked_radix_sort_step_arg1_167560, i_177515);
                int32_t zgzg_res_177518 = ashr32(index_concat_branch_177507, get_bit_arg0_177517);
                int32_t za_res_177519 = 1 & zgzg_res_177518;
                bool cond_177520 = get_bit_arg0_177517 == 31;
                int32_t defunc_0_get_bit_res_177521;
                
                if (cond_177520) {
                    int32_t defunc_0_get_bit_res_t_res_177704 = 1 ^ za_res_177519;
                    
                    defunc_0_get_bit_res_177521 = defunc_0_get_bit_res_t_res_177704;
                } else {
                    defunc_0_get_bit_res_177521 = za_res_177519;
                }
                
                int32_t zp_rhs_177523 = shl32(defunc_0_get_bit_res_177521, i_177515);
                int32_t loopres_177524 = add32(acc_177516, zp_rhs_177523);
                int32_t acc_tmp_181439 = loopres_177524;
                
                acc_177516 = acc_tmp_181439;
            }
            zlzb_rhs_177514 = acc_177516;
            
            int64_t i32_res_177525 = sext_i32_i64(zlzb_rhs_177514);
            int64_t block_idx_177526 = sdiv64(write_iter_179751, i16_res_167492);
            bool x_177527 = sle64((int64_t) 0, block_idx_177526);
            bool y_177528 = slt64(block_idx_177526, dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506);
            bool bounds_check_177529 = x_177527 && y_177528;
            bool index_certs_177530;
            
            if (!bounds_check_177529) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_177526, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:140:93-96\n   #9  ftsort.fut:19:3-44\n   #10 ftsort.fut:18:1-19:44\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_177531 = sle64((int64_t) 0, i32_res_177525);
            bool y_177532 = slt64(i32_res_177525, (int64_t) 4);
            bool bounds_check_177533 = x_177531 && y_177532;
            bool index_certs_177534;
            
            if (!bounds_check_177533) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_177525, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:140:93-96\n   #9  ftsort.fut:19:3-44\n   #10 ftsort.fut:18:1-19:44\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t index_concat_branch_179856;
            
            if (index_concat_cmp_179852) {
                int64_t index_concat_i_179853 = sub64(write_iter_179751, arg_167498);
                int32_t index_concat_179854 = ((int32_t *) mem_180041)[index_concat_i_179853];
                
                index_concat_branch_179856 = index_concat_179854;
            } else {
                int64_t new_index_179878 = squot64(write_iter_179751, i16_res_167492);
                int64_t binop_y_179880 = i16_res_167492 * new_index_179878;
                int64_t new_index_179881 = write_iter_179751 - binop_y_179880;
                int32_t index_concat_179855 = ((int32_t *) mem_180065)[new_index_179878 * i16_res_167492 + new_index_179881];
                
                index_concat_branch_179856 = index_concat_179855;
            }
            
            int64_t index_concat_branch_179850;
            
            if (index_concat_cmp_179852) {
                int64_t index_concat_i_179847 = sub64(write_iter_179751, arg_167498);
                int64_t index_concat_179848 = ((int64_t *) mem_180039)[index_concat_i_179847];
                
                index_concat_branch_179850 = index_concat_179848;
            } else {
                int64_t new_index_179874 = squot64(write_iter_179751, i16_res_167492);
                int64_t binop_y_179876 = i16_res_167492 * new_index_179874;
                int64_t new_index_179877 = write_iter_179751 - binop_y_179876;
                int64_t index_concat_179849 = ((int64_t *) mem_180068)[new_index_179874 * i16_res_167492 + new_index_179877];
                
                index_concat_branch_179850 = index_concat_179849;
            }
            
            int64_t binop_x_177535 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506 * i32_res_177525;
            int64_t new_index_177536 = block_idx_177526 + binop_x_177535;
            int64_t new_offset_177537 = ((int64_t *) mem_180181)[new_index_177536];
            bool index_concat_cmp_177538 = sle64(n_blocks_167496, block_idx_177526);
            int16_t index_concat_branch_177539;
            
            if (index_concat_cmp_177538) {
                int16_t index_concat_177705 = ((int16_t *) mem_180062)[i32_res_177525];
                
                index_concat_branch_177539 = index_concat_177705;
            } else {
                int16_t index_concat_177541 = ((int16_t *) mem_180074)[block_idx_177526 * (int64_t) 4 + i32_res_177525];
                
                index_concat_branch_177539 = index_concat_177541;
            }
            
            int64_t i16_res_177542 = sext_i16_i64(index_concat_branch_177539);
            int64_t zp_lhs_177543 = mul64(i16_res_167492, block_idx_177526);
            int64_t old_offset_177544 = add64(i16_res_177542, zp_lhs_177543);
            int64_t zp_lhs_177545 = sub64(write_iter_179751, old_offset_177544);
            int64_t idx_177546 = add64(new_offset_177537, zp_lhs_177545);
            
            if (sle64((int64_t) 0, idx_177546) && slt64(idx_177546, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499)) {
                ((int32_t *) mem_179989)[idx_177546] = index_concat_branch_179856;
            }
            if (sle64((int64_t) 0, idx_177546) && slt64(idx_177546, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499)) {
                ((int64_t *) mem_179991)[idx_177546] = index_concat_branch_179850;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_180207, bytes_180206, "mem_180207")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180209, bytes_180208, "mem_180209")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_179763 = 0; i_179763 < n_87628; i_179763++) {
        int64_t eta_p_167791 = ((int64_t *) mem_179991)[i_179763];
        bool x_167792 = sle64((int64_t) 0, eta_p_167791);
        bool y_167793 = slt64(eta_p_167791, n_87628);
        bool bounds_check_167794 = x_167792 && y_167793;
        bool index_certs_167795;
        
        if (!bounds_check_167794) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_167791, "] out of bounds for array of shape [", (long long) n_87628, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:140:93-96\n   #5  ftsort.fut:19:3-44\n   #6  ftsort.fut:18:1-19:44\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_167796 = ((int64_t *) ext_mem_179987.mem)[eta_p_167791];
        int32_t lifted_lambda_res_167797 = ((int32_t *) xs_mem_179986.mem)[eta_p_167791];
        
        ((int64_t *) mem_180207.mem)[i_179763] = lifted_lambda_res_167796;
        ((int32_t *) mem_180209.mem)[i_179763] = lifted_lambda_res_167797;
    }
    if (memblock_unref(ctx, &ext_mem_179987, "ext_mem_179987") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181400, &mem_180207, "mem_180207") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181401, &mem_180209, "mem_180209") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182053, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182054, &mem_out_181401, "mem_out_181401") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_179989);
        free(mem_179991);
        free(mem_179999);
        free(mem_180001);
        free(mem_180003);
        free(mem_180005);
        free(mem_180007);
        free(mem_180039);
        free(mem_180041);
        free(mem_180054);
        free(mem_180055);
        free(mem_180062);
        free(mem_180065);
        free(mem_180068);
        free(mem_180071);
        free(mem_180074);
        free(mem_180096);
        free(mem_180098);
        free(mem_180100);
        free(mem_180102);
        free(mem_180104);
        free(mem_180147);
        free(mem_180148);
        free(mem_180173);
        free(mem_180181);
        if (memblock_unref(ctx, &mem_180209, "mem_180209") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180207, "mem_180207") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_179987, "ext_mem_179987") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181401, "mem_out_181401") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_182080, struct memblock *mem_out_p_182081, struct memblock xs_mem_179986, int64_t n_90228, int64_t incr_90229, int16_t block_sizze_90230)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_179989_cached_sizze_182082 = 0;
    unsigned char *mem_179989 = NULL;
    int64_t mem_179991_cached_sizze_182083 = 0;
    unsigned char *mem_179991 = NULL;
    int64_t mem_179999_cached_sizze_182084 = 0;
    unsigned char *mem_179999 = NULL;
    int64_t mem_180001_cached_sizze_182085 = 0;
    unsigned char *mem_180001 = NULL;
    int64_t mem_180003_cached_sizze_182086 = 0;
    unsigned char *mem_180003 = NULL;
    int64_t mem_180005_cached_sizze_182087 = 0;
    unsigned char *mem_180005 = NULL;
    int64_t mem_180007_cached_sizze_182088 = 0;
    unsigned char *mem_180007 = NULL;
    int64_t mem_180039_cached_sizze_182089 = 0;
    unsigned char *mem_180039 = NULL;
    int64_t mem_180041_cached_sizze_182090 = 0;
    unsigned char *mem_180041 = NULL;
    int64_t mem_180054_cached_sizze_182091 = 0;
    unsigned char *mem_180054 = NULL;
    int64_t mem_180055_cached_sizze_182092 = 0;
    unsigned char *mem_180055 = NULL;
    int64_t mem_180062_cached_sizze_182093 = 0;
    unsigned char *mem_180062 = NULL;
    int64_t mem_180065_cached_sizze_182094 = 0;
    unsigned char *mem_180065 = NULL;
    int64_t mem_180068_cached_sizze_182095 = 0;
    unsigned char *mem_180068 = NULL;
    int64_t mem_180071_cached_sizze_182096 = 0;
    unsigned char *mem_180071 = NULL;
    int64_t mem_180074_cached_sizze_182097 = 0;
    unsigned char *mem_180074 = NULL;
    int64_t mem_180096_cached_sizze_182098 = 0;
    unsigned char *mem_180096 = NULL;
    int64_t mem_180098_cached_sizze_182099 = 0;
    unsigned char *mem_180098 = NULL;
    int64_t mem_180100_cached_sizze_182100 = 0;
    unsigned char *mem_180100 = NULL;
    int64_t mem_180102_cached_sizze_182101 = 0;
    unsigned char *mem_180102 = NULL;
    int64_t mem_180104_cached_sizze_182102 = 0;
    unsigned char *mem_180104 = NULL;
    int64_t mem_180147_cached_sizze_182103 = 0;
    unsigned char *mem_180147 = NULL;
    int64_t mem_180148_cached_sizze_182104 = 0;
    unsigned char *mem_180148 = NULL;
    int64_t mem_180173_cached_sizze_182105 = 0;
    unsigned char *mem_180173 = NULL;
    int64_t mem_180181_cached_sizze_182106 = 0;
    unsigned char *mem_180181 = NULL;
    struct memblock mem_180209;
    
    mem_180209.references = NULL;
    
    struct memblock mem_180207;
    
    mem_180207.references = NULL;
    
    struct memblock ext_mem_179987;
    
    ext_mem_179987.references = NULL;
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    bool cond_167490 = n_90228 == (int64_t) 0;
    int32_t iters_167491;
    
    if (cond_167490) {
        iters_167491 = 0;
    } else {
        iters_167491 = 32;
    }
    
    int64_t i16_res_167492 = sext_i16_i64(block_sizze_90230);
    bool zzero_167493 = i16_res_167492 == (int64_t) 0;
    bool nonzzero_167494 = !zzero_167493;
    bool nonzzero_cert_167495;
    
    if (!nonzzero_167494) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:140:93-96\n   #5  ftsort.fut:22:3-45\n   #6  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_167496 = sdiv64(n_90228, i16_res_167492);
    int64_t rest_167497 = smod64(n_90228, i16_res_167492);
    int64_t arg_167498 = mul64(i16_res_167492, n_blocks_167496);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499 = add64(rest_167497, arg_167498);
    bool dim_match_167500 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499 == n_90228;
    bool empty_or_match_cert_167501;
    
    if (!dim_match_167500) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_90228, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499, "](i64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #5  ftbasics.fut:140:93-96\n   #6  ftsort.fut:22:3-45\n   #7  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_179988 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499;
    bool loop_nonempty_167505 = slt32(0, iters_167491);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506 = add64((int64_t) 1, n_blocks_167496);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167507 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506);
    bool empty_slice_167508 = arg_167498 == (int64_t) 0;
    int64_t m_167509 = sub64(arg_167498, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_167510 = sle64((int64_t) 0, m_167509);
    bool i_p_m_t_s_leq_w_167511 = slt64(m_167509, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499);
    bool i_lte_j_167512 = sle64((int64_t) 0, arg_167498);
    bool y_167513 = zzero_leq_i_p_m_t_s_167510 && i_p_m_t_s_leq_w_167511;
    bool forwards_ok_167514 = i_lte_j_167512 && y_167513;
    bool ok_or_empty_167515 = empty_slice_167508 || forwards_ok_167514;
    bool loop_not_taken_167516 = !loop_nonempty_167505;
    bool protect_assert_disj_167517 = ok_or_empty_167515 || loop_not_taken_167516;
    bool index_certs_167518;
    
    if (!protect_assert_disj_167517) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_167498, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:140:93-96\n   #7  ftsort.fut:22:3-45\n   #8  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_167519 = rest_167497 == (int64_t) 0;
    int64_t m_167520 = sub64(rest_167497, (int64_t) 1);
    int64_t i_p_m_t_s_167521 = add64(arg_167498, m_167520);
    bool zzero_leq_i_p_m_t_s_167522 = sle64((int64_t) 0, i_p_m_t_s_167521);
    bool i_p_m_t_s_leq_w_167523 = slt64(i_p_m_t_s_167521, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499);
    bool i_lte_j_167524 = sle64(arg_167498, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499);
    bool y_167525 = zzero_leq_i_p_m_t_s_167522 && i_p_m_t_s_leq_w_167523;
    bool forwards_ok_167526 = i_lte_j_167524 && y_167525;
    bool ok_or_empty_167527 = empty_slice_167519 || forwards_ok_167526;
    bool protect_assert_disj_167528 = loop_not_taken_167516 || ok_or_empty_167527;
    bool index_certs_167529;
    
    if (!protect_assert_disj_167528) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_167498, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:140:93-96\n   #7  ftsort.fut:22:3-45\n   #8  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_167530 = sle64((int64_t) 0, n_blocks_167496);
    bool binop_y_167531 = sle64((int64_t) 0, i16_res_167492);
    bool binop_y_167532 = binop_x_167530 && binop_y_167531;
    bool protect_assert_disj_167533 = loop_not_taken_167516 || binop_y_167532;
    bool dim_ok_cert_167534;
    
    if (!protect_assert_disj_167533) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_167498, "] to array of shape [", (long long) n_blocks_167496, "][", (long long) i16_res_167492, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:140:93-96\n   #7  ftsort.fut:22:3-45\n   #8  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_167535 = sub64(i16_res_167492, (int64_t) 1);
    bool x_167536 = sle64((int64_t) 0, tmp_167535);
    bool y_167537 = slt64(tmp_167535, i16_res_167492);
    bool bounds_check_167538 = x_167536 && y_167537;
    bool protect_assert_disj_167539 = zzero_167493 || bounds_check_167538;
    bool protect_assert_disj_167540 = loop_not_taken_167516 || protect_assert_disj_167539;
    bool index_certs_167541;
    
    if (!protect_assert_disj_167540) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_167535, "] out of bounds for array of shape [", (long long) i16_res_167492, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:140:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_167543 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167507);
    bool protect_assert_disj_167544 = loop_not_taken_167516 || y_167543;
    bool index_certs_167545;
    
    if (!protect_assert_disj_167544) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167507, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:140:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_167547 = nonzzero_167494 || loop_not_taken_167516;
    bool nonzzero_cert_167548;
    
    if (!protect_assert_disj_167547) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:140:93-96\n   #9  ftsort.fut:22:3-45\n   #10 ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_167549 = sle64((int64_t) 0, m_167520);
    bool y_167550 = slt64(m_167520, rest_167497);
    bool bounds_check_167551 = x_167549 && y_167550;
    bool protect_assert_disj_167552 = empty_slice_167519 || bounds_check_167551;
    bool protect_assert_disj_167553 = loop_not_taken_167516 || protect_assert_disj_167552;
    bool index_certs_167554;
    
    if (!protect_assert_disj_167553) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_167520, "] out of bounds for array of shape [", (long long) rest_167497, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:166:41-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:140:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_179998 = (int64_t) 2 * rest_167497;
    int64_t bytes_180038 = (int64_t) 8 * rest_167497;
    int64_t binop_x_180063 = (int64_t) 8 * n_blocks_167496;
    int64_t bytes_180064 = i16_res_167492 * binop_x_180063;
    int64_t bytes_180070 = (int64_t) 32 * n_blocks_167496;
    int64_t bytes_180095 = (int64_t) 2 * i16_res_167492;
    int64_t bytes_180172 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506;
    bool dim_match_167786 = n_90228 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499;
    bool empty_or_match_cert_167787;
    
    if (!dim_match_167786) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499, "] cannot match shape of type `[", (long long) n_90228, "](i64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:140:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180206 = (int64_t) 8 * n_90228;
    
    if (futrts_indicesWithIncrement_9294(ctx, &ext_mem_179987, xs_mem_179986, n_90228, incr_90229) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_179989_cached_sizze_182082 < bytes_179988) {
        err = lexical_realloc(ctx, &mem_179989, &mem_179989_cached_sizze_182082, bytes_179988);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_179989, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) xs_mem_179986.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499});
    if (mem_179991_cached_sizze_182083 < bytes_179988) {
        err = lexical_realloc(ctx, &mem_179991, &mem_179991_cached_sizze_182083, bytes_179988);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_181402 = 0; i_181402 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499; i_181402++) {
        int64_t x_181403 = (int64_t) 0 + i_181402 * (int64_t) 1;
        
        ((int64_t *) mem_179991)[i_181402] = x_181403;
    }
    if (mem_179999_cached_sizze_182084 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_179999, &mem_179999_cached_sizze_182084, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180001_cached_sizze_182085 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_180001, &mem_180001_cached_sizze_182085, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180003_cached_sizze_182086 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_180003, &mem_180003_cached_sizze_182086, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180005_cached_sizze_182087 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_180005, &mem_180005_cached_sizze_182087, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180007_cached_sizze_182088 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_180007, &mem_180007_cached_sizze_182088, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180039_cached_sizze_182089 < bytes_180038) {
        err = lexical_realloc(ctx, &mem_180039, &mem_180039_cached_sizze_182089, bytes_180038);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180041_cached_sizze_182090 < bytes_180038) {
        err = lexical_realloc(ctx, &mem_180041, &mem_180041_cached_sizze_182090, bytes_180038);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180054_cached_sizze_182091 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180054, &mem_180054_cached_sizze_182091, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180055_cached_sizze_182092 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180055, &mem_180055_cached_sizze_182092, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180062_cached_sizze_182093 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180062, &mem_180062_cached_sizze_182093, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180065_cached_sizze_182094 < bytes_180064) {
        err = lexical_realloc(ctx, &mem_180065, &mem_180065_cached_sizze_182094, bytes_180064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180068_cached_sizze_182095 < bytes_180064) {
        err = lexical_realloc(ctx, &mem_180068, &mem_180068_cached_sizze_182095, bytes_180064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180071_cached_sizze_182096 < bytes_180070) {
        err = lexical_realloc(ctx, &mem_180071, &mem_180071_cached_sizze_182096, bytes_180070);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180074_cached_sizze_182097 < binop_x_180063) {
        err = lexical_realloc(ctx, &mem_180074, &mem_180074_cached_sizze_182097, binop_x_180063);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180096_cached_sizze_182098 < bytes_180095) {
        err = lexical_realloc(ctx, &mem_180096, &mem_180096_cached_sizze_182098, bytes_180095);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180098_cached_sizze_182099 < bytes_180095) {
        err = lexical_realloc(ctx, &mem_180098, &mem_180098_cached_sizze_182099, bytes_180095);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180100_cached_sizze_182100 < bytes_180095) {
        err = lexical_realloc(ctx, &mem_180100, &mem_180100_cached_sizze_182100, bytes_180095);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180102_cached_sizze_182101 < bytes_180095) {
        err = lexical_realloc(ctx, &mem_180102, &mem_180102_cached_sizze_182101, bytes_180095);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180104_cached_sizze_182102 < bytes_180095) {
        err = lexical_realloc(ctx, &mem_180104, &mem_180104_cached_sizze_182102, bytes_180095);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180147_cached_sizze_182103 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180147, &mem_180147_cached_sizze_182103, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180148_cached_sizze_182104 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180148, &mem_180148_cached_sizze_182104, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180173_cached_sizze_182105 < bytes_180172) {
        err = lexical_realloc(ctx, &mem_180173, &mem_180173_cached_sizze_182105, bytes_180172);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180181_cached_sizze_182106 < bytes_180172) {
        err = lexical_realloc(ctx, &mem_180181, &mem_180181_cached_sizze_182106, bytes_180172);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_167557 = 0; i_167557 < iters_167491; i_167557++) {
        int32_t blocked_radix_sort_step_arg1_167560 = mul32(2, i_167557);
        int32_t get_bit_arg0_167565 = add32(1, blocked_radix_sort_step_arg1_167560);
        bool cond_167566 = get_bit_arg0_167565 == 63;
        bool cond_167567 = blocked_radix_sort_step_arg1_167560 == 63;
        int16_t discard_179666;
        int16_t discard_179667;
        int16_t discard_179668;
        int16_t discard_179669;
        int16_t scanacc_179651;
        int16_t scanacc_179652;
        int16_t scanacc_179653;
        int16_t scanacc_179654;
        
        scanacc_179651 = (int16_t) 0;
        scanacc_179652 = (int16_t) 0;
        scanacc_179653 = (int16_t) 0;
        scanacc_179654 = (int16_t) 0;
        for (int64_t i_179660 = 0; i_179660 < rest_167497; i_179660++) {
            int64_t slice_179873 = arg_167498 + i_179660;
            int64_t eta_p_177571 = ((int64_t *) mem_179989)[slice_179873];
            int32_t defunc_0_get_bit_res_177572;
            
            if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_177572, get_bit_arg0_167565, eta_p_177571) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_177573;
            
            if (cond_167566) {
                int32_t defunc_0_get_bit_res_t_res_177685 = 1 ^ defunc_0_get_bit_res_177572;
                
                defunc_0_get_bit_res_177573 = defunc_0_get_bit_res_t_res_177685;
            } else {
                defunc_0_get_bit_res_177573 = defunc_0_get_bit_res_177572;
            }
            
            int32_t zp_lhs_177575 = mul32(2, defunc_0_get_bit_res_177573);
            int32_t defunc_0_get_bit_res_177576;
            
            if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_177576, blocked_radix_sort_step_arg1_167560, eta_p_177571) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_177577;
            
            if (cond_167567) {
                int32_t defunc_0_get_bit_res_t_res_177686 = 1 ^ defunc_0_get_bit_res_177576;
                
                defunc_0_get_bit_res_177577 = defunc_0_get_bit_res_t_res_177686;
            } else {
                defunc_0_get_bit_res_177577 = defunc_0_get_bit_res_177576;
            }
            
            int32_t i32_arg0_177579 = add32(zp_lhs_177575, defunc_0_get_bit_res_177577);
            int16_t i32_res_177580 = sext_i32_i16(i32_arg0_177579);
            int16_t defunc_0_f_res_177582;
            int16_t defunc_0_f_res_177583;
            int16_t defunc_0_f_res_177584;
            int16_t defunc_0_f_res_177585;
            
            if (futrts_lifted_lambda_8993(ctx, &defunc_0_f_res_177582, &defunc_0_f_res_177583, &defunc_0_f_res_177584, &defunc_0_f_res_177585, i32_res_177580) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_167604 = add16(defunc_0_f_res_177582, scanacc_179651);
            int16_t defunc_0_op_res_167605 = add16(defunc_0_f_res_177583, scanacc_179652);
            int16_t defunc_0_op_res_167606 = add16(defunc_0_f_res_177584, scanacc_179653);
            int16_t defunc_0_op_res_167607 = add16(defunc_0_f_res_177585, scanacc_179654);
            
            ((int16_t *) mem_179999)[i_179660] = defunc_0_op_res_167604;
            ((int16_t *) mem_180001)[i_179660] = defunc_0_op_res_167605;
            ((int16_t *) mem_180003)[i_179660] = defunc_0_op_res_167606;
            ((int16_t *) mem_180005)[i_179660] = defunc_0_op_res_167607;
            ((int16_t *) mem_180007)[i_179660] = i32_res_177580;
            
            int16_t scanacc_tmp_181406 = defunc_0_op_res_167604;
            int16_t scanacc_tmp_181407 = defunc_0_op_res_167605;
            int16_t scanacc_tmp_181408 = defunc_0_op_res_167606;
            int16_t scanacc_tmp_181409 = defunc_0_op_res_167607;
            
            scanacc_179651 = scanacc_tmp_181406;
            scanacc_179652 = scanacc_tmp_181407;
            scanacc_179653 = scanacc_tmp_181408;
            scanacc_179654 = scanacc_tmp_181409;
        }
        discard_179666 = scanacc_179651;
        discard_179667 = scanacc_179652;
        discard_179668 = scanacc_179653;
        discard_179669 = scanacc_179654;
        
        int16_t defunc_0_radix_sort_step_i16_res_167608;
        int16_t defunc_0_radix_sort_step_i16_res_167609;
        int16_t defunc_0_radix_sort_step_i16_res_167610;
        int16_t defunc_0_radix_sort_step_i16_res_167611;
        
        if (empty_slice_167519) {
            defunc_0_radix_sort_step_i16_res_167608 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_167609 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_167610 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_167611 = (int16_t) 0;
        } else {
            int16_t last_res_167612 = ((int16_t *) mem_179999)[m_167520];
            int16_t last_res_167613 = ((int16_t *) mem_180001)[m_167520];
            int16_t last_res_167614 = ((int16_t *) mem_180003)[m_167520];
            int16_t last_res_167615 = ((int16_t *) mem_180005)[m_167520];
            
            defunc_0_radix_sort_step_i16_res_167608 = last_res_167612;
            defunc_0_radix_sort_step_i16_res_167609 = last_res_167613;
            defunc_0_radix_sort_step_i16_res_167610 = last_res_167614;
            defunc_0_radix_sort_step_i16_res_167611 = last_res_167615;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180039, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_179991, (int64_t) 0 + (int64_t) 1 * arg_167498, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_167497});
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180041, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_179989, (int64_t) 0 + (int64_t) 1 * arg_167498, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_167497});
        for (int64_t write_iter_179670 = 0; write_iter_179670 < rest_167497; write_iter_179670++) {
            int16_t write_iv_179673 = ((int16_t *) mem_180007)[write_iter_179670];
            int16_t write_iv_179674 = ((int16_t *) mem_179999)[write_iter_179670];
            int16_t write_iv_179675 = ((int16_t *) mem_180001)[write_iter_179670];
            int16_t write_iv_179676 = ((int16_t *) mem_180003)[write_iter_179670];
            int16_t write_iv_179677 = ((int16_t *) mem_180005)[write_iter_179670];
            int64_t slice_179872 = arg_167498 + write_iter_179670;
            int64_t write_iv_179678 = ((int64_t *) mem_179989)[slice_179872];
            int64_t write_iv_179679 = ((int64_t *) mem_179991)[slice_179872];
            int64_t defunc_0_f_res_177555;
            
            if (futrts_lifted_f_8994(ctx, &defunc_0_f_res_177555, defunc_0_radix_sort_step_i16_res_167608, defunc_0_radix_sort_step_i16_res_167609, defunc_0_radix_sort_step_i16_res_167610, write_iv_179673, write_iv_179674, write_iv_179675, write_iv_179676, write_iv_179677) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_177555) && slt64(defunc_0_f_res_177555, rest_167497)) {
                ((int64_t *) mem_180041)[defunc_0_f_res_177555] = write_iv_179678;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_177555) && slt64(defunc_0_f_res_177555, rest_167497)) {
                ((int64_t *) mem_180039)[defunc_0_f_res_177555] = write_iv_179679;
            }
        }
        ((int16_t *) mem_180054)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_167608;
        ((int16_t *) mem_180054)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_167609;
        ((int16_t *) mem_180054)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_167610;
        ((int16_t *) mem_180054)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_167611;
        for (int64_t i_179684 = 0; i_179684 < (int64_t) 4; i_179684++) {
            int16_t eta_p_167632 = ((int16_t *) mem_180054)[i_179684];
            int64_t i16_res_167633 = sext_i16_i64(eta_p_167632);
            
            ((int64_t *) mem_180055)[i_179684] = i16_res_167633;
        }
        
        int16_t tmp_167634 = add16(defunc_0_radix_sort_step_i16_res_167608, defunc_0_radix_sort_step_i16_res_167609);
        int16_t tmp_167635 = add16(defunc_0_radix_sort_step_i16_res_167610, tmp_167634);
        
        ((int16_t *) mem_180062)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_180062)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_167608;
        ((int16_t *) mem_180062)[(int64_t) 2] = tmp_167634;
        ((int16_t *) mem_180062)[(int64_t) 3] = tmp_167635;
        for (int64_t i_179734 = 0; i_179734 < n_blocks_167496; i_179734++) {
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180065, i_179734 * i16_res_167492, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_179989, (int64_t) 0 + i_179734 * ((int64_t) 1 * i16_res_167492), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_167492});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180068, i_179734 * i16_res_167492, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_179991, (int64_t) 0 + i_179734 * ((int64_t) 1 * i16_res_167492), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_167492});
            
            int64_t binop_x_179886 = i16_res_167492 * i_179734;
            int16_t discard_179706;
            int16_t discard_179707;
            int16_t discard_179708;
            int16_t discard_179709;
            int16_t scanacc_179691;
            int16_t scanacc_179692;
            int16_t scanacc_179693;
            int16_t scanacc_179694;
            
            scanacc_179691 = (int16_t) 0;
            scanacc_179692 = (int16_t) 0;
            scanacc_179693 = (int16_t) 0;
            scanacc_179694 = (int16_t) 0;
            for (int64_t i_179700 = 0; i_179700 < i16_res_167492; i_179700++) {
                int64_t new_index_179887 = i_179700 + binop_x_179886;
                int64_t eta_p_177616 = ((int64_t *) mem_179989)[new_index_179887];
                int32_t defunc_0_get_bit_res_177617;
                
                if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_177617, get_bit_arg0_167565, eta_p_177616) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_177618;
                
                if (cond_167566) {
                    int32_t defunc_0_get_bit_res_t_res_177687 = 1 ^ defunc_0_get_bit_res_177617;
                    
                    defunc_0_get_bit_res_177618 = defunc_0_get_bit_res_t_res_177687;
                } else {
                    defunc_0_get_bit_res_177618 = defunc_0_get_bit_res_177617;
                }
                
                int32_t zp_lhs_177620 = mul32(2, defunc_0_get_bit_res_177618);
                int32_t defunc_0_get_bit_res_177621;
                
                if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_177621, blocked_radix_sort_step_arg1_167560, eta_p_177616) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_177622;
                
                if (cond_167567) {
                    int32_t defunc_0_get_bit_res_t_res_177688 = 1 ^ defunc_0_get_bit_res_177621;
                    
                    defunc_0_get_bit_res_177622 = defunc_0_get_bit_res_t_res_177688;
                } else {
                    defunc_0_get_bit_res_177622 = defunc_0_get_bit_res_177621;
                }
                
                int32_t i32_arg0_177624 = add32(zp_lhs_177620, defunc_0_get_bit_res_177622);
                int16_t i32_res_177625 = sext_i32_i16(i32_arg0_177624);
                int16_t defunc_0_f_res_177627;
                int16_t defunc_0_f_res_177628;
                int16_t defunc_0_f_res_177629;
                int16_t defunc_0_f_res_177630;
                
                if (futrts_lifted_lambda_8993(ctx, &defunc_0_f_res_177627, &defunc_0_f_res_177628, &defunc_0_f_res_177629, &defunc_0_f_res_177630, i32_res_177625) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_167685 = add16(defunc_0_f_res_177627, scanacc_179691);
                int16_t defunc_0_op_res_167686 = add16(defunc_0_f_res_177628, scanacc_179692);
                int16_t defunc_0_op_res_167687 = add16(defunc_0_f_res_177629, scanacc_179693);
                int16_t defunc_0_op_res_167688 = add16(defunc_0_f_res_177630, scanacc_179694);
                
                ((int16_t *) mem_180096)[i_179700] = defunc_0_op_res_167685;
                ((int16_t *) mem_180098)[i_179700] = defunc_0_op_res_167686;
                ((int16_t *) mem_180100)[i_179700] = defunc_0_op_res_167687;
                ((int16_t *) mem_180102)[i_179700] = defunc_0_op_res_167688;
                ((int16_t *) mem_180104)[i_179700] = i32_res_177625;
                
                int16_t scanacc_tmp_181422 = defunc_0_op_res_167685;
                int16_t scanacc_tmp_181423 = defunc_0_op_res_167686;
                int16_t scanacc_tmp_181424 = defunc_0_op_res_167687;
                int16_t scanacc_tmp_181425 = defunc_0_op_res_167688;
                
                scanacc_179691 = scanacc_tmp_181422;
                scanacc_179692 = scanacc_tmp_181423;
                scanacc_179693 = scanacc_tmp_181424;
                scanacc_179694 = scanacc_tmp_181425;
            }
            discard_179706 = scanacc_179691;
            discard_179707 = scanacc_179692;
            discard_179708 = scanacc_179693;
            discard_179709 = scanacc_179694;
            
            int16_t defunc_0_f_res_167689;
            int16_t defunc_0_f_res_167690;
            int16_t defunc_0_f_res_167691;
            int16_t defunc_0_f_res_167692;
            
            if (zzero_167493) {
                defunc_0_f_res_167689 = (int16_t) 0;
                defunc_0_f_res_167690 = (int16_t) 0;
                defunc_0_f_res_167691 = (int16_t) 0;
                defunc_0_f_res_167692 = (int16_t) 0;
            } else {
                int16_t last_res_167693 = ((int16_t *) mem_180096)[tmp_167535];
                int16_t last_res_167694 = ((int16_t *) mem_180098)[tmp_167535];
                int16_t last_res_167695 = ((int16_t *) mem_180100)[tmp_167535];
                int16_t last_res_167696 = ((int16_t *) mem_180102)[tmp_167535];
                
                defunc_0_f_res_167689 = last_res_167693;
                defunc_0_f_res_167690 = last_res_167694;
                defunc_0_f_res_167691 = last_res_167695;
                defunc_0_f_res_167692 = last_res_167696;
            }
            for (int64_t write_iter_179710 = 0; write_iter_179710 < i16_res_167492; write_iter_179710++) {
                int16_t write_iv_179713 = ((int16_t *) mem_180104)[write_iter_179710];
                int16_t write_iv_179714 = ((int16_t *) mem_180096)[write_iter_179710];
                int16_t write_iv_179715 = ((int16_t *) mem_180098)[write_iter_179710];
                int16_t write_iv_179716 = ((int16_t *) mem_180100)[write_iter_179710];
                int16_t write_iv_179717 = ((int16_t *) mem_180102)[write_iter_179710];
                int64_t new_index_179883 = write_iter_179710 + binop_x_179886;
                int64_t write_iv_179718 = ((int64_t *) mem_179989)[new_index_179883];
                int64_t write_iv_179719 = ((int64_t *) mem_179991)[new_index_179883];
                int64_t defunc_0_f_res_177600;
                
                if (futrts_lifted_f_8994(ctx, &defunc_0_f_res_177600, defunc_0_f_res_167689, defunc_0_f_res_167690, defunc_0_f_res_167691, write_iv_179713, write_iv_179714, write_iv_179715, write_iv_179716, write_iv_179717) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_177600) && slt64(defunc_0_f_res_177600, i16_res_167492)) {
                    ((int64_t *) mem_180065)[i_179734 * i16_res_167492 + defunc_0_f_res_177600] = write_iv_179718;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_177600) && slt64(defunc_0_f_res_177600, i16_res_167492)) {
                    ((int64_t *) mem_180068)[i_179734 * i16_res_167492 + defunc_0_f_res_177600] = write_iv_179719;
                }
            }
            ((int16_t *) mem_180147)[(int64_t) 0] = defunc_0_f_res_167689;
            ((int16_t *) mem_180147)[(int64_t) 1] = defunc_0_f_res_167690;
            ((int16_t *) mem_180147)[(int64_t) 2] = defunc_0_f_res_167691;
            ((int16_t *) mem_180147)[(int64_t) 3] = defunc_0_f_res_167692;
            for (int64_t i_179724 = 0; i_179724 < (int64_t) 4; i_179724++) {
                int16_t eta_p_167711 = ((int16_t *) mem_180147)[i_179724];
                int64_t i16_res_167712 = sext_i16_i64(eta_p_167711);
                
                ((int64_t *) mem_180148)[i_179724] = i16_res_167712;
            }
            
            int16_t tmp_167713 = add16(defunc_0_f_res_167689, defunc_0_f_res_167690);
            int16_t tmp_167714 = add16(defunc_0_f_res_167691, tmp_167713);
            
            ((int16_t *) mem_180074)[i_179734 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_180074)[i_179734 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_167689;
            ((int16_t *) mem_180074)[i_179734 * (int64_t) 4 + (int64_t) 2] = tmp_167713;
            ((int16_t *) mem_180074)[i_179734 * (int64_t) 4 + (int64_t) 3] = tmp_167714;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180071, i_179734 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180148, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_179746;
        int64_t scanacc_179742 = (int64_t) 0;
        
        for (int64_t i_179744 = 0; i_179744 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167507; i_179744++) {
            int64_t new_index_179861 = squot64(i_179744, dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506);
            int64_t binop_y_179863 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506 * new_index_179861;
            int64_t new_index_179864 = i_179744 - binop_y_179863;
            bool index_concat_cmp_179866 = sle64(n_blocks_167496, new_index_179864);
            int64_t index_concat_branch_179870;
            
            if (index_concat_cmp_179866) {
                int64_t index_concat_179868 = ((int64_t *) mem_180055)[new_index_179861];
                
                index_concat_branch_179870 = index_concat_179868;
            } else {
                int64_t index_concat_179869 = ((int64_t *) mem_180071)[new_index_179864 * (int64_t) 4 + new_index_179861];
                
                index_concat_branch_179870 = index_concat_179869;
            }
            
            int64_t defunc_0_op_res_167726 = add64(scanacc_179742, index_concat_branch_179870);
            
            ((int64_t *) mem_180173)[i_179744] = defunc_0_op_res_167726;
            
            int64_t scanacc_tmp_181434 = defunc_0_op_res_167726;
            
            scanacc_179742 = scanacc_tmp_181434;
        }
        discard_179746 = scanacc_179742;
        for (int64_t i_179749 = 0; i_179749 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167507; i_179749++) {
            int64_t zv_lhs_167729 = add64((int64_t) -1, i_179749);
            int64_t tmp_167730 = smod64(zv_lhs_167729, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167507);
            int64_t lifted_lambda_res_167731 = ((int64_t *) mem_180173)[tmp_167730];
            
            ((int64_t *) mem_180181)[i_179749] = lifted_lambda_res_167731;
        }
        ((int64_t *) mem_180181)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_179751 = 0; write_iter_179751 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499; write_iter_179751++) {
            bool index_concat_cmp_179852 = sle64(arg_167498, write_iter_179751);
            int64_t index_concat_branch_177507;
            
            if (index_concat_cmp_179852) {
                int64_t index_concat_i_177697 = sub64(write_iter_179751, arg_167498);
                int64_t index_concat_177698 = ((int64_t *) mem_180041)[index_concat_i_177697];
                
                index_concat_branch_177507 = index_concat_177698;
            } else {
                int64_t new_index_177510 = squot64(write_iter_179751, i16_res_167492);
                int64_t binop_y_177511 = i16_res_167492 * new_index_177510;
                int64_t new_index_177512 = write_iter_179751 - binop_y_177511;
                int64_t index_concat_177513 = ((int64_t *) mem_180065)[new_index_177510 * i16_res_167492 + new_index_177512];
                
                index_concat_branch_177507 = index_concat_177513;
            }
            
            int32_t zlzb_rhs_177514;
            int32_t acc_177516 = 0;
            
            for (int32_t i_177515 = 0; i_177515 < 2; i_177515++) {
                int32_t get_bit_arg0_177517 = add32(blocked_radix_sort_step_arg1_167560, i_177515);
                int32_t defunc_0_get_bit_res_177518;
                
                if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_177518, get_bit_arg0_177517, index_concat_branch_177507) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                bool cond_177519 = get_bit_arg0_177517 == 63;
                int32_t defunc_0_get_bit_res_177520;
                
                if (cond_177519) {
                    int32_t defunc_0_get_bit_res_t_res_177699 = 1 ^ defunc_0_get_bit_res_177518;
                    
                    defunc_0_get_bit_res_177520 = defunc_0_get_bit_res_t_res_177699;
                } else {
                    defunc_0_get_bit_res_177520 = defunc_0_get_bit_res_177518;
                }
                
                int32_t zp_rhs_177522 = shl32(defunc_0_get_bit_res_177520, i_177515);
                int32_t loopres_177523 = add32(acc_177516, zp_rhs_177522);
                int32_t acc_tmp_181439 = loopres_177523;
                
                acc_177516 = acc_tmp_181439;
            }
            zlzb_rhs_177514 = acc_177516;
            
            int64_t i32_res_177524 = sext_i32_i64(zlzb_rhs_177514);
            int64_t block_idx_177525 = sdiv64(write_iter_179751, i16_res_167492);
            bool x_177526 = sle64((int64_t) 0, block_idx_177525);
            bool y_177527 = slt64(block_idx_177525, dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506);
            bool bounds_check_177528 = x_177526 && y_177527;
            bool index_certs_177529;
            
            if (!bounds_check_177528) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_177525, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:140:93-96\n   #9  ftsort.fut:22:3-45\n   #10 ftsort.fut:21:1-22:45\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_177530 = sle64((int64_t) 0, i32_res_177524);
            bool y_177531 = slt64(i32_res_177524, (int64_t) 4);
            bool bounds_check_177532 = x_177530 && y_177531;
            bool index_certs_177533;
            
            if (!bounds_check_177532) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_177524, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:140:93-96\n   #9  ftsort.fut:22:3-45\n   #10 ftsort.fut:21:1-22:45\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t index_concat_branch_179856;
            
            if (index_concat_cmp_179852) {
                int64_t index_concat_i_179853 = sub64(write_iter_179751, arg_167498);
                int64_t index_concat_179854 = ((int64_t *) mem_180041)[index_concat_i_179853];
                
                index_concat_branch_179856 = index_concat_179854;
            } else {
                int64_t new_index_179878 = squot64(write_iter_179751, i16_res_167492);
                int64_t binop_y_179880 = i16_res_167492 * new_index_179878;
                int64_t new_index_179881 = write_iter_179751 - binop_y_179880;
                int64_t index_concat_179855 = ((int64_t *) mem_180065)[new_index_179878 * i16_res_167492 + new_index_179881];
                
                index_concat_branch_179856 = index_concat_179855;
            }
            
            int64_t index_concat_branch_179850;
            
            if (index_concat_cmp_179852) {
                int64_t index_concat_i_179847 = sub64(write_iter_179751, arg_167498);
                int64_t index_concat_179848 = ((int64_t *) mem_180039)[index_concat_i_179847];
                
                index_concat_branch_179850 = index_concat_179848;
            } else {
                int64_t new_index_179874 = squot64(write_iter_179751, i16_res_167492);
                int64_t binop_y_179876 = i16_res_167492 * new_index_179874;
                int64_t new_index_179877 = write_iter_179751 - binop_y_179876;
                int64_t index_concat_179849 = ((int64_t *) mem_180068)[new_index_179874 * i16_res_167492 + new_index_179877];
                
                index_concat_branch_179850 = index_concat_179849;
            }
            
            int64_t binop_x_177534 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506 * i32_res_177524;
            int64_t new_index_177535 = block_idx_177525 + binop_x_177534;
            int64_t new_offset_177536 = ((int64_t *) mem_180181)[new_index_177535];
            bool index_concat_cmp_177537 = sle64(n_blocks_167496, block_idx_177525);
            int16_t index_concat_branch_177538;
            
            if (index_concat_cmp_177537) {
                int16_t index_concat_177700 = ((int16_t *) mem_180062)[i32_res_177524];
                
                index_concat_branch_177538 = index_concat_177700;
            } else {
                int16_t index_concat_177540 = ((int16_t *) mem_180074)[block_idx_177525 * (int64_t) 4 + i32_res_177524];
                
                index_concat_branch_177538 = index_concat_177540;
            }
            
            int64_t i16_res_177541 = sext_i16_i64(index_concat_branch_177538);
            int64_t zp_lhs_177542 = mul64(i16_res_167492, block_idx_177525);
            int64_t old_offset_177543 = add64(i16_res_177541, zp_lhs_177542);
            int64_t zp_lhs_177544 = sub64(write_iter_179751, old_offset_177543);
            int64_t idx_177545 = add64(new_offset_177536, zp_lhs_177544);
            
            if (sle64((int64_t) 0, idx_177545) && slt64(idx_177545, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499)) {
                ((int64_t *) mem_179989)[idx_177545] = index_concat_branch_179856;
            }
            if (sle64((int64_t) 0, idx_177545) && slt64(idx_177545, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499)) {
                ((int64_t *) mem_179991)[idx_177545] = index_concat_branch_179850;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_180207, bytes_180206, "mem_180207")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180209, bytes_180206, "mem_180209")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_179763 = 0; i_179763 < n_90228; i_179763++) {
        int64_t eta_p_167791 = ((int64_t *) mem_179991)[i_179763];
        bool x_167792 = sle64((int64_t) 0, eta_p_167791);
        bool y_167793 = slt64(eta_p_167791, n_90228);
        bool bounds_check_167794 = x_167792 && y_167793;
        bool index_certs_167795;
        
        if (!bounds_check_167794) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_167791, "] out of bounds for array of shape [", (long long) n_90228, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:140:93-96\n   #5  ftsort.fut:22:3-45\n   #6  ftsort.fut:21:1-22:45\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_167796 = ((int64_t *) ext_mem_179987.mem)[eta_p_167791];
        int64_t lifted_lambda_res_167797 = ((int64_t *) xs_mem_179986.mem)[eta_p_167791];
        
        ((int64_t *) mem_180207.mem)[i_179763] = lifted_lambda_res_167796;
        ((int64_t *) mem_180209.mem)[i_179763] = lifted_lambda_res_167797;
    }
    if (memblock_unref(ctx, &ext_mem_179987, "ext_mem_179987") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181400, &mem_180207, "mem_180207") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181401, &mem_180209, "mem_180209") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182080, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182081, &mem_out_181401, "mem_out_181401") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_179989);
        free(mem_179991);
        free(mem_179999);
        free(mem_180001);
        free(mem_180003);
        free(mem_180005);
        free(mem_180007);
        free(mem_180039);
        free(mem_180041);
        free(mem_180054);
        free(mem_180055);
        free(mem_180062);
        free(mem_180065);
        free(mem_180068);
        free(mem_180071);
        free(mem_180074);
        free(mem_180096);
        free(mem_180098);
        free(mem_180100);
        free(mem_180102);
        free(mem_180104);
        free(mem_180147);
        free(mem_180148);
        free(mem_180173);
        free(mem_180181);
        if (memblock_unref(ctx, &mem_180209, "mem_180209") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180207, "mem_180207") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_179987, "ext_mem_179987") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181401, "mem_out_181401") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_182107, struct memblock *mem_out_p_182108, struct memblock xs_mem_179986, int64_t n_85011, int64_t incr_85012, int16_t block_sizze_85013)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_179989_cached_sizze_182109 = 0;
    unsigned char *mem_179989 = NULL;
    int64_t mem_179991_cached_sizze_182110 = 0;
    unsigned char *mem_179991 = NULL;
    int64_t mem_179999_cached_sizze_182111 = 0;
    unsigned char *mem_179999 = NULL;
    int64_t mem_180001_cached_sizze_182112 = 0;
    unsigned char *mem_180001 = NULL;
    int64_t mem_180003_cached_sizze_182113 = 0;
    unsigned char *mem_180003 = NULL;
    int64_t mem_180005_cached_sizze_182114 = 0;
    unsigned char *mem_180005 = NULL;
    int64_t mem_180007_cached_sizze_182115 = 0;
    unsigned char *mem_180007 = NULL;
    int64_t mem_180039_cached_sizze_182116 = 0;
    unsigned char *mem_180039 = NULL;
    int64_t mem_180041_cached_sizze_182117 = 0;
    unsigned char *mem_180041 = NULL;
    int64_t mem_180054_cached_sizze_182118 = 0;
    unsigned char *mem_180054 = NULL;
    int64_t mem_180055_cached_sizze_182119 = 0;
    unsigned char *mem_180055 = NULL;
    int64_t mem_180062_cached_sizze_182120 = 0;
    unsigned char *mem_180062 = NULL;
    int64_t mem_180065_cached_sizze_182121 = 0;
    unsigned char *mem_180065 = NULL;
    int64_t mem_180068_cached_sizze_182122 = 0;
    unsigned char *mem_180068 = NULL;
    int64_t mem_180071_cached_sizze_182123 = 0;
    unsigned char *mem_180071 = NULL;
    int64_t mem_180074_cached_sizze_182124 = 0;
    unsigned char *mem_180074 = NULL;
    int64_t mem_180096_cached_sizze_182125 = 0;
    unsigned char *mem_180096 = NULL;
    int64_t mem_180098_cached_sizze_182126 = 0;
    unsigned char *mem_180098 = NULL;
    int64_t mem_180100_cached_sizze_182127 = 0;
    unsigned char *mem_180100 = NULL;
    int64_t mem_180102_cached_sizze_182128 = 0;
    unsigned char *mem_180102 = NULL;
    int64_t mem_180104_cached_sizze_182129 = 0;
    unsigned char *mem_180104 = NULL;
    int64_t mem_180147_cached_sizze_182130 = 0;
    unsigned char *mem_180147 = NULL;
    int64_t mem_180148_cached_sizze_182131 = 0;
    unsigned char *mem_180148 = NULL;
    int64_t mem_180173_cached_sizze_182132 = 0;
    unsigned char *mem_180173 = NULL;
    int64_t mem_180181_cached_sizze_182133 = 0;
    unsigned char *mem_180181 = NULL;
    struct memblock mem_180209;
    
    mem_180209.references = NULL;
    
    struct memblock mem_180207;
    
    mem_180207.references = NULL;
    
    struct memblock ext_mem_179987;
    
    ext_mem_179987.references = NULL;
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    bool cond_167490 = n_85011 == (int64_t) 0;
    int32_t iters_167491;
    
    if (cond_167490) {
        iters_167491 = 0;
    } else {
        iters_167491 = 8;
    }
    
    int64_t i16_res_167492 = sext_i16_i64(block_sizze_85013);
    bool zzero_167493 = i16_res_167492 == (int64_t) 0;
    bool nonzzero_167494 = !zzero_167493;
    bool nonzzero_cert_167495;
    
    if (!nonzzero_167494) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:140:93-96\n   #5  ftsort.fut:16:3-46\n   #6  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_167496 = sdiv64(n_85011, i16_res_167492);
    int64_t rest_167497 = smod64(n_85011, i16_res_167492);
    int64_t arg_167498 = mul64(i16_res_167492, n_blocks_167496);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499 = add64(rest_167497, arg_167498);
    bool dim_match_167500 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499 == n_85011;
    bool empty_or_match_cert_167501;
    
    if (!dim_match_167500) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_85011, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499, "](i16, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #5  ftbasics.fut:140:93-96\n   #6  ftsort.fut:16:3-46\n   #7  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_179988 = (int64_t) 2 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499;
    int64_t bytes_179990 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499;
    bool loop_nonempty_167505 = slt32(0, iters_167491);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506 = add64((int64_t) 1, n_blocks_167496);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167507 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506);
    bool empty_slice_167508 = arg_167498 == (int64_t) 0;
    int64_t m_167509 = sub64(arg_167498, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_167510 = sle64((int64_t) 0, m_167509);
    bool i_p_m_t_s_leq_w_167511 = slt64(m_167509, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499);
    bool i_lte_j_167512 = sle64((int64_t) 0, arg_167498);
    bool y_167513 = zzero_leq_i_p_m_t_s_167510 && i_p_m_t_s_leq_w_167511;
    bool forwards_ok_167514 = i_lte_j_167512 && y_167513;
    bool ok_or_empty_167515 = empty_slice_167508 || forwards_ok_167514;
    bool loop_not_taken_167516 = !loop_nonempty_167505;
    bool protect_assert_disj_167517 = ok_or_empty_167515 || loop_not_taken_167516;
    bool index_certs_167518;
    
    if (!protect_assert_disj_167517) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_167498, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:140:93-96\n   #7  ftsort.fut:16:3-46\n   #8  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_167519 = rest_167497 == (int64_t) 0;
    int64_t m_167520 = sub64(rest_167497, (int64_t) 1);
    int64_t i_p_m_t_s_167521 = add64(arg_167498, m_167520);
    bool zzero_leq_i_p_m_t_s_167522 = sle64((int64_t) 0, i_p_m_t_s_167521);
    bool i_p_m_t_s_leq_w_167523 = slt64(i_p_m_t_s_167521, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499);
    bool i_lte_j_167524 = sle64(arg_167498, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499);
    bool y_167525 = zzero_leq_i_p_m_t_s_167522 && i_p_m_t_s_leq_w_167523;
    bool forwards_ok_167526 = i_lte_j_167524 && y_167525;
    bool ok_or_empty_167527 = empty_slice_167519 || forwards_ok_167526;
    bool protect_assert_disj_167528 = loop_not_taken_167516 || ok_or_empty_167527;
    bool index_certs_167529;
    
    if (!protect_assert_disj_167528) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_167498, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:140:93-96\n   #7  ftsort.fut:16:3-46\n   #8  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_167530 = sle64((int64_t) 0, n_blocks_167496);
    bool binop_y_167531 = sle64((int64_t) 0, i16_res_167492);
    bool binop_y_167532 = binop_x_167530 && binop_y_167531;
    bool protect_assert_disj_167533 = loop_not_taken_167516 || binop_y_167532;
    bool dim_ok_cert_167534;
    
    if (!protect_assert_disj_167533) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_167498, "] to array of shape [", (long long) n_blocks_167496, "][", (long long) i16_res_167492, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:140:93-96\n   #7  ftsort.fut:16:3-46\n   #8  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_167535 = sub64(i16_res_167492, (int64_t) 1);
    bool x_167536 = sle64((int64_t) 0, tmp_167535);
    bool y_167537 = slt64(tmp_167535, i16_res_167492);
    bool bounds_check_167538 = x_167536 && y_167537;
    bool protect_assert_disj_167539 = zzero_167493 || bounds_check_167538;
    bool protect_assert_disj_167540 = loop_not_taken_167516 || protect_assert_disj_167539;
    bool index_certs_167541;
    
    if (!protect_assert_disj_167540) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_167535, "] out of bounds for array of shape [", (long long) i16_res_167492, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:140:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_167543 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167507);
    bool protect_assert_disj_167544 = loop_not_taken_167516 || y_167543;
    bool index_certs_167545;
    
    if (!protect_assert_disj_167544) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167507, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:140:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_167547 = nonzzero_167494 || loop_not_taken_167516;
    bool nonzzero_cert_167548;
    
    if (!protect_assert_disj_167547) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:140:93-96\n   #9  ftsort.fut:16:3-46\n   #10 ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_167549 = sle64((int64_t) 0, m_167520);
    bool y_167550 = slt64(m_167520, rest_167497);
    bool bounds_check_167551 = x_167549 && y_167550;
    bool protect_assert_disj_167552 = empty_slice_167519 || bounds_check_167551;
    bool protect_assert_disj_167553 = loop_not_taken_167516 || protect_assert_disj_167552;
    bool index_certs_167554;
    
    if (!protect_assert_disj_167553) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_167520, "] out of bounds for array of shape [", (long long) rest_167497, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:166:41-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:140:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_179998 = (int64_t) 2 * rest_167497;
    int64_t bytes_180038 = (int64_t) 8 * rest_167497;
    int64_t binop_x_180063 = (int64_t) 2 * n_blocks_167496;
    int64_t bytes_180064 = i16_res_167492 * binop_x_180063;
    int64_t binop_x_180066 = (int64_t) 8 * n_blocks_167496;
    int64_t bytes_180067 = i16_res_167492 * binop_x_180066;
    int64_t bytes_180070 = (int64_t) 32 * n_blocks_167496;
    int64_t bytes_180091 = (int64_t) 2 * i16_res_167492;
    int64_t bytes_180172 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506;
    bool dim_match_167786 = n_85011 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499;
    bool empty_or_match_cert_167787;
    
    if (!dim_match_167786) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499, "] cannot match shape of type `[", (long long) n_85011, "](i16, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:140:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180206 = (int64_t) 8 * n_85011;
    int64_t bytes_180208 = (int64_t) 2 * n_85011;
    
    if (futrts_indicesWithIncrement_9029(ctx, &ext_mem_179987, xs_mem_179986, n_85011, incr_85012) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_179989_cached_sizze_182109 < bytes_179988) {
        err = lexical_realloc(ctx, &mem_179989, &mem_179989_cached_sizze_182109, bytes_179988);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_179989, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint16_t *) xs_mem_179986.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499});
    if (mem_179991_cached_sizze_182110 < bytes_179990) {
        err = lexical_realloc(ctx, &mem_179991, &mem_179991_cached_sizze_182110, bytes_179990);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_181402 = 0; i_181402 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499; i_181402++) {
        int64_t x_181403 = (int64_t) 0 + i_181402 * (int64_t) 1;
        
        ((int64_t *) mem_179991)[i_181402] = x_181403;
    }
    if (mem_179999_cached_sizze_182111 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_179999, &mem_179999_cached_sizze_182111, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180001_cached_sizze_182112 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_180001, &mem_180001_cached_sizze_182112, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180003_cached_sizze_182113 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_180003, &mem_180003_cached_sizze_182113, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180005_cached_sizze_182114 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_180005, &mem_180005_cached_sizze_182114, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180007_cached_sizze_182115 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_180007, &mem_180007_cached_sizze_182115, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180039_cached_sizze_182116 < bytes_180038) {
        err = lexical_realloc(ctx, &mem_180039, &mem_180039_cached_sizze_182116, bytes_180038);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180041_cached_sizze_182117 < bytes_179998) {
        err = lexical_realloc(ctx, &mem_180041, &mem_180041_cached_sizze_182117, bytes_179998);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180054_cached_sizze_182118 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180054, &mem_180054_cached_sizze_182118, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180055_cached_sizze_182119 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180055, &mem_180055_cached_sizze_182119, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180062_cached_sizze_182120 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180062, &mem_180062_cached_sizze_182120, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180065_cached_sizze_182121 < bytes_180064) {
        err = lexical_realloc(ctx, &mem_180065, &mem_180065_cached_sizze_182121, bytes_180064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180068_cached_sizze_182122 < bytes_180067) {
        err = lexical_realloc(ctx, &mem_180068, &mem_180068_cached_sizze_182122, bytes_180067);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180071_cached_sizze_182123 < bytes_180070) {
        err = lexical_realloc(ctx, &mem_180071, &mem_180071_cached_sizze_182123, bytes_180070);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180074_cached_sizze_182124 < binop_x_180066) {
        err = lexical_realloc(ctx, &mem_180074, &mem_180074_cached_sizze_182124, binop_x_180066);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180096_cached_sizze_182125 < bytes_180091) {
        err = lexical_realloc(ctx, &mem_180096, &mem_180096_cached_sizze_182125, bytes_180091);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180098_cached_sizze_182126 < bytes_180091) {
        err = lexical_realloc(ctx, &mem_180098, &mem_180098_cached_sizze_182126, bytes_180091);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180100_cached_sizze_182127 < bytes_180091) {
        err = lexical_realloc(ctx, &mem_180100, &mem_180100_cached_sizze_182127, bytes_180091);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180102_cached_sizze_182128 < bytes_180091) {
        err = lexical_realloc(ctx, &mem_180102, &mem_180102_cached_sizze_182128, bytes_180091);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180104_cached_sizze_182129 < bytes_180091) {
        err = lexical_realloc(ctx, &mem_180104, &mem_180104_cached_sizze_182129, bytes_180091);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180147_cached_sizze_182130 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180147, &mem_180147_cached_sizze_182130, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180148_cached_sizze_182131 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180148, &mem_180148_cached_sizze_182131, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180173_cached_sizze_182132 < bytes_180172) {
        err = lexical_realloc(ctx, &mem_180173, &mem_180173_cached_sizze_182132, bytes_180172);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180181_cached_sizze_182133 < bytes_180172) {
        err = lexical_realloc(ctx, &mem_180181, &mem_180181_cached_sizze_182133, bytes_180172);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_167557 = 0; i_167557 < iters_167491; i_167557++) {
        int32_t blocked_radix_sort_step_arg1_167560 = mul32(2, i_167557);
        int32_t get_bit_arg0_167565 = add32(1, blocked_radix_sort_step_arg1_167560);
        bool cond_167566 = get_bit_arg0_167565 == 15;
        bool cond_167567 = blocked_radix_sort_step_arg1_167560 == 15;
        int16_t discard_179666;
        int16_t discard_179667;
        int16_t discard_179668;
        int16_t discard_179669;
        int16_t scanacc_179651;
        int16_t scanacc_179652;
        int16_t scanacc_179653;
        int16_t scanacc_179654;
        
        scanacc_179651 = (int16_t) 0;
        scanacc_179652 = (int16_t) 0;
        scanacc_179653 = (int16_t) 0;
        scanacc_179654 = (int16_t) 0;
        for (int64_t i_179660 = 0; i_179660 < rest_167497; i_179660++) {
            int64_t slice_179873 = arg_167498 + i_179660;
            int16_t eta_p_177571 = ((int16_t *) mem_179989)[slice_179873];
            int32_t defunc_0_get_bit_res_177572;
            
            if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_177572, get_bit_arg0_167565, eta_p_177571) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_177573;
            
            if (cond_167566) {
                int32_t defunc_0_get_bit_res_t_res_177685 = 1 ^ defunc_0_get_bit_res_177572;
                
                defunc_0_get_bit_res_177573 = defunc_0_get_bit_res_t_res_177685;
            } else {
                defunc_0_get_bit_res_177573 = defunc_0_get_bit_res_177572;
            }
            
            int32_t zp_lhs_177575 = mul32(2, defunc_0_get_bit_res_177573);
            int32_t defunc_0_get_bit_res_177576;
            
            if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_177576, blocked_radix_sort_step_arg1_167560, eta_p_177571) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_177577;
            
            if (cond_167567) {
                int32_t defunc_0_get_bit_res_t_res_177686 = 1 ^ defunc_0_get_bit_res_177576;
                
                defunc_0_get_bit_res_177577 = defunc_0_get_bit_res_t_res_177686;
            } else {
                defunc_0_get_bit_res_177577 = defunc_0_get_bit_res_177576;
            }
            
            int32_t i32_arg0_177579 = add32(zp_lhs_177575, defunc_0_get_bit_res_177577);
            int16_t i32_res_177580 = sext_i32_i16(i32_arg0_177579);
            int16_t defunc_0_f_res_177582;
            int16_t defunc_0_f_res_177583;
            int16_t defunc_0_f_res_177584;
            int16_t defunc_0_f_res_177585;
            
            if (futrts_lifted_lambda_8993(ctx, &defunc_0_f_res_177582, &defunc_0_f_res_177583, &defunc_0_f_res_177584, &defunc_0_f_res_177585, i32_res_177580) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_167604 = add16(defunc_0_f_res_177582, scanacc_179651);
            int16_t defunc_0_op_res_167605 = add16(defunc_0_f_res_177583, scanacc_179652);
            int16_t defunc_0_op_res_167606 = add16(defunc_0_f_res_177584, scanacc_179653);
            int16_t defunc_0_op_res_167607 = add16(defunc_0_f_res_177585, scanacc_179654);
            
            ((int16_t *) mem_179999)[i_179660] = defunc_0_op_res_167604;
            ((int16_t *) mem_180001)[i_179660] = defunc_0_op_res_167605;
            ((int16_t *) mem_180003)[i_179660] = defunc_0_op_res_167606;
            ((int16_t *) mem_180005)[i_179660] = defunc_0_op_res_167607;
            ((int16_t *) mem_180007)[i_179660] = i32_res_177580;
            
            int16_t scanacc_tmp_181406 = defunc_0_op_res_167604;
            int16_t scanacc_tmp_181407 = defunc_0_op_res_167605;
            int16_t scanacc_tmp_181408 = defunc_0_op_res_167606;
            int16_t scanacc_tmp_181409 = defunc_0_op_res_167607;
            
            scanacc_179651 = scanacc_tmp_181406;
            scanacc_179652 = scanacc_tmp_181407;
            scanacc_179653 = scanacc_tmp_181408;
            scanacc_179654 = scanacc_tmp_181409;
        }
        discard_179666 = scanacc_179651;
        discard_179667 = scanacc_179652;
        discard_179668 = scanacc_179653;
        discard_179669 = scanacc_179654;
        
        int16_t defunc_0_radix_sort_step_i16_res_167608;
        int16_t defunc_0_radix_sort_step_i16_res_167609;
        int16_t defunc_0_radix_sort_step_i16_res_167610;
        int16_t defunc_0_radix_sort_step_i16_res_167611;
        
        if (empty_slice_167519) {
            defunc_0_radix_sort_step_i16_res_167608 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_167609 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_167610 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_167611 = (int16_t) 0;
        } else {
            int16_t last_res_167612 = ((int16_t *) mem_179999)[m_167520];
            int16_t last_res_167613 = ((int16_t *) mem_180001)[m_167520];
            int16_t last_res_167614 = ((int16_t *) mem_180003)[m_167520];
            int16_t last_res_167615 = ((int16_t *) mem_180005)[m_167520];
            
            defunc_0_radix_sort_step_i16_res_167608 = last_res_167612;
            defunc_0_radix_sort_step_i16_res_167609 = last_res_167613;
            defunc_0_radix_sort_step_i16_res_167610 = last_res_167614;
            defunc_0_radix_sort_step_i16_res_167611 = last_res_167615;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180039, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_179991, (int64_t) 0 + (int64_t) 1 * arg_167498, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_167497});
        lmad_copy_2b(ctx, 1, (uint16_t *) mem_180041, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_179989, (int64_t) 0 + (int64_t) 1 * arg_167498, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_167497});
        for (int64_t write_iter_179670 = 0; write_iter_179670 < rest_167497; write_iter_179670++) {
            int16_t write_iv_179673 = ((int16_t *) mem_180007)[write_iter_179670];
            int16_t write_iv_179674 = ((int16_t *) mem_179999)[write_iter_179670];
            int16_t write_iv_179675 = ((int16_t *) mem_180001)[write_iter_179670];
            int16_t write_iv_179676 = ((int16_t *) mem_180003)[write_iter_179670];
            int16_t write_iv_179677 = ((int16_t *) mem_180005)[write_iter_179670];
            int64_t slice_179872 = arg_167498 + write_iter_179670;
            int16_t write_iv_179678 = ((int16_t *) mem_179989)[slice_179872];
            int64_t write_iv_179679 = ((int64_t *) mem_179991)[slice_179872];
            int64_t defunc_0_f_res_177555;
            
            if (futrts_lifted_f_8994(ctx, &defunc_0_f_res_177555, defunc_0_radix_sort_step_i16_res_167608, defunc_0_radix_sort_step_i16_res_167609, defunc_0_radix_sort_step_i16_res_167610, write_iv_179673, write_iv_179674, write_iv_179675, write_iv_179676, write_iv_179677) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_177555) && slt64(defunc_0_f_res_177555, rest_167497)) {
                ((int16_t *) mem_180041)[defunc_0_f_res_177555] = write_iv_179678;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_177555) && slt64(defunc_0_f_res_177555, rest_167497)) {
                ((int64_t *) mem_180039)[defunc_0_f_res_177555] = write_iv_179679;
            }
        }
        ((int16_t *) mem_180054)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_167608;
        ((int16_t *) mem_180054)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_167609;
        ((int16_t *) mem_180054)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_167610;
        ((int16_t *) mem_180054)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_167611;
        for (int64_t i_179684 = 0; i_179684 < (int64_t) 4; i_179684++) {
            int16_t eta_p_167632 = ((int16_t *) mem_180054)[i_179684];
            int64_t i16_res_167633 = sext_i16_i64(eta_p_167632);
            
            ((int64_t *) mem_180055)[i_179684] = i16_res_167633;
        }
        
        int16_t tmp_167634 = add16(defunc_0_radix_sort_step_i16_res_167608, defunc_0_radix_sort_step_i16_res_167609);
        int16_t tmp_167635 = add16(defunc_0_radix_sort_step_i16_res_167610, tmp_167634);
        
        ((int16_t *) mem_180062)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_180062)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_167608;
        ((int16_t *) mem_180062)[(int64_t) 2] = tmp_167634;
        ((int16_t *) mem_180062)[(int64_t) 3] = tmp_167635;
        for (int64_t i_179734 = 0; i_179734 < n_blocks_167496; i_179734++) {
            lmad_copy_2b(ctx, 1, (uint16_t *) mem_180065, i_179734 * i16_res_167492, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_179989, (int64_t) 0 + i_179734 * ((int64_t) 1 * i16_res_167492), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_167492});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180068, i_179734 * i16_res_167492, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_179991, (int64_t) 0 + i_179734 * ((int64_t) 1 * i16_res_167492), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_167492});
            
            int64_t binop_x_179886 = i16_res_167492 * i_179734;
            int16_t discard_179706;
            int16_t discard_179707;
            int16_t discard_179708;
            int16_t discard_179709;
            int16_t scanacc_179691;
            int16_t scanacc_179692;
            int16_t scanacc_179693;
            int16_t scanacc_179694;
            
            scanacc_179691 = (int16_t) 0;
            scanacc_179692 = (int16_t) 0;
            scanacc_179693 = (int16_t) 0;
            scanacc_179694 = (int16_t) 0;
            for (int64_t i_179700 = 0; i_179700 < i16_res_167492; i_179700++) {
                int64_t new_index_179887 = i_179700 + binop_x_179886;
                int16_t eta_p_177616 = ((int16_t *) mem_179989)[new_index_179887];
                int32_t defunc_0_get_bit_res_177617;
                
                if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_177617, get_bit_arg0_167565, eta_p_177616) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_177618;
                
                if (cond_167566) {
                    int32_t defunc_0_get_bit_res_t_res_177687 = 1 ^ defunc_0_get_bit_res_177617;
                    
                    defunc_0_get_bit_res_177618 = defunc_0_get_bit_res_t_res_177687;
                } else {
                    defunc_0_get_bit_res_177618 = defunc_0_get_bit_res_177617;
                }
                
                int32_t zp_lhs_177620 = mul32(2, defunc_0_get_bit_res_177618);
                int32_t defunc_0_get_bit_res_177621;
                
                if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_177621, blocked_radix_sort_step_arg1_167560, eta_p_177616) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_177622;
                
                if (cond_167567) {
                    int32_t defunc_0_get_bit_res_t_res_177688 = 1 ^ defunc_0_get_bit_res_177621;
                    
                    defunc_0_get_bit_res_177622 = defunc_0_get_bit_res_t_res_177688;
                } else {
                    defunc_0_get_bit_res_177622 = defunc_0_get_bit_res_177621;
                }
                
                int32_t i32_arg0_177624 = add32(zp_lhs_177620, defunc_0_get_bit_res_177622);
                int16_t i32_res_177625 = sext_i32_i16(i32_arg0_177624);
                int16_t defunc_0_f_res_177627;
                int16_t defunc_0_f_res_177628;
                int16_t defunc_0_f_res_177629;
                int16_t defunc_0_f_res_177630;
                
                if (futrts_lifted_lambda_8993(ctx, &defunc_0_f_res_177627, &defunc_0_f_res_177628, &defunc_0_f_res_177629, &defunc_0_f_res_177630, i32_res_177625) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_167685 = add16(defunc_0_f_res_177627, scanacc_179691);
                int16_t defunc_0_op_res_167686 = add16(defunc_0_f_res_177628, scanacc_179692);
                int16_t defunc_0_op_res_167687 = add16(defunc_0_f_res_177629, scanacc_179693);
                int16_t defunc_0_op_res_167688 = add16(defunc_0_f_res_177630, scanacc_179694);
                
                ((int16_t *) mem_180096)[i_179700] = defunc_0_op_res_167685;
                ((int16_t *) mem_180098)[i_179700] = defunc_0_op_res_167686;
                ((int16_t *) mem_180100)[i_179700] = defunc_0_op_res_167687;
                ((int16_t *) mem_180102)[i_179700] = defunc_0_op_res_167688;
                ((int16_t *) mem_180104)[i_179700] = i32_res_177625;
                
                int16_t scanacc_tmp_181422 = defunc_0_op_res_167685;
                int16_t scanacc_tmp_181423 = defunc_0_op_res_167686;
                int16_t scanacc_tmp_181424 = defunc_0_op_res_167687;
                int16_t scanacc_tmp_181425 = defunc_0_op_res_167688;
                
                scanacc_179691 = scanacc_tmp_181422;
                scanacc_179692 = scanacc_tmp_181423;
                scanacc_179693 = scanacc_tmp_181424;
                scanacc_179694 = scanacc_tmp_181425;
            }
            discard_179706 = scanacc_179691;
            discard_179707 = scanacc_179692;
            discard_179708 = scanacc_179693;
            discard_179709 = scanacc_179694;
            
            int16_t defunc_0_f_res_167689;
            int16_t defunc_0_f_res_167690;
            int16_t defunc_0_f_res_167691;
            int16_t defunc_0_f_res_167692;
            
            if (zzero_167493) {
                defunc_0_f_res_167689 = (int16_t) 0;
                defunc_0_f_res_167690 = (int16_t) 0;
                defunc_0_f_res_167691 = (int16_t) 0;
                defunc_0_f_res_167692 = (int16_t) 0;
            } else {
                int16_t last_res_167693 = ((int16_t *) mem_180096)[tmp_167535];
                int16_t last_res_167694 = ((int16_t *) mem_180098)[tmp_167535];
                int16_t last_res_167695 = ((int16_t *) mem_180100)[tmp_167535];
                int16_t last_res_167696 = ((int16_t *) mem_180102)[tmp_167535];
                
                defunc_0_f_res_167689 = last_res_167693;
                defunc_0_f_res_167690 = last_res_167694;
                defunc_0_f_res_167691 = last_res_167695;
                defunc_0_f_res_167692 = last_res_167696;
            }
            for (int64_t write_iter_179710 = 0; write_iter_179710 < i16_res_167492; write_iter_179710++) {
                int16_t write_iv_179713 = ((int16_t *) mem_180104)[write_iter_179710];
                int16_t write_iv_179714 = ((int16_t *) mem_180096)[write_iter_179710];
                int16_t write_iv_179715 = ((int16_t *) mem_180098)[write_iter_179710];
                int16_t write_iv_179716 = ((int16_t *) mem_180100)[write_iter_179710];
                int16_t write_iv_179717 = ((int16_t *) mem_180102)[write_iter_179710];
                int64_t new_index_179883 = write_iter_179710 + binop_x_179886;
                int16_t write_iv_179718 = ((int16_t *) mem_179989)[new_index_179883];
                int64_t write_iv_179719 = ((int64_t *) mem_179991)[new_index_179883];
                int64_t defunc_0_f_res_177600;
                
                if (futrts_lifted_f_8994(ctx, &defunc_0_f_res_177600, defunc_0_f_res_167689, defunc_0_f_res_167690, defunc_0_f_res_167691, write_iv_179713, write_iv_179714, write_iv_179715, write_iv_179716, write_iv_179717) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_177600) && slt64(defunc_0_f_res_177600, i16_res_167492)) {
                    ((int16_t *) mem_180065)[i_179734 * i16_res_167492 + defunc_0_f_res_177600] = write_iv_179718;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_177600) && slt64(defunc_0_f_res_177600, i16_res_167492)) {
                    ((int64_t *) mem_180068)[i_179734 * i16_res_167492 + defunc_0_f_res_177600] = write_iv_179719;
                }
            }
            ((int16_t *) mem_180147)[(int64_t) 0] = defunc_0_f_res_167689;
            ((int16_t *) mem_180147)[(int64_t) 1] = defunc_0_f_res_167690;
            ((int16_t *) mem_180147)[(int64_t) 2] = defunc_0_f_res_167691;
            ((int16_t *) mem_180147)[(int64_t) 3] = defunc_0_f_res_167692;
            for (int64_t i_179724 = 0; i_179724 < (int64_t) 4; i_179724++) {
                int16_t eta_p_167711 = ((int16_t *) mem_180147)[i_179724];
                int64_t i16_res_167712 = sext_i16_i64(eta_p_167711);
                
                ((int64_t *) mem_180148)[i_179724] = i16_res_167712;
            }
            
            int16_t tmp_167713 = add16(defunc_0_f_res_167689, defunc_0_f_res_167690);
            int16_t tmp_167714 = add16(defunc_0_f_res_167691, tmp_167713);
            
            ((int16_t *) mem_180074)[i_179734 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_180074)[i_179734 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_167689;
            ((int16_t *) mem_180074)[i_179734 * (int64_t) 4 + (int64_t) 2] = tmp_167713;
            ((int16_t *) mem_180074)[i_179734 * (int64_t) 4 + (int64_t) 3] = tmp_167714;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180071, i_179734 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180148, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_179746;
        int64_t scanacc_179742 = (int64_t) 0;
        
        for (int64_t i_179744 = 0; i_179744 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167507; i_179744++) {
            int64_t new_index_179861 = squot64(i_179744, dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506);
            int64_t binop_y_179863 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506 * new_index_179861;
            int64_t new_index_179864 = i_179744 - binop_y_179863;
            bool index_concat_cmp_179866 = sle64(n_blocks_167496, new_index_179864);
            int64_t index_concat_branch_179870;
            
            if (index_concat_cmp_179866) {
                int64_t index_concat_179868 = ((int64_t *) mem_180055)[new_index_179861];
                
                index_concat_branch_179870 = index_concat_179868;
            } else {
                int64_t index_concat_179869 = ((int64_t *) mem_180071)[new_index_179864 * (int64_t) 4 + new_index_179861];
                
                index_concat_branch_179870 = index_concat_179869;
            }
            
            int64_t defunc_0_op_res_167726 = add64(scanacc_179742, index_concat_branch_179870);
            
            ((int64_t *) mem_180173)[i_179744] = defunc_0_op_res_167726;
            
            int64_t scanacc_tmp_181434 = defunc_0_op_res_167726;
            
            scanacc_179742 = scanacc_tmp_181434;
        }
        discard_179746 = scanacc_179742;
        for (int64_t i_179749 = 0; i_179749 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167507; i_179749++) {
            int64_t zv_lhs_167729 = add64((int64_t) -1, i_179749);
            int64_t tmp_167730 = smod64(zv_lhs_167729, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167507);
            int64_t lifted_lambda_res_167731 = ((int64_t *) mem_180173)[tmp_167730];
            
            ((int64_t *) mem_180181)[i_179749] = lifted_lambda_res_167731;
        }
        ((int64_t *) mem_180181)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_179751 = 0; write_iter_179751 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499; write_iter_179751++) {
            bool index_concat_cmp_179852 = sle64(arg_167498, write_iter_179751);
            int16_t index_concat_branch_177507;
            
            if (index_concat_cmp_179852) {
                int64_t index_concat_i_177697 = sub64(write_iter_179751, arg_167498);
                int16_t index_concat_177698 = ((int16_t *) mem_180041)[index_concat_i_177697];
                
                index_concat_branch_177507 = index_concat_177698;
            } else {
                int64_t new_index_177510 = squot64(write_iter_179751, i16_res_167492);
                int64_t binop_y_177511 = i16_res_167492 * new_index_177510;
                int64_t new_index_177512 = write_iter_179751 - binop_y_177511;
                int16_t index_concat_177513 = ((int16_t *) mem_180065)[new_index_177510 * i16_res_167492 + new_index_177512];
                
                index_concat_branch_177507 = index_concat_177513;
            }
            
            int32_t zlzb_rhs_177514;
            int32_t acc_177516 = 0;
            
            for (int32_t i_177515 = 0; i_177515 < 2; i_177515++) {
                int32_t get_bit_arg0_177517 = add32(blocked_radix_sort_step_arg1_167560, i_177515);
                int32_t defunc_0_get_bit_res_177518;
                
                if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_177518, get_bit_arg0_177517, index_concat_branch_177507) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                bool cond_177519 = get_bit_arg0_177517 == 15;
                int32_t defunc_0_get_bit_res_177520;
                
                if (cond_177519) {
                    int32_t defunc_0_get_bit_res_t_res_177699 = 1 ^ defunc_0_get_bit_res_177518;
                    
                    defunc_0_get_bit_res_177520 = defunc_0_get_bit_res_t_res_177699;
                } else {
                    defunc_0_get_bit_res_177520 = defunc_0_get_bit_res_177518;
                }
                
                int32_t zp_rhs_177522 = shl32(defunc_0_get_bit_res_177520, i_177515);
                int32_t loopres_177523 = add32(acc_177516, zp_rhs_177522);
                int32_t acc_tmp_181439 = loopres_177523;
                
                acc_177516 = acc_tmp_181439;
            }
            zlzb_rhs_177514 = acc_177516;
            
            int64_t i32_res_177524 = sext_i32_i64(zlzb_rhs_177514);
            int64_t block_idx_177525 = sdiv64(write_iter_179751, i16_res_167492);
            bool x_177526 = sle64((int64_t) 0, block_idx_177525);
            bool y_177527 = slt64(block_idx_177525, dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506);
            bool bounds_check_177528 = x_177526 && y_177527;
            bool index_certs_177529;
            
            if (!bounds_check_177528) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_177525, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:140:93-96\n   #9  ftsort.fut:16:3-46\n   #10 ftsort.fut:15:1-16:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_177530 = sle64((int64_t) 0, i32_res_177524);
            bool y_177531 = slt64(i32_res_177524, (int64_t) 4);
            bool bounds_check_177532 = x_177530 && y_177531;
            bool index_certs_177533;
            
            if (!bounds_check_177532) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_177524, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:140:93-96\n   #9  ftsort.fut:16:3-46\n   #10 ftsort.fut:15:1-16:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int16_t index_concat_branch_179856;
            
            if (index_concat_cmp_179852) {
                int64_t index_concat_i_179853 = sub64(write_iter_179751, arg_167498);
                int16_t index_concat_179854 = ((int16_t *) mem_180041)[index_concat_i_179853];
                
                index_concat_branch_179856 = index_concat_179854;
            } else {
                int64_t new_index_179878 = squot64(write_iter_179751, i16_res_167492);
                int64_t binop_y_179880 = i16_res_167492 * new_index_179878;
                int64_t new_index_179881 = write_iter_179751 - binop_y_179880;
                int16_t index_concat_179855 = ((int16_t *) mem_180065)[new_index_179878 * i16_res_167492 + new_index_179881];
                
                index_concat_branch_179856 = index_concat_179855;
            }
            
            int64_t index_concat_branch_179850;
            
            if (index_concat_cmp_179852) {
                int64_t index_concat_i_179847 = sub64(write_iter_179751, arg_167498);
                int64_t index_concat_179848 = ((int64_t *) mem_180039)[index_concat_i_179847];
                
                index_concat_branch_179850 = index_concat_179848;
            } else {
                int64_t new_index_179874 = squot64(write_iter_179751, i16_res_167492);
                int64_t binop_y_179876 = i16_res_167492 * new_index_179874;
                int64_t new_index_179877 = write_iter_179751 - binop_y_179876;
                int64_t index_concat_179849 = ((int64_t *) mem_180068)[new_index_179874 * i16_res_167492 + new_index_179877];
                
                index_concat_branch_179850 = index_concat_179849;
            }
            
            int64_t binop_x_177534 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_167506 * i32_res_177524;
            int64_t new_index_177535 = block_idx_177525 + binop_x_177534;
            int64_t new_offset_177536 = ((int64_t *) mem_180181)[new_index_177535];
            bool index_concat_cmp_177537 = sle64(n_blocks_167496, block_idx_177525);
            int16_t index_concat_branch_177538;
            
            if (index_concat_cmp_177537) {
                int16_t index_concat_177700 = ((int16_t *) mem_180062)[i32_res_177524];
                
                index_concat_branch_177538 = index_concat_177700;
            } else {
                int16_t index_concat_177540 = ((int16_t *) mem_180074)[block_idx_177525 * (int64_t) 4 + i32_res_177524];
                
                index_concat_branch_177538 = index_concat_177540;
            }
            
            int64_t i16_res_177541 = sext_i16_i64(index_concat_branch_177538);
            int64_t zp_lhs_177542 = mul64(i16_res_167492, block_idx_177525);
            int64_t old_offset_177543 = add64(i16_res_177541, zp_lhs_177542);
            int64_t zp_lhs_177544 = sub64(write_iter_179751, old_offset_177543);
            int64_t idx_177545 = add64(new_offset_177536, zp_lhs_177544);
            
            if (sle64((int64_t) 0, idx_177545) && slt64(idx_177545, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499)) {
                ((int16_t *) mem_179989)[idx_177545] = index_concat_branch_179856;
            }
            if (sle64((int64_t) 0, idx_177545) && slt64(idx_177545, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167499)) {
                ((int64_t *) mem_179991)[idx_177545] = index_concat_branch_179850;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_180207, bytes_180206, "mem_180207")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180209, bytes_180208, "mem_180209")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_179763 = 0; i_179763 < n_85011; i_179763++) {
        int64_t eta_p_167791 = ((int64_t *) mem_179991)[i_179763];
        bool x_167792 = sle64((int64_t) 0, eta_p_167791);
        bool y_167793 = slt64(eta_p_167791, n_85011);
        bool bounds_check_167794 = x_167792 && y_167793;
        bool index_certs_167795;
        
        if (!bounds_check_167794) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_167791, "] out of bounds for array of shape [", (long long) n_85011, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:140:93-96\n   #5  ftsort.fut:16:3-46\n   #6  ftsort.fut:15:1-16:46\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_167796 = ((int64_t *) ext_mem_179987.mem)[eta_p_167791];
        int16_t lifted_lambda_res_167797 = ((int16_t *) xs_mem_179986.mem)[eta_p_167791];
        
        ((int64_t *) mem_180207.mem)[i_179763] = lifted_lambda_res_167796;
        ((int16_t *) mem_180209.mem)[i_179763] = lifted_lambda_res_167797;
    }
    if (memblock_unref(ctx, &ext_mem_179987, "ext_mem_179987") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181400, &mem_180207, "mem_180207") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181401, &mem_180209, "mem_180209") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182107, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182108, &mem_out_181401, "mem_out_181401") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_179989);
        free(mem_179991);
        free(mem_179999);
        free(mem_180001);
        free(mem_180003);
        free(mem_180005);
        free(mem_180007);
        free(mem_180039);
        free(mem_180041);
        free(mem_180054);
        free(mem_180055);
        free(mem_180062);
        free(mem_180065);
        free(mem_180068);
        free(mem_180071);
        free(mem_180074);
        free(mem_180096);
        free(mem_180098);
        free(mem_180100);
        free(mem_180102);
        free(mem_180104);
        free(mem_180147);
        free(mem_180148);
        free(mem_180173);
        free(mem_180181);
        if (memblock_unref(ctx, &mem_180209, "mem_180209") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180207, "mem_180207") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_179987, "ext_mem_179987") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181401, "mem_out_181401") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_get_bit_1844(struct futhark_context *ctx, int32_t *out_prim_out_182134, int32_t bit_82859, int16_t x_82860)
{
    (void) ctx;
    
    int err = 0;
    int32_t prim_out_181400;
    int16_t i32_res_162265 = sext_i32_i16(bit_82859);
    int16_t zgzg_res_162268 = ashr16(x_82860, i32_res_162265);
    int16_t za_res_162273 = (int16_t) 1 & zgzg_res_162268;
    int32_t to_i32_res_162275 = sext_i16_i32(za_res_162273);
    
    prim_out_181400 = to_i32_res_162275;
    *out_prim_out_182134 = prim_out_181400;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_get_bit_2253(struct futhark_context *ctx, int32_t *out_prim_out_182135, int32_t bit_88076, int64_t x_88077)
{
    (void) ctx;
    
    int err = 0;
    int32_t prim_out_181400;
    int64_t i32_res_162265 = sext_i32_i64(bit_88076);
    int64_t zgzg_res_162268 = ashr64(x_88077, i32_res_162265);
    int64_t za_res_162273 = (int64_t) 1 & zgzg_res_162268;
    int32_t to_i32_res_162275 = sext_i64_i32(za_res_162273);
    
    prim_out_181400 = to_i32_res_162275;
    *out_prim_out_182135 = prim_out_181400;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_greatest_divisor_leq_than_4833(struct futhark_context *ctx, int64_t *out_prim_out_182136, int64_t upper_bound_95758, int64_t n_95759)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_181400;
    bool upper_bound_95760 = sle64((int64_t) 1, upper_bound_95758);
    bool assert_c_95762;
    
    if (!upper_bound_95760) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (upper_bound >= 1)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:189:21-58\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_95771 = slt64(upper_bound_95758, n_95759);
    bool d_95780;
    int64_t d_95781;
    bool loop_while_95782;
    int64_t d_95783;
    
    loop_while_95782 = cond_95771;
    d_95783 = (int64_t) 1;
    while (loop_while_95782) {
        int64_t loopres_95784 = add64((int64_t) 1, d_95783);
        bool zzero_95786 = loopres_95784 == (int64_t) 0;
        bool nonzzero_95787 = !zzero_95786;
        bool nonzzero_cert_95788;
        
        if (!nonzzero_95787) {
            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:190:36-38\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t zg_lhs_95789 = sdiv64(n_95759, loopres_95784);
        bool cond_95791 = slt64(upper_bound_95758, zg_lhs_95789);
        bool loop_cond_95792;
        
        if (cond_95791) {
            loop_cond_95792 = 1;
        } else {
            int64_t znze_lhs_95796 = smod64(n_95759, loopres_95784);
            bool loop_cond_f_res_95798 = znze_lhs_95796 == (int64_t) 0;
            bool loop_cond_f_res_95799 = !loop_cond_f_res_95798;
            
            loop_cond_95792 = loop_cond_f_res_95799;
        }
        
        bool loop_while_tmp_181401 = loop_cond_95792;
        int64_t d_tmp_181402 = loopres_95784;
        
        loop_while_95782 = loop_while_tmp_181401;
        d_95783 = d_tmp_181402;
    }
    d_95780 = loop_while_95782;
    d_95781 = d_95783;
    
    bool zzero_95801 = d_95781 == (int64_t) 0;
    bool nonzzero_95802 = !zzero_95801;
    bool nonzzero_cert_95803;
    
    if (!nonzzero_95802) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:191:7-9\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t greatest_divisor_leq_than_res_95804 = sdiv64(n_95759, d_95781);
    
    prim_out_181400 = greatest_divisor_leq_than_res_95804;
    *out_prim_out_182136 = prim_out_181400;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9029(struct futhark_context *ctx, struct memblock *mem_out_p_182137, struct memblock xs_mem_179986, int64_t n_82156, int64_t incr_82157)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_179988;
    
    mem_179988.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    int64_t rng_82162 = add64(n_82156, incr_82157);
    bool bounds_invalid_upwards_82166 = slt64(rng_82162, incr_82157);
    bool valid_82171 = !bounds_invalid_upwards_82166;
    bool range_valid_c_82172;
    
    if (!valid_82171) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_82157, "..<", (long long) rng_82162, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_179987 = (int64_t) 8 * n_82156;
    
    if (memblock_alloc(ctx, &mem_179988, bytes_179987, "mem_179988")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181401 = 0; i_181401 < n_82156; i_181401++) {
        int64_t x_181402 = incr_82157 + i_181401 * (int64_t) 1;
        
        ((int64_t *) mem_179988.mem)[i_181401] = x_181402;
    }
    if (memblock_set(ctx, &mem_out_181400, &mem_179988, "mem_179988") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182137, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_179988, "mem_179988") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9184(struct futhark_context *ctx, struct memblock *mem_out_p_182138, struct memblock xs_mem_179986, int64_t n_85036, int64_t incr_85037)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_179988;
    
    mem_179988.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    int64_t rng_85042 = add64(n_85036, incr_85037);
    bool bounds_invalid_upwards_85046 = slt64(rng_85042, incr_85037);
    bool valid_85051 = !bounds_invalid_upwards_85046;
    bool range_valid_c_85052;
    
    if (!valid_85051) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_85037, "..<", (long long) rng_85042, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_179987 = (int64_t) 8 * n_85036;
    
    if (memblock_alloc(ctx, &mem_179988, bytes_179987, "mem_179988")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181401 = 0; i_181401 < n_85036; i_181401++) {
        int64_t x_181402 = incr_85037 + i_181401 * (int64_t) 1;
        
        ((int64_t *) mem_179988.mem)[i_181401] = x_181402;
    }
    if (memblock_set(ctx, &mem_out_181400, &mem_179988, "mem_179988") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182138, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_179988, "mem_179988") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9294(struct futhark_context *ctx, struct memblock *mem_out_p_182139, struct memblock xs_mem_179986, int64_t n_87653, int64_t incr_87654)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_179988;
    
    mem_179988.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    int64_t rng_87659 = add64(n_87653, incr_87654);
    bool bounds_invalid_upwards_87663 = slt64(rng_87659, incr_87654);
    bool valid_87668 = !bounds_invalid_upwards_87663;
    bool range_valid_c_87669;
    
    if (!valid_87668) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_87654, "..<", (long long) rng_87659, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_179987 = (int64_t) 8 * n_87653;
    
    if (memblock_alloc(ctx, &mem_179988, bytes_179987, "mem_179988")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181401 = 0; i_181401 < n_87653; i_181401++) {
        int64_t x_181402 = incr_87654 + i_181401 * (int64_t) 1;
        
        ((int64_t *) mem_179988.mem)[i_181401] = x_181402;
    }
    if (memblock_set(ctx, &mem_out_181400, &mem_179988, "mem_179988") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182139, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_179988, "mem_179988") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9394(struct futhark_context *ctx, struct memblock *mem_out_p_182140, struct memblock xs_mem_179986, int64_t n_90253, int64_t incr_90254)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_179988;
    
    mem_179988.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    int64_t rng_90259 = add64(n_90253, incr_90254);
    bool bounds_invalid_upwards_90263 = slt64(rng_90259, incr_90254);
    bool valid_90268 = !bounds_invalid_upwards_90263;
    bool range_valid_c_90269;
    
    if (!valid_90268) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_90254, "..<", (long long) rng_90259, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_179987 = (int64_t) 8 * n_90253;
    
    if (memblock_alloc(ctx, &mem_179988, bytes_179987, "mem_179988")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181401 = 0; i_181401 < n_90253; i_181401++) {
        int64_t x_181402 = incr_90254 + i_181401 * (int64_t) 1;
        
        ((int64_t *) mem_179988.mem)[i_181401] = x_181402;
    }
    if (memblock_set(ctx, &mem_out_181400, &mem_179988, "mem_179988") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182140, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_179988, "mem_179988") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9503(struct futhark_context *ctx, struct memblock *mem_out_p_182141, struct memblock xs_mem_179986, int64_t n_93004, int64_t incr_93005)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_179988;
    
    mem_179988.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    int64_t rng_93010 = add64(n_93004, incr_93005);
    bool bounds_invalid_upwards_93014 = slt64(rng_93010, incr_93005);
    bool valid_93019 = !bounds_invalid_upwards_93014;
    bool range_valid_c_93020;
    
    if (!valid_93019) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_93005, "..<", (long long) rng_93010, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_179987 = (int64_t) 8 * n_93004;
    
    if (memblock_alloc(ctx, &mem_179988, bytes_179987, "mem_179988")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181401 = 0; i_181401 < n_93004; i_181401++) {
        int64_t x_181402 = incr_93005 + i_181401 * (int64_t) 1;
        
        ((int64_t *) mem_179988.mem)[i_181401] = x_181402;
    }
    if (memblock_set(ctx, &mem_out_181400, &mem_179988, "mem_179988") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182141, &mem_out_181400, "mem_out_181400") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_179988, "mem_179988") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181400, "mem_out_181400") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_f_8994(struct futhark_context *ctx, int64_t *out_prim_out_182142, int16_t na_82383, int16_t nb_82384, int16_t nc_82385, int16_t bin_82386, int16_t a_82387, int16_t b_82388, int16_t c_82389, int16_t d_82390)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_181400;
    bool bool_arg0_82391 = bin_82386 == (int16_t) 0;
    int16_t bool_res_162265 = btoi_bool_i16(bool_arg0_82391);
    int16_t zp_rhs_82395 = mul16(a_82387, bool_res_162265);
    int16_t zp_lhs_82398 = add16((int16_t) -1, zp_rhs_82395);
    bool bool_arg0_82400 = slt16((int16_t) 0, bin_82386);
    int16_t bool_res_162267 = btoi_bool_i16(bool_arg0_82400);
    int16_t zp_rhs_82404 = mul16(na_82383, bool_res_162267);
    int16_t zp_lhs_82406 = add16(zp_lhs_82398, zp_rhs_82404);
    bool bool_arg0_82408 = bin_82386 == (int16_t) 1;
    int16_t bool_res_162269 = btoi_bool_i16(bool_arg0_82408);
    int16_t zp_rhs_82412 = mul16(b_82388, bool_res_162269);
    int16_t zp_lhs_82414 = add16(zp_lhs_82406, zp_rhs_82412);
    bool bool_arg0_82416 = slt16((int16_t) 1, bin_82386);
    int16_t bool_res_162271 = btoi_bool_i16(bool_arg0_82416);
    int16_t zp_rhs_82420 = mul16(nb_82384, bool_res_162271);
    int16_t zp_lhs_82422 = add16(zp_lhs_82414, zp_rhs_82420);
    bool bool_arg0_82424 = bin_82386 == (int16_t) 2;
    int16_t bool_res_162273 = btoi_bool_i16(bool_arg0_82424);
    int16_t zp_rhs_82428 = mul16(c_82389, bool_res_162273);
    int16_t zp_lhs_82430 = add16(zp_lhs_82422, zp_rhs_82428);
    bool bool_arg0_82432 = slt16((int16_t) 2, bin_82386);
    int16_t bool_res_162275 = btoi_bool_i16(bool_arg0_82432);
    int16_t zp_rhs_82436 = mul16(nc_82385, bool_res_162275);
    int16_t zp_lhs_82438 = add16(zp_lhs_82430, zp_rhs_82436);
    bool bool_arg0_82440 = bin_82386 == (int16_t) 3;
    int16_t bool_res_162277 = btoi_bool_i16(bool_arg0_82440);
    int16_t zp_rhs_82444 = mul16(d_82390, bool_res_162277);
    int16_t i16_arg0_82446 = add16(zp_lhs_82438, zp_rhs_82444);
    int64_t i16_res_162279 = sext_i16_i64(i16_arg0_82446);
    
    prim_out_181400 = i16_res_162279;
    *out_prim_out_182142 = prim_out_181400;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_lambda_8993(struct futhark_context *ctx, int16_t *out_prim_out_182143, int16_t *out_prim_out_182144, int16_t *out_prim_out_182145, int16_t *out_prim_out_182146, int16_t x_82326)
{
    (void) ctx;
    
    int err = 0;
    int16_t prim_out_181400;
    int16_t prim_out_181401;
    int16_t prim_out_181402;
    int16_t prim_out_181403;
    bool bool_arg0_82327 = x_82326 == (int16_t) 0;
    int16_t bool_res_162265 = btoi_bool_i16(bool_arg0_82327);
    bool bool_arg0_82331 = x_82326 == (int16_t) 1;
    int16_t bool_res_162267 = btoi_bool_i16(bool_arg0_82331);
    bool bool_arg0_82335 = x_82326 == (int16_t) 2;
    int16_t bool_res_162269 = btoi_bool_i16(bool_arg0_82335);
    bool bool_arg0_82339 = x_82326 == (int16_t) 3;
    int16_t bool_res_162271 = btoi_bool_i16(bool_arg0_82339);
    
    prim_out_181400 = bool_res_162265;
    prim_out_181401 = bool_res_162267;
    prim_out_181402 = bool_res_162269;
    prim_out_181403 = bool_res_162271;
    *out_prim_out_182143 = prim_out_181400;
    *out_prim_out_182144 = prim_out_181401;
    *out_prim_out_182145 = prim_out_181402;
    *out_prim_out_182146 = prim_out_181403;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_normalizze_8970(struct futhark_context *ctx, int64_t *out_prim_out_182147, int64_t *out_prim_out_182148, int64_t *out_prim_out_182149, int64_t *out_prim_out_182150, int64_t *out_prim_out_182151, int64_t slo_95977, int64_t shi_95978, int64_t tlo_95979, int64_t thi_95980, int64_t count_95981)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_181400;
    int64_t prim_out_181401;
    int64_t prim_out_181402;
    int64_t prim_out_181403;
    int64_t prim_out_181404;
    int64_t min_arg1_95984 = add64(slo_95977, count_95981);
    int64_t min_res_162266 = smin64(shi_95978, min_arg1_95984);
    int64_t min_arg1_95988 = add64(tlo_95979, count_95981);
    int64_t min_res_162269 = smin64(thi_95980, min_arg1_95988);
    int64_t zp_lhs_95992 = sub64(min_res_162266, slo_95977);
    int64_t zp_rhs_95994 = sub64(min_res_162269, tlo_95979);
    int64_t zm_lhs_95996 = add64(zp_lhs_95992, zp_rhs_95994);
    int64_t slack_95998 = sub64(zm_lhs_95996, count_95981);
    int64_t min_res_162272 = smin64(zp_lhs_95992, slack_95998);
    int64_t min_res_162275 = smin64(zp_rhs_95994, min_res_162272);
    int64_t max_arg1_96008 = sub64(min_res_162266, min_res_162275);
    int64_t max_res_162278 = smax64(slo_95977, max_arg1_96008);
    int64_t max_arg1_96012 = sub64(min_res_162269, min_res_162275);
    int64_t max_res_162281 = smax64(tlo_95979, max_arg1_96012);
    int64_t zm_rhs_96016 = sub64(max_res_162278, slo_95977);
    int64_t zm_lhs_96018 = sub64(count_95981, zm_rhs_96016);
    int64_t zm_rhs_96020 = sub64(max_res_162281, tlo_95979);
    int64_t count_96022 = sub64(zm_lhs_96018, zm_rhs_96020);
    
    prim_out_181400 = max_res_162278;
    prim_out_181401 = min_res_162266;
    prim_out_181402 = max_res_162281;
    prim_out_181403 = min_res_162269;
    prim_out_181404 = count_96022;
    *out_prim_out_182147 = prim_out_181400;
    *out_prim_out_182148 = prim_out_181401;
    *out_prim_out_182149 = prim_out_181402;
    *out_prim_out_182150 = prim_out_181403;
    *out_prim_out_182151 = prim_out_181404;
    
  cleanup:
    { }
    return err;
}

int futhark_entry_argmin_double(struct futhark_context *ctx, int64_t *out0, const struct futhark_f64_1d *in0)
{
    int64_t n_109591 = (int64_t) 0;
    int64_t prim_out_181400 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_179986;
    
    ks_mem_179986.references = NULL;
    ks_mem_179986 = in0->mem;
    n_109591 = in0->shape[0];
    if (!(n_109591 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_double(ctx, &prim_out_181400, ks_mem_179986, n_109591);
        if (ret == 0) {
            *out0 = prim_out_181400;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_float(struct futhark_context *ctx, int64_t *out0, const struct futhark_f32_1d *in0)
{
    int64_t n_109422 = (int64_t) 0;
    int64_t prim_out_181400 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_179986;
    
    ks_mem_179986.references = NULL;
    ks_mem_179986 = in0->mem;
    n_109422 = in0->shape[0];
    if (!(n_109422 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_float(ctx, &prim_out_181400, ks_mem_179986, n_109422);
        if (ret == 0) {
            *out0 = prim_out_181400;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_int(struct futhark_context *ctx, int64_t *out0, const struct futhark_i32_1d *in0)
{
    int64_t n_109087 = (int64_t) 0;
    int64_t prim_out_181400 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_179986;
    
    ks_mem_179986.references = NULL;
    ks_mem_179986 = in0->mem;
    n_109087 = in0->shape[0];
    if (!(n_109087 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_int(ctx, &prim_out_181400, ks_mem_179986, n_109087);
        if (ret == 0) {
            *out0 = prim_out_181400;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_long(struct futhark_context *ctx, int64_t *out0, const struct futhark_i64_1d *in0)
{
    int64_t n_109253 = (int64_t) 0;
    int64_t prim_out_181400 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_179986;
    
    ks_mem_179986.references = NULL;
    ks_mem_179986 = in0->mem;
    n_109253 = in0->shape[0];
    if (!(n_109253 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_long(ctx, &prim_out_181400, ks_mem_179986, n_109253);
        if (ret == 0) {
            *out0 = prim_out_181400;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_short(struct futhark_context *ctx, int64_t *out0, const struct futhark_i16_1d *in0)
{
    int64_t n_108921 = (int64_t) 0;
    int64_t prim_out_181400 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_179986;
    
    ks_mem_179986.references = NULL;
    ks_mem_179986 = in0->mem;
    n_108921 = in0->shape[0];
    if (!(n_108921 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_short(ctx, &prim_out_181400, ks_mem_179986, n_108921);
        if (ret == 0) {
            *out0 = prim_out_181400;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const struct futhark_f64_1d *in1)
{
    int64_t n_107565 = (int64_t) 0;
    int64_t incr_107566 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    struct memblock xs_mem_179986;
    
    xs_mem_179986.references = NULL;
    incr_107566 = in0;
    xs_mem_179986 = in1->mem;
    n_107565 = in1->shape[0];
    if (!(n_107565 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_double(ctx, &mem_out_181400, &mem_out_181401, xs_mem_179986, n_107565, incr_107566);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_double *) malloc(sizeof(struct futhark_opaque_sortInfo_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181400;
            (*out0)->v0->shape[0] = n_107565;
            assert(((*out0)->v1 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181401;
            (*out0)->v1->shape[0] = n_107565;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const struct futhark_f32_1d *in1)
{
    int64_t n_105221 = (int64_t) 0;
    int64_t incr_105222 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    struct memblock xs_mem_179986;
    
    xs_mem_179986.references = NULL;
    incr_105222 = in0;
    xs_mem_179986 = in1->mem;
    n_105221 = in1->shape[0];
    if (!(n_105221 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_float(ctx, &mem_out_181400, &mem_out_181401, xs_mem_179986, n_105221, incr_105222);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_float *) malloc(sizeof(struct futhark_opaque_sortInfo_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181400;
            (*out0)->v0->shape[0] = n_105221;
            assert(((*out0)->v1 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181401;
            (*out0)->v1->shape[0] = n_105221;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const struct futhark_i32_1d *in1)
{
    int64_t n_100534 = (int64_t) 0;
    int64_t incr_100535 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    struct memblock xs_mem_179986;
    
    xs_mem_179986.references = NULL;
    incr_100535 = in0;
    xs_mem_179986 = in1->mem;
    n_100534 = in1->shape[0];
    if (!(n_100534 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_int(ctx, &mem_out_181400, &mem_out_181401, xs_mem_179986, n_100534, incr_100535);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_int *) malloc(sizeof(struct futhark_opaque_sortInfo_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181400;
            (*out0)->v0->shape[0] = n_100534;
            assert(((*out0)->v1 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181401;
            (*out0)->v1->shape[0] = n_100534;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const struct futhark_i64_1d *in1)
{
    int64_t n_102877 = (int64_t) 0;
    int64_t incr_102878 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    struct memblock xs_mem_179986;
    
    xs_mem_179986.references = NULL;
    incr_102878 = in0;
    xs_mem_179986 = in1->mem;
    n_102877 = in1->shape[0];
    if (!(n_102877 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_long(ctx, &mem_out_181400, &mem_out_181401, xs_mem_179986, n_102877, incr_102878);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_long *) malloc(sizeof(struct futhark_opaque_sortInfo_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181400;
            (*out0)->v0->shape[0] = n_102877;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181401;
            (*out0)->v1->shape[0] = n_102877;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const struct futhark_i16_1d *in1)
{
    int64_t n_98190 = (int64_t) 0;
    int64_t incr_98191 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    struct memblock xs_mem_179986;
    
    xs_mem_179986.references = NULL;
    incr_98191 = in0;
    xs_mem_179986 = in1->mem;
    n_98190 = in1->shape[0];
    if (!(n_98190 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_short(ctx, &mem_out_181400, &mem_out_181401, xs_mem_179986, n_98190, incr_98191);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_short *) malloc(sizeof(struct futhark_opaque_sortInfo_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181400;
            (*out0)->v0->shape[0] = n_98190;
            assert(((*out0)->v1 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181401;
            (*out0)->v1->shape[0] = n_98190;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out0, const int64_t in0, const int64_t in1, const struct futhark_f64_1d *in2, const struct futhark_f64_1d *in3, const bool in4)
{
    int64_t na_162230 = (int64_t) 0;
    int64_t nb_162231 = (int64_t) 0;
    int64_t window_sizze_162232 = (int64_t) 0;
    int64_t threads_162233 = (int64_t) 0;
    bool inParallel_162236 = 0;
    int64_t prim_out_181403 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181402;
    
    mem_out_181402.references = NULL;
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    struct memblock b_list_mem_179987;
    
    b_list_mem_179987.references = NULL;
    
    struct memblock a_list_mem_179986;
    
    a_list_mem_179986.references = NULL;
    window_sizze_162232 = in0;
    threads_162233 = in1;
    a_list_mem_179986 = in2->mem;
    na_162230 = in2->shape[0];
    b_list_mem_179987 = in3->mem;
    nb_162231 = in3->shape[0];
    inParallel_162236 = in4;
    if (!(na_162230 == in2->shape[0] && nb_162231 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_double(ctx, &mem_out_181400, &mem_out_181401, &mem_out_181402, &prim_out_181403, a_list_mem_179986, b_list_mem_179987, na_162230, nb_162231, window_sizze_162232, threads_162233, inParallel_162236);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_double *) malloc(sizeof(struct futhark_opaque_mergeInfo_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181400;
            (*out0)->v0->shape[0] = prim_out_181403;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181401;
            (*out0)->v1->shape[0] = prim_out_181403;
            assert(((*out0)->v2 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v2->mem = mem_out_181402;
            (*out0)->v2->shape[0] = prim_out_181403;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out0, const int64_t in0, const int64_t in1, const struct futhark_f32_1d *in2, const struct futhark_f32_1d *in3, const bool in4)
{
    int64_t na_151707 = (int64_t) 0;
    int64_t nb_151708 = (int64_t) 0;
    int64_t window_sizze_151709 = (int64_t) 0;
    int64_t threads_151710 = (int64_t) 0;
    bool inParallel_151713 = 0;
    int64_t prim_out_181403 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181402;
    
    mem_out_181402.references = NULL;
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    struct memblock b_list_mem_179987;
    
    b_list_mem_179987.references = NULL;
    
    struct memblock a_list_mem_179986;
    
    a_list_mem_179986.references = NULL;
    window_sizze_151709 = in0;
    threads_151710 = in1;
    a_list_mem_179986 = in2->mem;
    na_151707 = in2->shape[0];
    b_list_mem_179987 = in3->mem;
    nb_151708 = in3->shape[0];
    inParallel_151713 = in4;
    if (!(na_151707 == in2->shape[0] && nb_151708 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_float(ctx, &mem_out_181400, &mem_out_181401, &mem_out_181402, &prim_out_181403, a_list_mem_179986, b_list_mem_179987, na_151707, nb_151708, window_sizze_151709, threads_151710, inParallel_151713);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_float *) malloc(sizeof(struct futhark_opaque_mergeInfo_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181400;
            (*out0)->v0->shape[0] = prim_out_181403;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181401;
            (*out0)->v1->shape[0] = prim_out_181403;
            assert(((*out0)->v2 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v2->mem = mem_out_181402;
            (*out0)->v2->shape[0] = prim_out_181403;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out0, const int64_t in0, const int64_t in1, const struct futhark_i32_1d *in2, const struct futhark_i32_1d *in3, const bool in4)
{
    int64_t na_130661 = (int64_t) 0;
    int64_t nb_130662 = (int64_t) 0;
    int64_t window_sizze_130663 = (int64_t) 0;
    int64_t threads_130664 = (int64_t) 0;
    bool inParallel_130667 = 0;
    int64_t prim_out_181403 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181402;
    
    mem_out_181402.references = NULL;
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    struct memblock b_list_mem_179987;
    
    b_list_mem_179987.references = NULL;
    
    struct memblock a_list_mem_179986;
    
    a_list_mem_179986.references = NULL;
    window_sizze_130663 = in0;
    threads_130664 = in1;
    a_list_mem_179986 = in2->mem;
    na_130661 = in2->shape[0];
    b_list_mem_179987 = in3->mem;
    nb_130662 = in3->shape[0];
    inParallel_130667 = in4;
    if (!(na_130661 == in2->shape[0] && nb_130662 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_int(ctx, &mem_out_181400, &mem_out_181401, &mem_out_181402, &prim_out_181403, a_list_mem_179986, b_list_mem_179987, na_130661, nb_130662, window_sizze_130663, threads_130664, inParallel_130667);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_int *) malloc(sizeof(struct futhark_opaque_mergeInfo_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181400;
            (*out0)->v0->shape[0] = prim_out_181403;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181401;
            (*out0)->v1->shape[0] = prim_out_181403;
            assert(((*out0)->v2 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v2->mem = mem_out_181402;
            (*out0)->v2->shape[0] = prim_out_181403;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3, const bool in4)
{
    int64_t na_141184 = (int64_t) 0;
    int64_t nb_141185 = (int64_t) 0;
    int64_t window_sizze_141186 = (int64_t) 0;
    int64_t threads_141187 = (int64_t) 0;
    bool inParallel_141190 = 0;
    int64_t prim_out_181403 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181402;
    
    mem_out_181402.references = NULL;
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    struct memblock b_list_mem_179987;
    
    b_list_mem_179987.references = NULL;
    
    struct memblock a_list_mem_179986;
    
    a_list_mem_179986.references = NULL;
    window_sizze_141186 = in0;
    threads_141187 = in1;
    a_list_mem_179986 = in2->mem;
    na_141184 = in2->shape[0];
    b_list_mem_179987 = in3->mem;
    nb_141185 = in3->shape[0];
    inParallel_141190 = in4;
    if (!(na_141184 == in2->shape[0] && nb_141185 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_long(ctx, &mem_out_181400, &mem_out_181401, &mem_out_181402, &prim_out_181403, a_list_mem_179986, b_list_mem_179987, na_141184, nb_141185, window_sizze_141186, threads_141187, inParallel_141190);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_long *) malloc(sizeof(struct futhark_opaque_mergeInfo_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181400;
            (*out0)->v0->shape[0] = prim_out_181403;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181401;
            (*out0)->v1->shape[0] = prim_out_181403;
            assert(((*out0)->v2 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v2->mem = mem_out_181402;
            (*out0)->v2->shape[0] = prim_out_181403;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out0, const int64_t in0, const int64_t in1, const struct futhark_i16_1d *in2, const struct futhark_i16_1d *in3, const bool in4)
{
    int64_t na_120138 = (int64_t) 0;
    int64_t nb_120139 = (int64_t) 0;
    int64_t window_sizze_120140 = (int64_t) 0;
    int64_t threads_120141 = (int64_t) 0;
    bool inParallel_120144 = 0;
    int64_t prim_out_181403 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181402;
    
    mem_out_181402.references = NULL;
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    struct memblock b_list_mem_179987;
    
    b_list_mem_179987.references = NULL;
    
    struct memblock a_list_mem_179986;
    
    a_list_mem_179986.references = NULL;
    window_sizze_120140 = in0;
    threads_120141 = in1;
    a_list_mem_179986 = in2->mem;
    na_120138 = in2->shape[0];
    b_list_mem_179987 = in3->mem;
    nb_120139 = in3->shape[0];
    inParallel_120144 = in4;
    if (!(na_120138 == in2->shape[0] && nb_120139 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_short(ctx, &mem_out_181400, &mem_out_181401, &mem_out_181402, &prim_out_181403, a_list_mem_179986, b_list_mem_179987, na_120138, nb_120139, window_sizze_120140, threads_120141, inParallel_120144);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_short *) malloc(sizeof(struct futhark_opaque_mergeInfo_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181400;
            (*out0)->v0->shape[0] = prim_out_181403;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181401;
            (*out0)->v1->shape[0] = prim_out_181403;
            assert(((*out0)->v2 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v2->mem = mem_out_181402;
            (*out0)->v2->shape[0] = prim_out_181403;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_double(struct futhark_context *ctx, struct futhark_f64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f64_1d *in3)
{
    int64_t n_108752 = (int64_t) 0;
    int64_t incr_108753 = (int64_t) 0;
    int64_t block_sizze_108754 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    struct memblock ys_mem_179987;
    
    ys_mem_179987.references = NULL;
    
    struct memblock is_mem_179986;
    
    is_mem_179986.references = NULL;
    incr_108753 = in0;
    block_sizze_108754 = in1;
    is_mem_179986 = in2->mem;
    n_108752 = in2->shape[0];
    ys_mem_179987 = in3->mem;
    n_108752 = in3->shape[0];
    if (!(n_108752 == in2->shape[0] && n_108752 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_double(ctx, &mem_out_181400, is_mem_179986, ys_mem_179987, n_108752, incr_108753, block_sizze_108754);
        if (ret == 0) {
            assert((*out0 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->mem = mem_out_181400;
            (*out0)->shape[0] = n_108752;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_float(struct futhark_context *ctx, struct futhark_f32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f32_1d *in3)
{
    int64_t n_108516 = (int64_t) 0;
    int64_t incr_108517 = (int64_t) 0;
    int64_t block_sizze_108518 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    struct memblock ys_mem_179987;
    
    ys_mem_179987.references = NULL;
    
    struct memblock is_mem_179986;
    
    is_mem_179986.references = NULL;
    incr_108517 = in0;
    block_sizze_108518 = in1;
    is_mem_179986 = in2->mem;
    n_108516 = in2->shape[0];
    ys_mem_179987 = in3->mem;
    n_108516 = in3->shape[0];
    if (!(n_108516 == in2->shape[0] && n_108516 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_float(ctx, &mem_out_181400, is_mem_179986, ys_mem_179987, n_108516, incr_108517, block_sizze_108518);
        if (ret == 0) {
            assert((*out0 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->mem = mem_out_181400;
            (*out0)->shape[0] = n_108516;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_int(struct futhark_context *ctx, struct futhark_i32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i32_1d *in3)
{
    int64_t n_108048 = (int64_t) 0;
    int64_t incr_108049 = (int64_t) 0;
    int64_t block_sizze_108050 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    struct memblock ys_mem_179987;
    
    ys_mem_179987.references = NULL;
    
    struct memblock is_mem_179986;
    
    is_mem_179986.references = NULL;
    incr_108049 = in0;
    block_sizze_108050 = in1;
    is_mem_179986 = in2->mem;
    n_108048 = in2->shape[0];
    ys_mem_179987 = in3->mem;
    n_108048 = in3->shape[0];
    if (!(n_108048 == in2->shape[0] && n_108048 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_int(ctx, &mem_out_181400, is_mem_179986, ys_mem_179987, n_108048, incr_108049, block_sizze_108050);
        if (ret == 0) {
            assert((*out0 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->mem = mem_out_181400;
            (*out0)->shape[0] = n_108048;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_long(struct futhark_context *ctx, struct futhark_i64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3)
{
    int64_t n_108280 = (int64_t) 0;
    int64_t incr_108281 = (int64_t) 0;
    int64_t block_sizze_108282 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    struct memblock ys_mem_179987;
    
    ys_mem_179987.references = NULL;
    
    struct memblock is_mem_179986;
    
    is_mem_179986.references = NULL;
    incr_108281 = in0;
    block_sizze_108282 = in1;
    is_mem_179986 = in2->mem;
    n_108280 = in2->shape[0];
    ys_mem_179987 = in3->mem;
    n_108280 = in3->shape[0];
    if (!(n_108280 == in2->shape[0] && n_108280 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_long(ctx, &mem_out_181400, is_mem_179986, ys_mem_179987, n_108280, incr_108281, block_sizze_108282);
        if (ret == 0) {
            assert((*out0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->mem = mem_out_181400;
            (*out0)->shape[0] = n_108280;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_short(struct futhark_context *ctx, struct futhark_i16_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i16_1d *in3)
{
    int64_t n_107812 = (int64_t) 0;
    int64_t incr_107813 = (int64_t) 0;
    int64_t block_sizze_107814 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    struct memblock ys_mem_179987;
    
    ys_mem_179987.references = NULL;
    
    struct memblock is_mem_179986;
    
    is_mem_179986.references = NULL;
    incr_107813 = in0;
    block_sizze_107814 = in1;
    is_mem_179986 = in2->mem;
    n_107812 = in2->shape[0];
    ys_mem_179987 = in3->mem;
    n_107812 = in3->shape[0];
    if (!(n_107812 == in2->shape[0] && n_107812 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_short(ctx, &mem_out_181400, is_mem_179986, ys_mem_179987, n_107812, incr_107813, block_sizze_107814);
        if (ret == 0) {
            assert((*out0 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->mem = mem_out_181400;
            (*out0)->shape[0] = n_107812;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const int16_t in1, const struct futhark_f64_1d *in2)
{
    int64_t n_95734 = (int64_t) 0;
    int64_t incr_95735 = (int64_t) 0;
    int16_t block_sizze_95736 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    struct memblock xs_mem_179986;
    
    xs_mem_179986.references = NULL;
    incr_95735 = in0;
    block_sizze_95736 = in1;
    xs_mem_179986 = in2->mem;
    n_95734 = in2->shape[0];
    if (!(n_95734 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_double(ctx, &mem_out_181400, &mem_out_181401, xs_mem_179986, n_95734, incr_95735, block_sizze_95736);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_double *) malloc(sizeof(struct futhark_opaque_sortInfo_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181400;
            (*out0)->v0->shape[0] = n_95734;
            assert(((*out0)->v1 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181401;
            (*out0)->v1->shape[0] = n_95734;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const int16_t in1, const struct futhark_f32_1d *in2)
{
    int64_t n_92979 = (int64_t) 0;
    int64_t incr_92980 = (int64_t) 0;
    int16_t block_sizze_92981 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    struct memblock xs_mem_179986;
    
    xs_mem_179986.references = NULL;
    incr_92980 = in0;
    block_sizze_92981 = in1;
    xs_mem_179986 = in2->mem;
    n_92979 = in2->shape[0];
    if (!(n_92979 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_float(ctx, &mem_out_181400, &mem_out_181401, xs_mem_179986, n_92979, incr_92980, block_sizze_92981);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_float *) malloc(sizeof(struct futhark_opaque_sortInfo_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181400;
            (*out0)->v0->shape[0] = n_92979;
            assert(((*out0)->v1 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181401;
            (*out0)->v1->shape[0] = n_92979;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const int16_t in1, const struct futhark_i32_1d *in2)
{
    int64_t n_87628 = (int64_t) 0;
    int64_t incr_87629 = (int64_t) 0;
    int16_t block_sizze_87630 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    struct memblock xs_mem_179986;
    
    xs_mem_179986.references = NULL;
    incr_87629 = in0;
    block_sizze_87630 = in1;
    xs_mem_179986 = in2->mem;
    n_87628 = in2->shape[0];
    if (!(n_87628 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_int(ctx, &mem_out_181400, &mem_out_181401, xs_mem_179986, n_87628, incr_87629, block_sizze_87630);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_int *) malloc(sizeof(struct futhark_opaque_sortInfo_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181400;
            (*out0)->v0->shape[0] = n_87628;
            assert(((*out0)->v1 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181401;
            (*out0)->v1->shape[0] = n_87628;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const int16_t in1, const struct futhark_i64_1d *in2)
{
    int64_t n_90228 = (int64_t) 0;
    int64_t incr_90229 = (int64_t) 0;
    int16_t block_sizze_90230 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    struct memblock xs_mem_179986;
    
    xs_mem_179986.references = NULL;
    incr_90229 = in0;
    block_sizze_90230 = in1;
    xs_mem_179986 = in2->mem;
    n_90228 = in2->shape[0];
    if (!(n_90228 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_long(ctx, &mem_out_181400, &mem_out_181401, xs_mem_179986, n_90228, incr_90229, block_sizze_90230);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_long *) malloc(sizeof(struct futhark_opaque_sortInfo_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181400;
            (*out0)->v0->shape[0] = n_90228;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181401;
            (*out0)->v1->shape[0] = n_90228;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const int16_t in1, const struct futhark_i16_1d *in2)
{
    int64_t n_85011 = (int64_t) 0;
    int64_t incr_85012 = (int64_t) 0;
    int16_t block_sizze_85013 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181401;
    
    mem_out_181401.references = NULL;
    
    struct memblock mem_out_181400;
    
    mem_out_181400.references = NULL;
    
    struct memblock xs_mem_179986;
    
    xs_mem_179986.references = NULL;
    incr_85012 = in0;
    block_sizze_85013 = in1;
    xs_mem_179986 = in2->mem;
    n_85011 = in2->shape[0];
    if (!(n_85011 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_short(ctx, &mem_out_181400, &mem_out_181401, xs_mem_179986, n_85011, incr_85012, block_sizze_85013);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_short *) malloc(sizeof(struct futhark_opaque_sortInfo_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181400;
            (*out0)->v0->shape[0] = n_85011;
            assert(((*out0)->v1 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181401;
            (*out0)->v1->shape[0] = n_85011;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
  
